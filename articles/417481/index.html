<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About generators in javascript es6 and why it‚Äôs not necessary to study them</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With the growing popularity of the async / await construction, the interest in its internal mechanisms is growing. Having rummaged in the Internet, it...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About generators in javascript es6 and why it‚Äôs not necessary to study them</h1><div class="post__text post__text-html js-mediator-article">  With the growing popularity of the async / await construction, the interest in its internal mechanisms is growing.  Having rummaged in the Internet, it is easy to find out that async / await is based on well-known promises, and generators, which are much less well-known and popular. <br><br> <a href="https://habr.com/company/ruvds/blog/417481/"><img src="https://habrastorage.org/webt/fp/o_/-_/fpo_-_lim_hui5egk667ccrphyy.png"></a> <br><br>  The material, the translation of which we are publishing today, is devoted to generators.  Namely, here we will talk about how they work, and how they, together with promises, are used in the depths of the async / await construction.  The author of this article says that generators, for the sake of their practical application, are not necessary to master.  In addition, he notes that he expects that the reader is a little versed in promises. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Iterators and Generators</font> </h2><br>  In JavaScript, starting with the release of the ES6 standard, several new features have appeared that are aimed at simplifying work with asynchronous data streams and collections.  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators">Iterators and generators</a> fall into this category. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A remarkable feature of the iterators is that they provide the means to access the elements of collections one at a time, while still being able to track the identifier of the current element. <br><br><pre><code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeIterator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array)</span></span></span></span> {  var nextIndex = <span class="hljs-number"><span class="hljs-number">0</span></span>;  console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-string"><span class="hljs-string">"nextIndex =&gt;"</span></span>, nextIndex);  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {    <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> nextIndex &lt; array.length        ? { value: array[nextIndex++], done: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }        : { done: <span class="hljs-literal"><span class="hljs-literal">true</span></span> };    }  }; } var it = makeIterator([<span class="hljs-string"><span class="hljs-string">"simple"</span></span>, <span class="hljs-string"><span class="hljs-string">"iterator"</span></span>]); console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(it.<span class="hljs-built_in"><span class="hljs-built_in">next</span></span>()); // {value: <span class="hljs-string"><span class="hljs-string">'simple, done: false} console.log(it.next()); // {value: '</span></span>iterator, done: <span class="hljs-literal"><span class="hljs-literal">false</span></span>} console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(it.<span class="hljs-built_in"><span class="hljs-built_in">next</span></span>()); // {done: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}</code> </pre> <br>  Above, we pass to the <code>makeIterator()</code> function a small array containing a couple of elements, and then we go through it using an iterator, calling the <code>it.next()</code> method.  Pay attention to the comments demonstrating the results obtained using the iterator. <br><br>  Now let's talk about the generators.  Generators are functions that work as iterator factories.  Consider a simple example, and then talk about two mechanisms related to generators. <br><br><pre> <code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-built_in"><span class="hljs-built_in">yield</span></span> <span class="hljs-string"><span class="hljs-string">"simple"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">yield</span></span> <span class="hljs-string"><span class="hljs-string">"generator"</span></span>; } var it = sample(); console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(it.<span class="hljs-built_in"><span class="hljs-built_in">next</span></span>()); // {value: <span class="hljs-string"><span class="hljs-string">'simple, done: false} console.log(it.next()); // {value: '</span></span>generator, done: <span class="hljs-literal"><span class="hljs-literal">false</span></span>} console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(it.<span class="hljs-built_in"><span class="hljs-built_in">next</span></span>()); // {value: undefined, done: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}</code> </pre> <br>  Pay attention to the asterisk in the function declaration.  This indicates that this function is a generator.  Also, take a look at the <code>yield</code> keyword.  It pauses the execution of the function and returns some value.  Actually, these two features are the very two mechanisms that we talked about above: <br><br><ul><li>  A generator function is a function declared using an asterisk <a href="http://2ality.com/2014/08/formatting-generator-asterisk.html">near the</a> <code>function</code> keyword or around the function name. </li><li>  A generator iterator is created when a generator function is called. </li></ul><br>  In general, the above example demonstrates the work of a factory function that generates iterators. <br><br>  Now that we have the basics, let's talk about more interesting things.  Iterators and generators can exchange data in two directions.  Namely, generators, using the <code>yield</code> keyword, can return values ‚Äã‚Äãto iterators, however, iterators can also send data to generators using the <code>iterator.next('someValue')</code> method.  Here's what it looks like. <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span>* favBeer() { const reply = yield "What is your favorite type of beer?"; console.log(reply); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (reply !== "ipa") <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> "No soup for you!"; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> "OK, soup."; } { const it = favBeer(); const q = it.next().<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; //    console.log(q); const a = it.next("lager").<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; //     console.log(a); } // What <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> your favorite beer? // lager // <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> soup <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> you! { const it = favBeer(); const q = it.next().<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; //    console.log(q); const a = it.next("ipa").<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; //     console.log(a); } // What <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> your favorite been? // ipa // OK, soup.</code> </pre> <br><h2>  <font color="#3AC1EF">Generators and promises</font> </h2><br>  Now we can talk about how generators and promises form the basis of the async / await construction.  Imagine that instead of returning certain values ‚Äã‚Äãwith the <code>yield</code> keyword, the generator returns promises.  In this situation, the generator can be wrapped in a function that will wait for promise resolution and return the value of the promise to the generator in the <code>.next()</code> method, as shown in the previous example.  There is a popular library, <a href="https://github.com/tj/co">co</a> , which performs just such actions.  It looks like this: <br><br><pre> <code class="hljs javascript">co(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doStuff</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result - <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> someAsyncMethod(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> another = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> anotherAsyncFunction(); });</code> </pre> <br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  According to the author of this material, JS developers need to know how generators work, just to understand the features of the internal structure of the async / await structure.  But you should not use them directly in your own code.  Generators injected into JavaScript the ability to suspend the execution of the function and return to it when (and if) the developer deems it necessary.  Until now, we, working with JS-functions, expected that they, being called, are simply executed from start to finish.  The ability to suspend them is already something new, but this functionality is conveniently implemented in the async / await construction. <br><br>  With this opinion, of course, it is possible to argue.  For example, one of the arguments in favor of generators is that knowledge of how they work is useful for debugging code with async / await, since generators are hidden inside this construct.  However, the author of the material believes that it is, nevertheless, something other than the use of generators in your own code. <br><br>  <b>Dear readers!</b>  What do you think about generators?  Maybe you know some options for their use, which justify their direct use in the code of JS-projects? <br><br>  Royal promo code for a 10% discount on our virtual servers: <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/webt/qk/au/oy/qkauoyb4porqes9wmm3jofcs3bg.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/417481/">https://habr.com/ru/post/417481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../417471/index.html">Simple Solder MK936 SMD. DIY soldering station on SMD components</a></li>
<li><a href="../417473/index.html">Secure storage with DRBD9 and Proxmox (Part 1: NFS)</a></li>
<li><a href="../417475/index.html">Glusterfs + erasure coding: when you need a lot, cheap and reliable</a></li>
<li><a href="../417477/index.html">Hot workplace (Hot desking)</a></li>
<li><a href="../417479/index.html">Accelerate do-it-yourself string concatenation</a></li>
<li><a href="../417483/index.html">Comparing JS frameworks: React, Vue and Hyperapp</a></li>
<li><a href="../417485/index.html">[bookmark] Cheat system administrator for Linux network tools</a></li>
<li><a href="../417487/index.html">The place where the Russian Internet started</a></li>
<li><a href="../417489/index.html">Report of the Club of Rome 2018, Chapter 3.4: ‚ÄúDecentralized Energy‚Äù</a></li>
<li><a href="../417493/index.html">How to compress bootloader for STM8 to 18 bytes in FLASH memory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>