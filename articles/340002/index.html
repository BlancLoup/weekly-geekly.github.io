<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to frequently used features of ES6. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This publication is a translation of the article ‚ÄúIntroduction to commonly used ES6 features‚Äù by Zell Liew posted here . The translation is divided in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to frequently used features of ES6. Part 1</h1><div class="post__text post__text-html js-mediator-article"><p>  <i>This publication is a translation of the article ‚ÄúIntroduction to commonly used ES6 features‚Äù by Zell Liew posted</i> <a href="https://zellwk.com/blog/es6/"><i>here</i></a> <i>.</i>  <i>The translation is divided into 2 parts.</i>  <i>The translation of the 2nd part is</i> <a href="https://habrahabr.ru/post/341500/"><i>here</i></a> . </p><br><p>  JavaScript has seriously evolved in the last few years.  If you are learning a language in 2017 and are not concerned with ECMAScript 6 (ES6), then you miss the easy way to read and write on it. </p><br><p>  Do not worry if you are not a proficient language.  You do not need to know him perfectly to take advantage of the ‚Äúbonuses‚Äù added to ES6.  In this article, I would like to share eight features of ES6 that I use every day as a developer, which will help you more easily immerse yourself in the new syntax. </p><br><a name="habracut"></a><br><p>  <i>Translator‚Äôs note: the article presents seven features (‚ÄúPromises‚Äù are discussed in a separate article).</i> </p><br><h2>  List of ES6 features </h2><br><p>  First, ES6 is a huge JavaScript update.  Here is a <a href="https://github.com/lukehoban/es6features">large list of features</a> (thanks, Luke Hoban), if you are interested in what innovations have appeared: </p><br><ul><li>  Arrow functions </li><li>  Classes </li><li>  Extended Object Literals </li><li>  Pattern lines </li><li>  Destructuring </li><li>  Default + rest + spread </li><li>  let + const </li><li>  Iterators + for..of </li><li>  Generators </li><li>  Unicode add-ons </li><li>  Modules </li><li>  Module Loaders </li><li>  Types of collections Map + set + weakmap + weakset </li><li>  Proxy </li><li>  Symbols data type </li><li>  Subclassing </li><li>  Promises </li><li>  Math + number + string + array + object api </li><li>  Binary and octal literals </li><li>  Reflect api </li><li>  Tail calls </li></ul><br><p>  Do not be afraid of such a large list of features of ES6.  You are not required to know everything at once.  Next, I will share eight features that apply every day.  These include: </p><br><ol><li>  let + const </li><li>  Arrow functions </li><li>  Default parameters </li><li>  Destructuring </li><li>  Rest parameter and spread operator </li><li>  Extended Object Literals </li><li>  Pattern lines </li><li>  Promises </li></ol><br><p>  By the way, browsers support ES6 very well.  <a href="https://kangax.github.io/compat-table/es6/">Almost all features are provided natively</a> if you write code for the latest browser versions (Edge, latest versions of FF, Chrome, and Safari). </p><br><p>  Writing code on ES6 does not need a tool like Webpack.  In the absence of support by the browser, you can always refer to the polyfill created by the community.  Googling is enough. </p><br><p>  So, we proceed to the first feature. </p><br><h2>  Let and const </h2><br><p> In ES5 (‚Äúold‚Äù JavaScript), it was customary to declare variables through the <code>var</code> keyword.  In ES6, this word can be replaced by <code>let</code> and <code>const</code> , two powerful keywords that make development easier. </p><br><p>  First, we draw attention to the difference between <code>let</code> and <code>var</code> , in order to understand why <code>let</code> and <code>const</code> better. </p><br><h3>  Let vs var </h3><br><p>  First, consider the <code>var</code> we are familiar with. </p><br><p>  First, we can declare variables through the <code>var</code> keyword.  Once the declaration has occurred, the variable can be used anywhere in the current scope. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> me = <span class="hljs-string"><span class="hljs-string">'Zell'</span></span> ; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(me); <span class="hljs-comment"><span class="hljs-comment">// Zell</span></span></code> </pre><br><p>  In the example above, the global variable <code>me</code> declared.  This variable can also be used in a function.  For example: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> me = <span class="hljs-string"><span class="hljs-string">'Zell'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sayMe</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(me); } sayMe(); <span class="hljs-comment"><span class="hljs-comment">// Zell</span></span></code> </pre><br><p>  However, the reverse is not true.  If a variable is declared in a function, it will be impossible to use it outside the function. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sayMe</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> me = <span class="hljs-string"><span class="hljs-string">'Zell'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(me); } sayMe(); <span class="hljs-comment"><span class="hljs-comment">// Zell console.log(me); // Uncaught ReferenceError: me is not defined</span></span></code> </pre><br><p>  So, we can say that <code>var</code> <b>‚Äúfunctional‚Äù</b> scope.  This means that whenever a variable is declared with a <code>var</code> in a function, it will exist only within the function. </p><br><p>  If a variable is created outside the function, it will exist in the outer scope. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> me = <span class="hljs-string"><span class="hljs-string">'Zell'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    function sayMe () { var me = 'Sleepy head'; //    console.log(me); } sayMe(); // Sleepy head console.log(me); // Zell</span></span></code> </pre><br><p>  In <code>let</code> , on the other hand, the scope is <b>‚Äúblock‚Äù</b> .  This means that whenever a variable is declared with let, it will only exist within the block. </p><br><p>  Wait, but what does ‚Äúblock‚Äù mean? </p><br><p>  A block in JavaScript is what is inside a pair of curly braces.  The following are examples of blocks: </p><br><pre> <code class="javascript hljs">{ <span class="hljs-comment"><span class="hljs-comment">//   } if (true) { //   } while (true) { //   } function () { //   }</span></span></code> </pre><br><p>  The difference between variables declared ‚Äúblock‚Äù and ‚Äúfunctionally‚Äù is huge.  When declaring a variable ‚Äúfunctionally,‚Äù in the future, you can randomly rewrite the value of this variable.  Below is an example: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> me = <span class="hljs-string"><span class="hljs-string">'Zell'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> me = <span class="hljs-string"><span class="hljs-string">'Sleepy head'</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(me); <span class="hljs-comment"><span class="hljs-comment">// 'Sleepy head'</span></span></code> </pre><br><p>  This example shows that the value of <code>me</code> becomes <code>'Sleepy head'</code> after executing the code inside the <code>if</code> block.  Such an example, most likely, will not cause any problems, since  it is unlikely that variables with the same name will be declared. </p><br><p>  However, anyone who will work with <code>var</code> through a <code>for</code> loop may end up in a strange situation because of the way variables are declared.  Imagine the following code, which displays the variable <code>i</code> four times, and then outputs <code>i</code> using the <code>setTimeout</code> function. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i); setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i); }, <span class="hljs-number"><span class="hljs-number">1000</span></span>) };</code> </pre><br><p>  What result can I expect when executing this code?  Below is what actually happens: </p><br><p><img src="https://habrastorage.org/webt/59/df/e1/59dfe165e356f212511415.png"></p><br><p>  <i>i</i> <i>will be displayed four times with the value "5" in the timer function</i> </p><br><p>  How did <code>i</code> get the value ‚Äú5‚Äù four times inside the timer?  This is because <code>var</code> defines the variable "functionally", and the value of <code>i</code> becomes equal to "4" even before the timer starts to run. </p><br><p>  In order to get the correct value of <code>i</code> inside <code>setTimeout</code> , which will be executed later, you need to create another function, say <code>logLater</code> , to ensure that the value of <code>i</code> does not change in the <code>for</code> loop before you start running <code>setTimeout</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">logLater</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">) </span></span>{ setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i); }); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i); logLater(i); };</code> </pre><br><p><img src="https://habrastorage.org/webt/59/df/e1/59dfe1e7bd99c968805168.png"></p><br><p>  <i>i is</i> <i>correctly displayed as 1, 2, 3 and 4</i> </p><br><p>  By the way, this is called closure. </p><br><p>  The good news is that the "weirdness" of the "functionally" defined scope, shown in the for example with the <code>for</code> loop, does not happen with <code>let</code> .  The same example with a timer can be rewritten so that it will work without adding additional functions: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i); setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i); }, <span class="hljs-number"><span class="hljs-number">1000</span></span>); };</code> </pre><br><p><img src="https://habrastorage.org/webt/59/df/e1/59dfe1e7bd99c968805168.png"></p><br><p>  <i>i is</i> <i>correctly displayed as 1, 2, 3 and 4</i> </p><br><p>  As you can see, the ‚Äúblock‚Äù declared variables, bypassing the shortcomings of the ‚Äúfunctionally‚Äù declared variables, greatly simplify development.  For simplicity, I advise you to use <code>let</code> instead of <code>var</code> from this point on every time you need to declare variables in JavaScript. </p><br><p>  Having understood what makes a <code>let</code> , consider the difference between <code>let</code> and <code>const</code> . </p><br><h3>  Let vs const </h3><br><p>  Like <code>let</code> , <code>const</code> also has a ‚Äúblock‚Äù defined scope.  The difference is that the value of <code>const</code> cannot be changed after the announcement. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = <span class="hljs-string"><span class="hljs-string">'Zell'</span></span>; name = <span class="hljs-string"><span class="hljs-string">'Sleepy head'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// TypeError: Assignment to constant variable. let name1 = 'Zell'; name1 = 'Sleepy head'; console.log(name1); // 'Sleepy head'</span></span></code> </pre><br><p>  Since <code>const</code> cannot be changed, it can be used <b>for variables that will not change</b> . </p><br><p>  Suppose there is a button on the site that launches a modal window, and we know that this button is one and will not change.  In this case, use <code>const</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> modalLauncher = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.jsModalLauncher'</span></span>);</code> </pre><br><p>  When declaring variables, always give preference to <code>const</code> instead of <code>let</code> , because  get an additional mark that the variable will not be reassigned.  <b>For other cases,</b> use <code>let</code> . </p><br><p>  <i>Next, consider the arrow function.</i> </p><br><h2>  Arrow functions </h2><br><p>  Arrow functions are indicated by an arrow (=&gt;), which can be seen everywhere in the code on ES6.  This abbreviation is used to create anonymous functions.  They can be used wherever the <code>function</code> keyword is present.  For example: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> array = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">98</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// ES5  var moreThan20 = array.filter(function (num) { return num &gt; 20; }); // ES6  let moreThan20 = array.filter(num =&gt; num &gt; 20);</span></span></code> </pre><br><p>  Arrow functions are quite convenient, since  with their help, you can reduce the code, thereby reducing the places where errors can be hidden.  Also, the code written on them is easier to understand if you are familiar with their syntax. </p><br><p>  Consider the switch functions closer to learn to recognize and use them. </p><br><h3>  Learn more about switch functions. </h3><br><p>  First, pay attention to the creation of functions. </p><br><p>  In JavaScript, it is probably customary to create functions in the following way: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">namedFunction</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   } //   namedFunction();</span></span></code> </pre><br><p>  The second way to create functions is associated with writing an anonymous function and assigning it to a variable.  To create an anonymous function, you must remove its name from the function declaration. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> namedFunction = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre><br><p>  The third way to create functions is to pass them directly as an argument to another function or method.  This method is most common for anonymous functions.  Below is an example: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   callback- button.addEventListener('click', function() { //   });</span></span></code> </pre><br><p>  Since the arrow functions in ES6 are an abbreviation for anonymous functions, they can be implemented anywhere anonymous functions are created. </p><br><p>  Below is what it looks like: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   const namedFunction = function (arg1, arg2) { /* do your stuff */} //   const namedFunction2 = (arg1, arg2) =&gt; {/* do your stuff */} // callback   button.addEventListener('click', function () { //   }) // callback   button.addEventListener('click', () =&gt; { //   })</span></span></code> </pre><br><p>  Notice the similarities?  Essentially, remove the <code>function</code> keyword and replace it with an arrow =&gt; in a slightly different place. </p><br><p>  So what is the essence of the switch functions?  Only in replacing <code>function</code> with =&gt;? </p><br><p>  In fact, it‚Äôs not just a matter of replacing <code>function</code> with =&gt;.  The syntax of the arrow function can be changed depending on two factors: </p><br><ol><li>  required <b>number of arguments</b> </li><li>  need for <b>implicit return</b> </li></ol><br><p>  The <b>first factor</b> is the <b>number of arguments</b> passed to the arrow function.  If only one argument is passed, you can omit the parentheses in which the arguments are enclosed.  If no arguments are required, then the parentheses can be replaced with underscore <code>_</code> . </p><br><p>  All of the following examples are valid arrow functions. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> zeroArgs = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> zeroWithUnderscore = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_</span></span></span><span class="hljs-function"> =&gt;</span></span> {<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oneArg = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg1</span></span></span><span class="hljs-function"> =&gt;</span></span> {<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oneArgWithParenthesis = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg1</span></span></span><span class="hljs-function">) =&gt;</span></span> {<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> manyArgs = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg1, arg2</span></span></span><span class="hljs-function">) =&gt;</span></span> {<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>}</code> </pre><br><p>  The <b>2nd factor</b> is the need for an <b>implicit return</b> .  Arrow functions, by default, automatically create the return keyword if the <b>code is one line</b> and <b>not wrapped in curly brackets {}</b> . </p><br><p>  So, below are two equivalent examples: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sum1 = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num1, num2</span></span></span><span class="hljs-function">) =&gt;</span></span> num1 + num2 <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sum2 = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num1, num2</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> num1 + num2 }</code> </pre><br><p>  These two factors can serve as a basis for reducing the code as with <code>moreThan20</code> , which was presented above: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> array = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">98</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// ES5  var moreThan20 = array.filter(function (num) { return num &gt; 20; }); // ES6  let moreThan20 = array.filter(num =&gt; num &gt; 20);</span></span></code> </pre><br><p>  In conclusion, the switch functions are pretty good.  Having spent a little time and experienced them, you can get used to them and use them everywhere. </p><br><p>  Before you join the "supporters" of the switch functions, let's get acquainted with another feature of them, which causes a lot of confusion, namely the <b>lexical</b> <code>this</code> . </p><br><h3>  Lexical this </h3><br><p>  <code>this</code> is a unique keyword whose value changes depending on the context of the call.  When called outside of the function, <code>this</code> refers to the <code>Window</code> object in the browser. </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Window</span></span></code> </pre><br><p><img src="https://habrastorage.org/webt/59/df/e3/59dfe3656eebd255744156.png"></p><br><p>  When <code>this</code> called through a <b>simple function,</b> it refers to a global object.  In the case of browsers, <code>this</code> will always be <code>Window</code> . </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hello</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } hello(); <span class="hljs-comment"><span class="hljs-comment">// Window</span></span></code> </pre><br><p>  JavaScript always sets <code>this</code> browser window when calling a simple function.  In turn, this explains the fact that <code>this</code> in the timer functions of the type <code>setTimeout</code> points to <code>Window</code> . </p><br><p>  When you call <code>this</code> in an <b>object method</b> , it refers to the object itself: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> o = { <span class="hljs-attr"><span class="hljs-attr">sayThis</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } } o.sayThis(); <span class="hljs-comment"><span class="hljs-comment">// o</span></span></code> </pre><br><p><img src="https://habrastorage.org/webt/59/df/e3/59dfe3b4529dd189269177.png"></p><br><p>  When you call a <b>constructor function,</b> <code>this</code> refers to the <b>constructed object</b> . </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">age</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.age = age; } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> greg = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-number"><span class="hljs-number">22</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> thomas = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-number"><span class="hljs-number">24</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(greg); <span class="hljs-comment"><span class="hljs-comment">// this.age = 22 console.log(thomas); // this.age = 24</span></span></code> </pre><br><p><img src="https://habrastorage.org/webt/59/df/e4/59dfe401d4edd387040924.png"></p><br><p>  When used in the event handler, <code>this</code> refers to the element that triggered the event. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> button = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); button.addEventListener(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-comment"><span class="hljs-comment">// button });</span></span></code> </pre><br><p>  As you can see from the situations above, the value of <code>this</code> is determined by the function that calls it.  Each function sets its own value of <code>this</code> . </p><br><p>  In the <b>switch functions,</b> <code>this</code> <b>never acquires a new value</b> regardless of how the function is called.  <code>this</code> will always have the same value as <code>this</code> in the code surrounding the switch function.  By the way, lexical means referring (related), because of what, as I believe, lexical <code>this</code> and got its name. </p><br><p>  So, it sounds confusing, so consider a few real-life examples. </p><br><p>  First, <b>do not use the arrow functions to declare the methods of objects</b> , since  if necessary, you can no longer refer to the object through <code>this</code> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> o = { <span class="hljs-comment"><span class="hljs-comment">//   notThis: () =&gt; { console.log(this); // Window this.objectThis(); // Uncaught TypeError: this.objectThis is not a function }, //   objectThis: function () { console.log(this); // o } //      objectThis2 () { console.log(this); // o } }</span></span></code> </pre><br><p>  Second, the arrow functions <i>may not be suitable</i> for creating event handlers, since  <code>this</code> will no longer be assigned to the element to which the event handler is attached. </p><br><p>  However, you can always get the right context for <code>this</code> through <code>event.currentTarget</code> .  For this reason, it has been said that " <i>they may not be suitable</i> ." </p><br><pre> <code class="javascript hljs">button.addEventListener(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-comment"><span class="hljs-comment">// button }); button.addEventListener('click', e =&gt; { console.log(this); // Window console.log(event.currentTarget); // button });</span></span></code> </pre><br><p>  Thirdly, the lexical <code>this</code> can be used in situations where the <code>this</code> binding can suddenly change.  An example is the timer function, in which you will not have to deal with <code>this</code> , <code>that</code> or <code>self</code> nonsense. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> o = { <span class="hljs-comment"><span class="hljs-comment">//   oldDoSthAfterThree: function () { let that = this; setTimeout(function () { console.log(this); // Window console.log(that); // o }) }, //     doSthAfterThree: function () { setTimeout(() =&gt; { console.log(this); // o }, 3000) } }</span></span></code> </pre><br><p>  Such an application is especially useful if you need to add or remove a class after some time: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> o = { <span class="hljs-attr"><span class="hljs-attr">button</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); endAnimation: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.button.classList.add(<span class="hljs-string"><span class="hljs-string">'is-closing'</span></span>); setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.button.classList.remove(<span class="hljs-string"><span class="hljs-string">'is-closing'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.button.classList.remove(<span class="hljs-string"><span class="hljs-string">'is-open'</span></span>); }, <span class="hljs-number"><span class="hljs-number">3000</span></span>) } }</code> </pre><br><p>  <code>moreThan20</code> , use the arrow functions everywhere for the purity and brevity of the code, as in the example above with <code>moreThan20</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> array = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">98</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> moreThan20 = array.filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num</span></span></span><span class="hljs-function"> =&gt;</span></span> num &gt; <span class="hljs-number"><span class="hljs-number">20</span></span>);</code> </pre><br><h2>  Default settings </h2><br><p>  The default parameters in ES6 allow you to set default parameters when creating functions.  Consider an example to see how useful this is. </p><br><p>  Create a function that reads the name of the team player.  If you write this function on ES5, you get: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">announcePlayer</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">firstName, lastName, teamName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(firstName + <span class="hljs-string"><span class="hljs-string">' '</span></span> + lastName + <span class="hljs-string"><span class="hljs-string">', '</span></span> + teamName); } announcePlayer(<span class="hljs-string"><span class="hljs-string">'Stephen'</span></span>, <span class="hljs-string"><span class="hljs-string">'Curry'</span></span>, <span class="hljs-string"><span class="hljs-string">'Golden State Warriors'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Stephen Curry, Golden State Warriors</span></span></code> </pre><br><p>  At first glance, it seems that the code is all right.  However, suddenly it will be necessary to announce a player who is not a member of any team? </p><br><p>  The current code simply does not cope with the task, if you skip <code>teamName</code> : </p><br><pre> <code class="javascript hljs">announcePlayer(<span class="hljs-string"><span class="hljs-string">'Zell'</span></span>, <span class="hljs-string"><span class="hljs-string">'Liew'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Zell Liew, undefined</span></span></code> </pre><br><p>  Obviously, <code>undefined</code> is not a command name. </p><br><p>  If a player does not belong to any of the teams, then the announcement of <code>Zell Liew, unaffiliated</code> will make more sense than <code>Zell Liew, undefined</code> .  I agree? </p><br><p>  To <code>announcePlayer</code> announce <code>Zell Liew, unaffiliated</code> , perhaps, as an option, pass the line <code>unaffiliated</code> instead of <code>teamName</code> : </p><br><pre> <code class="javascript hljs">announcePlayer(<span class="hljs-string"><span class="hljs-string">'Zell'</span></span>, <span class="hljs-string"><span class="hljs-string">'Liew'</span></span>, <span class="hljs-string"><span class="hljs-string">'unaffiliated'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Zell Liew, unaffiliated</span></span></code> </pre><br><p>  Although this approach works, it is better to make an improvement to <code>announcePlayer</code> by checking the availability of <code>teamName</code> . </p><br><p>  In ES5, the refactored code would be: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">announcePlayer</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">firstName, lastName, teamName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!teamName) { teamName = <span class="hljs-string"><span class="hljs-string">'unaffiliated'</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(firstName + <span class="hljs-string"><span class="hljs-string">' '</span></span> + lastName + <span class="hljs-string"><span class="hljs-string">', '</span></span> + teamName); } announcePlayer(<span class="hljs-string"><span class="hljs-string">'Zell'</span></span>, <span class="hljs-string"><span class="hljs-string">'Liew'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Zell Liew, unaffiliated announcePlayer('Stephen', 'Curry', 'Golden State Warriors'); // Stephen Curry, Golden State Warriors</span></span></code> </pre><br><p>  Or, if you know ternary operators, you can choose a shorter version: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">announcePlayer</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">firstName, lastName, teamName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> team = teamName ? teamName : <span class="hljs-string"><span class="hljs-string">'unaffiliated'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(firstName + <span class="hljs-string"><span class="hljs-string">' '</span></span> + lastName + <span class="hljs-string"><span class="hljs-string">', '</span></span> + team); }</code> </pre><br><p>  In ES6, using the default parameters, you can add an equals sign = whenever you specify a parameter.  With this approach, ES6 automatically assigns a default value when the parameter is not defined. </p><br><p>  So in the code below, when <code>teamName</code> not defined, then <code>teamName</code> accepts the default <code>unaffiliated</code> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> announcePlayer = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">firstName, lastName, teamName = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'unaffiliated'</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(firstName + <span class="hljs-string"><span class="hljs-string">' '</span></span> + lastName + <span class="hljs-string"><span class="hljs-string">', '</span></span> + teamName); } announcePlayer(<span class="hljs-string"><span class="hljs-string">'Zell'</span></span>, <span class="hljs-string"><span class="hljs-string">'Liew'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Zell Liew, unaffiliated announcePlayer('Stephen', 'Curry', 'Golden State Warriors'); // Stephen Curry, Golden State Warriors</span></span></code> </pre><br><p>  Convenient, isn't it? </p><br><p>  Pay attention to another point.  If you want to activate the default value, you can pass <code>undefined</code> manually.  Such a manual transfer <code>undefined</code> is in place when the default parameter is not the last argument of the function. </p><br><pre> <code class="javascript hljs">announcePlayer(<span class="hljs-string"><span class="hljs-string">'Zell'</span></span>, <span class="hljs-string"><span class="hljs-string">'Liew'</span></span>, <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Zell Liew, unaffiliated</span></span></code> </pre><br><p>  The above is what you need to know about the default settings.  Simple enough and very convenient. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/340002/">https://habr.com/ru/post/340002/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339992/index.html">We enter on ‚ÄúMy Circle‚Äù a search for candidates by ‚ÄúHabrahabra‚Äù users</a></li>
<li><a href="../339994/index.html">Flowers, fly and well rehearsed random machine learning</a></li>
<li><a href="../339996/index.html">Ama. Avito. Backend</a></li>
<li><a href="../339998/index.html">TeaVM - a tool to create a web frontend for Java, Kotlin and Scala</a></li>
<li><a href="../340000/index.html">Evil XML with two encodings</a></li>
<li><a href="../340006/index.html">And how do you create singletons in ruby?</a></li>
<li><a href="../340008/index.html">Security Week 41: Accenture has posted all on Amazon, a year of malvertization on Pornhub, a fresh attack on Office</a></li>
<li><a href="../340010/index.html">CRI-O - Docker alternative to launch containers in Kubernetes</a></li>
<li><a href="../340014/index.html">C ++ 17</a></li>
<li><a href="../340016/index.html">Social networks - will help or hinder when looking for a job?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>