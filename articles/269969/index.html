<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AudioCodes SBC performance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day everyone! AudioCodes has a certain number of SBC models, each of which has a specific performance. I will not rewrite our brochures, which de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AudioCodes SBC performance</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/a4c/5df/d90/a4c5dfd906d44dc683537e9cf069e339.PNG"><br>  Good day everyone!  AudioCodes has a certain number of SBC models, each of which has a specific performance.  I will not rewrite our brochures, which describe the characteristics, as this information is freely available on our website.  This article will detail the results of testing AudioCodes independent company Miercom, which specializes in conducting independent testing.  This company has tested almost all leading manufacturers of SBC.  Review test result read under the cut. <br><a name="habracut"></a><br>  The most productive SBC models came under testing, namely: Mediant 4000 (supports up to 5000 simultaneous connections), Mediant 9000 (also known as software SBC, supporting up to 24,000 simultaneous connections) and Virtual SBC (supporting up to 6000 simultaneous connections).  Virtual SBC worked on the VMWare platform.  The test results in the original in English are available here. <br><br>  On the <a href="http://www.miercom.com/">Miercom</a> website, this result is available only to registered users. <br><br>  On an alternative source (does not require registration): <a href="https://drive.google.com/open%3Fid%3D0B6bV8ycx3p_4dFk3M0RFUmozeGs">download link</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Testing was carried out not only by the number of sessions, but also by many performance parameters: <br>  The number of simultaneous connections with the manipulation of SIP headers, SIP UDP &lt;-&gt; SIP TCP transforms, encryption, transcoding of various codecs, WebRTC, etc. <br><br><img src="https://habrastorage.org/files/bb2/2d1/5ab/bb22d15ab0d443ca8c62b8f4f2892d26.PNG"><br><br>  The first test was carried out on the performance of the signaling sessions without regard to voice traffic proxying.  The result of this test: maximum performance with SIP + SIP UDP conversion &lt;-&gt; SIP TCP Mediant 9000 / VE is 32000 signaling sessions + 500 CPS (Call Per Seconds - call attempts per second. For Mediant 4000, the value is lower, namely 5000 signaling sessions + 120 CPS. But here we must immediately note that signaling sessions mean one call without proxying voice traffic. Actually, because of this, the Mediant 9000 / VE had better results than what we write officially, since all brochures contain data by performance taking into account proxied  I voice traffic should be noted that during testing SBC made the following manipulations:. Remove the field SIP, SIP added field modified SIP field and converts SIP UDP in the TCP SIP and vice versa. <br><table><tbody><tr><th><img src="https://habrastorage.org/files/efc/963/62d/efc96362da5b4d6c87b164a19c09aecd.PNG"><br></th><th><img src="https://habrastorage.org/files/242/b6e/955/242b6e9555f5408988a7fa20115ee2f3.PNG"><br></th><th><img src="https://habrastorage.org/files/8e9/7ac/57a/8e97ac57ac324d6392983ebbf8d4102d.PNG"><br></th></tr></tbody></table><br>  A separate item is testing the highest load.  The idea is that with a normal increase in traffic (for Mediant 4000 - 120 CPS), all of a sudden there is too much load for 10 seconds (in the test for the Mediant 4000, it was 500 CPS).  The test result showed that with such a sudden load, the SBC is capable of handling up to 190 CPS.  For the Mediant 9000 / SE, this value reached 500 CPS, with an increase in performance of up to 2000 CPS.  Moreover, this testing was done for both the Mediant 9000 and the virtual SBC, and the results are no different. <br><br>  Further tests were made in the most frequently used scenarios, when the SBC has both signal and voice sessions on it.  The tests fully confirmed the performance information that we publish on our site.  Namely: <br><ol><li>  When proxying the most commonly used G.711 20 msc codec: <br><ul><li>  Mediant 4000 - support up to 5000 simultaneous calls </li><li>  Mediant 9000 - support up to 24,000 simultaneous calls </li><li>  Mediant VE (Virtual SBC) - support up to 6000 simultaneous calls </li></ul></li><li>  When converting IPv4 &lt;-&gt; IPv6 <br><ul><li>  Mediant 4000 - support up to 5000 simultaneous calls </li><li>  Mediant 9000 - support up to 24,000 simultaneous calls </li><li>  Mediant VE (Virtual SBC) - support up to 6000 simultaneous calls </li></ul></li><li>  When converting RTP &lt;-&gt; SRTP <br><ul><li>  Mediant 4000 - support up to 5000 simultaneous calls </li><li>  Mediant 9000 - support up to 16,000 simultaneous calls </li><li>  Mediant VE (Virtual SBC) - support up to 4000 simultaneous calls </li></ul></li></ol><br><br><img src="https://habrastorage.org/files/1b2/2ca/809/1b22ca809cdf4387bd5cef95e8363125.PNG"><br><br>  Next come the transcoding tests.  Moreover, the tests are quite interesting, since they take into account not just the G.711 20 ms conversion to G.729 20 ms, as well as the G.711 conversion to SILK and OPUS.  SILK is a codec used in the Skype solution and it has long been confirmed that it is an excellent codec for transmitting voice on complex IP channels, such as the Internet in hotels, etc.  The OPUS codec is an open codec promoted by Google.  This codec is based on the SILK codec as the basis for transmitting voice information, but since it is a universal codec that is also designed to save media information, working with it is more complex.  When viewed from a practical point of view, the SILK codec is used in Microsoft‚Äôs Skype For Business solutions, and the OPUS codec is used in the WebRTC solution.  If we consider competitive solutions, not all SBCs support these codecs, and no one, except us, conducted load testing. <br><br>  Test results below: <br><table><tbody><tr><th>  Mediant 4000 <br></th><th>  Mediant ve <br></th></tr><tr><td><ul><li>  G.711 &lt;-&gt; G.729: 5000 simultaneous connections </li><li>  G.711 &lt;-&gt; SILK: 4050 simultaneous connections </li><li>  G.711 &lt;-&gt; OPUS: 3850 simultaneous connections </li></ul><br></td><td><ul><li>  G.711 &lt;-&gt; G.729: 420 Concurrent Connections </li><li>  G.711 &lt;-&gt; SILK: 400 simultaneous connections </li><li>  G.711 &lt;-&gt; OPUS: 320 Concurrent Connections </li></ul><br></td></tr><tr><td><img src="https://habrastorage.org/files/c67/e30/74c/c67e3074c8cc46c58f2e0d2316f4cbd4.PNG"><br></td><td><img src="https://habrastorage.org/files/597/10e/80a/59710e80a3054feab2213f25ae24aa7c.PNG"><br></td></tr></tbody></table><br>  Mediant 9000 did not participate in this testing. <br><br>  During testing, not only the number of sessions was taken into account, but also the quality of transcoding according to the MOS scale.  When transcoding to G.729 codec, the quality drops to 3.88 (G.711 standard quality is 4.2).  This is due to the feature of the G.729 codec, which by itself cannot provide better quality.  If we talk about converting SILK and OPUS codecs, the quality remains at the 4.2 level.  That is, voice quality does not deteriorate when converted from G.711.  When transcoding higher quality HD codecs to SILK and / or OPUS, the quality will be higher, since the original codec has a higher quality than G.711.  As a result of these tests - AudioCodes complies with the declared characteristics of voice codec conversion, with full preservation of voice quality.  For more information on the number of transcoding sessions, please refer to the release notes. <br><br>  <b>The following test is particularly relevant for telecom operators.</b>  SBC performance on registration gains.  The first test simply shows the maximum number of registrations from remote devices.  The results are as follows: <br><ol><li>  Mediant 4000: 20,000 registrations </li><li>  Mediant 9000: 120,000 registrations </li><li>  Mediant VE: 30,000 registrations </li></ol><br>  Next come the more complex tests.  One of them is the speed with which the SBC is able to register the stated number of devices.  These tests are important in cases where those subscribers who fall off, suddenly begin to register en masse.  As an example, the channel to the data center fell off, or a large area for some time remained without electricity.  The results of this test: <br><ol><li>  Mediant 4000: 67 seconds (i.e. about 300 logs per second) </li><li>  Mediant 9000: 75 seconds (i.e. 1600 registrations per second) </li><li>  Mediant VE: just 20 seconds (i.e. 1600 registrations per second, as well as Mediant 9000) </li></ol><br>  Well, now those very tests for <u><b>DoS / DDoS attacks</b></u> , about which various telecom operators like to ask.  Naturally, for telecom operators, this is most relevant, since various DoS / DDoS attacks, with the aim of hacking (selecting passwords) or simply putting the service out of service, are an integral part of the life of any operator.  And here it is important, even during attacks, to continue providing the service.  Under such attacks, as a rule, those operators, or clients, who allow VoIP connection from the public Internet, fall.  As an example, this may be the connection of smartphones or softphones via SIP from the Internet for company employees who often travel and are on business trips.  In this case, you need, on the one hand, to save the company money on roaming, on the other hand, to provide a secure connection without the possibility of hacking. <br><br>  Now about the results and testing methodology.  Testing was carried out with the help of a recognized market leader in the Ixia traffic generator, connected via a single switch to the SBC (Some of the tests were carried out using the Open-source SIP traffic generation solution - PROTOS).  15 types of various attacks were tested, at the moment when the maximum traffic went parallel to the SBC, both in terms of the number of sessions and in terms of the growth of connections.  The duration of each attack was 5 minutes: <br><ul><li>  ARP Flood </li><li>  Evasive UDP </li><li>  Land attack </li><li>  Ping-of-death </li><li>  Ping sweep </li><li>  Rst flood </li><li>  TCP scan </li><li>  Teardrop </li><li>  Surf attack </li><li>  SYN Flood </li><li>  UDP Flood </li><li>  UDP Scan </li><li>  Unreachable host </li><li>  Xmas tree attack </li></ul><br>  The testing scheme is presented below: <br><img src="https://habrastorage.org/files/5b9/a02/3a2/5b9a023a211941588bab613a73fe67ff.PNG"><br><br>  All tests were successfully passed.  That is, these attacks did not affect the current work of the SBC and the equipment continued to handle existing calls and accept new ones.  If we talk about the details of the results of these tests, then this can be represented as a label for the most popular types of attacks: <br><table><tbody><tr><th>  Attack <br></th><th>  Attack description <br></th><th>  Mediant 4000 result <br></th><th>  Result Mediant 9000 <br></th></tr><tr><td>  SYN Flood <br></td><td>  44,000 TCP SYN packets per second (pps) directed to signaling port 5060. <br>  This test was performed when establishing a connection without RTP proxying, since only SIP signaling was tested. <br></td><td>  Does not affect the work, despite the fact that the SBC was under load of 5000 simultaneous connections and an increase in calls to 122 per second <br></td><td>  Does not affect the work, despite the fact that the SBC was under load 32,000 (Mediant 9000) simultaneous connections and an increase in calls to 500 per second <br></td></tr><tr><td>  UDP FLOOD <br></td><td>  50,000 UDP pps, which is about 400 Mbps, directed to the SBC network port. <br></td><td>  Does not affect the work, despite the fact that the SBC was under load of 5000 simultaneous connections and an increase in calls to 122 per second.  Moreover, the MOS value of voice traffic did not fall and remained at the level of 4.2 (standard for the G.711 codec). <br></td><td>  Does not affect the work, despite the fact that the SBC was under load 24 000 (Mediant 9000) simultaneous connections.  Moreover, the MOS value of voice traffic did not fall and remained at the level of 4.2 (standard for the G.711 codec). <br></td></tr><tr><td>  Unknown address <br></td><td>  18,000 (56,000 for Mediant 9000 / VE) SIP messages per second (200 Mbps for 18,000 packets) sent to SBC from unknown addresses <br></td><td>  Does not affect the work, despite the fact that the SBC was under load of 5000 simultaneous connections and an increase in calls to 122 per second <br></td><td>  Does not affect the work, despite the fact that the SBC was under load of 32,000 (Mediant 9000) simultaneous connections and an increase in calls to 500 per second. <br></td></tr><tr><td>  Sip fuzzing <br></td><td>  18,000 incorrect messages per second (Mpbs) that do not comply with the RFC standard <br></td><td>  Does not affect the work, despite the fact that the SBC was under load of 5000 simultaneous connections and an increase in calls to 122 per second <br></td><td>  Does not affect the work, despite the fact that the SBC was under load of 32,000 (Mediant 9000) simultaneous connections and an increase in calls to 500 per second. <br></td></tr><tr><td>  ICMP Flood <br></td><td>  52,000 ICMP pps (200 Mbps) for SBC voice ports <br></td><td>  When fully loaded into 5,000 simultaneous connections, this attack does not affect the quality of communication.  The MOS value for the G.711 codec remains at 4.2, which is the standard for G.711 <br></td><td>  With a full load of 24,000 (6000 for VE) simultaneous connections, this attack does not affect the quality of communication.  The MOS value for the G.711 codec remains at 4.2, which is the standard for G.711 <br></td></tr></tbody></table><br>  These results are provided by the built-in IDS (Intrusion Detection System), which provides detection of malicious attacks and provides dynamic blocking of addresses of intruders and with periodic verification of address data.  The system also provides information on the attack via SNMP, thus helping to take the necessary measures as quickly as possible to stop this attack.  Based on the results of these tests, we can safely say that the SBC fully protects the voice network from various types of attacks. <br>  Separately, I would like to mention that AudioCodes is one of the first SBC manufacturers to successfully pass Miercom DDoS attacks for Virtual SBC with Virtual Function Virtualization. <br><br>  <b>fault tolerance</b> <br>  Separate testing was conducted in terms of system fault tolerance.  There were two types of tests.  Both tests were carried out under the condition of full loading of SBC with proxying of voice RTP traffic in the G.711 codec. <br><br>  The Mediant 4000/9000 architecture (as well as the other hardware SBC line) is such that all interfaces are duplicated and work in active / standby mode.  This is done so that the SBC can be connected to different switches on the same network.  If something happens to one of the switches, then the SBC detects the fall of this channel and automatically switches to the second port.  The first is a test for testing the interface in active / standby mode.  The active network interface through which voice RTP traffic went was disabled.  The result of the switching speed and the start of work in the bilateral mode of the second network interface: Mediant 4000 - 10.3 msec., Mediant 9000 - 10.2 msec.  All calls are preserved.  In both cases, this service break is not displayed on the call quality.  According to MOS, in both cases the quality remained at level 4.2. <br><br>  The second test is more difficult.  Namely, when the equipment is installed in HA (High Availability) mode and when the device is fully loaded, the main SBC is simply turned off.  In this scenario, all types of SBC worked correctly.  I will explain.  All existing connections moved to the backup SBC and the service did not stop.  New calls began to be successfully established on the backup SBC.  The only point is that the calls that were at the moment of switching in the connection state (that is, the call was already initiated, but the connection did not occur, for example, the call was in progress), but the switching of these connections according to the architecture is not provided. <br><br>  <b>Webrtc</b> <br>  Additional test not for performance, but for functionality.  WebRTC is a standard that is being developed as an open standard for communication between Web browsers and mobile applications, which uses the simple APIs of the browsers themselves.  At the moment WebRTC is supported by the following platforms / browsers - Google Chrome, Android Chrome, Mozilla Firefox, Opera.  On this topic, quite a lot of articles were written on Habr√© (for example, here: <a href="http://habrahabr.ru/post/187270/">http://habrahabr.ru/post/187270/</a> ), all of them basically described the script of calls between two Web browsers.  In this case, one of the clients is not a Web browser, but AudioCodes SBC.  The purpose of this test is to make sure that AudioCodes SBC can take over WebRTC and translate it into standard SIP.  The testing scheme of WebRTC is presented below: <br><br><img src="https://habrastorage.org/files/475/fde/c12/475fdec1299e4afbb7cac19743840615.png"><br><br>  AudioCodes SBC accepts WebRTC calls with the OPUS codec and transmits them to the Skype For Business server side using the standard SIP and G.711 codec.  In this case, instead of Skype For Business server, you can use any PBX that supports SIP or any softswitch.  The SBC also checks the correctness of the number through LDAP, thus providing additional control over the sessions, if this solution is used within the enterprise.  Just as an option, you can connect to TDM PBX via E1 stream.  The test results showed that AudioCodes SBC fully terminates WebRTC on itself using protocols such as: DTLS, ICE Light, SIP over Secure Web Socket, RTP and RTCP multiplexing, and transcoding the OPUS wideband codec to G.711 codec or any other . <br><br>  As we can see from the results of this test, AudioCodes SBC can be used on a network of enterprises or telecom operators, while ensuring guaranteed work under the stated load, ensuring full protection of your network.  Only the most productive SBCs of the company AudioCodes took part in the Miercom tests, but also add a performance table for younger models: <br><table><tbody><tr><th>  Characteristic <br></th><th>  Mediant 500 <br></th><th>  Mediant 800 <br></th><th>  Mediant 1000 <br></th><th>  Mediant 2600 <br></th><th>  Mediant 3000 <br></th></tr><tr><td>  Number of sessions <br></td><td>  250 <br></td><td>  250 <br></td><td>  150 <br></td><td>  600 <br></td><td>  1008 <br></td></tr><tr><td>  Transcoding <br></td><td>  - </td><td>  thirty <br></td><td>  96 <br></td><td>  600 <br></td><td>  1800 <br></td></tr><tr><td>  fault tolerance <br></td><td>  + <br></td><td>  + <br></td><td>  - </td><td>  + <br></td><td>  + <br></td></tr><tr><td>  Number of registrations <br></td><td>  800 <br></td><td>  800 <br></td><td>  600 <br></td><td>  8,000 <br></td><td>  3,000 <br></td></tr><tr><td>  WebRTC support <br></td><td>  - </td><td>  + <br></td><td>  - </td><td>  + <br></td><td>  - </td></tr><tr><td>  Availability of TDM interfaces <br></td><td>  FXO, FXS, E1 <br></td><td>  FXO, FXS, E1 <br></td><td>  FXO, FXS, E1 <br></td><td>  - </td><td>  E1, STM-1 <br></td></tr></tbody></table></div><p>Source: <a href="https://habr.com/ru/post/269969/">https://habr.com/ru/post/269969/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269957/index.html">Python Meetup 09/25/2015: performance monitoring and BDD usage</a></li>
<li><a href="../269961/index.html">Another way to test web services using AssertJ</a></li>
<li><a href="../269963/index.html">The experience of sending Apple Push Notification via Amazon's SNS service and some useful code</a></li>
<li><a href="../269965/index.html">October 31, 2015 - EOL applications Kerio Control 7 for Windows (Post # 2 - free seminar)</a></li>
<li><a href="../269967/index.html">Multi-colored terminals</a></li>
<li><a href="../269973/index.html">A series of webinars on working with data</a></li>
<li><a href="../269975/index.html">Microsoft events for IT professionals in November</a></li>
<li><a href="../269981/index.html">PG as Perl evolution for mathematicians at WeBWorK</a></li>
<li><a href="../269983/index.html">A simple generator of the DGML file of the state machine transition graph</a></li>
<li><a href="../269985/index.html">Writing our SynchronizationContext</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>