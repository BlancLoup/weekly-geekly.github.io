<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Patch EDID TV from under Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My TV ("old" model LG 32LG5000) never worked in Linux. Every time I connected it via the HDMI port, the kernel reported an error to me: 


kernel: [ 8...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Patch EDID TV from under Linux</h1><div class="post__text post__text-html js-mediator-article">  My TV ("old" model LG 32LG5000) never worked in Linux.  Every time I connected it via the HDMI port, the kernel reported an error to me: <br><pre><code class="hljs pgsql">kernel: [ <span class="hljs-number"><span class="hljs-number">869.677850</span></span>] [drm:drm_edid_block_valid] *ERROR* EDI has major <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">instead</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  and completely ignored him. <br><br>  This problem did not bother me too much, because  I did not use it often, and the VGA port worked, albeit with a maximum resolution of 1360 √ó 768.  However, today, when I decided to watch the movie, the quality of the output via VGA was incredibly bad, and I decided to end it. <br><br><h4>  Analyzing EDID </h4><br>  For those who do not know, EDID is a small amount of data containing information about the capabilities of the monitor, mainly resolutions and timings, which it supports.  The error message is interesting because it says about EDID 2.0, which (almost) never existed.  This is what Wikipedia tells us: <br><blockquote>  The EDID structure has versions from v1.0 to v1.4, 128 bytes in size, each subsequent version is backward compatible with the previous one.  The EDID v2.0 structure was 256 bytes in size, but was later declared obsolete and replaced by v1.3. </blockquote><br>  It seems that EDID 2.0 was declared obsolete somewhere in 2000. It is rather funny that 2008 TV used this particular version. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After a brief googling, I found EDID error messages in this model, and that in fact it is EDID 1.3.  I tried to update the firmware to the latest version, but this did not help.  So, I had two choices: <br><ol><li>  Patch the kernel and remove the version check.  This is ugly, and at least you will have to <b>reassemble the drm-</b> module with each kernel update. </li><li>  Patch EDID and force either the kernel or TV to use it. </li></ol><br>  I craved adventure, so I chose the latter.  Load the <b>i2c-dev</b> module <b>;</b> get the direct <b>i2c</b> access to the EDID; use <b>get-edid</b> : <br><pre> <code class="hljs pgsql"># <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>-edid &gt; /tmp/edid.bin This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span>-edid <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">3.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>. <span class="hljs-keyword"><span class="hljs-keyword">Prepare</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">some</span></span> fun. Attempting <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> use i2c interface <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> EDID <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> bus <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> EDID <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> bus <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> EDID <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> bus <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> EDID <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> bus <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> EDID <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> bus <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> EDID <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> bus <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> potential busses <span class="hljs-built_in"><span class="hljs-built_in">found</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> Will scan through <span class="hljs-keyword"><span class="hljs-keyword">until</span></span> the first EDID <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span>. Pass a bus number <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> an <span class="hljs-keyword"><span class="hljs-keyword">option</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> this program <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> go <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> that one. <span class="hljs-number"><span class="hljs-number">256</span></span>-byte EDID successfully retrieved <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> i2c bus <span class="hljs-number"><span class="hljs-number">3</span></span> Looks <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> i2c was successful. Have a good day.</code> </pre> <br>  We got the EDID from i2c bus 3. Now let's see what is there. <br><pre> <code class="hljs vbscript"># parse-edid &lt; /tmp/edid.bin Checksum Correct Section <span class="hljs-string"><span class="hljs-string">"Monitor"</span></span> Identifier <span class="hljs-string"><span class="hljs-string">"32LG5000"</span></span> ModelName <span class="hljs-string"><span class="hljs-string">"32LG5000"</span></span> VendorName <span class="hljs-string"><span class="hljs-string">"GSM"</span></span> # Monitor Manufactured week <span class="hljs-number"><span class="hljs-number">9</span></span> of <span class="hljs-number"><span class="hljs-number">2008</span></span> # EDID version <span class="hljs-number"><span class="hljs-number">2.0</span></span> # Digital Display DisplaySize <span class="hljs-number"><span class="hljs-number">700</span></span> <span class="hljs-number"><span class="hljs-number">390</span></span> Gamma <span class="hljs-number"><span class="hljs-number">2.20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> <span class="hljs-string"><span class="hljs-string">"DPMS"</span></span> <span class="hljs-string"><span class="hljs-string">"true"</span></span> Horizsync <span class="hljs-number"><span class="hljs-number">28</span></span><span class="hljs-number"><span class="hljs-number">-67</span></span> VertRefresh <span class="hljs-number"><span class="hljs-number">50</span></span><span class="hljs-number"><span class="hljs-number">-75</span></span> # Maximum pixel clock <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">150</span></span>MHz #<span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> giving standard mode: <span class="hljs-number"><span class="hljs-number">640</span></span>x480, <span class="hljs-number"><span class="hljs-number">60</span></span>Hz #<span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> giving standard mode: <span class="hljs-number"><span class="hljs-number">800</span></span>x600, <span class="hljs-number"><span class="hljs-number">60</span></span>Hz #<span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> giving standard mode: <span class="hljs-number"><span class="hljs-number">1024</span></span>x768, <span class="hljs-number"><span class="hljs-number">60</span></span>Hz #<span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> giving standard mode: <span class="hljs-number"><span class="hljs-number">1920</span></span>x1080, <span class="hljs-number"><span class="hljs-number">60</span></span>Hz #Extension block found. Parsing... Modeline <span class="hljs-string"><span class="hljs-string">"Mode 16"</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 0"</span></span> -hsync -vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 1"</span></span> -hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 2"</span></span> <span class="hljs-number"><span class="hljs-number">27.027</span></span> <span class="hljs-number"><span class="hljs-number">720</span></span> <span class="hljs-number"><span class="hljs-number">736</span></span> <span class="hljs-number"><span class="hljs-number">798</span></span> <span class="hljs-number"><span class="hljs-number">858</span></span> <span class="hljs-number"><span class="hljs-number">480</span></span> <span class="hljs-number"><span class="hljs-number">489</span></span> <span class="hljs-number"><span class="hljs-number">495</span></span> <span class="hljs-number"><span class="hljs-number">525</span></span> -hsync -vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 3"</span></span> <span class="hljs-number"><span class="hljs-number">27.000</span></span> <span class="hljs-number"><span class="hljs-number">720</span></span> <span class="hljs-number"><span class="hljs-number">732</span></span> <span class="hljs-number"><span class="hljs-number">796</span></span> <span class="hljs-number"><span class="hljs-number">864</span></span> <span class="hljs-number"><span class="hljs-number">576</span></span> <span class="hljs-number"><span class="hljs-number">581</span></span> <span class="hljs-number"><span class="hljs-number">586</span></span> <span class="hljs-number"><span class="hljs-number">625</span></span> -hsync -vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 4"</span></span> <span class="hljs-number"><span class="hljs-number">25.200</span></span> <span class="hljs-number"><span class="hljs-number">640</span></span> <span class="hljs-number"><span class="hljs-number">656</span></span> <span class="hljs-number"><span class="hljs-number">752</span></span> <span class="hljs-number"><span class="hljs-number">800</span></span> <span class="hljs-number"><span class="hljs-number">480</span></span> <span class="hljs-number"><span class="hljs-number">490</span></span> <span class="hljs-number"><span class="hljs-number">492</span></span> <span class="hljs-number"><span class="hljs-number">525</span></span> -hsync -vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 5"</span></span> <span class="hljs-number"><span class="hljs-number">27.027</span></span> <span class="hljs-number"><span class="hljs-number">720</span></span> <span class="hljs-number"><span class="hljs-number">736</span></span> <span class="hljs-number"><span class="hljs-number">798</span></span> <span class="hljs-number"><span class="hljs-number">858</span></span> <span class="hljs-number"><span class="hljs-number">480</span></span> <span class="hljs-number"><span class="hljs-number">489</span></span> <span class="hljs-number"><span class="hljs-number">495</span></span> <span class="hljs-number"><span class="hljs-number">525</span></span> -hsync -vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 6"</span></span> <span class="hljs-number"><span class="hljs-number">27.000</span></span> <span class="hljs-number"><span class="hljs-number">720</span></span> <span class="hljs-number"><span class="hljs-number">732</span></span> <span class="hljs-number"><span class="hljs-number">796</span></span> <span class="hljs-number"><span class="hljs-number">864</span></span> <span class="hljs-number"><span class="hljs-number">576</span></span> <span class="hljs-number"><span class="hljs-number">581</span></span> <span class="hljs-number"><span class="hljs-number">586</span></span> <span class="hljs-number"><span class="hljs-number">625</span></span> -hsync -vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 7"</span></span> <span class="hljs-number"><span class="hljs-number">74.250</span></span> <span class="hljs-number"><span class="hljs-number">1280</span></span> <span class="hljs-number"><span class="hljs-number">1720</span></span> <span class="hljs-number"><span class="hljs-number">1760</span></span> <span class="hljs-number"><span class="hljs-number">1980</span></span> <span class="hljs-number"><span class="hljs-number">720</span></span> <span class="hljs-number"><span class="hljs-number">725</span></span> <span class="hljs-number"><span class="hljs-number">730</span></span> <span class="hljs-number"><span class="hljs-number">750</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 8"</span></span> <span class="hljs-number"><span class="hljs-number">74.250</span></span> <span class="hljs-number"><span class="hljs-number">1280</span></span> <span class="hljs-number"><span class="hljs-number">1390</span></span> <span class="hljs-number"><span class="hljs-number">1420</span></span> <span class="hljs-number"><span class="hljs-number">1650</span></span> <span class="hljs-number"><span class="hljs-number">720</span></span> <span class="hljs-number"><span class="hljs-number">725</span></span> <span class="hljs-number"><span class="hljs-number">730</span></span> <span class="hljs-number"><span class="hljs-number">750</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 9"</span></span> <span class="hljs-number"><span class="hljs-number">74.250</span></span> <span class="hljs-number"><span class="hljs-number">1920</span></span> <span class="hljs-number"><span class="hljs-number">2448</span></span> <span class="hljs-number"><span class="hljs-number">2492</span></span> <span class="hljs-number"><span class="hljs-number">2640</span></span> <span class="hljs-number"><span class="hljs-number">1080</span></span> <span class="hljs-number"><span class="hljs-number">1082</span></span> <span class="hljs-number"><span class="hljs-number">1089</span></span> <span class="hljs-number"><span class="hljs-number">1125</span></span> +hsync +vsync interlace Modeline <span class="hljs-string"><span class="hljs-string">"Mode 10"</span></span> <span class="hljs-number"><span class="hljs-number">74.250</span></span> <span class="hljs-number"><span class="hljs-number">1920</span></span> <span class="hljs-number"><span class="hljs-number">2008</span></span> <span class="hljs-number"><span class="hljs-number">2052</span></span> <span class="hljs-number"><span class="hljs-number">2200</span></span> <span class="hljs-number"><span class="hljs-number">1080</span></span> <span class="hljs-number"><span class="hljs-number">1082</span></span> <span class="hljs-number"><span class="hljs-number">1087</span></span> <span class="hljs-number"><span class="hljs-number">1125</span></span> +hsync +vsync interlace Modeline <span class="hljs-string"><span class="hljs-string">"Mode 11"</span></span> <span class="hljs-number"><span class="hljs-number">74.250</span></span> <span class="hljs-number"><span class="hljs-number">1920</span></span> <span class="hljs-number"><span class="hljs-number">2448</span></span> <span class="hljs-number"><span class="hljs-number">2492</span></span> <span class="hljs-number"><span class="hljs-number">2640</span></span> <span class="hljs-number"><span class="hljs-number">1080</span></span> <span class="hljs-number"><span class="hljs-number">1084</span></span> <span class="hljs-number"><span class="hljs-number">1089</span></span> <span class="hljs-number"><span class="hljs-number">1125</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 12"</span></span> <span class="hljs-number"><span class="hljs-number">148.500</span></span> <span class="hljs-number"><span class="hljs-number">1920</span></span> <span class="hljs-number"><span class="hljs-number">2448</span></span> <span class="hljs-number"><span class="hljs-number">2492</span></span> <span class="hljs-number"><span class="hljs-number">2640</span></span> <span class="hljs-number"><span class="hljs-number">1080</span></span> <span class="hljs-number"><span class="hljs-number">1084</span></span> <span class="hljs-number"><span class="hljs-number">1089</span></span> <span class="hljs-number"><span class="hljs-number">1125</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 13"</span></span> <span class="hljs-number"><span class="hljs-number">74.250</span></span> <span class="hljs-number"><span class="hljs-number">1920</span></span> <span class="hljs-number"><span class="hljs-number">2558</span></span> <span class="hljs-number"><span class="hljs-number">2602</span></span> <span class="hljs-number"><span class="hljs-number">2750</span></span> <span class="hljs-number"><span class="hljs-number">1080</span></span> <span class="hljs-number"><span class="hljs-number">1084</span></span> <span class="hljs-number"><span class="hljs-number">1089</span></span> <span class="hljs-number"><span class="hljs-number">1125</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 14"</span></span> <span class="hljs-number"><span class="hljs-number">74.250</span></span> <span class="hljs-number"><span class="hljs-number">1920</span></span> <span class="hljs-number"><span class="hljs-number">2008</span></span> <span class="hljs-number"><span class="hljs-number">2052</span></span> <span class="hljs-number"><span class="hljs-number">2200</span></span> <span class="hljs-number"><span class="hljs-number">1080</span></span> <span class="hljs-number"><span class="hljs-number">1084</span></span> <span class="hljs-number"><span class="hljs-number">1089</span></span> <span class="hljs-number"><span class="hljs-number">1125</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 15"</span></span> <span class="hljs-number"><span class="hljs-number">148.500</span></span> <span class="hljs-number"><span class="hljs-number">1920</span></span> <span class="hljs-number"><span class="hljs-number">2008</span></span> <span class="hljs-number"><span class="hljs-number">2052</span></span> <span class="hljs-number"><span class="hljs-number">2200</span></span> <span class="hljs-number"><span class="hljs-number">1080</span></span> <span class="hljs-number"><span class="hljs-number">1084</span></span> <span class="hljs-number"><span class="hljs-number">1089</span></span> <span class="hljs-number"><span class="hljs-number">1125</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 17"</span></span> +hsync +vsync Modeline <span class="hljs-string"><span class="hljs-string">"Mode 18"</span></span> +hsync +vsync interlace Modeline <span class="hljs-string"><span class="hljs-string">"Mode 19"</span></span> -hsync -vsync <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> <span class="hljs-string"><span class="hljs-string">"PreferredMode"</span></span> <span class="hljs-string"><span class="hljs-string">"Mode 16"</span></span> EndSection</code> </pre> <br>  Make sure this is the correct EDID, by model ID.  We see EDID version 2.0, which is reported by parse-edid, to which the core itself actually swears.  We can also see that parse-edid has found a block with the timings and permissions that TV supports.  Now take a look at the RAW data: <br><pre> <code class="hljs ruby"><span class="hljs-comment"><span class="hljs-comment"># hd /tmp/edid.bin 00000000 00 ff ff ff ff ff ff 00 1e 6d f0 75 01 01 01 01 |.........mu...| 00000010 09 12 02 00 80 46 27 78 ea d9 b0 a3 57 49 9c 25 |.....F'x....WI.%| 00000020 11 49 4b a5 6e 00 31 40 45 40 61 40 d1 c0 01 01 |.IK.n.1</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@E</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@a</span></span></span><span class="hljs-comment">@....| 00000030 01 01 01 01 01 01 26 36 80 a0 70 38 1f 40 50 20 |......&amp;6..p8.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@P</span></span></span><span class="hljs-comment"> | 00000040 85 00 bc 86 21 00 00 18 1b 21 50 a0 51 00 1e 30 |....!....!PQ.0| 00000050 48 88 35 00 bc 86 21 00 00 1c 00 00 00 fc 00 33 |H.5...!........3| 00000060 32 4c 47 35 30 30 30 0a 20 20 20 20 00 00 00 fd |2LG5000. ....| 00000070 00 32 4b 1c 43 0f 00 0a 20 20 20 20 20 20 01 f9 |.2K.C... ..| 00000080 02 03 21 f1 4e 02 11 01 03 12 13 04 14 05 21 1f |..!.N.........!.| 00000090 20 22 10 23 09 07 07 83 01 00 00 65 03 0c 00 30 | ".#.......e...0| 000000a0 00 01 1d 00 bc 52 d0 1e 20 b8 28 55 40 c4 8e 21 |.....R.. .(U@..!| 000000b0 00 00 1e 01 1d 00 72 51 d0 1e 20 6e 28 55 00 c4 |......rQ.. n(U..| 000000c0 8e 21 00 00 1e 01 1d 80 d0 72 1c 16 20 10 2c 25 |.!.......r.. .,%| 000000d0 80 c4 8e 21 00 00 9e 8c 0a d0 90 20 40 31 20 0c |...!....... @1 .| 000000e0 40 55 00 c4 8e 21 00 00 18 4e 1f 00 80 51 00 1e |</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@U</span></span></span><span class="hljs-comment">...!...N...Q..| 000000f0 30 40 80 37 00 bc 88 21 00 00 18 00 00 00 00 ac |0@.7...!........| 00000100</span></span></code> </pre> <br>  EDID consists of 2 sections, each 128 bytes in size (we remember that this is EDID 1.3, incorrectly named 2.0). <br>  The first section is the main one, and the second is an additional, <a href="https://en.wikipedia.org/wiki/EDID">EIA / CEA-861 extension block</a> , which contains information about permissions and timings.  Using the article in <a href="http://en.wikipedia.org/wiki/EDID">Wikipedia,</a> we understand that the bytes at offset 0x12 and 0x13 contain the EDID version (0x02 and 0x00 in our case), and the offset 0xf7f contains the checksum (0xf9). <br><br><h4>  EDID patches profitable </h4><br>  In theory, if we replace the values ‚Äã‚Äãat offset 0x12 and 0x13 by 0x01 and 0x03, respectively, and correct the checksum, we get the correct EDID.  This can be easily done in the HEX editor;  the checksum is set to 0x7f (the sum of all 128 bytes modulo 256 must be zero). <br>  Try parsing the modified EDID: <br><pre> <code class="hljs ruby">$ diff -u &lt;(parse-edid &lt;<span class="hljs-regexp"><span class="hljs-regexp">/tmp/edid</span></span>.bin) &lt;(parse-edid &lt;<span class="hljs-regexp"><span class="hljs-regexp">/tmp/edid</span></span>-fixed.bin) Checksum Correct Checksum Correct --- <span class="hljs-regexp"><span class="hljs-regexp">/proc/self</span></span><span class="hljs-regexp"><span class="hljs-regexp">/fd/</span></span><span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">2014</span></span>-<span class="hljs-number"><span class="hljs-number">03</span></span>-<span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">02</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">18</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52.614474422</span></span> +<span class="hljs-number"><span class="hljs-number">0200</span></span> +++ <span class="hljs-regexp"><span class="hljs-regexp">/proc/self</span></span><span class="hljs-regexp"><span class="hljs-regexp">/fd/</span></span><span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">2014</span></span>-<span class="hljs-number"><span class="hljs-number">03</span></span>-<span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">02</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">18</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52.614474422</span></span> +<span class="hljs-number"><span class="hljs-number">0200</span></span> @@ -<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span> +<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span> @@ ModelName <span class="hljs-string"><span class="hljs-string">"32LG5000"</span></span> VendorName <span class="hljs-string"><span class="hljs-string">"GSM"</span></span> <span class="hljs-comment"><span class="hljs-comment"># Monitor Manufactured week 9 of 2008 - # EDID version 2.0 + # EDID version 1.3 # Digital Display DisplaySize 700 390 Gamma 2.20</span></span></code> </pre> <br><br>  Now that we have the right EDID, we need to somehow try to record it on the TV (and, it seems, there are <a href="https://github.com/tomka/write-edid">people</a> who did it).  Debian has the <b>i2c-tools</b> package, which has <b>i2cget</b> utilities for reading and <b>i2cset</b> for writing to an I¬≤C device.  Recall that <b>get-edid</b> read from bus 3, and the EDID is located at 0x50, so let's try to read our bytes directly: <br><pre> <code class="hljs lua"># <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0x12</span></span> <span class="hljs-number"><span class="hljs-number">0x13</span></span> <span class="hljs-number"><span class="hljs-number">0x7f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> i2cget -y <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0x50</span></span> $<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span>; done <span class="hljs-number"><span class="hljs-number">0x02</span></span> <span class="hljs-number"><span class="hljs-number">0x00</span></span> <span class="hljs-number"><span class="hljs-number">0xf9</span></span></code> </pre> <br>  Happened!  Despite the risk of shouting (and so useless) HDMI port, I decided to overwrite the bytes directly. <br><blockquote>  <b>Attention!</b>  Repeat this action at your own peril and risk, and only if you understand the possible consequences.  You were warned. </blockquote><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># i2cset -y 3 0x50 0x12 0x01 # i2cset -y 3 0x50 0x13 0x03 # i2cset -y 3 0x50 0x7f 0xf7</span></span></code> </pre> <br>  There are no mistakes.  Check if it worked out: <br><pre> <code class="hljs swift">$ xrandr -q <span class="hljs-type"><span class="hljs-type">Screen</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: minimum <span class="hljs-number"><span class="hljs-number">320</span></span> x <span class="hljs-number"><span class="hljs-number">200</span></span>, current <span class="hljs-number"><span class="hljs-number">1920</span></span> x <span class="hljs-number"><span class="hljs-number">1080</span></span>, maximum <span class="hljs-number"><span class="hljs-number">8192</span></span> x <span class="hljs-number"><span class="hljs-number">8192</span></span> eDP1 connected 1920x1080+<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-number"><span class="hljs-number">0</span></span> (normal <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> inverted <span class="hljs-keyword"><span class="hljs-keyword">right</span></span> x axis y axis) 294mm x 165mm 1920x1080 <span class="hljs-number"><span class="hljs-number">60.0</span></span>*+ <span class="hljs-number"><span class="hljs-number">59.9</span></span> <span class="hljs-number"><span class="hljs-number">40.0</span></span> 1680x1050 <span class="hljs-number"><span class="hljs-number">60.0</span></span> <span class="hljs-number"><span class="hljs-number">59.9</span></span> 1600x1024 <span class="hljs-number"><span class="hljs-number">60.2</span></span> 1400x1050 <span class="hljs-number"><span class="hljs-number">60.0</span></span> 1280x1024 <span class="hljs-number"><span class="hljs-number">60.0</span></span> 1440x900 <span class="hljs-number"><span class="hljs-number">59.9</span></span> 1280x960 <span class="hljs-number"><span class="hljs-number">60.0</span></span> 1360x768 <span class="hljs-number"><span class="hljs-number">59.8</span></span> <span class="hljs-number"><span class="hljs-number">60.0</span></span> 1152x864 <span class="hljs-number"><span class="hljs-number">60.0</span></span> 1024x768 <span class="hljs-number"><span class="hljs-number">60.0</span></span> 800x600 <span class="hljs-number"><span class="hljs-number">60.3</span></span> <span class="hljs-number"><span class="hljs-number">56.2</span></span> 640x480 <span class="hljs-number"><span class="hljs-number">59.9</span></span> <span class="hljs-type"><span class="hljs-type">VGA1</span></span> disconnected (normal <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> inverted <span class="hljs-keyword"><span class="hljs-keyword">right</span></span> x axis y axis) <span class="hljs-type"><span class="hljs-type">HDMI1</span></span> connected 1920x1080+<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-number"><span class="hljs-number">0</span></span> (normal <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> inverted <span class="hljs-keyword"><span class="hljs-keyword">right</span></span> x axis y axis) 700mm x 390mm 1920x1080 <span class="hljs-number"><span class="hljs-number">60.0</span></span>*+ <span class="hljs-number"><span class="hljs-number">60.0</span></span> <span class="hljs-number"><span class="hljs-number">50.0</span></span> <span class="hljs-number"><span class="hljs-number">59.9</span></span> <span class="hljs-number"><span class="hljs-number">30.0</span></span> <span class="hljs-number"><span class="hljs-number">25.0</span></span> <span class="hljs-number"><span class="hljs-number">24.0</span></span> <span class="hljs-number"><span class="hljs-number">30.0</span></span> <span class="hljs-number"><span class="hljs-number">24.0</span></span> 1920x1080i <span class="hljs-number"><span class="hljs-number">60.1</span></span> <span class="hljs-number"><span class="hljs-number">50.0</span></span> <span class="hljs-number"><span class="hljs-number">60.0</span></span> 1360x768 <span class="hljs-number"><span class="hljs-number">59.8</span></span> 1280x768 <span class="hljs-number"><span class="hljs-number">60.4</span></span> 1280x720 <span class="hljs-number"><span class="hljs-number">60.0</span></span> <span class="hljs-number"><span class="hljs-number">50.0</span></span> <span class="hljs-number"><span class="hljs-number">59.9</span></span> 1024x768 <span class="hljs-number"><span class="hljs-number">75.1</span></span> <span class="hljs-number"><span class="hljs-number">70.1</span></span> <span class="hljs-number"><span class="hljs-number">60.0</span></span> 832x624 <span class="hljs-number"><span class="hljs-number">74.6</span></span> 800x600 <span class="hljs-number"><span class="hljs-number">75.0</span></span> <span class="hljs-number"><span class="hljs-number">60.3</span></span> 720x576 <span class="hljs-number"><span class="hljs-number">50.0</span></span> 720x480 <span class="hljs-number"><span class="hljs-number">60.0</span></span> <span class="hljs-number"><span class="hljs-number">59.9</span></span> 640x480 <span class="hljs-number"><span class="hljs-number">75.0</span></span> <span class="hljs-number"><span class="hljs-number">60.0</span></span> <span class="hljs-number"><span class="hljs-number">59.9</span></span> <span class="hljs-number"><span class="hljs-number">59.9</span></span> 720x400 <span class="hljs-number"><span class="hljs-number">70.1</span></span> <span class="hljs-type"><span class="hljs-type">DP1</span></span> disconnected (normal <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> inverted <span class="hljs-keyword"><span class="hljs-keyword">right</span></span> x axis y axis)</code> </pre> <br>  Aha  I managed to set the resolution to 1080p via <b>xrandr</b> .  It looks like the change is permanent, so you don‚Äôt have to rewrite the bytes every time you turn off the TV. <br><br>  <i>From the translator: on this TV matrix with a resolution of 1366 √ó 768, so it‚Äôs not quite clear where such a desire to expose 1920 √ó 1080 comes from, it will still go through the scaler.</i> </div><p>Source: <a href="https://habr.com/ru/post/217583/">https://habr.com/ru/post/217583/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../217571/index.html">3DO or lost link</a></li>
<li><a href="../217573/index.html">Is it possible in theory to create a ship driven by an artificial black hole?</a></li>
<li><a href="../217575/index.html">Demonoid with us again</a></li>
<li><a href="../217579/index.html">Task management: some options for implementing repetitive tasks</a></li>
<li><a href="../217581/index.html">Tug wheel will save millions of dollars for passenger airlines</a></li>
<li><a href="../217585/index.html">Networks for the smallest. Part nine. Multicast</a></li>
<li><a href="../217587/index.html">LZ Series Portable Batteries by iconBIT</a></li>
<li><a href="../217593/index.html">Following the publication in Google Play / App Store / Steam Greenlight</a></li>
<li><a href="../217595/index.html">Java Annotations, Part I</a></li>
<li><a href="../217599/index.html">Dismantling IBOX, another ARM mini PC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>