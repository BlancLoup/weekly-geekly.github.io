<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GoToChain: how schoolchildren of the blockchain in the village wrote</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It was a hot August. There was another summer school. In the direction of functional programming, everything was restless: instead of sweat, monads we...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GoToChain: how schoolchildren of the blockchain in the village wrote</h1><div class="post__text post__text-html js-mediator-article"><p>  It was a hot August.  There was another summer school.  In the direction of functional programming, everything was restless: instead of sweat, monads were dripping from us, and the gloomy shadow of <a href="https://coq.inria.fr/">Coq</a> flew in the sky. </p><br><p>  The school was held quite normally, like all children's camps.  After putting Peano's numbers on Haskell, we sawed compilers and interpreters of different varieties and sizes (from self-made to LLVM), wrote our core in Rust and discussed group theory, drawing analogies with light French novels in general, it was fervent. </p><br><p>  We also had a hackathon.  One of the teams, inspired by Zeitgeist and partner spinners, set about developing a system for conducting tenders and processing decisions using smart contracts, having planned several ideas for using the blockchain for the community around the school.  What innovations from this left - under cat. </p><br><p><img src="https://habrastorage.org/webt/59/de/11/59de115c709b7859177021.png"></p><a name="habracut"></a><br><p>  Well, it's time to meet you.  We are a team of St. Petersburg and Moscow schoolchildren who have implemented the ‚Äúmiracle‚Äù described below.  We learned about the mechanisms of the blockchain and for the first time heard the word ‚Äúsmart contract‚Äù the day before the hackathon, so the experience was extremely entertaining.  But first things first. </p><br><p>  The results of the hackathon, organized in order to cheer the schoolboys cared for half to death, had to turn GoTo‚Äôs life upside down and open up the cosmic yields to all of them.  Naturally, this action could not pass by us, therefore, having called one charming technical evangelist from the direction of bioinformatics, we began work. </p><br><p>  The concepts changed one after another: from cryptography on grids (after all, no self-respecting camp could exist) and a formally verified lock for the Boeing we came up with the idea of ‚Äã‚Äãintegrating the blockchain into the life of GoTo.  ‚ÄúWhat will he do useful?‚Äù One of our team members asked.  Since at that moment our inexperienced minds were very impressed with everything that was happening, we immediately stoned him with stones.  And continued. </p><br><p>  But now we have restrained ardor and decided to still think: why the blockchain camp? </p><br><p>  Before we get to our case, I suggest those who want to get acquainted with what blockchains and smart contracts are and why we (and not only us) made so much noise around them. </p><br><p><img src="https://habrastorage.org/webt/59/de/0c/59de0c462474f918945901.jpeg"></p><br><div class="spoiler">  <b class="spoiler_title">"Likbez"</b> <div class="spoiler_text"><h3 id="likbez">  Likbez </h3><br><p>  In everyday life and in business, situations often arise when two or more parties need to make an exchange.  So, for example, when buying an apartment, we change several millions for the keys of 14 square meters on Petrogradka, or by renting a car to the salon, we get a discount on a new one. </p><br><p>  People have made exchanges for thousands of years and during this time everyone understood that without external control this process could turn into a circus with clowns: the designer can run away with prepayment at sunset, the apartment seller comes a month after the purchase and declare that the signature on the documents is not his and that you must vacate the living quarters.  In general, you cannot get far on trust alone. </p><br><p>  Then people decided to attract a third independent party, which would give guarantees - after the exchange, there will be no problems.  This role in our life is played by banks, state registries and other organizations that receive money for the support of excellent human relations.  From frauds, these organizations held back the desire to preserve their reputation and to have a steady income from this work, as well as state control. <br>  However, it became obvious a long time ago that such mediators have a number of drawbacks: </p><br><ol><li>  You still have to completely trust one side.  With proper skill, any government control can be circumvented, and the desire for a large one-time replenishment of your bank account can easily overcome the desire for a stable income. </li><li>  Third parties require a fee (often large enough) for their services, and who would not want to give up extra expenses </li><li>  The emergence of third parties and bureaucracy, seeking to keep these same persons in check, extremely slowed down the exchange process, since any action is now accompanied by the passage of a billion instances and the signing of a trillion documents. </li><li>  Third parties are not insured against unforeseen situations: the bank can always go bankrupt, the housing registry can forget to backup, or Aunt Luda from the patent office can forget your perpetual motion documents in a minibus. </li></ol><br><p>  A canonical example of such an intermediary is the Certificate Authority in the public key infrastructure (PKI), which associates public keys with the parties to which they belong. </p><br><p>  The most famous uses of CA are TLS certificates, which make HTTPS work.  However, as practice shows, these ‚Äúprofessionals who sell trust‚Äù sometimes allow themselves to give certificates for arbitrary domains to arbitrary <a href="https://www.mail-archive.com/dev-security-policy%40lists.mozilla.org/msg08027.html">people</a> , or to give someone a certificate for <a href="https://blog.mozilla.org/security/2011/08/29/fraudulent-google-com-certificate/comment-page-2/">google.com</a> . </p><br><p>  Therefore, society has a logical desire to exclude third parties from this process. </p><br><p>  The blockchain can help them in this. </p><br><div class="spoiler">  <b class="spoiler_title">What a blockchain?</b> <div class="spoiler_text"><h3 id="blokcheyn">  Blockchain </h3><br><p>  Blockchain is a distributed database that allows you to maintain a single version of the list of transactions for all network members.  Transactions can be completely different: remittances, transfer of property, registration of copyright and the like. </p><br><p> Transactions are combined into so-called blocks.  Each block stores the previous hash, so that past data cannot be changed, as this will lead to changes in the hashes of all subsequent blocks.  These blocks are combined into hashes in a linked list, or a metaphorical chain that is difficult to break or redo ... In the chain ... The chain of blocks ... <strong>BLOCKCHAIN ‚Äã‚Äã!!!</strong>  Hmm, well, you understand. </p><br><p>  When a user wants to add a new entry to the blockchain, he tells the whole network about it.  Then some participants take this transaction and check it for ‚Äúlegitimacy‚Äù (in the case of cryptocurrency, for example, they see if the user has enough money for the transfer operation), and if it is being tested, then a new block is collected from it and several others.  Then it is transmitted throughout the network, each participant checks for validity all the entries in it, checks the compliance of the hashes, and if all checks are successful, add it to their own chain. </p><br><p>  The hash in the case of the blockchain is the result of the so-called cryptographic hash function.  Its goal is to translate an object of any size into a characteristic sequence of bytes of fixed length.  Such a function when submitting to it the same object will always produce the same sequence of bytes.  Its second important feature is that if we change the object at least a little at the entrance, the sequence will be completely different and there will be no pattern in its change. </p><br><p>  By changing even one object in the block, we change its hash, and since the hash of the next block will be considered, taking into account the current hash, we break the entire subsequent chain. </p><br><p><img src="https://habrastorage.org/webt/59/dc/33/59dc33440db4e967125417.png"></p><br><p>  Therefore, if the evil hacker Vasya wants to transfer a billion bitcoins backdating / erase information about his debt / &lt;insert another crime&gt;, he will have to persuade the entire network to switch to a new version of the chain with completely different hashes. </p><br><p>  The question remains, who collects these records in blocks? </p><br><p>  There are two types of blockchains - public and private, and for each of them the answer to this question will be different. </p><br><p>  In a public block, any member of the network can assemble, however, in order for the system to accept its block, it is necessary for the person to solve a computationally difficult task (proof of work), or, for example, the probability of creating a block will be directly proportional to their means of proof. </p><br><p>  The method of choosing the creators of new units is extremely important, as it may jeopardize the functioning of the system.  So, for example, now most of Bitcoin‚Äôs computing power is located in <a href="https://www.washingtonpost.com/world/asia_pacific/in-chinas-tibetan-highlands-the-bizarre-world-of-bitcoin-mining-finds-a-new-home/2016/09/12/7729cbea-657e-11e6-b4d8-33e931b5a26d_story.html">China</a> , so if suddenly all the mining farms of the state decide to unite (either at the behest of the state or in a single communist rush), then they will be able to control all chain (up to the first hard fork of course).  Even if this does not happen centralization indicates obvious problems. </p><br><p>  In private, the right to create blocks has only a specified circle of persons - validators.  One of the possible algorithms looks like this: the system chooses one of the validators with lots, it collects a block from the new applications and sends to the others, if more than half of the validators say that the block is valid, then it officially becomes a continuation of the circuit. </p><br><p>  So what needs to be taken out of these lines? </p><br><p>  Blockchain is a storage system that is very difficult to compromise due to cryptography and collaboration between network members. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">What kind of smart contracts?</b> <div class="spoiler_text"><h3 id="smart-kontrakty">  Smart contracts </h3><br><p>  Another fashionable word, the meaning of which is far from clear to everyone.  But since we are now blockchain experts, let's see </p><br><p>  The formal definition of a smart contract (aka a definition from Wikipedia) is an algorithm for monitoring the fulfillment of obligations by two or more parties, using the blockchain to record the actions of all parties. </p><br><p>  It can be said that ‚Äúcreating a smart contract‚Äù is an articulate term for adding business logic to the blockchain.  Those.  add some rules that affect the behavior of the system. </p><br><p>  Imagine that you want to buy a batch of coal from the company ‚ÄúNovokuznetskKovorking‚Äù.  You agree that you will transfer the payment to them when the coal cars are unloaded in St. Petersburg and in order to automate the entire process and remove the human factor from it to the maximum, put a GPS tracker and a sensor on it that shows the weight of the load in it.  You give the system an obligation to pay the agreed amount if the cargo is unloaded where necessary and on time.  When this sensor sends information that the load is unloaded, and the coordinates of the place where it happened (let's believe that this sensor works perfectly and is perfectly protected from hacking), the system will compare them with the given ones, and if unloading occurs where necessary, it will automatically makes a transfer, if the unloading does not occur on time or occurs, but somewhere in China, your obligation is removed from you.  All your promises and everything that happens with the load is recorded in the blockchain, which means that the system will always work with true information about what is happening and affect the programmed behavior is impossible. </p><br><p>  Thanks to this, NovokuznetskKovorking can safely carry you its coal, not doubting that the work will be paid, but you can not worry that they will not bring you anything if the prepayment is transferred. </p><br><p>  Obviously, smart contracts have a great potential for use in <a href="https://www.ft.com/content/100622d0-a680-11e7-93c5-648314d2c72c%3Fmhq5j%3De7">trade</a> , <a href="https://www.ibm.com/blockchain/supply-chain/">logistics</a> , <a href="https://medicinex.stanford.edu/blockchain/">medicine</a> and other industries.  This technology can change the way we approach our business, the place banks and governments occupy in our lives. </p><br><p>  As you understand, we were very impressed by the coolness of this technology and really wanted to <del>  just gash something </del>  help the world and the camp. </p><br><p>  PS If you are interested in continuing to study all of the above, then there is a huge amount of <a href="https://medium.com/%40valkyrie8411/19-books-about-blockchain-and-bitcoin-you-might-want-to-read-8add8c28565b">literature</a> on the Internet and tutorials are becoming quite popular ... Here GoTo, for example. </p></div></div></div></div><br><h2 id="chto-my-delaem">  What are we doing </h2><br><p>  It is not the first time that GoTo holds contests in which participants are invited to implement one of the proposed projects and compete for the opportunity to receive a grant that fully or partially covers the cost of school tuition. </p><br><p>  We decided to replace the centralized system for storing and processing the submitted solutions with the blockchain option.  This allowed to make the process more transparent for participants and investors who allocate money for grants. </p><br><h3 id="zachem-my-eto-delaem">  Why do we do it </h3><br><p>  The blockchain ensures the general availability and immutability of data on applications and their verification, which will allow partners and participants to follow the process of the competition and will create verifiable portfolio items for all contestants. </p><br><p>  After the winners are announced, each other‚Äôs decisions become available to the participants - this will allow them to get acquainted and further interaction within the community.  It also gives participants the opportunity to control the fairness of the competition, as they can see whether a grant was allocated to a person with a normal decision or a cousin of her brother‚Äôs sister was chosen. <del>  dogs </del>  director. </p><br><p>  It is also important that the project will allow to attract more attention of future school participants to blockchain technologies.  Since grant competitions are only part of the platform, they will be able to expand it with their smart contracts, which gives a lot of practice. </p><br><h3 id="logika-kontrakta">  Contract logic </h3><br><p>  The logic implemented in our smart contract is quite simple. </p><br><p>  First, the organizers add transactions to the blockchain with a description of projects for implementation and the reward that the participant will receive with the best solution. </p><br><p>  Then those who wish to choose a project and publicly declare their intentions.  It is necessary for the organizers and participants to understand how many applicants there are for the grant. </p><br><p>  After the participant has implemented his unique and unique vision of solving the problem, he puts a link to it in the blockchain. </p><br><p>  (Of course, the decision saved by reference can be changed, because the blockchain with its super powers only ensures that the URL itself remains unchanged, but this is a temporary solution and will be fixed in future versions.) </p><br><p>  When the competition comes to an end, the organizers look at the decisions and, choosing, in their opinion, the best, vote for it.  The system recognizes the person with the most votes - the winner.  He needs to send a transaction agreement to accept the grant, if he does not do it in a certain period, the system will automatically switch to the second by the number of votes. </p><br><p>  After signing this agreement, the competition is officially considered closed. </p><br><h3 id="kak-delaem">  How do </h3><br><p>  After a bit of thought and having painted all the walls with diagrams and diagrams of different degrees of utility, we finally formed the GoToChain concept.  This was supposed to be a private blockchain, where the validators are the GoTo administration and partner companies, ordinary users are participants in contests.  We had to implement a smart contract with the logic stated above and quickly roll everything into the light. </p><br><p>  Naturally, the first thought was to implement the blockchain from scratch on Haskell.  However, after looking at a couple of implementations, we concluded that we are not yet ready for applicative functors, monad transformers and writing Paxos. </p><br><p>  We decided to use <a href="https://habrahabr.ru/users/wldhx/" class="user_link">Exonum</a> , released in July, as a more realistic and safer implementation (according to the advice of the great, terrible and sweet <a href="https://habrahabr.ru/users/wldhx/" class="user_link">wldhx</a> ). </p><br><p>  In this platform (written in Rust, by the way), developers have already implemented blockchain storage, communication between nodes and other useful mechanisms, such as anchoring to prevent auditors from rewriting transaction history and ‚Äúlight clients‚Äù to provide information to regular users.  In terms of the platform, smart contracts are called Services, and it was up to us to develop the service. </p><br><p>  In the end, we quite successfully traversed through Rust and the Exonum documentation, even slightly expanding the default functionality of the ‚Äúlight clients‚Äù along the way. </p><br><p><img src="https://habrastorage.org/webt/59/de/0b/59de0bc6b8afe934222787.jpeg"></p><br><p>  <em>This we support each other in the development process.</em> </p><br><h3 id="chto-delaem-dalshe">  What do we do next </h3><br><p>  As already mentioned, we had a lot of ideas related to the blockchain, so we do not plan to stop grants. </p><br><p>  We plan to expand GoToChain with smaller-scale contests, which will be held directly at schools, voting system for the best content about past events, introduce verified diplomas, give an opportunity to outsource contracts with school partners and much more. </p><br><p>  Some of these features will be implemented by other GoTo school participants, so this platform is important not only as a tool for improving everyday life, but also as a platform for future experiments. </p><br><div class="spoiler">  <b class="spoiler_title">A few words about the team</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/59/dc/33/59dc335c06c09300941804.jpeg"></p><br><p>  <a href="https://keybase.io/wldhx">Dmitry Volkov</a> aka <a href="https://habrahabr.ru/users/wldhx/" class="user_link">wldhx</a> - the man, the man, the legend.  Techlide.  Enlightening, punishing and touching. </p><br><p><img src="https://habrastorage.org/webt/59/dc/33/59dc33541578a300666493.png"></p><br><p>  <a href="https://gitlab.com/Mangman">Stepan Kuznetsov</a> - Rust-developer.  Without it, nothing would work. </p><br><p><img src="https://habrastorage.org/webt/59/dc/33/59dc335e7e0b8885655050.png"></p><br><p>  <a href="https://github.com/rylm">Alexander Danilov</a> - JS-developer who made the geometry. </p><br><p><img src="https://habrastorage.org/webt/59/dc/33/59dc3340d0fbf734044139.jpeg"></p><br><p>  <a href="https://github.com/TheRussianFella">Maxim Manainen</a> - <del>  Technical Evangelist and Bioinformatics </del>  .  The author of great articles with a bunch of demonstrative pronouns and water.  Well, without him nowhere. </p><br><p>  The logic and mechanism of the smart contract were developed by the joint efforts of all the above-mentioned gentlemen. </p><br><p><img src="https://habrastorage.org/webt/59/dc/33/59dc334365cfd817093580.jpeg"></p><br><p>  <a href="https://tvorog.me/">Andrei Curds</a> - Frontend-developer.  Without it, everything would work, but you could not use it. </p><br><p>  Andrei Kosorukov is also a frontend developer.  Without it, the first version of the platform would be a console application. </p></div></div><br><h2 id="epilog">  Epilogue </h2><br><p>  Working on GoToChain was an extremely exciting experience.  In addition to being better acquainted with the work of the blockchain and the process of creating smart contracts, we learned a lot about teamwork and self-discipline.  Of course, the buzz from mopping up the docks can not be compared with the enumeration of group theory terms, but also quite well. </p><br><p><img src="https://habrastorage.org/webt/59/de/0c/59de0cf2197c7150126058.png"></p><br><p>  And now, if you have a desire and this allows you to make your age - welcome to test the <a href="https://goto.msk.ru/chain">platform</a> personally and try your hand at the autumn school competition in ITMO. </p><br><p>  <strong>By the way</strong> , during the school, the teams will continue to work on expanding the GoToChain functionality, complementing it with a system of community self-regulation and portfolio verification.  Research tasks will also be offered: for example, to ensure the security of contracts, speed up the flow of transactions and the use of non-linear data structures.  There will also be tasks from partners: a system for a charitable foundation and cases in the framework of public services from VEB.  In addition, we will talk about data verification and static contract analysis, distributed systems architecture, consensus and linearization algorithms, and modern cryptographic methods.  We study the blockchain platforms Exonum and Ethereum, formal analysis techniques, the topic of information security at the level of both applications and platforms, transport and lower. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/339796/">https://habr.com/ru/post/339796/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339784/index.html">The relationship between the number of combinations and the binomial coefficients</a></li>
<li><a href="../339786/index.html">Like the others: Monitoring & Tracing Tools in Odnoklassniki</a></li>
<li><a href="../339788/index.html">Modeling objects, functions and operations. Mereological relations between objects of this type</a></li>
<li><a href="../339790/index.html">Contravariant tests</a></li>
<li><a href="../339794/index.html">Cocos2d-x - Action Handling</a></li>
<li><a href="../339798/index.html">How to determine the sample size?</a></li>
<li><a href="../339800/index.html">Simple Scada in Python and Arduino</a></li>
<li><a href="../339806/index.html">On the way to natural intelligence</a></li>
<li><a href="../339808/index.html">The buyer on the hook: a recipe for the formation of dependence</a></li>
<li><a href="../339812/index.html">As I went to the summer internship and stayed</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>