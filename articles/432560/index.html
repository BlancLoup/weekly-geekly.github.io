<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Typography on the web. Yandex lecture on FrontTalks 2018</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After a short break from the lectures, we begin the New Year sprint. Like a year ago, it will consist entirely of materials from the large FrontTalks ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Typography on the web. Yandex lecture on FrontTalks 2018</h1><div class="post__text post__text-html js-mediator-article">  After a short break from the lectures, we begin the New Year sprint.  Like a year ago, it will consist entirely of materials from the large FrontTalks conference, which Yandex held in Yekaterinburg.  Let's start with the speech of Anton Kastritsky - a developer from Yandex.Market.  Anton showed on examples how and from what interfaces are collected, and also told about the texts, their design, accessibility and performance in the context of modern web applications. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/IFwOMg8FgSA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - My name is Anton, I work as an interface developer in the Yandex.Market partner interface team.  Today I want to talk about typography on the web. <br><br><a name="habracut"></a>  Before that, I want to tell a little story about how it happened that this topic is close and interesting to me. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Once I thought that maybe not everyone understands how to work with text, fonts, and display on the web.  And perhaps the very first time I thought about it was when I wanted to get into Yandex.  I was interviewed, I had a section with layout.  I love the layout, nothing complicated, I like it.  It was necessary to impose a component, I did everything, great.  In the job description it was written that it was necessary to set the fonts, there was Arial, Helvetica.  Well, no problem, I wrote Helvetica, Arial, sans-serif.  Everything is as it should be.  But the interviewee did not agree, said that I have written incorrectly.  I was embarrassed by this, I thought that Yandex is a large company, they probably expect a lot from me.  Know what system fonts are, what safe fonts are.  I told them how they work and why I wrote everything down as it is. <br><br>  The interviewer did not immediately agree with me, but as a result we came to understand that it was necessary to write Helvetica, Arial, and not vice versa.  So I got to Yandex.  Began to interview, found this puzzle, corrected.  So come to work with us, we have great. <br><br>  Before proceeding to typography, let's talk about what a text is. <br><br><h4>  Text </h4><br>  Text is a tool that helps us suggest something to the user about his subsequent actions.  A huge part of the content on the Internet - the text.  Despite the fact that now such services as Instagram, YouTube are popular, people consume a lot of multimedia content, the text also takes up a huge amount of space on the Internet, and people still read it.  It is very important. <br><br>  Who works in companies where there is a copywriter or a writer who is engaged in texts?  Almost half.  And who thinks out the text for the application itself?  Also half. <br><br>  Sometimes it happens that the designer gave you the design, you started to do it.  But there were several unforeseen states, and you have to think out the text yourself.  Almost everything, wow.  In such situations it should be a shame.  I got the impression that the developers underestimate the role of copywriters in the company, look down on them and present them somehow. <br><br><img src="https://habrastorage.org/webt/_s/cf/8o/_scf8otakiycqgpo0boopuelofs.jpeg"><br><br>  Just a bunch of art ladies who sit in the office and very skillfully simulate work.  In fact, it is not. <br><br>  Copywriters are like this prophet, who is trying to show a girl developer how it really should be, and she tries in every way to ignore him. <br><br><img src="https://habrastorage.org/webt/-q/ej/oz/-qejoza5fq4x6y90nihoeybbmgu.jpeg"><br><br>  The role of copywriters is very important.  They can have a direct impact on the product, offer more harmonious solutions, interactions, mechanics.  A person, having read the text on the page, can perceive your product quite differently.  Their role is really very important, you should always listen to them, and not like this girl who tries to work and not pay attention to what this prophet is telling her.  Try to listen to your copywriters and feel free to ask them questions. <br><br>  It is also very important not only what you write, but generally write in general.  I want to show a real life example.  We had a component where the user needed to add a phone number. <br><br><img src="https://habrastorage.org/webt/eu/sp/lg/eusplgr8e7yrevdpo_ct-aplc20.jpeg"><br><br>  A huge page with settings, everything is as usual.  There was a label, a number, an ‚ÄúAdd‚Äù button, the user clicked on it, and a telephone input appeared. <br><br><img src="https://habrastorage.org/webt/rs/m8/nu/rsm8nuxsjw9weda9oiuwzvtp9zs.jpeg"><br><br>  After he successfully entered a phone number, he had to click on the gray check mark to save. <br><br><img src="https://habrastorage.org/webt/sq/_c/lg/sq_clgrlwjadq-owdd_pswrznj4.jpeg"><br><br>  When we started to conduct UX testing, we learned that a very small number of users even guessed that it was necessary to click on the gray button in order to save the phone number.  What have we done?  After the user successfully entered the phone number, we ticked the checkbox in yellow, and the user could save it. <br><br><img src="https://habrastorage.org/webt/lr/z3/6x/lrz36x1es3iybpaxc7huoipnmwo.jpeg"><br><br>  We re-tested UX.  Slightly more people figured out how to save a phone number. <br><br>  At this point, it may seem to you that our users have some problems with interacting with our interfaces, they use them somehow. <br><br><img src="https://habrastorage.org/webt/wm/iy/is/wmiyis0nnnzodto8lhjdod0mr7q.jpeg"><br><br>  But in fact, the problem is not with the users, but with us, because we could not clearly convey to them what we want from them.  Therefore, today this component looks a little different: everything is also pressing the button, but now it has a popup with explicit ‚Äúcancel‚Äù and ‚Äúsave‚Äù buttons. <br><br><img src="https://habrastorage.org/webt/gv/bi/gt/gvbigtentjtqkjpnfxzzobsbcui.jpeg"><br><img src="https://habrastorage.org/webt/6j/yy/fb/6jyyfbntdzfoxqbp8mj3mzsrm3i.jpeg"><br><img src="https://habrastorage.org/webt/ke/ii/wf/keiiwf_zshsp147uhgvg3dw6_8o.jpeg"><br><br>  After he has successfully entered a phone number, the ‚Äúsave‚Äù button lights up, and the user can independently understand whether he wants to save it or not.  If he clicks outside the popup, the popup will be hidden, and he hasn‚Äôt added a number yet. <br><br>  From this we can conclude: do not be afraid to write obvious things.  We - the developers spend a huge amount of time on the Internet, we see a lot of different GUI options, how to do the same thing.  But not all of our users have this experience.  So let's make more simple and intuitive interfaces that will be easier for the user to figure out on their own. <br><br><h4>  Display </h4><br>  Let's talk about the mapping as a whole.  It is easy to guess that all the mapping rules came to us from the print. <br><br>  It is important to replace that I am a developer, and I do not know how to do it beautifully.  I can do it in such a way that it works, and when everything is good, and it works productively.  Therefore, I will not talk about serifs or different types of fonts.  I will, but later. <br><br>  There are a lot of text content and services on the Internet, where users log in exclusively for the purpose of reading something. <br><br><img src="https://habrastorage.org/webt/eq/w9/qe/eqw9qeo34ysqsr2knbhsonul0bq.jpeg"><br><h5>  <sub><sup><a href="https://medium.com/%40WordcorpGlobal/programming-doesnt-require-talent-or-even-passion-11422270e1e4">Link from the slide</a></sup></sub> </h5><br>  It seems to me that one of the most convenient services is Medium.  I think everyone knows him, they come in, read the news, especially on the subject of the frontend.  The service really delivers content that is easy to read.  But I will give you a counterexample that we all used. <br><br><img src="https://habrastorage.org/webt/sj/pv/p9/sjpvp976ultznokfj_glpf9u0r4.jpeg"><br><h5>  <sub><sup><a href="https://ru.wikipedia.org/wiki/%25D0%25A3%25D0%25B4%25D0%25BE%25D0%25B1%25D0%25BE%25D1%2587%25D0%25B8%25D1%2582%25D0%25B0%25D0%25B5%25D0%25BC%25D0%25BE%25D1%2581%25D1%2582%25D1%258C">Link from the slide</a></sup></sub> </h5><br>  I do not know a single person who visits Wikipedia and reads anything with pleasure.  It seems to me that this is not a readable option, although this can be corrected by following only two or three rules. <br><br>  The first is to have about 10 words in a line. <br><br><img src="https://habrastorage.org/webt/ou/06/os/ou06osuunoahhafcr7vcgue7zzi.jpeg"><br><br>  We need to limit the width of the text content to about 80 characters.  This rule may remind your linter settings, because the display of the code, and the code itself, as well as the text on the sites, is written so that it can be easily perceived by a person, not a computer. <br><br><img src="https://habrastorage.org/webt/fb/r2/jg/fbr2jgr7jc1obvmdkxdrx54huga.jpeg"><br><br>  The second is the line spacing.  When your lines are too close to each other, users already begin to experience difficulties with the perception of this. <br><br><img src="https://habrastorage.org/webt/ag/2i/pv/ag2ipvupshvkjz12egxw_0cpdx0.jpeg"><br><br>  And make the font a little more, for ease of perception.  Now Wikipedia takes on a look that is already much easier to perceive. <br><br><img src="https://habrastorage.org/webt/g8/i2/5u/g8i25ud9da74rcm4x57imh4dwkm.jpeg"><br><br><img src="https://habrastorage.org/webt/sy/3l/ss/sy3lssqbq2ms5tam4sqbsqfz3u0.jpeg"><br><br>  And also, if the space on the screen is very important to you, you can add hyphenation. <br><br><img src="https://habrastorage.org/webt/uv/po/qj/uvpoqj6bgojdepfn4kxjay58oqe.jpeg"><br><br><img src="https://habrastorage.org/webt/lz/w-/ri/lzw-ribjqp2udp0kz9w_mk4adns.jpeg"><br><br>  This may not always work correctly with Russian text, but it can help save a couple of lines. <br><br>  Do not forget that there are many spelling rules in Russian.  It is necessary to get rid of such things as hanging excuses, to make sure that there should be large hyphens where necessary, and so on.  This can help you tools such as <a href="https://www.artlebedev.ru/typograf/">"Typographer"</a> .  Just run through your text and that's it. <br><br>  If you have static text, you can add a <a href="https://www.npmjs.com/package/babel-plugin-transform-typograf">babel plugin</a> to convert it when you build your application.  If your text is stored in an external repository - such an <a href="https://www.npmjs.com/package/typograf">npm-package</a> may be useful, with its help you can convert the text before sending it to the client. <br><br><h4>  Fonts on the web </h4><br>  How is it that we can use different fonts on the web? <br><br>  Adult developers may recall that long ago we had to add different images if we wanted to somehow transform the appearance of the text on the pages.  Later we got the font tag.  And today we use the font-family property, where we list the fonts themselves in the order in which we want them to be applied.  If suddenly the browser does not find and does not recognize one, it will simply go further along this list and take advantage of the following. <br><br><img src="https://habrastorage.org/webt/3f/ij/tk/3fijtk3wsumheo4ww-rq8qnovqg.jpeg"><br><br>  Already today we have a large number of properties to transform the display of the text. <br><br><img src="https://habrastorage.org/webt/yb/fc/5n/ybfc5nxxiudt40zoj2oxhgp0rgk.jpeg"><br><br>  And I can not fail to mention such a thing as variable fonts. <br><br><img src="https://habrastorage.org/webt/wj/mf/_c/wjmf_cjskaez2yso-hnchgpxmxq.jpeg"><br><h5>  <sub><sup><a href="http://manuel.vongebhardi.de/">Link from the slide</a></sup></sub> </h5><br>  This helps us further transform the display of our interfaces.  Today, support is already quite good. <br><br><img src="https://habrastorage.org/webt/ar/-d/4k/ar-d4kyi1rxgjcvnzynalfgaeqo.jpeg"><br><h5>  <sub><sup><a href="https://caniuse.com/">Link from the slide</a></sup></sub> </h5><br>  About this technology has been written a huge amount of information on the Internet over the past couple of years, that we will not dwell on them now. <br><br><h4>  Fonts </h4><br>  There are a lot of fonts.  But I wanted to come from an engineering point of view and divide them into several types. <br><br><img src="https://habrastorage.org/webt/u5/vn/2e/u5vn2e83vgcfogrifec2dopdevw.jpeg"><br><br>  I think everyone who read the specifications, and not only, know that there are system fonts pre-installed in the OS out of the box;  there are installed fonts that the user has installed;  as well as downloadable or web fonts, this is all that the user downloads by going to your application. <br><br>  I can not fail to mention secure fonts.  How did it happen that they appeared with us?  Previously, we could not expect that the user had one or another font, so at the very beginning of the 2000s, Microsoft proposed a list of six fonts that were present on all systems from the very beginning of the last decade, and developers could use them with a clear conscience knowing that these fonts are already present in users and do not have to send extra requests. <br><br><img src="https://habrastorage.org/webt/5z/pv/hf/5zpvhfi6uosbltuyqwxikc4oxho.jpeg"><br><br>  And here we see the same Arial.  Looking ahead: someone already knows that Helvetica is a system font on macOS, it has been there for many years.  Therefore, in the story I mentioned at the beginning, I said that we should write down Helvetica, Arial, and not vice versa. <br><br>  After that, I noticed a lot of this entry on a variety of resources, and I was wondering where it came from, how it happened that people could make such a basic mistake.  After all, we learn this when we start learning CSS. <br><br>  I was very surprised when I realized that it came from such a fairly respected resource as w3schools, sent them a bug report, but they still did not fix it, oh. <br><br><img src="https://habrastorage.org/webt/_c/0i/h2/_c0ih2y_ohzth8-loffemwdl3m4.jpeg"><br><h5>  <sub><sup><a href="https://www.w3schools.com/cssref/pr_font_font-family.asp">Link from the slide</a></sup></sub> </h5><br>  And now back to the fonts.  How can we connect fonts?  We have CSS and JavaScript. <br><br><img src="https://habrastorage.org/webt/dd/ga/mm/ddgamm4xfyxj9nzmiixelaow8d8.jpeg"><br><br>  We can declare a custom font-face and specify several formats from which the browser will select and download the first one it knows. <br>  - WOFF2 is best compressed and supported by all modern browsers. <br>  - WOFF shrinks a little worse, but it has excellent support. <br>  - EOT is needed exclusively for older IE.  - TTF, it also has good support, and by downloading it, we can install it on the OS. <br>  - SVG, which is deprecated, in my opinion, is currently supported only in one or two browsers. <br><br>  We also have such a cool CSS function as local, with its help we can check whether the font is present in the user's OS.  But you do not need to rely on it.  Even if the fonts have the same name, it does not mean at all that it is the same font.  Therefore, if you use it, be careful. <br><br><img src="https://habrastorage.org/webt/lb/sq/eg/lbsqeg_tg7nzymwbrect2kivmjy.jpeg"><br><br>  After you have announced the font, do not forget to specify a few foldbacks, in case the browser fails to download it. <br><br>  I think many people know that we can specify a Unicode range for fonts, and after the font is downloaded, it will be used exclusively for the specified characters.  For example, you want only English text to be displayed in this font or only numbers, etc. <br><br><img src="https://habrastorage.org/webt/6y/-t/gn/6y-tgna_gxzyev8kjuzogkry0to.png" width="800"><br><br>  It also allows you to significantly reduce the traffic that we send to users. <br><br><img src="https://habrastorage.org/webt/ff/ij/u-/ffiju-gtv8hi2ykp9xzff4yrqks.png" width="800"><br><br>  Above, we can split the font into two separate files, in one there are only Latin characters, and in the second - Cyrillic.  We gave them the same font-family name, so that the browser would understand that these are parts of a single font.  Now, if we have only Cyrillic characters on the page, the user downloads only the second file, which reduces the traffic that the user downloads. <br><br>  As a result, it is not so difficult to engage in sabsetting, there are GUI and CLI tools for this, it is easy to find them and deal with them. <br><br><img src="https://habrastorage.org/webt/ix/1r/9l/ix1r9l4t4upbdw5euwyaqjk-_ge.jpeg"><br><h5>  <sub><sup>Links from the slide: <a href="https://github.com/fonttools/fonttools">first</a> , <a href="https://www.fontsquirrel.com/tools/webfont-generator">second</a> , <a href="https://fontie.pixelsvsbytes.com/webfont-generator">third</a> , <a href="https://github.com/fontforge/fontforge">fourth</a></sup></sub> </h5><br>  The support today is pretty good.  Do not hesitate to use it. <br><br><img src="https://habrastorage.org/webt/8b/9x/_f/8b9x_fkwyh7c2jtb1t6gw5douq8.jpeg"><br><h5>  <sub><sup><a href="https://caniuse.com/">Link from the slide</a></sup></sub> </h5><br>  Do not forget about the great saying ‚Äúmeasure seven times - to oversight once‚Äù, otherwise you can get into a rather inconvenient situation. <br><br><img src="https://habrastorage.org/webt/3k/xy/hh/3kxyhhbe-ieqksrfikyrn12g92y.jpeg"><br><h5>  <sub><sup><a href="https://www.bramstein.com/writing/web-font-anti-patterns-subsetting.html">Link from the slide</a></sup></sub> </h5><br>  We can also load fonts using JS, we have the FontFace API for this, it looks quite similar. <br><br><img src="https://habrastorage.org/webt/gf/pu/01/gfpu0164ljnutewfwxcovlu_hj0.jpeg"><br><br>  We declare a new font, load it, it loads asynchronously.  Once it has loaded, we can add it to the page. <br><br>  At first glance, this approach may seem useless, unless you are engaged in a service for the sale of fonts.  But by the end of the report you may change your mind. <br><br>  Well, we have a service, we added several fonts to it.  And our user comes to our page, and meets with such a picture. <br><br><img src="https://habrastorage.org/webt/l6/yg/fw/l6ygfwhwzromk_lzv_rabru12ca.jpeg"><br><br>  How did that happen?  The HTML has already arrived, the styles have loaded, but the fonts have not yet arrived, and here the behavior of the browser can vary.  Some of the browsers block text rendering, it would seem that there is no text, but in fact browsers describe text with their own, transparent font, because they need to know how much space on the page the text occupies so that all indents are similar.  When the font is loaded, the text will be redrawn with your font and displayed in the browser. <br><br>  It would be great if we could unify the behavior of the browser in such cases.  After all, some browsers can draw text with transparent fonts, while others can fold text.  To do this, we have only one line of code. <br><br><img src="https://habrastorage.org/webt/wy/fs/7k/wyfs7keyg2zhoubr84f4ztyfin4.jpeg"><br><h5>  <sub><sup><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/%40font-face/font-display">Link from the slide</a></sup></sub> </h5><br>  Basically, only block or swap will be useful to you from this.  Block will force the browser to wait and render the content on a page with a transparent font, because it is quite possible that you have some very beautiful custom font that does not look like anything.  Therefore, you do not want the user to see the text, so let the user wait.  It will not wait forever for only three seconds, after which it will use the following font and will wait for complete infinity until yours arrives. <br><br>  Or swap, when the browser immediately takes the next folded font, draws content with it, and waits an infinite time for your font to arrive. <br><br><img src="https://habrastorage.org/webt/bc/zc/de/bczcdeevqbqxweqlzawihbwidmg.jpeg"><br><h5>  <sub><sup><a href="https://caniuse.com/">Link from the slide</a></sup></sub> </h5><br>  To date, the support is quite good, it can already be used.  After all, CSS is not JS, if suddenly the browser does not understand something - no big deal, it will ignore this rule and move on.  In such a case, we get the same behavior as before. <br><br>  Great, we prompted the browser, now we have the same behavior of almost all non-legacy browsers. <br><br>  But we did not solve the problem itself.  How come the fonts come so long?  Long ago, when I was not yet working in Yandex, I made a small landing page, nothing special, but a lot of pictures and a few styles. <br><br><img src="https://habrastorage.org/webt/ci/w8/ik/ciw8ikqinqdf3iacv5ur8dissya.jpeg"><br><br>  I encountered such a problem that the font came literally at 6‚Äì7 seconds, and this is just with throttling the network on a fast 3G, although the first render was already displayed for about 2.5 seconds, and the user just looked at a blank page. <br><br>  Blue HTML is loaded on top, followed by purple styles.  And where is our font? <br><br><img src="https://habrastorage.org/webt/oi/l8/ib/oil8ib6g9azws-mubhihq0opeag.jpeg"><br><br>  Here he is.  How did that happen?  We have a slight clarification, even if we declare our font at the very beginning of our styles, the browser will send a request for it only after it downloads all the CSS, parses it completely and sees that there is text on the page that needs to be drawn with this font . <br><br>  It would be great if we could tell the browser: listen, I‚Äôll definitely use this font, and download it right now. <br><br><img src="https://habrastorage.org/webt/4g/ys/jz/4gysjzfvt1gclnym3fvaimckg3u.jpeg"><br><h5>  <sub><sup><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content">Link from the slide</a></sup></sub> </h5><br>  So we can.  This is called a font download.  We can tell the browser in just one line that we need to download this particular font and send a request for it before we send the request for styles.  Now the waterfall of requests looks different. <br><br><img src="https://habrastorage.org/webt/t0/tl/ol/t0tlolf9rlgpmvo5jcznt8q_wpq.jpeg"><br><br>  Our text with the correct font appears along with the rest of the content for about 3 seconds.  This does not speed up our site, but the user can immediately begin to navigate this content.  And this is good. <br><br><img src="https://habrastorage.org/webt/8t/yf/nd/8tyfndeeplnhxg0tqkbfxh8rs6m.jpeg"><br><h5>  <sub><sup><a href="https://caniuse.com/">Link from the slide</a></sup></sub> </h5><br>  link preload only works in fairly modern browsers, and you should use it mainly with woff2, if not, then just woff.  Because the request is always sent. <br><br>  Another good practice with preloading: you only need to specify one file that the browser will understand.  If you start reading about this on MDN, then you will see something similar. <br><br><img src="https://habrastorage.org/webt/vb/7p/cw/vb7pcwavuhjlf9vrm7iaslzrpm0.jpeg"><br><h5>  <sub><sup><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content">Link from the slide</a></sup></sub> </h5><br>  You should never do this, because in this way we will send many requests for fonts of each format, although the browser uses only one.  Why did they add the eot format here, which is used only for IE, which is no longer developed or supported even by Microsoft?  It is unlikely that they will tell us. <br><br>  Such code should look more like this. <br><br><img src="https://habrastorage.org/webt/aj/d-/n8/ajd-n8eg0du7simtooje_2dv1cu.jpeg"><br><br>  Perhaps you have other tasks that need to be performed when initializing your application?  For example, important metrics that need to be measured when the page loads, and you do not want to immediately send a request for fonts, and download other assets. <br><br>  There is another approach for this - replacing fonts.  After all, we can load fonts in JS, and after the font is loaded, just add a class to the page where we describe the font to display the text. <br><br><img src="https://habrastorage.org/webt/o_/xv/l-/o_xvl-ftgbuzyvq6ejllcre7zkq.jpeg"><br><br>  But here we have a problem.  The fonts are all different, and letter spacing may differ, as well as the distance between words.  This problem would also be good to solve.  To do this, we have a Font style matcher, with which we can impose one font on another, and having played a little with different CSS properties, make sure that they will appear as similar as possible, now we can copy the behavior of the default font and make sure that after as we load a custom font, the content on the page does not begin to ‚Äújump‚Äù. <br><br><img src="https://habrastorage.org/webt/ua/cc/pp/uaccppcyxfzotwaewrvu5bf7hxq.jpeg"><br><img src="https://habrastorage.org/webt/jj/fn/vt/jjfnvtmvhfozzig7qiqv-dekfc4.jpeg"><br><h5>  <sub><sup><a href="https://meowni.ca/font-style-matcher/">Slide Link</a></sup></sub> </h5><br>  Do we even need web fonts?  Maybe our users are not so important what font we use. <br><br>  To answer this question, you need to answer three smaller questions.  Is the font part of our brand?  In Yandex, of course, yes, therefore we cannot refuse our Yandex Sans.  Perhaps in your companies it works differently.  Maybe your text is much easier to read on the page?  Or maybe you just want to use one font on all devices? <br><br>  If all the answers to these questions were no, then you are most likely to refuse web fonts.  Secure fonts have only one drawback, they are not very attractive.  And what can we do about it?  There is a solution, and these are system fonts.  Each OS out of the box has pretty nice nice fonts and you can use them. <br><br><img src="https://habrastorage.org/webt/ca/c4/ec/cac4ecz6vr-ksumjdf-bzqtgrqg.jpeg"><br><h5>  <sub><sup><a href="https://css-tricks.com/snippets/css/system-font-stack/">Link from the slide</a></sup></sub> </h5><br>  There is such a great value as system-ui, with which the browser will simply start using system fonts by default, but it is still on stage 2, it has poor support, and it breaks everything on Windows, so we will wait. <br><br><img src="https://habrastorage.org/webt/qi/jl/fa/qijlfau_ak2y20pbu1hjwtejnsk.jpeg"><br><br>  It's okay, we can list the very native fonts that are in the systems.  If one browser does not, it will go on and find the one that it has.  This is a fairly popular pattern, it is used by such well-known services like github, Twitter, Medium.  You may also find this interesting and useful. <br><br><img src="https://habrastorage.org/webt/4y/w0/aw/4yw0awwj8hscgzxca4oeqilv5q0.jpeg"><br><br>  Also the services that I listed are those where the guys who originally wrote bootstrap worked.  It so happened. <br><br>  I am very pleased that at this conference many people talked about such things as accessibility, which is great, we need to take care of this, this is the work that is divided between the developer and the designer. <br><br>  But what about visually impaired people?  Maybe someone does not distinguish colors so well or just does not see well? <br><br><img src="https://habrastorage.org/webt/id/w-/8f/idw-8fv6-7mt0oai35q1_ifldwi.jpeg"><br><h5>  <sub><sup><a href="https://contrastchecker.com/">Slide Link</a></sup></sub> </h5><br>  I hope it‚Äôs not a discovery for anyone that the Internet is full of all sorts of contrast checkers with which you can find out how easily the text is read on the page.  We are developers, we do not want to go to other sites every time and check it manually, it would be great to automate it. <br><br>  Yes, for this we have <a href="https://github.com/dequelabs/axe-core">ax</a> and <a href="https://github.com/pa11y/pa11y">pa11y</a> , accessibility test runners, which you can add to your build or CI checks.  Both of them are mostly more suitable for screen readers.  pa11y can give you more contrast. <br><br>  Once the designer asked me to add a small plate to the page.  Who likes it, who thinks it is easy to read?  There are several hands. <br><br><img src="https://habrastorage.org/webt/kn/f6/ed/knf6edki-gi7v0ul9ntinly2lye.jpeg"><br><br>  I did not really understand how it happened, and decided to figure it out.  Recently, if you open the color picker in your dev tools, in any Chromium browser you will see a new line - the contrast. <br><br><img src="https://habrastorage.org/webt/p-/vw/7e/p-vw7esmm0yn6yqkfrd09q2jsf8.jpeg"><br><br><img src="https://habrastorage.org/webt/ia/jc/as/iajcashiw3kygvbout4ngyfke9k.jpeg"><br><br><img src="https://habrastorage.org/webt/as/mk/k_/asmkk_dybdukt7pae23n6ufuafg.jpeg"><br><br>  It can be opened, and you will see an arc, with the help of which you will understand, the browser itself will tell you on what background and with what color the font was rendered.  You will also see an arc in a range of colors, lowering and selecting a color that is under the arc, here you can see that two green check marks appear below, which the browser tells us is easier to read. <br><br><img src="https://habrastorage.org/webt/wx/af/t-/wxaft-hu3lx2ppljj6n7amj_wig.jpeg"><br><br><img src="https://habrastorage.org/webt/ao/mv/wi/aomvwibw_8dlr3d35o2b2fu08c0.jpeg"><br><br>  Visually, everything has not changed very much, but it may be worthwhile to talk about it with the designers and make sure that the text will be easy to read even by visually impaired people. <br><br>  I can not mention the bad practices when working with fonts. <br><br><img src="https://habrastorage.org/webt/ik/to/j1/iktoj1jsckt5ji_9w7hmhyfn4f4.jpeg"><br><br>  About five years ago there were many popular articles that we can store our fonts in localStorage, the page will load and take them from there.  There is still a big mystery for me, how did it happen that people thought of this before.  Indeed, in any case, when you first enter the site, there will be no font, the user will have to download it, he can simply cache it in a regular cache, a service worker will be put in today, but no. <br><br>  Another reason why this is a bad idea: first of all, localStorage was not intended for this, it is the usual key-value-storage, but what's worse, synchronous.  While we are reading something from there, the browser cannot do anything, so let's not clog the streams or put our fonts in there. <br><br>  Another approach is inline fonts.  This is when we zainlinivaem font in the head of the HTML-page code.  There is a controversial issue, because it is not cached.  But maybe this will help you if your services have a high bounce rate.  For example, you are developing an application for the funeral home - I do not think that people go there more often than once a year. <br><br>  Another practice that can be questioned is iconic fonts.  Strange situation: people use icon fonts, download 200 kilobytes with a hundred different icons, although on their websites they use only five.  If you come to this, you probably need to sabsetit and cut out all unnecessary.  But then the designer will come to you, ask you to change one icon - you have to regenerate the entire font, and users will have to fully download it again, although svg is supported everywhere for a long time.  It seems to be the ideal technology for this approach. svg         CSS-      . <br><br>   ,     .   .    ,    ,      .   ‚Äî svg. <br><br><img src="https://habrastorage.org/webt/4h/cg/kg/4hcgkglfkjjltflls89dntsnre0.jpeg"><br><br>     . ,   ,     .     ‚Äî   :  ,  ,  ,  .   . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do not be afraid to write obvious things. </font><font style="vertical-align: inherit;">Not all users are as skilled and experienced as we are. </font><font style="vertical-align: inherit;">Keep track of the readability of the text. </font><font style="vertical-align: inherit;">This is a work that is shared between you and the designer. </font><font style="vertical-align: inherit;">And if your designer doesn‚Äôt follow that much, perhaps you should remind him of that. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probably, you can refuse your custom fonts, reduce traffic, speed up the speed of displaying your content on the site. </font><font style="vertical-align: inherit;">But if you suddenly can not - look at options such as loading and replacing fonts.</font></font> Thank! </div><p>Source: <a href="https://habr.com/ru/post/432560/">https://habr.com/ru/post/432560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../432550/index.html">Introducing 3CX v16 Alpha and Updated 3CX WebMeeting</a></li>
<li><a href="../432552/index.html">Conversation with the "Higher Mind". Formula of consciousness</a></li>
<li><a href="../432554/index.html">Douglas Engelbart: Strengthening the "collective IQ" of society</a></li>
<li><a href="../432556/index.html">Tesla has patented technology for vehicle positioning.</a></li>
<li><a href="../432558/index.html">Architectural pattern "Visitor" ("Visitor") in the universe of "iOS" and "Swift"</a></li>
<li><a href="../432562/index.html">Techday Make IT Real - December 17, Moscow</a></li>
<li><a href="../432564/index.html">Rust 2018 came out ... but what is it?</a></li>
<li><a href="../432566/index.html">Two worlds or "engineers have something to say." About the various types of complex tasks and processes associated with them</a></li>
<li><a href="../432568/index.html">‚ÄúWhen you are the editor in chief of Rusbase‚Äù: a new podcast about working with content and a career in technology media</a></li>
<li><a href="../432572/index.html">Metal-air transistor will extend Moore's law - how technology works</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>