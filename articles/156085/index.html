<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analogue of the game "Life" - Evo</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings to you, habrazhiteli! 

 I recently read an article about the game Life , and I remembered that in May of this year I began to write my own ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analogue of the game "Life" - Evo</h1><div class="post__text post__text-html js-mediator-article">  Greetings to you, habrazhiteli! <br><img src="https://habrastorage.org/storage2/e33/867/ae4/e33867ae4650178b87b7e90b45af4be3.jpg"><br>  I recently read an article about the <a href="http://habrahabr.ru/post/154015/">game Life</a> , and I remembered that in May of this year I began to write <a href="https://github.com/icoz/evo">my own project of a</a> similar orientation.  Only now the interest in him for the routine work quickly faded away, although it was written a lot.  And now, inspired by this article, I took this project from the dusty shelf and added a few features, which I will discuss later. <br>  In short, <a href="https://github.com/icoz/evo">my version</a> has the following conditions: <br><ul><li>  life develops on the field of 256 * 256 cells; </li><li>  Objects of three types can be placed on the field: <em>animals</em> , <em>food</em> (let's call it grass) and <em>stone</em> (obstacle); </li><li>  the living creature is actually a modified <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2588%25D0%25B8%25D0%25BD%25D0%25B0_%25D0%25A2%25D1%258C%25D1%258E%25D1%2580%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B0">Turing machine</a> ; more precisely, it is more like an <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B2%25D1%2582%25D0%25BE%25D0%25BC%25D0%25B0%25D1%2582_%25D1%2581_%25D0%25BC%25D0%25B0%25D0%25B3%25D0%25B0%25D0%25B7%25D0%25B8%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B9_%25D0%25BF%25D0%25B0%25D0%25BC%25D1%258F%25D1%2582%25D1%258C%25D1%258E">Automaton with store memory</a> , i.e.  animal life is a "processor" that executes its "genetic" code; </li><li>  poultry has the ability to perform certain actions (to move, to eat, to multiply (so far only by cloning, mutations will be from day to day, crossing in perspective)), giving the appropriate commands; </li><li>  stepping on the grass, its living creatures trample down; </li><li>  To absorb food, you must give the command "Eat in this direction!", while in the next cell; </li><li>  animals have a memory that allows building cycles, conditions, etc., i.e.  <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25BE%25D1%2582%25D0%25B0_%25D0%25BF%25D0%25BE_%25D0%25A2%25D1%258C%25D1%258E%25D1%2580%25D0%25B8%25D0%25BD%25D0%25B3%25D1%2583">Turing full</a> (correct me if not right!), the amount of memory is unlimited; </li><li>  animals can add and subtract values ‚Äã‚Äãin the mind, the width is limited to one byte; </li><li>  There is the possibility of implementing genetic algorithms (not yet implemented). </li></ul>  Who are interested in the details, please under the cat! <br><br><a name="habracut"></a><h4>  Short description </h4><br>  I called the program <a href="https://github.com/icoz/evo"><strong>Evo</strong></a> ( <a href="">git</a> ), since it was originally planned for organisms to evolve there.  But nothing prevents the very description of the behavior of living creatures and load it into the program.  At the moment, only editing the code (in <em>MainWindow :: MainWindow ()</em> ), but loading the living creatures will be implemented soon. <br>  Evo is written in <strong>C ++ / Qt</strong> .  <em>The efficiency has been tested only under Linux</em> , although the program should work on any platform supported by the Qt library. <br>  To get a binary, just run: <br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git@github.com:icoz/evo.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> evo qmake make</code> </pre> <br><br>  So, at the start a window appears with several buttons. We start and observe how the field is filled with colors. <br><img src="https://habrastorage.org/storage2/ae9/465/14e/ae946514e2f6380d70d6815fc8beb6bb.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will explain what color has: <br><ul><li>  emptiness is white; </li><li>  stone - red; </li><li>  the grass is, of course, green; </li><li>  and in blue I singled out animals. </li></ul><br>  At the start, the genetic code of the living creatures is generated using the DSCH.  So there is no magic.  True, later <em>magic appears</em> !  Something arbitrarily generated begins to crawl, eat each other, and pasture too. <br>  There are a few simple rules: <br><ul><li>  Every 150 (by default) rounds on the field, from 100 to 1100 grass cells are thrown up to compensate for eating and trampling, and only an unoccupied cell is searched for each blade of grass. </li><li>  Every 500 (default) rounds, 150 randomly generated live creatures are added, which also begin to try to survive. </li><li>  When the population exceeds 1500 individuals, cleaning is carried out: all animals that have <em>fitness == 0</em> are killed. </li></ul><br>  Logical partitioning is as follows. <br>  The field (class Map) implements the functions of storing and moving objects, as well as the function of scattering a given amount of food. <br>  The world (World class) describes the interaction of living creatures with the outside world. <br>  Animals (instances of the class Animal) are automata, whose program is the ‚Äúgenetic‚Äù code (and I remind you that each individual has a memory and the ability to add and subtract in mind).  In the process of executing this code, the body makes or other decisions.  The world handles these requests (all this is implemented through a system of signals / slots). <br><br>  In the case of acceptable behavior, animals are rewarded with an increase in the <strong>fitness</strong> parameter.  For the absorption of grass <strong>fitness</strong> increases by <strong>1</strong> , for eating other animals - <strong>+10</strong> , for reproduction - <strong>+50</strong> .  The higher the value of <strong>fitness</strong> , the more successful the body.  In fact, this parameter describes the vitality of the organism.  By the way, I am waiting for your proposals for the introduction of new rules in order to make life difficult for these lovely creatures and force them to invent something new. <br><br>  Implemented all this mess so: <br><ul><li>  field: in <a href="">map.h</a> and <a href="">map.cpp files</a> ; </li><li>  world: <a href="">world.h</a> , <a href="">world.cpp</a> ; </li><li>  <a href="">Animal</a> life: <a href="">animal.h</a> , <a href="">animal.cpp</a> , <a href="">common.h</a> ; </li><li>  main window for visualization of what is happening: <a href="">mainwindow.h</a> , <a href="">mainwindow.cpp</a> </li></ul><br>  It should be noted that the work was done to optimize the program so that it does not absorb tons of resources.  But in view of the specifics of her work - she loads percent.  The slowest is frame rendering, so by default, only every 100th round is drawn. <br>  When saving the living creature, not only the binary code is saved, but a text file with the extension <em>* .code is created</em> , in which the decoding of this code is given. <br><br><h4>  What else do you want to do </h4><br>  The wish list is: <br><ul><li>  There is not enough implementation of genetic algorithms to be able to select the most survivable individuals and cross them.  The implementation of crossing is the most difficult thing for me, because in fact we need to cross 2 sets of bytecode.  (If there are ideas of algorithms - please in the comments). </li><li>  It may make sense to revise the set of available commands. </li><li>  I would like to realize the animal "vision", i.e.  ability to determine the type of neighboring cells </li><li>  It is possible to modify the generator so that the generation of living creatures goes not at random, but taking into account the weights of commands. </li><li>  Consider options for how to parallelize the calculations to improve performance. </li><li>  Write an editor for the ‚Äúgenetic‚Äù code so that it would be convenient to develop living creatures yourself. </li></ul><br><h4>  What will be done soon </h4><br>  The list of upcoming changes is as follows: <br><ul><li>  At reproduction in the "genetic" code mutations will be made. </li><li>  When you click "Save Current Picture", you will be prompted for a file name to save the current map. </li><li>  It will be possible to load the saved living animals. </li><li>  Possibility of loading several live creatures from the folder at the start (the working name is <em>Autorun-folder</em> ). </li></ul><br><h4>  At last </h4><br>  While I was starting to write this note, this program was spinning in my background (on the fourth hemp and there was no optimization of work speed).  At that time, I reached for the living creature <em>fitness = 3441</em> .  For this, more than 210,000 individuals lived and died, and more than 6,500 rounds passed. <br>  To get really interesting creatures that knew something interesting, you need (according to my estimates) at least 10 ^ 6 rounds.  Maybe someone more powerful computer, twist?  But it will be more interesting, of course, when genetic algorithms and a more intelligent generator of initial sets will be implemented.  Well, with the addition of generated living creatures individuals written by living people.  This will give a good start for future generations. <br>  Having driven the program on core i5, I rather quickly got walking herds.  Vitality has already reached 10390 units! <br>  It is interesting to watch these cute little creatures.  Even you begin to empathize with them. <br>  Finally, here are some interesting "life" pictures.  Visible migration routes of populations, the formation of herds. <br><img src="https://habrastorage.org/storage2/177/040/e02/177040e025d66f6ba9943566061c36e2.png"><br><br><img src="https://habrastorage.org/storage2/1c0/92f/01b/1c092f01ba701e196d1615c89092d428.png"><br>  The most serious result is 36480 (this is after 10 hours of work and 2 * 10 ^ 6 rounds): <br><img src="https://habrastorage.org/storage2/70b/e39/d31/70be39d31daefbdfba88e47d5e77e16f.png"><br>  Download, run, watch! <br>  Who cares, you can try to write bots and see who is stronger! <br><br>  That's all.  Thanks for attention! <br><br>  Bug reports and new feature suggestions are welcome. <br><br>  UPD: the mutation is already implemented at a basic level. <br>  UPD2: <a href="https://github.com/icoz/evo/issues">Bug Tracker</a> <br>  <s>UPD3: dtf thanks <a href="http://rghost.net/private/41193154/7d852d9b478273f0b751fa563f4919e0">for Windows binaries</a></s> <br>  UPD4: thanks to <a href="https://habrahabr.ru/users/dtf/" class="user_link">dtf</a> for <a href="http://rghost.ru/private/41210640/24dc593731745489608376045b557456">new binaries for windows</a> <br></div><p>Source: <a href="https://habr.com/ru/post/156085/">https://habr.com/ru/post/156085/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../156067/index.html">Tin Can API - replacing the outdated SCORM standard - part 1</a></li>
<li><a href="../156069/index.html">Common Mistakes in Bug Reporting</a></li>
<li><a href="../156073/index.html">Basic principles of building conference rooms</a></li>
<li><a href="../156081/index.html">Huawei MediaPad 10 FHD</a></li>
<li><a href="../156083/index.html">Model of rigor</a></li>
<li><a href="../156089/index.html">IPhone for the slogan</a></li>
<li><a href="../156093/index.html">Mobile user engagement analysis</a></li>
<li><a href="../156095/index.html">Some historical photos</a></li>
<li><a href="../156097/index.html">FIDO / FTN distributed voting system</a></li>
<li><a href="../156099/index.html">How to make bug reports</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>