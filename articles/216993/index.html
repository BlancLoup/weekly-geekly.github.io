<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ethernet Network Processor: Architectural Innovations for SDN Implementation in Huawei S12700 Agile Switches</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ethernet Network Processor: Architectural Innovations for SDN Implementation in Huawei S12700 Agile Switches 
 Many indicators, such as throughput, la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ethernet Network Processor: Architectural Innovations for SDN Implementation in Huawei S12700 Agile Switches</h1><div class="post__text post__text-html js-mediator-article"><h4>  Ethernet Network Processor: Architectural Innovations for SDN Implementation in Huawei S12700 Agile Switches </h4><br><a name="habracut"></a>  Many indicators, such as throughput, latency, manageability, and security, are used to evaluate the performance of network devices.  Among other indicators, the most important is forwarding technology.  ASIC (Application Specific Integrated Circuit) chips have increased the capacity of switches from 10/100 Mbit / s to N Gbit / s and N x 10 Gbit / s, but today new e-commerce services, online media, BYOD, continue to increase traffic volumes, requirements to functionality and quality assurance.  An effective solution for modern IT tasks is designed to be the SDN (Software Defined Networking) architecture, which implies data flow control and integration with management systems for interaction between the network, users and applications. <br>  In this article we will talk about the architectural solution of Huawei Enterprise - Ethernet ENP (Ethernet Network Processor) network processor, designed to increase productivity when implementing SDN architecture.  The ENP solution was the technological basis for the functionality of Alige Sx700 switches, the first of which was S12700.  Huawei plans to use the ENP in the S9700, S7700 and lower switch models in the future. <br>  Tools for developing new functionality include ASIC processors and NP network processors (Network Processor).  The advantage of ASIC in speed and reliability, the advantage of NP in flexibility and programmability.  However, at high performance, ASIC chips support only predefined service algorithms and a fixed set of protocols.  Therefore, the most significant problem in ASIC technology is the impossibility of a flexible extension of functionality.  The example below shows the fixed hardware forwarding scheme in L3 switches.  Adding a new algorithm, such as MPLS or SDN, requires adjustment of the chain, however, changing the hardware design of the chip can take years. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/228/108/a53/228108a53a82d9bd05810c56c59d118f.jpg" alt="image"></div><br><br>  Commercial NPs are designed as an alternative to ASIC for implementing complex traffic processing, security, and quality of service schemes ‚Äî for example, L4-L7 analysis, cryptography, queue management.  Instead of ASIC hardware logic, NP offers software-configured computational resources for the rapid introduction of new applications. <br>  Commercial NPs share tasks between the separated computing resources of the NPU (Network Processing Unit) ‚Äîa set of processors assembled together to increase performance.  Each group of processors corresponds to a dedicated area of ‚Äã‚Äãinstruction memory describing algorithms for performing tasks using program code, which makes it possible to implement new network protocols and data processing scripts without the need to change the hardware design of the chips.  For example, IPv6 and the corresponding route tables, new types of tunneling or traffic encryption can be implemented in the NP by changing the microcode, while the use of ASIC technology will require equipment replacement.  At the same time, improper resource planning can lead to some downtime and overloading of other NPUs, which leads to the appearance of ‚Äúbottlenecks‚Äù and performance degradation.  Another disadvantage of NP is the limited size of instructions and the performance of the NPU group, especially when it is necessary to implement more resource-intensive tasks than planned when developing NP. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fab/e3b/af6/fabe3baf6132f6cc429343dda104d336.jpg" alt="image"></div><br>  Combining a set of processors on a single platform makes it possible to increase the performance of NP to the level of ASIC.  In addition, the increase in the speed of data processing is provided by the hardware increase in the clock frequency of the chip.  However, the flip side of increasing configuration and clock frequency is the increase in power consumption. <br>  Based on more than 20 years of R &amp; D experience in microelectronics, Huawei has developed the next generation NP - Ethernet NP (ENP), which take into account: <br><ul><li>  New functional requirements, in particular, the SDN architecture, which involves switching a large number of data streams and using separate routing tables that are defined by the network controller using the OpenFlow protocol; </li><li>  reduce energy savings, as opposed to a significant increase in power devices based on commercial NP; </li><li>  removal of restrictions on the amount of instructions and improve memory performance. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The unique solutions in the design of Huawei ENP are: a single instruction area, optimized Smart Memory, a table of millions of entries and energy saving. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7cc/314/0e4/7cc3140e40d01e07a44e49d56c64400e.jpg" alt="image"></div><br>  <b>Unified instruction area</b> <br>  Unlike the standard implementation on commercial NP, the ENP instruction area is not assigned to each of the NPU groups, but one for all processor groups.  Each of the NPU groups can execute any set of instructions, from analyzing the headers to modifying the data.  Thus, the functionality should not be distributed between different NPU groups, and all resources are available to perform any of the tasks.  Huawei solution eliminates the problem of distribution of functions for performance planning, reduces the time to develop new functionality. <br>  In addition, ENP has several parallel data processing chains - this increases productivity and optimizes the operation of input / output interfaces.  In particular: <br><ul><li>  ENP can perform parallel processing of protocols of different levels L2, L3, MPLS, VPN; </li><li>  Due to the fact that the size of instructions for NPU groups in commercial NPs is limited, complex services were distributed to several NPU groups that performed their tasks sequentially;  A single instruction area in the ENP allows service to be performed on a single NPU group, since the size of instructions can be significantly increased. </li></ul><br>  <b>Smart memory</b> <br>  Both ASIC microprocessors and most commercial NPs share data processing and storage functions.  The interaction with the memory elements creates a delay, and the execution in separate modules increases power consumption.  Therefore, in its decision, Huawei integrated the elements of Smart Memory into ENP and thereby optimized the speed of data exchange. <br>  Smart Memory combines routing table storage and route search functionality, and is also able to handle traffic, particularly by limiting data transfer rates or participating in statistics collection. <br>  <b>Millions of entries in the forwarding table</b> <br>  Huawei Enterprise's hybrid SDN solution simultaneously uses the OpenFlow layer and the traditional routing layer to control data transfer.  This approach allows smooth migration to the SDN architecture without disrupting the work of existing services.  The same solution is used by other market participants, but the built-in flow tables in ASIC solutions are small.  One of the industrial solutions is the use of TCAM (Ternary Content Addressable Memory) external modules, which combine the forwarding table, QoS and packet filters.  However, such solutions are also limited in speed and table sizes. <br>  The ENP solution supports up to 16 million data flows, which provides flexible service management for tens of thousands of campus employees. <br><br>  <b>Energy saving</b> <br>  The power consumption of ASICs is fixed and is usually lower than that of commercial NPs.  The ENP solution reduces power consumption depending on the amount of traffic and processing complexity, since the ENP is able to block unused NPU groups.  As traffic increases, ENP activates resources for a few nanoseconds.  The success of this mechanism has been tested by test laboratories, which have documented the ability of Huawei switches to cope with a sharp surge in traffic. <br><img src="https://habrastorage.org/getpro/habr/post_images/dd3/c29/613/dd3c29613a5c0f71113a6717aa143a45.jpg" alt="image" align="left">  The use of energy-saving technology leads to a decrease in power consumption by 30%. <br>  The power consumption of the chip directly proportional to the clock frequency.  Therefore, in the ENP solution, Huawei integrated the speedometer, voltage and timing controllers.  The speedometer is on the way of the data to the NPU groups to monitor the amount of traffic.  Changes in data rate lead to changes in data channel clock frequency.  At the same time, changes in the number of packets lead to an adjustment in the number of active packet processors.  If the NPU group is locked, the processors are not energized and synchronized.  If necessary, the processors are instantly included in the work. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f29/626/045/f29626045d47df4b3d7e8a76954f8bbc.jpg" alt="image"></div><br><br>  <b>ENP Applications</b> <br>  Huawei Enterprise employs ENP processors in the 1GE and 10GE interface modules, which are recommended for connecting aggregating access level switches and implementing enhanced functionality.  In this case, the trunk interfaces 10GE, 40GE and 100GE are formed by modules that use the ASIC architecture to achieve maximum performance and support MPLS. <br>  To preserve the performance of existing applications and network solutions, Huawei Enterprise implemented a solution called "hybrid OpenFlow", which in parallel provides work: <br><ul><li>  switching and routing functions (3 million IPv4 routing entries, 1 million IPv6, 128 thousand IP multicasts, 1 million MAC and 256 thousand packet filters), </li><li>  SDN for flow control (16 million streams). </li></ul><br>  SDN implementation in the Huawei POF (Protocol Oblivious Forwarding) solution is based on the OpenFlow standard and is backward compatible with it for interoperability with other manufacturers.  The POF technology is different in its ability to work with any protocols and non-standard packages, whereas the OpenFlow standard implies only operations with IP.  ENP processors extend Huawei‚Äôs ability to work with new protocols that can be implemented programmatically, while ASN implementations of SDN deprive manufacturers of flexibility. <br>  A practical example of using Huawei Enterprise‚Äôs SDN solution is to encapsulate data and add user information to the headers of packets.  In the test scheme compiled by Miercom, the formation of a non-standard package containing the sender‚Äôs location information was verified.  Additional information was later used to identify the data flow and direct it over the network. <br>  In addition to SDN, ENP-based interface modules support enhanced functionality of wireless access traffic aggregation, implement quality control and alarm localization.  The subscriber aggregation solution includes a distributed AC access controller (Access Controller) and a BRAS (Broadband Remote Access Server) remote access server, which turns the Huawei S12700 switch into a high-performance WiFi traffic hub that can connect up to 4,000 AP access points (serving Point). up to 65 thousand simultaneous connections.  The total bandwidth of the solution is 800 Gbit / s.  For the convenience of managing APs and remote ports of aggregating switches, the Huawei Agile solution implements the technology of the unifying virtual factory SVF (Super Virtual Fabric).  SVF presents remote APs and access switch ports as virtualized S12700 ports, and CAPWAP (Control And Provisioning of Wireless Access Points) control and configuration technology allows you to centrally manage software, configurations, and current AP network settings without the need to work with individual devices. <br>  Integration of subscriber aggregation solutions and SDN allows you to implement user service policies and, if necessary, operate with the traffic of vertically integrated applications, highlighting it in virtual environments of secure access.  At the same time, the concept of data flows, implemented in the Huawei S12700 switches, allows you to centrally manage quality across the network.  The iPCA (Packet Conservation Algorithm for Internet) Isolated Network Flow technology allows you to once determine the signs of priority traffic on a campus controller, and then transfer the requirements to all network devices.  ENP-based solutions identify priority traffic flows and control its passage through the network at each transit node.  And for quality control and localization of accidents, iPCA accumulates operational statistics based on each ENP microprocessor. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/223/4d7/08e/2234d708ee9847f37cbe8d4303bc3222.jpg" alt="image"></div><br>  IPCA implementation is another example of Huawei's technological leadership and practical application of SDN. <br></div><p>Source: <a href="https://habr.com/ru/post/216993/">https://habr.com/ru/post/216993/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../216979/index.html">Watch the AppSummit conference online</a></li>
<li><a href="../216981/index.html">The creators of the site with pirated Android applications face 5 years in prison</a></li>
<li><a href="../216983/index.html">Static sites in the cloud storage</a></li>
<li><a href="../216985/index.html">Correct YML for Yandex.Market. Programmer's Look</a></li>
<li><a href="../216991/index.html">Registration of sites: now for 1000 rubles</a></li>
<li><a href="../216997/index.html">Reflections on the standard JavaScript library. Core.js</a></li>
<li><a href="../216999/index.html">Sony Xperia Z1 Compact: tested in humans</a></li>
<li><a href="../217003/index.html">The human body is like a gadget</a></li>
<li><a href="../217005/index.html">Webinar of HUAWEI Enterprise and Landata companies ‚ÄúNew Huawei TE40 / 50/60 video terminals‚Äù, March 27, 2014</a></li>
<li><a href="../217009/index.html">Logitech Wave (K350). One year later</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>