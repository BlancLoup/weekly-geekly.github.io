<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>10 principles of self-documenting code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! Today I want to share tips on writing a perfect clear code, taken from the book by Peter Goodleaf "Craft programmer // Practice of writing good...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>10 principles of self-documenting code</h1><div class="post__text post__text-html js-mediator-article">  Hello!  Today I want to share tips on writing a <s>perfect</s> clear code, taken from the book by Peter Goodleaf "Craft programmer // Practice of writing good code." <br><br>  Of course, it would be nice to read this entertaining book to anyone who writes code, but for particularly lazy, but willing to stop torturing less and introduce colleagues to confusion ( <i>have a conscience</i> ), I imagine <b>10 principles of self-documenting code</b> under the cut <b>:</b> <br><a name="habracut"></a><br><h3>  1. Write a simple code with good formatting. </h3><br>  The presentation format has a huge impact on the ease of understanding the code.  A sensible representation conveys the structure of the code: functions, loops, and conditional statements become clearer. <br><br><pre><code class="plaintext hljs">int fibonacci(int position) { if (position &lt; 2) { return 1; } int previousButOne = 1; int previous = 1; int answer = 2; for (int n = 2; n &lt; position; ++n) { previousButOne = previous; previous = answer; answer = previous + previousButOne; } return answer; }</code> </pre> <br><ul><li>  Try to make the normal execution of your code obvious.  Error handling should not detract from the normal execution sequence.  Conditional if-then-else constructs should have a uniform branch order (for example, always put a branch of ‚Äúnormal‚Äù code in front of the ‚Äúerror handling‚Äù branch, or vice versa). </li><li>  Avoid a large number of levels of nested statements.  Otherwise, the code becomes complicated and requires lengthy explanations.  It is considered that each function should have only one exit point;  this is known as the code <i>Single Entry, Single Exit (SESE, one input - one output)</i> .  But usually this restriction makes it difficult to read the code and increases the number of nesting levels.  I like the above version of the fibonacci function more than the following <b>SESE</b> style <b>version</b> : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="plaintext hljs">int fibonacci(int position) { int answer = 1; if (position &gt;= 2) { int previousButOne = 1; int previous = 1; for (int n = 2; n &lt; position; ++n) { previousButOne = previous; previous = answer; answer = previous + previousButOne; } } return answer; }</code> </pre><br>  I would have refused such unnecessary nesting in favor of the additional operator <i>return</i> - it became much more difficult to read the function.  The expediency of hiding a <i>return</i> somewhere in the depth of a function is quite doubtful, but simple abbreviated calculations at its beginning make it very easy to read. </li><li>  Beware of optimizing the code as a result of which the clarity of the basic algorithm is lost.  Optimize the code <i>only</i> when it becomes clear that it interferes with the acceptable work of the program.  When optimizing, make clear comments on the operation of this code segment. </li></ul><br><h3>  2. Choose meaningful names </h3><br>  The names of all variables, types, files and functions should be meaningful and not misleading.  The name must correctly describe what it is.  If you can not find a meaningful name, then there is a doubt that you understand the work of your code. <br><br>  The naming system should be consistent and not cause unpleasant surprises.  Make sure that the variable is always used only for the purpose its name implies. <br><br>  A good choice of names is probably the best way to avoid unnecessary comments.  Names best allow you to bring the code closer to the expressiveness of natural languages. <br><br><h3>  3. Break the code into independent functions. </h3><br>  How you break the code into functions and what names you give them can make the code understandable or completely incomprehensible. <br><br><ul><li>  One function, one action </li></ul><br>  Minimize any unexpected <i>side</i> effects, however helpful they may seem.  They will require additional documentation. <br>  Write short functions.  They are easier to understand.  You can orient yourself in a complex algorithm if it is broken into small fragments with meaningful names, but this cannot be done in a shapeless mass of code. <br><br><h3>  4. Choose meaningful type names </h3><br>  As far as possible, describe the constraints or behavior using the available language features.  For example: <br><br><ul><li>  Defining a value that will not change, assign a constant type for it (use <i>const</i> in C). </li><li>  If the variable should not take negative values, use the unsigned type (if available in the language). </li><li>  Use enumerations to describe the associated dataset. </li><li>  Choose the type of variables correctly.  In C / C ++, write the size to variables of type <i>size_t</i> , and the results of arithmetic operations with pointers to variables of type <i>ptrdiff_t</i> . </li></ul><br><h3>  5. Use named constants. </h3><br>  A code like <i>if (counter == 76)</i> is puzzling.  What is the magic value of the number 76?  What is the meaning of this test?  Practicing magical numbers is flawed.  They obscure the meaning of the code.  It is much better to write this: <br><br><pre> <code class="plaintext hljs">const size_t bananas_per_cake = 76; ... if (count == bananas_per_cake) { //    }</code> </pre><br>  If the code often contains the constant 76 (excuse me, <i>bananas_per_cake</i> ), an additional advantage is achieved: when you need to change the content of bananas in the cake, it is enough to modify the code in one place and not perform a global search / replace the number 76, which is fraught with errors. <br><br>  This applies not only to numbers, but also to constant strings.  Take a closer look at <i>any</i> literals in your code, especially if they occur multiple times.  Wouldn't it be better to use named constants instead? <br><br><h3>  6. Highlight important code snippets. </h3><br>  Try to highlight the important code on the background of the usual material.  In the right place should attract the attention of the reader.  For this there are a number of techniques.  For example: <br><br><ul><li>  Reasonably place your ads in the classroom.  First, there should be information about open objects, because it is the class user who needs it.  Closed implementation details should be placed at the end, as they are less interesting to most readers. </li><li>  If possible, hide all non-essential information.  Do not leave unnecessary garbage in the global namespace.  In C ++, there is a pimpl idiom that allows you to hide the details of a class implementation.  (Meyers 97). </li><li>  Do not hide the important code.  Do not write more than one operator in a line and make this operator simple.  The language allows you to write very ingenious for statements in the for loop, in which all the logic fits into one line with the help of many commas, but it is difficult to read such statements.  Avoid them. </li><li>  Limit the nesting depth of conditional statements.  Otherwise, it is difficult to notice the handling of really important cases behind the jumble of if and parentheses. </li></ul><br><h3>  7. Combine related data </h3><br>  All related information should be in one place.  Otherwise, you will force the reader not only to jump through hoops, but also to look for these hoops using ESP.  The API for each component must be represented by a single file.  If there is too much interconnected information to represent it in one place, the code architecture should be revised. <br><br>  If possible, combine objects using language constructs.  In C ++ and C #, you can combine elements within the same <i>namespace</i> .  In Java, the package mechanism is a means of combining.  Related constants can be defined in the enumeration. <br><br><h3>  8. File Headers </h3><br>  At the beginning of the file, place a block of comments describing the contents of the file and the project to which it belongs.  This does not require much work, but brings great benefits.  Those who will have to accompany this file will get a good idea of ‚Äã‚Äãwhat they are dealing with.  This title may have a special meaning: most software companies for legal reasons require that each source file contain a copyright statement.  Usually file headers look like this: <br><br><pre> <code class="plaintext hljs">/********************************************************* * File: Foo.java * Purpose: Foo class implementation * Notice: (c) 1066 Foo industries. All rights reserved. ********************************************************/</code> </pre><br><h3>  9. Correctly handle errors </h3><br>  Place all error handling in the most appropriate context.  If there is a read / write disk problem, it must be processed in the code that deals with disk access.  To handle this error, you may need to generate another error (such as the exception "I can not download the file"), passing it to a higher level.  This means that at each level of the program the error should be an exact description of the problem in <i>its context</i> .  It makes no sense to handle the error associated with a disk failure in the user interface code. <br><br>  Self-documenting code helps the reader to understand where the error occurred, what it means and what its implications are for the program at the moment. <br><br><h3>  10. Write meaningful comments. </h3><br>  So, we tried to avoid writing comments using other indirect methods of documenting code.  But after you have made every effort to write a clear code, everything else needs to be provided with comments.  To make the code easy to understand, you need to add the <i>appropriate</i> amount of comments.  What exactly? <br><br>  First try other tricks.  For example, check whether the code can be made clearer by changing the name or creating a helper function, and thus avoid commenting. <br><br><hr><br>  I am sure that already after introducing several of these principles into the habit you will make one programmer happier.  And you will be this happy programmer.  When?  At the time of returning to work on his code of six months ago. </div><p>Source: <a href="https://habr.com/ru/post/458264/">https://habr.com/ru/post/458264/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458246/index.html">Random coincidences of life, or how did it happen that at the tractor factory you were presented with a cake</a></li>
<li><a href="../45825/index.html">UFO video from the ISS</a></li>
<li><a href="../458252/index.html">Mathematical model of a radio telescope with a super-long base</a></li>
<li><a href="../458256/index.html">Is it time to shreds?</a></li>
<li><a href="../458262/index.html">Online meeting room designer - selection of the optimal solution for video conferencing</a></li>
<li><a href="../458268/index.html">Automatic segmentation of the respiratory organs</a></li>
<li><a href="../45827/index.html">Use paging file instead of partition</a></li>
<li><a href="../458270/index.html">About errors arising from nowhere and in which there is no one to blame: the phenomenon of smearing of responsibility</a></li>
<li><a href="../458276/index.html">The first simulation of the Universe based on AI has been developed. The neural network performs its work so well that it is even strange</a></li>
<li><a href="../458278/index.html">How hackers use Microsoft Excel against him</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>