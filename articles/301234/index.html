<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How are the backups of customers in our TierIII data center</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The simplest is our S3 storage. In this case, we provide only the space, without any logic and organization of copying. Cheaply, simply, reliably, lik...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How are the backups of customers in our TierIII data center</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/88c/184/765/88c184765bef4615ab4c3c117a2415e1.jpeg"><br><br>  The simplest is our S3 storage.  In this case, we provide only the space, without any logic and organization of copying.  Cheaply, simply, reliably, like a blow with a baton in the dark.  S3 can copy most backup products - Veritas NetBackup / Backup Exec, CommVault, Veeam, EMC Networker, etc. This solution takes place in 2 hours. <br><br>  The second approach is a complete backup infrastructure.  We actually give the customer to rent a part of the software and hardware complex.  And in this case, the customer receives not just a backup, but the entire backup service, including the programmatic organization of the copying logic.  For example, if the customer is located in the data center on Volochaevskaya and uses the service, the Avamar complex collects backups from its infrastructure and makes both a copy in the same data center and a copy to another site if necessary.  In addition, the system has internal protection for the Avamar itself - the system‚Äôs impression is removed twice a day, deduplicated, compressed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Everything, of course, is excellent, but for objective reasons (we all managed to feel the crisis), we began to look for more budgetary, but at the same time functional options. <a name="habracut"></a><br><br><h4>  Let's start with Avamara, once mentioned </h4><br>  To meet the challenges of storing backups outside the local infrastructure, we installed the EMC Avamar PAC.  The scheme is classical: a client application is installed on the copied machines, it integrates with the operating system and software, collects data, deduplicates it and sends it to our data center.  Copying is always incremental: first, the system makes a complete copy of the data, and then only changing blocks (usually it is 1-3% of the total).  This can significantly reduce the load on the channel and reduce the backup window.  From the point of view of access, these are synthetic full backups. <br><br>  <b>Pros:</b> <br><ul><li>  fast copying due to deduplication and compression; </li><li>  good price; </li><li>  the possibility of recovery in the infrastructure of our data center to virtual machines; </li><li>  Recovery Guarantee: This is an array on the RAIN architecture with protection against disk / shelf failure and internal consistency checks on data.  This is a more reliable medium for storing information than a regular tape cartridge ‚Äî not least because it was chosen as the main cloud storage; </li><li>  backup costs grow as requirements grow, not jumps in capital costs; </li><li>  minimum of concern and customer support.  We, together with the customer, carry out the initial configuration, as well as monitor the status of the system (it is free); </li><li>  suitable for those who cannot buy software and hardware from foreign suppliers. </li></ul><br><br><img src="https://habrastorage.org/files/091/cab/d42/091cabd425344a478244906b163689ac.jpeg"><br>  <i>The infrastructure, including PAK Avamar and integrated with vcloud (one of the shoulders of KROK cloud infrastructure) and KROK cloud (KVM-based cloud solution), is deployed in the Compressor data center.</i> <br><br>  <b>Minuses:</b> <br><ul><li>  Backup and recovery on a local site depends entirely on the quality of the Internet channel. </li></ul><br><br>  Customers often need something small in backup, for example, a separate letter deleted yesterday, a specific file or something else.  It's pretty silly to roll out the whole image because of the file "1.txt", which the user accidentally overwritten on his desktop.  PAK Avamar provides software administrators with a convenient console and a nice GUI for working with application files and users.  They themselves can find and restore data without pulling the backup administrator.  Naturally, access rights are delimited. <br><br><h4>  Cheap and angry </h4><br>  Evaluating various implementation options, we gradually came to another solution - when we turn out a turnkey backup solution to the customer‚Äôs infrastructure: <br><br><img src="https://habrastorage.org/files/0fe/7f5/4eb/0fe7f54eb00941af962cab8caf7d845a.png"><br><br>  CrocBackApp is a server with a large disk capacity and the ability to connect external disk shelves, on which CommVault is installed, which we are OEM.  At the request of the customer, the servers can be clustered in one chassis, and in general, almost any architectural solution can be built to the customer‚Äôs needs. <br><br>  As testing progressed, another important advantage of such a solution emerged: ease of customization and integration into the corporate environment.  That is, the customer takes the hardware with our installed CrocBackApp, simply puts it on the platform, launches it, installs it with the help of the clients wizard on the protected machines - and it works. <br><br>  Plus, we achieve tasty discounts due to the volume of purchases of hardware and software - if you try to build or purchase such a solution from large vendors yourself, you will get more expensive. <br><br>  Along with the task of storing backups on a remote site, there is one more frequently encountered task - organizing not only backups, but also a flexible infrastructure in a remote data center, which you can quickly upgrade in an hour of X.  And here we offer the customer no longer ‚ÄúBackup-as-a-Service‚Äù, but actually ‚ÄúDisaster Recovery-as-a-Service‚Äù.  The attractiveness of the service is that in normal mode the customer actually pays only for storing and transferring data to a remote data center, and, if necessary, begins to consume the entire infrastructure, and can restore it in a matter of minutes. <br><br>  We do this service - ‚ÄúDisaster Recovery-as-a-Service‚Äù - in different ways: <br><br><ol><li>  There is direct replication between our clouds and the private cloud or customer infrastructure.  There are VMware, Hyper-V and KVM clouds where data can be directly replicated by means of hypervisors (for example, vSphere Replication).  This is the easiest and most affordable replication method. </li><li>  Restoring infrastructure from backups to our cloud infrastructure.  There are solutions from different manufacturers.  There is Veeam Cloud Connect Replication, which allows you to replicate data or backups over the WAN-channels to our infrastructure.  As part of our main backup solution - Avamar - we can copy and restore data from different environments - p2v, v2p, between different clouds (for example, Vmware in KVM, and vice versa). </li><li>  The third solution is more interesting: </li></ol><br>  Some of our customers have asked to replicate their hardware (OS) into our cloud to our virtual machines.  This is exactly the task of the ‚Äúfallen out‚Äù office, when a client can take and run something from his backup directly from the cloud in 10 minutes. Replication using Zerto and Double-Take software allows to mirror the data of the operating system and applications over IP with minimal delay.  On the technical side, it looks like a service that runs inside the operating system or the ESX hypervisor and transfers all changes to us in the cloud.  On the practical side, this is an opportunity for the client to restore the functionality of the application in the shortest possible time. <br><br><img src="https://habrastorage.org/files/a74/b42/49f/a74b4249fb4f45439a932b6b389c251a.jpeg"><br><br>  With this approach, in addition to the technical solution, we are working with customers and Disaster Recovery plans for disaster recovery.  So that the customer himself could, if necessary, test or carry out the restoration of part of their machines or the entire infrastructure. <br><br><h4>  Practice </h4><br>  The Avamar solution is already 5 years old, and the CrocBackApp is a couple of examples.  Somehow, a retail chain came to us, which did not have a centralized backup across the entire infrastructure, and lacked the capacity of a ‚Äúsmall‚Äù one, designed for individual offices.  Iron and software were different everywhere, and when something fell, a circus and a zoo began in an attempt to roll everything back.  No, this, in general, worked, but each individual case required the competence of a sysadmin, who has 8 years of experience with this environment and knows exactly what archaeological layer lies on.  It was he who ordered CrocBackApp ‚Äúcubes‚Äù from us to get rid of these nightmares in the regions once and for all. <br>  Then came the government agencies: their data is not the largest, but important.  They have our "cubes" just stuck in switches FC or Ethernet, and clients are installed on all local machines.  Then you just need to set up a backup schedule and storage plan. <br><br>  As a result, a very simple scheme was formed: <br><ul><li>  If a business with a large number of offices or, on the contrary, SMB, and does not want / is not able to install a separate hardware locally, we implement Avamar backup.  There is a fairly low storage cost and zero upfront costs.  That is, OPEX is small, and CAPEX is zero. </li><li>  For those who have the opportunity to place equipment on their sites, we offer CrocBackApp.  OPEX is smaller than with Avamar, but there is a CAPEX. </li><li>  And for those who already have their own backup infrastructure, we suggest using our S3 for remote storage. </li></ul><br><br><h4>  Links </h4><br><ul><li>  How does <a href="https://habrahabr.ru/company/croc/blog/196258/">corporate backup work on Avamara?</a> </li><li>  My mail is SerVerchenov@croc.ru </li></ul></div><p>Source: <a href="https://habr.com/ru/post/301234/">https://habr.com/ru/post/301234/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../301220/index.html">SAP Innovation Forum for development companies in Moscow</a></li>
<li><a href="../301222/index.html">Creating a first-level in-memory cache for StackExchange.Redis .NET clients</a></li>
<li><a href="../301224/index.html">Preparing mine infrastructure for the implementation of the RealTrac local positioning and voice communication system</a></li>
<li><a href="../301226/index.html">The creators of the TeslaCrypt Trojan encoder closed the project and published the master key for unlocking</a></li>
<li><a href="../301230/index.html">Six Myths of Product Development</a></li>
<li><a href="../301236/index.html">Technosphere Mail.Ru: student projects, laboratory and championships in Data Science</a></li>
<li><a href="../301238/index.html">PostgreSQL: Case in Vacuum</a></li>
<li><a href="../301240/index.html">Papaya CMS licensing FAQ</a></li>
<li><a href="../301242/index.html">Automate system administration, review problems and solution. Ed wilson</a></li>
<li><a href="../301244/index.html">Pitertsy world champions! Not hockey, so programming</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>