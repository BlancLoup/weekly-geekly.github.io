<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Asterisk Managment Interface (AMI), Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In continuation of the first part of the description of the operation of the open-source PBX interface Asterisk I publish the second part of the other...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Asterisk Managment Interface (AMI), Part 2</h1><div class="post__text post__text-html js-mediator-article">  In continuation of the first part of the description of the operation of the open-source PBX interface Asterisk I publish the second part of the other day.  This part provides some examples of using this interface for interacting with PBX, starting from connection and authorization, to calling and editing configuration files. <br><br>  The full version of the article was written and will be corrected here: <a href="http://asteriskpbx.ru/wiki/manager-interface-doc">asteriskpbx.ru/wiki/manager-interface-doc</a> <br><a name="habracut"></a><br><h4>  AMI connection </h4><br>  To connect to AMI, you can use the telnet program.  This is how the greeting system looks like: <br><br> <code>$ telnet 127.0.0.1 5038 <br> Trying 127.0.0.1... <br> Connected to localhost. <br> Escape character is '^]'. <br> Asterisk Call Manager/1.1 <br></code> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Next, type: <br><br> <code>Action: login <br> Username: admin <br> Secret: passwd1234 <br></code> <br><br>  two times Enter, which is equivalent to entering CRLF After, should see the following response (Response package): <br><br> <code>Response: Success <br> Message: Authentication accepted <br></code> <br>  That tells us that we successfully logged into the AMI interface.  During the successful entry into AMI, in the console of Asterisk we will see (in 1.4): <br><br> <code>asterisk*CLI&gt; <br> == Parsing '/etc/asterisk/manager.conf': Found <br> == Manager 'admin' logged on from 127.0.0.1 <br></code> <br>  1.6 eliminates the need to read a configuration from a disk each time you connect to AMI.  They are read once at the start of the program and can be re-read upon reboot (the commands are given above). <br><br>  You can see all users currently connected to the AMI interface from the Asterisk console: <br><br> <code>*CLI&gt; manager show connected <br></code> <br>  Changing the password and executing the 'manager reload' command does not affect the permissions for already established AMI sessions.  This means that if the password or access rights are changed in the file, these changes will not affect the clients already working with the server. <br><br>  If you do not need events generated by Asterisk (there may be a lot of them, which make it difficult to read Asterisk responses in the console), you can also include another entry in the parameters passed during the authentication procedure. <br><br> <code>Events: off <br></code> <br>  This entry prevents the sending of Event packets by the server within the established connection. <br><br>  To terminate an AMI connection session, you need to run: <br><br> <code>Action: logoff <br></code> <br>  After that we will see the session on the telnet screen: <br><br> <code>Response: Goodbye <br> Message: Thanks for all the fish. <br></code> <br>  During the completion of the AMI session, we can see the following in the Asterisk console: <br><br> <code>asterisk*CLI&gt; <br> == Manager 'admin' logged off from 127.0.0.1 <br></code> <br>  Note Naturally, the AMI interface is not intended for the administrator to manually connect to the Asterisk server using a telnet client and the like.  Here, this example is shown solely as a demonstration of the possibilities and visibility of the work of exchanging Action, Event and Response packets.  However, this approach can be useful in learning and debugging the actions of a team. <br><br>  Note You can see all the commands related to the Asterisk AMI Management CLI management interface by typing in the console: <br><br> <code>asterisk *CLI&gt; help manager <br></code> <br><h4>  AMI authorization passwords </h4><br><br>  It is important to understand that the passwords transmitted when connecting to the AMI interface are transmitted in clear text.  This can be a threat to the operation of the Asterisk service.  To hide the transmitted password, use the md5 algorithm.  Using the md5 algorithm in no way removes the security requirements described above.  If you still use a remote connection even on a private network, it is recommended to use the request / response and the md5 algorithm, the principle of which is very similar to the similar HTTP and SIP authentication.  To do this, first call the action Challenge (Request), which will provide you with a request token: <br> <code>Action: Challenge <br> AuthType: md5 <br> <br> Response: Success <br> Challenge: 84041345 <br></code> <br><br>  After that, you can take the token of the received request and add the unencrypted password at the end and calculate the checksum of the resulting string using the md5 algorithm.  The result can be used for registration without the need to transfer the secret in clear text (plain text).  It will look like this: <br><br> <code>Action: login <br> AuthType: MD5 <br> Username: admin <br> Key: qwf32r23p98yvdspa9h4o4woaewv7 <br></code> <br>  where Key is the resulting amount. <br><br>  Note The md5 input algorithm accepts any length of characters and outputs a 128-bit fingerprint (finger-print) or message profile (message digest) that was input to the algorithm.  It is hypothesized that two messages that have the same message profile or are generated by any message have a specific message profile. <br><br>  Message digest is a short fixed-length digital string, formed from a longer message using a special algorithm.  The md5 algorithm is assigned to a digital signature (digital signature) of applications where large files must be ‚Äúcompressed‚Äù in a secure way before they are encrypted with a public or private key using a public key cryptosystem, such as RSA.  Digital signature is a digital signature that is a unique electronic identifier that verifies the message with the sender's authenticity and ensures that the document has not been changed since it was signed. <br><br><h4>  Action Packages </h4><br>  At a time when Asterisk sends Action packets, it is necessary to provide additional keys for proper execution, for example, you will want to determine the call number and so on.  Moreover, you may want to log in to the Asterisk numbering plan and pass some parameters to the channel variables.  In this case, the key transfer process will look like this: <br><br> <code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code><code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> <h4> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </h4> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> <ul><li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> </ul> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> <ul><li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> <li> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </li> </ul> <code><code><code>Action: &lt;key 1&gt;: &lt;value 1&gt; <br> &lt;key 2&gt;: &lt;value 2&gt; <br> ....... <br> <br>  ,    AMI     (  Manager'  ): <br> <br> Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br></code> <br> ,  SIP  2401      .     Enter,     SIP-.        : <br> <br> <code>Action: Originate <br> Channel: SIP/2401 <br> Context: incoming <br> Exten: 2401 <br> Priority: 1 <br> Callerid: 2401 <br> Variable: ANSWER=1 <br> Variable: _ACC=2 <br> <br> Event: Newchannel <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Down <br> CallerIDNum: CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Newcallerid <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> CID-CallingPres: 0 (Presentation Allowed, Not Screened) <br> <br> Event: Newstate <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> State: Ringing <br> CallerID: 2401 <br> CallerIDName: Uniqueid: 1237301090.1 <br> <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301090.1 <br> Cause: 19 <br> Cause-txt: User alerting, no answer <br> <br>    ,     ,   CLI ; <br> <br> asterisk*CLI&gt; manager show eventq <br></code> <br>     : <br> <br> <code>Usecount: 1 <br> Category: 2 <br> Event: <br> Event: Hangup <br> Privilege: call,all <br> Channel: SIP/2401-09a1f418 <br> Uniqueid: 1237301603.2 <br> Cause: 21 <br> Cause-txt: <br></code> <br>    ,    Originate,     AMI.        AMI,     CLI : <br> <br> <code>asterisk *CLI&gt; manager show command [_] <br></code> <br> <br>   read  write <br> <br>  read  write   manager.conf        AMI. ,    AMI    manager.conf   read  write    ¬´command¬ª,        ,     ‚Äî privilege:command. ,     ,      AMI   ,        : <br> <br> <code>asterisk*CLI&gt; manager show command Command <br> Action: Command <br> Synopsis: Execute Asterisk CLI Command <br> Privilege: command,all <br> Description: Run a CLI command. <br> Variables: (Names marked with * are required) <br> *Command: Asterisk CLI command to run <br> ActionID: Optional Action id for message matching. <br></code> <br>      (Synopsis) ,  .  Privilege   ,       manager.conf  ,      AMI. Variables    ,        .    ‚Äî *Command,   (       ),   ActionID ‚Äî . <br> <br>    ,  manager.conf    AMI ‚Äî   (access list).      ,     (events)   (actions),      .    read/write. Read     ,     AMI. <br> <br> Write  ,   AMI    ,   .       read/write,      : <br> <br> system ‚Äî   ,     ,   SIP   ; call ‚Äî   ,    ,    ; log ‚Äî Logging information,        ,      ; verbose - Verbose information,        ,      ; command ‚Äî          CLI ; agent ‚Äî   ,      (queue); user ‚Äî  ,       ,   UserEvent.          ,    , AGI, AMI ; config -        ; dtmf -  DTMF  ( ); reporting -     ; cdr -    cdr_manager ( ,  ); dialplan -   NewExten  VarSet ( ); originate -       ( ). <br>   ,     AMI      . ,    1.4  1.6   AMI ,    -      (flow control)   ,  .      AMI ,       AMI    . <br>   AMI.    ActionID.   AMI ¬∂ <br> <br>    AMI  ,      .     : <br> <br> <code>asterisk *CLI&gt; manager show command GetConfig <br></code> <br> <br>      sip.conf   : <br> <br> <code>Action: GetConfig <br> Filename: sip.conf <br> ActionID: 435430239485234 <br></code> <br>     : <br> <br> <code>Response: Success <br> ActionID: 435430239485234 <br> Category-000000: general <br> Line-000000-000000: context=incoming <br> Line-000000-000001: language=ru <br> Line-000000-000002: allowguest=yes <br> Line-000000-000003: bindport=5060 <br> Line-000000-000004: bindaddr=0.0.0.0 <br> Line-000000-000005: dtmfmode=info <br> Line-000000-000006: disallow=all <br> Line-000000-000007: allow=alaw <br> Line-000000-000008: allow=ulaw <br> Line-000000-000009: allow=gsm <br> Line-000000-000010: nat=never <br> Line-000000-000011: canreinvite=no <br> Category-000001: 2401 <br> Line-000001-000000: type=friend <br> Line-000001-000001: host=dynamic <br> Line-000001-000002: username=2401 <br> Line-000001-000003: secret=2401 <br> Line-000001-000004: callerid=2401 <br> Line-000001-000005: context=incoming <br></code> <br> <br>   Action   ,     ,    Response     ActionID.         AMI,         ActionID   ¬´¬ª  ,     , ,     (Action-),    ,     Response-.    ,  Response-      ,       AMI. ,   Action-,       Action     Response.           ,     AMI . <br> <br>    sip.conf,  AMI   : <br> <br> <code>Action: Command <br> Command: sip reload <br> ActionID: 230432984582 <br></code> <br>    AMI: <br> <br> <code>Response: Follows <br> Privilege: Command <br> ActionID: 230432984582 <br> --END COMMAND-- <br> <br> Event: ChannelReload <br> Privilege: system,all <br> Channel: SIP <br> ReloadReason: CLIRELOAD (Channel module reload by CLI command) <br> Registry_Count: 0 <br> Peer_Count: 2 <br> User_Count: 2 <br></code> <br>          AMI .     UpdateConfig. ,   2402   sip.conf.  UpdateConfig   : <br> <br> <code>asterisk*CLI&gt; manager show command UpdateConfig <br> Action: UpdateConfig <br> Synopsis: Update basic configuration <br> Privilege: config,all <br> Description: A 'UpdateConfig' action will modify, create, or delete <br> configuration elements in Asterisk configuration files. <br> Variables (X's represent 6 digit number beginning with 000000): <br> SrcFilename: Configuration filename to read(eg foo.conf) <br> DstFilename: Configuration filename to write(eg foo.conf) <br> Reload: Whether or not a reload should take place (or name of specific module) <br> Action-XXXXXX: Action to Take (NewCat,RenameCat,DelCat,Update,Delete,Append) <br> Cat-XXXXXX: Category to operate on <br> Var-XXXXXX: Variable to work on <br> Value-XXXXXX: Value to work on <br> Match-XXXXXX: Extra match required to match line <br></code> <br>   ,       . ,        : <br> <br> SrcFilename:       UpdateConfig,          ; DstFilename: ,    ; Reload: , ,       ,         ,   ; Action-XXXXX: , ,   .   : NewCat, RenameCat, DelCat, Update, Delete  Append; Cat-XXXXX: ,   ; Var-XXXXX: ,   ; Value-XXXXX: ,   ; Match-XXXXX: ,  ,  ,     ; ActionID: , ,       . <br>      : config, all.</code></code> </div><p>Source: <a href="https://habr.com/ru/post/64243/">https://habr.com/ru/post/64243/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../64231/index.html">How to legalize iPhone, imported into Ukraine from abroad</a></li>
<li><a href="../64236/index.html">Holiday sale!</a></li>
<li><a href="../64238/index.html">GNU or Linux?</a></li>
<li><a href="../64239/index.html">Question Win7 connoisseurs</a></li>
<li><a href="../64240/index.html">The Story of a Day: PHPUnit, Selenium, Facebook</a></li>
<li><a href="../64246/index.html">If you have a budget of $ 1K and a desire to buy the most stuffed smartphone, what would you buy?</a></li>
<li><a href="../64249/index.html">Accelerate SSD in Acer Aspire One A110 netbook</a></li>
<li><a href="../64250/index.html">Perfect 404 page</a></li>
<li><a href="../64251/index.html">Objective-C on the web: server side view</a></li>
<li><a href="../64252/index.html">1990 Loom for $ 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>