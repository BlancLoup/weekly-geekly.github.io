<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Case "Monitoring of the business loan portfolio of the bank with the help of three-dimensional visualization"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 In this article, I will share with you our experience in solving an interesting analytical problem using non-standard visual tools. The...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Case "Monitoring of the business loan portfolio of the bank with the help of three-dimensional visualization"</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  In this article, I will share with you our experience in solving an interesting analytical problem using non-standard visual tools.  The article will be of interest to people involved in data analysis, as well as bank managers who specialize in monitoring and analyzing the loan portfolio of a bank. <br><br>  The application, about which, in fact, I will write below, is based on the platform iDVP (Interactive Data Visualization Platform). <br><br> <a href=""><img src="https://habrastorage.org/webt/fw/ak/av/fwakavm_epp-oflxjh-8xg0xhmk.jpeg"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><h3>  So, let's begin! </h3><br>  The task that we solved and which I am going to describe in this article was formulated as follows: <br><blockquote>  The bank provides loans to large legal entities - borrowers.  The number of large borrowers at one point in time does not exceed 1,000. <b>The bank‚Äôs management</b> needs a handy tool with which it would be possible to see (monitor) a complete picture of the bank‚Äôs loan portfolio.  At the same time, it should be possible to move from a look at the loan portfolio as a whole to detailed information on each of the borrowers. </blockquote><br>  <b>In what conditions is the leader and what he needs?</b> <br><br><ol><li>  The management wants to spend a minimum of effort on working with the application, on the interpretation of visual information, on data analysis. </li><li>  The management wants to see the state of the loan portfolio immediately, simply by opening the application, without making a single mouse click. </li><li>  Information should be presented "as much as possible" - on one screen, without the need for scrolling.  Already on the first screen, the user must see which borrowers are ‚Äúproblematic‚Äù, how ‚Äúproblematic‚Äù and what their share in the portfolio is in terms of quantity and value. </li><li>  Filtering and grouping tools should be easy and intuitive. </li><li>  The application screens should be ‚Äúbeautiful‚Äù, so that the management with the help of it could ‚Äúeffectively‚Äù present their reports to the founders and shareholders. <br></li></ol><br>  Bank analysts, as well as vendors of BI-tools, are trying to create solutions that would meet all the specified requirements, but not all requirements can be fully implemented, and as a result, the created software solutions do not always like the management.  We decided to go our own way and design a solution that would satisfy all the requirements with the highest possible quality. <br><br>  I already told you about our approach to data analysis tasks in the previous article; if you want, you can <a href="https://habrahabr.ru/post/344654/">read it</a> . <br><br><div class="spoiler">  <b class="spoiler_title">The main points of this article</b> <div class="spoiler_text"><ol><li>  When examining the customer, we always try to identify the pain (problem) of the customer, which can be solved with the help of data analysis.  And we create an application that solves this problem completely. </li><li>  For data analysis, we use not ‚Äúordinary‚Äù BI reports, but three-dimensional applications.  In these applications, the visualization of analytical information is performed in the form of 3D objects, combined into thematic interactive scenes (screen forms), interconnected by logical transitions. </li><li>  The solutions we create have three principles in their foundation: </li></ol><br><ul><li>  A visual representation of the picture of the customer's business.  Already at the first acquaintance with the application, on the first screen, the user should see all parts of his business that interest him. </li><li>  Disclosure of the causes of the problem.  After selecting a problem point, the user should be able to use the drill down function, which allows them to fall deeper into the problem area, and see the causes of the problems on the following screen forms. </li><li>  Technical aesthetics.  The application should have a wow effect, i.e.  should be attractive, intuitive and convenient. </li></ul><br>  These principles, in our opinion, should take an equal position in the formation of requirements for a solution, along with functional requirements. <br>  It was in accordance with the listed theses of the previous article that we started to create our solution. <br><br>  Let me remind you our application design steps: <br><br><ol><li>  Setting the task and getting started; </li><li>  Inspection of the customer and work with open sources; </li><li>  Analysis, formation of requirements and documentation; </li><li>  Formation of the final document "Description of the application." </li></ol><br>  The following description is structured according to these steps. <br></div></div><br><h3>  Task setting and start of work </h3><br>  Within this stage, together with bank specialists, we determined that the main ‚Äúpain‚Äù of the customer is to track the state of the loan portfolio, while it should be possible to drill down to a specific borrower. <br><br>  Naturally, the application must meet all the specific requirements of the bank management listed above. <br><br><h3>  Customer survey and work with open sources </h3><br>  During the survey, the following picture of this line of business was obtained. <br><br><blockquote>  The main income of most banks is to provide loans to companies and individuals. <br><br>  Some banks specialize in lending to the public, others in lending to legal entities. <br><br>  In this bank, the task of monitoring loans issued to large borrower companies was particularly acute.  Borrowing companies are related to various industries, therefore a portfolio analysis is required, both by company and by industry. <br><br>  The bank for each borrower compiled and constantly updated its profile, which contains information about the reliability of the borrower, about its financial performance. <br><br>  Bank analysts also collect information about the cash flow of the borrower and other indicators, build a cash flow model.  Information is collected from several bank information systems. <br><br>  Based on the analysis of the information collected, problems are identified in the borrower and the borrower is assigned to one of the 5 problem areas used in the bank to group borrowers: <br><br><ol><li>  Green zone - this zone includes the borrower, who has not identified any problems that may affect the return of the loan; </li><li>  Yellow zone - the borrower has some problems; </li><li>  Red zone - the borrower has identified significant problems; </li><li>  The black zone - the borrower with a probability close to 100 percent, does not pay the loan; </li><li>  White zone - the problem of the borrower has not yet been calculated. </li></ol><br>  Depending on the problem of the borrower, the bank is obliged to place on special accounts reserves for possible losses, the amount of which depends on the loan amount and the reliability of the borrower.  In this regard, it is necessary to control the size of these reserves and not allow them to grow, because  the reserve is ‚Äúdead‚Äù money for the bank, which it cannot use. <br><br>  Also, bank analysts perform analysis of the borrower's overdue debts (NPL - Non-performing loans).  According to the results of the analysis, the borrower is assigned to one of the 4 NPL zones: <br><br><ol><li> Green zone - loan payments by the borrower are not overdue or overdue for up to 4 days; </li><li>  Yellow zone - delay is from 5 to 29 days; </li><li>  Red zone - from 30 to 89 days; </li><li>  Black zone - from 90 days and above. </li></ol><br>  As a result of consideration of all indicators of the borrower, the bank calculates its total rating, which shows how reliable the borrower is. <br><br>  For each loan, the timeliness of payments and the fulfillment of other conditions of the loan agreement are monitored. <br><br>  In the event of a delay in the next payment, the bank finds out the reasons for the delay and takes action against the borrowing company.  These could be fines or tightening the terms of the loan agreement. <br><br>  The loan agreements also indicate ‚Äúcovenants‚Äù - these are special terms of the agreement that prohibit the borrowing company from taking actions that adversely affect the borrower's ability to repay the loan.  Examples of covenants are: the obligation of the borrower to provide financial statements to a bank, closing accounts with other banks, prohibiting loans from other banks, providing collateral for a loan. </blockquote><br><h3>  Analysis, formation of requirements and documentation </h3><br>  The main functions of the application, providing monitoring of this subject area, were: control of the volume of loans, the reliability or problem of borrowers, as well as other indicators. <br><br>  The more ‚Äúbad‚Äù loans in monetary terms the bank has, the worse the quality of the loan portfolio.  Therefore, the bank‚Äôs management must immediately see ‚Äúbad‚Äù loans and ‚Äúbad‚Äù borrowers, be able to see the detailed situation of the problem borrower and decide on further actions in relation to it. <br><br>  We decided that the work of the user manager with the application should ultimately be similar to the game ‚Äúfind the problem borrower and find out what his problem is‚Äù. <br><br>  Also, to make the application convenient for the bank management, we decided to make not only the desktop version for Windows, but also for Mac OS, iOS and Android.  Moreover, the platform on which we develop these applications allows us to do this, as they say, ‚Äúone-touch‚Äù. <br><br>  According to the results of the analysis, the following indicators were identified that need to be monitored for each borrower: <br><br><ol><li>  Debt </li><li>  Problem zone </li><li>  NPL zone </li><li>  Reserve amount </li><li>  Borrower rating </li></ol><br>  The application should allow the user to: <br><br><ol><li>  See all borrowers on one screen;  it should be remembered that at the same time the bank serves up to 1,000 large borrowers; </li><li>  Filter borrowers by debt; </li><li>  Filter borrowers by problem areas; </li><li>  Filter borrowers by NPL; </li><li>  Filter borrowers by bank branches that issued loans to them; </li><li>  Filter borrowers by industry; </li><li>  Filter borrowers by problems identified by them. </li></ol><br>  Try to imagine a report (or several reports) that will meet these requirements, as well as the requirements specified at the very beginning of the article.  Submitted?  And now I invite you to familiarize yourself with our decision. <br><br>  As I said above, the convenience and beauty of the application we have a very great importance.  Therefore, not only analysts are involved in the work on the application screens, but also 3D designers and usabilityists. <br><br>  As a result, we have such an iDVP application main screen. Banks. Credit processes (see figure below). <br><br> <a href=""><img src="https://habrastorage.org/webt/fw/ak/av/fwakavm_epp-oflxjh-8xg0xhmk.jpeg"></a> <br><br>  At first glance, the screen seems rather saturated, but at the same time all the information is distributed into zones, which facilitates perception.  What zones turned out in the end? <br><br><h4>  Central zone </h4><br> <a href=""><img src="https://habrastorage.org/webt/lj/l-/3m/ljl-3mot9xxripkegm5byeocxa8.jpeg"></a> <br><br>  In this area in the form of multi-colored planets (balls) are the borrowers of the bank.  The size of the planet corresponds to the amount of debt on a loan from a given borrower.  The color of the planet corresponds to the problem area of ‚Äã‚Äãthe borrower.  At the same time, borrowers of the same color are grouped together so that you can visually assess their share (quantitatively and by amount of debt) in the loan portfolio.  Thus, we solved the task ‚Äúto see all borrowers on one screen‚Äù. <br><br>  In the same zone there is a filter by the size of the planets (pay attention to the scale and the circle located to the right of the planets).  Using this filter, you can specify the minimum and maximum debt for the displayed borrowers.  You can leave on the screen only large borrowers, for example.  The task of ‚Äúfiltering borrowers by volume of debt‚Äù has been solved. <br><br>  When you click on any planet, you go to the screen ‚ÄúBorrower's card‚Äù (see the picture below), it provides detailed information on the indicators characterizing this borrower and his credit. <br><br> <a href=""><img src="https://habrastorage.org/webt/9b/ss/pl/9bsspluutwgcal106arhyzknhko.jpeg"></a> <br><br>  The task ‚Äúthe transition from the overall picture of the loan portfolio to a specific borrower" for the analysis of the situation should be made with a minimum number of clicks "is solved. <br><br>  In the initial state of the screen of a small planet, it is not always convenient to click - it is just hard to get into them with a mouse or, in the case of touch interfaces, with a finger.  To compensate for this difficulty, in the central zone there is an opportunity to zoom in and zoom out (and zoom out) any part of the planetary system.  This is done either using the mouse wheel, or, if a touch-screen is used, using the ‚Äúpinch‚Äù action. <br><br><h4>  Left filter zone </h4><br> <a href=""><img src="https://habrastorage.org/webt/zy/nb/oz/zynbozwj19nmfj0keahszy6eaeu.jpeg"></a> <br><br>  This zone contains a filter for the color zones of the problem of borrowers.  You can click / click the necessary / unnecessary problem areas.  As a result, only the borrower planets of the colors needed by the user will remain in the central zone.  The task ‚Äúfilter borrowers by problem zones‚Äù, ‚Äúfilter borrowers by NPL zones‚Äù has been solved.  An attentive reader will certainly ask how we filter borrowers by NPL zones with this tool, because it filters only problem areas.  Everything is simple: in the upper left part of the screen there is the text ‚ÄúREDUCTION BALANCE‚Äù - this is, in fact, a drop-down list of the choice of display modes for borrowers.  The following modes are available for selection: <br><br><ol><li>  DEBT REDUCTION - in this mode, the size of the planets is determined by the size of the debt, and the color of the planets - the problem area; </li><li>  VOLUME NPL - in this mode, the size of the planets is determined by the size of overdue debts, and the color of the planets is determined by the NPL zone; </li><li>  RESERVE - in this mode, the size of the planets is determined by the size of the reserve, and the color of the planets is determined by the problematic zone; </li><li>  RATING - in this mode, the size of the planets is determined by the rating value, and the color of the planets is determined by the problematic zone. </li></ol><br>  Here in the ‚ÄúVolume NPL‚Äù mode, the filter is on the left and becomes a filter by color zones NPL. <br><br><h4>  Filter Zone on the right </h4><br> <a href=""><img src="https://habrastorage.org/webt/8z/jx/gb/8zjxgbmnxpim4rhlue--ru6sjy4.jpeg"></a> <br><br>  This zone contains the filter element "accordion", which contains three filters: <br><br><ol><li>  Central Bank + TB (central office + territorial banks) - with the help of this filter, you can leave on the screen only borrowers whose loans were issued by the central office (head office of the bank) or territorial banks (branches). </li><li>  BRANCH - allows you to filter borrowers of certain industries. </li><li>  PROBLEMS - this filter allows you to leave on the screen only those borrowers whose problems have been identified by bank analysts. </li></ol><br>  The peculiarity of the ‚Äúaccordion‚Äù element is that only one filter is deployed at a time (the ‚ÄúPROBLEM‚Äù filter is deployed in the sketch).  The remaining filters are in a collapsed state. <br><br>  The task ‚Äúto filter borrowers by bank branches, by industry, by problems‚Äù has been solved. <br><br><h4>  Lower graphics area </h4><br> <a href=""><img src="https://habrastorage.org/webt/tn/m_/-g/tnm_-gqpnhavswlv3bwlqwtbsv0.jpeg"></a> <br><br>  In this zone there is a graph in which the change in the ratio of problematic zones or NPL zones in time is displayed.  To do this, use the graph type "line graph with accumulation."  Graphic colors correspond to problematic zones or NPL zones. <br><br>  The user has the ability to set the slider to any date on the chart, and in the central zone only those borrowers that were at the bank at that time will be displayed.  The sizes of the planets and their colors will correspond to the amount of debt and the problem area that each borrower had on the selected date. <br><br>  <b>Below I attach the rest of the application screens: sketches and titles.</b>  And you will have the opportunity to study and analyze them yourself.  If you have questions about the content - ask them in the comments, be sure to answer. <br><br> <a href=""><img src="https://habrastorage.org/webt/9v/aj/_c/9vaj_crniwv3_etvxzzu53pjaou.jpeg"></a> <br>  <i>The main screen with the display of a circular diagram of the distribution of color zones of problematic</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/ps/pe/b2/pspeb2w5dkrvi2f0gqtewamozag.jpeg"></a> <br>  <i>Main screen with debtors filtered by debt volume (on the scale to the left of the planets, the lower display limit is set at 20% of the maximum)</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/at/cg/4d/atcg4dvj4skdkn8idjcg5gzmhcm.jpeg"></a> <br>  <i>Main screen.</i>  <i>The approach of the planets (zoom-in)</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/9b/ss/pl/9bsspluutwgcal106arhyzknhko.jpeg"></a> <br>  <i>Borrower's card</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/eu/-n/vb/eu-nvbbsx9lixyf5dsaar0tenk4.jpeg"></a> <br>  <i>Borrower card.</i>  <i>Borrower's problem areas</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/io/cg/j6/iocgj6ypveaajenz5829y-nkj4c.jpeg"></a> <br>  <i>Tabular representation of the loan portfolio</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/9k/ez/9u/9kez9ucfit0_5tijlwatn5ewlwe.jpeg"></a> <br>  <i>Distribution of the loan portfolio by problem areas and change in their volume</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/tb/om/nm/tbomnmm3igvyipxeah0gytklrtk.jpeg"></a> <br>  <i>Dynamics of borrowers transition between two problematic zones (the sketch shows the transition between the red and black problematic zones)</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/if/nv/rc/ifnvrco0t8we4p1hj89f2e2u8im.jpeg"></a> <br>  <i>The dynamics of the tasks aimed at eliminating problems with borrowers</i> <br><br> <a href=""><img src="https://habrastorage.org/webt/0v/wq/ky/0vwqky8ft8gfofblmqhuumjynmg.jpeg"></a> <br>  <i>Display of the loan portfolio of the bank by industry</i> <br><br>  I hope that the visual part of our application is pleasant for perception and quite clear from the semantic point of view. <br><br><h3>  Formation of the final document "Description of the application" </h3><br>  According to the results of the analysis, solution design and sketching, a document ‚ÄúApplication Description‚Äù was prepared, the structure and contents of which are described in detail in the previous article. <br><br><ol><li>  According to this document, the project is currently ongoing, namely: </li><li>  Formation of statement on the visual part of the application; </li><li>  Formation of statement on loading and processing of application data; </li><li>  Development of 3D components (the ‚Äúplanet‚Äù component has already been developed by us); </li><li>  Imposition of the application; </li><li>  Testing and acceptance of the application. </li></ol><br><h3>  Conclusion </h3><br>  I hope that our approach to data analysis and visualization will be useful for you. <br>  I will also be glad to hear constructive criticism of our visual findings, if any. <br><br>  Surely you had questions when reading.  Ready to answer them in the comments.  Write! <br><br>  Thank you for reading to the end! </div><p>Source: <a href="https://habr.com/ru/post/349658/">https://habr.com/ru/post/349658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349644/index.html">Sort Lists by CSS</a></li>
<li><a href="../349646/index.html">[Video] Speeches from the Yandex.Money PieMn mit about agile and coaching</a></li>
<li><a href="../349650/index.html">Continuous transitions between common elements: from RecyclerView to ViewPager</a></li>
<li><a href="../349652/index.html">How to make Java code simpler and clearer</a></li>
<li><a href="../349656/index.html">VLFs - Forgotten Enemy</a></li>
<li><a href="../349660/index.html">Methods for constructing test functions</a></li>
<li><a href="../349662/index.html">We invite you to give lectures on the gaming industry on March 1 at VSBI</a></li>
<li><a href="../349664/index.html">HDR game analysis</a></li>
<li><a href="../349666/index.html">Overview lecture and the launch of the 2nd part of the course on the development of web services on Go</a></li>
<li><a href="../349668/index.html">Creating a company. Ideology - first</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>