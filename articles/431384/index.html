<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CLion 2018.3: remote development, code profiling, speed and not only</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 The other day we released the CLion 2018.3. The third major release this year sums up our work in two important areas of development - la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CLion 2018.3: remote development, code profiling, speed and not only</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  The other day we released the CLion 2018.3.  The third major release this year sums up our work in two important areas of development - <strong>language support</strong> and <strong>remote development</strong> . <br><br>  In addition, we finally: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  added code profiling tools; </li><li>  reworked commands in the editor to build / rebuild code at the level of a single file, several targets, or the entire project; </li><li>  along with other IDEs based on the IntelliJ platform, added support for Git submodules and GitHub pull requests; </li><li>  improved means of universal access to IDE (accessibility) features. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a5a/d0a/fc3/a5ad0afc309e083c544caea0b7b5fc2c.png" alt="image" width="800" height="400"></div><br>  Read more about these and other innovations below.  And to try new features and improvements, download the free 30-day version <a href="https://www.jetbrains.com/clion/download/">from our website</a> . <br><a name="habracut"></a><br><h2>  C ++ language support </h2><br><h3>  More C ++ 17 </h3><br>  The CLion parser has learned to understand two new features of the C ++ 17 standard - <a href="https://en.cppreference.com/w/cpp/language/fold"><em>fold expressions</em></a> and <a href="https://en.cppreference.com/w/cpp/language/class_template_argument_deduction"><em>deduction guides</em></a> .  On the one hand, changes in the parser are not yet full support, but at least the code highlighting will be more correct, and for cases the <em>user-defined deduction guides</em> IDE will even correctly display the type and can be seen, for example, when calling function parameters. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ee/992/6fd/7ee9926fd1a9e8b2b935e2689cd229ee.png" alt="image" width="455"><br><br><h3>  Clangd is now in navigation </h3><br>  <a href="https://habr.com/company/JetBrains/blog/418729/">Last time</a> we wrote that CLion now uses not only its own language engine for working with C / C ++ code, but also one more additional, experimental one, made on the basis of Clangd.  Turning it on to display errors and warnings in the editor, we moved on and in CLion 2018.3 implemented some code navigation and search in code based on it. <br><br>  The language engine based on Clangd provides the results, which are later combined with the results obtained from the own CLion engine.  A typical example is Find Usages ( <code>Alt+F7</code> ): Clangd searches the files open in the editor, and our own engine searches the rest. <br><br>  Examples of other actions where the language engine on Clangd is additionally used: <br><br><ul><li>  Go to declaration ( <code>Ctrl+B</code> / <code>‚åòB</code> ) / Go to definition ( <code>Ctrl+Alt+B</code> / <code>‚å•‚åòB</code> ) </li><li>  Highlighting all the inclusions of the character at the cursor </li><li>  Quick Documentation ( <code>Ctrl+Q</code> / <code>F1</code> ) </li></ul><br>  Clangd is enabled by default and is configured in Settings / Preferences |  Languages ‚Äã‚Äã&amp; Frameworks |  C / C ++ |  Clangd: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d5/38c/33b/7d538c33b58e4afcceb7b02f79899c06.png" alt="image" width="455"><br><br>  That is, you can independently enable / disable the necessary functionality over Clangd - for example, only displaying errors or only navigation.  If you need to completely disable the use of Clangd, uncheck all the checkboxes in this dialog. <br><br>  And, by the way, Clang-Tidy is quite possible to run without Clangd, but launching through Clangd significantly improves performance, since it uses the AST tree cached in Clangd. <br><br><h2>  Remote development </h2><br>  In the <a href="https://habr.com/company/JetBrains/blog/352388/">release of CLion 2018.1,</a> an opportunity appeared on Windows to work with the subsystem of Windows Subsystem for Linux (WSL).  This Linux environment built into Windows allows you to build, run and debug Linux applications on Windows.  We then said that we specifically implemented WSL support via ssh, that is, as a remote subsystem.  This was the first step to working with completely remote configurations. <br><br>  And in CLion 2018.3 we announced support for the first large version of remote development: <br><br><ul><li>  On the local machine where CLion runs, it can be Linux, Windows or macOS. </li><li>  On a remote machine, where CLion will build your application, run and debug it, run tests, for now there can only be Linux. </li><li>  It is assumed that the code is on the local machine.  CLion itself synchronizes it to a remote machine, and back to the local one pulls out the header search paths for quick rezolv code in the editor.  Synchronization is performed via <em>rsync</em> for Linux or macOS as local machines, and via <em>sftp</em> and <em>gzip</em> for Windows. </li><li>  It works so far only for projects on CMake. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/70e/4cd/ced/70e4cdcedbff1e4f0c8678e01100c688.gif" alt="image" width="852"><br><br>  Setting up such a remote configuration is very easy - you just need to create a remote toolchain in Settings / Preferences |  Build, Execution, Deployment |  Toolchains and use it in some CMake profile.  Detailed instructions are in <a href="https://blog.jetbrains.com/clion/2018/09/initial-remote-dev-support-clion/">our English-language blog</a> and <a href="https://www.jetbrains.com/help/clion/remote-projects-support.html">online documentation</a> .  Synchronization progress with the remote host is displayed in the File Transfer window (View | Tool Windows | File Transfer), and the connection settings and directory paths on the remote machine are changed in the Settings / Preferences |  Build, Execution, Deployment |  Deployment. <br><br>  A lot of work is expected in this direction.  Now, as you can see, the options for locating the code directly on the remote machine are not supported, there is no support for the remote version control system, there is no integration with the remote terminal, and there are many minor flaws in installing the connection itself.  But the main thing is - <strong>remote development with CLion is now possible!</strong> <br><br><h2>  Custom code performance analysis </h2><br>  CLion 2018.3 provides an opportunity to analyze the performance of the code.  On Linux - <em>Perf</em> integration is provided, on MacOS - with <em>DTrace</em> .  The new action is available in the Run menu, in the navigation bar and in the context menu of the application launch icons.  Code profiling results are available in the CPU Profiler window (View | Tool Windows | CPU Profiler). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/163/2cc/4f9/1632cc4f970622096f0f59b6308c6805.gif" alt="image" width="616"><br><br>  Details about what you need to install on your computer to earn profiling code, read the <a href="https://blog.jetbrains.com/clion/2018/10/clion-2018-3-eap-profiler-multiline-todo/">blog</a> or <a href="https://www.jetbrains.com/help/clion/2018.3/cpu-profiler.html">online documentation</a> . <br><br>  It is worth noting that the UI / UX is still somewhat experimental.  It is planned to significantly improve it in versions 2019.x.  But there are already useful things, like the ability to see all threads together or one by one, the ability to navigate to the source code, etc. <br><br><h2>  Build and Rebuild Commands </h2><br>  The number of various combinations of build commands has grown so much that we decided to move them all to a separate menu item - Build.  There you can build / rebuild the entire project, and target <code>all</code> from all or from the selected CMake profile, and the selected configuration, and one specific file: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/657/5dd/816/6575dd81655b768ee87545e37c11bb49.png" alt="image" width="455"><br><br>  This, of course, for CMake.  For the compilation database, there will only be a specific file reassembly command. <br><br><h2>  Universal dialogues: Run Anything and Search Everywhere </h2><br>  CLion users have been familiar with the Search Everywhere ( <code>Double Shift</code> ) dialog for a long time, as with the Find Action dialog ( <code>Ctrl+Shift+A</code> / <code>‚áß‚åòA</code> ) to search for a command or setting by name, and with navigation dialogs on a file, symbol or class by their name.  And now this is, in fact, the same dialogue! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d1/66a/454/9d166a45460a37123d3b2c94f53e24e8.gif" alt="image" width="670"><br><br>  Separate dialogs turned into separate tabs, switching works through <code>Tab</code> .  At the same time, we have eliminated a number of problems associated with these dialogues, including the loss of focus and incorrect dimensions. <br><br>  Another new universal dialog is Run Anything ( <code>Double Ctrl</code> ).  From there, you can start the application in normal mode or from under the debugger, and also open any project: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86a/80c/09b/86a80c09b6df390c98fc08d4da48698b.gif" alt="image" width="670"><br><br><h2>  Checks in ompilation_database.json </h2><br>  Compilation database is an alternative project model that CLion has been supporting for some time.  It is very convenient in that <a href="https://sarcasm.github.io/notes/dev/compilation-database.html">you can get it</a> from virtually any other design model, popular or even custom.  CLion can open projects from the compilation database, parse the code correctly and provide all the smart tools for working with code.  The only drawback is the lack of information about the assembly of the entire project in this format, so that only separate files from the IDE will be obtained so far. <br><br>  In this release, we added the schema for files compilation_job.json to CLion, and on the basis of this scheme we already implemented checks in the file itself.  For example, an incorrect type of value is correctly or missing: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/909/712/d6e/909712d6ec8eb151d0572c9c26a40444.png" alt="image" width="455"><br><br>  Checks can be very useful if you decide to write such a file with your hands or correct an existing file. <br><br><h2>  Editor performance and tests </h2><br>  In many dumps from our users, it was clear that the significant performance problems of the IDE are related to how the IDE determines the list of tests available in the project.  In version 2018.3, we made this process lazy, and now, if you have not opened a single file with tests in the editor, they will not be indexed.  In addition, performance improvements were made when navigating to test results, auto-completion of test macros, etc. <br><br><h2>  Editor improvements </h2><br>  As you know, in the Quick Documentation window ( <code>Ctrl+Q</code> / <code>F1</code> ) CLion can display not only documentation and code comments, but also derived types for variables and the final substitution in macros.  This final substitution is now formatted, and keywords are highlighted in it.  Very convenient for complex macros with several levels of attachments, for example for Boost: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ca/2ec/21b/8ca2ec21b741635388f0641df177518f.png" alt="image" width="455"><br><br>  TODO comments can now be made multi-line, the main thing is to indent the second and subsequent lines - CLion will automatically understand that this is part of the TODO comment: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fbf/593/851/fbf593851256a865a46be7b5eaa1e8d4.png" alt="image" width="455"><br><br>  There are users for whom standard themes are not convenient, as they do not have sufficient contrast.  For them, we have added a special High-contrast Theme.  It can be included only in the code editor (Ctrl + `) or for the whole IDE (Settings / Preferences | Appearance &amp; Behavior | Appearance | Theme). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2d7/864/78f/2d786478f06c00599ff283b130952fdf.png" alt="image" width="455"><br><br>  Together with the IntelliJ Platform, we reworked the plug-in settings menu in the IDE (Settings / Preferences | Plugins).  It is now much easier to keep installed plugins up to date, and also to sort and filter a huge repository of existing plugins for IDE. <br><br><h2>  Version Control System </h2><br>  Another important platform change is the long-awaited support for <strong>Git submodules</strong> .  Now all operations for working with VCS in CLion take into account submodules as well: project cloning, updating it, comparing versions (diff), etc. <br><br>  A <strong>GitHub Pull Requests</strong> window has been added, in which you can not only view all pull requests, but also search / filter them by author or state.  And you can also create a new branch from any pull request literally in one click. <br><br><h2>  Demo </h2><br>  Traditional video about the new features of CLion 2018.3 in English: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/5PQ2Xp4Q3pw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  What next? </h2><br>  Next year we plan to continue working on the second additional language engine based on Clangd - let's see what other IDE features we can implement on it.  We will improve the editor's performance, finish and improve the existing features;  Particularly diverse is the work of supporting remote development in CLion.  From integrations we plan clang-format and, probably, this or that debugger for Windows / MSVC. <br><br>  A key focus for us will be <strong>Embedded development</strong> .  More recently, <a href="https://habr.com/users/elmot/" class="user_link">Elmot</a> , the author of a very popular plugin for support in CLion <a href="https://plugins.jetbrains.com/plugin/10115-openocd--stm32cubemx-support-for-arm-embedded-development">OpenOCD + STM32CubeMX</a> , joined our team.  Ilya will continue to integrate this functionality into the IDE, we are planning to finish the memory view as soon as possible and redo the hex view. <br><br>  Questions, suggestions, bug reports and just thoughts expressed in the comments!  We will be happy to answer. <br><br>  <em>Your JetBrains CLion Team</em> <br>  <em>The Drive to Develop</em> </div><p>Source: <a href="https://habr.com/ru/post/431384/">https://habr.com/ru/post/431384/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431374/index.html">The last judgment: an analysis of the financial performance of the game in the early access</a></li>
<li><a href="../431376/index.html">Data migration in a bloody enterprise: what to analyze, so as not to overwhelm the project</a></li>
<li><a href="../431378/index.html">The whole truth about the RTOS. Article # 23. Queues: introduction and basic services</a></li>
<li><a href="../431380/index.html">Mitap Netologii and Skyeng about soft skills "What a developer needs to know, except for the code"</a></li>
<li><a href="../431382/index.html">JVM Ecosystem Survey Results</a></li>
<li><a href="../431388/index.html">The world through the eyes of the car. How do drones see it?</a></li>
<li><a href="../431390/index.html">Digital trends in 2019 and their impact on changing consumer behavior</a></li>
<li><a href="../431392/index.html">Shamir's secret sharing scheme</a></li>
<li><a href="../431394/index.html">Curious perversions from the IT world</a></li>
<li><a href="../431396/index.html">How we collect customer biometric data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>