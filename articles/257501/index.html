<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cach√© 2015 Scalability with Ivy Bridge-EX</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, we talked about the latest release of InterSystems Cach√© 2015.1 , which significantly improved performance, supported the second version of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cach√© 2015 Scalability with Ivy Bridge-EX</h1><div class="post__text post__text-html js-mediator-article">  Recently, we talked about the latest release of <a href="http://habrahabr.ru/company/intersystems/blog/253825/">InterSystems Cach√© 2015.1</a> , which significantly improved performance, supported the second version of the XSL Transformations (XSLT) Version 2.0 XML document transformation language, and used semaphores to synchronize processes in Cach√© and organize their interaction with each other.  In addition, the new Cach√© release expands the use of high-availability scripts and supports the use of an external NGINX web server for the Cach√© application server.  In this article, we‚Äôll talk about the first of these enhancements to our database, namely, how much Cach√©‚Äôs performance improves on multiprocessor servers equipped with Intel Xeon E7 v2 processors (codenamed Ivy Bridge-EX). <br><br><img src="https://habrastorage.org/files/4cd/0fa/7b4/4cd0fa7b41e1414885bdf757e740ffe7.png"><br><a name="habracut"></a><br>  These processors, which are the most powerful in the Intel Xeon line and designed for four or more processor systems, came out about a year ago.  Compared to the first generation Xeon E7, they doubled the performance, increased the internal cache by 25%, tripled the maximum amount of RAM supported and quadrupled the I / O bandwidth.  In addition, through the use of crash protection technologies designed for Intel Itanium processors, servers based on Xeon E7 v2 provide accessibility at the level of five nines (99.999%).  The Xeon E7 processor contains up to 15 processor cores, which support two command streams, and use shared L3 cache with up to 37.5 MB and up to three QuickPath Interconnect (QPI) links.  Four-processor servers equipped with this processor are scaled to 6 TB of RAM, and eight-processor servers to 12 TB of RAM. <br><br>  In order to evaluate the scalability of Cach√© 2015.1 using Xeon E7 v2 processors, InterSystems has tested the database while maintaining the Electronic Medical Records Management System (EMR) from <a href="http://epic.com/">EPIC</a> , which is used in some of the largest US medical institutions.  Tests have shown that Cach√© 2015.1 combined with Enterprise Cache Protocol (ECP) technology on Xeon E7 v2-based servers can handle more than 21 million end-user requests to the database per second (we call this Global References per Second or GREF) .  In this case, more than three times the result was improved, which was achieved on Cach√© 2013.1 in combination with the Xeon E5.  The choice to test the EMR system is explained by the fact that medical institutions along with financial institutions, retail and the public sector are the main customers of InterSystems. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The three-fold increase in productivity was achieved due to the following improvements in the scalability of Cach√© 2015.1: <br><br><ul><li>  A new paralleling algorithm for certain applications, thanks to which with increasing load and the number of users the application response time remains at the same level; <br><br></li><li>  Cach√© 2015.1 uses special commands that minimize latency when running applications on multi-core systems associated with non-uniform data access (NUMA, non-uniform memory access), therefore, as the number of processors installed on the processor servers increases, the application response time does not increase. </li></ul><br><h2>  <font color="#26328c">How tests were conducted</font> </h2><br>  The tests were performed using a copy of a real multi-terabyte database, which is used by the EPIC EMR system serving the Sanford Health hospital network.  Sanford Health is one of the largest medical organizations in the United States, which owns 43 hospitals with 1,400 doctors, and provides treatment for more than 26,000 patients. <br><br>  Intersystems and Epic performance experts performed on a multi-terabyte copy of the Sanford Health database a series of tests to determine Cach√© 2015.1 performance measured in GREF, and also tested the performance of the same database with the previous release of Cach√© 2013.1.  To generate the load generated by database queries from end users, special modeling tools developed by Epic were used.  At the same time, the number of end users accessing the database gradually increased.  In the tests, both the GREF performance indicators and the delay values ‚Äã‚Äãwere measured, i.e.  how fast the database can handle a series of complex queries. <br><br><img src="https://habrastorage.org/files/626/169/292/6261692925b642108ae559074c646615.png" align="left" height="100">  For testing, Cach√© 2015.1 used a four-processor server with Intel Xeon E7-4890 v2 processors with a clock frequency of 2.8 GHz, and Cach√© 2013.1 worked on a two-socket server with Intel Xeon E5-2680 2.7 GHz.  Both servers were running Red Hat Enterprise Linux and VMware vSphere;  they had the necessary resources of computing power, RAM and disks, so that these indicators did not limit the scalability of the systems or slow down the database's response to requests.  A solid state array was used as a storage system. <br><br><h2>  <font color="#26328c">results</font> </h2><br>  As can be seen from the graph, Cach√© 2015.1 on a server with Intel Xeon E7-4890 v2 in tests showed three times better performance than Cach√© 2013.1 on a server with Intel Xeon E5-2680.  The graph also clearly demonstrates that with an increase in the number of queries to the database, the delays in using the new Cach√© release grow much slower.  It should be noted that testing with more than 22 million GREF was not conducted due to limitations in the server's hardware configuration, and not to achieve the performance ceiling of Cach√© 2015.1 itself. <br><br><h2>  <font color="#26328c">findings</font> </h2><br>  Testing demonstrated significantly improved scalability of the new Cach√© release, provided both with improvements in the database parallelization mechanism and using the advantages of the new multi-core architecture of Intel Xeon E7 v2 processors. <br><br>  Thank you for your attention, we are ready to answer your questions. </div><p>Source: <a href="https://habr.com/ru/post/257501/">https://habr.com/ru/post/257501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257489/index.html">Intel Enterprise Edition - ‚ÄúShade‚Äù for Luster</a></li>
<li><a href="../257491/index.html">REST server for a simple Haskell blog</a></li>
<li><a href="../257493/index.html">How to quickly build mailer for call center</a></li>
<li><a href="../257497/index.html">Development of Return of Dr. Destructo: What Progress Reached</a></li>
<li><a href="../257499/index.html">Notes on the fields of Big Data Week Moscow</a></li>
<li><a href="../257503/index.html">Power profiling of microcontrollers (EFM32, SiLabs series)</a></li>
<li><a href="../257505/index.html">Responsive design + Icon fonts = Adaptive icons</a></li>
<li><a href="../257507/index.html">A new virus that disables the computer when it is detected</a></li>
<li><a href="../257509/index.html">Changes in Visual C ++</a></li>
<li><a href="../257511/index.html">ES6 and beyond. Chapter 2: Syntax. Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>