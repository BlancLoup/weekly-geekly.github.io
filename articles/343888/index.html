<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Performance analysis of React 16 applications using Chrome developer tools</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="React is one of the leading front-end frameworks, not only because Facebook is behind it, but also because of its high performance. Virtual DOM React ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Performance analysis of React 16 applications using Chrome developer tools</h1><div class="post__text post__text-html js-mediator-article">  React is one of the leading front-end frameworks, not only because Facebook is behind it, but also because of its high performance.  Virtual DOM React is known for efficiently rendering components.  But what if these components suddenly become not so fast?  Where to look?  How to fix it? <br><br>  In this article, using the example of a real React-application, new powerful tools for monitoring code performance using the Chrome developer tools will be shown.  These tools can be used by any React developer to find problems in slow components. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/343888/"><img src="https://habrastorage.org/webt/bu/c7/ro/buc7ropbvn9du6zz2gqagxdwnii.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Prerequisites</font> </h2><br>  In order to reproduce what we are going to talk about, you will need the following: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  React 16 application running in development mode. <br></li><li>  Code maps generated during project export (optional, but highly recommended). <br></li><li>  Developer Tools Google Chrome or Chromium (they are in all current releases). <br></li></ul><br><h2>  <font color="#3AC1EF">Tool setting</font> </h2><br>  To get started, you'll need plenty of work space, so open the Chrome developer tools in a separate window and maximize this window as much as your monitor screen allows. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f55/c7e/8b4/f55c7e8b4f3ab41564838f9ca7ada945.gif"></div><br>  <i><font color="#999999">Customize Chrome Developer Tools</font></i> <br><br>  When performing performance tests, it is important to strive for modeling the real conditions in which the application will run.  Not everyone has $ 3000 computers or the latest phone models. <br><br>  Fortunately, Chrome developers have taken care of such testing scenarios, there is an opportunity to slow down the execution of JavaScript.  This will make the performance problems more obvious.  In addition, if you manage to make the code fast on a slow (or specially slow) device, this code will fly on a regular computer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dd3/9a5/31c/dd39a531cb5dae2dc034d0aa3a4c8018.gif"></div><br>  <i><font color="#999999">Artificial slowdown performance</font></i> <br><br>  If you slow down the modern MacBook, at least 4 times, its performance will be comparable to the Motorola Moto G4. <br><br><h2>  <font color="#3AC1EF">Performance analysis</font> </h2><br>  When React 16 is in development mode, it generates for each component the <code>mark</code> and <code>measure</code> events that are part of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/User_Timing_API">User Timing API</a> . <br><br>  In order to create a performance profile, go to the page you want to try (on the local host) and click on the <code>Start profiling and reload page</code> button in the developer tools. <br><br>  This will start recording performance information for the current page.  Chrome will automatically stop recording data after the page has completely loaded and displayed on the screen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8b1/eae/61c/8b1eae61cf2e28ad6bc68b04dba16a15.gif"></div><br>  <i><font color="#999999">Start profiling</font></i> <br><br>  After the performance data is written, you will see something resembling the following figure. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98a/e29/cdc/98ae29cdc94d05d211680956c5db6ce1.png"></div><br>  <i><font color="#999999">Profiling results</font></i> <br><br>  Here, from left to right, you can see what happens to the page during the loading and initialization process. <br><br>  Spend some time reviewing information about the performance profile, the meaning of which may not be obvious to those who are faced with performance analysis for the first time in Chrome.  In the figure, what we are going to talk about is marked with numbers 1 and 2. <br><br><ol><li>  The indicator in the form of a red bar shows that in this place on the time scale there is a serious load on the processor (performing long tasks).  Perhaps this is exactly what slows down the application, and what we need to explore in more detail. <br></li><li>  The colors used in the diagram at the top of the window correspond to the different activities.  The drop in productivity during the performance of various types of activities has its own reasons, there are special ways to fix various problems and means of analyzing them. <br></li></ol><br>  Today we will focus on what's called <code>Scripting ‚Äî</code> here <code>Scripting ‚Äî</code> that is, on the performance of JavaScript. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/593/4d5/f52/5934d5f525a062568dca82159d124b51.gif"></div><br>  <i><font color="#999999">Application Performance Profile Analysis</font></i> <br><br>  Let's open the window, open the <code>User Timing</code> group and use the opportunity to view screenshots of the page taken during its loading in order to explore how the page is displayed. <br><br>  Now we are going to study the area where there is a red stripe described above.  We can see that elements are displayed on the page at this time. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a5/be5/c1b/9a5be5c1bed07f892ef3032407f30bae.gif"></div><br>  <i><font color="#999999">Zoom in on the desired area.</font></i>  <i><font color="#999999">See the badges?</font></i> <br><br>  When zooming in, the information from the <code>User Timing</code> section and the component labeled <code>Pulse</code> (the one that takes 500 ms to output) is displayed. <br><br>  Below the <code>Pulse</code> component, you can notice information about the rendering of child components, but the size of the corresponding elements indicates that they do not create a special load on the system. <br><br><h2>  <font color="#3AC1EF">Search for slow features</font> </h2><br>  Having decided on the component that we will investigate, let's search for slow functions.  In the figure below you can see the Chrome developer tools window with numbered steps, the contents of which we will now describe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e6/d6e/423/0e6d6e423481899cf8e01022cb2bc309.png"></div><br>  <i><font color="#999999">Search for slow features</font></i> <br><br><ol><li>  Click on the component you want to explore, in this case <code>Pulse</code> .  Due to this, only actions from this component will be displayed at the bottom of the window. <br></li><li>  Select the <code>Bottom-Up</code> tab. <br></li><li>  Sort the list in descending order by <code>Total Time</code> .  In some cases, it may be useful to sort by <code>Self Time</code> , or group by something different from the URL.  What exactly is suitable in your case, you will understand in the process. <br></li><li>  Click the arrow icons until you find a piece of code that you want to explore in more detail.  In this case, the <code>map</code> call looks suspicious.  It runs many times and takes almost 90 ms. <br></li><li>  But why do we need code cards?  Clicking on <code>MetricStore.js:59</code> allows you to see the corresponding section of the application source code.  Take a look at it. <br></li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/219/be0/de5/219be0de5c41e18e237ff0a1fef332b1.png"></div><br>  <i><font color="#999999">Switch to source code</font></i> <br><br>  The code, the execution of which takes the most time, is marked by the corresponding indicator on the left (perhaps this is not my best code, which should be put on public display).  Now that you know exactly where the problem lies, you can fix it. <br><br>  Using this approach over the last couple of weeks, I accelerated the execution of code areas for a second, which I thought about: ‚ÄúNo, it‚Äôs difficult, probably, to improve anything here, it will take a lot of time‚Äù  Now I know exactly how and where to look for problems with JavaScript performance and I am sure that in the future I will write better code. <br><br><h2>  <font color="#3AC1EF">Why are debugging tools for React applications built into Chrome?</font> </h2><br>  React publishes metrics through the <code>User Timing API</code> , which you can use to place time markers in your own code.  This allows, for example, to find out how long it takes to initialize a component, or how long after a certain event the user clicks the Buy button.  <a href="https://www.html5rocks.com/en/tutorials/webperformance/usertiming/">Here is a</a> good material about <code>User Timing API</code> . <br><br>  So, Chrome doesn‚Äôt have React debugging tools built in, but support for the generic API that React uses.  In addition, all major browsers support the <code>User Timing API</code> , but the <code>Performance</code> tab of the Chrome developer tools went much further than others, which made debugging React applications in Chrome much easier. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  As for the speed of the applications, there are no trifles - every fraction of a second is important here.  We hope this material has helped you improve your research skills and optimize application performance. <br><br>  Dear readers!  How do you analyze web application performance? </div><p>Source: <a href="https://habr.com/ru/post/343888/">https://habr.com/ru/post/343888/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343876/index.html">Real-time anti-aliasing algorithms</a></li>
<li><a href="../343878/index.html">Good bot for Slack</a></li>
<li><a href="../343880/index.html">How we made an application under Windows 10 with Fluent Design (UWP / C #)</a></li>
<li><a href="../343882/index.html">Undefined behavior! = Insecure programming</a></li>
<li><a href="../343884/index.html">Automation of development processes: how we in Positive Technologies implemented DevOps ideas</a></li>
<li><a href="../343890/index.html">Great Java Application Server Debate with Tomcat, Jboss, GlassFish, Jetty and Liberty Profile</a></li>
<li><a href="../343892/index.html">Twelve Linux Security Tips</a></li>
<li><a href="../343894/index.html">Analysis of six web frameworks: pros, cons and features of choice</a></li>
<li><a href="../343902/index.html">Deploy Windows Containers to Azure Container Instances (ACI). Kubernetes Connector</a></li>
<li><a href="../343904/index.html">External IT services: ‚Äúand we have worked before‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>