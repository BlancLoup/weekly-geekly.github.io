<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Internet upside down</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, is approaching April 1, and I really would not want this day to be the same as the others, so I propose a special, IT joke. This is a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Internet upside down</h1><div class="post__text post__text-html js-mediator-article">  <i><font color="#888888">Good afternoon, is approaching April 1, and I really would not want this day to be the same as the others, so I propose a special, IT joke.</font></i>  <i><font color="#888888">This is a translation of an article accidentally found on the Internet, in fact, translated it to <a href="http://a11aud.habrahabr.ru/">a11aud</a> , but he lacks karma for the post, so I write (a11aud himself will be very grateful for the karma :))</font></i> <i><font color="#888888"><br></font></i> <br><h2>  1) Introduction </h2><br>  My neighbors are stealing my wireless internet.  Yes, I could begin to encrypt, but you can get a lot of pleasure from the contemplation of bewilderment on their faces! <br><br><h2>  2) Separate the network! </h2><br>  I started by dividing the network into two parts: trusted and untrusted.  Trusted had its share of the network, untrusted - its own.  We use a DHCP server to identify the MAC addresses to be divided into appropriate groups. <br><a name="habracut"></a><br><br>  <strong>/etc/dhcpd.conf</strong> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">ddns-updates off; <br> ddns-update-style interim; <br> authoritative; <br> <br> shared-network local { <br> <br> subnet *.*.*.* netmask 255.255.255.0 { <br> range *.*.*.* *.*.*.*; <br> option routers *.*.*.*; <br> option subnet-mask 255.255.255.0; <br> option domain-name <font color="#A31515">"XXXXX"</font> ; <br> option domain-name-servers *.*.*.*; <br> deny unknown-clients; <br> <br> host trusted1 { <br> hardware ethernet *:*:*:*:*:*; <br> fixed-address *.*.*.*; <br> } <br> } <br> <br> subnet 192.168.0.0 netmask 255.255.255.0 { <br> range 192.168.0.2 192.168.0.10; <br> option routers 192.168.0.1; <br> option subnet-mask 255.255.255.0; <br> option domain-name-servers 192.168.0.1; <br> allow unknown-clients; <br> <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><h2>  3) IPtables are fun! </h2><br>  Suddenly everything became cats!  Koshkanet. <br><br>  / sbin / iptables -A PREROUTING -s 192.168.0.0/255.255.255.0 -p tcp -j DNAT --to-destination 64.111.96.38 <br><br>  For the uninitiated, this redirects all traffic on <a href="http://www.kittenwar.com/">kittenwar</a> <br><br>  PS As a Russian-language alternative, I suggest <a href="http://www.koshkimira.ru/">http://www.koshkimira.ru/</a> <br><br>  To heighten the fun, you can configure iptables for forwarding everything to transparent <a href="http://ru.wikipedia.org/wiki/Squid">squid</a> proxy running on port 80. <br><br>  / sbin / iptables -A PREROUTING -s 192.168.0.0/255.255.255.0 -p tcp -m tcp --dport 80 -j DNAT --to-destination 192.168.0.1 <br><br>  On this car, squid is spinning with a banal redirect that downloads pictures, uses a modifier to flip them upside down and sends them outside the local web server. <br><br>  Actually, the script itself: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">#!/usr/bin/perl <br> $|=1; <br> $count = 0; <br> $pid = $$; <br> <font color="#0000ff">while</font> (&lt;&gt;) { <br> chomp $_; <br> <font color="#0000ff">if</font> ($_ =~ /(.*\.jpg)/i) { <br> $url = $1; <br> system( <font color="#A31515">"/usr/bin/wget"</font> , <font color="#A31515">"-q"</font> , <font color="#A31515">"-O"</font> , <font color="#A31515">"/space/WebPages/images/$pid-$count.jpg"</font> , <font color="#A31515">"$url"</font> ); <br> system( <font color="#A31515">"/usr/bin/mogrify"</font> , <font color="#A31515">"-flip"</font> , <font color="#A31515">"/space/WebPages/images/$pid-$count.jpg"</font> ); <br> print <font color="#A31515">"http://127.0.0.1/images/$pid-$count.jpg\n"</font> ; <br> } <br> elsif ($_ =~ /(.*\.gif)/i) { <br> $url = $1; <br> system( <font color="#A31515">"/usr/bin/wget"</font> , <font color="#A31515">"-q"</font> , <font color="#A31515">"-O"</font> , <font color="#A31515">"/space/WebPages/images/$pid-$count.gif"</font> , <font color="#A31515">"$url"</font> ); <br> system( <font color="#A31515">"/usr/bin/mogrify"</font> , <font color="#A31515">"-flip"</font> , <font color="#A31515">"/space/WebPages/images/$pid-$count.gif"</font> ); <br> print <font color="#A31515">"http://127.0.0.1/images/$pid-$count.gif\n"</font> ; <br> <br> } <br> <font color="#0000ff">else</font> { <br> print <font color="#A31515">"$_\n"</font> ;; <br> } <br> $count++; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><h2>  4) And the Internet began to look like this! </h2><br><img src="https://habrastorage.org/getpro/geektimes/post_images/fb8/472/6c0/fb84726c00e5924f398639c17a33ab25.png"><br><img src="https://habrastorage.org/getpro/geektimes/post_images/034/bcd/fef/034bcdfef72b555c621f2fbfcc201d2b.png"><br><br>  And if you try the effect of vagueness "-blur 4", then you get "vague"! <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ac2/686/a6a/ac2686a6a7d6d902d8fe279bdf4bb5e4.png"><br>  <a href="http://www.ex-parrot.com/~pete/upside-down-ternet.html" title="Original">Original</a> </div><p>Source: <a href="https://habr.com/ru/post/56043/">https://habr.com/ru/post/56043/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../56029/index.html">Restart daemon mod_wsgi</a></li>
<li><a href="../56031/index.html">How do you use Gantt charts</a></li>
<li><a href="../56035/index.html">On the site of personal recommendations Imhonet.ru fantasy and fantasy are placed in one category</a></li>
<li><a href="../56037/index.html">odesk - and you chose how much to pay for the delivery of a new payoneer card</a></li>
<li><a href="../56038/index.html">Where are the other 6 versions of Windows?</a></li>
<li><a href="../56044/index.html">25-year-old Englishman died playing a "jogging run" on the Wii</a></li>
<li><a href="../56046/index.html">Maple to help you! Nimble companion for Punto Switcher</a></li>
<li><a href="../56049/index.html">File transfer between two computers over the Internet (netcat)</a></li>
<li><a href="../56056/index.html">Man will sooner or later become immortal.</a></li>
<li><a href="../56062/index.html">Russians ask for money for using the toilet on the ISS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>