<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fantasy on WebDAV. Regular Client</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="And who is easy?  In the previous post, the idea of ‚Äã‚Äãan interface based on the WebDAV protocol is presented. The natural requirement for its implemen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Fantasy on WebDAV. Regular Client</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  And who is easy? </blockquote>  In the <a href="http://habrahabr.ru/sandbox/95209/">previous post,</a> the idea of ‚Äã‚Äãan interface based on the <a href="http://www.webdav.org/" title="WebDAV Resources">WebDAV</a> protocol is presented.  The natural requirement for its implementation is to ensure work with regular WebDAV-clients of various operating systems.  Since <a href="http://www.ietf.org/rfc/rfc4918.txt" title="rfc4918">RFC is</a> not a dogma, one should begin by clarifying the details of their ‚Äúbehavior‚Äù.  Those.  set and sequence of methods initiated by clients during connection, exchanging operations (transfer, receive) and remote operations (create, copy, move / rename, delete) over objects: file, folder, branch.  It is useful to clarify customer support for <a href="http://tools.ietf.org/html/rfc2109" title="rfc2109">cookies</a> ;  <a href="http://www.webdav.org/specs/rfc2617.html" title="rfc2617">http authentication</a> ;  proxy settings for local addresses;  interaction with a server port other than 80. <br><br>  The review does not claim to be complete, since it is limited by the scope of the task and available software. <br><a name="habracut"></a><br>  On hand were: <br>  - openSUSE 13.2 KDE ( <a href="https://habr.com/ru/post/268123/">wdfs, cadaver,</a> <a href="https://habr.com/ru/post/268123/">Konqueror, Dolphin</a> ); <br>  - ubuntu 14.04 LTS Gnome ( <a href="https://habr.com/ru/post/268123/">davfs,</a> <a href="https://habr.com/ru/post/268123/">Nautilus</a> ); <br>  - <a href="https://habr.com/ru/post/268123/">MS Windows 7 SP1 Starter</a> , <a href="https://habr.com/ru/post/268123/">Windows 10 Home, Windows XP SP3 Professional</a> (net use, Explorer). <br><br>  The basics were obtained using a class 1 WebDAV server emulator (Server: noname / 0.0.7; DAV: 1; Allow: OPTIONS, GET, HEAD, PUT, DELETE, PROPFIND, PROPPATCH, MKCOL, COPY, MOVE).  Server root: / test / dav /.  The responses used only the properties of the namespace D = "DAV:", and in the tags &lt;D: href&gt; - absolute addressing.  I note that according to RFCs, the emulator is "MUST", but not the fact that it corresponds.  Questions arising during testing may be a consequence of this. <br>  On the client side, operations were initiated by the context menu (copy | cut - paste), and for file systems - by console commands. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Generalized result: <br>  - some clients transfer the file in two steps: first, zero-length, then the file itself; <br>  - when copying a file remotely, most clients simulate the COPY method with a GET / PUT pair (for folders: MKCOL, GET / PUT of the file); <br>  - not all use the MOVE method for moving objects (simulated by the MKCOL, GET / PUT, DELETE set); <br>  - all use MOVE for renaming; <br>  - none of the clients apply the PROPFIND method (Depth: infinity); <br>  - not all use DELETE (Depth: infinity); <br>  - not all the conductors check the contents of the folder (PROPFIND Depth: 1) after operations on nested objects, on the contrary, they cache data / actions; <br>  - There are no problems with Cyrillic in localized OS. <br><br><a name="Win7"></a>  <b>MS Windows 7 SP1 Starter (Explorer, net use)</b> <br>  User-Agent: Microsoft-WebDAV-MiniRedir / 6.1.7601 <br>  Supports cookies;  <a href="https://www.ietf.org/rfc/rfc4559.txt" title="rfc4559">negotiate</a> and digest (default), basic (after <a href="http://www.iis.net/learn/publish/using-webdav/using-the-webdav-redirector">shamanism with the registry</a> ) authentication;  IE proxy settings;  non-standard http ports.  Features of the exchange: <br><br>  1. Connection: \\ host: port \ path or \\ host @ port \ path.  When you first call the server, the client polls OPTIONS starting from the root "/" to the first segment of the path.  Having received no positive response, it requests PROPFIND for the first segment.  Resolved a misunderstanding by sending a client (301-Moved Permanently) to the server root address for OPTIONS, PROPFIND requests for intermediate segments. <br>  Client requests contain <a href="https://msdn.microsoft.com/en-us/library/cc250098.aspx">translate</a> header <a href="https://msdn.microsoft.com/en-us/library/cc250098.aspx">: f</a> <br><br>  2. Client PROPFIND requests do not contain a body. <br>  Windows Explorer on every click publishes a series of PROPFIND.  Periodically asks for file properties: desktop.ini, folder.gif, folder.jpg, Thumbs.db.  Answer 404 customers are quite satisfied.  Because of his verbosity, he went to the console: COPY, XCOPY, MOVE, DEL, RMDIR, REN ... <br><br>  3. File transfer is performed by a sequence of methods: <br>  - PROPFIND (Depth: 0) destination folders; <br>  - PROPFIND file (check for availability); <br>  - PUT file of zero length in the absence; <br>  - LOCK (Timeout: Second-3600) file: <br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:lockinfo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:D</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:lockscope</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:exclusive</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:lockscope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:locktype</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:write</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:locktype</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:owner</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:href</span></span></span><span class="hljs-tag">&gt;</span></span>HOST_NAME\USER_NAME<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:href</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:owner</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:lockinfo</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  The server response is in accordance with the RFC, but the client accepts 501-Not Implemented. <br>  - PROPPATCH file properties: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propertyupdate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:D</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:Z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:schemas-microsoft-com:"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:set</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32CreationTime</span></span></span><span class="hljs-tag">&gt;</span></span>Mon, 24 Jun 2013 11:16:17 GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32CreationTime</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32LastAccessTime</span></span></span><span class="hljs-tag">&gt;</span></span>Tue, 23 Jun 2015 11:16:23 GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32LastAccessTime</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32LastModifiedTime</span></span></span><span class="hljs-tag">&gt;</span></span>Mon, 24 Jun 2013 11:16:17 GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32LastModifiedTime</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32FileAttributes</span></span></span><span class="hljs-tag">&gt;</span></span>00000000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32FileAttributes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:set</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propertyupdate</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  The PROPPATCH method class 1 server must support.  RFC allows 403-Forbidden (cannot-modify-protected-property) in the multi-status response.  The client ignores the refusal and continues to bend his own. <br>  - HEAD file; <br>  - PUT file content; <br>  - PROPPATCH file properties: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propertyupdate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:D</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:Z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:schemas-microsoft-com:"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:set</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32LastModifiedTime</span></span></span><span class="hljs-tag">&gt;</span></span>Mon, 24 Jun 2013 11:16:17 GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32LastModifiedTime</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32FileAttributes</span></span></span><span class="hljs-tag">&gt;</span></span>00000020<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Z:Win32FileAttributes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:set</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propertyupdate</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  - UNLOCK; <br>  - PROPFIND file; <br>  - PROPPATCH file attribute Win32FileAttributes = 00000020. <br><br>  4. Get the file: <br>  - PROPFIND (Depth: 0) folder-container; <br>  - PROPFIND file; <br>  - GET file. <br><br>  5. Create a folder: <br>  - PROPFIND (Depth: 0) destination folders; <br>  - PROPFIND created folder; <br>  - MKCOL; <br>  - PROPPATCH folder properties similar to transferring a file (Win32FileAttributes value = 00000010). <br><br>  6. File copying is performed in two steps: <br>  - get the file (p.4); <br>  - transfer the file (p.3). <br><br>  7. Moving / renaming objects (including branches) is performed by the MOVE method (Overwrite: F; Destination: ....; Depth is absent, which implies Infinity). <br><br>  8. Copying a branch is done by sequential creation of folders and copying (p.6) of files.  Deleting a branch is done by sequential deletion of attached files and folders. <br><br><a name="Win10"></a>  Dialogs in <b>Windows 10</b> (User-Agent: Microsoft-WebDAV-MiniRedir / 10.0.10240) are in no way different from the above.  <b>Windows XP</b> Redirector ( <a href="https://www.microsoft.com/en-us/download/details.aspx%3Fid%3D15123" title="KB907306">User-Agent: Microsoft-WebDAV-MiniRedir / 5.1.2600</a> ) DOES NOT SUPPORT cookies;  ports other than 80;  does not use LOCK / UNLOCK.  Windows XP Explorer inserts an extra slash after the first segment of the server root in the PROPFIND requests of the file transfer / move dialog (PROPFIND <b>/test//dav/file.txt</b> HTTP / 1.1). <br><br><a name="Nautilus"></a>  <b>ubuntu 14.04 LTS Gnome (Nautilus 3.10.1)</b> <br>  User-Agent: gvfs / 1.20.3 <br>  Supports cookie, authentication, proxy settings, non-standard ports.  Exchange details: <br><br>  1. Connection (dav: // host: port / path): <br>  - OPTIONS on the server root; <br>  - PROPFIND (Depth: 0) of the server root (the set of properties is used to check the presence of the object): <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:D</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:resourcetype</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  - OPTIONS to the previous root segment, from where it was sent (301) to its destination; <br>  - PROPFIND ( <a href="https://tools.ietf.org/html/rfc4437" title="rfc4437">Apply-To-Redirect-Ref</a> : T) of the server root with Depth: 0/1 headers and request properties (mostly they use): <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:D</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:creationdate</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:displayname</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getcontentlength</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getcontenttype</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getetag</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getlastmodified</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:resourcetype</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  2. Transfer the file: <br>  - PROPFIND (Depth: 0) destination folders; <br>  - PROPFIND disk quota of destination folder according to <a href="https://www.ietf.org/rfc/rfc4331.txt" title="rfc4331">rfc4331</a> : <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:D</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:quota-available-bytes</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:quota-used-bytes</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  - HEAD file for availability; <br>  - PUT file; <br>  - PROPFIND (Depth: 0) file <b>5 times (?)</b> ; <br><br>  3. Receive file: <br>  - PROPFIND (Depth: 0) of file x5 times (?); <br>  - GET file. <br><br>  4. Create a folder: <br>  - PROPFIND (Depth: 0) destination folders; <br>  - PROPFIND disk quota of the destination folder; <br>  - PROPFIND created folder; <br>  - MKCOL created folder; <br>  - PROPFIND created folder x5 times (?); <br><br>  5. Copy file: <br>  - PROPFIND disk quota in the destination folder; <br>  - PROPFIND source file x5 times; <br>  - GET file; <br>  - HEAD file for the presence in the destination folder; <br>  - PUT file to destination folder; <br>  - PROPFIND copied file x5 times. <br><br>  6. Rename file / folder / branch: <br>  - MOVE (Overwrite: F; Destination: ...; Depth is missing) of the file / folder. <br>  - PROPFIND (depth: 0) object <br><br>  7. Delete the file: <br>  - PROPFIND (Depth: 0) file; <br>  - PROPFIND (Depth: 1) file; <br>  - DELETE file. <br><br>  8. Copying a branch is done by creating a branch structure in the destination folder and then copying (p.5) the files.  Deleting a branch is done by sequential deletion of attached files and folders.  Moving a file / folder / branch is made by copying (p.5 / p.8) and then deleting the source. <br><br><a name="neon"></a>  <b>openSUSE 13.2 (wdfs, <a href="https://habr.com/ru/post/268123/">cadaver</a> ), ubuntu 14.04 LTS ( <a href="https://habr.com/ru/post/268123/">davfs</a> )</b> <br>  Clients use the <a href="http://www.webdav.org/neon/">neon</a> /0.30.0 library, compatible with WebDAV RFC2518 from which support for cookies has been cut out in release 0.25.0.  A quotation from the Feature list for the questions posed: ‚ÄúModern HTTP authentication support‚Äù, RFC2617, supporting the Digest, Basic, and Negotiate protocols.  ... The system's proxy configuration can be optionally used on some platforms. ' <br><br>  <b>wdfs</b> <br>  User-Agent: wdfs / 1.4.2 neon / 0.30.0 <br>  Testing was conducted by console commands.  Current folder: ~ / <br><br>  1. Mounting fs (http: // host: port / path): <br>  - OPTIONS on the server root. <br><br>  2. ls on mount point: <br>  - PROPFIND (Depth: 0/1): <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resourcetype</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getcontentlength</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getlastmodified</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">creationdate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  3. Transfer the file: <br>  - PROPFIND (Depth: 0) of each folder in the destination path; <br>  - PROPFIND file in the destination folder; <br>  - PUT file of zero length; <br>  - PROPFIND file; <br>  - GET file of zero length; <br>  - PUT file. <br><br>  4. Receive file: <br>  - PROPFIND (Depth: 0) of each file path folder; <br>  - PROPFIND file; <br>  - GET file. <br><br>  5. Create a folder: <br>  - PROPFIND (Depth: 0) of each folder in the destination path; <br>  - PROPFIND created folder; <br>  - MKCOL folders; <br>  - PROPFIND created folder; <br><br>  6. Copy file: <br>  - PROPFIND (Depth: 0) of each folder in the destination path and the destination file for availability; <br>  - PROPFIND (Depth: 0) of each folder in the source path and source file; <br>  - GET source file; <br>  - PUT file of zero length; <br>  - PROPFIND file of zero length; <br>  - GET file of zero length; <br>  - PUT file. <br><br>  7. Move / rename file / folder / branch: <br>  - PROPFIND destination folders; <br>  - PROPFIND of the source object; <br>  - PROPFIND source object in destination folder <b>x2?</b>  ; <br>  - MOVE (Overwrite: T; Destination: ...; Depth is missing) of the source object in the destination folder. <br><br>  8. Deleting a folder / branch is done by one method DELETE (Depth is absent).  Copying a branch is done by sequential creation of folders and copying files (GET / PUT). <br><br><a name="davfs"></a>  <b>davfs</b> <br>  User-Agent: davfs2 / 1.4.7 neon / 0.30.0 <br>  Testing was conducted by console commands.  Current folder: ~ / <br><br>  1. Mounting fs (http: // host: port / path): <br>  - OPTIONS on the server root; <br>  - PROPFIND (Depth: 1; Connection: TE; TE: trailers) root: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getetag</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getcontentlength</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">creationdate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getlastmodified</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resourcetype</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">executable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://apache.org/dav/props/"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  - PROPFIND (Depth: 0) root: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quota-available-bytes</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quota-used-bytes</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  2. Transfer the file: <br>  - PROPFIND (Depth: 1) of each folder in the destination path; <br>  - PUT (If-None-Match: *) file; <br>  - HEAD file. <br><br>  3. Receive file: <br>  - PROPFIND (Depth: 1) of each folder in the source path; <br>  - GET (If-Modified-Since: ...) file. <br><br>  4. Create a folder: <br>  - PROPFIND (Depth: 1) of each folder in the destination path; <br>  - MKDIR. <br><br>  5. Copy file: <br>  - PROPFIND (Depth: 1) destination folders; <br>  - GET (If-Modified-Since: ...) of the source file; <br>  - PUT (If-None-Match: *) file; <br>  - HEAD file. <br><br>  6. Renaming / moving objects is performed by one method MOVE. <br><br>  7. Copying a folder / branch is done by sequential creation of folders and copying (receiving / transmitting) files in the general case. <br><br>  8. Deleting a folder / branch is done by successive deletion of files and folders. <br><br><a name="cadaver"></a>  <b>cadaver</b> <br>  User-Agent: cadaver / 0.23.3 neon / 0.30.0 <br>  Connection: http: // host: port / path <br>  The body of the PROPFIND cadaver request contains: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getcontentlength</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getlastmodified</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">executable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://apache.org/dav/props/"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resourcetype</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">checked-in</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">checked-out</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  WebDAV methods are represented by the corresponding commands.  The principal feature of cadaver is the ability to control user properties of objects. <br><br><a name="Konqueror"></a>  <b>openSUSE 13.2 KDE (Konqueror 4.14.8, Dolphin 15.04.0)</b> <br>  User-Agent: Mozilla / 5.0 (X11; Linux x86_64) KHTML / 4.14.9 (like Gecko) Konqueror / 4.14 SUSE <br>  Like any browser, Konqueror supports cookies;  authentication;  proxy settings for local addresses;  non-standard http ports.  As not everyone - WebDAV. <br><br>  1. Connection: webdav: // host: port / path (localhost is available via ip).  The client does not bother with OPTIONS, immediately requests PROPFIND to the server root: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:D</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:creationdate</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getcontentlength</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:displayname</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:source</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getcontentlanguage</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getcontenttype</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getlastmodified</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getetag</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:supportedlock</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:lockdiscovery</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:resourcetype</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  However, it is content that the server returns.  And the server from the principle did not return the supportedlock and lockdiscovery properties. <br><br>  2. Transfer the file: <br>  - PROPFIND (Depth: 0) destination folders; <br>  - PROPFIND file properties in the destination folder: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:D</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DAV:"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:creationdate</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:getcontentlength</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:displayname</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:resourcetype</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:prop</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">D:propfind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  - PROPFIND properties (p.1) of the file in the destination folder, if it exists; <br>  - PUT file; <br>  - PROPFIND (Depth: 1) properties of the destination folder from P1. <br><br>  3. Get the file: <br>  - PROPFIND file in the source folder; <br>  - GET file. <br><br>  4. Create a folder: <br>  - MKCOL; <br>  - PROPFIND (Depth: 1) parent folder; <br>  - PROPFIND (Depth: 0) created folder. <br><br>  5. Copy file: <br>  - PROPFIND file in the destination folder; <br>  - COPY file to the destination folder; <br>  - PROPFIND (Depth: 1) destination folders. <br><br>  6. Move / rename file / folder / branch: <br>  - PROPFIND (Depth: 0) destination folders; <br>  - MOVE (Overwrite: F; Depth: infinity) file; <br>  - PROPFIND (Depth: 1) destination folders. <br><br>  7. When copying a branch / folder, a folder / branch is created in the destination folder, then files are copied using the COPY method. <br><br>  8. Delete file / folder / branch: <br>  - DELETE (Depth is missing, which implies Infinity). <br><br>  Apple clients and Android file managers remained behind the scenes, I will try to fill this gap later. <br><br>  December 11, 2015 </div><p>Source: <a href="https://habr.com/ru/post/268123/">https://habr.com/ru/post/268123/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268111/index.html">Selection of useful articles for iOS developers for the current week</a></li>
<li><a href="../268113/index.html">Secure crypto programming. Part 1</a></li>
<li><a href="../268115/index.html">A simple graphic editor using OpenCV</a></li>
<li><a href="../268117/index.html">IntelliJ IDEA 15 Preview available</a></li>
<li><a href="../268119/index.html">Creating loadable Zabbix modules on the example of adding the Modbus protocol</a></li>
<li><a href="../268125/index.html">Underground carders market. Translation of the book "KingPIN". Chapter 15. "UBuyWeRush"</a></li>
<li><a href="../268127/index.html">How does the radio interface work in GSM networks</a></li>
<li><a href="../268129/index.html">File System and Hadoop: The Twitter Experience (Part 2)</a></li>
<li><a href="../268131/index.html">Mono and OS MSVS</a></li>
<li><a href="../268135/index.html">About safety UEFI, part six</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>