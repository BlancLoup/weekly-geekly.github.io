<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>1-wire at the enterprise, program level</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The first article in this series is here. 
 The second part of this cycle is here. 

 So, the continuation of the topic about 1-wire, in the previous ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>1-wire at the enterprise, program level</h1><div class="post__text post__text-html js-mediator-article">  The first article in this series is <a href="http://neco.habrahabr.ru/blog/101954/">here.</a> <br>  The second part of this cycle is <a href="http://neco.habrahabr.ru/blog/102756/">here.</a> <br><br>  So, the continuation of the topic about 1-wire, in the previous notes, I talked about general information about what 1-wire is and what it is eaten with, and also how we built a large network (cable structure and general idea).  In this article, I will try to talk about what programs it all consists of. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Server part </h4><br>  We have three servers in three different buildings to which an adapter and a 1-wire network are connected through the RS-232 port.  On the servers, a program is spinning, which, through an adapter, gives the command to switch branches to the DS2409 chips, interrogates all the sensors found in this branch, then switches to the next branch, and so on in a circle. <br><br>  It was originally intended to provide data on all sensors via the OPC interface, since  it is de facto an industrial standard and by bringing the data to this level we will get simple and wide opportunities for integration with almost any SCADA.  Initially, we were looking for a ready-made OPC server solution for 1-wire, these searches brought truly sad results ... Despite the prevalence of 1-wire, it was not possible to find a suitable OPC, and in general it was practically impossible to find a ready-made one. <br><br>  But they found a rather interesting thing: <a href="http://www.fastwel.ru/products/2343/356245.html">Fastwel UniOPC</a> .  They wrote their own library under it, which implements what is needed: collecting data from sensors in a circle and issuing them through OPC, and after each circle saves the current data to a table on the SQL server. <br><br>  <i>Lyrical digression:</i> <i><br></i>  <i>By the way, this Fastwel project, it seems to me, has long been abandoned and not much updated: it supports only OPC-DA, but I would very much like to see OPC-XML-DA in it, all the same, time moves, technologies go forward, and - The thing is very simple and useful.</i> <br><br>  Since we are talking about the software, the servers are all based on Windows Server (the versions are different here and there), and the databases are MSSQL, respectively. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ab6/940/753/ab694075305136acb2836a85133d2ff1.jpg" alt="image"><br><br>  The picture shows what we have: three servers, transmit their own sensors via OPC, and also add the current values ‚Äã‚Äãto the SQL database once in a while (approximately 3 minutes) for further analysis of the history. <br><br>  As can be seen from the figure, there are two types of clients of this system: <br><ul><li>  1. operators - who see current values ‚Äã‚Äãand crashes when parameters go beyond any boundaries. </li><li>  2. Responsible people - who want to analyze history for different periods of time and, for example, compare the behavior of different objects among themselves. </li></ul><br><br><h4>  Camera part </h4><br>  In the workplace of the operator is an ordinary PC running winXP which runs SCADA.  One of the initial options was to use a panel computer for the camera room, but it seemed a little expensive, and it was particularly pointless, they decided to limit it to an ordinary PC. <br><br>  Then there was a long choice what kind of SCADA to use.  We tried the demo version with a dozen different SCADA systems (and ours and not ours were both MasterSCADA and Genesis and many many different ...).  As a result, stopped at LabView.  (For those who are not familiar, I will explain: LabView is one of the oldest SCADA developments, is still maintained and updated, can do a lot of things, is very flexible) <br>  We drew a project, it turned out this: <a href="">an example of the operator's screen</a> . <br><br>  Actually, in real time, the operator sees the current temperatures, the alarms are displayed in red, blink, and very nasty chirp in zvukovuha. <br><br><h4>  Responsible people </h4><br>  For this group of users, it was decided to write a special application that can make a request to the MSSQL database and select data by objects for a specified period of time, compare them with another, stretch, scale and analyze it in various ways. <br><br>  The application is written on VS2005 and uses a very popular component of ZedGraph. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7d3/0eb/a1c/7d30eba1c714845062d077bdc5d9f936.jpg" alt="image"><br>  In this picture you can see one specific refrigerator, for it there are two graphics, because  Two parameters are controlled, the temperature in the freezer and in the refrigerator itself. <br><br><h4>  Conclusion </h4><br>  In conclusion, I want to say that this is not the final result, but what exists and works today.  In the future, we are thinking of abandoning SCADA and OPC because these technologies use DCOM, and they are not very friendly.  We are thinking of switching to Web applications, or simply creating our own application that will work directly with the database.  SCADA and OPC technology as a solution does not justify itself. <br><br>  If you have any questions, then welcome) </div><p>Source: <a href="https://habr.com/ru/post/109147/">https://habr.com/ru/post/109147/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../109135/index.html">From brick to iPhone. Unlock 3G and 3Gs with the latest modem version</a></li>
<li><a href="../109137/index.html">More power for Firebug</a></li>
<li><a href="../109139/index.html">Bringing the design of the Jira to a readable look</a></li>
<li><a href="../109140/index.html">New Ukrainian project - fast order service</a></li>
<li><a href="../109144/index.html">History of ABBYY Lingvo. Three-zero</a></li>
<li><a href="../109148/index.html">Dell Inspiron Mini Duo Review: It Spins!</a></li>
<li><a href="../109151/index.html">Video from the RailsClub'Moscow conference (October 30, 2010)</a></li>
<li><a href="../109152/index.html">Google may open an e-book store this year.</a></li>
<li><a href="../109153/index.html">How to collect a million project participants through integration into Vkontakte applications</a></li>
<li><a href="../109155/index.html">iPADrom - S01E05</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>