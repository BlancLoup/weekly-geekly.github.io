<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The book "Learning Arduino. 65 projects with their own hands "</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Have you ever looked at any device and thought about how it actually works? Perhaps it was a remote controlled boat, elevator, drinks vending machine ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The book "Learning Arduino. 65 projects with their own hands "</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/piter/blog/312402/"><img src="https://habrastorage.org/files/931/f10/c35/931f10c3568e43fc959927f9c594431f.jpg" align="left" alt="image"></a>  Have you ever looked at any device and thought about how it <i>actually</i> works?  Perhaps it was a remote controlled boat, elevator, drinks vending machine or electronic toy?  Or maybe you wanted to create a robot yourself, invent an electronic control for the model of the railway?  Or did you suddenly have a desire to organize the receipt and analysis of a long-term weather forecast?  How and with what could you start your own project? <br><br>  Arduino board will help in practice to reveal some secrets of electronics.  Created by Massimo Banzi and David Quartille, the Arduino system offers a budget-friendly way to create interactive projects and objects, such as remote-controlled robots, GPS-based route recording systems and electronic games. <br><br>  In this book, an overview of 65 projects.  An example of one project under the cut. <br><a name="habracut"></a><br><h3>  Chapter 10. Touch Screens </h3><br>  In this chapter, you: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ‚Ä¢ Learn how to connect a resistive touchscreen to an Arduino board; <br>  ‚Ä¢ learn to read the values ‚Äã‚Äãthat the touch screen can return; <br>  ‚Ä¢ construct a simple switch that is triggered by touch; <br>  ‚Ä¢ Construct a switch with a dimming function. <br><br>  Touch screens surround us from all sides: smartphones, tablet computers and handheld gaming devices.  So why shouldn't we use the touch screen for user interaction? <br><br>  <b>Touch Screens</b> <br>  Touchscreens can be very expensive, but we will use an inexpensive model produced by SparkFun (part number LCD-08977 and BOB-09170), originally designed for the Nintendo DS game console. <br><br>  This touch screen has dimensions of 5 x 7 cm and is shown in Fig.  10.1, where it is mounted on a breadboard. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/cbb/764/cfd/cbb764cfd5d3449da5303c36e7bad4e9.JPG" alt="image"></div><br>  Please note that the touch screen is connected to a small circuit board in the upper right corner (circled in Figure 10.1).  This adapter is used to connect the touch screen with the breadboard and the Arduino;  in fig.  10.2 shows an enlarged image of the adapter. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/435/b9c/8d8/435b9c8d8f7b4afba476e6a02a86e86b.JPG" alt="image"></div><br>  <b>Touchscreen connection</b> <br>  The touchscreen adapter connects to the Arduino board, as shown in the table below.  10.1.  Table 10.1.  Connecting the touchscreen adapter to the Arduino board <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8b7/f39/0da/8b7f390da480448bb68461962870a367.JPG" alt="image"></div><br>  <b>Project No. 34: Defining the touch area on the touch screen</b> <br>  The resistive touch screen consists of a glass panel and a flexible plastic membrane, between which there are two layers of resistive coating.  One resistive coating acts as the X axis, and the other acts as the Y axis. The resistance of the resistive coating changes depending on the touch point, that is, by measuring the voltage on each layer, you can determine the X and Y coordinates of the touch area. <br><br>  In this project we use the Arduino board to determine the voltage on each layer and convert it to the integer coordinates of the touch point. <br><br>  Equipment <br><br>  The following is the equipment you need for this project: <br><br>  ‚Ä¢ Touch screen with adapter. <br>  ‚Ä¢ One trimmer with a rating of 10 kŒ©. <br>  ‚Ä¢ One LCD with a screen size of 16 x 2 characters. <br>  ‚Ä¢ Several pieces of wire of different lengths. <br>  ‚Ä¢ One breadboard. <br>  ‚Ä¢ Arduino board and USB cable <br><br>  Connect the touch screen in accordance with the table.  10.1 and the liquid crystal indicator, as shown in fig.  7.2. <br><br>  <b>Sketch</b> <br>  Enter and load the next sketch.  The most important sections of the sketch are provided with comments: <br><br>  Project 34 - Determination of the touch area on the touch screen <br><br><pre><code class="hljs lua">#include &lt;LiquidCrystal.h&gt;   LiquidCrystal lcd(<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>);   int x,y = <span class="hljs-number"><span class="hljs-number">0</span></span>;   void setup()   {     lcd.begin(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>);     lcd.clear();   } ÔÇå int readX() //   X      {     int xr=<span class="hljs-number"><span class="hljs-number">0</span></span>;     pinMode(A0, INPUT);     pinMode(A1, OUTPUT);     pinMode(A2, INPUT);     pinMode(A3, OUTPUT);     digitalWrite(A1, LOW);  //     A1     digitalWrite(A3, HIGH); //     A3     delay(<span class="hljs-number"><span class="hljs-number">5</span></span>);     xr=analogRead(<span class="hljs-number"><span class="hljs-number">0</span></span>);       //   X     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> xr; } ÔÇç int readY() //   Y      {     int yr=<span class="hljs-number"><span class="hljs-number">0</span></span>;     pinMode(A0, OUTPUT);    // A0     pinMode(A1, INPUT);     // A1     pinMode(A2, OUTPUT);    // A2     pinMode(A3, INPUT);     // A3     digitalWrite(<span class="hljs-number"><span class="hljs-number">14</span></span>, LOW);  //     A0     digitalWrite(<span class="hljs-number"><span class="hljs-number">16</span></span>, HIGH); //     A2     delay(<span class="hljs-number"><span class="hljs-number">5</span></span>);     yr=analogRead(<span class="hljs-number"><span class="hljs-number">1</span></span>);       //   Y     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> yr;   }   void loop()   {     lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); ÔÇé  lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">" x = "</span></span>);     x=readX();     lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(x);     y=readY();     lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>); ÔÇè   lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">" y = "</span></span>);     lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(y);     delay (<span class="hljs-number"><span class="hljs-number">200</span></span>); }</code> </pre> <br>  The readX () and readY () (ÔÇå and ÔÇç) functions read the voltage on the resistive covers of the touch screen using analogRead () and return the resulting value.  The sketch continuously calls these two functions to ensure that the coordinates of the touch area of ‚Äã‚Äãthe touch screen are determined in real time and displayed on the LCD screen (ÔÇé and ÔÇè).  (Delay delay (5) in each function is necessary, it gives time to analog inputs / outputs to change its state.) <br><br>  <b>Sketch Testing</b> <br>  In the process of testing the sketch, observe changes in the readings on the LCD screen by touching the touch screen, and notice how the X and Y values ‚Äã‚Äãchange depending on the position of the touch point.  Also note what values ‚Äã‚Äãare displayed on the LCD screen when you do not touch the screen (Fig. 10.3). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5ae/83b/91a/5ae83b91a27c41ee8d6aece5ab5b3e7b.JPG" alt="image"></div><br>  Remember these values ‚Äã‚Äã- they will be useful to you in the event that in the sketch you will determine the absence of a touch on the screen. <br><br>  <b>Touch Screen Calibration</b> <br>  Touching the touchscreen in the corners, as shown in Fig.  10.4, and writing down the obtained values, you actually calibrate it.  In the simplest case, the coordinates of the corners of the screen will be quite enough.  With these values, you can divide the touch screen into small areas and use them to control. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/0ed/e71/5f9/0ede715f9e9645d8836e127439db599e.JPG" alt="image"></div><br>  By calibrating the touch screen and dividing it into small areas, you can use the readX () and readY () functions to determine whether different control areas on the screen are touched and then use if-then instructions to perform certain operations, as shown in project 35. <br><br>  <b>Project No. 35: Two-zone switch</b> <br>  In this project we will create a simple switch based on the touch screen.  To begin with, we divide the screen into two horizontal zones, as shown in fig.  10.5: on the left is the ‚Äúon‚Äù zone, and on the right is the ‚Äúoff‚Äù zone. <br><br>  Comparing the coordinates of the touch point with the boundaries of the zones, the Arduino board will determine the zone in which the touch occurred.  After determining the zone, you can set a high or low voltage level on the digital output, but in this sketch we will simply output the zone name to the port monitor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f32/64b/2ea/f3264b2ea4bf485e9e08f17006d2771b.JPG" alt="image"></div><br>  <b>Sketch</b> <br>  Enter and load the following sketch: <br>  // Project 35 - Two-zone switch <br><br><pre> <code class="hljs pgsql">  <span class="hljs-type"><span class="hljs-type">int</span></span> x,y = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-type"><span class="hljs-type">void</span></span> setup()  {    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>(<span class="hljs-number"><span class="hljs-number">9600</span></span>);    pinMode(<span class="hljs-number"><span class="hljs-number">10</span></span>, OUTPUT);  }  <span class="hljs-type"><span class="hljs-type">void</span></span> switchOn()  {    digitalWrite(<span class="hljs-number"><span class="hljs-number">10</span></span>, HIGH);    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("Turned ON at X = ");    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(x);    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(" Y = ");    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println(y);    delay(<span class="hljs-number"><span class="hljs-number">200</span></span>);  }  <span class="hljs-type"><span class="hljs-type">void</span></span> switchOff()  {    digitalWrite(<span class="hljs-number"><span class="hljs-number">10</span></span>, LOW);    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("Turned OFF at X = ");    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(x);    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(" Y = ");    <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println(y);    delay(<span class="hljs-number"><span class="hljs-number">200</span></span>);  }  <span class="hljs-type"><span class="hljs-type">int</span></span> readX() //   X     {    <span class="hljs-type"><span class="hljs-type">int</span></span> xr=<span class="hljs-number"><span class="hljs-number">0</span></span>;    pinMode(A0, <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span>);    pinMode(A1, OUTPUT);    pinMode(A2, <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span>);    pinMode(A3, OUTPUT);    digitalWrite(A1, LOW);  //     A1    digitalWrite(A3, HIGH); //     A3    delay(<span class="hljs-number"><span class="hljs-number">5</span></span>);    xr=analogRead(<span class="hljs-number"><span class="hljs-number">0</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> xr;  }  <span class="hljs-type"><span class="hljs-type">int</span></span> readY() //   Y     {    <span class="hljs-type"><span class="hljs-type">int</span></span> yr=<span class="hljs-number"><span class="hljs-number">0</span></span>;    pinMode(A0, OUTPUT);    pinMode(A1, <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span>);    pinMode(A2, OUTPUT);    pinMode(A3, <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span>);    digitalWrite(A0, LOW);  //     A0    digitalWrite(A2, HIGH); //     A2    delay(<span class="hljs-number"><span class="hljs-number">5</span></span>);    yr=analogRead(<span class="hljs-number"><span class="hljs-number">1</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> yr;  }  <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>()  {    x=readX();    y=readY(); ÔÇå   //    ""?    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x&lt;=<span class="hljs-number"><span class="hljs-number">900</span></span> &amp;&amp; x&gt;=<span class="hljs-number"><span class="hljs-number">500</span></span>)    {      switchOn();    } ÔÇç   //    ""?    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x&lt;<span class="hljs-number"><span class="hljs-number">500</span></span> &amp;&amp; x&gt;=<span class="hljs-number"><span class="hljs-number">100</span></span>)    {      switchOff();    }  }</code> </pre><br>  <b>Operating principle</b> <br>  Two if statements in the void loop () function define the zone in which the touch occurred.  If the touch point is in the left zone, then the touch is interpreted as the ‚Äúturn on‚Äù command.  If the touch point is in the right zone, the touch is interpreted as a ‚Äúturn off‚Äù command. <br><br>  <b>Note</b> <br>  The Y coordinate in this project is ignored, because the touch screen is conventionally divided by a vertical border into two horizontal zones.  If we also defined horizontal boundaries, then it would be necessary to check the Y coordinate, as we will see in project 36. <br><br>  ¬ªMore information about the book can be found on <a href="http://www.piter.com/collection/all/product/izuchaem-arduino-65-proektov-svoimi-rukami">the publisher's website.</a> <br>  ¬ª <a href="http://storage.piter.com/upload/contents/978549602421/978549602421_X.pdf">Table of Contents</a> <br>  ¬ª <a href="http://storage.piter.com/upload/contents/978549602421/978549602421_p.pdf">Excerpt</a> <br><br>  For Habrozhiteley a 25% discount on the coupon - <b>Arduino</b> </div><p>Source: <a href="https://habr.com/ru/post/312402/">https://habr.com/ru/post/312402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312392/index.html">What is the cost of payments?</a></li>
<li><a href="../312394/index.html">Date outside, date inside, date dance, date die</a></li>
<li><a href="../312396/index.html">The coming fintech crisis millenialov</a></li>
<li><a href="../312398/index.html">How open APIs change the face of payments</a></li>
<li><a href="../312400/index.html">How to get into gamedev and become a sought-after specialist. Part 1</a></li>
<li><a href="../312404/index.html">Three steps to the success of mobile NFC solutions</a></li>
<li><a href="../312406/index.html">Analytics in CRM: we go on devices</a></li>
<li><a href="../312408/index.html">Tame iron Lenovo and wonder nuances XClarity</a></li>
<li><a href="../312412/index.html">Why do we need the project "Design of state systems"</a></li>
<li><a href="../312414/index.html">It's time for business to take selfies seriously.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>