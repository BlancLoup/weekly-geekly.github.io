<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Survival kit for web developer under win *</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 For a long time I was going to write an article on Habr, and finally I was going to. 

 I'll tell you about one assembly, greatly facilitati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Survival kit for web developer under win *</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/877/c13/d35/877c13d35f81e047fb41d2238f7e3450.jpg"><br><br>  Hello! <br><br>  For a long time I was going to write an article on Habr, and finally I was going to. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I'll tell you about one assembly, greatly facilitating the life of the webmaster under Windows. <br><br>  The story is as follows - during the next ‚Äúdances with a tambourine‚Äù to raise the web environment under win at the customer, I realized that all this magic got me. <br><br>  Tired of searching and calling elementals of level 50 in order to find a mod_wsgi module for Python and Apache compiled under win, initializing Postge SQL data, this is because Apache does not start because Skype is already hanging on port 80 ... <br><br>  I wanted something simple, flexible and most importantly portable. <br><a name="habracut"></a><br>  Those.  the hunt was set up once, then came, copied to another place, launched - and the whole environment with ready data and settings rose. <br><br>  Why win, when there is a long time the same Ubunt?  Because we often went with our software to customers, and after viewing the demo they said, ‚Äúcan I leave to play?‚Äù, Well, 90% of computers had windows. <br><br>  Having looked at what is on this field, and seeing only limited solutions, I sat down to write myself.  How about "Do you want to do well - do it yourself." <br><br>  The idea was simple - to make the web developer‚Äôs portable environment ‚Äúwith checkers and ladies of not heavy behavior,‚Äù moreover, so that it could be delivered, and then removed without leaving garbage, <br>  cheating the system or anything else from this opera. <br><br>  This is how the assembly of the ‚Äú <b>Windows Web Survival Kit</b> ‚Äù or <b>WWSK</b> - portable ‚ÄúApache + Node + PHP + Python + MySQL + PgSQL + Utilities‚Äù was born. <br><br><h5>  How is portability (portability) of the assembly made? </h5>  I ‚Äúuntied‚Äù the programs from the physical paths that are called ‚Äúhead on‚Äù, but everything is very simple and clear. <br>  The folder with the name ‚Äúwww‚Äù was made the assembly's root folder (that is, our whole environment lives inside it), but you can put it anywhere. <br>  For each configuration, in those places where an indication of the full path is required, the path is indicated as "? / Www / path-where-need-relative-folder-www". <br>  When copying to a certain path, after copying, a special file is launched, which roughly says the following: it takes all our ‚Äúinitial‚Äù configurations, replaces ‚Äú? /‚Äù With the current path to the ‚Äúwww‚Äù folder and lays out the corrected configs in the right places, then launches and registers the service. <br><br><h5>  What is inside the base assembly? </h5>  Apache - registers the ‚ÄúApacheSA‚Äù service at the start. <br>  MySQL - registers the MySQLSA service at startup. <br>  PgSQL - registers the PgSQLSA service at startup. <br>  PHP 5, connected as fast-cgi. <br>  Python 3 (or 2), connected as mod-wsgi <br><br>  When stopping any component, services also stop and unregister. <br><br><h5>  What windows versions does it work on? </h5>  Windows XP (32/64), Windows 7 (32/64) works exactly. <br>  In theory, it should work on Windows 8, but it was not possible to check, unfortunately. <br><br><h5>  Assembly structure </h5>  At the root are the following folders: <br><ul><li>  <b>Apache</b> - <b>Apache</b> Web Server Files </li><li>  <b>MySQL</b> - MySQL files </li><li>  <b>NodeJS</b> - NodeJS files </li><li>  <b>PgSQL</b> - Postgre SQL Files </li><li>  <b>PHP</b> files PHP </li><li>  <b>Python</b> - Python files </li><li>  <b>sys</b> - files necessary for the operation of the assembly </li><li>  <b>tmp</b> - folder for temporary files (sessions in PHP, uploaded files, etc.) </li><li>  <b>Tools</b> - folder with tools </li><li>  <b>webroot</b> - root folder for sites </li></ul><br>  And files: <br><ul><li>  <b>_runner ___. cmd</b> - the main assembly menu file (restarting Apache, reconfiguration, logs, etc. - everything is here) </li><li>  <b>_setconf __. cmd</b> - build reconfiguration file (can be called from the runner, or it can be launched separately) </li><li>  <b>_showlogs_.cmd</b> - file for working with Apache logs - cleaning, viewing (can also be launched from runner or manually) </li><li>  <b>clean.cmd</b> - assembly cleanup file (for example, for transfer to a USB flash drive - deletes temporary files, logs, etc. </li><li>  <b>phpinfo.cmd</b> - file for generating information on PHP and opening it in the browser for learning </li><li>  <b>readme.txt</b> - build description file </li><li>  <b>upgradeSites.txt</b> - file with links to update assembly components </li></ul><br><h6>  Sys folder </h6>  Inside there are subfolders <b>apacheData, mysqlData, pgsqlData, phpData, pythonData</b> which store the configuration templates for all these services. <br>  These are the same configuration templates that, when the assembly is tied to a new folder, will be copied to the right places with the modified path inside. <br><br>  In addition, database managers are also stored there ( <b>mysqlData / manager</b> and <b>pgsqlData / manager</b> ). <br>  Managers are not included in the assembly - everyone can use what they are used to. <br>  I use EMS MySQL and the PgSQL manager - I liked them most of all for functionality and convenience. <br>  The most important condition is that the file being launched by the manager in these folders should be <b>labeled</b> as <b>manager.exe</b> . <br><br>  In the root of the <b>sys</b> folder there is also a file for working with the assembly from the command line <b>services.cmd</b> <br>  For example, you can restart Apache like this: <b>services.cmd RestartApache</b> . <br>  Hardly it will be necessary in life - everything can be done from the menu, but if someone wants to fasten something of their own - there is a possibility. <br><br><h6>  Tmp folder </h6>  The temporary directory of the entire assembly. <br>  In all configurations where you need to specify a temporary directory, it is indicated here. <br>  Inside it you can delete everything except the <b>sessions</b> directory in which PHP sessions live. <br><br><h6>  Tools folder </h6>  Folder with various tools. <br>  The subfolders of <b>Apache, MySQL, NodeJS, PgSQL, PHP, Python</b> contain various docks and tricks for these services, plus some service files that allow you to do any additional functionality. <br>  For example, in the case of a database, there are batch files for importing and exporting dumps for a database, initializing databases, etc. <br><br>  In addition, I have a GIT (folder with the same name), YUI minimizer (Minimizer folder), Image Optimizers (IMGoptimize folder), cURL, Inkscape, etc. in this folder. <br><br>  If you have any tools that you constantly use - they can be placed here. <br><br><h6>  Webroot folder </h6>  In this folder live folders with sites, the paths to which are registered in the configuration of Apache or NodeJS. <br><br>  The only special subfolder here is the <b>Python</b> subfolder where the host handler for mod_wsgi for Python lives, it is also registered in the Apache config and you can always replace it with whatever you want. <br><br><h5>  Build update </h5>  With the update, everything is simple - download the necessary component from the site and unzip it into the necessary folder with the replacement of files. <br><br>  However, of course, there are several nuances: <br><ul><li>  32 bit build - files need to be downloaded appropriate (although you can make the whole 64 bit one - just not to mix) </li><li>  <b>PHP</b> should be downloaded as <b>thread safe</b> </li><li>  when updating <b>Python</b> , you need to download the appropriate version of <b>mod_wsgi</b> , put it in <b>sys \ pythonData</b> and register it in the Apache config. </li></ul><br>  Some components are provided by the manufacturers as an msi package, it can be unpacked in win using the <b>msiexec / a ‚Äúmsi package‚Äù name TARGETDIR = "% CD% \ tmp" / qb</b> - it will create a tmp folder in the directory next to the package and unpack its contents, and only then it can be copied to the desired folder (do not forget to delete in the tmp folder a copy of the package file that the careful MSI installer puts there) <br><br><h5>  Assembly features </h5><ul><li>  Username and password for all <b>root</b> databases </li><li>  Build the whole 32-bit </li><li>  timezone is GMT + 6 </li><li>  Python is available in two versions: 2.x and 3.x </li><li>  Components of the assembly are hung on 127.0.0.1 and the desired port, and, accordingly, will be available from there. </li><li>  127.0.0.1 points to webroot / </li><li>  127.0.0.2 points to webroot / site1 </li><li>  127.0.0.3 points to webroot / site2 </li><li>  127.0.0.5 via mod_wsgi on webroot / Python </li><li>  In the Apache config, there are two labels of the form # CL #, immediately after them there are DocumentRoot and RewriteEngine On - they are needed to find and change these parameters from the runner </li></ul><br><br>
<h5>  Getting started with the build </h5>  The first thing to do is to go into the configuration templates (see the information about the sys folder) and tweak them "for yourself."  Specify the necessary folders with sites inside webroot, find out what version of Python is needed, etc. <br><br>  During the operation of copying an assembly to somewhere, or during reconfiguration, it is necessary that <b>all components of the assembly be stopped</b> ‚Äî that is,  Apache, MySQL and PgSQL, etc. should be stopped. <br>  This can be done from the runner by selecting <b>Stop All there.</b> <br><br>  Then run the <b>runner</b> and select <b>Set configuration there</b> or immediately run <b>setconf</b> and select <b>Reset to defaults and set the current path as the main path</b> - after that the assembly will be reconfigured to work in this folder. <br><br>  The main thing to remember is that after this operation all current configs that were replaced with the template!  And if you changed something in them, but did not change it in the templates, these changes will be lost. <br><br>  After reconfiguration, start the services you need from the runner and that's it ‚Äî you can work.  For example, log in to the browser at 127.0.0.1 and (if this setting has not changed in the configuration) the site from the root of webroot should open. <br><br>  If you run the build for the first time - do not forget to initialize the MySQL / PgSQL database and create at least one database. <br><br><h5>  Problems </h5><ul><li>  Skype and some other programs like to sit on localhost on the ports used in the build services (80, 3306, 5432) - naturally, attempts to start these services will lead to a crash. </li><li>  In the firewall and anti-viruses, the appropriate permissions must be given for the localhost and services running on it. </li></ul><br><h5>  Some questions and answers to them </h5><ul><li>  <b>Why not on PowerShell?</b> <br>  In those days, when I started writing ps, I was still in the project.  And if you write on something, then on the shell of your system. </li><li>  <b>Why so old school cmd?</b>  <b>Why not write a beautiful GUI?</b> <br>  An interesting question of course.  But everything is trivial enough - on cmd, so that you can easily change something - including adding or removing menu items, etc.  This is the easiest time-consuming path, and I needed to quickly implement a convenient portable and easily configurable functionality.  Yes, and to make a cool interface that comes 1-2 times at the very beginning seems to me impractical.  But!  Since all the commands of this interface are available from services.cmd (and besides, they are very simple in functionality), then if you want a GUI pin, you can wash it yourself with geisha and passion fruit juice without any problems (plus from me and others using this thing , get a bunch of thanks) </li><li>  <b>What does the build configuration menu look like?</b> <div class="spoiler">  <b class="spoiler_title">So</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/731/4e0/145/7314e0145089263cd1772915d5d84220.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a5e/433/462/a5e433462ff96072e2298e6a7ac11621.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a75/1f9/848/a751f9848ff979c6f31d959593c806d5.png"></div></div></li><li>  <b>Where to get?</b> <br>  Download the build from here <a href="">protocoder.ru/site/articles/WWSK/wwsk.zip</a> (163 Mb) </li></ul><br><hr><br>  Here in general, that's all. <br><br>  I tried to make the simplest solution possible and describe it as simply as possible. <br>  Hopefully, the elementals will sleep well now, and the web developer will finally do what he must with - development. <br><br>  I think that the main advantage of this assembly is the absence of everything superfluous - only the most necessary - everything else is freely configured ‚Äúdear to yourself‚Äù, for something is something, and then cmd / bat is not difficult to work with Windows. <br>  All your necessary tools can always be hidden in the Tools daddy and work with them in the menu, if required. <br><br>  But to decide how it happened to you in fact - any questions, bug reports and suggestions are welcome - I will be very happy for them. <br><br>  I hope you enjoy working with this thing, and someone's time and nerves saved is the best reward for me. <br><br>  PS Thank you very much UFO and all good people - now I am also in this wonderful community! </div><p>Source: <a href="https://habr.com/ru/post/212059/">https://habr.com/ru/post/212059/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../212049/index.html">Managing the process of exchanging routing updates using prefix lists (prefix-list)</a></li>
<li><a href="../212051/index.html">Watching IPTV on Xbox360</a></li>
<li><a href="../212053/index.html">Reflections on beautiful code</a></li>
<li><a href="../212055/index.html">Methods of organizing interaction between scripts in Unity3D</a></li>
<li><a href="../212057/index.html">Installing ST-LINK V2 on MAC OS X for development under STM32</a></li>
<li><a href="../212061/index.html">A little more about the project ¬´Outernet¬ª</a></li>
<li><a href="../212065/index.html">HMVC pattern in web development</a></li>
<li><a href="../212067/index.html">Newsstand app. Create iOS Journal</a></li>
<li><a href="../212069/index.html">Fighting familiarity with Leap Motion</a></li>
<li><a href="../212071/index.html">How to choose the right video surveillance system?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>