<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We connect Wikipedia to the site</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Now almost every site has buttons to go to the tweeter site or add a page to the bookmarks. But for some reason very few Wikipedia icons can be seen n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We connect Wikipedia to the site</h1><div class="post__text post__text-html js-mediator-article">  Now almost every site has buttons to go to the tweeter site or add a page to the bookmarks.  But for some reason very few Wikipedia icons can be seen near the names of great people or terms. <br><br>  It may be that someone will seem to overload the site with such functionality, but it is better to ask users about it.  So, in one new project it was proposed to give links to Wikipedia for authors of books. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9bf/368/d13/9bf368d136b89eb177027d63081e3f5b.jpg" width="645" height="372">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If we take into account that only active users click on the ‚ÄúLeave your feedback‚Äù button and vote, then probably 33 votes can be multiplied by 10 - 100. <br><br>  Having dealt with api Wikipedia I want to offer a solution how to automate the addition of links to Wikipedia as little as possible. <br><a name="habracut"></a><br><br><h4>  Difficulties </h4><br>  Knowing by them, the surname or patronymic of a famous person cannot be 100% sure that this is the person we need.  For example, if we need to give a link to Alexander Alexandrovich Ivanov, there are a couple of people on Wikipedia with the same data and do not automatically determine who is suitable for us.  The same situation with the names of books and films.  For example, we need an article about a book, an article about a film can be written on Wikipedia.  My solution is to make a search query using the wiki and already choose which one is more suitable. <br><br><h4>  Api wiki </h4><br>  Wikipedia has a very powerful api <a href="http://www.mediawiki.org/wiki/API/ru">www.mediawiki.org/wiki/API/ru</a> <br>  All parameters are described here <a href="http://en.wikipedia.org/w/api.php">en.wikipedia.org/w/api.php</a> (eng) <br>  Of the many parameters we need <br><br>  <b>Action</b> - the action that we want to commit.  We need a search Action = opensearch <br><br>  <b>Search</b> - what are we looking for.  For example, "Master and Margarita" <br>  search =% EC% E0% F1% F2% E5% F0% 20% E8% 20% EC% E0% F0% E3% E0% F0% E8% F2% E0 <br><br>  <b>Prop</b> - what characteristics of the page we want to get.  We need general information about the page: title, description <br>  prop = info <br><br>  <b>Format</b> - the format in which the result is returned.  For search, use xml <br>  format = xml <br><br>  <b>inprop</b> - what additional information we want to get.  We still need a link to the Wikipedia page, so <br>  inprop = url <br><br>  Fully string with all parameters will be <br>  <a href="http://ru.wikipedia.org/w/api.php%3Faction%3Dopensearch%26search%3D%25EC%25E0%25F1%25F2%25E5%25F0%2520%25E8%2520%25EC%25E0%25F0%25E3%25E0%25F0%25E8%25F2%25E0%26prop%3Dinfo%26format%3Dxml%26inprop%3Durl">ru.wikipedia.org/w/api.php?action=opensearch&amp;search=%EC%E0%F1%F2%E5%F0%20%E8%20%EC%E0%F0%E3%E0%F0%E8%F2 % E0 &amp; prop = info &amp; format = xml &amp; inprop = url</a> <br><br>  <b>example php function to get data about the page</b> <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;? <br> function get_wiki_url($title) <br> { <br> <font color="#008000">//   </font> <br> $fp = fsockopen( <font color="#A31515">"ru.wikipedia.org"</font> , 80, $errno, $errstr, 30); <br> <font color="#0000ff">if</font> (!$fp) { <br> echo <font color="#A31515">"$errstr ($errno)&lt;br /&gt;\n"</font> ; <br> } <font color="#0000ff">else</font> { <br> $ <font color="#0000ff">out</font> = <font color="#A31515">"GET /w/api.php?action=opensearch&amp;search="</font> .urlencode($title). <font color="#A31515">"&amp; prop=info&amp;format=xml&amp;inprop=url HTTP/1.1\r\n"</font> ; <br> $ <font color="#0000ff">out</font> .= <font color="#A31515">"Host: ru.wikipedia.org\r\n"</font> ; <br> <font color="#008000">//  User-Agent.    </font> <br> $ <font color="#0000ff">out</font> .= <font color="#A31515">"User-Agent: MyCuteBot/0.1\r\n"</font> ; <br> $ <font color="#0000ff">out</font> .= <font color="#A31515">"Connection: Close\r\n\r\n"</font> ; <br> fwrite($fp, $ <font color="#0000ff">out</font> ); <br> $str = <font color="#A31515">''</font> ; <br> <font color="#008000">//   xml    </font> <br> <font color="#0000ff">while</font> (!feof($fp)) { <br> $tmp_str = fgets($fp, 128); <br> <font color="#0000ff">if</font> ($str != <font color="#A31515">''</font> || substr($tmp_str,0,2)== <font color="#A31515">'&lt;?'</font> ) <br> $str .= $tmp_str; <br> } <br> fclose($fp); <br> <font color="#008000">// </font> <br> $xml = simplexml_load_string($str); <br> <font color="#0000ff">return</font> $xml-&gt;Section-&gt;Item; <br> } <br> } <br> $pages_data = get_wiki_url( <font color="#A31515">"  "</font> ); <br> ?&gt;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Fully <a href="http://two-books.net/exec/wiki/get_page.php">example</a> and <a href="">script</a> . <br><br>  Maybe the time has come when there will be a link to Wikipedia next to every known name or term? </div><p>Source: <a href="https://habr.com/ru/post/104480/">https://habr.com/ru/post/104480/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../104471/index.html">Who made your iPhone?</a></li>
<li><a href="../104472/index.html">Bing overtook Yahoo and ranked second in the US in search queries</a></li>
<li><a href="../104475/index.html">Choosing hosting with a focus on the clouds and with an eye on the deployment of Rails 3 app</a></li>
<li><a href="../104476/index.html">Screw like a hammer</a></li>
<li><a href="../104479/index.html">Logitech HD Pro Webcam C910</a></li>
<li><a href="../104481/index.html">Google tests video chat with high-quality video transfer for Gmail</a></li>
<li><a href="../104483/index.html">Emotions, as a criterion for dynamic adjustment of the results of the issue in the search</a></li>
<li><a href="../104484/index.html">Panda Security called Facebook and Twitter a small business problem.</a></li>
<li><a href="../104485/index.html">Invent the bike often</a></li>
<li><a href="../104487/index.html">Nokia creates a rival Google Street View</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>