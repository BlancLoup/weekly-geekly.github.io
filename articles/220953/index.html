<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HD FPV on Raspberry Pi. Bug work</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article I talked about the possibility of flying HD FPV based on the Raspberry Pi with the organization of Wi-Fi bridges using the mod...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HD FPV on Raspberry Pi. Bug work</h1><div class="post__text post__text-html js-mediator-article">  In the previous <a href="http://habrahabr.ru/post/220019/">article</a> I talked about the possibility of flying HD FPV based on the Raspberry Pi with the organization of Wi-Fi bridges using the modules of the Ubiquiti Bullet M2 HP. <br><img src="https://habrastorage.org/getpro/habr/post_images/c36/9a4/242/c369a4242d78c7d540338bca2fb7e22e.jpg"><br>  The first pancake came out lumpy.  The result of the experiment turned out, as they say: ‚Äúthe third variety is not a marriage,‚Äù with some serious reservations and a ‚Äúrake‚Äù, but the main goal of the experiment was achieved.  The idea to get HD FPV by <s>wire</s> Wi-Fi was successfully tested. <br>  As I expected, the publication on Habr√© not only <s>prohibitively exaggerates the EWS</s> increases karma, but also allows you to hear the opinion of the community and get very valuable recommendations and good advice.  In the comments to the article, tips were received, a little later comprehended and implemented on the third day. <br><br><a name="habracut"></a><br><h4>  What has been implemented, corrected and supplemented </h4><br><ul><li>  Experiment 1. Used antennas with circular polarization.  "Clover" on the ground and on board. </li><li>  Experiment 2. Used antennas with linear polarization.  On the ground sector 70grad x 70grad, on board the "pin". </li><li>  Record of the received video stream on the earth, for further analysis. </li><li>  Board with flight "brains" Ardupilot 2.0 for stabilized flight.  In case of loss of communication (visual, video, RU) with the board, the ability to automatically return to the base. </li><li>  Fixed an annoying <s>DNA</s> bug <s>from the</s> past experiment.  Both Wi-Fi module <s>burned</s> worked at full power 28dBm. </li></ul><br><br><h4>  Materiel </h4><br>  Antenna farming on earth.  Depending on the experiment, either the ‚Äúclover‚Äù or the sector antenna was connected to the RF connector of the Wi-Fi module. <br><img src="https://habrastorage.org/getpro/habr/post_images/60a/2cb/424/60a2cb424e6680b24b47c212e1a46354.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Board with a "pin" <br><img src="https://habrastorage.org/getpro/habr/post_images/d87/34b/405/d8734b405d66c1d0031634c1b983be9e.jpg"><br><br>  Board with "clover" <br><img src="https://habrastorage.org/getpro/habr/post_images/60b/657/7e3/60b6577e3e1270f28e11c52badca5144.jpg"><br><br>  Ardupilot 2.0 <br><img src="https://habrastorage.org/getpro/habr/post_images/266/b55/ed2/266b55ed2477e9f8a31c5431f3b3b5c7.jpg"><br><br><h4>  Many videos </h4><br>  Test flight on a whip antenna, on the ground sector. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/q2DlRSUIDQM%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhjjR91Ndzj9c9Br65MikOZRuRCoFA" frameborder="0" allowfullscreen=""></iframe><br><br>  Test flight on "clovers" <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/kneJdi7UR3g%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhjEMG_pdOXHhHYLkk4veiu8efCEFw" frameborder="0" allowfullscreen=""></iframe><br><br>  The results were surprisingly quite good.  Objectively, the ‚Äúclover‚Äù performed better, so all further tests were conducted on ‚Äúclovers‚Äù. <br><br>  Test flights over distance were conducted in two resolutions HD 1280x720 and 800x600 <br>  1280x720 <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/ZdcdKGVA4nw%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhj64_VMTvqXv-ZyHsAoXReHu_oQfQ" frameborder="0" allowfullscreen=""></iframe><br><br>  800x600 <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/cRQI-OmSnlQ%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhgWb5izFghDMwQ3l1zeWdYpjpiw9Q" frameborder="0" allowfullscreen=""></iframe><br>  For this permission, please do not scold ... they say HD is promised, but this is not it.  Exclusively for the purpose of experiment.  In the future, there will be tests up to 320x200 <br><br>  The radius of confident reception has exceeded 700 meters! <br><img src="https://habrastorage.org/getpro/habr/post_images/0cf/e55/8e8/0cfe558e877105a5d6744cb661d33be8.jpg"><br><br>  We decided to protest Full HD <br>  1920x1080 <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/_8dsuqHXgqA%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhh3F7cubn3llh-Y47_2hriIsxmbrw" frameborder="0" allowfullscreen=""></iframe><br>  The result is a bit predictable, not far ... but WORKS! <br><br>  More tests for distance and <b>landing on the monitor</b> .  There will have to believe a word ... the pilot really planted the foyer- <s>force by the thought of</s> looking at the ground computer monitor. <br>  800x600 <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/otWQwiVtih4%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhjnv4leqVgTERr_tKy46wT7B11ppg" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Findings and immediate plans </h4><br>  Compared with the previous experiment, the result has improved significantly.  The system works and there is where <s>to fly to</s> dig further.  The question will fly up or will not fly up any more.  Definitely HD FPV took off! <br><br><ul><li>  Consider in more detail the location of the antenna on board. </li><li>  To test a variant with a ceiling antenna with linear polarization (it is already awaiting at the post office). </li><li>  To test the performance of the system at altitude - this will require reworking the foam, because  He is not very strong and he climbs very <s>sadly</s> slowly. </li><li>  To test the 5.8 GHz modules, there is an interesting offer from the habraser <a href="http://habrahabr.ru/users/kunks/" class="user_link">kunks</a> . </li><li>  A separate front of work opens up opportunities for the implementation of OSD - the imposition of flight information on the broadcast picture.  The pilot is already very necessary <s>to direct the aircraft to the target</s> to receive the height and voltage of the onboard battery. </li><li>  It is interesting to build GPS flight tracks and combine them with video, for deeper experiments and effective range analysis. </li></ul><br><br>  There is already a USB GPS, connected it to the raspberry, NMEA knocks so that it does not stop.  In the presence of a solution with connecting the <a href="http://www.invensense.com/mems/gyro/mpu9150.html">MPU-9150</a> gyroscope on an I2C bus to a raspberry, you can of course receive the required data from the Ardupilot ... here the question is still open. <br><br>  <b>PS</b> promised delay metering <br><br>  The flight camera looks at a large monitor on which the stopwatch is displayed, on the small monitor the <s>horizon is overwhelmed</s> by the received wifi signal. <br><br>  A photo <br><img src="https://habrastorage.org/getpro/habr/post_images/0d9/608/5c9/0d96085c9c2f1d9f9a0e18d17aa8776e.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/2c4/4f1/5cf/2c44f15cf1e1442e3a216c223f0c9c27.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/331/1c8/bd6/3311c8bd66a6c9c2da0f9e8d3fe1cf84.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/6fa/b49/953/6fab49953c6ed99d50f1c143600be7ff.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/6ea/75a/827/6ea75a827d3660f8a7842ab634996d74.jpg"><br><br>  And a small video <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/KmVv1syWCRQ%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhi7S9VgYEXisQatcBbLVNwi52Nl8g" frameborder="0" allowfullscreen=""></iframe><br><br>  Delay ~ 150ms </div><p>Source: <a href="https://habr.com/ru/post/220953/">https://habr.com/ru/post/220953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../220937/index.html">Samsung will develop Tizen as a platform for smart home and is preparing a new flagship</a></li>
<li><a href="../220941/index.html">SKALA - ChNPP computer, history of creation</a></li>
<li><a href="../220947/index.html">AdMob, Qt 5.2 and Android or what happens when there is no answer on the Internet</a></li>
<li><a href="../220949/index.html">New requirements for Stanford University passwords: a balance between length and complexity</a></li>
<li><a href="../220951/index.html">Yandex lost 10% of capitalization per day</a></li>
<li><a href="../220955/index.html">USB DC power meter</a></li>
<li><a href="../220957/index.html">Interpersonal hernia or What is common in the climate in the team and back problems</a></li>
<li><a href="../220959/index.html">I vs openSUSE</a></li>
<li><a href="../220961/index.html">Pro layout, dependency hell and backward compatibility</a></li>
<li><a href="../220963/index.html">Arduino UNO plays in 2048 with a field size of 8x8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>