<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How a small program turned a small office into a federal company with a profit of 100+ million rubles / month</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the end of December 2008, I was invited to one of the taxi services of Perm in order to automate existing business processes. In general, I had thr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How a small program turned a small office into a federal company with a profit of 100+ million rubles / month</h1><div class="post__text post__text-html js-mediator-article"><p>  At the end of December 2008, I was invited to one of the taxi services of Perm in order to automate existing business processes.  In general, I had three fundamental tasks: </p><br><ul><li>  Develop a software package for a call center with a mobile application for taxi drivers and automate internal business processes. </li><li>  It was necessary to do everything as soon as possible. </li><li>  To have our own, and not purchased from third-party developers, software that could be scaled independently under the constantly changing market conditions as the business grew. </li></ul><br><p>  At that time I did not understand how this market and its nuances are arranged, but nevertheless two things were obvious to me.  Call center must be built on the basis of open source asterisk software PBX.  Information exchange between the call center and the mobile application is essentially a client-server solution with all the relevant design patterns of the future project architecture and its programming. </p><br><p>  After a preliminary assessment of the tasks, deadlines and costs of the project, coordinating all the necessary issues with the owner of the taxi service, in January 2009, I started to work. </p><a name="habracut"></a><br><p>  Looking ahead I will say right away.  The result was a scalable platform running on 60+ servers in 12 cities of Russia and 2 of Kazakhstan.  The total profit of the company was 100+ million rubles / month. </p><br><h3 id="etap-pervyy-prototip">  Stage one.  Prototype </h3><br><p>  Since at that time I didn‚Äôt have practical experience in ip telephony, and was familiar with asterisk superficially in the framework of ‚Äúhome‚Äù experiments, it was decided to start working with developing a mobile application and server part.  Along the way, closing gaps in knowledge of other tasks. </p><br><p>  If more or less everything was clear with the mobile application.  At that time, it could only be written in java for simple push-button phones, then with writing a server serving mobile clients, the question was somewhat more complicated: <br></p><br><ul><li>  What server OS will be used; </li><li>  Based on the logic that the programming language is chosen for the task, and not vice versa, and taking into account item 1, which programming language will be optimal for solving problems; </li><li>  When designing, it was necessary to take into account the expected high loads on the service in the future; </li><li>  Which database will be able to guarantee fault tolerance under high loads and how to maintain a fast database response time with an increase in the number of calls to it; </li><li>  The determining factor was the speed of development and the ability to quickly scale the code. </li><li>  The cost of equipment and its maintenance in the future (one of the conditions of the customer - the server must be located in the territory under its control); </li><li>  The cost of developers who will be needed in the next stages of work on the platform; </li></ul><br><p>  As well as many other issues related to design and development. <br></p><br><p>  Before starting work on the project, I offered the business owner the following strategic decision: since the project is rather complicated, its implementation will take a significant amount of time, so first I create an MVP version that will take not so much time and money, but which will allow his company to gain a competitive advantage the market is already "here and now", and will also expand its capabilities as a taxi service.  To me, in turn, such an intermediate solution will give time for more deliberately to design the final solution and time for technical experiments.  At the same time, the implemented software solution will not be guaranteed to be correctly designed and possibly subsequently be radically redone or replaced, but it will definitely perform the minimum necessary functionality for ‚Äúseparation from competitors‚Äù.  I liked the idea of ‚Äã‚Äãthe taxi founder, so in the end they did. </p><br><p>  The first two weeks I spent on studying the business processes in the company, and studying the work of a taxi "from the inside".  Conducted a business analysis, where, what and how you can automate and whether it is necessary at all.  What difficulties and problems faced by employees of the company.  How to solve them.  How is the working day organized by the employees of the company?  What tools are used. </p><br><p>  By the end of the third week after starting work and studying issues of interest on the Internet, taking into account the wishes of the business owner, as well as my own knowledge and capabilities at that time, it was decided to apply the following stack: </p><br><ul><li>  Database server: MsSQL (free version with database file restriction up to 4GB); </li><li>  Development of a server serving mobile clients in Delphi under windows, since there was already a windows server on which the database will be installed, and also the development environment itself facilitates rapid development; </li><li>  Taking into account the low speeds of the Internet on mobile phones in the distant 2009, the exchange protocol between the client and the server should be binary.  This will reduce the size of the transmitted data packets and, as a result, will increase the stability of clients with the server; </li></ul><br><p>  Another two weeks went to the design of the protocol and database.  It turned out 12 packages that provide the exchange of all the necessary data between the mobile client and the server and about 20 tables in the database.  I did this part of the work taking into account the future, even if it is necessary to completely change the technology stack, the package structure and the database should remain unchanged. </p><br><p>  After the preparatory work it was possible to begin the practical implementation of the idea.  In order to speed up the process a bit and free myself time for the remaining tasks, I made a draft version of the mobile application, sketched UI, partly UX and drew a programmer to a familiar java project.  And he focused on the development of the server-side, design and testing. </p><br><p>  By the end of the second month of work on MVP, the first version of the prototype server and client was ready. </p><br><p>  By the end of the third month after the synthetic tests and field tests, fixing bugs, minor modifications of the protocol and the database, the application was ready for output to production.  What was done. </p><br><p>  From this moment begins the most interesting and the most difficult part of the work on the project. </p><br><p>  In the process of switching drivers to new software, 24-hour duty was organized.  Since not everyone could come during the day during working hours.  By the same administrative, volitional decision of the founder of the company, it was organized in such a way that the taxi / manager manager entered them and they were not informed to the driver.  For my part, technical support was needed in case of failures and unforeseen situations. </p><br><p>  Murphy's Law tells us: "Everything that can go wrong will go wrong."  And that‚Äôs not how it went ... It's one thing when I, and a few taxi drivers, tested the application on several dozen test orders.  And it is quite another thing when 500+ drivers on the line work in real time on real orders of real people. </p><br><p>  The architecture of the mobile application was simple and the bugs in it turned out to be noticeably less than in the server.  Therefore, the main focus of work was on the server side.  The most critical glitch in the application was the problem of disconnecting from the server when the Internet was lost on the phone and the session was re-restored.  And the Internet disappeared quite often.  Firstly, the Internet on the phone itself was not stable enough in those years.  Secondly, there were a lot of blind zones where the Internet simply did not work.  We identified this problem almost immediately and, within 24 hours, fixed and updated all previously installed applications. </p><br><p> On the server, there were mostly errors in the order distribution algorithm and incorrect processing of some requests from clients.  In fact, identifying glitches, corrected and updated the server. </p><br><p>  In fact, there were not so many technical problems at this stage.  The difficulty was that for almost a month I was on duty at the office, only occasionally getting home.  4-5 times, I guess.  And I slept in fragments, because at the time I worked on the project alone and no one could fix anything except me. </p><br><p>  Month, this does not mean that everything is constantly buggy for a month and I, without ceasing something there kodil.  We just decided.  After all, the business has already worked and made a profit.  And it is better to be safe and rest later than to lose customers and profits now.  We all understood this perfectly, so the whole team together paid maximum attention and time to the introduction of new software into the taxi system.  And taking into account the current traffic of orders, in a month we will definitely eliminate all the shortcomings.  Well, hidden bugs that can remain will certainly not have a critical impact on the business process and, if necessary, they can be corrected in working order. </p><br><p>  Here it should be noted the invaluable assistance from the directors and foremen of taxi services, who with the maximum understanding of the complexity of the situation of transferring drivers to new software, worked around the clock with drivers.  In fact, after the completion of the installation of new programs on the phones, we did not lose a single driver.  And it is not critical to increase the percentage of non-export of customers, which soon returned to normal levels. </p><br><p>  This completed the first phase of the project.  And it should be noted the result was not long in coming.  By automating the distribution of orders to drivers without human intervention, the average waiting time for a taxi by a client was reduced by an order of magnitude, which naturally increased customer loyalty to the service.  This led to an increase in the number of orders.  The number of taxi drivers also increased.  As a result, the number of successfully completed orders increased.  And as a result - increased company profits.  Of course, here I am running a little ahead, since this whole process was not instantaneous.  To say that the leadership was enough - to say nothing.  I was open to no limit in the further financing of the project. </p><br><p>  To be continued.. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/455405/">https://habr.com/ru/post/455405/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455393/index.html">On the application of parametric spectral estimation methods in radar - the method MUSIC. Addition to the article</a></li>
<li><a href="../455397/index.html">How we designed and implemented a new network on Huawei in the Moscow office, part 1</a></li>
<li><a href="../4554/index.html">Spammers call on the stock exchange and continue to use the GIF</a></li>
<li><a href="../455401/index.html">Tcl for Cisco IOS in simple examples</a></li>
<li><a href="../455403/index.html">From five cents to the game of deities</a></li>
<li><a href="../455407/index.html">Electric cars and peak fuel car sales</a></li>
<li><a href="../455409/index.html">backward compatibility</a></li>
<li><a href="../455411/index.html">Megaphone conducted a technical update ... network name</a></li>
<li><a href="../455413/index.html">Turn Pocket into a news feed.</a></li>
<li><a href="../455419/index.html">Apple Beta Alive: Little Things That Were Not Told at the Presentation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>