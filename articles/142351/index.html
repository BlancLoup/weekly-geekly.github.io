<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Functional programming for all</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. This article is a translation of a post that interested me in a postgraduate blog at the State University of New York at Stony Brook. The ar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Functional programming for all</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/e8b/2ce/ec8/e8b2ceec8c7ade11a7e02a4e7a4d57e0.png" align="left"><br>  Good day.  This article is a translation of a post that interested me in a postgraduate blog at the State University of New York at Stony Brook.  The article in an accessible form describes the basic concepts of functional programming, their advantages and disadvantages.  I think it will be useful to a wide circle of readers who doubt whether they need to delve into the world of functional programming or not.  Suggestions, suggestions and comments on the translation and terminology are accepted by personal mail. <br><br>  <i>The opinion of the translator may sometimes not coincide with the opinion of the author, but translating the article was extremely entertaining.</i> <br><br>  <b>UPD:</b> you can find an alternative translation on <a href="">rsdn</a> (thanks to <a href="https://habrahabr.ru/users/flamingo/" class="user_link">flamingo</a> for the link). <br><a name="habracut"></a><br>  <i>Monday, June 19, 2006</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Introduction </h2><br>  Programmers are procrastinators (i.e., lazy).  Come, make coffee, check your email, read the RSS feed, read the news, check out the latest articles on the technical website, look through the political discussions on the programmer's forum.  Wash off, repeat to not miss anything.  Go for lunch.  Return, bump into IDE for a few minutes.  Check mail.  Make coffee.  And suddenly the day comes to an end. <br><br>  But from time to time in the field of view are entertaining (difficult, promising) articles and blog posts.  If you are looking in the right place, then at least one such article will appear every few days.  These posts are difficult to understand, this takes time, so they accumulate in the folder "Read".  Before you have time to understand what's what, it turns out that a bunch of links have already accumulated and a folder full of PDF files.  It will take you a whole year and a hut in the middle of the forest, where there is not a soul for miles to figure it all out.  And it is advisable that someone bring food every morning and pick up trash while you walk to the river. <br><br>  I do not know what your list is, but most of my list is about functional programming.  Such articles are usually the most complex.  Often they are written in a dry academic language, and even the ‚ÄúWall Street veterans with ten years of experience‚Äù do not understand what is said in the articles on functional programming (AF).  If you ask a project manager in Citi Group or Deutsche Bank <a name="ref_1_up"></a>  <sup><a href="https://habr.com/ru/post/142351/">[1]</a></sup> why they chose JMS instead of Erlang, you will hear in reply that they cannot use academic language for industrial development.  The problem is that the majority of complex systems with the most stringent requirements were written using functional programming elements.  Something does not converge. <br><br>  Indeed, articles on FP are difficult to understand, but they can be written more simply.  The reason for the abyss of knowledge is purely historical.  In fact, the concept of OP is nothing complicated.  Look at this article as an ‚Äúaccessible guide to OP‚Äù, as if it were a bridge between our imperative minds and the world of OP.  Make a cup of coffee and continue.  I hope that very soon colleagues will start joking about your AF comments. <br><br>  So what is OP?  Where did it come from?  What is it suitable for?  If it is really as useful as the advocates of AF say, why not use it more often on an industrial scale?  Why do only people with PhD lean towards functional languages?  But more importantly, why is it so damn difficult to master functional languages?  What lies behind all these closures, continuations, currying, lazy calculations and the absence of side effects?  How can all this be used in a project that does not cover the whole universe?  Why is it all so far from the good that is holy and dear to our imperative hearts?  Soon we will figure everything out.  To begin with, let us understand the reason for the huge gap between academic articles and the real world.  To answer this question is enough to walk in the park. <br><br><h2>  Walk in the park </h2><br>  Get in the time machine.  Our walk in the park took place more than 2 thousand years ago in one of those sunny days of the long-forgotten spring of 380 BC.  Outside the city walls of Athens, under the gentle shadows of olive trees, Plato strolled in the direction of the Academy with a beautiful boy slave.  It was a wonderful weather, dinner was given a pleasant weight in the stomach, and the conversation smoothly turned to philosophical topics. <br><br>  ‚ÄúLook at those two students,‚Äù Plato said, carefully choosing the words to give the question educational meaning.  ‚ÄúWhich of them do you think is higher?‚Äù The boy, the slave, looked towards the pool, near which there were two people.  "They are about the same height," replied the boy.  ‚ÄúWhat do you mean by the words 'approximately one height'?‚Äù, Asked Plato.  ‚ÄúWell, from here they look the same, but I‚Äôm sure that if we get closer, I can see the difference in height.‚Äù <br><br>  Plato smiled.  He led the boy in the right direction.  ‚ÄúSo you want to say that there are no ideally coinciding things in the world?‚Äù The boy became thoughtful and answered: ‚ÄúYes, I think so.  There is always a little difference, even if we can't see it. ‚ÄùHe got to the bottom of it!  ‚ÄúThen if there are no ideally coinciding things in this world, then how do you understand the concept of 'ideal' equality?‚Äù This put the boy in a stupor.  He replied: "I do not know." <br><br>  Thus was born the first attempt to understand the nature of mathematics.  Plato suggested that in our world everything is just an approximation of the ideal.  He also realized that people are able to understand the concept of an ideal, although they have never come across it.  He came to the conclusion that the ideal mathematical forms must exist in another world, and that we somehow know about them from the connections with this ‚Äúalternative‚Äù universe.  Obviously, we cannot see the perfect circle.  But at the same time, we understand what a perfect circle is and how it can be described mathematically.  What then is math?  Why is the universe described by mathematical laws?  Can everything be described by mathematics? <a name="ref_2_up"></a>  <sup><a href="https://habr.com/ru/post/142351/">[2]</a></sup> <br><br>  <a href="http://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B8%25D0%25BB%25D0%25BE%25D1%2581%25D0%25BE%25D1%2584%25D0%25B8%25D1%258F_%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D0%25BA%25D0%25B8">The philosophy of mathematics is a</a> very complex subject.  Like most philosophical disciplines, she asks questions rather than answers them.  Scientists for the most part agree with the fact that mathematics is a real puzzle: it is based on a set of basic consistent principles and a set of rules on how to operate on these principles.  Then we can combine the rules, getting more and more complex laws.  Mathematicians call this method a "formal system" or "calculus."  For example, you can build a formal system for Tetris.  In essence, a working Tetris is itself a formal system, it is simply written in an unusual form. <br><br>  The civilization of fluffy creatures with Alpha Centauri cannot read our formal Tetris system or circle, because their only sense organ can smell only odors.  They may never build Tetris, but they will probably have a formal system for the circle.  Most likely, we will not be able to get acquainted with it, since our sense of smell is not so developed.  But as soon as the representation language is deciphered (by various sensory instruments and standard reverse engineering), the basic concepts will become clear to any intellectually developed civilization. <br><br>  Even if not a single intelligent civilization existed in the universe, the formal system for Tetris and the circle would still be logically correct.  Simply, there would be no creatures capable of finding and formalizing these systems.  If a sensible alien race suddenly appears, they will most likely develop their formal system for describing the universe.  Of course, it is unlikely that they will invent Tetris, because in the universe there are no analogues to this game.  Tetris is one example of a huge number of formal systems, riddles that are not related to the surrounding reality.  Even the concept of natural numbers can not always be attributed to the real world, because you can imagine such a large number that it can not be applied to anything in the universe, but it will be finite. <br><br><h2>  A bit of history <a name="ref_3_up"></a>  <sup><a href="https://habr.com/ru/post/142351/">[3]</a></sup> </h2><br>  Let's turn the wheels of our time machine and move a little closer in the 1930s.  The Great Depression devastated the New and Old World.  Almost all families from all social groups felt a huge economic recession.  There are very few shelters in which people could not fear poverty.  Some people are lucky enough to be in such shelters.  We are interested in mathematics at Princeton University. <br><br>  New buildings built in the Gothic style gave the university an aura of security.  Logicians from across the country were invited to Princeton to establish a new unit.  While most Americans were struggling to feed themselves, high ceilings, wood-patterned walls, daily discussions over a cup of tea, and walks in the woods made up living conditions at Princeton. <br><br>  One of the mathematicians who lived in such a wasteful lifestyle was a young man named Alonzo Church.  Alonzo received a bachelor's degree from Princeton and was persuaded to remain in graduate school.  Alonzo felt the setting was too luxurious.  He rarely appeared on the discussion of mathematical problems over a cup of tea and did not like to walk in the woods.  Alonzo was a loner: he was more prolific when he worked alone.  Nevertheless, he regularly met with other inhabitants of Princeton.  Among them were Alan Turing, John von Neumann, and Kurt G√∂del. <br><br>  These four were interested in formal systems.  They did not pay much attention to the physical world, they were interested in working with abstract math puzzles.  There was something in common in their puzzles: mathematicians studied questions of computation.  If we have a machine with infinite computational capabilities, what tasks can be solved on it?  Is it possible to solve problems automatically?  Are there unsolvable problems and why?  Will the machines with different architecture have the same power? <br><br>  Together with other scientists, Alonzo developed a formal system called Lambda calculus.  The system was essentially a programming language for one of the imaginary machines.  It was based on functions that take functions as arguments, and return a function.  Such a function was designated by the Greek letter Lambda, which gave the name to the whole system <a name="ref_4_up"></a>  <sup><a href="https://habr.com/ru/post/142351/">[4]</a></sup> .  Using this system, Alonzo managed to build reasoning about the above questions and to derive answers to them. <br><br>  Regardless of Alonzo, Alan Turing conducted a similar study.  He developed another formal system (which is now called the Turing Machine), and using it came to conclusions similar to Alonzo.  Later it was proved that the Turing machine and the Lyabda calculus have the same power. <br><br>  At this point, our story stops.  I would summarize the article, and you would switch to another page if World War II had not started.  The world was on fire.  US troops very intensively used artillery.  To improve accuracy, the army hired a large group of mathematicians who constantly solved the differential equations necessary for ballistic firing tables.  It quickly became clear that such a task was too difficult for a manual solution; special equipment was developed to overcome this problem.  The first ballistic table machine was the Mark I built by IBM - it weighed 5 tons, consisted of 750'000 parts and could perform 3 operations per second. <br><br>  The race, of course, did not end there.  In 1949, the Electronic Discrete Variable Automatic Computer (EDVAC) was shown to the public.  It was the first example of the implementation of the von Neumann architecture, and was the first truly working Turing machine.  For some time, Alonzo Church‚Äôs work was set aside. <br><br>  At the end of the 50s, MIT professor John McCarthy, also a graduate of Princeton, began to show interest in the work of Alonzo Church.  In 1958, he introduced the list processing language, <b>Lis</b> t <b>P</b> rocessing language (Lisp).  Lisp was conceived as an implementation of the Alonzo Lambda calculus, which runs on von Neumann computers.  Many computer scientists have noted Lisp's expressive power.  In 1973, a group of programmers in an artificial intelligence laboratory at the Massachusetts Institute of Technology developed iron, which they called the Lisp machine.  It was a hardware implementation of Alonzo lambda calculus. <br><br><h2>  Functional programming </h2><br>
  ‚Äî      .    -    ,   -    .   ,    ,   ‚Äî   ,     .    ,          .                Java (,       Java       ).        Java     ,         .   .<br>
<br>
      ,   .  ,  ,       , ,  ,    .  ‚Äî     .     ,    .    .     ‚Äî    (alias)   (        ).   .        .   Java  ,      <code>final</code> ( <code>const</code>     C++).    -<code>final</code> <br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">5</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = i + <span class="hljs-number"><span class="hljs-number">3</span></span>;
</code></pre><br>
    ,     .       <code>final</code>,      ‚Ä¶ .       Java:     ,        .<br>
<br>
 , , ,     -     .    ,         !    .     -,       ,    .      .   ,  ,      .       ,     .       ?<br>
<br>
,      ,       .   .     ,  .    ,      ,     . ,   ,   Java .  ,      <code>final</code> <a name="ref_5_up"></a><sup><a href="https://habr.com/ru/post/142351/">[5]</a></sup>.<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reverse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String arg)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(arg.length == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> arg;
    }
    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reverse(arg.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>, arg.length)) + arg.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);
    }
}
</code></pre><br>
   ,        <a name="ref_6_up"></a><sup><a href="https://habr.com/ru/post/142351/">[6]</a></sup>.    ,       .    .    ,     . ,      .<br>
<br>
<h2>  </h2><br>
, , ,           .       ,    .  .        .    . ,  ,     .      ,    ,    ‚Äî    .    ,     .<br>
<br>
<h2>Unit </h2><br>
       ,      .      ,            ,        (         ).  ,      ‚Äî   .  ,       ‚Äî  ,   .<br>
<br>
 ,   unit-.          .            .    ,   ,    .        Unit-,           ,      .  Java  C++      ‚Äî     ,    .     .<br>
<br>
<h2></h2><br>
      ,   ,   ‚Äî   .     ,          ,   .         .      ,    , - ,            .      ‚Äî    ,     ,    ,     .<br>
<br>
    ,    ‚Äî  .   .      ,      .       ,     .   ,       ,      ,      .        ,         !  ,          ,  ,      .        ,  ,    .    ,    ‚Äî     !<br>
<br>
  ,         .       ,       .          !<br>
<br>
<h2></h2><br>
       - .      deadlock-    (race conditions)      !                 .  ,                ,   .<br>
<br>
    ,           ?    ,   .  Ericsson      <a href="http://www.erlang.org/">Erlang</a>        .    Erlang-    <a href="http://www.erlang.org/faq/faq.html"></a>.        ,      ,   ,   Wall Street. -,    Erlang,     ,  Java . Erlang   .<br>
<br>
     .       ,         ,     CPU.     .<br>
<br>
<pre><code class="java hljs">String s1 = somewhatLongOperation1();
String s2 = somewhatLongOperation2();
String s3 = concatenate(s1, s2);
</code></pre><br>
     ,  ,    <code>s1</code>  <code>s2</code>,     ,    .      ,          ,    ,    .            ‚Äî   ,   <code>inline</code>!          .       CPU  .              .      ,         ,    .      .  100%       .<br>
<br>
<h2>  </h2><br>
      Windows   .  .      .  Windows XP   ,        (   Windows Update           ,   ).  Unix     .       ,    .    ,           .      100% ,   -      ,     .   Wall Streets       ,   .<br>
<br>
            .      [.  Smalltalk-   ].    Java       .     ,       ,     ,   .      ,   .       ,   ,    ,      ,         .   ,       .         .      ,       .<br>
<br>
           .       !       ‚Äî           ,     .      !   ,    ,   . ,    Erlang,  <a href="http://www.erlang.org/doc/reference_manual/code_loading.html"></a>      .<br>
<br>
<h2>    (Machine Assisted Proofs and Optimizations)</h2><br>
         ,        .     ‚Äî    ,       ,       . , ,      ,    ,       <a name="ref_7_up"></a><sup><a href="https://habr.com/ru/post/142351/">[7]</a></sup>.       .         .<br>
<br>
     ,      .     ,       Unit-   !       (rock solid systems).             .           ,             .<br>
<br>
<h2>  </h2><br>
,      ,  ,  ¬´  ,  ,       ,    <code>final</code>¬ª.   .  <code>final</code>        ,   Java.       , ,     ,  -   .     ‚Äî    .<br>
<br>
   ‚Äî    ,    Java  C.   ‚Äî    ,  Java    .       C:<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> j)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i + j;
}
</code></pre><br>
     ,   C .    Java ,     .        Java  ( ,     <code>final</code>):<br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">add_function_t</span></span></span><span class="hljs-class"> </span></span>{
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> j)</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i + j;
    }
}

add_function_t add = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> add_function_t();
</code></pre><br>
 <code>add</code>   .      .     <code>add</code>      .       .     <code>add_function_t</code>  runtime      ,   .    ,    . ,    (    )    .     .          Java ,     (      ).     ¬´  ¬ª,     ,    Java     .<br>
<br>
       ?  ,   .               .   ,  -      ,       (        ).   ,              ,      . ?      .<br>
<br>
,      Java ,   ,         .<br>
<br>
<pre><code class="java hljs">    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Message msg)</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
        msg.setClientCode(<span class="hljs-string"><span class="hljs-string">"ABCD_123"</span></span>);
        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
        
        sendMessage(msg);
    }
    
    <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
}
</code></pre><br>
  ,   ,          .   ,    ‚Äî         .      ?   ,    ,         .  :<br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageHandler</span></span></span><span class="hljs-class"> </span></span>{
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Message msg)</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(msg.getDestination().equals(<span class="hljs-string"><span class="hljs-string">"server1"</span></span>) {
            msg.setClientCode(<span class="hljs-string"><span class="hljs-string">"ABCD_123"</span></span>);
        } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
            msg.setClientCode(<span class="hljs-string"><span class="hljs-string">"123_ABC"</span></span>);
        }
        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
        
        sendMessage(msg);
    }
    
    <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
}
</code></pre><br>
    .        ,      .         <code>MessageHandler</code>        :<br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageHandler</span></span></span><span class="hljs-class"> </span></span>{
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Message msg)</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
        msg.setClientCode(getClientCode());
        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
        
        sendMessage(msg);
    }
    
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getClientCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;
    
    <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
}


<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageHandlerOne</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageHandler</span></span></span><span class="hljs-class"> </span></span>{
    <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getClientCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"ABCD_123"</span></span>;
    }
}


<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageHandlerTwo</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageHandler</span></span></span><span class="hljs-class"> </span></span>{
    <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getClientCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"123_ABCD"</span></span>;
    }
}
</code></pre><br>
         .      .       .            !            :<br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageHandler</span></span></span><span class="hljs-class"> </span></span>{
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Message msg, Function getClientCode)</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
        Message msg1 = msg.setClientCode(getClientCode());
        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
        
        sendMessage(msg1);
    }
    
    <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
}


<span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getClientCodeOne</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"ABCD_123"</span></span>;
}


<span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getClientCodeTwo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"123_ABCD"</span></span>;
}


MessageHandler handler = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MessageHandler();
handler.handleMessage(someMsg, getClientCodeOne);
</code></pre><br>
         .       .     ,    - ,    .      -  :        runtime      ,         .     - ¬´¬ª  !       .  ,       .      <br>
<br>
<h2></h2><br>
 ,    ,   <a href="http://www.amazon.com/gp/product/0201633612/103-9055240-2348603">¬´ ¬ª</a>  .      ,      -   ,        .   .       .<br>
<br>
   .        ,     ,       ,      .       (    ? ,  -    ,    ).          .<br>
<br>
      ¬´¬ª    Java ‚Äî .       .         ,   .    :<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> j)</span></span></span></span>;
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">square</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function">
</span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pow(i, <span class="hljs-number"><span class="hljs-number">2</span></span>);
}
</code></pre><br>
    ,     ,   ,     .         (       (Haskell Curry),     ,    ).          ,    ,     ,      .     ‚Äî   ,        (   ).<br>
<br>
      .      ,   .      .      ,    .<br>
<br>
<pre><code class="java hljs">square = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;
</code></pre><br>
           .      <code>pow</code>,  2    .    Java,     :<br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">square_function_t</span></span></span><span class="hljs-class"> </span></span>{
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">square</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pow(i, <span class="hljs-number"><span class="hljs-number">2</span></span>);
    }
}
square_function_t square = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> square_function_t();
</code></pre><br>
 ,       .               .    ,       !   ,    ,       ().<br>
<br>
<h2> </h2><br>
 ( )  ‚Äî   ,         .      ,    :<br>
<br>
<pre><code class="java hljs">String s1 = somewhatLongOperation1();
String s2 = somewhatLongOperation2();
String s3 = concatenate(s1, s2);
</code></pre><br>
         .          ,      :  <code>somewhatLongOperation1</code>,  <code>somewhatLongOperation2</code>,  <code>concatenate</code>  .        .<br>
<br>
     <code>somewhatLongOperation1</code>  <code>somewhatLongOperation2</code>    ,            .  ,       ,     ?  ‚Äî .     ,   -     <code>s1</code>  <code>s2</code>.         ,     <code>concatenate</code>.   <code>concatenate</code>   ,          ,       ! <a href="http://www.haskell.org/">Haskell</a> ‚Äî      .  Haskell   -   (!),   Haskell     .<br>
<br>
        .             .<br>
<br>
<h2></h2><br>
      .            ‚Äî     ,       ,      ,     ,    ,     .           ‚Äî          .<br>
<br>
<h2>  </h2><br>
      ,     . ,      :<br>
<br>
<pre><code class="java hljs">unless(stock.isEuropean()) {
    sendToSEC(stock);
}
</code></pre><br>
 ,   <code>sendToSEC</code>     (stock)  .    <code>unless</code>?        ,   ,  Haskell,   .    <code>unless</code>   !<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unless</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> condition, List code)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!condition)
        code;
}
</code></pre><br>
,  <code>code</code>   ,  <code>condition == true</code>.       ,      ,  <code>unless</code>  .<br>
<br>
<h2>  </h2><br>
      ,        [. ‚Äî    Python].     . ,                 .   ,   Java,     ,     .    Haskell          .    ,       ,     .                (        ).<br>
<br>
<h2></h2><br>
      .       .      .        . , ,  :<br>
<br>
<pre><code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">"Please enter your name: "</span></span>);
System.in.readLine();
</code></pre><br>
     ,      !  ,      -,       (      ,     ),       !        ,       (      ).      .          ,           .      !       (continuation),  (monads)    (uniqueness typing).       ,         . ,     ,         .     .<br>
<br>
<h2></h2><br>
      ,  ¬´  ¬ª   :     . ,    ,     ,          -1.<br>
<br>
   ,     ,     ,        .     ‚Äî   .         ,   ,       . ¬´¬ª ‚Äî  ,      ,    .   ,     .     :<br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = add(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>);
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = square(i);
</code></pre><br>
 <code>add</code>   15,    <code>i</code>,   ,     .   <code>i</code>    <code>square</code>. ,        ,       .           (Continuation Passing Style  CPS),  <code>add</code>     <code>square</code>.<br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = add(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, square);
</code></pre><br>
   <code>add</code>    ‚Äî ,     ,  <code>add</code>  .    <code>j</code>   225.<br>
<br>
     ,      .      -<br>
<br>
<pre><code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">"Please enter your name: "</span></span>);
System.in.readLine();
</code></pre><br>
       ,         .      CPS,      ,        !<br>
<br>
<pre><code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">"Please enter your name: "</span></span>, System.in.readLine);
</code></pre><br>
   <code>println</code>    <code>readLine</code>,    ,    <code>readLine</code>  .       ,       ,   <code>readLine</code>   (      ).   Java <code>println</code>  <code>void</code>.     -   (    <code>readLine</code>),      !         ,     .        ,       ,        .        ,       (     )!      ,  ,   ‚Äî        .    ,  <code>println</code>  <code>readLine</code>   ,    .<br>
<br>
      .        CPS,       , ,    .        CPS,        .      (      ).<br>
<br>
      CPS ,  ,      ,      ,        .      ,  <code>add(5,10)</code>.  ,   CPS ,      ‚Äî  ,  <code>add</code>    .       -CPS ? , ,     CPS,    ?<br>
<br>
,     .     CPS .       ,  ,   CPS    !     ,     ¬´return¬ª,     ,   .    (push)      ,    (pop)  .       -      <code>jump</code>   .      ,      ,     !<br>
<br>
 ,   CPS     ,    ,   ,   .   -CPS    ,   .     ?       ,    .  ,   ?      !       ‚Äî    ,   ,   ,  CPS !  ,    <code>add(5,10)</code>,      .<br>
<br>
   .       ‚Äî      ,    ,         ,    .   ,   ‚Äî  ,         ,  ,            ‚Äî       ,    (  ) ‚Äî    .  ,              (    ).<br>
<br>
,   ,     .   ?         -,        ‚Äî  .      .     ,        ,     .        ,     .    ,      .      ( Scheme     <code>call-with-current-continuation</code>),        ‚Äî  (   CPS ‚Äî   ).        (   ).    ¬´¬ª    ,     ¬´¬ª       .    ,     ,     .   ,        .       .    ,             .      .       !<br>
<br>
     ?            .      Web- (   <a href="http://www.seaside.st/">Seaside</a>   Smalltalk). ASP.NET  Microsoft   ,     ,    .   C#  ,   ASP.NET        ‚Äî           .    Web-       ‚Äî        !  ‚Äî       .  ,           Web,       .<br>
<br>
<h2>   (Pattern matching)</h2><br>
         .          .  ,       ,  ,           ,    ‚Äî .<br>
<br>
     Pattern matching  .       Java:<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fib</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(n == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>;
        
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fib(n - <span class="hljs-number"><span class="hljs-number">2</span></span>) + fib(n - <span class="hljs-number"><span class="hljs-number">1</span></span>);
}
</code></pre><br>
    Java-    Pattern matching-<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fib</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>;
}
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fib</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>;
}
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fib</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fib(n - <span class="hljs-number"><span class="hljs-number">2</span></span>) + fib(n - <span class="hljs-number"><span class="hljs-number">1</span></span>);
}
</code></pre><br>
  ?     .<br>
<br>
,  !    .  ,       <code>switch</code>  (     ),       .      ,        (   ).    ,            .        .  <code>int fib(int n)</code>     <code>n</code>  1,   ,  <code>int fib(1)</code> ‚Äî   .<br>
<br>
     ,    .    Pattern matching    :<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n &lt; </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ ... }
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span><span class="hljs-function"> </span></span>{ ... }
</code></pre><br>
      ?       !  ,       <code>if</code>, pattern matching       .        <code>WndProc</code>,     Win32  (         ).         . ,      ,      ,      1,     3.<br>
<br>
   Pattern matching  ,             .     ( )   .             .     ,     Pattern matching.      ,  ,       .<br>
<br>
<h2></h2><br>
         ¬´¬ª   ‚Äî ,         ,    .   ,         .             ,        .            .    ( Common Lisp)      <code>final</code> ‚Äî    .    ,        ‚Äî          .         ,    .    -                 :  .     . ,       <code>final</code>           :<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-function">Function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makePowerFn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> power)</span></span></span><span class="hljs-function"> </span></span>{
   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">powerFn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> base)</span></span></span><span class="hljs-function"> </span></span>{
       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pow(base, power);
   }


   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> powerFn;
}


Function square = makePowerFn(<span class="hljs-number"><span class="hljs-number">2</span></span>);
square(<span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-comment"><span class="hljs-comment">// returns 9</span></span>
</code></pre><br>
 <code>make-power-fn</code>  ,          .  ,     <code>square(3)</code>?  <code>power</code>     <code>powerFn</code>,   <code>makePowerFn</code>  ,    .     <code>square</code>?   -    <code>power</code>,   <code>square</code>  .         <code>cube</code>,      ?       <code>power</code>     <code>make-power-fn</code> .       .       .      :<br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-function">Function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeIncrementer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n = <span class="hljs-number"><span class="hljs-number">0</span></span>;


   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ++n;
   }
}


Function inc1 = makeIncrementer();
Function inc2 = makeIncrementer();


inc1(); <span class="hljs-comment"><span class="hljs-comment">// returns 1;</span></span>
inc1(); <span class="hljs-comment"><span class="hljs-comment">// returns 2;</span></span>
inc1(); <span class="hljs-comment"><span class="hljs-comment">// returns 3;</span></span>
inc2(); <span class="hljs-comment"><span class="hljs-comment">// returns 1;</span></span>
inc2(); <span class="hljs-comment"><span class="hljs-comment">// returns 2;</span></span>
inc2(); <span class="hljs-comment"><span class="hljs-comment">// returns 3;</span></span>
</code></pre><br>
    <code>n</code> ,      .        <code>n</code>,    ,       ,   <code>makeIncrementer</code> .      ?     ?       .<br>
<br>
   .    ,               . ,        ‚Äî      (heap) <a name="ref_8_up"></a><sup><a href="https://habr.com/ru/post/142351/">[8]</a></sup>. , ,    ,    ,   ,         :<br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">some_function_t</span></span></span><span class="hljs-class"> </span></span>{
   SymbolTable parentScope;
   
   <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
}
</code></pre><br>
    ,      ,       .   !       .  ,    ,    ,    -,   .  ‚Äî    ,   ¬´¬ª  ,     ,       .<br>
<br>
<h2> ?</h2><br>
        .         ,       .        , ,   ,     ,  ,   ,     .      (   )       ,     .  , <a href="http://www.google.com/">Google</a> ‚Äî   .<br>
<br>
<h2>?</h2><br>
    ,   ,     coffeemug [] gmail.com.     .<br>
<br>
<h2></h2><br>
<a name="ref_1_down"></a><a href="https://habr.com/ru/post/142351/">[1]</a>.      2005 ,     .        . - ,    $300,000          .<br>
<br>
<a name="ref_2_down"></a><a href="https://habr.com/ru/post/142351/">[2]</a>.   .     ,       ,      .<br>
<br>
<a name="ref_3_down"></a><a href="https://habr.com/ru/post/142351/">[3]</a>.    ,      ,   .    ‚Äî   ,   .     ,     ,  ,       .         .        .<br>
<br>
<a name="ref_4_down"></a><a href="https://habr.com/ru/post/142351/">[4]</a>.       ,     ¬´¬ª,        ,    .     ‚Äî  .        .  ,    ¬´¬ª     ,      ¬´¬ª.<br>
<br>
<a name="ref_5_down"></a><a href="https://habr.com/ru/post/142351/">[5]</a>. ,    Java  .       ,    .<br>
<br>
<a name="ref_6_down"></a><a href="https://habr.com/ru/post/142351/">[6]</a>.               .   <a href="http://ru.wikipedia.org/wiki/%25D0%25A5%25D0%25B2%25D0%25BE%25D1%2581%25D1%2582%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F_%25D1%2580%25D0%25B5%25D0%25BA%25D1%2583%25D1%2580%25D1%2581%25D0%25B8%25D1%258F">  </a>.<br>
<br>
<a name="ref_7_down"></a><a href="https://habr.com/ru/post/142351/">[7]</a>.    .        ,       .<br>
<br>
<a name="ref_8_down"></a><a href="https://habr.com/ru/post/142351/">[8]</a>.      ,    ,         O(1) .</div><p>Source: <a href="https://habr.com/ru/post/142351/">https://habr.com/ru/post/142351/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142346/index.html">Windows Phone Marketing Director resigned only 5 months after starting work</a></li>
<li><a href="../142347/index.html">GeoIP and Django</a></li>
<li><a href="../142348/index.html">Google Earth adds pictures from balloons</a></li>
<li><a href="../142349/index.html">Terraria: or write games correctly</a></li>
<li><a href="../142350/index.html">* .Docx templates using Groovy scriptlets</a></li>
<li><a href="../142352/index.html">The most correct safe printf</a></li>
<li><a href="../142353/index.html">What should we build a ‚Äúsmart‚Äù product?</a></li>
<li><a href="../142356/index.html">Project Lombok, or declare war on a boilerplate</a></li>
<li><a href="../142358/index.html">How to get money from an investor without an iron and a rubber truncheon?</a></li>
<li><a href="../142359/index.html">NFC + metronchiki = great benefit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>