<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IoT hub on Intel Edison</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi GT! 

 If you would like to make your own "iron" module on Intel Edison, but are not sure which side to approach it - this text is for you. It is a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IoT hub on Intel Edison</h1><div class="post__text post__text-html js-mediator-article">  Hi GT! <br><br>  If you would like to make your own "iron" module on Intel Edison, but are not sure which side to approach it - this text is for you.  It is about the features and small nuances of creating your device on Edison, without using ready-made debug boards from Intel or Sparkfun. <br><br>  We recently had a specific task: we needed an IoT hub (that is, a gateway between the Internet of Things specific 6LoWPAN and LoRa networks we are working with and the outside world) on the x86 architecture.  Our standard version is a solution on our own Unwired One microcomputer on the MIPS architecture, but in this case it was x86 that was needed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The fact is that our hub is not just a translator from 6LoWPAN / LoRa to the outside world of everything that came from the other side, but first, a small IoT network server that supports its existence distributes IP addresses ( availability of such networks in this network) and is engaged in other technical work, secondly, the border router from IoT itself to the outside world, and thirdly, the application-level layer, which turns our own IoT network protocols into the common MQTT and unifies different types of networks, and fourthly, the platform on which the client can write how  Interesting software that accumulates and processes data before sending it to a large server, to the cloud, etc. <br><br><img src="https://habrastorage.org/files/725/da5/e64/725da5e64b96491a913d2a89365e5117.jpg"><br><br>  Actually, in the latter there was a snag.  The problem is that with all the talk about the upcoming victory of IoT, with software at this level, everything is pretty bad in it - it is, to put it briefly, not.  Standard, universal, not tied to a specific piece of hardware and not written in Java (forgive me, its fans, but when you have 256 MB of RAM, this is a lot, Java is a so-so choice). <br><br><a name="habracut"></a>  And here we met with Mail.ru DBMS Tarantool.  Light - works on devices with 128 MB of RAM.  Universal - not tied to a specific Vendor gland or specific Vendor clouds.  With built-in application server - and Lua scripting language. <br><br>  One problem - Tarantool does not work on MIPS, 64 MB of memory is not enough for him, and he also wants FPU, which we also do not have.  The second problem - embedded computers on ARM, on which Tarantool works in principle, are very rarely found in dimensions less than 50x50 mm.  And if for industrial projects this is often indifferent, then for our set of rapid prototyping of the <a href="http://www.unwireddevices.com/ru/products/umdk">Unwired Kit,</a> I really would not want to go beyond the width of the base module ‚Äî 45 mm ‚Äî without good reason.  In addition, the built-in Wi-Fi is a separate rarity, and if we are talking about a prototyping kit, then in nine out of ten it is used with Wi-Fi. <br><br>  Fortunately, there is a module on the market that fits perfectly with our requirements - very small, with Wi-Fi and not at MIPS. <br><br>  This is obviously Intel Edison. <br><br><img src="https://habrastorage.org/files/f10/97e/f3c/f1097ef3cd254f7a879b61eabdf1ad95.jpg"><br>  <i>Left Unwired One, right - Edison.</i> <br><br>  Therefore, we took - and made the module UMDK-EDISON, that is, an adapter with Intel Edison with its specific connector to the format of our modules. <br><br>  And following the results we decided to write about the main difficulties and features of Edison, which should be taken into account if you plan to do the same for your project. <br><br><h2>  Features and difficulties </h2><br><br>  The main problem of Edison is the <b>connector</b> .  It uses a high-density interboard connector with an unpleasantly small foot step - 0.4 mm;  the width of one leg is 0.2 mm, the gap between the legs is 0.2 mm.  On the one hand, if it does not exclude any LUT, then it makes it rather difficult;  on the other hand, such dimensions are still within the bounds of the category of complexity in the domestic classification - that is, the same Resonit will make such boards quickly and at basic rates. <br><br>  Soldering is a little more difficult - but it can also be solved.  We tied the connectors to the test samples using the ‚Äúcombined method‚Äù - we walked the tracks, applied good flux (EFD SolderPlus NCLR-A) over the top, stuck the connector and put it in the solder paste stove, after the stove we adjusted it with a thin sting and braid to remove the jumpers between the legs.  I think that a good thin ‚Äúmicrowave‚Äù can be soldered completely manually, but for any mass production, of course, you need to make a normal stencil and put a connector on the paste. <br><br>  The most inconvenient in the connector is that it does not have any pegs for precise positioning in the board - it is obviously intended only for automatic installation.  Therefore, it is necessary to set and align carefully. <br><br>  The connector is made by Hirose and it is called DF40C (2.0) -70DS-0.4V (51).  We bought them in " <a href="http://www.elitan.ru/price/index.php%3Ffind%3DDF40C(2.0)-70DS-0.4V(51)">Elitan</a> " - it turned out 60 rubles <a href="http://www.elitan.ru/price/index.php%3Ffind%3DDF40C(2.0)-70DS-0.4V(51)">each</a> piece with delivery in about a month.  Nobody has such exotics in warehouses in Russia, but if the current terms and prices of ‚ÄúElitan‚Äù are not satisfied, you can try ‚Äú <a href="http://www.kontest.ru/catalog/search/%3Fq%3DDF40C%25282.0%2529-70DS-0.4V%252851%2529">Contest</a> ‚Äù, ‚Äú <a href="http://workell.ru/index.php%3Fpartnum%3DDF40C%25282.0%2529-70DS-0.4V%252851%2529%26option%3Dcom_content%26view%3Darticle%26id%3D200">Workl</a> ‚Äù and other companies that bring the components to order. <br><br><h2>  Circuitry </h2><br><br>  But after you dealt with the connector, the Edison connection is extremely simple: <br><br><ul><li>  three VSYS legs and one DCIN file +3.3 V (allowable range - 3.15 ... 4.5 V) </li><li>  on the six legs of GND file "land" </li><li>  PROFIT !!! </li></ul><br><br>  That is, speaking even shorter, it is enough to apply food. <br><br>  If you want more, then first of all you should pay attention to: <br><br><ul><li>  All GPIOs operate at 1.8 V levels, so level adapters are required for interfacing with 3.3 V or 5 V electronics.  We use TI <a href="">TXB series</a> as level converters.  Work like a clock, although, of course, there are many alternatives. </li><li>  The voltage of 1.8 V for these adapters can be taken from the VDD1V8 foot, an external stabilizer is not needed </li><li>  If you do not power the Edison from exactly 3.3 V, but for example, simply from a lithium battery bank, then a stabilized 3.3 V to power the periphery can be taken from the legs of the VDD3V3 </li><li>  In general, you will want to output the UART debug console - these are the legs of the GP130 (RX) and GP131 (TX).  Without a console, Edison is pretty helpless ‚Äî by default, he doesn‚Äôt get Wi-Fi, so the console is the only means of accessing inside.  The UART must be output via a level converter and / or a bridge to USB (note that there are different bridges: for example, the <a href="http://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT232R.pdf">FT232R</a> can work with 1.8 V levels as native, but the cheaper <a href="https://www.silabs.com/Support%2520Documents/TechnicalDocs/CP2102-9.pdf">CP2102</a> doesn't, it needs an intermediate converter in 3, 3 C) </li><li>  The second UART can be taken from GP134 and GP135 </li><li>  For the USB port, Edison has a power-on signal and a power over-load signal, so it is better to connect the USB through a dedicated switch ‚Äî for example, <a href="http://ww1.microchip.com/downloads/en/DeviceDoc/mic20xx.pdf">MIC2019</a> .  Do not forget about the levels of 1.8 V - the switch must have a level of "1" at the input of EN in the region of 1.5 V and the FAULT output with open drain, which you pull up to VDD1V8 with a resistor;  for example, my favorite <a href="http://www.st.com/content/ccc/resource/technical/document/datasheet/e8/d7/48/25/eb/87/45/b3/CD00167470.pdf/files/CD00167470.pdf/jcr:content/translations/en.CD00167470.pdf">STMPS21x1</a> switches will <a href="http://www.st.com/content/ccc/resource/technical/document/datasheet/e8/d7/48/25/eb/87/45/b3/CD00167470.pdf/files/CD00167470.pdf/jcr:content/translations/en.CD00167470.pdf">not</a> work with Edison. </li><li>  The connector is low - so components on the Edison board are not recommended to be placed at all.  However, components with a height of up to 0.5 mm fit - but not anymore.  Therefore, the resistors 0603, if necessary, can be installed under Edison, but with capacitors it is necessary to be careful: even 0603 are found and 0.8 mm high. </li></ul><br><br><h2>  Bonus track </h2><br><br><ul><li>  <a href="http://download.intel.com/support/edison/sb/edisonmodule_hg_331189004.pdf">Edison Compute Module Hardware Guide</a> - Intel's official document for working with Edison from a developer's point of view. </li><li>  <a href="http://files.unwireddevices.com/dl/index.php/s/cgKckC8ELNpPdja">Electrical schematic diagram of</a> our adapter for Edison.  In fact, this is the minimum with which Edison runs - plus an 8 GPIO level converter (including a debug UART), plus a second UART that goes to our 6LoWPAN radio modem, plus a USB port </li><li>  <a href="http://files.unwireddevices.com/dl/index.php/s/LQlw0SKisPBoLxT">Library</a> with Edison for DipTrace (there are two characters in it: grouping the legs by number and meaning) </li></ul><br><br>  PS And, of course, on the <a href="https://habrahabr.ru/company/mailru/blog/305506/">IoT-hackathon in Mail.Ru</a> next weekend, the teams will have this bundle on their hands - Intel Edison, our 6LoWPAN modules and the Tarantool DBMS. </div><p>Source: <a href="https://habr.com/ru/post/396321/">https://habr.com/ru/post/396321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../396311/index.html">The producers of "The Walking Dead" will film "The Chronicles of Amber"</a></li>
<li><a href="../396313/index.html">Russian police buy software for large-scale surveillance of users of social networks</a></li>
<li><a href="../396315/index.html">The last flight of the shuttle through the eyes of the astronaut ISS</a></li>
<li><a href="../396317/index.html">Tesla, which had a fatal accident in May, was driving with excess speed</a></li>
<li><a href="../396319/index.html">Sony Xperia XA review. Beautiful smartphone at a nice price</a></li>
<li><a href="../396323/index.html">SAW crawls, scrambles and swims with just one engine</a></li>
<li><a href="../396325/index.html">MATR–ÅSHKA - modular unmanned commercial vehicles</a></li>
<li><a href="../396327/index.html">Why did Lenovo install the Wi-Fi module in the laptop hinge?</a></li>
<li><a href="../396329/index.html">Audio Digest # 6: Do it Yourself, Interesting about Sound and Audio Technologies</a></li>
<li><a href="../396331/index.html">The best emulators of game consoles for Windows</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>