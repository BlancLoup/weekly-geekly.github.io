<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Compensation angle demolition platform aerial camera</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! Today I will talk about how I helped my surveyors and aerial photo surveyors not so long ago. My friends are engaged, in simple terms, shooting...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Compensation angle demolition platform aerial camera</h1><div class="post__text post__text-html js-mediator-article">  Hello!  Today I will talk about how I helped my surveyors and aerial photo surveyors not so long ago.  My friends are engaged, in simple terms, shooting the Earth from the aircraft, for this they have some equipment and software, and some of it would like them to improve.  This year the idea arose to create a software module for automatic compensation of the angle of demolition of the platform on which the aerial camera was installed.  Previously, this was done in some manual mode (the platform is very old); calculating the drift angle, it was possible to make an amendment to the platform through some device.  The problem was in the calculation and further compensation of this angle ... in fact, if the interest in this article has not disappeared, then I ask for the cut (carefully 7 MB gif'ok) ... <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  The angle of demolition is the angle between the axis of the aircraft and the coordinate route along which the aircraft flies; it occurs due to weather conditions, namely wind. <br>  For example, when ideal conditions exist, aerial photography proceeds in a similar way: <br><img src="https://habrastorage.org/storage2/717/a85/640/717a856400643683cd9a8ef83bb7f3af.gif"><br>  But such conditions are of course extremely rare, usually the wind speed at an altitude of 10 to 20 km / h and schematically aerial photography will look like this: <br><img src="https://habrastorage.org/storage2/6b5/705/633/6b5705633f7a34056c64cbaca535eadc.gif"><br>  That is, the plane seems to resist the force of the wind in order to fly clearly along a given route. <br>  To solve this problem I was provided with the following equipment: <br>  ‚Ä¢ Magnetic azimuth sensor, more simply - a compass. <br>  ‚Ä¢ And the control unit of the stepping motor paired with the stepping motor itself. <br>  The software implementation was decided to do on the .Net Framework platform. <br>  Wiring diagram of equipment to the control computer: <br><img src="https://habrastorage.org/storage2/9c7/f2d/9dd/9c7f2d9ddc2e69a131cc3b28d5bface7.png"><br><br><h4>  Magnetic azimuth sensor </h4><br>  To solve the problem in a first approximation, the KVH Azimuth 1000 digital compass with a built-in sensor was selected, its main useful function is to transmit data in NMEA 0183 format using the parallel port protocol. <br><img src="https://habrastorage.org/storage2/441/d08/a20/441d08a208c4be0aa4a450899d9af0ed.jpg"><br><br>  I previously covered this transmission format in my articles on data emulation from a navigation receiver.  In the case of azimuth data from the sensor, a line comes in which you can find the angle value (data refresh rate is 10 Hz, which is quite enough for the implementation of the compensation task).  Detailed specifications: <br><ul><li>  ¬± 0.5 ¬∞ accuracy with autocompensation; </li><li>  diameter 16 cm; </li><li>  height 7 cm; </li><li>  sensitivity to a field of 6.5‚Äì65 ŒºT; </li><li>  weight 340 g; </li><li>  cable length 2 m; </li><li>  operating temperature range from -20 to 70 ¬∞ C; </li><li>  frequency data in NMEA 0183 10 Hz; </li><li>  supply voltage 12 V. </li></ul><br>  Due to the fact that the data were transmitted in NMEA format, and with it I had previously worked, a module on .Net was written to receive this data. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Stepper motor control unit </h4><br>  Implementing a stepping motor control system from scratch is too expensive, especially since there are domestic manufacturers providing control units that are programmed controllers that can convert more understandable commands into a control signal for a stepping motor.  Commands are transmitted via the parallel port protocol. <br>  SMSD-4.2 was chosen, it can work autonomously, from a computer (LPT port or USB port) or from an external master controller. <br><img src="https://habrastorage.org/storage2/1ba/41b/f30/1ba41bf30c92dc7d73bd39bfd7a01170.jpg"><br><br>  Functions and features of the device: <br><ul><li>  control of stepper motors according to the program stored in the device; </li><li>  write, change or read the control program to / from the internal non-volatile ROM; </li><li>  autonomous work without the participation of a PC or an external controller; </li><li>  control from a computer via LPT or USB port (virtual COM port); </li><li>  TTL signal acquisition and control of stepper motors by means of logical signals "Step", "Direction" and "Resolution"; </li><li>  receiving ASCII commands from a PC and controlling a stepper motor using a complex algorithm; </li><li>  the ability to work in manual mode; </li><li>  automatic shutdown of a stepper motor when a signal is received from an emergency sensor; </li><li>  automatic switching of the direction of rotation of the engine when a signal is received from the reverse sensor; </li><li>  two additional inputs for receiving signals from external devices (sensors); </li><li>  one additional input - to search for the initial position; </li><li>  the ability to synchronize the work of several blocks of SMSD. </li></ul><br>  Specifications: <br><ul><li>  number of control channels for stepper motors - 1; </li><li>  the frequency range of the pulses moving the stepper motor is from 1 to 10,000 Hz; </li><li>  frequency setting accuracy - not worse than 0.2%; </li><li>  supply voltage - 12‚Äì48 V; </li><li>  maximum output current - 4.2 A; </li><li>  the number of additional inputs for receiving signals from external devices and sensors - 3 (two for synchronization with external devices and one for finding the initial position); </li><li>  Crushing modes of a step - 1, 1/2, 1/4, 1/16. </li></ul><br>  To implement the module of interaction with the stepper motor control unit, the commands and their order of execution were studied.  Commands are mini programs: <br><ul><li>  title; </li><li>  list of specific parameters, such as direction, speed, acceleration, number of steps; </li><li>  launch performance. </li></ul><br>  The module of work with the control unit was implemented, with the help of it you can set only the angle, if speed is required (if not specified, then the most optimal speed is chosen) and direction. <br><br><h4>  Conclusion </h4><br>  And as a result, combining the above solutions was created module for automatic compensation of the angle of demolition.  Below the demo <a href="https://docs.google.com/file/d/0B6mJa-Qxp8MYWklzMnFuWEpnVVE/edit">video</a> , it shows how the platform is compensated at a given angle when the magnetic azimuth changes. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/zOzch41S9Us%3Ffeature%3Doembed&amp;xid=17259,15700022,15700043,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhhuA8ZBjw1xmglCgzzoPjYtlxPO2w" frameborder="0" allowfullscreen=""></iframe><br>  And this is how the process of aerial photography with automatic compensation of the angle of demolition will look like. <br><img src="https://habrastorage.org/storage2/2cb/6a3/0d2/2cb6a30d2e1439eadd2b0999bb4cfa50.gif"><br>  I hope that it was not for nothing that I spent the minutes reading my articles, waiting for feedback ... </div><p>Source: <a href="https://habr.com/ru/post/145799/">https://habr.com/ru/post/145799/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145792/index.html">Positive Hack Days CTF 2012. How It Was</a></li>
<li><a href="../145793/index.html">Updates on the fly (zero-downtime deployment) in general and in Ruby on Rails</a></li>
<li><a href="../145795/index.html">IT Compote # 9 Programming and Technology Podcast</a></li>
<li><a href="../145796/index.html">C10k (Problem 10,000 connections) in different languages ‚Äã‚Äã/ platforms</a></li>
<li><a href="../145798/index.html">Opera 12 - get full control over the browser</a></li>
<li><a href="../145800/index.html">Windows Azure: In-Memory Distributed Cache</a></li>
<li><a href="../145801/index.html">T-fractals on JavaScript Canvas</a></li>
<li><a href="../145803/index.html">Microsoft gives up? Xbox LIVE for Android</a></li>
<li><a href="../145804/index.html">Interoperability Java and ... Assembler?</a></li>
<li><a href="../145805/index.html">Nonlinear Dynamics and Time Series Analysis - Review of the Recurrence plots Method</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>