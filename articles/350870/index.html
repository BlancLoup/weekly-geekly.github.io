<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Thymeleaf Tutorial: Chapter 4. Standard Expression Syntax</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Table of contents 

 4 Standard Expression Syntax Syntax 
 We will take a short break in the development of our virtual grocery store to learn about o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Thymeleaf Tutorial: Chapter 4. Standard Expression Syntax</h1><div class="post__text post__text-html js-mediator-article">  <a href="https://habrahabr.ru/post/350862/">Table of contents</a> <br><br><h2>  4 Standard Expression Syntax Syntax </h2><br>  We will take a short break in the development of our virtual grocery store to learn about one of the most important parts of the Standard Thymeleaf dialect: Thymeleaf <b>Expression Syntax Standard</b> . <br><br>  We have already seen two types of valid attribute values ‚Äã‚Äãexpressed in this syntax: messages and variables: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:utext</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#{home.welcome}"</span></span></span><span class="hljs-tag">&gt;</span></span>Welcome to our grocery store!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Today is: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${today}"</span></span></span><span class="hljs-tag">&gt;</span></span>13 february 2011<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <a name="habracut"></a><br>  But there are significantly more expressions.  First, let's take a quick look at Standard Expression: <br><br><ul><li>  Simple expressions: <br><ul><li>  <b>Variable</b> : $ {...} </li><li>  <b>Selected variable</b> : * {...} </li><li>  <b>Message</b> : # {...} </li><li>  <b>URL link</b> : @ {...} </li><li>  <b>Fragment</b> : ~ {...} </li></ul></li><li>  Literals / Literals: <br><ul><li>  <b>Text</b> : 'one text', 'Another one!', ... </li><li>  <b>Number</b> : 0, 34, 3.0, 12.3, ... </li><li>  <b>Boolean</b> : true, false </li><li>  <b>Null</b> : null </li><li>  <b>Tokens</b> : one, sometext, main, ... </li></ul></li><li>  Text: <br><ul><li>  <b>String concatenation</b> : + </li><li>  <b>Substrings</b> : | The name is $ {name} | </li></ul></li><li>  Arithmetic: <br><ul><li>  <b>Binary</b> : +, -, *, /,% </li><li>  <b>Minus (unary operator)</b> : - </li></ul></li><li>  Boolean: <br><ul><li>  <b>Binary</b> : and, or </li><li>  <b>Boolean negation</b> :!, Not </li></ul></li><li>  Comparison and equality: <br><ul><li>  <b>Comparison</b> :&gt;, &lt;,&gt; =, &lt;= (gt, lt, ge, le) </li><li>  <b>Equality</b> : ==,! = (Eq, ne) </li></ul></li><li>  Conditional: <br><ul><li>  <b>If-then</b> : (if)?  (then) </li><li>  <b>If-then-else</b> : (if)?  (then): (else) </li><li>  <b>Default</b> : (value)?: (Defaultvalue) </li></ul></li><li>  Special tokens: <br><ul><li>  <b>No-Operation</b> : _ </li></ul></li></ul><br>  <b>Expressions can be combined and nested</b> : <br><br><pre> <code class="hljs pgsql"><span class="hljs-string"><span class="hljs-string">'User is of type '</span></span> + (${<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>.isAdmin()} ? <span class="hljs-string"><span class="hljs-string">'Administrator'</span></span> : (${<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>} ?: <span class="hljs-string"><span class="hljs-string">'Unknown'</span></span>))</code> </pre> <br><h3>  4.1 Messages </h3><br>  As we know, the message expression <b># {...}</b> allows us to bind: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:utext</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#{home.welcome}"</span></span></span><span class="hljs-tag">&gt;</span></span>Welcome to our grocery store!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ‚Ä¶ with: <br><br><pre> <code class="hljs erlang-repl">home.welcome=¬°Bienvenido a nuestra tienda de comestibles!</code> </pre> <br>  But there is one aspect that we haven‚Äôt thought of yet: what happens if the message text is not completely static?  What if, for example, our application knows which user is visiting the site, and we would like to greet the user by name? <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>¬°Bienvenido a nuestra tienda de comestibles, John Apricot!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  This means that we need to add a parameter to our message.  Like this: <br><br><pre> <code class="hljs erlang-repl">home.welcome=¬°Bienvenido a nuestra tienda de comestibles, {<span class="hljs-number"><span class="hljs-number">0</span></span>}!</code> </pre> <br>  The parameter is defined relative to the standard java.text.MessageFormat syntax, which means that you can format numbers and dates. <br><br>  To specify the value for our parameter from the HTTP attribute of the session, called by the user, we write: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:utext</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#{home.welcome(${session.user.name})}"</span></span></span><span class="hljs-tag">&gt;</span></span> Welcome to our grocery store, Sebastian Pepper! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Multiple parameters can be specified by separating them with commas.  Also, the message keys themselves can come from a variable: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:utext</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#{${welcomeMsgKey}(${session.user.name})}"</span></span></span><span class="hljs-tag">&gt;</span></span> Welcome to our grocery store, Sebastian Pepper! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  4.2 Variables </h3><br>  We have already mentioned that the <b>$ {...}</b> expressions are actually OGNL (Object-Graph Navigation Language) expressions executed on map variables contained in the context. <br><br>  For more information on OGNL syntax and functions, you should read the OGNL Language Guide. <br><br>  In Spring applications with MVC support, OGNL will be replaced with SpringEL, but its syntax is very similar to OGNL syntax (in fact, exactly the same for most common cases). <br><br>  From the syntax of OGNL, we know the expression: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Today is: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${today}"</span></span></span><span class="hljs-tag">&gt;</span></span>13 february 2011<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  equivalent to: <br><br><pre> <code class="java hljs">ctx.getVariable(<span class="hljs-string"><span class="hljs-string">"today"</span></span>);</code> </pre> <br>  But OGNL allows you to create more powerful expressions like this: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:utext</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#{home.welcome(${session.user.name})}"</span></span></span><span class="hljs-tag">&gt;</span></span> Welcome to our grocery store, Sebastian Pepper! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ... get the username: <br><br><pre> <code class="java hljs">((User) ctx.getVariable(<span class="hljs-string"><span class="hljs-string">"session"</span></span>).get(<span class="hljs-string"><span class="hljs-string">"user"</span></span>)).getName();</code> </pre> <br>  But getter is just one of the features of OGNL.  We'll see more: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* *       (.).   getter . */</span></span> ${person.father.name} <span class="hljs-comment"><span class="hljs-comment">/* *          ([])   *        . */</span></span> ${person[<span class="hljs-string"><span class="hljs-string">'father'</span></span>][<span class="hljs-string"><span class="hljs-string">'name'</span></span>]} <span class="hljs-comment"><span class="hljs-comment">/* *    map,        *   get(...). */</span></span> ${countriesByCode.ES} ${personsByName[<span class="hljs-string"><span class="hljs-string">'Stephen Zucchini'</span></span>].age} <span class="hljs-comment"><span class="hljs-comment">/* *          , *     . */</span></span> ${personsArray[<span class="hljs-number"><span class="hljs-number">0</span></span>].name} <span class="hljs-comment"><span class="hljs-comment">/* *       . */</span></span> ${person.createCompleteName()} ${person.createCompleteNameWithSeparator(<span class="hljs-string"><span class="hljs-string">'-'</span></span>)}</code> </pre> <br>  <strong>Expression Basic Objects</strong> <br><br>  When executing an OGNL expression with context variables, some objects become available for greater flexibility.  These objects can be referenced (according to the OGNL standard), starting with the <b>#</b> symbol: <br><br>  <b>#ctx</b> : context. <br>  <b>#vars</b> : context variables. <br>  <b>#locale</b> : context locale. <br>  <b>#request</b> : (only in Web Contexts) HttpServletRequest object. <br>  <b>#response</b> : (Web Contexts only) HttpServletResponse object. <br>  <b>#session</b> : (Web Contexts only) HttpSession object. <br>  <b>#servletContext</b> : (only in Web Contexts) ServletContext object. <br><br>  We can also do the following: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${#locale.country}"</span></span></span><span class="hljs-tag">&gt;</span></span>US<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  You can read the full links to these objects in <b>Appendix A.</b> <br><br>  <b>Expression utilities</b> <br><br>  In addition to these basic objects, Thymeleaf offers us a set of useful objects that will help us to perform common tasks in our expressions. <br><br>  <b>#execInfo</b> : information about the current template. <br>  <b>#messages</b> : methods for receiving messages inside expressions, just as they will be obtained using the syntax # {...}. <br>  <b>#uris</b> : methods for escaping URL / URI parts. <br>  <b>#conversions</b> : methods for making conversion service settings (if present). <br>  <b>#dates</b> : methods for java.util.Date objects: formatting, extracting components, and so on. <br>  <b>#calendars</b> : similar to #dates, but for java.util.Calendar objects. <br>  <b>#numbers</b> : methods for formatting numeric objects. <br>  <b>#strings</b> : methods for String object: contains, startsWith, prepending / appending, and so on. <br>  <b>#objects</b> : general methods for objects. <br>  <b>#bools</b> : methods for boolean transformations. <br>  <b>#arrays</b> : methods for arrays. <br>  <b>#lists</b> : methods for List. <br>  <b>#sets</b> : methods for Sets. <br>  <b>#maps</b> : methods for Maps. <br>  <b>#aggregates</b> : methods for aggregating masses or collections. <br>  <b>#ids</b> : methods for handling id identifiers that can be repeated (for example, as a result of an iteration). <br><br>  You can check which features are offered for each of these objects in <b>Appendix B.</b> <br><br>  <strong>Reformatting dates on the Home page</strong> <br><br>  We now know about these utility objects and can use them to change the way that dates are displayed on our home page.  Instead, in our HomeController: <br><br><pre> <code class="java hljs">SimpleDateFormat dateFormat = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimpleDateFormat(<span class="hljs-string"><span class="hljs-string">"dd MMMM yyyy"</span></span>); Calendar cal = Calendar.getInstance(); WebContext ctx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebContext(request, servletContext, request.getLocale()); ctx.setVariable(<span class="hljs-string"><span class="hljs-string">"today"</span></span>, dateFormat.format(cal.getTime())); templateEngine.process(<span class="hljs-string"><span class="hljs-string">"home"</span></span>, ctx, response.getWriter());</code> </pre> <br>  ... we can do the following: <br><br><pre> <code class="java hljs">WebContext ctx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebContext(request, response, servletContext, request.getLocale()); ctx.setVariable(<span class="hljs-string"><span class="hljs-string">"today"</span></span>, Calendar.getInstance()); templateEngine.process(<span class="hljs-string"><span class="hljs-string">"home"</span></span>, ctx, response.getWriter());</code> </pre> <br>  ... and then format the date in the presentation layer itself: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> Today is: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${#calendars.format(today,'dd MMMM yyyy')}"</span></span></span><span class="hljs-tag">&gt;</span></span>13 May 2011<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  4.3 Selection expressions / selections (asterisk syntax) </h3><br>  Expressions with variables can be written not only through <b>$ {...}</b> , but also as <b>* {...}</b> . <br><br>  There is a difference between the variants: the syntax with an asterisk transforms the expression over the selected object rather than the entire context.  This means that if there is no object selected, the dollar and asterisk do the same thing. <br><br>  What is the selected object?  The result of the expression using the " <b>th: object</b> " attribute.  Use it on the profile page (userprofile.html): <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:object</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Name: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{firstName}"</span></span></span><span class="hljs-tag">&gt;</span></span>Sebastian<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Surname: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{lastName}"</span></span></span><span class="hljs-tag">&gt;</span></span>Pepper<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Nationality: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{nationality}"</span></span></span><span class="hljs-tag">&gt;</span></span>Saturn<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Which is equivalent to: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Name: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user.firstName}"</span></span></span><span class="hljs-tag">&gt;</span></span>Sebastian<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Surname: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user.lastName}"</span></span></span><span class="hljs-tag">&gt;</span></span>Pepper<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Nationality: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user.nationality}"</span></span></span><span class="hljs-tag">&gt;</span></span>Saturn<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Of course, dollar and asterisk can be mixed: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:object</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Name: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{firstName}"</span></span></span><span class="hljs-tag">&gt;</span></span>Sebastian<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Surname: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user.lastName}"</span></span></span><span class="hljs-tag">&gt;</span></span>Pepper<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Nationality: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{nationality}"</span></span></span><span class="hljs-tag">&gt;</span></span>Saturn<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  When the selected object is in place, the selected object will be as accessible with the dollar as the <b>#object</b> variable: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:object</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Name: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${#object.firstName}"</span></span></span><span class="hljs-tag">&gt;</span></span>Sebastian<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Surname: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user.lastName}"</span></span></span><span class="hljs-tag">&gt;</span></span>Pepper<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Nationality: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{nationality}"</span></span></span><span class="hljs-tag">&gt;</span></span>Saturn<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  As stated, if there is no object selected, the dollar and asterisk are equivalent. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Name: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{session.user.name}"</span></span></span><span class="hljs-tag">&gt;</span></span>Sebastian<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Surname: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{session.user.surname}"</span></span></span><span class="hljs-tag">&gt;</span></span>Pepper<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Nationality: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{session.user.nationality}"</span></span></span><span class="hljs-tag">&gt;</span></span>Saturn<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  4.4 Link URL </h3><br>  Because of their importance, URLs are first-class "citizens" in web application templates, and the Standard Thymeleaf dialect has a special "@" syntax for them: <b>@ {...}</b> <br><br>  There are different types of URLs: <br><br><ul><li>  Absolute URLs: <a href="http://www.thymeleaf.org/">www.thymeleaf.org</a> </li><li>  Relative URLs: <br><ul><li>  Relative per page: user / login.html </li><li>  Relative context: / itemdetails? Id = 3 (context name will be added on server) </li><li>  Relative servers: ~ / billing / processInvoice (allow calling URLs in another context (= application) on the same server. </li><li>  Relative protocol: //code.jquery.com/jquery-2.0.3.min.js </li></ul></li></ul><br>  The actual processing of these expressions and their conversion into URLs that will be output are performed using the implementation of the org.thymeleaf.linkbuilder.ILinkBuilder interface, which are registered in the used ITemplateEngine object. <br><br>  By default, one implementation of this interface is represented by the org.thymeleaf.linkbuilder.StandardLinkBuilder class, which is sufficient for both stand-alone (not web sites) and web-based scripts based on the Servlet API.  Other scenarios (for example, integration with non-ServletAPI web frameworks) may require specific implementations of the link builder interface. <br><br>  Let's use the new syntax.  Meet the attribute " <b>th: href</b> ": <br><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!--  'http://localhost:8080/gtvg/order/details?orderId=3' ( ) --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"details.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{http://localhost:8080/gtvg/order/details(orderId=${o.id})}"</span></span></span><span class="hljs-tag">&gt;</span></span>view<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  '/gtvg/order/details?orderId=3' ( ) --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"details.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{/order/details(orderId=${o.id})}"</span></span></span><span class="hljs-tag">&gt;</span></span>view<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  '/gtvg/order/3/details' ( ) --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"details.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{/order/{orderId}/details(orderId=${o.id})}"</span></span></span><span class="hljs-tag">&gt;</span></span>view<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  A few notes: <br><br><ul><li>  " <b>th: href</b> " is a modifying attribute: once executed, it will calculate the URL of the link and set the value of the "href" attribute of the &lt;a&gt; tag. </li><li>  We are allowed to use expressions for URL parameters (as you can see in orderId = $ {o.id}). The required encoding of URL parameters will also be automatically executed. </li><li>  If several parameters are required, they will be separated by commas: @ {/ order / process (execId = $ {execId}, execType = 'FAST')} </li><li>  Variable patterns are also allowed in URLs: @ {/ order / {orderId} / details (orderId = $ {orderId})} </li><li>  Relative URLs starting with / (for example: / order / details) will be automatically prefixed with the name of the application context. </li><li>  If cookies are not enabled or not yet known, the suffix "; jsessionid = ..." can be added to relative URLs so that the session is saved.  This is called URL rewriting and Thymeleaf allows you to include your own rewrite filters using the response.encodeURL (...) mechanism from the servlet API for each URL. </li><li>  The " <b>th: href</b> " attribute allows us (optionally) to have a valid static href attribute in our template so that our links to templates remain navigational for the browser when opened directly for prototyping purposes. </li><li>  The " <b>th: href</b> " attribute allows us (optionally) to have a valid static href attribute in our template so that our links to templates remain navigational for the browser when opened directly for prototyping purposes. </li></ul><br>  As with the message syntax (# {...}), a URL can also be the result of a different expression: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{${url}(orderId=${o.id})}"</span></span></span><span class="hljs-tag">&gt;</span></span>view<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{'/details/'+${user.login}(orderId=${o.id})}"</span></span></span><span class="hljs-tag">&gt;</span></span>view<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <strong>Menu for our home page</strong> <br><br>  Now we know how to create URLs, what about adding a small navigation menu to our Home page? <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Please select an option<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ol</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"product/list.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{/product/list}"</span></span></span><span class="hljs-tag">&gt;</span></span>Product List<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"order/list.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{/order/list}"</span></span></span><span class="hljs-tag">&gt;</span></span>Order List<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"subscribe.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{/subscribe}"</span></span></span><span class="hljs-tag">&gt;</span></span>Subscribe to our Newsletter<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"userprofile.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{/userprofile}"</span></span></span><span class="hljs-tag">&gt;</span></span>See User Profile<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ol</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  <strong>Links URLs relative to server root directory</strong> <br><br>  Additional syntax can be used to create URLs based on the root directory (instead of context-sensitive) URLs to refer to different contexts on the same server.  These URLs will be listed as @ {~ / path / to / something} <br><br><h2>  4.5 Fragments / Fragments </h2><br>  <b>Fragment expressions</b> are an easy way to represent markup fragments and move them between templates.  This allows us to copy, transfer them to other templates as arguments and so on. <br><br>  The most common use is to insert a fragment using <b>th: insert</b> or <b>th: replace</b> (more on this in the next section): <br><br>  &lt;div th: insert = "~ {commons :: main}"&gt; ... <br><br>  But they can be used everywhere, like any other variable: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:with</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"frag=~{footer :: #main/text()}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:insert</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${frag}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Later in this tutorial, there is a whole section on <b>Template Layout</b> , including a deeper explanation of fragment expressions. <br><br><h2>  4.6 Literals / Literals </h2><br>  <strong>Text literals</strong> <br><br>  Text literals are just character strings between single quotes.  They can include any character, but you must avoid any single quotes inside them using <b>\ '</b> . <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> Now you are looking at a <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"'working web application'"</span></span></span><span class="hljs-tag">&gt;</span></span>template file<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>. <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  <strong>Numeric Literals</strong> <br><br>  Numeric literals are just numbers. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>The year is <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2013"</span></span></span><span class="hljs-tag">&gt;</span></span>1492<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>In two years, it will be <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2013 + 2"</span></span></span><span class="hljs-tag">&gt;</span></span>1494<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  <strong>Boolean / Boolean Literals</strong> <br><br>  Boolean literals are true and false.  For example: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${user.isAdmin()} == false"</span></span></span><span class="hljs-tag">&gt;</span></span> ...</code> </pre> <br>  In this example, "== false" is written outside the brackets, then Thymeleaf takes care of the expression.  If equality were contained inside parentheses, the OGNL / SpringEL engine would take care of it: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${user.isAdmin() == false}"</span></span></span><span class="hljs-tag">&gt;</span></span> ...</code> </pre> <br>  <strong>Literal null</strong> <br><br>  The literal null can also be used: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${variable.something} == null"</span></span></span><span class="hljs-tag">&gt;</span></span> ...</code> </pre> <br>  <strong>Literal Tokens</strong> <br><br>  Numeric, Boolean, and null literals are a special case of literal tokens. <br><br>  These tokens allow you to slightly simplify Standard Expressions.  They work exactly like text literals ('...'), but only allow letters (AZ and az), numbers (0-9), brackets ([and]), periods (.), Hyphens (-) and underscores (_).  No spaces, no commas, and so on. <br><br>  The good part?  <b>Tokens do not need quotes surrounding them</b> .  Therefore, we can do: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  instead: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"'content'"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2>  4.7 Appending texts </h2><br>  Texts, regardless of whether they are literals or the result of processing variables or messages, can be easily added using the <b>+</b> operator: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"'The name of the user is ' + ${user.name}"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2>  4.8 Replacement Literals </h2><br>  Literal replacements make it easy to format strings containing values ‚Äã‚Äãfrom variables, without the need to add literals using '...' + '...'. <br><br>  These replacements should be surrounded by vertical bars <b>(|)</b> , for example: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"|Welcome to our application, ${user.name}!|"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Which is equivalent to: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"'Welcome to our application, ' + ${user.name} + '!'"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Literal replacements can be combined with other types of expressions: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${onevar} + ' ' + |${twovar}, ${threevar}|"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Only variable / message expressions ($ {...}, * {...}, # {...}) are allowed inside | ... |  literal replacements.  No other literals ('...'), boolean / numeric tokens, conditional expressions, and so on. <br><br><h2>  4.9 Arithmetic operations </h2><br>  Some arithmetic operations are also available: <b>+, -, *, /,%</b> . <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:with</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isEven=(${prodStat.count} % 2 == 0)"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Note that these operators can also be applied directly to the OGNL expressions themselves (in this case, OGNL will be executed instead of the Thymeleaf Standard Expression mechanism): <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:with</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isEven=${prodStat.count % 2 == 0}"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Please note that for some of these operators there are text aliases: div (/), mod (%). <br><br><h2>  4.10 Comparisons and Equality </h2><br>  Values ‚Äã‚Äãin expressions can be compared with the characters <b>&gt;, &lt;,&gt; =</b> and <b>&lt;=, ==,! =</b> Operators are used to check equality (or lack thereof).  <b>Note</b> that XML sets &lt;and&gt; characters should not be used in attribute values, and therefore must be replaced with &amp; lt;  and &amp; gt; <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${prodStat.count} &gt; 1"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"'Execution mode is ' + ( (${execMode} == 'dev')? 'Development' : 'Production')"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  A simpler alternative could be to use <b>text aliases</b> that exist for some of these operators: gt (&gt;), lt (&lt;), ge (&gt; =), le (&lt;=), not (!).  Also eq (==), neq / ne (! =). <br><br><h2>  4.11 Conditional Expressions </h2><br>  Conditional expressions are designed to execute only one of the two expressions depending on the result of the evaluation of the condition (which is itself another expression). <br><br>  Let's look at an example fragment (introducing another attribute modifier, <b>th: class</b> ): <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${row.even}? 'even' : 'odd'"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  All three parts of the conditional expression (condition, then, and else) are themselves expressions, which means they can be variables ( <b>$ {...}</b> , <b>* {...}</b> ), messages ( <b># {...}</b> ), URLs ( <b>@ {...}</b> ) or literals ( <b>'...'</b> ). <br><br>  Conditional expressions can also be nested with parentheses: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${row.even}? (${row.first}? 'first' : 'even') : 'odd'"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Other expressions may also be omitted, in which case a null value is returned if the condition is false: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${row.even}? 'alt'"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2>  4.12 Default / Default Expression (Elvis statement) </h2><br>  The default expression is a special kind of conditional value without any part.  This is equivalent to the Elvis operator present in some languages, for example Groovy, which allows you to specify two expressions: the first is used if it is not null, but if so, the second is used. <br><br>  Let's see how it works on our profile page: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:object</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user}"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Age: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{age}?: '(no age specified)'"</span></span></span><span class="hljs-tag">&gt;</span></span>27<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  As you can see, the operator is?:, And we use it here to specify the default value for the name (the literal value in this case) only if the result of the calculation * {age} is null.  Therefore, it is equivalent to: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Age: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{age != null}? *{age} : '(no age specified)'"</span></span></span><span class="hljs-tag">&gt;</span></span>27<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Like conditional values, they can contain nested expressions between parentheses: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> Name: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*{firstName}?: (*{admin}? 'Admin' : #{default.username})"</span></span></span><span class="hljs-tag">&gt;</span></span>Sebastian<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2>  4.13 No-Operation Token </h2><br><br>  The No-Operation Token is represented by a <b>(_)</b> character. <br><br>  The idea of ‚Äã‚Äãthis token is to indicate that the desired result for an expression is to do nothing: do it exactly as if the processed attribute (for example, th: text) was completely absent. <br><br>  Among other features, this allows developers to use prototype text as default values.  For example, instead of: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${user.name} ?: 'no user authenticated'"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ... we can directly use 'no user authenticated' as prototyping text, which makes the code more concise and universal in terms of design: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${user.name} ?: _"</span></span></span><span class="hljs-tag">&gt;</span></span>no user authenticated<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2>  4.15 Data Transformation / Formatting </h2><br>  Thymeleaf defines the syntax of double brackets for variables ( <b>$ {...}</b> ) and selected ( <b>* {...}</b> ) expressions, which allows us to apply data transformation using configuration of the transformation service. <br><br>  Base it looks like this: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${{user.lastAccessDate}}"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Have you noticed a <b>double bracket</b> ?: <b>$ {{...}}</b> .  This instructs Thymeleaf to pass the result of the user.lastAccessDate expression to the translation service and asks you to perform a formatting operation (conversion to String) before returning the result. <br><br>  Assuming user.lastAccessDate is of type java.util.Calendar, if the translation service (implementation of IStandardConversionService) has been registered and contains a valid conversion for Calendar -&gt; String, it will be used. <br><br>  By default, the implementation of the IStandardConversionService (StandardConversionService class) simply executes .toString () for any object.  For more information about how to register a custom implementation of a conversion service, see the "Additional Configuration Information" section. <br><br>  The official thymeleaf-spring3 and thymeleaf-spring4 integration packages transparently integrate the Thymeleaf conversion service engine with its own Conversion Service Spring infrastructure, so that the conversion services and formats announced in the Spring configuration will be automatically available for the $ {{...}} and * expressions {{...}}. <br><br><h2>  4.14 Preprocessing </h2><br>  In addition to all these functions for processing expressions, Thymeleaf has a preprocessor expression function. <br><br>  Preprocessing is the execution of expressions made before the execution of standard expressions, which allows modifying an expression that will eventually be executed. <br><br>  Pre-processed expressions are exactly the same as normal, but appear in the environment of a double underscore character (for example, __ $ {expression} __). <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suppose we have an i18n Messages_fr.properties entry that contains an OGNL expression that calls a static language-specific method, for example: </font></font><br><br><pre> <code class="hljs mel">article.<span class="hljs-keyword"><span class="hljs-keyword">text</span></span>=@myapp.<span class="hljs-keyword"><span class="hljs-keyword">translator</span></span>.Translator@translateToFrench({<span class="hljs-number"><span class="hljs-number">0</span></span>})</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... and the equivalent of Messages_es.properties: </font></font><br><br><pre> <code class="hljs mel">article.<span class="hljs-keyword"><span class="hljs-keyword">text</span></span>=@myapp.<span class="hljs-keyword"><span class="hljs-keyword">translator</span></span>.Translator@translateToSpanish({<span class="hljs-number"><span class="hljs-number">0</span></span>})</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We can create a markup fragment that performs one expression or another depending on the locale. </font><font style="vertical-align: inherit;">To do this, we first select the expression (by preprocessing), and then start Thymeleaf:</font></font><br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${__#{article.text('textVar')}__}"</span></span></span><span class="hljs-tag">&gt;</span></span>Some text here...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Please note that the preprocessing step for the French language will create the following equivalent: </font></font><br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${@myapp.translator.Translator@translateToFrench(textVar)}"</span></span></span><span class="hljs-tag">&gt;</span></span>Some text here...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The preprocessor string __ can be escaped in attributes with </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">\ _ \ _</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div><p>Source: <a href="https://habr.com/ru/post/350870/">https://habr.com/ru/post/350870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350860/index.html">How big data will change the automotive industry</a></li>
<li><a href="../350862/index.html">Tutorial: Using Thymeleaf</a></li>
<li><a href="../350864/index.html">Thymeleaf Tutorial: Chapter 1. Introduction</a></li>
<li><a href="../350866/index.html">Thymeleaf Tutorial: Chapter 2. A Thymes Good Virtual Grocery Store</a></li>
<li><a href="../350868/index.html">Thymeleaf Tutorial: Chapter 3. Using Text</a></li>
<li><a href="../350872/index.html">Web components. Part 2: Shadow DOM</a></li>
<li><a href="../350874/index.html">When business grows: virtual numbers in DEF format</a></li>
<li><a href="../350878/index.html">Everything about IP addresses and how to work with them</a></li>
<li><a href="../350880/index.html">Lightweight finite state machine with a tree autogenerator for embedded projects</a></li>
<li><a href="../350882/index.html">(Not) original greeting for March 8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>