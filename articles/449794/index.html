<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Adaptive antenna arrays: how does it work? (Basics)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. 

 The last few years I have devoted to the study and creation of various algorithms for the spatial processing of signals in adaptive anten...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Adaptive antenna arrays: how does it work? (Basics)</h1><div class="post__text post__text-html js-mediator-article">  <i>Good day.</i> <br><br>  <i>The last few years I have devoted to the study and creation of various algorithms for the spatial processing of signals in adaptive antenna arrays, and I continue to do this as part of my work now.</i>  <i>Here I would like to share the knowledge and chips that I discovered.</i>  <i>I hope that it will be useful for people starting out to study this area of ‚Äã‚Äãsignal processing or just interested.</i> <br><br><h2>  What is an adaptive antenna array? </h2><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BD%25D1%2582%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2580%25D0%25B5%25D1%2588%25D1%2591%25D1%2582%25D0%25BA%25D0%25B0">An antenna array</a> is a set of antenna elements that are arranged in some way in space.  Simplified structure of an adaptive antenna array, which we will consider, can be represented as follows: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ru/ew/z4/ruewz4gumbqixeta5slmr9am9z0.png" alt="imag"></div><br><a name="habracut"></a><br>  Adaptive antenna arrays are not rarely called ‚Äúsmart‚Äù antennas ( <a href="https://en.wikipedia.org/wiki/Smart_antenna">Smart antenna</a> ).  The ‚Äúsmart‚Äù antenna array is made by the spatial signal processing unit and the algorithms implemented in it.  These algorithms analyze the received signal and form a set of weights. <math> </math> $ inline $ w_1 ... w_N $ inline $   which determine the amplitude and initial phase of the signal for each of the elements.  The specified amplitude-phase distribution determines the <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D0%25B0%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B0_%25D0%25BD%25D0%25B0%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">radiation pattern of the</a> entire lattice as a whole.  The ability to synthesize the radiation pattern of the required form and change it during signal processing is one of the main features of adaptive antenna arrays, allowing to solve a wide <a href="https://habr.com/ru/post/449794/">range of tasks</a> .  But first things first. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  How is the radiation pattern formed? </h2><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D0%25B0%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B0_%25D0%25BD%25D0%25B0%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">The radiation pattern</a> characterizes the signal power emitted in a certain direction.  For simplicity, let the lattice elements be isotropic, i.e.  for each of them, the power of the emitted signal does not depend on the direction.  Amplification or attenuation of the power emitted by the grating in a certain direction is obtained due to the <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D1%2582%25D0%25B5%25D1%2580%25D1%2584%25D0%25B5%25D1%2580%25D0%25B5%25D0%25BD%25D1%2586%25D0%25B8%25D1%258F_%25D0%25B2%25D0%25BE%25D0%25BB%25D0%25BD">interference of the</a> <abbr title="Electromagnetic waves">electromagnetic wave</abbr> emitted by different elements of the antenna array.  A stable interference pattern for <abbr title="Electromagnetic waves">EMW</abbr> is possible only under the condition of their <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25B3%25D0%25B5%25D1%2580%25D0%25B5%25D0%25BD%25D1%2582%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C_(%25D1%2584%25D0%25B8%25D0%25B7%25D0%25B8%25D0%25BA%25D0%25B0)">coherence</a> , i.e.  the phase difference of the signals should not change with time.  In the ideal case, each of the elements of the antenna array should emit a <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D0%25B0%25D1%2580%25D0%25BC%25D0%25BE%25D0%25BD%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D1%2581%25D0%25B8%25D0%25B3%25D0%25BD%25D0%25B0%25D0%25BB">harmonic signal</a> at the same carrier frequency <math> </math> $ inline $ f_ {0} $ inline $   .  However, in practice, one has to work with narrowband signals having a spectrum of finite width <math> </math> $ inline $ \ Delta f &lt;&lt; f_ {0} $ inline $   . <br>  Let all elements of the <abbr title="antenna array">AR</abbr> emit the same signal with a <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25BB%25D0%25B5%25D0%25BA%25D1%2581%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25B0%25D0%25BC%25D0%25BF%25D0%25BB%25D0%25B8%25D1%2582%25D1%2583%25D0%25B4%25D0%25B0">complex amplitude.</a> <math> </math> $ inline $ x_n (t) = u (t) $ inline $   .  Then at the <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258F%25D1%258F_%25D0%25B7%25D0%25BE%25D0%25BD%25D0%25B0">remote</a> receiver, the signal received from the nth element can be represented in an <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D1%2581%25D0%25B8%25D0%25B3%25D0%25BD%25D0%25B0%25D0%25BB">analytical</a> form: <p><math> </math> $$ display $$ a_n (t) = u (t- \ tau_n) e ^ {i2 \ pi f_0 (t- \ tau_n)} $$ display $$ </p>  Where <math> </math> $ inline $ \ tau_n $ inline $   - delay in the propagation of the signal from the antenna element to the point of reception. <br>  Such a signal is <i>‚Äúquasi-harmonic,‚Äù</i> and to satisfy the coherence condition, it is necessary that the maximum delay in the propagation of the <abbr title="Electromagnetic waves">electromagnetic wave</abbr> between any two elements be much less than the characteristic time of change in the signal envelope. <math> </math> $ inline $ t $ inline $   i.e. <math> </math> $ inline $ u (t- \ tau_n) ‚âà u (t- \ tau_m) $ inline $   .  Thus, the condition on the coherence of a narrowband signal can be written as follows: <br><p><math> </math> $$ display $$ T‚âà \ frac {1} {\ Delta f} &gt;&gt; \ frac {D_ {max}} {c} = max (\ tau_k- \ tau_m) $$ display $$ </p>  Where <math> </math> $ inline $ D_ {max} $ inline $   - the maximum distance between the elements of the <abbr title="antenna array">AR</abbr> , and <math> </math> $ inline $ with $ inline $   - the speed of light. <br><br>  When receiving a signal, coherent summation is performed in a digital form in the spatial processing unit.  In this case, the complex value of the digital signal at the output of this block is determined by the expression: <p><math> </math> $$ display $$ y = \ sum_ {n = 1} ^ Nw_n ^ * x_n $$ display $$ </p><a name="block_0"></a>  It is more convenient to present the last expression in the form of the <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BA%25D0%25B0%25D0%25BB%25D1%258F%25D1%2580%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B8%25D0%25B7%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">scalar product of</a> N-dimensional complex vectors in matrix form: <p><math> </math> $$ display $$ y = (\ textbf {w}, \ textbf {x}) = \ textbf {w} ^ H \ textbf {x} $$ display $$ </p>  where <b>w</b> and <b>x</b> are column vectors, and <math> </math> $ inline $ (.) ^ H $ inline $   - <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D1%2580%25D0%25BC%25D0%25B8%25D1%2582%25D0%25BE%25D0%25B2%25D0%25BE-%25D1%2581%25D0%25BE%25D0%25BF%25D1%2580%25D1%258F%25D0%25B6%25D1%2591%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BC%25D0%25B0%25D1%2582%25D1%2580%25D0%25B8%25D1%2586%25D0%25B0">Hermitian conjugation</a> operation. <br><br>  <i>The vector representation of signals is one of the basic when working with antenna arrays, since</i>  <i>often avoids cumbersome mathematical calculations.</i>  <i>In addition, identification of a signal received at a certain time with a vector often allows one to abstract from a real physical system and to understand what exactly is happening from the point of view of geometry.</i> <br><a name="block_1"></a><br>  In order to calculate the radiation pattern of the antenna array, it is necessary to mentally and consistently ‚Äúlaunch‚Äù onto it a set of <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BB%25D0%25BE%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D0%25B2%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B0">plane waves</a> from all possible directions.  In this case, the values ‚Äã‚Äãof the elements of the vector <b>x</b> can be represented as follows: <p><math> </math> $$ display $$ x_n = s_n = \ exp \ {- i (\ textbf {k} (\ phi, \ theta), \ textbf {r} _n) \} $$ display $$ </p>  where <b>k</b> is the <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BE%25D0%25B9_%25D0%25B2%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BE%25D1%2580">wave vector</a> , <math> </math> $ inline $ \ phi $ inline $   and <math> </math> $ inline $ \ theta $ inline $   - <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2584%25D0%25B5%25D1%2580%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0_%25D0%25BA%25D0%25BE%25D0%25BE%25D1%2580%25D0%25B4%25D0%25B8%25D0%25BD%25D0%25B0%25D1%2582">azimuth angle</a> and <a href="https://ru.wikipedia.org/wiki/%25D0%25A3%25D0%25B3%25D0%25BE%25D0%25BB_%25D0%25BC%25D0%25B5%25D1%2581%25D1%2582%25D0%25B0">elevation angle</a> , characterizing the direction of arrival of a plane wave, <math> </math> $ inline $ \ textbf {r} _n $ inline $   - coordinate of the antenna element, <math> </math> $ inline $ s_n $ inline $   - an element of the phasing vector <b>s of a</b> plane wave with a wave vector <b>k</b> (in the English-language literature, the phasing vector is called the steerage vector).  The dependence of the square amplitude of <i>y</i> on <math> </math> $ inline $ \ phi $ inline $   and <math> </math> $ inline $ \ theta $ inline $   determines the radiation pattern of the antenna array at the reception for a given weight vector <b>w</b> . <br><br><h2>  Features of the antenna array </h2><br>  It is convenient to investigate the general properties of the radiation pattern of antenna arrays conveniently on a linear equidistant antenna array in a horizontal plane (that is, the <abbr title="directivity pattern">radiation pattern</abbr> depends only on the azimuth angle <math> </math> $ inline $ \ phi $ inline $   ).  Convenient from two points of view: analytical calculations and visual presentation. <br><br>  Calculate the DN for the unit weight vector ( <math> </math> $ inline $ w_n = 1, n = 1 ... N $ inline $   ), following the <a href="https://habr.com/ru/post/449794/">above</a> approach. <br><div class="spoiler">  <b class="spoiler_title">Math here</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/hj/he/7z/hjhe7zz-kkx9gggtleppdx1aswu.png"></div><br>  The projection of the wave vector on the vertical axis: <math> </math> $ inline $ k_v = - \ frac {2 \ pi} {\ lambda} \ sin \ phi $ inline $  <br>  The vertical coordinate of the antenna element with the index n: <math> </math> $ inline $ r_ {nv} = (n-1) d $ inline $ <br>  Here <i>d</i> is the period of the antenna array (the distance between adjacent elements), <i>Œª</i> is the wavelength.  All other elements of the vector <b>r</b> are equal to zero. <br>  The signal received by the antenna array is recorded as follows: <p><math> </math> $$ display $$ y = \ sum_ {n = 1} ^ {N} 1 ‚ãÖ \ exp \ {i2 \ pi n \ frac {d} {\ lambda} \ sin \ phi \} $$ display $$ </p>  Let us apply the formula for the <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D0%25B5%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2582%25D1%2580%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B5%25D1%2581%25D1%2581%25D0%25B8%25D1%258F">sum of a geometric progression</a> and the <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2580%25D0%25BC%25D1%2583%25D0%25BB%25D0%25B0_%25D0%25AD%25D0%25B9%25D0%25BB%25D0%25B5%25D1%2580%25D0%25B0">representation of trigonometric functions through complex exponentials</a> : <p><math> </math> $$ display $$ y = \ frac {1- \ exp \ {i2 \ pi N \ frac {d} {\ lambda} \ sin \ phi \}} {1- \ exp \ {i2 \ pi \ frac {d } {\ lambda} \ sin \ phi \}} = \ frac {\ sin (\ pi \ frac {Nd} {\ lambda} \ sin \ phi)} {\ sin (\ pi \ frac {d} {\ lambda } \ sin \ phi)} \ exp \ {i \ pi \ frac {d (N-1)} {\ lambda} \ sin \ phi \} $$ display $$ </p><br></div></div><br><a name="block_2"></a><br>  As a result, we get: <p><math> </math> $$ display $$ F (\ phi) = | y | ^ 2 = \ frac {\ sin ^ 2 (\ pi \ frac {Nd} {\ lambda} \ sin \ phi)} {\ sin ^ 2 (\ pi \ frac {d} {\ lambda} \ sin \ phi)} $$ display $$ </p><br><h3>  Radiation pattern frequency </h3><br>  The resulting antenna pattern is a periodic function of the sine of the angle.  This means that for certain values ‚Äã‚Äãof the <i>d / Œª</i> ratio, it has diffraction (additional) maxima. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hb/k7/rh/hbk7rh1yhltrpe9ye4q0bwvh5uu.png"></div>  <i>Unnormalized antenna array for N = 5</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w1/m0/gf/w1m0gfdiay7xpditjpbktwokskw.png"></div>  <i>Normalized radiation pattern of the antenna array for N = 5 in the polar coordinate system</i> <br><br>  The position of "diffractionary" can be viewed directly from the <a href="https://habr.com/ru/post/449794/">formula</a> for DN.  However, we will try to understand where they come from physically and geometrically (in N-dimensional space). <br><br>  Elements of the <a href="https://habr.com/ru/post/449794/">phasing</a> vector <b>s</b> are complex exponents <math> </math> $ inline $ e ^ {i \ Psin} $ inline $   whose values ‚Äã‚Äãare determined by the value of the generalized angle <math> </math> $ inline $ \ Psi = 2 \ pi \ frac {d} {\ lambda} \ sin \ phi $ inline $   .  If there are two generalized angles corresponding to different directions of arrival of a plane wave, for which <math> </math> $ inline $ \ Psi_1 = \ Psi_2 + 2 \ pi m $ inline $   , it means two things: <br><br><ul><li>  <b>Physically: the</b> plane wave fronts coming from these directions induce identical amplitude-phase distributions of electromagnetic oscillations on the elements of the antenna array. </li><li>  <b>Geometrically: the</b> <a href="https://habr.com/ru/post/449794/">phasing vectors</a> for these two directions are the same. </li></ul><br>  <i>Connected in a similar way the direction of arrival of the waves are from the point of view of the antenna array equivalent and not distinguishable among themselves.</i> <br><br>  How to determine the area of ‚Äã‚Äãthe corners, in which only one main maximum of the <abbr title="directivity pattern">bottoms</abbr> always lies?  We will do this in the vicinity of the zero azimuth from the following considerations: the magnitude of the phase shift between two adjacent elements must lie in the interval from <math> </math> $ inline $ - \ pi $ inline $   before <math> </math> $ inline $ \ pi $ inline $   . <br><p><math> </math> $$ display $$ - \ pi &lt;2 \ pi \ frac {d} {\ lambda} \ sin \ phi &lt;\ pi $$ display $$ </p>  Solving this inequality we obtain the condition on the domain of uniqueness in a neighborhood of zero: <p><math> </math> $$ display $$ | \ sin \ phi | &lt;\ frac {\ lambda} {2d} $$ display $$ </p><br>  It can be seen that the size of the region of single-valuedness by the angle depends on the ratio <i>d / Œª</i> .  If <i>d</i> = 0.5 <i>Œª</i> , then each direction of signal arrival is ‚Äúindividually‚Äù, and the area of ‚Äã‚Äãunambiguity covers the full range of angles.  If <i>d</i> = 2.0 <i>Œª</i> , then the directions 0, ¬± 30, ¬± 90 are equivalent.  Diffraction lobes appear on the directivity pattern. <br><br>  <i>Typically, diffraction lobes tend to be suppressed using directional antenna elements.</i>  <i>In this case, the complete radiation pattern of the antenna array is the product of the <abbr title="directivity pattern">DN of</abbr> one element and the grid of isotropic elements.</i>  <i>The parameters of the <abbr title="directivity pattern">DN of</abbr> one element are usually chosen based on the condition on the region of uniqueness of the antenna array.</i> <br><br><h3>  Main petal width </h3><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D0%25B0%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B0_%25D0%25BD%25D0%25B0%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">An</a> engineering formula for estimating the width of the main lobe of an antenna system is <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D0%25B0%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B0_%25D0%25BD%25D0%25B0%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">widely known</a> : <math> </math> $ inline $ \ Delta \ phi ‚âà \ frac {\ lambda} {D} $ inline $   where D is the characteristic size of the antenna.  The formula is used for various types of antennas, including mirror ones.  We show that it is also valid for antenna arrays. <br><br>  Let us determine the width of the main lobe with the first zeros of the <abbr title="directivity pattern">DN</abbr> in the vicinity of the main maximum.  <a href="https://habr.com/ru/post/449794/">Expression</a> numerator for <math> </math> $ inline $ F (\ phi) $ inline $   vanishes at <math> </math> $ inline $ \ sin \ phi = m \ frac {\ lambda} {dN} $ inline $   .  The first zeros correspond to m = ¬± 1.  <a href="https://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BC%25D0%25B5%25D1%2587%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258B">Putting</a> <math> </math> $ inline $ \ frac {\ lambda} {dN} &lt;&lt; 1 $ inline $   we get <math> </math> $ inline $ \ Delta \ phi = 2 \ frac {\ lambda} {dN} $ inline $   . <br><br>  Typically, the width of the <abbr title="directivity pattern">pattern of the</abbr> <abbr title="antenna array">AR</abbr> directivity is determined by the level of half power (-3 dB).  In this case, use the expression: <p><math> </math> $$ display $$ \ Delta \ phi‚âà0.88 \ frac {\ lambda} {dN} $$ display $$ </p><div class="spoiler">  <b class="spoiler_title">Example</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/4a/oz/aj/4aozajnoydkkmoj6izygdirnh-q.png"></div><br></div></div><br>  The width of the main lobe can be controlled by setting different amplitudes for the weights of the antenna array.  Consider three distributions: <br><br><ul><li>  Uniform amplitude distribution (weights 1): <math> </math> $ inline $ w_n = 1 $ inline $   . </li><li>  Amplitude values ‚Äã‚Äã(weights 2) falling to the edges of the grid: <math> </math> $ inline $ w_n = 0.5 + 0.3 \ cos (2 \ pi \ frac {n-1} {N} - \ pi \ frac {N-1} {N}) $ inline $ </li><li>  The amplitude values ‚Äã‚Äã(weights 3) increasing towards the edges of the grid: <math> </math> $ inline $ w_n = 0.5-0.3 \ cos (2 \ pi \ frac {n-1} {N} - \ pi \ frac {N-1} {N}) $ inline $ </li></ul><br>  The figure shows the resulting normalized radiation patterns on a logarithmic scale: <div style="text-align:center;"><img src="https://habrastorage.org/webt/b-/j3/9w/b-j39w3o1qv9cbfvm8e2znx4vry.png"></div><br>  <i>The following tendencies can be traced from the figure: the distribution of the amplitudes of the weight coefficients falling to the edges of the lattice leads to a broadening of the main lobe of the DN, but a decrease in the level of side lobes.</i>  <i>The amplitude values ‚Äã‚Äãincreasing towards the edges of the antenna array, on the contrary, lead to a narrowing of the main lobe and an increase in the level of the side panels.</i>  Here it is convenient to consider the limiting cases: <br><br><ol><li>  The amplitudes of the weight coefficients of all elements, except the extreme ones, are zero.  Weights for extreme elements are equal to one.  In this case, the lattice becomes equivalent to a two-element AP with a period <i>D = (N-1) d</i> .  It is not difficult to estimate the width of the main lobe using the formula given above.  At the same time, the side panels will turn into diffraction peaks and level with the main maximum. </li><li>  The weight of the central element is equal to one, and all the rest is zero.  In this case, we got essentially one antenna with an isotropic radiation pattern. </li></ol><br><h3>  Head High Direction </h3><br>  So, we looked at how to adjust the width of the main lobe of the <abbr title="Antenna Array Pattern">DN AR</abbr> .  Now let's see how to steer the direction.  Recall the <a href="https://habr.com/ru/post/449794/">vector expression</a> for the received signal.  Suppose we want the maximum of the radiation pattern to look in a certain direction. <math> </math> $ inline $ \ phi_0 $ inline $   .  This means that from this direction should be taken maximum power.  This direction corresponds to the phasing vector <math> </math> $ inline $ \ textbf {s} (\ phi_0) $ inline $   in the <i>N-</i> dimensional vector space, and the received power is defined as the square of the scalar product of this phasing vector and the weight coefficients <b>w</b> .  The scalar product of two vectors is maximal when they are <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BB%25D0%25BB%25D0%25B8%25D0%25BD%25D0%25B5%25D0%25B0%25D1%2580%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C">collinear</a> , i.e. <math> </math> $ inline $ \ textbf {w} = \ beta \ textbf {s} (\ phi_0) $ inline $   where <i>Œ≤</i> is some normalizing factor.  Thus, if we choose the weight vector equal to the phasing vector for the required direction, then we rotate the maximum of the radiation pattern. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oe/7n/dd/oe7nddqigily-krmim4cwzf0yty.png"></div><br>  Consider as an example the following weights: <math> </math> $ inline $ \ textbf {w} = \ textbf {s} (10 ¬∞) $ inline $ <br><p><math> </math> $$ display $$ w_n = \ exp \ {i2 \ pi \ frac {d} {\ lambda} (n-1) \ sin (10 \ pi / 180) \} $$ display $$ </p>  As a result, we obtain the radiation pattern with the main maximum in the direction of 10 ¬∞. <br><br>  Now apply the same weights, but not for receiving the signal, but for transmission.  Here it is worth considering that when a signal is transmitted, the direction of the wave vector is reversed.  This means that the elements of the <a href="https://habr.com/ru/post/449794/">phasing vector</a> for receiving and transmitting differ by the sign in the exponent, i.e.  interconnected by complex conjugation.  As a result, we obtain the maximum of the directivity pattern for transmission in the direction of -10 ¬∞, which does not coincide with the maximum of the <abbr title="directivity pattern">beam pattern</abbr> at the reception with the same weighting factors. In order to remedy the situation, it is necessary to apply complex conjugation also to the weighting factors. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lz/zr/uc/lzzrucsvxlhxx2qlglvzyantxfo.png"></div><br>  <i>The described feature of the formation of <abbr title="directivity pattern">DNs</abbr> for reception and transmission should always be kept in mind when working with antenna arrays.</i> <br><br><h2>  Let's play with the radiation pattern </h2><br><h3>  Few highs </h3><br>  We set the task to form two main maxima of the radiation pattern in the direction: -5 ¬∞ and 10 ¬∞.  To do this, we select the weighted sum of the phasing vectors for the corresponding directions as the weight vector. <p><math> </math> $$ display $$ \ textbf {w} = \ beta \ textbf {s} (10 ¬∞) + (1- \ beta) \ textbf {s} (- 5 ¬∞) $$ display $$ </p><img src="https://habrastorage.org/webt/kg/bw/7e/kgbw7e976btha_5dtc2whecdslq.png">  By adjusting the coefficient <i>Œ≤,</i> you can adjust the ratio between the main lobes.  Here again it is convenient to look at what is happening in the vector space.  If <i>Œ≤ is</i> more than 0.5, then the vector of weight coefficients lies closer to <b>s</b> (10 ¬∞), otherwise to <b>s</b> (-5 ¬∞).  The closer the weight vector is to one of the phasors, the greater is the corresponding scalar product, and hence the magnitude of the corresponding maximum of the <abbr title="directivity pattern">DN</abbr> . <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rb/md/qs/rbmdqsh5l5uskrwtm_himwic95y.png"></div><br>  However, it is worth considering that both main petals have a finite width, and if we want to tune in two close directions, then these petals will merge into one, oriented to some middle direction. <br><br><h3>  One maximum and zero </h3><br>  Now let's try to adjust the maximum radiation pattern to the direction <math> </math> $ inline $ \ phi_1 = 10 ¬∞ $ inline $   and simultaneously suppress the signal coming from the direction <math> </math> $ inline $ \ phi_2 = -5 ¬∞ $ inline $   .  To do this, you need to set a zero for the corresponding angle.  You can do this as follows: <p><math> </math> $$ display $$ \ textbf {w} = \ textbf {s} _1- \ frac {\ textbf {s} _2 ^ H \ textbf {s} _1} {N} \ textbf {s} _2 $$ display $$ </p><br>  Where <math> </math> $ inline $ \ textbf {s} _1 = \ textbf {s} (10 ¬∞) $ inline $   , but <math> </math> $ inline $ \ textbf {s} _2 = \ textbf {s} (- 5 ¬∞) $ inline $   . <br><img src="https://habrastorage.org/webt/2o/n5/-g/2on5-gvr1ispkx7sprj73nbhgmg.png"><br>  The geometric meaning of the choice of the weight vector is as follows.  We want this vector <b>w to</b> have the maximum projection on <math> </math> $ inline $ \ textbf {s} _1 $ inline $   and at the same time was orthogonal to the vector <math> </math> $ inline $ \ textbf {s} _2 $ inline $   .  Vector <math> </math> $ inline $ \ textbf {s} _1 $ inline $   can be represented as two components: a collinear vector <math> </math> $ inline $ \ textbf {s} _2 $ inline $   and orthogonal vector <math> </math> $ inline $ \ textbf {s} _2 $ inline $   .  To satisfy the formulation of the problem, it is necessary to choose the second component as a vector of weight coefficients <b>w</b> .  You can calculate the collinear component by designing a vector <math> </math> $ inline $ \ textbf {s} _1 $ inline $   to normalized vector <math> </math> $ inline $ \ frac {\ textbf {s} _2} {\ sqrt {N}} $ inline $   using scalar product. <p><math> </math> $$ display $$ \ textbf {s} _ {1 ||} = \ frac {\ textbf {s} _2} {\ sqrt {N}} \ frac {\ textbf {s} _2 ^ H \ textbf {s} _1} {\ sqrt {N}} $$ display $$ </p>  Accordingly, subtracting from the original phasing vector <math> </math> $ inline $ \ textbf {s} _1 $ inline $   its collinear component, we obtain the desired weight vector. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nn/sc/15/nnsc15djywky_jsaprbpbel6f48.png"></div><br><h3>  Some additional notes </h3><br><ol><li>  Everywhere above, I dropped the question of the normalization of the weight vector, i.e.  its length.  So, the normalization of the weight vector does not affect the characteristics of the antenna pattern: the direction of the main maxim, the width of the main lobe, etc.  It can also be shown that this normalization does not affect the <abbr title="signal to noise ratio">SNR</abbr> at the output of the spatial processing unit.  In this regard, when considering algorithms for spatial signal processing, I usually take a unit normalization of the weight vector, i.e. <math> </math> $ inline $ \ textbf {w} ^ H \ textbf {w} = 1 $ inline $ </li><li>  The possibilities for the formation of the antenna <abbr title="directivity pattern">pattern of the</abbr> antenna array are determined by the number of elements N. The more elements, the wider the possibilities.  The more degrees of freedom in the implementation of spatial weight processing, the more options how to "twist" the weight vector in N-dimensional space. </li><li>  In the implementation of the reception of the antenna <abbr title="directivity pattern">pattern, the</abbr> antenna array does not physically exist, and all this exists only in the ‚Äúimagination‚Äù of the computing unit that performs signal processing.  This means that at the same time point it is possible to synthesize several days and independently process signals coming from different directions.  In the case of transmission, everything is somewhat more complicated, but it is also possible to synthesize several <abbr title="directivity pattern">DNs</abbr> for the transmission of various data streams.  This technology in communication systems is called <a href="https://ru.wikipedia.org/wiki/MIMO">MIMO</a> . </li><li>  With the help of the presented matlab code you can play around with <abbr title="directivity pattern">NAM</abbr> yourself. <br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre><code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">% antenna array settings N = 10; % number of elements d = 0.5; % period of antenna array wLength = 1; % wavelength mode = 'receiver'; % receiver or transmitter % weights of antenna array w = ones(N,1); % w = 0.5 + 0.3*cos(2*pi*((0:N-1)-0.5*(N-1))/N).'; % w = 0.5 - 0.3*cos(2*pi*((0:N-1)-0.5*(N-1))/N).'; % w = exp(2i*pi*d/wLength*sin(10/180*pi)*(0:N-1)).'; % b = 0.5; w = b*exp(2i*pi*d/wLength*sin(+10/180*pi)*(0:N-1)).' + (1-b)*exp(2i*pi*d/wLength*sin(-5/180*pi)*(0:N-1)).'; % b = 0.5; w = b*exp(2i*pi*d/wLength*sin(+3/180*pi)*(0:N-1)).' + (1-b)*exp(2i*pi*d/wLength*sin(-3/180*pi)*(0:N-1)).'; % s1 = exp(2i*pi*d/wLength*sin(10/180*pi)*(0:N-1)).'; % s2 = exp(2i*pi*d/wLength*sin(-5/180*pi)*(0:N-1)).'; % w = s1 - (1/N)*s2*s2'*s1; % w = s1; % normalize weights w = w./sqrt(sum(abs(w).^2)); % set of angle values to calculate pattern angGrid_deg = (-90:0.5:90); % convert degree to radian angGrid = angGrid_deg * pi / 180; % calculate set of steerage vectors for angle grid switch (mode) case 'receiver' s = exp(2i*pi*d/wLength*bsxfun(@times,(0:N-1)',sin(angGrid))); case 'transmitter' s = exp(-2i*pi*d/wLength*bsxfun(@times,(0:N-1)',sin(angGrid))); end % calculate pattern y = (abs(w'*s)).^2; %linear scale plot(angGrid_deg,y/max(y)); grid on; xlim([-90 90]); % log scale % plot(angGrid_deg,10*log10(y/max(y))); % grid on; % xlim([-90 90]);</span></span></code> </pre> <br></div></div></li></ol><br><a name="block_3"></a><br><h2>  What tasks can be solved using an adaptive antenna array? </h2><br><div class="spoiler">  <b class="spoiler_title">Optimum reception of an unknown signal</b> <div class="spoiler_text">  If the direction of arrival of the signal is unknown (and if the communication channel is multipath, there are generally several directions), then after analyzing the signal received by the antenna array, it is possible to form the optimal weight vector <b>w</b> such that the <abbr title="signal to noise ratio">SNR</abbr> at the output of the spatial processing unit will be maximum. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Optimum reception of a signal against noise</b> <div class="spoiler_text">  Here the task is set as follows: the spatial parameters of the expected useful signal are known, but in the external environment there are sources of interference.  It is necessary to maximize the <abbr title="signal / ratio (noise + interference)">SNR</abbr> at the output of the AR, minimizing the effect of interference on signal reception. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Optimal signal to the user</b> <div class="spoiler_text">  This problem is solved in mobile communication systems (4G, 5G), as well as in Wi-Fi.  The meaning is simple: with the help of special pilot signals in the user's feedback channel, the spatial characteristics of the communication channel are estimated, and on its basis, the weighting factor vector that is optimal for transmission is selected. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Spatial multiplexing of data streams</b> <div class="spoiler_text">  Adaptive antenna arrays allow data transmission to several users at the same time on the same frequency, creating an individual <abbr title="directivity pattern">DN</abbr> for each of them.  This technology is called MU-MIMO and is currently being actively implemented (and somewhere already) in communication systems.  The possibility of spatial multiplexing is provided, for example, in the 4G LTE mobile communication standard, Wi-Fi standard IEEE802.11ay, 5G mobile communication standards. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Virtual antenna arrays for radar</b> <div class="spoiler_text">  Digital antenna arrays make it possible to form a virtual antenna array of substantially large sizes for processing the signal with the help of several transmitting antenna elements.  The virtual grid has all the characteristics of real, but for its implementation requires less hardware costs. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Evaluation of radiation sources</b> <div class="spoiler_text">  Adaptive antenna arrays allow you to solve the problem of estimating the number, power, <a href="https://en.wikipedia.org/wiki/Direction_of_arrival">angular coordinates of</a> radio emission sources, to establish a statistical relationship between signals from different sources.  The main advantage of adaptive antenna arrays in this matter is the ability to super-allow nearby radiation sources.  Sources, the angular distance between which is less than the width of the main lobe of the radiation pattern of the antenna array ( <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D1%2584%25D1%2580%25D0%25B0%25D0%25BA%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BB">Rayleigh resolution limit</a> ).  This is mainly possible due to the vector representation of the signal, the well-known signal model, as well as the apparatus of linear mathematics. <br></div></div><br><br>  <i>Thanks for attention</i> </div><p>Source: <a href="https://habr.com/ru/post/449794/">https://habr.com/ru/post/449794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../44978/index.html">"Mymehouse" co-working Moscow</a></li>
<li><a href="../449784/index.html">When it is worth using Django (and when it is not)</a></li>
<li><a href="../449788/index.html">Brave Browser introduces an advertising platform based on user rewards.</a></li>
<li><a href="../44979/index.html">Luxophore is the first square traffic light.</a></li>
<li><a href="../449790/index.html">Product Development Visual Aid: Design</a></li>
<li><a href="../449796/index.html">About one girl</a></li>
<li><a href="../449798/index.html">Creating a Tower Defense game in Unity, part 1</a></li>
<li><a href="../4498/index.html">They did it! Google and YouTube formalized the deal</a></li>
<li><a href="../44980/index.html">Why I do not like Drupal</a></li>
<li><a href="../449802/index.html">Career programmer. Part 1. First program</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>