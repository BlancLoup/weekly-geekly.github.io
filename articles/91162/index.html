<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automation of loading images for products in online catalogs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Being engaged in the development of online catalogs (or online stores) were faced with the problem of picking pictures for the product. Not every cust...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automation of loading images for products in online catalogs</h1><div class="post__text post__text-html js-mediator-article"><img src="http://dl.dropbox.com/u/4140162/123.jpg" alt="image"><br><br>  Being engaged in the development of online catalogs (or online stores) were faced with the problem of picking pictures for the product.  Not every customer can afford to embed photographing every product into their processes (especially when there are more than 7000 of them), and does it make sense to photograph goods when their images are already on the Internet, and it is absolutely legal on manufacturers' websites.  Manually downloading-uploading images is not an option.  During the work we tried a lot of ways to "automate" this process: <br><ul><li>  Unloading goods from 1C and synchronize images </li><li>  Uploading "wholesale" pictures via FTP </li><li>  Search for images using the Google API </li></ul><br><a name="habracut"></a><br><h4>  Unloading goods from 1C and synchronize images </h4><br>  Situation: the shop sells second-hand and stock clothing.  The problem is that there are no photos or it is very problematic to find them.  Clothes come in trunks and in the store they don‚Äôt even know what is in them (they buy by weight). <br><br>  The merchandise girl is engaged in acceptance, in the 1C database enters the data about the product.  This item is placed on a table with a white background, above which is fixed a regular digital camera.  Next, the girl presses a specially trained button in 1C, by clicking on it, an external application is launched that takes a picture of the product and saves the image to a folder, naming the file by article number. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Profit: the photo is stored in 1C, it is convenient for sellers to navigate the product.</i>  <i>For example, a buyer comes from a site and says that he wants a product of a certain article or name, everything is clogged up in the 1C search, and in addition to a dry description, an image is also displayed.</i>  <i>Now the girl knows the product in person and can easily find it in the sea of ‚Äã‚Äãother things.</i>  <i>Second-hand same ...</i> <br><br>  Let's get back to business.  The folder on the local computer is synchronized with the server hosting the site.  Next on the server, the images are resized to the desired size and stored in the right places.  A separate song about how to resize 7000 pictures on a regular hosting, believe it is real. <br><br>  As a result, we obtain a rather high automation of the whole process, which requires minimal human participation.  Well, of course, all transactions, purchases, and sales in online are synchronized with 1C, since they began to flirt with it. <br><br><h4>  Uploading "wholesale" pictures via FTP </h4><br>  Everything is simpler, the situation is this: the customer has branded images; it‚Äôs simply not realistic to upload manually via the web interface, there are a lot of them, there are more than 5-6 additional images for each product.  Do not be afraid, as a rule, manufacturers of goods provide its images, naming the files already by reference. <br><br>  Pictures are simply uploaded to FTP, and the site knows where to find them.  Everything is simple and clear. <br><br><h4>  Search for images using the Google API </h4><br>  Now the most interesting, as it seems to us.  The situation is as follows: a store that sells offline famous brands (Grohe, Tarkett and other interior and finishing stuff) decided to start an online catalog of their products.  As you can imagine, the images there play a crucial role.  There are several thousand items in the store (about 15,000) and it is not yet possible to synchronize the site with the product database.  At the entry of the goods will be allocated several specially trained monkeys.  And it is clear that a person will look for a part of images on the Internet, save them, upload, etc.  A very long time. <br><br>  We found a simple and elegant way to upload images.  Google provides its <a href="http://code.google.com/intl/ru-RU/apis/ajaxsearch/">Google Search AJAX API</a> , it's a sin not to use it.  It makes no sense to go into the technical implementation - everything is simple there. <br><br>  The description of the product necessarily includes the brand and article, the specificity of this product (building stuff) is such that there is such a thing as a ‚ÄúCollection‚Äù - a set of goods.  And after adding this data, a request is sent to the Google API, and it returns a JSON array with information about the images found.  The images are shown to the ‚Äúdriver‚Äù and he chooses a suitable image to upload and bring it into the required format.  In 90% of cases, pictures satisfy needs. <br><br>  Everyone is happy ... <br><br>  Let's not discuss on the topic of the legitimacy of using these images, let the choice remain on the conscience of the ‚Äúdriver‚Äù, since it chooses the source of the download and can visually determine whether this is a branded image or not.  It should also be noted that the seller is the official representative of these brands in our city and he has the right to use images from manufacturers' sites. <br><br>  We will not give links to sites, we are afraid of habraeffect, and PR of these resources is inappropriate here.  Who cares - knock on PM. <br><br>  <b>UPD</b> <br><br>  In connection with a large number of questions in the PM, I post an example (our developments are made on ZendFramework, this code is just an example) <br><br>  If you do not need AJAX, then everything is easier than ever. <br>  <a href="http://ajax.googleapis.com/ajax/services/search/images%3Fv%3D1.0%26q%3D%25D0%25A4%25D0%25B8%25D0%25BB%25D0%25BB%25D0%25B8%25D0%25BF%25D0%25B8%25D0%25BD%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9%2520%25D0%25B4%25D0%25BE%25D0%25BB%25D0%25B3%25D0%25BE%25D0%25BF%25D1%258F%25D1%2582">http://ajax.googleapis.com/ajax/services/search/images?v=1.0&amp;q=Philipino%20give</a> <br>  There are additional options for filtering images. <br><br>  PHP executes the request and the API returns the object in JSON format: <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$query = <font color="#A31515">' '</font> ; <br> $body = file_get_contents( <font color="#A31515">'http://ajax.googleapis.com/ajax/services/search/images?v=1.0 &amp;q='</font> .urlencode($query)); <br> $json = json_decode($body); <br> <font color="#0000ff">foreach</font> ($json-&gt;responseData-&gt;results <font color="#0000ff">as</font> $result) { <br> echo <font color="#A31515">'&lt;img src="'</font> . $result-&gt;tbUrl . <font color="#A31515">'" title="'</font> . $result-&gt;contentNoFormatting . <font color="#A31515">'"/&gt;'</font> ; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  The result array contains a lot of useful information.  The list of the most useful array keys: <br><ul><li>  imageId - unique identifier of a picture </li><li>  url - screened url pictures </li><li>  width, height - the size of the picture </li><li>  tbWidth, tbHeight - preview sizes </li><li>  tbUrl - link to preview images </li><li>  title - picture description </li></ul><br><br>  Search news, blog, etc.  works the same, but returns other array keys. <br>  If you still need to search with AJAX, then there are already <a href="http://anton.shevchuk.name/javascript/jquery-and-google-search-api-or-yahoo-search-api-yahoo-search-api/">good articles</a> on this topic <a href="http://anton.shevchuk.name/javascript/jquery-and-google-search-api-or-yahoo-search-api-yahoo-search-api/">.</a> </div><p>Source: <a href="https://habr.com/ru/post/91162/">https://habr.com/ru/post/91162/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../91149/index.html">Virtual window to the Winscape world with head position tracking using the Wiimote</a></li>
<li><a href="../91150/index.html">We collected gcc from source codes</a></li>
<li><a href="../91151/index.html">Paid habrabra and free movies: an entertaining study of the problem of copyright</a></li>
<li><a href="../91155/index.html">ExtJS and PHP in the example</a></li>
<li><a href="../91157/index.html">Czech National Technical Library</a></li>
<li><a href="../91164/index.html">We solve problems with broken coding: accept-charset</a></li>
<li><a href="../91166/index.html">FF - an interesting moment, which did not know before</a></li>
<li><a href="../91171/index.html">Work with OSM under Linux</a></li>
<li><a href="../91174/index.html">Count how much alcohol you drink</a></li>
<li><a href="../91175/index.html">Automatic switching of embedded and discrete graphics in MacBook Pro</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>