<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I trusted my intuition and was very stubborn</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Have you ever had an elusive feeling as if you were on the right track? Perhaps you did something, unconsciously realizing that you are moving in the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I trusted my intuition and was very stubborn</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/bf9/46c/cea/bf946ccea59f1983f4b897ded08b7ed1.jpg" align="left">  Have you ever had an elusive feeling as if you were on the right track?  Perhaps you did something, unconsciously realizing that you are moving in the right direction, you felt that elusive state when "I have no idea what I'm doing now, but it seems to me that I am on the right path."  I often have this condition.  Your attention is invited to a modest story that happened to me a few years ago.  I apologize in advance if I misuse technical terms somewhere, correct me in the comments, thank you. <br><br>  Actually, it all started with the call of my beloved sister and a description of the immediate problem that stood before her.  The following happened - the organization in which she worked a year ago ordered the creation of a site with 15 virtual tours (this is where, using the built-in flash player, you can twist in all directions and explore the space around you, for example, a hotel room).  At some certain point, as you probably already guessed, all virtual tours on the site instead of colorful pictures began to show an error: ‚ÄúError 20‚Äù on a beautiful white background.  With this and I had to figure it out. <br><a name="habracut"></a><br>  To begin with, having studied the principle by which these virtual tours were built into the site, I found out the following: <br><ul><li>  Each virtual tour is a file with the <i>.ivp</i> extension <i>.</i> </li><li>  Tours are loaded with a special flash player. </li><li>  The error, in fact, throws this very player </li></ul><br>  At first, I began to sin on the fact that someone's ‚Äúcurved handles‚Äù had spoiled something, but after a brief torture of the system administrator, it turned out that no one had touched the site.  The file change date was the same; there were no traces of a virus or web shell either.  But something told me that I must get to the bottom of the truth and, I will not torment you, the problem was quickly localized and surrounded. <br><br>  It turned out that if you translate the date a few months ago, on the computer from which the site opens - virtual tours work fine and no errors are observed.  At that moment for me this behavior was not a special revelation.  Somehow, working in the same organization, where I was engaged in supporting all computer equipment, there was a similar problem, a certain configuration written in 1C successfully fell on certain days, as scheduled, after which the company supporting this configuration sent a specialist and he took a long time and painfully (for several days) restored work.  After another fall, it seemed to me too suspicious and I changed the system time a day ago, in the end everything worked, there was a terrible scandal :).  But the story is not about that. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It turned out that the problem arose when the top management decided to refuse the services of monthly web site support from the web studio that created it.  Apparently, in this way, they decided not to let their clients go.  Anticipating the issue - all works were paid on time and in full, including for each virtual tour.  But this is a business, a stern Russian business :). <br><br>  Everything could have ended already then, but the creators of the tours rested like the ram at a new gate and didn‚Äôt admit their guilt, just ignoring the claims.  Of course, one could go to court, or make new virtual tours - but this is not our method, Shurik! <br><br>  Actually, I was determined to help, and so that justice would prevail, I began to think about how to make the "whisker work".  Using a great search tool on the Internet and knowing the file extension, I quickly found a foreign website selling a program to create these very virtual tours.  After examining the site, I found out that each file of the virtual tour is encrypted in some tricky way, and only a ‚Äúproprietary‚Äù flash player, which is intended for this, can decrypt it.  It is worth noting that in data encryption, I am a complete layman. <br><br><h5>  The first approach to the projectile </h5><br>  I tried to decompile the flash player on hand to remove the restriction on date validation with the help of several programs designed for this purpose.  Actually, here I failed completely, perhaps my crooked hands did not allow me to do this, but what I received as a result was completely unreadable.  Depressed <br><br><h5>  The second approach to the projectile </h5><br>  He turned his clear eyes to the files of virtual tours.  At this moment I had a feeling that I described at the very beginning of the article, it seemed to me that I would succeed.  Just like that.  Do and succeed. <br><br>  Well, I did the following, downloaded the hex editor and opened the file with the virtual tour, what I saw can be viewed on the first attached image.  Not a very inspiring sight.  At that moment, I couldn‚Äôt even think how to achieve something from the received squiggles.  Why do I open the encrypted file with a hex editor and look at it.  It seems to me that any sane person would not do what I do.  Now it seems to me utter nonsense.  Actually, then it seemed to me to be nonsense too, the only thing I felt was the unquenchable feeling that everything would work out - how?  why?  from where  I dont know. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/33a/098/e1b/33a098e1b9cef196c1cf32d053df6304.jpg"><br><br>  It turned out that only the area highlighted in pink is repeated in each file of the virtual tour, and everything that goes below does not.  For a start, I found a normal example of a virtual tour that worked on the current date and compared it with my experimental ones.  It turned out that his one-to-one pink part coincides with my tours, apparently, this is general official information. <br><br><h6>  Idea </h6><br>  She came to me suddenly and very clumsily, I understood how to restore the files, you just need to find a place where the date is stored on which the virtual tour will work and change it, or change some general parameter that is responsible for displaying the tour.  And it should be done in the blind, in the HEX-editor, randomly changing arbitrary characters to other arbitrary characters.  Funny  No one.  No one dares to offend Hippo&gt; &lt;. <br><br>  After some thought, I realized that the date or the parameter that is responsible for the display will most likely be at the very beginning of the file, or at the end, and in the middle there will be information about the tour itself.  But most likely at the beginning.  Therefore, I singled out for myself an approximate area of ‚Äã‚Äãwork, roughly speaking, something like this: <br><br><img src="http://habrastorage.org/storage3/b84/3e0/6ca/b843e06ca16a2f5b793a9a8cb789ff4b.jpg"><br><br>  And he began to change symbols :) Perhaps it would seem ‚Äúa little‚Äù stupid and inadequate to someone, I just took any symbol or several symbols, changed them to any others and checked whether the virtual tour works, of course, it did not work, but fell off with an error like "Corrupted file". <br><br>  This lasted for several hours, I tried to insert the zone from the working tours downloaded from the official site and the like.  I think I rather quickly approached the moment when you can look at yourself in the mirror and say: "Well, you, duraaaak."  At that moment I completely felt the absurdity of my attempts. <br><br>  A few hours later I decided that everything was enough, this is utter nonsense, I even closed the hex editor, deciding that it was time to do other things or else I would go crazy, but finally I decided to change two characters for the last time, opened the file and replaced these selected characters with ‚ÄúRS‚Äù (I don't know why, I just copied them from another tour): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b49/dd8/1be/b49dd81be80ec90f72e6ff9336829826.jpg"><br><br>  For me at that moment a miracle happened, such a feeling as I then rarely experienced, it worked!  The file began to work on the current time.  It was something, I was right, it was possible! <br><br>  Further events developed as follows, I wrote a simple PHP script that opened the file indicated to it and changed characters in a certain range, in order, it turned out that to remove the restriction, the spread for changing characters was quite large, sometimes it was necessary to change 1 I indicated the symbol, sometimes 2, for the change of position approximately as follows: from 135 characters to 180. Given that the options for each character are 255 (without the initial one), the script generated a huge number of virtual tour files from which it was necessary to find a worker. <br><br>  I solved this problem quickly by downloading the tour player for win7 from the program‚Äôs website, writing all the files into one folder and opening this folder in thumbnail view or something like that, after which I just visually looked through the folder among the white sheets, I caught a glimpse of a colorful icon and it was a working virtual tour :) Needless to say, when it was necessary to change 2 characters of files there were thousands. <br><br>  By the way, it turned out that the options under which the tours will open are several, that is, sometimes I received 5-6 working files with different changed characters in different places. <br><br>  After that, I quickly restored half of the virtual tours and put them on the site, I decided to deal with the rest later, because  Immediately restore them failed.  But this did not have to be done, literally in a few days the ‚Äúweb studio‚Äù who did the tours sent the files without reference to the time and everything ended well. <br><br>  Actually, this is such a story, perhaps without knowing it, I did something from the usual practice?  I will be glad to your comments. </div><p>Source: <a href="https://habr.com/ru/post/202204/">https://habr.com/ru/post/202204/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202190/index.html">Lock-free data structures. Inside Memory management circuits</a></li>
<li><a href="../202192/index.html">Google won an 8-year lawsuit: now the Google Books project is free from the claims of the Authors Guild</a></li>
<li><a href="../202194/index.html">Chinese Hackspace: Chaihuo Make Space</a></li>
<li><a href="../202196/index.html">Samsung MultiScreen SDK beta</a></li>
<li><a href="../202202/index.html">Overview of Drupal Learning Materials</a></li>
<li><a href="../202206/index.html">Uniregistry launched nic.sexy and nic.tattoo</a></li>
<li><a href="../202210/index.html">Never repeat this house: modification of the HC-128 encryption algorithm</a></li>
<li><a href="../202212/index.html">Python-digest # 2. News, interesting projects, articles and interviews [November 8, 2013 - November 15, 2013]</a></li>
<li><a href="../202214/index.html">Continuous Delivery hecho en Alawar</a></li>
<li><a href="../202216/index.html">Telephone radiations: myths and legends - and what determines the power of the telephone transmitter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>