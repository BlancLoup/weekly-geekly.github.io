<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Inversion Control / Inversion of Control</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Inversion of control is a common occurrence that you will encounter when using frameworks. Indeed, it is often viewed as a defining characteristic of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Inversion Control / Inversion of Control</h1><div class="post__text post__text-html js-mediator-article">  Inversion of control is a common occurrence that you will encounter when using frameworks.  Indeed, it is often viewed as a defining characteristic of the framework. <br><br>  Let's look at a simple example.  Imagine that I am writing a program that receives some information from the user using the command line.  I could do it something like this: <br><br><pre><code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#ruby puts 'What is your name?' name = gets process_name(name) puts 'What is your quest?' quest = gets process_quest(quest)</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this situation, my code controls execution: it decides when to ask questions, when to read the answers, and when to process the results. <br><br>  However, if I used the window system for something like this, I would write something that works with the window: <br><pre> <code class="ruby hljs"> <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'tk'</span></span> root = TkRoot.new() name_label = TkLabel.new() {text <span class="hljs-string"><span class="hljs-string">"What is Your Name?"</span></span>} name_label.pack name = TkEntry.new(root).pack name.bind(<span class="hljs-string"><span class="hljs-string">"FocusOut"</span></span>) {process_name(name)} quest_label = TkLabel.new() {text <span class="hljs-string"><span class="hljs-string">"What is Your Quest?"</span></span>} quest_label.pack quest = TkEntry.new(root).pack quest.bind(<span class="hljs-string"><span class="hljs-string">"FocusOut"</span></span>) {process_quest(quest)} Tk.mainloop()</code> </pre><br>  Now there is a big difference in the control flow between these two programs - in particular, in time management, when the <i>process_name</i> and <i>process_quest</i> methods are called.  In the command line example, I control when these methods are called, but not in the window application example.  Instead, I pass control to the window system ( <i>Tk.mainloop</i> command).  She then decides when to call my methods based on the connections I set up when creating the form.  Management is inverted - they control me, but not I manage the framework.  This phenomenon is called the inversion of control (also known as the <i>Hollywood Principle - ‚ÄúDo not call us, we</i> will call you‚Äù - <i>Hollywood Principle - ‚ÄúDon't call us, you call you‚Äù</i> ). <br><a name="habracut"></a><br><blockquote>  One important characteristic of the framework is that user-defined methods for adapting the framework to your needs will most often be called within the framework itself, rather than from the application code of the user.  The framework often plays the role of the main program in the coordination and sequencing of an application.  This inversion of control gives the framework the ability to serve as an extensible skeleton of the application.  The methods provided by the user adapt the general algorithms defined by the framework for a specific application. <br><br>  Ralph Johnson and Brian Foote. </blockquote><br><br>  Inversion of control is a key part of what distinguishes the framework and the library.  A library is essentially a set of functions that you can invoke, these days they are organized into classes.  Each call does some work and returns control back to the user. <br><br>  The framework embodies some abstract design with embedded behavior.  In order to use it, you must add your code in various places of the framework, either through inheritance or by connecting your own class.  The framework code will subsequently invoke your code. <br><br>  There are various ways to connect your code to call it further.  In the previous ruby ‚Äã‚Äãexample, we call the <i>bind</i> method of the text field, which takes the name of the event and the <a href="http://martinfowler.com/bliki/Closure.html">closure</a> as arguments.  Whenever a text field finds out about an event, it calls our code from the closure.  The use of such closures is very convenient, but many languages ‚Äã‚Äãdo not support them. <br><br>  Another way to do this is to have the framework detect events and the user code subscribe to these events.  .NET is a good example of a platform that allows people to announce their events to widgets using language tools.  You can assign a method to an event using delegates. <br><br>  The approaches discussed above (they are the same) are well suited in isolated cases, but sometimes you may need to combine a certain number of calls into a single extension block.  In this case, the framework can define the interface that your code will need to implement for the corresponding calls. <br><br>  EJB components are a good example of this style of inversion control.  When designing the session bean, you can implement various methods that are invoked by the EJB container at various points / lifecycle states.  For example, the <i>SessionBean</i> interface has <i>ejbRemove</i> , <i>ejbPassivate</i> (saved to secondary storage), and <i>ejbActivate</i> (restored from passive state) methods.  You cannot control the calling of these methods, just what they do.  The container calls us, not we call it. <br><br>  <i>Translation note, example:</i> <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EjbExample</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SessionBean</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ejbActivate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> EJBException, RemoteException </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// do some processing on session object became active } public void ejbPassivate() throws EJBException, RemoteException { // do some processing on session object became passive } public void ejbRemove() throws EJBException, RemoteException { // do some processing before the end of life of session object } public void setSessionContext(SessionContext sessionContext) throws EJBException, RemoteException { // interface dependency injection } }</span></span></code> </pre><br>  These are complex cases of inversion control, but you will encounter this in much simpler situations.  <a href="http://www.amazon.com/gp/product/0201633612%3Fie%3DUTF8%26amp%3Btag%3Dmartinfowlerc-20%26amp%3BlinkCode%3Das2%26amp%3Bcamp%3D1789%26amp%3Bcreative%3D9325%26amp%3BcreativeASIN%3D0201633612">The generic method</a> is a good example: a superclass defines a control flow, subclasses inherit from it by overriding methods or implementing abstract methods.  For example, in JUnit, the framework code calls the <i>setUp</i> and <i>tearDown methods</i> for you to create and clean up your test.  A call occurs, your code reacts - this is again an inversion of control. <br><br>  <i>Translation note, example:</i> <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestCase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.setUp(); <span class="hljs-comment"><span class="hljs-comment">// make some preparation for the test, eg setup database connection } public void testSomeLogic() { // test some functionality } protected void tearDown() throws Exception { // cleanup after test has finished super.tearDown(); } }</span></span></code> </pre><br>  Nowadays, due to the growing number of IoC containers, there is some confusion with the meaning of inversion of control.  Some people confuse the general principle with the specific inversion of control styles (such as <a href="http://martinfowler.com/articles/injection.html">dependency injection</a> ) that these containers use.  All of this is a bit confusing (and ironic), since IoC containers are usually considered to be competing with EJB, but EJB uses control inversion. <br><br>  <b>Etymology:</b> As far as I can tell, the term inversion of control first appeared in the work of Johnson and Foote <a href="http://www.laputan.org/drc/drc.html">Designing Reusable Classes</a> , published in the journal Object-Oriented Programming in 1988.  Work is one of those that are good at the age - it can be read even after fifteen years.  They believe that they took this term from somewhere else, but cannot remember where they came from.  Then the term was rubbed into the object-oriented community and reappeared in the book <a href="http://www.amazon.com/gp/product/0201633612%3Fie%3DUTF8%26amp%3Btag%3Dmartinfowlerc-20%26amp%3BlinkCode%3Das2%26amp%3Bcamp%3D1789%26amp%3Bcreative%3D9325%26amp%3BcreativeASIN%3D0201633612">Gang of Four</a> .  A more beautiful synonym for the ‚ÄúHollywood Principle‚Äù seems to have originated <a href="http://www.digibarn.com/friends/curbow/star/XDEPaper.pdf">in the work of Richard Sweet</a> at Mesa in 1983.  In the list of development goals, he writes: <i>Do not call us, we will call you (the Law of Hollywood): the tool should organize Tahoe to warn him when the user wants to send some event to the tool, instead of accepting the model ‚Äúrequest the user command and execute it</i> . <i>"</i>  John Vlissides writes a <a href="http://www.research.ibm.com/designpatterns/pubs/ph-feb96.txt">column on C ++</a> , which carries a good explanation of the concept called ‚ÄúThe Hollywood Principle‚Äù.  (Thanks to Brian Foote and Ralph Johnson for helping with etymology). <br><br>  <b>UPD:</b> <i>Added examples.</i> </div><p>Source: <a href="https://habr.com/ru/post/116232/">https://habr.com/ru/post/116232/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116224/index.html">SMF - Service Management on Solaris</a></li>
<li><a href="../116225/index.html">Good old electronic portable games</a></li>
<li><a href="../116227/index.html">Work with FLA</a></li>
<li><a href="../116228/index.html">OpenOffice Automation: Ending</a></li>
<li><a href="../116230/index.html">YouTube marks Earth Hour</a></li>
<li><a href="../116234/index.html">Full hiding of fields by properties in C #</a></li>
<li><a href="../116235/index.html">Bird twitter</a></li>
<li><a href="../116236/index.html">The task of finding the maximum on segments of fixed length</a></li>
<li><a href="../116237/index.html">Universal templating for Kohana 3.1</a></li>
<li><a href="../116239/index.html">Daily Twitter Twitter in London</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>