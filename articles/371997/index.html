<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>You yourself are a hard drive! Understanding the design of SSD</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Giktayms! As long as the solid-state drives do not outweigh the HDD in terms of price and capacity, buyers will continue to nod to the hard drives...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>You yourself are a hard drive! Understanding the design of SSD</h1><div class="post__text post__text-html js-mediator-article">  <b>Hi, Giktayms!</b>  As long as the solid-state drives do not outweigh the HDD in terms of price and capacity, buyers will continue to nod to the hard drives and tell them that ‚Äúexactly the same drives are distributed there much cheaper.‚Äù  Therefore, in the name of a great struggle with increasing entropy and just for the sake of education, it is necessary to talk about the design features of SSD. <br> <a href="https://geektimes.ru/company/kingston_technology/blog/273290/"><img src="https://habrastorage.org/files/648/a7d/959/648a7d959235402e8a3f3ce9ed5edbf5.jpg"></a> <br><a name="habracut"></a><br>  When phenomena or objects progress, it is considered that they become more difficult.  Already in the computer industry - so for sure.  Users of such truths are in the form of "conspiracy theories", they say, all devices today fail the next day after the warranty.  Enthusiasts, by the way, in such lamentations also do not lag behind and complain that new technologies cannot be repaired with the help of scotch tape and a soldering iron, and suspicions are only aggravated from year to year.  By the way, the automotive industry has already passed a similar path. <br>  But with SSD, the story was different - they did not become the next stage in the evolution of drives of the previous type, but went public, when hard drives were already, to put it mildly, not new.  For decades now, the read head in the HDD is worn over the ferromagnetic layer and reads information from the tracks on the ‚Äúpancakes‚Äù.  Of course, over the years, the mechanics became more complicated and today this very head does not even work in a vacuum (although the myths around hard disks are saying the opposite), but in helium, but you must agree - these are just updated scenery for the old play. <br><br>  With solid-state drives, the situation is simpler and more complicated at the same time.  They are not even the old "measurers" to measure.  Previously, the performance of hard drives could be determined "by eye" by the speed of rotation of the spindle (any pioneer knows that 7200 rpm, all other things equal steeper than 5400 rpm) and the amount of cache memory.  But the ‚Äúgramophone‚Äù principle of reading information goes down in history, and a <a href="https://geektimes.ru/company/kingston_technology/blog/245802/">variety of flash memory</a> came in its place, a crowd of manufacturers of controllers, each with its own model line, and all this with all the same memory buffer and new abbreviations IOPS, TBW, DWPD and other unknown words. <br>  But all this - not even marketing terms, dummies, and important information that will help choose the SSD, predict its service life and even predict in advance the speed of the latest models.  Today we will understand what the controllers control and why they need a cache, how the SSD reliability is measured and what standard abbreviations actually tell us. <br><br><h2>  Controller - "manager" of flash memory in SSD </h2><br>  No one likes extra bureaucracy, especially in computer components, but since its invention, the correct mode of operation has been vital for drives.  Such a mission could be entrusted to the ‚Äúbrains‚Äù, that is, the PC operating system, but incompatibilities and software conflicts have all gotten from time immemorial, so hard drives communicate with the computer through an integrated circuit, and a controller and an employee are built on the SSD printed circuit board his <s>noodle</s> is a cache. <br>  The operation scheme of a solid-state drive is similar to the typical fuss in a network supermarket.  The controller is such a supply manager ... oh, sorry, store administrator.  Supervises the reception of goods (files), distributes them to the warehouse (writing to cells in flash memory), commands the loaders when it is necessary to replenish the sales area (reading from memory cells) or demands to transfer the goods to showcases with dairy products to the place of household chemicals (TRIM function ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/54f/b0c/7a7/54fb0c7a73af43e593c6f6a1077e05af.jpg"><br>  <i>Kingston SSDNow V300 Drive - thanks to comrade SandForce for our happy upgrade!</i> <br><br>  The controllers remain modest laborers without their heroic chronicle: well, you can't get to paint and write their onward evolution.  If you dig really too deep, the chips of this type are rooted in the old <a href="https://habrahabr.ru/company/intel/blog/205486/">Intel 8051</a> and are not painfully intelligent, but fast enough and reliable ‚Äúthink tank‚Äù of the drive.  It consists of a processor with ARM / RISC cores, in everyday work it finds and corrects memory errors, handles data from the buffer (cache), controls data transfer to SATA / PCIe interfaces, encrypts files when it is required, and even cleverly ‚Äúspreads‚Äù the data on NAND, so that the cells wear evenly and the drive lasts longer.  A supervises all these troublesome microprogram (firmware), popularly known as "firmware". <br>  Today, mass SSD controllers use a strictly parallel memory connection.  Because a single mover Vasya will not have time to perform the tasks of the administrator as quickly as is required of him.  Another thing is that with the distribution of responsibilities between the team of movers work will be wrapped up at the proper pace.  Now you understand the benefits of multi-channel NAND connectivity for operations with a large queue depth. <br>  There are a lot of controller manufacturers today (SandForce, Phison, Marvell, Indilinx, LAMD, MDX, Intel, Silicon Motion), but they differ from each other in a far from fundamental way.  The difference is found at the level of the business approach.  For example, SandForce and Phison release to manufacturers of SSD controllers "turnkey" - with firmware and software for maintenance.  The rest of the manufacturers sell controllers cheaper, but with a larger share of self-service manufacturers.  Or they don‚Äôt sell them at all and leave them for their products - for example, Intel and Samsung do this. <br>  Over the years of widespread use of SSDs, truly ‚Äúmemetic‚Äù models of controllers have appeared.  One of these representatives is SandForce SF-2281 - the superstar of the SSD industry, which, like many of our idols, was not honored to leave in time and become a classic.  A few years ago, when this model went into production, SSD manufacturers snapped it up in huge quantities.  That's because, in addition to the notorious ‚Äúservice with a human face‚Äù, LSI SandForce included a very interesting feature in its controller - data compression. <br><br><img src="https://habrastorage.org/files/416/0f7/c29/4160f7c29bf44a5ebe876d71427f31f5.jpg"><br>  <i>The SandForce SF-2281 controller did without a separate cache, but modern Phison with it necessarily interact</i> <br><br>  Unlike hard disks, where the location of files in memory depends on the file system, in SSD files are stored in blocks there, according to the flow of the controller.  And there is nothing wrong with that - a good wine does not get worse if it is not poured from such a fabulously beautiful barrel, as in an advertising booklet.  But, if for successive operations the distribution of files is already done in an optimal way, then moving / copying a pack of small files is a troublesome job (a huge number of similar operations) and labor-intensive.  Considering that the smallest files in the routine of the operating system are either part of the program or are documents, LSI taught the SF-2281 controllers to compress such files and, due to this, to improve the speed of work. <br>  In addition, the 2281st was unique due to the absence of a separate cache for everyday needs - all operations were performed within the framework of the service memory of the controller.  In terms of price / performance and durability, such drives were ‚Äúdriving‚Äù for a long time, but today such an attitude has been shaped to such a model as to Windows XP (in the sense that there were good times, but who remember the past ...), therefore all new Kingston drives gradually moved to Phison hardware platform.  Performance based on such models varies depending on the class of the drive, but 8-channel quad-core chips "go" quite in the spirit of the times, are able to recognize "empty" (with a large number of empty blocks, in other words, zeros) data and work with them faster and most importantly - do not allow the degradation of the speed of the drive and work reliably. <br><br><img src="https://habrastorage.org/files/9e9/fc0/77c/9e9fc077c5cb4faf8944617de185df2a.png"><br>  <i>Block diagram of a 4-core Phison PS3110-S10 controller in new Kingston drives</i> <br><br>  Such qualities of our company have always been <a href="https://geektimes.ru/company/kingston_technology/blog/272724/">impressed</a> , especially since we all watched the drive from a well-known manufacturer of smartphones, in which, due to the lazy ‚Äúgarbage collection‚Äù, the speed of work sags to anecdotal values.  However, in our top model HyperX Predator, the Marvell 88SS9293 controller is used - in the flagship drives, the ability to ‚Äúdazzle‚Äù the firmware is worth a lot. <br><br><h2>  What is the buffer memory (cache) </h2><br><br><img src="https://habrastorage.org/files/505/bce/8ef/505bce8efb974f39b3d30790fae1814b.jpg"><br>  <i>Even modest SSDs cannot do without memory buffer today.</i> <br><br>  Loyal apprentice and assistant controller.  It does not increase the speed of the drive by itself, but helps in routine tasks.  For example, as soon as the operating system gives the command to erase / change files on the drive, the following trickiness begins inside the SSD: <br>  1. The block that needs to be changed is sent to the cache memory and video changed there, as requested by the "OS"; <br>  2. The source data in the NAND microcircuit is sent to be deleted, the controller looks to the data from the buffer a new location based on the cell wear; <br>  3. Cache rewrites modified data to a new location. <br>  From the same cache, from time to time, tables with service information about the state of NAND and cells that have completely worn out are roaming.  In general, the ‚Äúbring-bring‚Äù and ‚Äúlet the elder look at the flowchart‚Äù tasks this SSD component performs regularly. <br><br><h2>  Rode IOPS through TBW, sees - DWPD </h2><br>  When a new SSD only hits the market, it‚Äôs not always possible to create an impression of its speed and reliability before the release of thematic reviews.  Previously (and still others), companies struggled with a lack of information with epithets ‚Äúan incredible, amazing, unprecedented technological storage for demanding customers,‚Äù but today there is a risk of hanging noodles on geeks, so dry figures and specific terms come to the rescue. <br>  <b>IOPS (input / output operations per second) or ‚Äúthe number of I / O operations per second‚Äù</b> is the number of blocks that manage to be counted or recorded in order to see for yourself what time period.  IOPS is calculated elementary: we divide the reading speed by the block size.  If a file with a volume of 10 KB is read at a speed of 1000 KB / s, then the drive's performance in this particular mode of operation is 100 IOPS. <br><br><img src="https://habrastorage.org/files/442/f7a/ad5/442f7aad524f4a689d08f30722ebcb92.png"><br>  <i>Iometer is a middle-aged, but time-tested, IOPS measurement utility.</i> <br><br>  To avoid disagreement, such readings are now taken with the help of the Iometer program, and modern Kingston drives, for reference, squeeze (read / write files weighing 4 Kbytes) of the order of 95000/26000 IOPS in the case of low-cost models and 160000/130000 in the case of the flagship HyperX Predator. <br>  It is clear that large data blocks of SSDs operate much faster than small ones, so manufacturers indicate the maximum possible number of IOPS for random and sequential operations.  These data should be treated in the same way as the ‚Äúup to 100,500 Mbit / s on your unlimited tariff!‚Äù Marks from Internet providers, but for the lack of accurate test results, such SSD information will be useful. <br>  <b>TBW (Total Bytes Written)</b> is the amount of data that can be written to the SSD before it emanates air.  The larger the number (and today this figure is already indicated in petabytes), the more reliable the drive and, as a rule, the longer the warranty period.  The inspiring figures warm the soul, but you need to remember that in reality the drive will wear out earlier - too much depends on the number of unoccupied space on which the controller will conduct its vigorous activity and fight with the wear of cells.  By the way, we invite everyone <a href="https://habrahabr.ru/post/237973/">to take a look</a> at how our drives behave when working "for slaughter". <br>  <b>DWPD (Drive Write Per Day)</b> is a fun meter that shows how many times a day you can completely overwrite a drive from the first to the last day of the warranty.  In a word, computing is like calculating a lifestyle from our beloved social quotas, where going beyond N-kilowatts of electricity means "you hit, guy, pay double / triple / some other tariff."  So the buyer of components is free to estimate how many gigabytes he drives through the drive per day, and then assess whether his SSD will work out its life before the end of warranty service. <br><br><h2>  The main thing is not the size, but the ability to use </h2><br>  We deliberately did not dwell on the details provoking a yawn.  Because the numbers are slightly above the market averages / failures of many drives were local in nature and after years are not impressive.  We will also not ‚Äústitch to business‚Äù the results of testing of individual models - we will still have time to savor the nuances of processing commands and garbage collection with individual controllers in the topics dedicated to testing.  In short, after we have dealt with the typical construction of modern SSDs today, it's time to delve into the unique innovations of such drives.  We will talk about this in the near future. <br><img src="https://habrastorage.org/files/4ba/8c4/735/4ba8c473566c4bce8e3ff07c84bdf528.jpg"><br><br>  Thank you for your attention and stay with <b>Kingston</b> on Hiktatimes! <br><br>  For more information about Kingston and HyperX products, visit <a href="http://www.kingston.com/ru">the company's official website</a> .  In choosing your kit HyperX help <a href="http://goo.gl/mZrSgq">page with visual aids</a> . <br><br><hr><br><h5>  <font color="872323">Our previous posts:</font> </h5><br><ul><li>  <a href="http://geektimes.ru/company/kingston_technology/blog/266908/">HyperX Impact memory lines - mobile - does not mean slow</a> </li><li>  <a href="http://geektimes.ru/company/kingston_technology/blog/266806/">HyperX DDR3 memory rulers - what is what in the model range?</a> </li><li>  <a href="http://geektimes.ru/company/kingston_technology/blog/266654/">HyperX DDR4 memory rulers - what to choose for your computer?</a> </li><li>  <a href="http://geektimes.ru/company/kingston_technology/blog/266432/">USB drive HyperX Savage USB 3.1 Gen 1 with a capacity of 128 gigabytes</a> </li><li>  <a href="http://geektimes.ru/company/kingston_technology/blog/268234/">Interesting facts from the history of solid-state drives</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/371997/">https://habr.com/ru/post/371997/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../371985/index.html">Scientists have grown the human heart in the laboratory for the first time.</a></li>
<li><a href="../371987/index.html">Oculus applications can only be installed on drive C</a></li>
<li><a href="../371991/index.html">North Korea has successfully tested a solid rocket engine</a></li>
<li><a href="../371993/index.html">BBC has started sending out a million micro microcomputers micro: bit to UK schoolchildren</a></li>
<li><a href="../371995/index.html">Top 5 Backup Services 2016</a></li>
<li><a href="../371999/index.html">The US Army has created a VR-dome to immerse soldiers in a combat situation</a></li>
<li><a href="../372001/index.html">Cameras of photo and video 360 degrees from ‚ÄúA‚Äù to ‚ÄúZ‚Äù: Google Jump, Samsung Gear 360, Nokia OZO and many others ...</a></li>
<li><a href="../372005/index.html">Apple opened the designer Watch on the site (almost like Moto Maker)</a></li>
<li><a href="../372007/index.html">Refinement of virtual reality glasses for farsighted</a></li>
<li><a href="../372009/index.html">Police began to scan private DNA databases in search of suspects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>