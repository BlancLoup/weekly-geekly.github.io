<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Evening class: resizing elements to pure JS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Another free evening was issued, today we will do a full-fledged resizable in any direction for any elements (div, images, whatever) in pure JavaScrip...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Evening class: resizing elements to pure JS</h1><div class="post__text post__text-html js-mediator-article">  Another free evening was issued, today we will do a full-fledged resizable in any direction for any elements (div, images, whatever) in pure JavaScript. <br><br>  Demo page: <a href="http://sweetest.do.am/resizable/resizable.html">Resizable.js</a> <br><a name="habracut"></a><br>  <b>Approach # 0</b> <br><br>  Make eight hanging divisors-resizers: four of them are strips along the sides of the element, four more - in the corners.  When resizing, resize the element, as well as drag diva-resizers. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The cons are obvious: <br><br><ul><li>  Lots of duplicate code </li><li>  Uncomfortable: you have to work with the element and with the resizers </li><li>  Just ashamed to show someone such a script. </li></ul><br>  <b>Approach # 1</b> <br><br>  With a mousemove element, check if the cursor is at the edge of the element.  If yes, assign the appropriate cursor style (for example, when hovering on the upper right edge will be ne-resize), if not, assign the default cursor. <br><br>  When mousedown element do the same check.  If yes - we start resizing in the right direction, if not - we do nothing. <br><br>  We write the auxiliary function <i>direction ()</i> , which will determine on which edge of the element the cursor is located.  It will return either a number from 0 to 7 (0 - resize up, 1 - right, etc .; 4 - resize up and right, 5 - right and down, etc. clockwise).  If 8 is the cursor not at the edge of the element, do not start resizing. <br><br><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">direction</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> elem, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">event</span></span></span></span><span class="hljs-function"><span class="hljs-params">, pad </span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pad = pad || <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pos = elem.getBoundingClientRect(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> top = pos.top; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> left = pos.left; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> width = elem.clientWidth; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> height = elem.clientHeight; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> eTop = <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.clientY; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> eLeft = <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.clientX; <span class="hljs-comment"><span class="hljs-comment">// [...]</span></span></code> </pre> <br>  The names of the arguments speak for themselves: elem is the element to be resized, event is the event object of the mousemove or mousedown element, and pad is the maximum indent from the borders in pixels (4px by default) at which you can start the resize.  Those.  when you hover the mouse closer than 4 pixels to the edge, the cursor will change and when you click the mouse, the resize will begin. <br><br>  Starting from the dimensions and coordinates of the element, as well as from the coordinates of the event, we find out which edge the cursor is: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isTop = eTop - top &lt; pad; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isRight = <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> + width - eLeft &lt; pad; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isBottom = top + height - eTop &lt; pad; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isLeft = eLeft - <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> &lt; pad; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isTop ) res = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isRight ) res = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isBottom ) res = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isLeft ) res = <span class="hljs-number"><span class="hljs-number">3</span></span>;</code> </pre> <br>  That's not all - you also need to take into account the resize diagonally: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isTop &amp;&amp; isRight ) res = <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isRight &amp;&amp; isBottom ) res = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isBottom &amp;&amp; isLeft ) res = <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isLeft &amp;&amp; isTop ) res = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; <span class="hljs-comment"><span class="hljs-comment">//       , //  res    8</span></span></code> </pre> <br>  We introduce an auxiliary variable to assign a cursor style.  We will need it in the future. <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cursors = <span class="hljs-string"><span class="hljs-string">"nwse ne se sw nw"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>(<span class="hljs-string"><span class="hljs-string">" "</span></span>);</code> </pre> <br>  Now let's start writing <i>Resizable ()</i> code directly. <br><br><pre> <code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Resizable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( elem, options )</span></span></span></span> { options = options || {}; options.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span> = options.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span> || [<span class="hljs-number"><span class="hljs-number">1E17</span></span>, <span class="hljs-number"><span class="hljs-number">1E17</span></span>]; options.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span> = options.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span> || [<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>]; options.allow = (options.allow || <span class="hljs-string"><span class="hljs-string">"11111111"</span></span>).split(<span class="hljs-string"><span class="hljs-string">""</span></span>); // [...]</code> </pre><br>  Here, <i>max</i> and <i>min</i> are the maximum and minimum dimensions of the element, and <i>allow</i> is the allowed directions (for example, the value ‚Äú11110000‚Äù will prohibit resizing diagonally). <br><br>  Change the cursor when hovering the mouse close to the edge: <br><br><pre> <code class="hljs actionscript">elem.addEventListener( <span class="hljs-string"><span class="hljs-string">"mousemove"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( e )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dir = direction( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, e ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( options.allow[dir] == <span class="hljs-string"><span class="hljs-string">"0"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.style.cursor = dir == <span class="hljs-number"><span class="hljs-number">8</span></span> ? <span class="hljs-string"><span class="hljs-string">"default"</span></span> : cursors[ dir ] + <span class="hljs-string"><span class="hljs-string">"-resize"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    cursors } );</span></span></code> </pre> <br>  When mousedown element call the function resizeStart, the code of which will be next.  Also prohibits text selection during resizing. <br><br><pre> <code class="hljs javascript">elem.addEventListener( <span class="hljs-string"><span class="hljs-string">"mousedown"</span></span>, resizeStart ); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.onselectstart = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> };</code> </pre> <br>  The values ‚Äã‚Äãof options will no longer be available in resizeStart, so we will cache them to use in the future. <br><br><pre> <code class="hljs swift">elem.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span> = options.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>; elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span> = options.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>; elem.allow = options.allow; elem.pos = elem.getBoundingClientRect();</code> </pre> <br>  Half the work has already been done - it remains only to resize the element, based on the direction ().  With the resize to the right and down, everything is simple - you just need to change the height and width, but when you resize up and to the left, you also have to change the coordinates of the element.  But first things first. <br><br><pre> <code class="hljs coffeescript">function resizeStart( ev ) { var dir = direction( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, ev ); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.allow[dir] == <span class="hljs-string"><span class="hljs-string">"0"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,   <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement.style.cursor = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.style.cursor = cursors[ dir ] + <span class="hljs-string"><span class="hljs-string">"-resize"</span></span>; var pos = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getBoundingClientRect(); var elem = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    mousemove  var height = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.clientHeight; var width = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.clientWidth; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>        <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  resize().    . <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"mousemove"</span></span>, resize ); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"mouseup"</span></span>, function () { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.removeEventListener( <span class="hljs-string"><span class="hljs-string">"mousemove"</span></span>, resize ); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement.style.cursor = elem.style.cursor = <span class="hljs-string"><span class="hljs-string">"default"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.onselectstart = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }); };</code> </pre> <br>  The final frontier is the internal function <i>resize ()</i> , which will do all the work. <br><a name="ifs"></a><br><pre> <code class="hljs dos">function resize ( e ) { //            //      //   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">4</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">7</span></span> ) { elem.style.top = e.clientY - ev.clientY + pos.top; elem.style.height = height + ev.clientY - e.clientY; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">1</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">4</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">5</span></span> ) { elem.style.width = e.clientX - pos.left; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">2</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">5</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">6</span></span> ) { elem.style.height = e.clientY - pos.top; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">3</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">6</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> == <span class="hljs-number"><span class="hljs-number">7</span></span> ) { elem.style.left = e.clientX - ev.clientX + pos.left; elem.style.width = width + ev.clientX - e.clientX; }</code> </pre> <br>  Additional restrictions: when resizing from top to bottom or from right to left when the minimum height or width is reached, respectively, the element starts to move down or to the right without resizing.  Therefore, we do this check: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">if</span></span> ( <span class="hljs-selector-tag"><span class="hljs-selector-tag">e</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.clientY</span></span> + <span class="hljs-selector-tag"><span class="hljs-selector-tag">elem</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.min</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">ev</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.clientY</span></span> + <span class="hljs-selector-tag"><span class="hljs-selector-tag">height</span></span> ) <span class="hljs-selector-tag"><span class="hljs-selector-tag">return</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">if</span></span> ( <span class="hljs-selector-tag"><span class="hljs-selector-tag">e</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.clientX</span></span> + <span class="hljs-selector-tag"><span class="hljs-selector-tag">elem</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.min</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[0]</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">ev</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.clientX</span></span> + <span class="hljs-selector-tag"><span class="hljs-selector-tag">width</span></span> ) <span class="hljs-selector-tag"><span class="hljs-selector-tag">return</span></span>;</code> </pre> <br>  Also check if the minimum or maximum size is reached: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( elem.clientHeight &lt; elem.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>] ) elem.style.height = elem.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( elem.clientWidth &lt; elem.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>] ) elem.style.width = elem.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( elem.clientHeight &gt; elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>] ) elem.style.height = elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( elem.clientWidth &gt; elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>] ) elem.style.width = elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( e.clientY &lt; pos.bottom - elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>] ) elem.style.top = pos.bottom - elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( e.clientX &lt; pos.<span class="hljs-keyword"><span class="hljs-keyword">right</span></span> - elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>] ) elem.style.<span class="hljs-keyword"><span class="hljs-keyword">left</span></span> = pos.<span class="hljs-keyword"><span class="hljs-keyword">right</span></span> - elem.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>];</code> </pre> <br>  I don‚Äôt know if it could have been made more elegant ... In any case, it‚Äôs necessary to work with the element size, with its coordinates, and with the coordinates of the event, and all this based on the result direction (), and taking into account the min./max. .  sizes. <br><br>  In general, the plugin is ready.  The source for js is <a href="">here</a> , and an example of work, as always at the very beginning. <br><br><h2>  Bonus: animated resizable </h2><br>  Demo page: <a href="http://sweetest.do.am/resizable/resizable2.html">Resizable 2.0</a> <br><br>  The principle of operation is similar, only the element itself is not resized, but the created div: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> helper = document.createElement( <span class="hljs-string"><span class="hljs-string">"DIV"</span></span> ); document.body.appendChild( helper ); helper.style.cssText = <span class="hljs-string"><span class="hljs-string">"position: fixed; border: 1px dashed black"</span></span>; helper.style.width = width; helper.style.height = height; helper.style.top = pos.top; helper.style.<span class="hljs-keyword"><span class="hljs-keyword">left</span></span> = pos.<span class="hljs-keyword"><span class="hljs-keyword">left</span></span>;</code> </pre> <br>  In if-ah written <a href="https://habr.com/ru/post/321612/">above</a> , instead of <i>elem there</i> will be a <i>helper</i> . <br><br>  When the mouseup of the document is animated, the element will be the size of the helper, and the helper will be deleted: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"mouseup"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.removeEventListener( <span class="hljs-string"><span class="hljs-string">"mousemove"</span></span>, resize ); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement.style.cursor = elem.style.cursor = <span class="hljs-string"><span class="hljs-string">"default"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.onselectstart = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newpos = helper.getBoundingClientRect(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> start = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime(); setTimeout( animate, <span class="hljs-number"><span class="hljs-number">10</span></span> ); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> m = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime() - start) / <span class="hljs-number"><span class="hljs-number">300</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) m = <span class="hljs-number"><span class="hljs-number">1</span></span>; elem.style.top = pos.top + (newpos.top - pos.top) * m; elem.style.left = pos.left + (newpos.left - pos.left) * m; elem.style.height = height + (helper.clientHeight - height) * m; elem.style.width = width + (helper.clientWidth - width) * m; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m &lt; <span class="hljs-number"><span class="hljs-number">1</span></span>) setTimeout( animate, <span class="hljs-number"><span class="hljs-number">10</span></span> ); } setTimeout( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.removeChild( helper );}, <span class="hljs-number"><span class="hljs-number">310</span></span> ); });</code> </pre><br>  That's all that I wanted to say. </div><p>Source: <a href="https://habr.com/ru/post/321612/">https://habr.com/ru/post/321612/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../321598/index.html">Implementation of the procedure ‚ÄúPlanning Release Release by Product‚Äù by the tools of the Atlassian family</a></li>
<li><a href="../321600/index.html">Kotlin Video Tutorial Series</a></li>
<li><a href="../321602/index.html">Procedural level generation for MERC in Unity</a></li>
<li><a href="../321604/index.html">Seminar "How much does the data center operation cost?", February 21, OST data center</a></li>
<li><a href="../321606/index.html">Home Assistant or another ‚Äúbrain‚Äù for a project like ‚ÄúSmart Home‚Äù</a></li>
<li><a href="../321614/index.html">The tale of an internship in a small company or how Kontur and I competed [Part I]</a></li>
<li><a href="../321618/index.html">Motion Detection Based on OpenCV Bioinspired Module</a></li>
<li><a href="../321620/index.html">Black magic of metaprogramming: how macros work in Rust 1.15</a></li>
<li><a href="../321622/index.html">Corporations and startups: successful cooperation models</a></li>
<li><a href="../321626/index.html">How to start a startup and not break your own life</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>