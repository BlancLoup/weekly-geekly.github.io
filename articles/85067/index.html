<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ubuntu, fake DNS Server or setting up a local DNS server for a web developer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why is this necessary. 
 On the developer‚Äôs workstation there are NN locally raised projects. This developer does the following for each project: 


1...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ubuntu, fake DNS Server or setting up a local DNS server for a web developer</h1><div class="post__text post__text-html js-mediator-article">  Why is this necessary. <br>  On the developer‚Äôs workstation there are NN locally raised projects.  This developer does the following for each project: <br><ol><li>  To work with a local copy of the project, edit the configuration of its web server (apache, lighttpd, etc.) and specify the host name for this local project in the config. </li><li>  Then restarts the web server. </li><li>  Then he goes to edit / etc / hosts. Writes there the name of the new host and the local ip. </li><li>  Then he finds out that this registered host overlaps the one that is suddenly needed on the Internet, or he was mistaken when he registered the name in the config of the web server or in hosts. </li></ol>  As a result of all this tediousness, as a rule, precious nervous energy is spent that can be spent more efficiently on something more interesting. <br><br>  What I propose to do. <br><a name="habracut"></a>  I suggest making a local domain (in the .mydev example) and shortening the procedure above to two steps: <br><ol><li>  Register a new host in the web server config with the name of the form projectname.mydev </li><li>  Restart the web server </li></ol> And that's all.  Happily we begin to finish our project by the given name. <br><br>  <b>What are we going to do, TODO</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. Install the DNS server. <br> <code>sudo apt-get install bind9</code> <br> <br>  2. Go look at the configs themselves.  The principle of this thing is that at the moment when accessing a host (this is a rough scheme), our machine goes to the DNS server issued by a provider or manually written, in accordance with the settings.  It receives from the DNS itself, and the IP address of the host is sent to the data in the direction of this IP.  We are not interested further.  <b>How will.</b>  It will be like this: when accessing a host, we will contact the local DNS server, which will check our rules and if the request does not fit our rules, then our local DNS goes and asks the same for the provider DNS.  And it gives us actually his (provider) answer.  So, we go to configs <br> <code>cd /etc/bind</code> <br> <br>  <b>REM:</b> I use mc.  We will need superuser rights, so either sudo mc or sudo mcedit filename when editing each file, I will not touch on the issue with rights later. <br><br>  3. Open the edited named.conf.options <br>  Here we are interested in the forwarders section, we need to uncomment it and specify the IP address (s) of the provider's DNS server (or maybe a router, depending on how the Internet connection is organized).  Save, exit. <br><br>  4. Open the edited named.conf.default-zones <br>  Here we need to add a new zone down.  The new section will look like this: <br> <code>zone "mydev" { <br> type master; <br> file "/etc/bind/db.mydev"; <br> }; <br></code> <br><br>  5. On the specified path create a file <br> <code>sudo cp /etc/bind/db.local /etc/bind/db.mydev</code> <br>  That is, just make a copy of the description of the local zone.  We will need to edit something in it.  So make a copy now: <br><br>  6. Open for editing db.mydev <br>  There we need to fix just a few lines.  As a result, our db.mydev will look like this: <br> <code>$TTL 604800 <br> @ IN SOA mydev. root.mydev. ( <br> 2 ; Serial <br> 604800 ; Refresh <br> 86400 ; Retry <br> 2419200 ; Expire <br> 604800 ) ; Negative Cache TTL <br> <br> @ IN NS mydev. <br> <br> @ IN A 127.0.0.1 <br> * IN A 127.0.0.1 <br> @ IN AAAA ::1 <br></code> <br>  Compare with the original db.local in order to make it clear what happened.  Essentially nothing special. <br><br>  7. Now it remains only to restart our DNS. <br> <code>sudo /etc/init.d/bind9 restart</code> <br> <br>  8. Well, now we check how it works. <br> <code>ping 11.mydev <br> ping 22.mydev <br></code> <br>  If it works, then the IP should be the one that you specified (in the example 127.0.0.1) But now nothing works.  Because‚Ä¶ <br><br>  9. I forgot to tell you about the rake.  NetworkManager automatically writes the DNS address of the provider to /etc/resolv.conf.  If an external DNS is registered there, then our crafts will not work.  Appeals to the network just go past it.  To eliminate this business, you need to go to the properties of the current Internet connection, go: <br>  <i>‚ÄúEdit connections‚Äù =&gt; Choose our connection =&gt; ‚ÄúIPv4 settings‚Äù</i> <br>  Here we indicate the IP of our local DNS (in the example 127.0.0.1), this can be done by choosing the method ‚ÄúDHCP, only address‚Äù.  That should be enough.  After that, through NetworkManager, the connection is broken and re-established.  If everything is ok, then in /etc/resolv.conf we should see our desired IP, the one that was registered as DNS in NetworkManager. <br><br>  10. Now check the result. <br><br>  That's all.  Now you can not touch / etc / hosts </div><p>Source: <a href="https://habr.com/ru/post/85067/">https://habr.com/ru/post/85067/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../85056/index.html">First Kazakhstan Independent Conference of IT Professionals</a></li>
<li><a href="../85058/index.html">Payments through the mobile at the point of sale of Privatbank</a></li>
<li><a href="../85059/index.html">Java 1.6.0_18 Update is available - what's new?</a></li>
<li><a href="../85062/index.html">How to download from torrents, have a good rating and at the same time maintain anonymity</a></li>
<li><a href="../85064/index.html">Bing Maps uses Creative Commons licensed photos</a></li>
<li><a href="../85071/index.html">Familiar voices of gamers or the right approach to the localization of "Prince of Persia"</a></li>
<li><a href="../85075/index.html">How do you feel about the development of open-source products in the process of learning?</a></li>
<li><a href="../85077/index.html">New kidalovo MTS! Everybody be alert!</a></li>
<li><a href="../85078/index.html">The second stage of LANVA in Lithuania</a></li>
<li><a href="../85080/index.html">What is the easiest way to get an invite to Spotify while in Russia ?!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>