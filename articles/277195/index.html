<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Excellent data types in the language "Author"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the ‚ÄúAuthor‚Äù interpreter, there are three different, classical, data type languages ‚Äã‚Äãthat I want to talk about in this article, namely ‚Äúdigit‚Äù, ‚Äúg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Excellent data types in the language "Author"</h1><div class="post__text post__text-html js-mediator-article">  In the ‚ÄúAuthor‚Äù interpreter, there are three different, classical, data type languages ‚Äã‚Äãthat I want to talk about in this article, namely ‚Äúdigit‚Äù, ‚Äúgraf‚Äù and ‚Äúprogram‚Äù.  They are responsible, respectively, for astronomical numbers without a floating point, a universal graph and a tree of operators and function calls with variables and constants. <br><br>  The following example demonstrates the main difference between the ‚Äúdigit‚Äù type and the ‚Äúint‚Äù type. <a name="habracut"></a><br><br><pre> // fact.txt
 var fact (n) {return n &lt;2? 1: n * fact (n-1);}

 void main () {
	 trace (fact (10));
	 trace (fact (50));
	 trace (fact ((digit) 50));
	 x = (digit) 1;
	 x.setAccuracy (63);
	 trace (x / 3.123);
	 getstring ();
 }


 3628800
 0
 30414093201713378043612608166064768844377641568960512000000000000
 0.320204931155939801472942683317323086775536343259686199167467178
</pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the first case, the calculation was correct.  In the second, an overflow of memory occurred for the ‚Äúint‚Äù type.  In the third calculation passed without problems.  This is due to the fact that the ‚Äúdigit‚Äù type is able to allocate memory for the exponent of a number as necessary.  For the number mantissa, specify the limit to avoid memory leaks when dividing, say, by three.  A method of the type ‚Äúx.setAccuracy (63);‚Äù indicates the limitation of the mantissa number in decimal places.  The type has other useful methods. <br><br>  Now I will tell a little about the universal graph.  A graph is a set of nodes and connections between them.  For the type of "graf" node exists only when it has at least one connection.  Each link has two node numbers, the corresponding value of the presence of input arrows and the name of the link.  In addition to connections between nodes, in the universal graph, there is also a connection between a node and a marker.  The marker is a string of text.  Each link to a marker has one node number, a link name and a marker name.  There are also logical values ‚Äã‚Äãfor the presence of the input arrow in the node and in the marker. <br>  The following program demonstrates the capabilities of the universal graph. <br><br><pre> // UniversalGraf.txt
 void main () {
	 // Set the graph (envelope).
	 G = (graf) 0;
	 G.NET (0.1, ‚Äúexpensive‚Äù, 1.1);
	 G.NET (0.1, "expensive", 1.4);
	 G.NET (1,1, "", 1,2);
	 G.NET (1.1, "", 1.4);
	 G.NET (1.1, "", 1.3);
	 G.NET (2.1, "", 1.3);
	 G.NET (2.1, "", 1.4);
	 G.NET (3.1, "", 1.4);
	 G.MARKER (0,0, "", 0, "Mars");
	 G.MARKER (1.0, "", 0, "Vinnitsa");
	 G.MARKER (2.0, "", 0, misto = "Guyvoron");
	 G.MARKER (3.0, "", 0, "Moscow");
	 G.MARKER (4.0, "", 0, "Gysin");
	 G.MARKER (0.1, "life", 0, "no");

	 trace (G.getMARKER (0, #, #, 0, #). export ());
	 trace (G.getNET (4, #, #, #, #). export ());

	 tracex (misto);
	 stop = n = G.getMARKER (#, 0, "", 0, misto) [0] [0];
	 do {
		 tracex ("-&gt;");
		 n = G.getNET (n, #, #, 1, #) [#] [2];
		 tracex (G.getMARKER (n, 0, "", 0, #) [0] [0]);
		 } while (stop! = n);

	 getstring ();
 }


 {{0, "", "Mars"}, {1, "life", "no"}}
 {{1, "expensive", 1.0}, {1, "", 1.1}, {1, "", 1.2}, {1, "", 1.3}}
 Gaivoron -&gt; Moscow -&gt; Vinnitsa -&gt; Moscow -&gt; Gaixing -&gt; Gaivoron
</pre><br><br>  To create a ‚Äúgraf‚Äù type variable, you need to use the type conversion operator.  Next, we set the graph itself with a form similar to an open envelope. The ‚ÄúG.getMARKER (0, #, #, 0, #)‚Äù method searches through the links of the node with the marker using the specified mask and returns an array of the found elements.  Each element is an array with the data requested in the mask.  The search mask must contain at least one unknown link detail, which is indicated by the ‚Äú#‚Äù symbol.  In the ‚ÄúAuthor‚Äù language, the ‚Äú#‚Äù symbol returns the ‚Äúvoid‚Äù value, which can be obtained, for example, from a function without ‚Äúreturn‚Äù.  The array method ".export ()" converts the nested arrays into a string.  The function "trace ()" displays a string on the screen.  The method of the graph ‚ÄúG.getNET (4, #, #, #, #)‚Äù searches for connections between nodes of the graph, taking into account the symmetry of the search, and works similarly to the search for links with markers.  When the type ‚Äúvoid‚Äù falls into the array index operator ‚Äú{3,5,9} [#]‚Äù, the interpreter returns one of the values ‚Äã‚Äãof the elements of this array, randomly equiprobable. <br>  And this is a program that looks for ways to travel "around the world." <br>  The type of graph also has other useful methods. <br>  To demonstrate the capabilities of the fundamental type of ‚Äúprogram‚Äù, I‚Äôll give the following example. <br><br><pre> // demo.txt
 var main (nirvana, paradise, skazka) {
	 if (isset (nirvana)) return paradise + nirvana + skazka;
	 f = getFunction (getThisFunctionName ());
	 pos = f.Up (f.Root ());
	 command = command2 = f.getCommand (pos);
	 trace ((string) command + "==" + eval (command));
	 trace (command.getSub ({}));
	 trace (command.getSub ({0}));
	 trace (command.getSub ({0,0}));
	 trace (command.getSub ({0,1}));
	 trace (command.getSub ({1}));
	 trace ("-----------------");
	 pos = f.Up (pos);
	 command = f.getCommand (pos);
	 trace ((string) command + "==" + eval (command));
	 trace (command.getSub ({}));
	 trace (command.getSub ({0}));
	 trace (command.getSub ({0,2}));
	 trace (command.getSub ({0,4}));
	 trace (command.getSub ({0,4,0}));
	 trace (command.getSub ({0,4,3}));
	 trace (command.getSub ({0,4,3,0}));
	 trace (command.getSub ({0,4,3,1}));
	 trace (command.getSub ({1}));
	 trace ("-----------------");
	 proga = PROGRAM ("X = # + #");
	 trace (proga);
	 proga.setSub ({1,0}, command);
	 proga.setSub ({1,1}, command2);
	 trace (proga);
	 eval (proga);
	 trace ("X ==" + X);
	 getstring ();
	 return;
	 {0,1,2,3, main (100,20,7-3)} [4];
	 (1 + 9) * 100;
 }


 (1 + 9) * 100 == 1000
 (1 + 9) * 100
 1 + 9
 one
 9
 100
 -----------------
 {0,1,2,3, main (100,20,7-3)} [4] == 124
 {0,1,2,3, main (100,20,7-3)} [4]
 {0,1,2,3, main (100,20,7-3)}
 2
 main (100,20,7-3)
 main
 7-3
 7
 3
 four
 -----------------
 X = # + #
 X = {0,1,2,3, main (100,20,7-3)} [4] + (1 + 9) * 100
 X == 1124
</pre><br>  The first line of the function algorithm indicates the terminal branch of recursion.  Next, the variable "f" gets access to the function in which it is located.  Then, the variable ‚Äúpos‚Äù gets the unique identifier of the last node in the (block) scheme of the algorithm that the function turned into at the time of execution.  The last node is above the zero node.  Next, we get a copy of the command, which is located in the last node of the algorithm scheme.  The ‚Äúteam‚Äù itself is an object of the ‚Äúprogram‚Äù type.  It is a tree of operators and function calls with variables and constants.  Any command can be both converted to text and executed.  With the help of the ‚Äúcommand.getSub ({})‚Äù type method, you can copy a branch from a tree by specifying an access path, in this case the whole tree will be copied. <br>  The ‚ÄúPROGRAM ()‚Äù function converts a string of program text into the ‚Äúprogram‚Äù type. <br>  The type has other useful methods. <br><br>  <a href="http://habrahabr.ru/post/277145/">more</a> |  <a href="http://habrahabr.ru/post/277305/">There is a continuation.</a> </div><p>Source: <a href="https://habr.com/ru/post/277195/">https://habr.com/ru/post/277195/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../277183/index.html">Example module for Magento 2 in a different way</a></li>
<li><a href="../277185/index.html">The digest of interesting materials for the mobile developer # 140 (on February 8-14)</a></li>
<li><a href="../277189/index.html">Putting XGBoost under OS X</a></li>
<li><a href="../277191/index.html">Ballad about SharePoint</a></li>
<li><a href="../277193/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ198 (February 7 - 14, 2016)</a></li>
<li><a href="../277197/index.html">PHP Digest number 79 - interesting news, materials and tools (February 1 - 14, 2016)</a></li>
<li><a href="../277201/index.html">Yii 2.0.7</a></li>
<li><a href="../277203/index.html">FBD game ‚Äú2048‚Äù per hour</a></li>
<li><a href="../277209/index.html">Installing and configuring Yii2 on a shared hosting</a></li>
<li><a href="../277221/index.html">Nominal rows for JavaScript and GOST-28884-90</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>