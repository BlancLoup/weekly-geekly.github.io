<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Enterprise OpenStack and Database as a Service (DBaaS)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Posted by: John Devereaux 

 As OpenStack evolves and the community provides new functionality at the request of private and corporate clients, there ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Enterprise OpenStack and Database as a Service (DBaaS)</h1><div class="post__text post__text-html js-mediator-article">  <i>Posted by: John Devereaux</i> <br><br>  As OpenStack evolves and the community provides new functionality at the request of private and corporate clients, there is one important service that should benefit from infrastructure as a service (IaaS) managed by OpenStack, which is the database as a service (dBaaS).  The development of dBaaS focused efforts of the participants of the project OpenStack called Trove.  Most Trove conversations revolve around the open source MySQL database, but other enterprise-level databases, such as Oracle dB 12c, can actually run under Trove‚Äôs control, such as the actual functionality that the company should provide with Trove, including including multi-tenancy. <a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/habr/post_images/919/04e/1e5/91904e1e556b895ac6d2d5dc9e652eeb.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Database as a service (DBaaS) </h5><br>  Database (DB) is one of the most critical services for an enterprise.  Its function is to store data, make it possible to search, analyze and extract data for applications.  Clients need the ability to scale both relational and non-relational cloud databases.  The main objective of the Trove project is to provide OpenStack users with the ability to easily and efficiently manage the database, bypassing the complexity associated with the administration of the database itself. <br><br>  At the moment, the Trove model looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc7/263/378/fc7263378c02a421f861ed4daa824637.png" alt="image"><br><br>  Be that as it may, another important goal of a Trove project is to allocate resources and automate complex operations, which are usually performed by a maintenance engineer / DBA.  These include: deploying the database, applying database patches, backing up data and restoring the database, monitoring the database and setting up a new database. <br><br><h5>  Trove today </h5><br>  To date, the process of creating an instance of a database based on the current Trove build looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5e/7f6/9b1/b5e7f69b10933d183d896d6aedcc0f36.png" alt="image"><br><br>  This corresponds to the steps below: <br><br>  Step 1: A request to create a virtual database is sent. <br>  Step 2: A request is made for authentication via Keystone. <br>  Step 3: A copy of the Trove is provided (which also leads to the creation of a new VM on which the database will run). <br>  Step 4: Trove returns a response that includes the description of the instance, including: <br><br>  a.ID instance <br><br>  b.Type or version of data storage <br><br>  c. size of volume <br><br>  d.IP address of instance <br><br>  e. Other requested or required variables <br><br>  At the moment, the limitation of the OpenStack DBaaS platform is that Trove so far supports only the operation of instances with one tenant.  One of the new features of Oracle dB 12c is multi-tenancy, which is a critical functionality currently being implemented by customers such as Thomson Reuters and other financial companies.  Considering the growing interest in OpenStack on their part, including the implementation of this functionality in a development plan is critical for attracting clients in the financial sector. <br><br><h5>  Multi-Affinity and Trove </h5><br><br>  A multi-tenant architecture allows a single instance of software (software) to provide services to multiple clients.  Each such client is called a tenant.  Tenants may be able to customize some components of the application, such as the color of the user interface, but they do not have the ability to customize the application code. <br><br>  A multi-tenant architecture can be economical, since in this case the costs of software development and maintenance are shared between tenants.  It can be opposed to a single tenant architecture (single-tenancy), in which each client has their own copy of the software, and can also have access to the code.  With a multi-tenant architecture, the provider needs to do updates only once.  With a single tenant architecture, it is necessary for the provider to reach several software instances to apply the updates. <br><br>  The current Oracle plan for the OpenStack Trove: <br><br>  1. Each tenant receives a dedicated copy of the database. <br>  a. based on a preconfigured VM image; <br><br>  b. the tenant works at the compute node / nodes and at the node / nodes for storing data. <br><br>  2. The client has the ability to fully control the services. <br>  3. Support should be provided for any database application, any database query language and connection methods. <br>  4. Oracle will change its licensing model for every CPU / core for the first time and announce the monthly subscription prices. <br>  To implement these changes, Trove needs to slightly modify the architecture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/792/557/fde/792557fdeea2b0f3e8e2a57b8f6ecd6b.png" alt="image"><br><br>  In this case, the task flow looks like this: <br>  1. The user sends a request to the database (in our case it is a portable database (PDB). <br><br>  2.Keystone receives an authorization request. <br><br>  3. Provided container database (DC): <br>  a. The guest agent asks Oracle to create a PDB. <br><br>  b.Oracle creates a PDB. <br><br>  c.Oracle sends a response to the guest agent with connection attributes. <br><br>  4. The reply containing the credentials of the connection is returned to the user. <br><br>  For this to work, the Trove project requires the following components: <br>  a.API-server (API Server) - receives requests and calls directly to the guest agents for solving operational tasks, such as obtaining a list of database users, but it calls the task manager to solve complex periodic tasks. <br><br>  b. The Message Bus is a message queue broker (Messaging Queue Broker) that routes messages between API points, such as a task manager and a guest agent, via HTTP requests. <br><br>  c. The Task Manager is the ‚Äúworkhorse‚Äù of the system, which is responsible for provisioning instances, monitoring the life cycle of each instance and performing operations on any instance.  It interacts with the API server, receiving and responding to messages.  Remember, both Task Manager and the API server need to call HTTP functions to access OpenStack services. <br><br>  d. Guest Agent ‚Äî A service running on a guest instance that is running a database and managing and executing operations in the data warehouse.  It provides online data storage and sends the heartbeat signal to the API via the Conductor service. <br><br>  e. Conductor is a guest service running on a host that is responsible for receiving messages from guest instances to update information on a host.  When performing database backup, Explorer performs the necessary actions using RPC messages transmitted via the message bus, as follows: <br><br>  1.trove-conductor is the entry point <br><br>  2.RpcService, configured in /etc/trove/trove-conductor.conf, defines the conductor manager <br><br>  3. Requests are in the message queue. <br><br>  4. Heartbeat updates the status of all instances.  There are three main options: NEW (NEW), BUILDING (CREATED) and ACTIVE (ACTIVE).  You can add other statuses. <br><br>  However, Trove is not quite ready for such a new structure. <br><br><h4>  In perspective </h4><br>  The community development plan for the Icehouse release includes the following items: <br>  ‚Ä¢ Kernel generalization to improve extensibility. <br><br>  ‚Ä¢ Support for database versions with multiple cores. <br><br>  ‚Ä¢ Support for provisioning and cluster management. <br><br>  ‚Ä¢ Extensibility for building complete architectures (using Conductor and Scheduler components). <br><br>  ‚Ä¢ Support for functionalities like ‚Äúparameters-group‚Äù of the Amazon relational database service. <br><br>  ‚Ä¢ Automate and run tasks on a schedule. <br><br>  ‚Ä¢ Designate / Ceilometer support. <br><br>  ‚Ä¢ Automation of failure handling. <br><br>  ‚Ä¢ Coverage of Tempest tests. <br><br>  For today in this list is absent, though there should be multi-lending.  When using services such as Murano (it allows your users to choose which database service to deploy with the appropriate settings of the variety), the ability to determine the amount of resources that need to be allocated for a given tenant is attractive to corporate clients who want to make maximum use of the orchestration tool for combining the management and operation of the components of their equipment and software.  Murano, for example, enhances access control using the Keystone service, which guarantees access only to specified users and allows Trove to interact with guest agents, which makes it possible to quickly create a database. <br>  All of this functionality is attractive to enterprise-level users, and for many this is enough.  But for those customers who need an additional level of corporate functionality, the development plan for Trove should include movement in this direction. <br><br>  Original article <a href="https://www.mirantis.com/blog/enterprise-openstack-dbaas/">in English</a> . </div><p>Source: <a href="https://habr.com/ru/post/240951/">https://habr.com/ru/post/240951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240939/index.html">Facebook launched a system for collecting and checking data compromised accounts</a></li>
<li><a href="../240941/index.html">Distributed computing for housing search</a></li>
<li><a href="../240943/index.html">SimBank or 200 SmartCard in one box</a></li>
<li><a href="../240945/index.html">How to rubyte survive OSX 10.10 Yosemite update</a></li>
<li><a href="../240947/index.html">New service: virtual private cloud</a></li>
<li><a href="../240953/index.html">Musical publics in a new way, or how I did Public Radio</a></li>
<li><a href="../240955/index.html">Microsoft DocumentDB: Article One, Introduction</a></li>
<li><a href="../240957/index.html">Develop CSS in GitHub</a></li>
<li><a href="../240961/index.html">Dell Solutions Forum 2014: registration is open</a></li>
<li><a href="../240963/index.html">Fujitsu LifeBook U904 Ultrabook Video Review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>