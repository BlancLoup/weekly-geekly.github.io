<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>#DockerCon #DockerCon #DockerCon Production and Persistence for Containers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the end of June 2015, a conference for Docker developers was held in San Francisco, USA. We bring to your attention the story of EMC engineer Ryan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>#DockerCon #DockerCon #DockerCon Production and Persistence for Containers</h1><div class="post__text post__text-html js-mediator-article">  At the end of June 2015, a conference for Docker developers was held in San Francisco, USA.  We bring to your attention the story of EMC engineer Ryan Wollner about how DockerCon 2015 passed, about the get-together and the ecosystem around the conference. <br><br><img src="https://habrastorage.org/files/373/bfd/4db/373bfd4dbf3d43e8a91adf5fdb99c727.png" height="300" alt="DockerCon15 Logo"><br><a name="habracut"></a><br>  I have been involved in the open source community for more than 5 years, I have been working in network technologies, PaaS infrastructure and containerization technologies.  Participation in projects such as OpenFlow / SDN, OpenStack was held with varying success, but Docker objectively collects now the maximum attention from the technical community. <br><br>  Developers around the world pay a lot of attention to embedded architectures, logging, monitoring, data migration, networking, and running <a href="http://12factor.net/ru/processes">stateful services</a> in containers.  Before diving deeper into the topic of persistence volumes and showing the results of the work of my team, I want to highlight several topical topics of the conference and the community as a whole. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      One of the themes of DockerCon 2015 was the use of Docker in production.  Depending on who you ask about your experience with Docker and exactly how it was used, the answers will be different.  Production using containers with microservices can be ‚Äúhell‚Äù, as Brian Cantrill put it (if you haven‚Äôt seen Brian‚Äôs talk about Unix philosophy and debugging at the implementation stage, I highly recommend watching any video recordings of his reports, especially from O'Reilly conference, which was held on the eve of DockerCon).  But, on the other hand, it helps to split applications into limited domains with a high degree of controllability, and development teams are able to efficiently carry out the CI / CD debugging / delivery / deployment process.  Open source code <a href="https://netflix.github.io/">Netflix on github</a> is a confirmation of this, and Andrian Cockcroft rather deeply delved into the topic.  You can also see <a href="http://aucouranton.com/2015/04/10/what-would2-microservices-do/">my post</a> about microservices, which will help you understand the context. <br><br>  Is Docker good for sales?  Below I will describe the moments that you need to know before using Docker in production.  I would also like to add that each of the items is a separate big DockerCon theme. <br><br><h2>  Network </h2><br>  The interaction between the Docker company and the <a href="http://socketplane.io/">Socketplane</a> startup resulted in the possibility of using <a href="https://github.com/docker/libnetwork">Libnetwork</a> technology in projects, which allows you to connect Docker daemons from different hosts, which simplifies the transfer of IP traffic to the container on top of the data link layer of the network.  Libnetwork is supported from outside the main Docker daemon, does not depend on the network implementation and, most importantly, hides the implementation details from the user, allowing the entire system to ‚Äújust work‚Äù. <br><br><h2>  Security </h2><br>  I spoke with Eric Windisch of Docker, who said that the security of the Docker engine had always received key attention, since any vulnerability in it would mean a threat to the container.  Large-scale work is underway to improve the code in the security subsystem, as well as other tools based on <a href="http://wiki.apparmor.net/index.php/Main_Page">AppArmor</a> and <a href="http://selinuxproject.org/">SELinux are used</a> .  It is very curious how the Docker security subsystem will unfold in conjunction with projects such as <a href="https://vmware.github.io/lightwave/">VMWare Lightwave</a> . <br><br><h2>  Logging, monitoring, manageability </h2><br>  Containers are, of course, cool, but by running a thousand or ten thousand containers at the same time, you realize the need for a tool that would allow you to effectively debug, monitor and manage them.  And it seems that we are waiting for a decision.  Project Orca, <a href="http://siliconangle.com/blog/2015/06/29/docker-founder-discusses-the-industry-and-project-orca-dockercon/">announced by Docker founder Solomon Hicks</a> , aims to connect the Docker Engine, Docker Swarm, GUI, Docker Compose, as well as security, installation, deployment and configuration tools.  Of course, it is not necessary to run Docker through Orca, but it would be great to have a way to get all of the above, without losing speed and control.  Other tools (loggly, <a href="https://github.com/google/cadvisor">cadvisor</a> , ruzit, datalog, log entries) are competing for a place on this list, and this is just great! <br><br><h2>  Extensibility </h2><br>  Docker gives the initiative to the community, stating that it wants to be an extensible tool that allows various plugins to work with the network, authentication, data warehouses.  Currently there is VMWare Lightwave for authentication and EMC ScaleIO for storage persistence.  Not so bad, considering that Docker is just two years old! <br><br><h2>  Persistent-services with preservation of internal state </h2><br>  EMC and <a href="https://clusterhq.com/">ClusterHQ</a> did a great job together by creating the open source project <a href="https://github.com/ClusterHQ/flocker">Flocker</a> .  It allows you to manage container volumes and provides data migration and high availability of volumes in situations where you need to restore containerized applications. <br><br>  Also of great interest at the conference was the announcement of extensions of Docker's native volumes.  Despite the experimental status, starting from version 1.7.x, these extensions provide various options for managing services while maintaining internal state.  Flocker itself can work with Docker-volume extensions using the flag volume-driver = flocker, <a href="https://github.com/ClusterHQ/flocker-docker-plugin">if you</a> use the <a href="https://github.com/ClusterHQ/flocker-docker-plugin">Flocker-Docker plugin</a> . <br><br>  The result of <a href="https://clusterhq.com/2015/06/17/emc-partnership/">interaction</a> with ClusterHQ was the publication on GitHub of the source of drivers that allow working with <a href="https://github.com/emccorp/scaleio-flocker-driver">EMC ScaleIO</a> and <a href="https://github.com/emccorp/xtremio-flocker-driver">EMC XtremIO</a> .  In the Pivotal lab in San Francisco, we demonstrated the full capabilities of the drivers.  As a result, people gathered to watch demos for beer and conversations in an informal setting.  This <a href="https://gist.github.com/wallnerryan/7ccc5455840b76c07a70">link</a> is a demo of ScaleIO, which we showed at a meeting dedicated to the work of Flocker + ScaleIO, deployed on Amazon AWS using the MEAN-stack of applications that have downloaded data from Twitter and placed in MongoDB.  Slides from the meeting are also available <a href="http://slides.com/ryanwallner/persistence-docker-chq-emc/live">here</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9c7/fd3/077/9c7fd307764aaaddced46d4826ab0278.jpg" alt="image"><br><br>  Not all DockerCon guests had enough seats, many listeners stood or sat on the floor for the entire session.  We hoped that we would have a little more time so that the guys with laptops had the opportunity to hack our demo, but 40 minutes were not enough for us.  They did everything they could! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4da/868/914/4da86891446285d588d5fa10c42a1522.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/017/ae5/1a2/017ae51a29c35eb68dc7662463ada2aa.jpg" alt="image"><br><br>  Through a native Go implementation called <a href="https://github.com/emccode/rexray">RexRay</a> , EMC integrates persistence volume management paths, but without the automatic data migration that Flocker produces.  The possibilities of RexRay are quite wide, for example, you can use several backends at the same time, say, EC2 EBS + EMC ScaleIO. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/rF8Bc3HZnAU%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgO0aIWKHNuVMA5WH1A3QRgRjaX6A" frameborder="0" allowfullscreen=""></iframe><br><br>  In general, persistence and containers continue to be relevant, and for good reason.  In the beginning, processes that did not preserve the internal state ( <a href="http://12factor.net/ru/processes">stateless</a> ) and the methodology of the twelve factors were in trend.  But all this is divorced from reality.  The community understands that states exist, and the launch of stateful processes in containers, for example, databases, is really relevant for the world of microservices.  Each container is in some state, even if it is a ‚Äústateless‚Äù state.  For example, there may be states in memory such as executable applications and open sockets with which you need to work in certain cases, for example, during data migrations on the fly. <br><br>  Data becomes extremely important in a container environment.  As the mapping of the container architecture mappings, it becomes necessary to add consistency of data.  Integrity and availability will be required for services that maintain internal state.  Add to this all more industrial storage.  The conference proposed various solutions to this problem, here are some of them: <br><br>  ‚Ä¢ <a href="https://crate.io/">Crate.io</a> .  Scalable distributed database that is installed on the application server. <br>  ‚Ä¢ <a href="https://clusterhq.com/">ClusterHQ / Flocker.</a>  An open source container volume manager that allows you to containerize databases and other stateful processes, as well as move them without worrying about the backend. <br>  ‚Ä¢ Red Hat <a href="http://redhatstorage.redhat.com/2015/06/22/red-hat-drives-deeper-integration-of-persistent-storage-for-containerized-environments/">announced</a> the integration of persistent storage for containers using RHS (Red Hat Storage). <br>  ‚Ä¢ Nutanix <a href="http://itbloodpressure.com/2015/06/22/nutanix-volume-api-and-containers-dockercon/">spoke</a> about the Volume API, which will help ensure the sustainability of containers on their platform. <br>  ‚Ä¢ Portworx.  It seems this is a new startup that will compete with ClusterHQ.  The <a href="http://venturebeat.com/2015/06/22/container-storage-startup-portworx-puts-away-8-5m/">announcement</a> tells how the ‚Äúpart‚Äù of their platform will become open source. <br>  ‚Ä¢ Kubernetes support for repositories.  Kubernetes updated the GitHub <a href="">documentation</a> , which reflects the ability to use the Google Cloud persistant disk with k8s. <br><br>  In general, it was a great DockerCon, full of fun events, great guys and innovative technologies.  Hope to see you <a href="http://europe-2015.dockercon.com/">in Barcelona in November</a> ! <br><br><img src="https://habrastorage.org/files/eaa/4e9/e46/eaa4e9e469da411c9fce8a475c6beb48.jpg"></div><p>Source: <a href="https://habr.com/ru/post/263055/">https://habr.com/ru/post/263055/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263043/index.html">Open Source Virtualization: Report on Innovations and Approaches to Virtualization of Corporate Infrastructure</a></li>
<li><a href="../263045/index.html">What did antivirus think about in the past?</a></li>
<li><a href="../263047/index.html">A selection of current and useful materials on Ruby # 1: articles, reports, podcasts, gems</a></li>
<li><a href="../263051/index.html">Federal Business Intensive Development Program GenerationS has selected IBM Cloud to create an online platform</a></li>
<li><a href="../263053/index.html">How to organize distributed database design?</a></li>
<li><a href="../263059/index.html">Live Webcast Launch Visual Studio 2015</a></li>
<li><a href="../263061/index.html">7 rules for creating beautiful interfaces. Part 2</a></li>
<li><a href="../263063/index.html">What else can a browser know about you?</a></li>
<li><a href="../263065/index.html">Release of InterSystems Cach√© 2015.2 DBMS</a></li>
<li><a href="../263067/index.html">About Burali-Forti, Poincar√© and the very definition of a unit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>