<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why PostgreSQL is better than other open source SQL databases. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, let's talk about the benefits of Postgres over other open source systems. We will certainly reveal this topic in more detail on PG Day'16 Russi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why PostgreSQL is better than other open source SQL databases. Part 1</h1><div class="post__text post__text-html js-mediator-article">  <i>Today, let's talk about the benefits of Postgres over other open source systems.</i>  <i>We will certainly reveal this topic in more detail on PG Day'16 Russia, which is only two months away.</i> <br><br>  You may be asking yourself: ‚ÄúWhy PostgreSQL?‚Äù There are other options for open source relational databases (in this article, we looked at MySQL, MariaDB and Firebird), so what can Postgres offer something they don‚Äôt have?  The PostgreSQL slogan states that it is "The most advanced open source database in the world."  We give several reasons why Postgres makes such statements. <br><br>  In the first part of this series, we‚Äôll talk about data storage ‚Äî model, structure, types, and size restrictions.  And in the <a href="https://habrahabr.ru/post/302160/">second part we</a> focus more on sampling and data manipulation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/55e/cd4/c53/55ecd4c5366945669223173c42ddd25a.png"><br><a name="habracut"></a><br><h3>  <font color="#000000">Data model</font> </h3><br>  PostgreSQL is not just a relational, but an object-relational database.  This gives it some advantages over other open source SQL databases, such as MySQL, MariaDB and Firebird. <br><br>  The fundamental characteristic of an object-relational database is the support of user objects and their behavior, including data types, functions, operations, domains, and indices.  This makes Postgres incredibly flexible and reliable.  Among other things, he knows how to create, store and retrieve complex data structures.  In some examples below, you will see nested and composite constructs that are not supported by standard RDBMS. <br><br><h3>  <font color="#000000">Structures and data types</font> </h3><br>  There is an extensive list of data types that Postgres supports.  In addition to numeric, floating-point, text, boolean, and other expected data types (as well as their many variations), PostgreSQL boasts support for uuid, money, enumerated, geometric, binary types, network addresses, bit strings, text search, xml, json , arrays, composite types and ranges, as well as some internal types for identifying objects and log locations.  It is fair to say that MySQL, MariaDB and Firebird also have some of these data types, but only Postgres supports them all. <br><br>  Let's take a closer look at some of them: <br><br><h6>  <b><font color="#000000">Network addresses</font></b> </h6><br>  PostgreSQL provides storage of various types of network addresses.  The CIDR data type (classless Internet Domain Routing, Classless Internet Domain Routing) follows the convention for IPv4 and IPv6 network addresses.  Here are some examples: <br><ul><li>  192.168.100.128/25 </li><li>  10.1.2.3/32 </li><li>  2001: 4f8: 3: ba: 2e0: 81ff: ‚Äã‚Äãfe22: d1f1 / 128 </li><li>  :: ffff: 1.2.3.0/128 </li></ul><br>  Also available for storing network addresses is the INET data type, used for IPv4 and IPv6 hosts, where subnets are optional.  The MACADDR data type can be used to store MAC addresses to identify hardware, such as 08-00-2b-01-02-03. <br><br>  MySQL and MariaDB also have INET functions for converting network addresses, but they do not provide data types for internal storage of network addresses.  Firebird also has no types for storing network addresses. <br><br><h6>  <b><font color="#000000">Multidimensional arrays</font></b> </h6><br>  Since Postgres is an object-relational database, value arrays can be stored for most existing data types.  This can be done by adding square brackets to the data type specification for the column or by using the ARRAY expression.  The size of the array can be specified, but this is optional.  Let's look at the holiday picnic menu to demonstrate the use of arrays: <br><br><pre><code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--  ,      CREATE TABLE holiday_picnic ( holiday varchar(50) --   sandwich text[], --  side text[] [], --   dessert text ARRAY, --  beverage text ARRAY[4] --   4-  ); --      INSERT INTO holiday_picnic VALUES ('Labor Day', '{"roast beef","veggie","turkey"}', '{ {"potato salad","green salad","macaroni salad"}, {"chips","crackers"} }', '{"fruit cocktail","berry pie","ice cream"}', '{"soda","juice","beer","water"}' );</span></span></code> </pre> <br>  MySQL, MariaDB, and Firebird do not know how.  To store such arrays of values ‚Äã‚Äãin traditional relational databases, you have to use a workaround and create a separate table with rows for each of the array values. <br><br><h6>  <b><font color="#000000">Geometric data</font></b> </h6><br>  Location data is quickly becoming a basic requirement for many applications.  PostgreSQL has long supported many geometric data types, such as points, lines, circles, and polygons.  One of these types is PATH, it consists of a set of consecutive points and can be open (the start and end points are not connected) or closed (the start and end points are connected).  Let's take the hiking trail as an example.  In this case, the hiking trail is a loop, so the starting and ending points are connected, and it means that my path is closed.  Parentheses around a set of coordinates indicate a closed path, and square brackets indicate an open one. <br><br><pre> <code class="sql hljs"> <span class="hljs-comment"><span class="hljs-comment">--      CREATE TABLE trails ( trail_name varchar(250), trail_path path ); --    , --        - INSERT INTO trails VALUES ('Dool Trail - Creeping Forest Trail Loop', ((37.172,-122.22261666667), (37.171616666667,-122.22385), (37.1735,-122.2236), (37.175416666667,-122.223), (37.1758,-122.22378333333), (37.179466666667,-122.22866666667), (37.18395,-122.22675), (37.180783333333,-122.22466666667), (37.176116666667,-122.2222), (37.1753,-122.22293333333), (37.173116666667,-122.22281666667)));</span></span></code> </pre><br>  The PostGIS extension for PostgreSQL complements the existing properties of geometric data with auxiliary spatial types, functions, operators, and indexes.  It provides location support and supports both raster and vector data.  It also provides compatibility with many third-party geospatial tools (copyrighted and open source) for displaying, drawing, and working with data. <br><br>  Note that in MySQL 5.7.8 and in MariaDB, starting with version 5.3.3, data type extensions have been added to support the OpenGIS geographic information standard.  This version of MySQL and subsequent versions of MariaDB offer data type storage similar to that provided by Postgres geodata.  However, in MySQL and MariaDB, data values ‚Äã‚Äãmust first be converted to geometric format with simple commands before being inserted into a table.  Firebird does not currently support geometric data types. <br><br><h6>  <b><font color="#000000">JSON support</font></b> </h6><br>  JSON support in PostgreSQL allows you to move to storing schema-less data in an SQL database.  This can be useful when the data structure requires a certain amount of flexibility: for example, if during the development process the structure is still changing or it is not known which fields will contain the data object. <br><br>  The JSON data type provides validation JSON, which allows the use of specialized JSON operators and functions built into Postgres to execute queries and manipulate data.  The JSONB type is also available - a binary version of the JSON format, in which spaces are removed, the sorting of objects is not preserved, instead they are stored in the most optimal way, and only the last value for duplicate keys is stored.  JSONB is usually the preferred format, because it requires less space for objects, can be indexed and processed faster, as it does not require re-parsing. <br><br>  Support for embedded JSON objects has been added to MySQL 5.7.8 and MariaDB 10.0.1.  But, although there are many functions and operators for JSON that are now available in these databases, they are not indexed like JSONB in ‚Äã‚ÄãPostgreSQL.  Firebird has not yet joined the trend and only supports text JSON objects. <br><br><h6>  <b><font color="#000000">Creating a new type</font></b> </h6><br>  If it so suddenly happens that there is not enough of an extensive list of Postgres data types, you can use the CREATE TYPE command to create new data types, such as composite, enumerated, range, and base.  Consider an example of creating and sending requests of a new composite type: <br><br><pre> <code class="sql hljs"> <span class="hljs-comment"><span class="hljs-comment">--     "wine" CREATE TYPE wine AS ( wine_vineyard varchar(50), wine_type varchar(50), wine_year int ); --  ,     "wine" CREATE TABLE pairings ( menu_entree varchar(50), wine_pairing wine ); --        ROW INSERT INTO pairings VALUES ('Lobster Tail',ROW('Stag''s Leap','Chardonnay', 2012)), ('Elk Medallions',ROW('Rombauer','Cabernet Sauvignon',2012)); /*        ( ,        ) */ SELECT (wine_pairing).wine_vineyard, (wine_pairing).wine_type FROM pairings WHERE menu_entree = 'Elk Medallions';</span></span></code> </pre><br>  Since they are not object-relational, MySQL, MariaDB and Firebird do not provide such powerful functionality. <br><br><h3>  <font color="#000000">Data size</font> </h3><br>  PostgreSQL can handle a lot of data.  Current published restrictions are listed below: <br><br><table><tbody><tr><td>  Maximum database size </td><td>  Is not limited </td></tr><tr><td>  Maximum table size </td><td>  32 TB </td></tr><tr><td>  Maximum row size </td><td>  1.6 TB </td></tr><tr><td>  Maximum field size </td><td>  1 GB </td></tr><tr><td>  Maximum number of rows in the table </td><td>  Not limited </td></tr><tr><td>  Maximum number of columns in a table </td><td>  250-1600 depending on the type of column </td></tr><tr><td>  Maximum number of indexes in a table </td><td>  Not limited </td></tr></tbody></table><br>  In Compose [app.  Lane: the organization in which the author of the original article works] we automatically scale your installation so that you don‚Äôt have to worry about increasing the amount of data.  But, as any database administrator knows, it is worth being wary of too large and unlimited possibilities.  We advise you to use common sense when creating tables and adding indexes. <br><br>  By comparison, MySQL and MariaDB are notorious for limiting the size of 65,535 byte rows.  Firebird also offers only 64KB as the maximum line size.  Typically, the amount of data is limited to the maximum file size of the operating system.  Since PostgreSQL can store table data in many smaller files, it can bypass this limitation.  But it is worth noting that too many files can negatively affect performance.  MySQL and MariaDB support a larger number of columns in the table (up to 4.096 depending on the type of data) and larger individual table sizes than PostgreSQL, but the need to exceed the existing Postgrese constraints occurs only in extremely rare cases. <br><br><h3>  <font color="#000000">Data integrity</font> </h3><br>  Postgres seeks to conform to the ANSI-SQL: 2008 standard, meets the requirements of ACID (atomicity, consistency, isolation and reliability) and is known for its referential and transactional integrity.  Primary keys, limiting and cascading foreign keys, unique constraints, NOT NULL constraints, check constraints, and other data integrity functions ensure that only correct data is stored. <br><br>  MySQL and MariaDB are working more to conform to the SQL standard with the InnoDB / XtraDB table engines.  They now offer the STRICT option using SQL modes, which sets validation checks on the data used.  Despite this, depending on which mode you use, invalid or even truncated data without your knowledge may be inserted or created during the update.  None of these databases currently support CHECK restrictions.  In addition, they have many peculiarities regarding the referential integrity constraints on foreign keys.  In addition to the above, data integrity can be significantly affected depending on the storage engine chosen.  MySQL (and fork MariaDB) makes no secret of the fact that they have traded integrity and compliance with standards for speed and efficiency. <br><br><h3>  <font color="#000000">Summing up</font> </h3><br>  Postgres has many possibilities.  Created using the object-relational model, it supports complex structures and a wide range of built-in and user-defined data types.  It provides enhanced data capacity and has earned trust with respect for data integrity.  You may not need all the advanced data storage functions that we explored in this article, but since needs can grow quickly, there is an undoubted advantage to have it all at your fingertips. <br><br>  If it seems to you that PostgreSQL does not meet your needs, or you prefer to shoot from the hip, then you should pay attention to the NoSQL databases that we offer in Compose, or to think about other SQL databases that we mentioned.  Each of them has its advantages.  Compose is firmly convinced that it is very important to choose the right database for a specific task ... sometimes it means that you need to select several databases! <br><br>  Want more Postgres?  <a href="https://habrahabr.ru/post/302160/">In the second part of</a> this series, we will look at data manipulations and searches in PostgreSQL, including virtual table functions, query capabilities, indexing and language extensions. </div><p>Source: <a href="https://habr.com/ru/post/282764/">https://habr.com/ru/post/282764/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282744/index.html">Microsoft improves Windows 10 kernel security mechanisms</a></li>
<li><a href="../282750/index.html">Analysis of English text with a cup of coffee "JavaSE8"</a></li>
<li><a href="../282752/index.html">Chewing Algorithm for Touchscreen</a></li>
<li><a href="../282756/index.html">Code examples for the Internet of things: smart sprinkler</a></li>
<li><a href="../282760/index.html">Hire an identity, not a skill set. My most important questions in the interview</a></li>
<li><a href="../282766/index.html">4 tools on the shelves. Project Management with WBS, Gantt Chart, CPM and Time-Cost</a></li>
<li><a href="../282770/index.html">Recovering PostgreSQL data after pg_control loss</a></li>
<li><a href="../282772/index.html">The digest of interesting materials from the world of Drupal # 20</a></li>
<li><a href="../282776/index.html">Linux programming interface</a></li>
<li><a href="../282778/index.html">Journey to Onionland: hacking a hidden service from the darknet in the task NeoQUEST-2016</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>