<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integration of maps into your Android application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are many different ideas for the implementation of which you may need maps on mobile devices. 
 The capabilities of such devices allow quite qui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integration of maps into your Android application</h1><div class="post__text post__text-html js-mediator-article">  There are many different ideas for the implementation of which you may need maps on mobile devices. <br>  The capabilities of such devices allow quite quickly obtain location information, graphic data and graphic transformations for displaying the landscape size. <br><br>  In this article I will explain how to integrate the ability to view maps for mobile devices based on Android, using the example of Yandex Maps and Google Maps. <br>  The functional library of these companies allows you to: <ul><li>  Move card </li><li>  Zoom </li><li>  Change card types </li><li>  Receive events from the card </li></ul><br><br><img src="https://habrastorage.org/storage1/68285ac4/68e730b2/eca9e44e/8c47d23e.png"><br><a name="habracut"></a><br>  Let's start with the domestic manufacturer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Yandex </h4><br>  The <a href="http://legal.yandex.ru/mapkit/">Yandex MapKit library</a> can be downloaded from <a href="https://github.com/yandexmobile">GitHub</a> , there is also a version for iOS. <br>  But before we start using, we need to get an API-key, for this we go to the post office and write a letter to <a href="">support@mobmaps.yandex.ru</a> , indicating the API key request in the ‚ÄúMap Kit‚Äù header.  In response, you will be sent a letter indicating additional references to the documentation, to the terms of use and, in fact, with the key itself in the body of the letter (or they may not send it, by the way). <br><br>  While we wait for the letter, we take the <a href="https://github.com/yandexmobile/yandexmapkit-android">library</a> and attach it to the project. <br><br>  After a long wait with a cup of coffee, we get acquainted with the contents of the letter and the information on the links, take the key and write the following code in your application layout: <br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ru.yandex.yandexmapkit.MapView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/map"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fill_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fill_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:apiKey</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"you are key"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  where instead of <i>"you are key"</i> insert the received key.  Everything, the card is. <br><br>  Next, the code shows how to move the map to a given coordinate and use the zoom: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MapView mMapView = (MapView) findViewById(R.id.map); <span class="hljs-comment"><span class="hljs-comment">//  MapController MapController mMapController = mMapView.getMapController(); //      mMapController.setPositionAnimationTo(new GeoPoint(60.113337, 55.151317)); mMapController.setZoomCurrent(15);</span></span></code> </pre><br><br><h4>  Google </h4><br>  To use Google Maps you need to take much more sophisticated actions.  I'll tell you how to get a debug-key to use the cards, but the process of getting a release version seems a bit more confusing, but I haven't received a release yet. <br><br>  To get a debug-key, you need to find your keystore for debugging. <br>  By default, the path will look something like this: <br><pre> <code class="bash hljs">C:\Documents and Settings\&lt;user&gt;\.android\debug.keystore</code> </pre> <br>  Then open the command line, go to the directory where Java is installed: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> C:\Program Files\Java\jre6\bin</code> </pre> <br>  Then we write: <br><pre> <code class="bash hljs">keytool -list -<span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> androiddebugkey -keystore &lt;___&gt;.keystore -storepass android -keypass android</code> </pre> <br>  where <i>path_to_to_key_stores</i> is your way to debug.keystore (be careful, there may be problems with spaces on the way). <br><br>  After that, the md5 key after the <i>‚ÄúCertificate fingerprint (MD5)‚Äù</i> will be displayed in the same window. <br>  We follow the link and register the code. <br>  Then Google will generate with the necessary code for the layout and the embedded code, take it and paste it into our layout. <br>  Next, we need to present our Activity in the following form: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.fewpeople.geoplanner; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.google.android.maps.MapActivity; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeoMapActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MapActivity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceData)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceData); setContentView(R.layout.geomap); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isRouteDisplayed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } }</code> </pre><br><br>  I note that the Activity must be inherited from MapActivity stored in com.google.android.maps.MapActivity. <br>  And in the manifest to register between tags <pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  insert: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-library</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.google.android.maps"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  And do not forget about allowing access to the Internet for the application: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.INTERNET"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><br>  The rest of GoogleMaps and YandexMapKit are very similar: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MapView mMapView = (MapView) findViewById(R.id.mapview); <span class="hljs-comment"><span class="hljs-comment">//  MapController MapController mMapController = mMapView.getController(); //      mMapController.animateTo(new GeoPoint(60.113337, 55.151317)); mMapController.setZoom(15);</span></span></code> </pre><br><br>  As you can see, the process of integrating maps into applications is quite simple, and the range of use is quite wide. <br>  More details can be found below. <br><br><h4>  Determination of own position </h4><br>  To expand the example a bit, I'll attach a piece of code: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MapView cMapView = (MapView) findViewById(R.id.map); <span class="hljs-comment"><span class="hljs-comment">//  MapController MapController cMapController = cMapView.getMapController(); //   ,   cMapView.setBuiltInZoomControls(true); //     "" final LocationManager locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE); final LocationListener locationListener = new LocationListener() { @Override public void onStatusChanged(String provider, int status, Bundle extras) {} @Override public void onProviderEnabled(String provider) {} @Override public void onProviderDisabled(String provider) {} @Override public void onLocationChanged(Location location) {} }; locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener); //  overlay     cMyLocationOverlay = new MyLocationOverlay(this, cMapView); cMyLocationOverlay.disableCompass(); cMyLocationOverlay.enableMyLocation(); cMapView.getOverlays().add(cMyLocationOverlay); //  cMapController.setZoomCurrent(15); //    (  LocationManager.NETWORK_PROVIDER,     ) Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER); //      cMapController.animateTo(new GeoPoint((int) location.getLatitude() * 1000000, (int) location.getLongitude() * 1000000));</span></span></code> </pre><br><br>  But to use this code, the following permission should be specified in the manifest: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.ACCESS_FINE_LOCATION"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><br><img src="https://habrastorage.org/storage1/1ac65a6d/bbc4474b/75373329/af708c1b.png"><br><br>  List of material used: <br>  <a href="http://developer.android.com/guide/tutorials/views/hello-mapview.html">Hello, MapView (developers.android.com)</a> <br>  <a href="http://androidrussian.blogspot.com/2011/04/google-maps-api.html">Google Maps Api receipt (temporary)</a> <br>  <a href="http://ondroid.info/poluchenie-google-maps-api-key/">Getting the Google Maps API Key</a> <br>  <a href="http://habrahabr.ru/blogs/android_development/123403/">Maps in your Android application</a> <br>  <a href="http://habrahabr.ru/blogs/android_development/129234/">We write a simple application using GoogleMap and pumped SimpleCursorAdapter</a> <br>  <a href="http://legal.yandex.ru/mapkit/">Terms of use of the Yandex Map Kit service</a> <br>  <a href="http://download.yandex.ru/company/experience/subbotnik/Hromtsov.pdf">Yandex Map Kit for Android OS in examples (Maxim Khromtsov)</a> <br>  <a href="http://kiwi.kz/watch/hzk0moliax1b/">Maxim Khromtsov.</a>  <a href="http://kiwi.kz/watch/hzk0moliax1b/">Yandex MapKit for Android OS in examples (Video)</a> </div><p>Source: <a href="https://habr.com/ru/post/131252/">https://habr.com/ru/post/131252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131246/index.html">Features and benefits of free cooling technology in the EcoBreeze data center cooling system</a></li>
<li><a href="../131247/index.html">We share cases of participation in exhibitions. # 1 Game money changer</a></li>
<li><a href="../131248/index.html">Doppler effect in networks: GSM, 3G, 4G</a></li>
<li><a href="../131249/index.html">Examples of working with different map API</a></li>
<li><a href="../131251/index.html">The "bright" future of wireless technology</a></li>
<li><a href="../131253/index.html">Governments of different countries are submitting more and more requests to Google to open access to user data</a></li>
<li><a href="../131254/index.html">Nokia N9 production process</a></li>
<li><a href="../131255/index.html">Steve Jobs, the fundamentals of success</a></li>
<li><a href="../131256/index.html">Hubot: a universal CoffeeScript bot from Github developers</a></li>
<li><a href="../131257/index.html">Social and corporate network for the education system. History of creation and development</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>