<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CRAWL dynamic pages for Google and Yandex search engines (snapshots, _escaped_fragment_, ajax, fragment)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Peace for everyone! 

 The content of the article: 

 1. What is CRAWL? 
 2. Dynamic CRAWL 
 3. Tasks, tools, solution 
 4. Read 
 5. Conclusions 



...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CRAWL dynamic pages for Google and Yandex search engines (snapshots, _escaped_fragment_, ajax, fragment)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/5ec/ad8/5f2/5ecad85f2b5a41cdb756a72556e0f501.jpg" alt="image"><br><br>  Peace for everyone! <br><br>  The content of the article: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. What is CRAWL? <br>  2. Dynamic CRAWL <br>  3. Tasks, tools, solution <br>  4. Read <br>  5. Conclusions <br><br><a name="habracut"></a><br><br><h4>  1. <b>What is CRAWL?</b> </h4><br><br>  This is a scan of site pages by search engines in order to obtain the necessary information.  The result of this scan is the html representation at the end point (each search engine has its own settings, namely, to load js or not (with or without launch), css, img, etc.) or as it is also called the ‚Äúsnapshot‚Äù of the site. <br><br><h4>  2. <b>Dynamic CRAWL</b> </h4><br><br>  Here we will talk about the dynamic CRAWL page, namely when your site has dynamic content (or as it is called Ajax content).  I have a project using Angular.js + HTML5 Router (this is when without domain.ru #! Path, and this is domain.ru/path), all the content changes in &lt;ng-view&gt; &lt;/ ng-view&gt; and one index.php and special settings .htaccess, so that after updating the page everything is displayed as it should. <br><br>  This is written in the settings of the angular router: <br><pre><code class="javascript hljs">$locationProvider.html5Mode({ <span class="hljs-attr"><span class="hljs-attr">enabled</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">requireBase</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> });</code> </pre> <br><br>  It is written in .htaccess: <br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span> # Don't rewrite files or directories RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_FILENAME}</span></span> -f<span class="hljs-meta"><span class="hljs-meta"> [OR] RewriteCond %{REQUEST_FILENAME} -d RewriteRule ^ - [L] # Rewrite everything else to index.html to allow html5 state links RewriteRule ^ index.php [L]</span></span></code> </pre><br><br><h4>  3. <b>Tasks, tools, solution</b> </h4><br><br><h5>  <b>Tasks:</b> </h5><br>  1. Give the dynamic content of the page as it becomes after the end of rendering and initialization of the application <br>  2. Create, Optimize and Compress html page snapshot <br>  3. Give html search engine snapshot <br><br><h5>  <b>Instruments:</b> </h5><br>  1. Installed NPM (npm is the node.js batch manager. With it, you can manage modules and dependencies.) <br>  2. Installed <a href="https://github.com/localnerve/html-snapshots">html-snapshots</a> module with the command: <br><pre> <code class="bash hljs"> npm install html-snapshots</code> </pre><br>  3. Proper configuration <br><br><h5>  <b>Decision:</b> </h5><br>  For performance, I recommend crawling on localhost (local web server) <br><br>  First you need to add to the main index.php in the meta tag in the head: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"!"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <b>Example sitemap.xml:</b> <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- created with www.mysitemapgenerator.com --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">urlset</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.sitemaps.org/schemas/sitemap/0.9"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">loc</span></span></span><span class="hljs-tag">&gt;</span></span>http://localhost/domain.ru/www/product/30<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">loc</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lastmod</span></span></span><span class="hljs-tag">&gt;</span></span>2016-07-22T19:47:25+01:00<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lastmod</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">priority</span></span></span><span class="hljs-tag">&gt;</span></span>1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">priority</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">urlser</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <b>Server.js configuration:</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"fs"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"path"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> util = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"util"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> assert = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"assert"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> htmlSnapshots = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"html-snapshots"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> minify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'html-minifier'</span></span>).minify; htmlSnapshots.run({ <span class="hljs-comment"><span class="hljs-comment">//#1   SITEMAP //input: "sitemap", //source: "sitemap_localhost.xml", //#2      input: "array", source: ["http://localhost/domain.ru/www/product/30"], //protocol: "https", // setup and manage the output outputDir: path.join(__dirname, "./tmp"), //      outputDirClean: false, //   ,    &lt;ng-view&gt;&lt;/ng-view&gt;      selector: "#product", //    12 ,     timeout: 120000, //      CRAWL phantomjsOptions: [ "--ssl-protocol=any", "--ignore-ssl-errors=true", "--load-images=false" ] }, function (err, snapshotsCompleted) { var body; console.log("completed snapshots:"); assert.ifError(err); snapshotsCompleted.forEach(function(snapshotFile) { body = fs.readFileSync(snapshotFile, { encoding: "utf8"}); //     var regExp = /&lt;style[^&gt;]*?&gt;.*?&lt;\/style&gt;/ig; var clearBody = body.replace(regExp, ''); //    var domain = /http:\/\/localhost\/domain.ru\/www/ig; clearBody = clearBody.replace(domain, '//domain.ru'); //  html  clearBody = minify(clearBody, { conservativeCollapse: true, removeComments: true, removeEmptyAttributes: true, removeEmptyElements: true, collapseWhitespace: true }); //   fs.open(snapshotFile, 'w', function(e, fd) { if (e) return; fs.write(fd, clearBody); }); }); }); console.log('FINISH');</span></span></code> </pre><br><br>  Run the command: <br><pre> <code class="bash hljs">node server</code> </pre><br><br>  <b>Understanding the algorithm:</b> <br><br>  1. First, he ‚Äúkravlit‚Äù all pages. <br>  2. Creates files and names folders according to your url: product / 30 / index.hmtl (index.html, or you can and product / 30.html as comfortable as it does not affect anyone) <br>  3. After that calls the callback -&gt; snapshotsCompleted, where it optimizes each index.html snapshot of your page. <br><br>  <b>Pictures of your site have been prepared, it remains to give them to the search bot when you enter:</b> <br><br>  index.php <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'_escaped_fragment_'</span></span>])) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($_GET[<span class="hljs-string"><span class="hljs-string">'_escaped_fragment_'</span></span>] != <span class="hljs-string"><span class="hljs-string">''</span></span>){ $val = $_GET[<span class="hljs-string"><span class="hljs-string">'_escaped_fragment_'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span> <span class="hljs-string"><span class="hljs-string">"snapshots"</span></span> . $val . <span class="hljs-string"><span class="hljs-string">'/index.html'</span></span>; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ $url = <span class="hljs-string"><span class="hljs-string">"https://"</span></span> . $_SERVER[<span class="hljs-string"><span class="hljs-string">"HTTP_HOST"</span></span>] . $_SERVER[<span class="hljs-string"><span class="hljs-string">"REQUEST_URI"</span></span>]; $arrUrl = parse_url($url); $val = $arrUrl[<span class="hljs-string"><span class="hljs-string">'path'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span> <span class="hljs-string"><span class="hljs-string">"snapshots"</span></span> . $val . <span class="hljs-string"><span class="hljs-string">'/index.html'</span></span>; } }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span>(<span class="hljs-string"><span class="hljs-string">'pages/home.php'</span></span>); }</code> </pre><br><br>  <a href="https://prerender.io/documentation">Explanation:</a> <br><br>  1. <b>html5 push state</b> <br>  If you use html5 push state (recommended): <br>  Just add this meta tag to your head. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"!"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  If your URLs look like this: <br>  <a href="http://www.example.com/user/1">www.example.com/user/1</a> <br>  Then access your URLs like this: <br>  <a href="http://www.example.com/user/1%3F_escaped_fragment_%3D">www.example.com/user/1?_escaped_fragment_=</a> <br><br>  2. <b>hashbang</b> <br>  If you use the hashbang (#!): <br>  If your URLs look like this: <br>  <a href="http://www.example.com/">www.example.com/#</a> ! / user / 1 <br><br>  Then access your URLs like this: <br>  <a href="http://www.example.com/%3F_escaped_fragment_%3D/user/1">www.example.com/?_escaped_fragment_=/user/1</a> <br><br>  Additionally, for those who have pictures, but no optimization: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"fs"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> minify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'html-minifier'</span></span>).minify; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"path"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> util = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"util"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> assert = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"assert"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> htmlSnapshots = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"html-snapshots"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   var myPath = path.join(__dirname, "./tmp/domain.ru/www/"); function getFiles (dir, files_){ files_ = files_ || []; var files = fs.readdirSync(dir); for (var i in files){ var name = dir + '/' + files[i]; if (fs.statSync(name).isDirectory()){ getFiles(name, files_); } else { files_.push(name); } } return files_; } var allFiles = getFiles(myPath); //var allFiles = [ 'C:\\xampp\\htdocs\\nodejs\\crawler\\tmp\\domain.ru\\www\\/product/30/index.html' ]; var body; allFiles.forEach(function(snapshotFile){ body = fs.readFileSync(snapshotFile, { encoding: "utf8"}); var regExp = /&lt;style[^&gt;]*?&gt;.*?&lt;\/style&gt;/ig; var clearBody = body.replace(regExp, ''); var domain = /http:\/\/localhost\/domain.ru\/www/ig; clearBody = clearBody.replace(domain, '//domain.ru'); clearBody = minify(clearBody, { conservativeCollapse: true, removeComments: true, removeEmptyAttributes: true, removeEmptyElements: true, collapseWhitespace: true }); var social = /&lt;ul class=\"social-links\"&gt;.*?&lt;\/ul&gt;/ig; clearBody = clearBody.replace(social, ''); fs.open(snapshotFile, 'w', function(e, fd) { if (e) return; fs.write(fd, clearBody); }); }); console.log('COMPLETE');</span></span></code> </pre><br><br><h4>  <b>4. Read</b> </h4><br><br>  <a href="http://stackoverflow.com/questions/2727167/getting-all-filenames-in-a-directory-with-node-js">stackoverflow.com/questions/2727167/getting-all-filenames-in-a-directory-with-node-js</a> - working with files in node.js <br>  <a href="https://github.com/localnerve/html-snapshots">github.com/localnerve/html-snapshots</a> - snapshots module doc <br>  <a href="http://perfectionkills.com/experimenting-with-html-minifier/">perfectionkills.com/experimenting-with-html-minifier</a> - options snapshots module doc <br><br>  <a href="">yandex.ru/support/webmaster/robot-workings/ajax-indexing.xml</a> - yandex crawler info <br>  <a href="https://developers.google.com/webmasters/ajax-crawling/docs/specification">developers.google.com/webmasters/ajax-crawling/docs/specification</a> - google crawler info <br><br>  <a href="http://www.ng-newsletter.com/posts/serious-angular-seo.html">www.ng-newsletter.com/posts/serious-angular-seo.html</a> - article <br>  <a href="https://prerender.io/js-seo/angularjs-seo-get-your-site-indexed-and-to-the-top-of-the-search-results/">prerender.io/js-seo/angularjs-seo-get-your-site-indexed-and-to-the-top-of-the-search-results</a> - article <br>  <a href="https://prerender.io/documentation">prerender.io/documentation</a> - article <br><br>  <a href="http://regexr.com/">regexr.com</a> - regexr <br>  <a href="http://stackoverflow.com/questions/15618005/jquery-regexp-selecting-and-removeclass">stackoverflow.com/questions/15618005/jquery-regexp-selecting-and-removeclass</a> - regexr <br><br><h4>  <b>5. Conclusions</b> </h4><br><br>  Now you can safely write any SPA applications without worrying about their ‚Äúcrawling‚Äù by a search bot, you can also choose the right configuration for your ‚Äúserver‚Äù or ‚Äúclient‚Äù for your set of tools! <br><br>  <i>All professional success!</i> </div><p>Source: <a href="https://habr.com/ru/post/306644/">https://habr.com/ru/post/306644/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306632/index.html">Big Data analytics and supply chain evolution</a></li>
<li><a href="../306634/index.html">What to do with the found vulnerability and what to do if there is no Bug Bounty program?</a></li>
<li><a href="../306636/index.html">PVS-Studio confesses love to Linux</a></li>
<li><a href="../306638/index.html">Important user experience lessons from the development of the combat HUD for the Dreadnought game</a></li>
<li><a href="../306642/index.html">The new rating of programming languages ‚Äã‚Äãfrom IEEE Spectrum turned out to be original</a></li>
<li><a href="../306646/index.html">What to keep in mind when rewriting software</a></li>
<li><a href="../306648/index.html">Systematization of publications in the web. Part 2 of 3: Three Steps to Scientific Respectability</a></li>
<li><a href="../306652/index.html">Welcome to Go Meetup August 6</a></li>
<li><a href="../306656/index.html">"Pledged by nature": DNA-based data storage system</a></li>
<li><a href="../306658/index.html">What can surprise cloudy WiFi? *</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>