<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The Magic of Tensor Algebra: Part 12 - Rodrigues-Hamilton Parameters in Solid Kinematics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content 


1. What is a tensor and what is it for? 
2. Vector and tensor operations. Ranks of tensors 
3. Curved coordinates 
4. Dynamics of a point i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The Magic of Tensor Algebra: Part 12 - Rodrigues-Hamilton Parameters in Solid Kinematics</h1><div class="post__text post__text-html js-mediator-article"><h1>  Content </h1><br><ol><li>  <a href="http://habrahabr.ru/post/261421/">What is a tensor and what is it for?</a> </li><li>  <a href="http://habrahabr.ru/post/261615/">Vector and tensor operations.</a>  <a href="http://habrahabr.ru/post/261615/">Ranks of tensors</a> </li><li>  <a href="http://habrahabr.ru/post/261717/">Curved coordinates</a> </li><li>  <a href="http://habrahabr.ru/post/261803/">Dynamics of a point in the tensor representation</a> </li><li>  <a href="http://habrahabr.ru/post/261991/">Actions on tensors and some other theoretical questions</a> </li><li>  <a href="http://habrahabr.ru/post/262129/">Kinematics of free solid.</a>  <a href="http://habrahabr.ru/post/262129/">Nature of angular velocity</a> </li><li>  <a href="http://habrahabr.ru/post/262263/">The final turn of a solid.</a>  <a href="http://habrahabr.ru/post/262263/">Rotation tensor properties and method for calculating it</a> </li><li>  <a href="http://habrahabr.ru/post/262497/">On convolutions of the Levi-Civita tensor</a> </li><li>  <a href="http://habrahabr.ru/post/262801/">Conclusion of the angular velocity tensor through the parameters of the final rotation.</a>  <a href="http://habrahabr.ru/post/262801/">Apply head and maxima</a> </li><li>  <a href="http://habrahabr.ru/post/262957/">Get the angular velocity vector.</a>  <a href="http://habrahabr.ru/post/262957/">We work on the shortcomings</a> </li><li>  <a href="http://habrahabr.ru/post/263345/">Acceleration of the point of the body with free movement.</a>  <a href="http://habrahabr.ru/post/263345/">Solid Corner Acceleration</a> </li><li>  <a href="http://habrahabr.ru/post/263533/">Rodrig ‚Äì Hamilton parameters in solid kinematics</a> </li><li>  <a href="http://habrahabr.ru/post/263565/">SKA Maxima in problems of transformation of tensor expressions.</a>  <a href="http://habrahabr.ru/post/263565/">Angular velocity and acceleration in the parameters of Rodrig-Hamilton</a> </li><li>  <a href="http://habrahabr.ru/post/263687/">Non-standard introduction to solid body dynamics</a> </li><li>  <a href="http://habrahabr.ru/post/263853/">Non-free rigid motion</a> </li><li>  <a href="http://habrahabr.ru/post/264007/">Properties of the inertia tensor of a solid</a> </li><li>  <a href="http://habrahabr.ru/post/264099/">Sketch of nut Janibekov</a> </li><li>  <a href="http://habrahabr.ru/post/264381/">Mathematical modeling of the Janibekov effect</a> </li></ol><br><br><h1>  Introduction </h1><br><br>  Finally, we come to a rather interesting topic - the choice of parameters that uniquely determine the orientation of a solid body in space.  Historically, the most popular are the angles of rotation - they are primarily mentioned in the classic textbooks of theoretical mechanics. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/files/f07/021/509/f070215092c644e085c55a04837d9ceb.png"></div><br>  <i>Fig.1.</i>  <i>Euler angles are parameters that are familiar to anyone who was involved in computer graphics and modeling of the spatial motion of bodies.</i>  <i>And everyone whom they know knows how problematic their use is.</i> <br><br><br>  Usually, the rotation angles are used in conjunction with the Cartesian coordinate system, while they say that the associated coordinate system can be combined with the base by three consecutive turns around its axes.  Moreover, each next turn is carried out around the axis obtained after the previous turn.  In addition, the next turn should not occur around the axis about which the previous turn was made.  In this regard, there are 12 different combinations of rotation angles, the most famous of which are Euler angles (Figure 1).  Basic coordinate system is rotated <img src="https://tex.s2cms.ru/svg/%5Cpsi" alt="image">  around the Z axis (precession angle), then at an angle <img src="https://tex.s2cms.ru/svg/%5Ctheta" alt="image">  around the X axis (nutation angle), and again around the Z axis at an angle <img src="https://tex.s2cms.ru/svg/%5Cvarphi" alt="image">  (angle of own rotation) before combining it with the associated coordinate system. <br><br>  The use of Euler angles is good for everyone - their number coincides with the number of rotational degrees of freedom of a rigid body, which means they do not generate redundant constraint equations.  But, even without resorting to cumbersome formulas, in Figure 1, one can guess where the problem lies. <br><br><a name="habracut"></a><br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cboxed%7B%0A%5Comega_x%20%3D%20%5Cdot%5Cpsi%5Csin%5Ctheta%5Csin%5Cvarphi%20%2B%20%5Cdot%5Ctheta%5Ccos%5Cvarphi%2C%20%5Cquad%0A%5Comega_y%20%3D%20%5Cdot%5Cpsi%5Csin%5Ctheta%5Ccos%5Cvarphi%20-%20%5Cdot%5Ctheta%5Csin%5Cvarphi%2C%20%5Cquad%0A%5Comega_z%20%3D%20%5Cdot%5Cvarphi%20%2B%20%5Cdot%5Cpsi%5Ccos%5Ctheta%0A%7D" alt="image"></div><br>  <i>Fig.</i>  <i>2. Famous Euler kinematic equations.</i>  <i>I, in due time, took a sip with them of long and painstaking debugging</i> <br><br>  There are two values ‚Äã‚Äãof the nutation angle at which the degeneracy of the Euler kinematic equations occurs (Figure 2) - <img src="https://tex.s2cms.ru/svg/%5Ctheta_1%20%3D%200" alt="image">  and <img src="https://tex.s2cms.ru/svg/%5Ctheta_2%20%3D%20%5Cpi" alt="image">  .  Suppose that the nutation angle took one of these values ‚Äã‚Äã‚Äî then the precession angle and the angle of its own rotation describe the rotation around the same Z axis and are fundamentally indistinguishable from each other.  Using the kinematic equations of Euler, we get zero in the denominator and <code>NaN</code> in phase coordinates.  Sailed, the integration procedure collapsed. <br><br>  Another option for turning angles is plane angles: <img src="https://tex.s2cms.ru/svg/%5Cpsi" alt="image">  - yaw, <img src="https://tex.s2cms.ru/svg/%5Cvartheta" alt="image">  - pitch and <img src="https://tex.s2cms.ru/svg/%5Cvarphi" alt="image">  - roll (picture 3). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/687/309/ad9/687309ad906743b0ba3c9df37523fcc2.png"></div><br>  <i>Fig.</i>  <i>3. Aircraft angles - one of the practical ways to determine the orientation of the aircraft in space</i> <br><br><br>  These turning parameters degenerate when the pitch <img src="https://tex.s2cms.ru/svg/%5Cvartheta%20%3D%20%5Cpm%20%5Cfrac%7B%5Cpi%7D%7B2%7D" alt="image">  , while becoming indistinguishable become heel and yaw.  Mature simulators know how crazy the <abbr title="Flight Instrument">gearbox is</abbr> when you go to steep pitches. <br><br>  All possible combinations of angles of rotation have a degeneration.  For modeling and laying in the algorithms of orientation control systems, their area of ‚Äã‚Äãapplication is limited to critical parameter values.  In the <a href="http://habrahabr.ru/post/263345/">last article,</a> we showed that the final rotation parameters are not suitable, and the use of the components of the rotation tensor is impeded by the excessively deep dependencies between them, which gives rise to a high order of the system of equations of motion. <br><br>  However, the great Leonard Euler introduced into consideration four parameters that do not have degeneration.  The then scientific world did not pay special attention to its publication on this issue.  This idea, independently of Euler, was developed by Olide Rodrigue, and in the works of William Hamilton received a final theoretical justification.  Meet - <br><br><h1>  1. Quaternions and actions on them </h1><br><br>  Quaternion is the number of the form <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5CLambda%20%3D%20%5Clambda_%7B%5C%2C0%7D%20%2B%20%5Clambda_%7B%5C%2C1%7D%20%5C%2C%20i%20%2B%20%5Clambda_%7B%5C%2C2%7D%20%5C%2C%20j%20%2B%20%5Clambda_%7B%5C%2C3%7D%20%5C%2C%20k%20%5Cquad%20(1)" alt="image"></div><br><br>  Where <img src="https://tex.s2cms.ru/svg/%5Clambda_%7B%5C%2C0%7D%2C...%2C%5Clambda_%7B%5C%2C3%7D%20%5Cin%20%5Cmathbb%7BR%7D" alt="image">  called quaternion components.  The numbers themselves (1) form the set of <i>hypercomplex numbers</i> <img src="https://tex.s2cms.ru/svg/%5Cmathbb%7BH%7D" alt="image">  including all valid <img src="https://tex.s2cms.ru/svg/%5Cmathbb%7BR%7D" alt="image">  numbers and set of complex numbers <img src="https://tex.s2cms.ru/svg/%5Cmathbb%7BC%7D" alt="image">  .  Mathematicians of the era, when Hamilton worked, already knew about complex numbers and how methods built on their basis allow us to solve planimetry problems and it was natural to want to extend the concept of a complex number to apply similar methods to spatial problems.  The problem was that adding a second imaginary unit did not solve the problem.  Hamilton had the idea that such extended complex numbers may not be three-, but four-component.  Working in this direction, in a rush of inspiration on one of his walks, he derived the rule of multiplying such numbers, which finally put together a mosaic of the newborn theory. <br><br>  So, the multiplication of quaternions is reduced to the algebraic operation of multiplying the sums, with the only difference being that it is required to determine the rules for multiplying imaginary units.  Traditionally, each of the imaginary units squared gives -1 <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/i%5E%7B%5C%2C2%7D%20%3D%20j%5E%7B%5C%2C2%7D%20%3D%20k%5E%7B%5C%2C2%7D%20%3D%20-1" alt="image"></div><br><br>  and their pairwise works are well described by the diagram. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/54e/6b5/11b/54e6b511b7d0448181e0da825f2295da.png"></div><br>  <i>Fig.</i>  <i>4. Multiplication diagram of imaginary units in a quaternion</i> <br><br><br>  the meaning of which is simple - if you multiply pairs of imaginary units in the order indicated by the arrow, you get the third imaginary unit with the "+" sign.  If the order of multiplication is reversed, the third imaginary unit with a "-" will be obtained.  Does not resemble the rule of vector multiplication of orts in Cartesian coordinates?  This is it, that is, we get <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cbegin%7Balign*%7D%0A%26i%20%5Ccdot%20j%20%3D%20-%20j%20%5Ccdot%20i%20%3D%20k%20%5C%5C%0A%26j%20%5Ccdot%20k%20%3D%20-%20k%20%5Ccdot%20j%20%3D%20i%20%5C%5C%0A%26k%20%5Ccdot%20i%20%3D%20-%20i%20%5Ccdot%20k%20%3D%20j%20%0A%5Cend%7Balign*%7D" alt="image"></div><br><br>  Using these rules we multiply two quaternions <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cbegin%7Balign*%7D%0AP%20%5Ccirc%20Q%20%26%20%3D%20%5Cleft(%20p_%7B%5C%2C0%7D%20%2B%20p_%7B%5C%2C1%7D%20%5C%2C%20i%20%2B%20p_%7B%5C%2C2%7D%20%5C%2C%20j%20%2B%20p_%7B%5C%2C3%7D%20%5C%2C%20k%20%5Cright)%20%5Ccirc%20%5Cleft(%20q_%7B%5C%2C0%7D%20%2B%20q_%7B%5C%2C1%7D%20%5C%2C%20i%20%2B%20q_%7B%5C%2C2%7D%20%5C%2C%20j%20%2B%20q_%7B%5C%2C3%7D%20%5C%2C%20k%20%5Cright)%20%3D%20%5C%5C%0A%26%20%3D%20p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C0%7D%20%2B%20p_%7B%5C%2C1%7D%20%5C%2C%20q_%7B%5C%2C0%7D%20%5C%2C%20i%20%2B%20p_%7B%5C%2C2%7D%20%5C%2C%20q_%7B%5C%2C0%7D%20%5C%2C%20j%20%2B%20p_%7B%5C%2C3%7D%20%5C%2C%20q_%7B%5C%2C0%7D%20%5C%2C%20k%20%2B%20%5C%5C%0A%26%20%2B%20p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C1%7D%20%5C%2C%20i%20-%20p_%7B%5C%2C1%7D%20%5C%2C%20q_%7B%5C%2C1%7D%20-%20p_%7B%5C%2C2%7D%20%5C%2C%20q_%7B%5C%2C1%7D%20%5C%2C%20k%20%2B%20%20p_%7B%5C%2C3%7D%20%5C%2C%20q_%7B%5C%2C1%7D%20%5C%2C%20j%20%2B%20%5C%5C%0A%26%20%2B%20p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C2%7D%20%5C%2C%20j%20%2B%20p_%7B%5C%2C1%7D%20%5C%2C%20q_%7B%5C%2C2%7D%20%5C%2C%20k%20-%20p_%7B%5C%2C2%7D%20%5C%2C%20q_%7B%5C%2C2%7D%20-%20p_%7B%5C%2C3%7D%20%5C%2C%20q_%7B%5C%2C2%7D%20%5C%2C%20i%20%2B%20%5C%5C%0A%26%20%2B%20p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C3%7D%20%5C%2C%20k%20-%20p_%7B%5C%2C1%7D%20%5C%2C%20q_%7B%5C%2C3%7D%20%5C%2C%20j%20%2B%20p_%7B%5C%2C2%7D%20%5C%2C%20q_%7B%5C%2C3%7D%20%5C%2C%20i%20-%20%20p_%7B%5C%2C3%7D%20%5C%2C%20q_%7B%5C%2C3%7D%0A%5Cend%7Balign*%7D" alt="image"></div><br><br>  Wow!  Not weak, but we boldly quote similar terms. <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cbegin%7Balign*%7D%0AP%20%5Ccirc%20Q%20%26%3D%20%5Cleft(p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C0%7D%20%20-%20p_%7B%5C%2C1%7D%20%5C%2C%20q_%7B%5C%2C1%7D%20-%20p_%7B%5C%2C2%7D%20%5C%2C%20q_%7B%5C%2C2%7D%20-%20%20p_%7B%5C%2C3%7D%20%5C%2C%20q_%7B%5C%2C3%7D%20%5Cright)%20%2B%20%5C%5C%0A%26%20%2B%20%5Cleft(p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C1%7D%20%2B%20p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C1%7D%20%2B%20p_%7B%5C%2C2%7D%20%5C%2C%20q_%7B%5C%2C3%7D%20-%20p_%7B%5C%2C3%7D%20%5C%2C%20q_%7B%5C%2C2%7D%20%5Cright)%20%5C%2C%20i%20%2B%20%5C%5C%0A%26%20%2B%20%5Cleft(%20p_%7B%5C%2C2%7D%20%5C%2C%20q_%7B%5C%2C0%7D%20%2B%20p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C2%7D%20-%20p_%7B%5C%2C1%7D%20%5C%2C%20q_%7B%5C%2C3%7D%20%20%2B%20%20p_%7B%5C%2C3%7D%20%5C%2C%20q_%7B%5C%2C1%7D%5Cright)%20%5C%2C%20j%20%2B%20%5C%5C%0A%26%20%2B%20%5Cleft(%20p_%7B%5C%2C3%7D%20%5C%2C%20q_%7B%5C%2C0%7D%20%2B%20p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C3%7D%20%2B%20p_%7B%5C%2C1%7D%20%5C%2C%20q_%7B%5C%2C2%7D%20-%20p_%7B%5C%2C2%7D%20%5C%2C%20q_%7B%5C%2C1%7D%20%20%5Cright)%20%5C%2C%20k%0A%5Cend%7Balign*%7D" alt="image"></div><br><br>  and, well, surely you see here painfully familiar actions on vectors.  Let our vectors be given <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cmathbf%7Bu%7D%20%3D%20%5Cleft%5B%0A%5Cbegin%7Bmatrix%7D%0Ap_%7B%5C%2C1%7D%20%26%26%20p_%7B%5C%2C2%7D%20%26%26%20p_%7B%5C%2C3%7D%0A%5Cend%7Bmatrix%7D%20%5Cright%5D%5ET%2C%20%5Cquad%20%5Cmathbf%7Bv%7D%20%3D%20%5Cleft%5B%0A%5Cbegin%7Bmatrix%7D%0Aq_%7B%5C%2C1%7D%20%26%26%20q_%7B%5C%2C2%7D%20%26%26%20q_%7B%5C%2C3%7D%0A%5Cend%7Bmatrix%7D%20%5Cright%5D%5ET" alt="image"></div><br><br>  then each quaternion can be represented by a scalar-vector pair <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/P%20%3D%20(p_%7B%5C%2C0%7D%2C%20%5Cvec%7Bu%7D)%2C%20%5Cquad%20Q%20%3D%20(q_%7B%5C%2C0%7D%2C%20%5Cvec%7Bv%7D)" alt="image"></div><br><br>  and the result of their multiplication <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/(p_%7B%5C%2C0%7D%2C%20%5Cvec%7Bu%7D)%20%5Ccirc%20(q_%7B%5C%2C0%7D%2C%20%5Cvec%7Bv%7D)%20%3D%20%5Cleft(%20p_%7B%5C%2C0%7D%20%5C%2C%20q_%7B%5C%2C0%7D%20-%20%5Cvec%7Bu%7D%20%5Ccdot%20%5Cvec%7Bv%7D%2C%20%5C%2C%20q_%7B%5C%2C0%7D%20%5C%2C%20%5Cvec%7Bu%7D%20%2B%20p_%7B%5C%2C0%7D%20%5C%2C%20%5Cvec%20v%20%5Cright%20%2B%20%5Cvec%20u%20%5Ctimes%20%5Cvec%20v)" alt="image"></div><br><br>  It is not difficult to simply compare this formula with the result of the multiplication that we have performed, while considering the imaginary units as the ortami of the Cartesian basis.  Thus, quaternions include both vectors of three-dimensional space, and for example, quaternions of the form <img src="https://tex.s2cms.ru/svg/%5Cleft(a%2C%200%20%5Cright)" alt="image">  and <img src="https://tex.s2cms.ru/svg/%5Cleft(b%2C%200%20%5Cright)" alt="image">  , will be scalars, and their product is equivalent to the product of scalar values <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cleft(a%2C%200%20%5Cright)%20%5Ccirc%20%5Cleft(b%2C%200%20%5Cright)%20%3D%20%5Cleft(a%20%5C%2C%20b%2C%200%20%5Cright)" alt="image"></div><br><br>  And the quaternions of the form <img src="https://tex.s2cms.ru/svg/%5Cleft(0%2C%20%5Cvec%20u%20%5Cright)" alt="image">  and <img src="https://tex.s2cms.ru/svg/%5Cleft(0%2C%20%5Cvec%20v%20%5Cright)" alt="image">  are called vector quaternions, and their product <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cleft(0%2C%20%5Cvec%20u%20%5Cright)%20%5Ccirc%20%5Cleft(0%2C%20%5Cvec%20v%20%5Cright)%20%3D%20%5Cleft(-%20%5Cvec%20u%20%5Ccdot%20%5Cvec%20v%2C%20%5C%2C%20%5Cvec%20u%20%5Ctimes%20%5Cvec%20v%20%5Cright)" alt="image"></div><br><br>  gives a scalar, with a minus sign, and the vector product of the vectors making them. <br><br>  Due to the presence of the product of vector multiplication, the multiplication operation of quaternions is not commutative <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/P%20%5Ccirc%20Q%20%5Cne%20Q%20%5Ccirc%20P" alt="image"></div><br><br>  Well, is it necessary to say that by zeroing the last two coefficients of each of the quaternions we get the product of complex numbers?  I think it is not worth it, because we are not immersed in a complex area, and if we are talking about complex numbers, then where it is required. <br><br>  I will not begin to say that adding quaternions and multiplying them by a number is similar to the corresponding operations in the complex field.  But what should I talk about, so about the conjugation of quaternion <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Coverline%7B%5CLambda%7D%20%3D%20%5Clambda_%7B%5C%2C0%7D%20-%20%5Clambda_%7B%5C%2C1%7D%20%5C%2C%20i%20-%20%5Clambda_%7B%5C%2C2%7D%20%5C%2C%20j%20-%20%5Clambda_%7B%5C%2C3%7D%20%5C%2C%20k" alt="image"></div><br><br>  about the associated norm calculation operation <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%7C%5CLambda%7C%20%3D%20%5Csqrt%7B%5CLambda%20%5Ccirc%20%5Coverline%5CLambda%7D%20%3D%20%5Csqrt%7B%5Clambda_%7B%5C%2C0%7D%5E%7B%5C%2C2%7D%20%2B%20%5Clambda_%7B%5C%2C1%7D%5E%7B%5C%2C2%7D%20%2B%20%5Clambda_%7B%5C%2C2%7D%5E%7B%5C%2C2%7D%20%2B%20%5Clambda_%7B%5C%2C3%7D%5E%7B%5C%2C2%7D" alt="image"></div><br><br>  and operations for calculating the inverse quaternion <br><br><div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/%5CLambda%5E%7B-1%7D%20%3D%20%5Cfrac%7B%5Coverline%5CLambda%7D%7B%7C%5CLambda%7C%5E%7B2%7D%7D" alt="image"></div><br><br>  And one more useful property concerning the conjugation of the product of quaternions <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Coverline%7BP%20%5Ccirc%20Q%20%7D%20%3D%20%5Coverline%20Q%20%5Ccirc%20%5Coverline%20P" alt="image"></div><br><br>  In addition, the norm of the inverse quaternion is the reciprocal of the norm of the original <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%7C%5CLambda%5E%7B-1%7D%7C%20%3D%20%5Cfrac%7B1%7D%7B%7C%5CLambda%7C%5E2%7D%20%5C%2C%20%7C%5Coverline%5CLambda%7C%20%3D%20%5Cfrac%7B1%7D%7B%7C%5CLambda%7C%5E2%7D%20%5C%2C%20%7C%5CLambda%7C%20%3D%20%5Cfrac%7B1%7D%7B%7C%5CLambda%7C%7D" alt="image"></div><br><br>  These operations are directly related to the fact that today we use hypercomplex numbers. <br><br><h1>  2. Quaternion as a linear rotation operator </h1><br><br>  Now let's look at this trick.  Let be <img src="https://tex.s2cms.ru/svg/%5CLambda" alt="image">  - one quaternion, and <img src="https://tex.s2cms.ru/svg/R" alt="image">  - another quaternion.  Let us prove a small theorem <br><br><blockquote>  View conversion <img src="https://tex.s2cms.ru/svg/R%5E%7B'%7D%20%3D%20%5CLambda%20%5Ccirc%20R%20%5Ccirc%20%5CLambda%5E%7B-1%7D" alt="image">  does not change quaternion norms <img src="https://tex.s2cms.ru/svg/R" alt="image">  . <br></blockquote><br><br>  This statement is verified by direct calculation. <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cbegin%7Balign*%7D%0A%7CR%5E%7B'%7D%7C%5E2%20%26%3D%20%5Cleft(%20%5CLambda%20%5Ccirc%20R%20%5Ccirc%20%5CLambda%5E%7B-1%7D%20%20%5Cright)%20%5Ccirc%20%5Coverline%7B%5Cleft(%20%5CLambda%20%5Ccirc%20R%20%5Ccirc%20%5CLambda%5E%7B-1%7D%20%20%5Cright)%7D%20%3D%20%20%5Cleft(%20%5CLambda%20%5Ccirc%20R%20%5Ccirc%20%5CLambda%5E%7B-1%7D%20%20%5Cright)%20%5Ccirc%20%5Cleft(%20%5Coverline%7B%5CLambda%5E%7B-1%7D%7D%20%5Ccirc%20%5Coverline%7B%5CLambda%20%5Ccirc%20R%7D%20%20%5Cright)%20%3D%20%5C%5C%0A%26%20%3D%20%5CLambda%20%5Ccirc%20%5Coverline%20R%20%5Ccirc%20%5CLambda%5E%7B-1%7D%20%5Ccirc%20%5Coverline%7B%5CLambda%5E%7B-1%7D%7D%20%5Ccirc%20R%20%5Ccirc%20%5Coverline%5CLambda%20%3D%20%5Cfrac%7B1%7D%7B%7C%5CLambda%7C%5E2%7D%20%5CLambda%20%5Ccirc%20R%20%5Ccirc%20%5Coverline%20R%20%5Ccirc%20%5Coverline%20%5CLambda%20%3D%20%5Cfrac%7B%7CR%7C%5E2%7D%7B%7C%5CLambda%7C%5E2%7D%5C%2C%20%5CLambda%20%5Ccirc%5Coverline%20%5CLambda%20%3D%20%5C%5C%0A%26%20%20%3D%20%7CR%7C%5E2%0A%5Cend%7Balign*%7D" alt="image"></div><br><br>  Indeed, the quaternion norm does not change with such a transformation.  And if the quaternion <img src="https://tex.s2cms.ru/svg/R" alt="image">  will be a vector quaternion, then the norm of the vector by which it is determined does not change.  That is, the described transformation over the vector does not change its length, it will be orthogonal, or a rotation transformation!  The matter is small - to find out which axis and at which angle the rotation occurs, determined by a specific quaternion.  To do this, take (for us, no one bothers to do that) and imagine a quaternion <img src="https://tex.s2cms.ru/svg/%5CLambda" alt="image">  as <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5CLambda%20%3D%20%5Clambda_0%20%2B%20%5Cvec%5Clambda%20%3D%20%7C%5CLambda%7C%20%5C%2C%20%5Cleft(%20%5Cfrac%7B%5Clambda_0%7D%7B%7C%5CLambda%7C%7D%20%2B%20%5Cfrac%7B%5Cvec%5Clambda%7D%7B%7C%5CLambda%7C%7D%5Cright)" alt="image"></div><br><br>  The value in parentheses is called the <i>monogram</i> (not to be confused with the tensor!) <i>Of the</i> quaternion.  We exercise on its vector part <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cfrac%7B%5Cvec%5Clambda%7D%7B%7C%5CLambda%7C%7D%20%3D%20%5Cfrac%7B%5Cvec%5Clambda%7D%7B%5Csqrt%7B%5Clambda_%7B%5C%2C1%7D%5E2%20%2B%20%5Clambda_%7B%5C%2C2%7D%5E2%20%2B%20%5Clambda_%7B%5C%2C3%7D%5E2%7D%7D%20%5C%2C%20%5Cfrac%7B%5Csqrt%7B%5Clambda_%7B%5C%2C1%7D%5E2%20%2B%20%5Clambda_%7B%5C%2C2%7D%5E2%20%2B%20%5Clambda_%7B%5C%2C3%7D%5E2%7D%7D%7B%7C%5CLambda%7C%7D%20%3D%20%5Cvec%5Cxi%20%5C%2C%20%5Cfrac%7B%5Csqrt%7B%5Clambda_%7B%5C%2C1%7D%5E2%20%2B%20%5Clambda_%7B%5C%2C2%7D%5E2%20%2B%20%5Clambda_%7B%5C%2C3%7D%5E2%7D%7D%7B%7C%5CLambda%7C%7D" alt="image"></div><br><br>  No one bothers to do equivalent transformations to us, so we make them.  Now we introduce a replacement <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cbegin%7Balign*%7D%0A%26%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%3D%20%5Cfrac%7B%5Csqrt%7B%5Clambda_%7B%5C%2C1%7D%5E2%20%2B%20%5Clambda_%7B%5C%2C2%7D%5E2%20%2B%20%5Clambda_%7B%5C%2C3%7D%5E2%7D%7D%7B%7C%5CLambda%7C%7D%20%5C%5C%0A%26%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%3D%20%5Cfrac%7B%5Clambda_%7B%5C%2C0%7D%7D%7B%7C%5CLambda%7C%7D%0A%5Cend%7Balign*%7D" alt="image"></div><br><br>  On what basis?  Yes, the fact that the sum of squares of these quantities always gives one, and if this is the case, then no one bothers to present these values ‚Äã‚Äãas the sine and cosine of a certain angle.  Why divide the angle by two?  We so want, then it will be useful to us, because the angle can be arbitrary.  Based on the introduced replacement, we can rewrite the quaternion in the form <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5CLambda%20%3D%20%7C%5CLambda%7C%20%5C%2C%20%5Cleft(%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%2B%20%5Cvec%5Cxi%20%5C%2C%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cright)" alt="image"></div><br><br>  Note that the vector <img src="https://tex.s2cms.ru/svg/%5Cvec%5Cxi" alt="image">  , introduced by us, is singular, since <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cvec%5Cxi%20%3D%20%5Cfrac%7B%5Cvec%5Clambda%7D%7B%5Csqrt%7B%5Clambda_%7B%5C%2C1%7D%5E%7B%5C%2C2%7D%20%2B%20%5Clambda_%7B%5C%2C2%7D%5E%7B%5C%2C2%7D%20%2B%20%5Clambda_%7B%5C%2C3%7D%5E%7B%5C%2C2%7D%7D%7D%20%3D%20%5Cfrac%7B%5Cvec%5Clambda%7D%7B%7C%5Cvec%5Clambda%7C%7D" alt="image"></div><br><br>  On top of that, let's allow ourselves another assumption - let the quaternion be a single, that is, <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%7C%5CLambda%7C%20%3D%201" alt="image"></div><br><br>  Now accurately perform the orthogonal transformation over the vector quaternion <img src="https://tex.s2cms.ru/svg/R%20%3D%20%5Cleft(0%2C%20%5C%2C%20%5Cvec%20r%5Cright)" alt="image"><br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5CLambda%20%5Ccirc%20R%20%3D%20%5Cleft(%20-%5Cleft(%5Cvec%5Cxi%20%5Ccdot%20%5Cvec%20r%20%5Cright)%20%5C%2C%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%2C%20%5C%2C%20%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5C%2C%20%5Cvec%20r%20%2B%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5C%2C%20%5Cleft(%5Cvec%5Cxi%20%5Ctimes%20%5Cvec%20r%20%5Cright)%20%5Cright)%20%5Cquad%20(2)" alt="image"></div><br><br>  Now multiply the result (2) by the inverse quaternion <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5CLambda%5E%7B-1%7D%20%3D%20%5Cleft(%20%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%2C%20%5C%2C%20-%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%5Cvec%5Cxi%20%20%5Cright)%20%5Cquad%20(3)" alt="image"></div><br><br>  In order not to overload the text with ‚Äúcrocodiles‚Äù, we will calculate scalar separately. <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cmathcal%7B%5Crm%20scal%7D%20%5Cleft(%20%5CLambda%20%5Ccirc%20R%20%5Ccirc%20%5CLambda%5E%7B-1%7D%20%5Cright)%20%3D%20-%5Cleft(%5Cvec%5Cxi%20%5Ccdot%20%5Cvec%20r%20%5Cright)%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%2B%20%5Cleft(%5Cvec%20r%20%5Ccdot%20%5Cvec%20%5Cxi%20%5Cright)%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20-%20%5Csin%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cvec%5Cxi%20%5Ccdot%20%5Cleft(%5Cvec%5Cxi%20%5Ctimes%20%5Cvec%20r%20%5Cright)%20%3D%200" alt="image"></div><br><br>  and the vector part <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cbegin%7Balign*%7D%0A%5Cmathcal%7B%5Crm%20vec%7D%20%5Cleft(%20%5CLambda%20%5Ccirc%20R%20%5Ccirc%20%5CLambda%5E%7B-1%7D%20%5Cright)%20%26%3D%20%5Ccos%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5C%2C%20%5Cvec%20r%20%2B%20%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cleft(%5Cvec%5Cxi%20%5Ctimes%20%5Cvec%20r%5Cright)%20%2B%20%5Csin%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cleft(%5Cvec%5Cxi%20%5Ccdot%20%5Cvec%20r%5Cright)%20%5Cvec%5Cxi%20%5C%5C%0A%26-%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cleft(%5Cvec%20r%20%5Ctimes%20%5Cvec%5Cxi%20%5Cright)%20-%20%5Csin%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cleft(%20%5Cvec%5Cxi%20%5Ctimes%20%5Cvec%20r%20%5Cright)%20%5Ctimes%20%5Cvec%5Cxi%20%3D%20%5C%5C%0A%26%3D%20%5Ccos%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5C%2C%20%5Cvec%20r%20%2B%20%5Csin%5Cvarphi%20%5Cleft(%5Cvec%5Cxi%20%5Ctimes%20%5Cvec%20r%5Cright)%20%2B%20%5Csin%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%5Cleft(%5Cleft(%5Cvec%5Cxi%20%5Ccdot%20%5Cvec%20r%5Cright)%20%5Cvec%5Cxi%20%2B%20%5Cvec%5Cxi%20%5Ctimes%20%5Cleft(%20%5Cvec%5Cxi%20%5Ctimes%20%5Cvec%20r%20%5Cright)%20%20%5Cright)%20%3D%20%5C%5C%0A%26%3D%5Ccos%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cvec%20r%20%2B%20%5Csin%5Cvarphi%20%5Cleft(%5Cvec%5Cxi%20%5Ctimes%20%5Cvec%20r%5Cright)%20%2B%202%20%5C%2C%20%5Csin%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cleft(%5Cvec%5Cxi%20%5Ccdot%20%5Cvec%20r%5Cright)%20%5Cvec%5Cxi%20-%20%5Csin%5E2%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5Cvec%20r%20%5Cquad%20(4)%0A%5Cend%7Balign*%7D" alt="image"></div><br><br>  conversion result.  Finally, on the basis of formulas (3) and (4), having carried out not complicated trigonometric simplifications, we come to the conclusion that the output is some vector <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cvec%7Br%7D_%7B%5C%2C1%7D%20%3D%5Cleft(1%20-%20%5Ccos%5Cvarphi%20%5Cright)%5Cleft(%5Cvec%5Cxi%20%5Ccdot%20%5Cvec%20r%5Cright)%20%5Cvec%5Cxi%20%2B%20%5Ccos%5Cvarphi%20%5C%2C%20%5Cvec%20r%20%2B%20%5Csin%5Cvarphi%20%5Cleft(%5Cvec%5Cxi%20%5Ctimes%20%5Cvec%20r%5Cright)%20%5Cquad%20(5)" alt="image"></div><br><br>  So this is ... Rodrig's final turn formula!  It turns out that the transformation <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cvec%20r_%7B%5C%2C1%7D%20%3D%20%5CLambda%20%5Ccirc%20%5Cvec%20r%20%5Ccirc%20%5CLambda%5E%7B-1%7D" alt="image"></div><br><br>  which, given that for a single quaternion, the operation of calculating the inverse quaternion is equivalent to conjugation, can be rewritten as <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Cvec%20r_%7B%5C%2C1%7D%20%3D%20%5CLambda%20%5Ccirc%20%5Cvec%20r%20%5Ccirc%20%5Coverline%5CLambda%20%5Cquad%20(6)" alt="image"></div><br><br>  is equivalent to rotating the vector around the axis defined by the ort <img src="https://tex.s2cms.ru/svg/%5Cvec%5Cxi" alt="image">  at an angle <img src="https://tex.s2cms.ru/svg/%5Cvarphi" alt="image">  .  The rotation angle and the vector around which rotation takes place can be calculated from the components of the quaternion, based on the substitutions introduced by us above. <br><br><h1>  findings </h1><br><br>  We have seen that the unit quaternion, whose components are constructed by the formulas <br><br><div style="text-align:center;"><img src="https://tex.s2cms.ru/svg/%5Clambda_%7B%5C%2C0%7D%20%3D%20%5Ccos%5Cfrac%7B%5Cvarphi%7D%7B2%7D%2C%20%5Cquad%20%5Clambda_%7B%5C%2C1%7D%20%3D%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5C%2C%20%5Cxi_%7B%5C%2C1%7D%2C%20%5Cquad%20%5Clambda_%7B%5C%2C2%7D%20%3D%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5C%2C%20%5Cxi_%7B%5C%2C2%7D%2C%20%5Cquad%20%5Clambda_%7B%5C%2C3%7D%20%3D%20%5Csin%5Cfrac%7B%5Cvarphi%7D%7B2%7D%20%5C%2C%20%5Cxi_%7B%5C%2C3%7D" alt="image"></div><br><br>  determines the final turn.  The four parameters that we have quoted are the very parameters of Rodrigues-Hamilton, which uniquely determine the orientation of a solid body in space and do not degenerate at any parameters of rotation.  For example, if we zero the rotation angle, then the orth of the rotation axis will also be equal to zero.  When turning at any end angle, we can always calculate the position of the axis of rotation. <br><br>  Well, in the meantime outside the window it dawned ... The plan of this article was somewhat different, and we did not say a word about tensors.  Yes, it is for the better, but now we have a clear idea that we will use it for further cunning orientation parameters. <br><br>  Thank you for attention! <br><br>  <i><a href="http://habrahabr.ru/post/263565/">To be continued...</a></i> </div><p>Source: <a href="https://habr.com/ru/post/263533/">https://habr.com/ru/post/263533/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263509/index.html">Developer Path, Part 3: The Game Creation History</a></li>
<li><a href="../263511/index.html">Improving Fody MethodDecoratorEx for asynchronous methods</a></li>
<li><a href="../263513/index.html">Continuous Success and why this should not be forgotten when developing a project (using the example of Drupal)</a></li>
<li><a href="../263515/index.html">Parsing a function from the standard library D</a></li>
<li><a href="../263531/index.html">We write and listen to conversations in 3CX</a></li>
<li><a href="../263535/index.html">IBM, along with 200 universities around the world, is preparing the next generation of cloud service developers</a></li>
<li><a href="../263537/index.html">Chasing yourself, or a great way to start your day.</a></li>
<li><a href="../263539/index.html">Emmett Shire: How to Twitch Talk to Users</a></li>
<li><a href="../263541/index.html">PostgreSQL: Production Techniques</a></li>
<li><a href="../263545/index.html">nxweb - HTTP server for C applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>