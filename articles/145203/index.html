<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenShift as a java hosting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's no secret that RedHat has been promoting its own cloud product for about six months, and not the usual file storage, but a cloud computing servic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenShift as a java hosting</h1><div class="post__text post__text-html js-mediator-article"><img src="https://openshift.redhat.com/app/stylesheets/../images/logo-medium.png" alt="image"><br>  It's no secret that RedHat has been promoting its own cloud product for about six months, and not the usual file storage, but a cloud computing service, with a free version of the Developer Edition.  Java is indicated as one of the supported platforms, which for many can be very useful against the background of a rather small number of free Java hosts.  And if you take java, then one of the most advanced platforms is offered here, namely Jboss AS 7.1, which means compatibility with most technologies and projects developed under the auspices of Jboss.  The wide possibilities of the service are combined with simplicity, while the developers are so confident in the quality and availability of the service that they did not hesitate to even write about it ‚Äúeasy-peasy‚Äù. <br><br>  Recently I had to try OpenShift in work, like Java - hosting for a small private project.  Impressions, if briefly - yes, the developers of RedHat everything turned out, all the details further ... <br><a name="habracut"></a><br><h4>  To begin with - a few facts from the developer documentation. </h4><br>  OpenShift is a service platform that supports several languages ‚Äã‚Äã/ frameworks, the list of which will obviously be expanded.  At the moment, you can develop applications in languages ‚Äã‚Äãsuch as java, php, ruby, python, perl.  The user for 1 account can create up to 3 applications for which virtual machines (gear) are allocated with the following characteristics: <br>  512 MB RAM <br>  100 MB swap <br>  1 GB disk space <br>  What is the performance of this machine, not reported, but for comparison: the start of JBoss AS 7.1.1 with a small application on my laptop with a core-i5 2450M processor (2 cores, 2.5 GHz) takes 31 seconds, and the same application on OpenShift starts in 29 seconds. <br>  The characteristics of machines can be slightly improved by reducing their number. <br>  1 GB of disk space is used on: <br>  ‚Ä¢ git repository <br>  ‚Ä¢ Compiled application <br>  ‚Ä¢ Database <br>  ‚Ä¢ Logs <br>  ‚Ä¢ data files <br>  It is possible to configure a scalable application in which the database server will occupy a separate machine, that is, it will receive a ‚Äúclean‚Äù gigabyte. <br>  Additional disk space can also be solicited by writing to <a href="">openshift@redhat.com</a> or IRC (#openshift on freenode). <br>  Applications / machines can be equipped with supporting services (cartridge), such as databases, build systems, monitoring, cron. <br><br><h4>  Hello, cloud! </h4><br>  So, let's try to create an application running under JBoss AS 7.1. <br>  First you need to get an OpenShift account.  Make it simple: go to the address <a href="https://openshift.redhat.com/app/account/new">https://openshift.redhat.com/app/account/new</a> , we specify our RedHat login or email address, create a password and enter the captcha.  After receiving confirmation by email, you are the owner of your OpenShift account. <br>  Before proceeding further, you should install the OpenShift client and development tools. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Client and development tools </h4><br>  Client installation is described in detail in the documentation at <a href="http://docs.redhat.com/docs/en-US/OpenShift/2.0/html/Getting_Started_Guide/index.html">docs.redhat.com/docs/en-US/OpenShift/2.0/html/Getting_Started_Guide/index.html</a> and is different for different operating systems.  For Windows, this is installing Cygwin with a number of packages, then RubyGems, and finally, the rhc client itself.  There are no tricks here, you just need to reproduce the steps that are indicated in the instructions. <br>  As for development tools, this is a set of plug-ins for Eclipse 3.7, called JBoss Tools 3.3.0, installation instructions at <a href="http://www.jboss.org/tools/download/installation/update_3_3">www.jboss.org/tools/download/installation/update_3_3</a> , download address <a href="http://www.jboss.org/tools/download/dev">www.jboss.org/tools/download / dev</a> (core plugins).  At the moment there is no final release, you have to install version Beta3.  Installing plugins is done in the usual way - either online, directly from Eclipse (update site), or from an offline archive.  When you install from an offline archive, you actually need the connection, because Eclipse still downloads something from the network.  Nothing can be done - Beta version. <br>  <u><i>Before installing plugins, note that the default jre in Eclipse points to the directory with the JDK, and not with the JRE, otherwise the process will loop.</i></u> <br>  To work with java and JBoss AS, I recommend installing the entire set; for other languages, it‚Äôs enough to install JBoss Cloud Development Tools. <br>  A little trick: under the 64-bit version of Eclipse, not everything is working (at least in Windows), so even if you have a 64-bit OS, I recommend installing the 32-bit JDK and 32-bit Eclipse.  At the same time, no one bothers to launch the applications themselves under the 64-bit version of the JDK. <br>  I also recommend downloading and installing: <br>  ‚Ä¢ Maven, version 3 or higher ( <a href="http://maven.apache.org/">http://maven.apache.org/</a> ), the installation consists in unpacking and adding the bin directory to the path variable.  After installation, in Eclipse, specify the path to the Maven settings (to the conf / settings.xml file), the Maven setting -&gt; User settings <br>  ‚Ä¢ JBoss AS 7.1.1 ( <a href="http://www.jboss.org/jbossas">http://www.jboss.org/jbossas</a> ), installation is unpacking, then the server can be connected to Eclipse to run and debug applications directly from the development environment. <br><br><h4>  Domain Registration </h4><br>  So, the account is created, the development tools are installed, what next? <br>  The next step is to create a ‚Äúdomain‚Äù.  Domain is a suffix in the name, or namespace (namespace) that all your applications will have: <br>  <u>applicationname-namespace.rhcloud.com</u> . <br>  The name of the "domain" should consist of letters and numbers, think of something unique, not yet occupied by others and not included in the list of banned words.  The domain name in the future can be changed. <br><br>  Domain can be registered both in the OpenShift web-interface and in the console client.  I recommend the second, since in this case, along with the registration of the domain, ssh keys and other necessary files will be generated.  For convenience of working with the console, I recommend to add a line like this immediately to the ~ / .openshift / express.conf file: <br>  <b>default_rhlogin = rhlogin@example.com</b> <br>  where rhlogin@example.com is the login or email you used during registration.  This line will avoid the need to enter your login in each command. <br>  So, to register the "domain" enter the command: <br><pre><code class="bash hljs">$ rhc domain create -n DomainName</code> </pre> <br>  A password will be requested to your account, after which a domain will be created and, if necessary, ssh keys. <br>  Make sure everything is fine: <br><pre> <code class="bash hljs">$ rhc domain show</code> </pre> <br>  You can also open the web-interface, and make sure that the domain is created and the key is added ( <a href="https://openshift.redhat.com/app/account">https://openshift.redhat.com/app/account</a> ). <br><br><h4>  Create an application. </h4><br>  Applications can be created both in the web interface and in the console client or in Eclipse.  I tried all 3 ways, the most reliable - from the web interface.  The remaining methods also worked, but not 100% (possibly due to communication problems).  In addition, the web interface does not need to remember the types of applications and cartridges; a full menu is provided from which we select the necessary items. <br>  So, we specify the type of application (jbossas-7), the name, and - the application is created.  If desired, add cartridges (for example, mysql-5.1 and phpmyadmin-3.4). <br>  At the moment it is already possible at the address <u>applicationname-namespace.rhcloud.com to</u> see the page - the preparation of your application. <br>  When adding cartridges with database servers, the login and password to the database are reported, the application does not need to report them, since they are stored in environment variables.  Thanks to this, even if you forgot the password yourself, you can later look at it by logging in on ssh to your server (the ssh address is available in the web console): <br><pre> <code class="bash hljs">$ ssh 177682d.......0eb4fe@app-domain.rhcloud.com [app-domain.rhcloud.com ~]\&gt; <span class="hljs-built_in"><span class="hljs-built_in">export</span></span></code> </pre><br>  This command will display all variables, including the username and password of the database. <br>  The following database servers are currently available: <br>  ‚Ä¢ MongoDB NoSQL Database 2.0 <br>  ‚Ä¢ MySQL Database 5.1 <br>  ‚Ä¢ PostgreSQL Database 8.4 <br><br>  Ports to servers are closed, but it is possible to forward them via ssh to your computer, and then use the existing managers to work with the database.  In addition, after installing MongoDB and MySQL, it becomes possible to install RockMongo 1.1 and phpMyAdmin 3.4 cartridges, respectively, to manage the database via the web. <br>  At the moment there is no possibility to use DB cartridges if they do not belong to this application, that is, as long as the 1: 1 relationship (application: database). <br><br><h4>  We edit and publish the application. </h4><br>  In order to further develop the application, import it into Eclipse. <br>  Select File -&gt; Import -&gt; Existing OpenShift Application, enter the login and password, specify the path to the ssh key that was created when creating the domain, specify the imported application.  You will be asked to specify the path to the local git-repository, I recommend to specify the home-directory (in this case it will be easier to work in the console client). <br>  The application will be copied to the specified repository (the name of the subdirectory corresponds to the name of the application) and imported into Eclipse. <br>  Not all the contents of the directory will be imported into the project, perhaps some files will have to be opened and edited separately (for example, if we want to work with databases or use authentication), but in the simplest case, all that is needed is already in the project. <br>  The imported application ‚Äì template is not empty.  It already has: <br>  ‚Ä¢ All necessary catalogs <br>  ‚Ä¢ index.html <br>  ‚Ä¢ web.xml and faces-config.xml descriptors <br>  ‚Ä¢ pom.xml <br>  It should be remembered that the application is assembled on the server in accordance with the Maven - pom.xml script, so even if it is built in Eclipse, the assembly will not work on the server if the dependencies were not specified in pom.xml. <br>  Let's say we want to use richfaces.  To do this, add the following dependencies: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.richfaces.core<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>richfaces-core-impl<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>4.2.2.Final<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.richfaces.ui<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>richfaces-components-ui<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>4.2.2.Final<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  If Maven was configured correctly, then the necessary libraries automatically download, and you can already add richfaces components to index.html.  After adding the components and writing the bin code, we get our first jsf page, for example: <br>  <a href="https://demo-rlab.rhcloud.com/">demo-rlab.rhcloud.com</a> <br><br>  In order to publish the edited application, simply make Commit from the local repository to the server.  The server will be stopped, the necessary files are transferred to the repository, then compilation and launch.  We are convinced that the start was successful, for which we output the log to the console on command <br><pre> <code class="bash hljs">$ rhc app tail -a demo -f demo/logs/server.log -o <span class="hljs-string"><span class="hljs-string">'-n 5000'</span></span></code> </pre>  (replace demo with the name of your application) <br>  I must say that the project is developing right before our eyes, and literally 2 weeks ago, the template started without errors, and now there are errors due to new extensions added to the .openshift / config / standalone.xml file.  If these errors are very disturbing, I recommend that you remove all the excess from there, but it is better not to pay attention - it will probably work soon. <br><br><h4>  Backup </h4><br>  Backup and restore are performed in the console: <br><pre> <code class="bash hljs">$ rhc app snapshot save -a YourApplication -f ArchivePath</code> </pre> <br>  As a result, an archive will be created with a full copy of the repository, with all settings, database contents.  Recovery is performed by the command <br><pre> <code class="bash hljs">$ rhc app snapshot restore</code> </pre> <br><br><h4>  findings </h4><br>  The service was really convenient.  Beginner can be difficult for the initial installation of the client and development tools, but everything else is done easily.  If you compare with other cloud services, then create an account and the first application is probably even easier than getting a place on the dropbox.  In this case, the developer receives not only a modern platform for applications, but also tools for collective development and all sorts of additional services. <br>  Of course, the resources allocated in the Developer Edition will not allow you to roam, but for creating demos and gadgets, this is probably an ideal service. <br>  Much remains behind the scenes, for example, features of working with a database or jaas - authentication, but if someone interested in the topic, I am ready to write a sequel.  I also suggest that those who have already tried OpenShift share their impressions. </div><p>Source: <a href="https://habr.com/ru/post/145203/">https://habr.com/ru/post/145203/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145196/index.html">The correct announcement to the text or close the unclosed tags</a></li>
<li><a href="../145197/index.html">Instapaper is available for Android, $ 3</a></li>
<li><a href="../145198/index.html">The algorithm of parallel search for maximum, common substrings in two lines, and its implementation in C ++ (C ++ 11)</a></li>
<li><a href="../145199/index.html">Samsung GALAXY SIII World Tour 2012 Moscow: welcome to the premiere of the flagship smartphone</a></li>
<li><a href="../145201/index.html">Samsung Galaxy Note 2 promise in October 2012</a></li>
<li><a href="../145205/index.html">PyQt4: QtHelp build issues</a></li>
<li><a href="../145206/index.html">Security in VoIP networks</a></li>
<li><a href="../145207/index.html">Dark color scheme for IntelliJ IDEA: solving a problem with an unpainted project tree</a></li>
<li><a href="../145208/index.html">Runet Today, June 4, 2012. Experts of the issue: Sergey Kotyrev, Igor Ermakov</a></li>
<li><a href="../145209/index.html">Swumanoid (SWimming hUMANOID robot)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>