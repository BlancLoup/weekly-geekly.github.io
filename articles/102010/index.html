<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a Javascript Canvas Game</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! I invite you to create with me a small casual game for several people with a single Javascript Canvas computer. 
 In the article, I step by ste...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a Javascript Canvas Game</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a9c/b95/967/a9cb9596726488376799932332f1db21.jpg" align="left"><br>  Hello!  I invite you to create with me a small casual game for several people with a single Javascript Canvas computer. <br>  In the article, I step by step dismantled the process of creating such a game with the help of <a href="http://mootools.net/">MooTools</a> and <a href="http://libcanvas.com/">LibCanvas</a> , dwelling on every small action, explaining the reasons and logic for adding new and refactoring existing code. <br><a name="habracut"></a><br><br>  ps Unfortunately, Habr cuts off large colored articles somewhere on the sixty thousandth character, because I was forced to take a couple of sections of code from the article on pastebin.  If you want to read the article, not running on the links in search of the code - <a href="http://libcanvas.com/catch-creating/">you can use a mirror</a> . <br><br><h2>  rules </h2><br>  We control the player (Player), who must catch the bait (Bait) - and at the same time dodge the emerging "predators" (Barrier). <br>  The goal of the game is to catch the maximum number of baits without contacting predators. <br>  In contact with one of the predators, they (the predators) all disappear, and the points are reset, which, in fact, is equivalent to starting the game from scratch. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Html file </h2><br>  We create the initial file, which will be our canvas application.  I used the files hosted on the libcanvas website, but this is optional.  JavaScript files were added during the game creation process, but I don‚Äôt want to go back to this file anymore, so I‚Äôll announce them immediately. <br><br><h4>  [[ <a href="http://pastebin.com/7dsgvTFi">Code <b>./index.html</b> on pastebin</a> ]] </h4><br><br><h2>  Create a project </h2><br>  To begin with we will create the project.  We need to do this only when the document is ready - we will use the " <b><code>domready</code></b> " event provided by <b><code>domready</code></b> . <br>  We will also create a LibCanvas.Canvas2D object that will help us with the animation. <br><br>  <b>./js/start.js</b> <br><blockquote> <code><font color="#000000"><font color="#0000BB">window</font> <font color="#007700">.</font> <font color="#0000BB">addEvent</font> <font color="#007700">(</font> <font color="#DD0000">'domready'</font> <font color="#007700">, function () { <br></font> <font color="#FF8000">//          <br></font> <font color="#007700">var</font> <font color="#0000BB">elem</font> <font color="#007700">= $$(</font> <font color="#DD0000">'canvas'</font> <font color="#007700">)[</font> <font color="#0000BB">0</font> <font color="#007700">]; <br></font> <font color="#FF8000">//      LibCanvas <br></font> <font color="#007700">var</font> <font color="#0000BB">libcanvas</font> <font color="#007700">= new</font> <font color="#0000BB">LibCanvas</font> <font color="#007700">.</font> <font color="#0000BB">Canvas2D</font> <font color="#007700">(</font> <font color="#0000BB">elem</font> <font color="#007700">); <br></font> <font color="#FF8000">//     ,       <br></font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">autoUpdate</font> <font color="#007700">=</font> <font color="#0000BB">true</font> <font color="#007700">; <br></font> <font color="#FF8000">//    60 fps <br></font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">fps</font> <font color="#007700">=</font> <font color="#0000BB">60</font> <font color="#007700">; <br> <br></font> <font color="#FF8000">//    <br></font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">start</font> <font color="#007700">(); <br> });</font></font></code> </blockquote> <br><br><h2>  Add user </h2><br>  Add a new object - Player, which will be controlled by the mouse - its coordinates will be equal to the coordinates of the mouse cursor. <br>  This object will look like a circle of a certain color and size (specified in the property) <br><br><h4>  [[ <a href="http://pastebin.com/AgxE3DqE">Code <b>./js/Player.js</b> on pastebin</a> ]] </h4><br><br>  Add to <b>./js/start.js</b> before <code>libcanvas.start();</code>  : <br><blockquote> <code><font color="#000000"><font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">listenMouse</font> <font color="#007700">(); <br> <br> var</font> <font color="#0000BB">player</font> <font color="#007700">= new</font> <font color="#0000BB">Player</font> <font color="#007700">().</font> <font color="#0000BB">setZIndex</font> <font color="#007700">(</font> <font color="#0000BB">30</font> <font color="#007700">); <br></font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">addElement</font> <font color="#007700">(</font> <font color="#0000BB">player</font> <font color="#007700">);</font></font></code> </blockquote> <br><h3>  <a href="http://libcanvas.com/catch-creating/step1/index.html">= Step 1 =</a> </h3><br><br>  It can be noted that the result is not exactly what we expected, because after each frame the canvas is not automatically cleared. <br>  You need to add a black <b>flush</b> and black preprocessor to <b>./js/start.js</b> <br><br><blockquote> <code><font color="#000000"><font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">addProcessor</font> <font color="#007700">(</font> <font color="#DD0000">'pre'</font> <font color="#007700">, <br> new</font> <font color="#0000BB">LibCanvas</font> <font color="#007700">.</font> <font color="#0000BB">Processors</font> <font color="#007700">.</font> <font color="#0000BB">Clearer</font> <font color="#007700">(</font> <font color="#DD0000">'#000'</font> <font color="#007700">) <br> );</font></font></code> </blockquote> <br><h3>  <a href="http://libcanvas.com/catch-creating/step2/index.html">= Step 2 =</a> </h3><br><br><h2>  Add the bait </h2><br><h4>  [[ <a href="http://pastebin.com/2n02jJvC">Code <b>./js/Bait.js</b> on pastebin</a> ]] </h4><br><br>  Add to <b>./js/start.js</b> : <br><blockquote> <code><font color="#000000"><font color="#FF8000">//   ,      <br></font> <font color="#007700">var</font> <font color="#0000BB">bait</font> <font color="#007700">= new</font> <font color="#0000BB">Bait</font> <font color="#007700">().</font> <font color="#0000BB">setZIndex</font> <font color="#007700">(</font> <font color="#0000BB">20</font> <font color="#007700">); <br></font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">addElement</font> <font color="#007700">(</font> <font color="#0000BB">bait</font> <font color="#007700">);</font></font></code> </blockquote> <br><br><h2>  Refactoring - create parent class </h2><br>  We have very similar classes Bait and Player.  Let's create a class GameObject from which they will inherit from us. <br><br>  First, let's create createPosition from the constructor of the Player class: <br>  <b>./js/Player.js</b> <br><blockquote> <code><font color="#000000"><font color="#007700">var</font> <font color="#0000BB">Player</font> <font color="#007700">= new Class({ <br></font> <font color="#FF8000">// ... <br></font> <font color="#0000BB">initialize</font> <font color="#007700">: function () { <br></font> <font color="#FF8000">// .. <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">= new</font> <font color="#0000BB">LibCanvas</font> <font color="#007700">.</font> <font color="#0000BB">Shapes</font> <font color="#007700">.</font> <font color="#0000BB">Circle</font> <font color="#007700">({ <br></font> <font color="#0000BB">center</font> <font color="#007700">:</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">createPosition</font> <font color="#007700">() <br></font> <font color="#FF8000">// ... <br></font> <font color="#007700">}, <br> <br></font> <font color="#0000BB">createPosition</font> <font color="#007700">: function () { <br> return</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">mouse</font> <font color="#007700">.</font> <font color="#0000BB">point</font> <font color="#007700">; <br> },</font></font></code> </blockquote> <br><br>  Now create a class GameObject <br><h4>  [[ <a href="http://pastebin.com/14qMd5sL">Code <b>./js/GameObject.js</b> on pastebin</a> ]] </h4><br><br>  After that, you can ease the other classes: <br><br>  <b>./js/Bait.js</b> <br><blockquote> <code><font color="#000000"><font color="#007700">var</font> <font color="#0000BB">Bait</font> <font color="#007700">= new Class({ <br> Extends :</font> <font color="#0000BB">GameObject</font> <font color="#007700">, <br> <br></font> <font color="#0000BB">radius</font> <font color="#007700">:</font> <font color="#0000BB">15</font> <font color="#007700">, <br></font> <font color="#0000BB">color</font> <font color="#007700">:</font> <font color="#DD0000">'#f0f' <br></font> <font color="#007700">});</font></font></code> </blockquote> <br><br>  <b>./js/Player.js</b> <br><blockquote> <code><font color="#000000"><font color="#007700">var</font> <font color="#0000BB">Player</font> <font color="#007700">= new Class({ <br> Extends :</font> <font color="#0000BB">GameObject</font> <font color="#007700">, <br> <br></font> <font color="#0000BB">radius</font> <font color="#007700">:</font> <font color="#0000BB">15</font> <font color="#007700">, <br></font> <font color="#0000BB">color</font> <font color="#007700">:</font> <font color="#DD0000">'#080'</font> <font color="#007700">, <br> <br></font> <font color="#0000BB">createPosition</font> <font color="#007700">: function () { <br> return</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">mouse</font> <font color="#007700">.</font> <font color="#0000BB">point</font> <font color="#007700">; <br> }, <br> <br></font> <font color="#0000BB">draw</font> <font color="#007700">: function () { <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">mouse</font> <font color="#007700">.</font> <font color="#0000BB">inCanvas</font> <font color="#007700">) { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">parent</font> <font color="#007700">(); <br> } <br> } <br> });</font></font></code> </blockquote> <br><br>  We look, nothing broke: <br><h3>  <a href="http://libcanvas.com/catch-creating/step3/index.html">= Step 3 =</a> </h3><br><br>  Hooray!  Everything works everywhere, and the code has become much easier. <br><br><h2>  Friends of the baited player </h2><br>  Everything is moving on the screen, but there is really no reaction to our actions. <br>  Let's start by making friends with the bait and the player - when running onto it, the bait must move to another random place. <br>  To do this, we create a separate timeout from the rendering, which will check the contact. <br><br>  We write to the end <b>./js/start.js</b> : <br><blockquote> <code><font color="#000000"><font color="#007700">(function(){ <br></font> <font color="#0000BB">bait</font> <font color="#007700">.</font> <font color="#0000BB">isCatched</font> <font color="#007700">(</font> <font color="#0000BB">player</font> <font color="#007700">); <br> }.</font> <font color="#0000BB">periodical</font> <font color="#007700">(</font> <font color="#0000BB">30</font> <font color="#007700">));</font></font></code> </blockquote> <br><br>  Now we need to implement the isCatched method in <b>./js/Bait.js</b> : <br><blockquote> <code><font color="#000000"><font color="#0000BB">isCatched</font> <font color="#007700">: function (</font> <font color="#0000BB">player</font> <font color="#007700">) { <br> if (</font> <font color="#0000BB">player</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">.</font> <font color="#0000BB">intersect</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">)) { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">move</font> <font color="#007700">(); <br> return</font> <font color="#0000BB">true</font> <font color="#007700">; <br> } <br> return</font> <font color="#0000BB">false</font> <font color="#007700">; <br> }, <br> <br></font> <font color="#0000BB">move</font> <font color="#007700">: function () { <br></font> <font color="#FF8000">//     <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">.</font> <font color="#0000BB">center</font> <font color="#007700">=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">createPosition</font> <font color="#007700">(); <br> }</font></font></code> </blockquote> <br><h3>  <a href="http://libcanvas.com/catch-creating/step4/index.html">= Step 4 =</a> </h3><br><br>  Almost fine, but we see that moving is rude and annoying.  It would be better if the bait ran smoothly. <br>  To do this, you can use one of the Libkanvas behavior.  Just add one line and slightly change the move method: <br><br>  Now we need to implement the isCatched method in <b>./js/Bait.js</b> : <br><blockquote> <code><font color="#000000"><font color="#007700">var</font> <font color="#0000BB">Bait</font> <font color="#007700">= new Class({ <br> Extends :</font> <font color="#0000BB">GameObject</font> <font color="#007700">, <br> Implements : [</font> <font color="#0000BB">LibCanvas</font> <font color="#007700">.</font> <font color="#0000BB">Behaviors</font> <font color="#007700">.</font> <font color="#0000BB">Moveable</font> <font color="#007700">], <br> <br></font> <font color="#FF8000">// ... <br> <br></font> <font color="#0000BB">move</font> <font color="#007700">: function () { <br></font> <font color="#FF8000">//  (800),       <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">moveTo</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">createPosition</font> <font color="#007700">(),</font> <font color="#0000BB">800</font> <font color="#007700">); <br> } <br> });</font></font></code> </blockquote> <br><br>  Very simple, right?  And I like the result a lot more: <br><h3>  <a href="http://libcanvas.com/catch-creating/step5/index.html">= Step 5 =</a> </h3><br><br><h2>  Add predators </h2><br><br>  <b>./js/Barrier.js</b> : <br><blockquote> <code><font color="#000000"><font color="#007700">var</font> <font color="#0000BB">Barrier</font> <font color="#007700">= new Class({ <br> Extends :</font> <font color="#0000BB">GameObject</font> <font color="#007700">, <br> <br></font> <font color="#0000BB">full</font> <font color="#007700">:</font> <font color="#0000BB">null</font> <font color="#007700">, <br></font> <font color="#0000BB">speed</font> <font color="#007700">:</font> <font color="#0000BB">null</font> <font color="#007700">, <br></font> <font color="#0000BB">radius</font> <font color="#007700">:</font> <font color="#0000BB">8</font> <font color="#007700">, <br></font> <font color="#0000BB">color</font> <font color="#007700">:</font> <font color="#DD0000">'#0ff'</font> <font color="#007700">, <br> <br></font> <font color="#0000BB">initialize</font> <font color="#007700">: function () { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">parent</font> <font color="#007700">(); <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">= new</font> <font color="#0000BB">LibCanvas</font> <font color="#007700">.</font> <font color="#0000BB">Point</font> <font color="#007700">( <br></font> <font color="#0000BB">$random</font> <font color="#007700">(</font> <font color="#0000BB">2</font> <font color="#007700">,</font> <font color="#0000BB">5</font> <font color="#007700">),</font> <font color="#0000BB">$random</font> <font color="#007700">(</font> <font color="#0000BB">2</font> <font color="#007700">,</font> <font color="#0000BB">5</font> <font color="#007700">) <br> ); <br></font> <font color="#FF8000">//    ,    <br></font> <font color="#0000BB">$random</font> <font color="#007700">(</font> <font color="#0000BB">0</font> <font color="#007700">,</font> <font color="#0000BB">1</font> <font color="#007700">) &amp;&amp; (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">.</font> <font color="#0000BB">x</font> <font color="#007700">*= -</font> <font color="#0000BB">1</font> <font color="#007700">); <br></font> <font color="#FF8000">//    ,    <br></font> <font color="#0000BB">$random</font> <font color="#007700">(</font> <font color="#0000BB">0</font> <font color="#007700">,</font> <font color="#0000BB">1</font> <font color="#007700">) &amp;&amp; (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">.</font> <font color="#0000BB">y</font> <font color="#007700">*= -</font> <font color="#0000BB">1</font> <font color="#007700">); <br> }, <br></font> <font color="#0000BB">move</font> <font color="#007700">: function () { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">.</font> <font color="#0000BB">center</font> <font color="#007700">.</font> <font color="#0000BB">move</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">); <br> return</font> <font color="#0000BB">this</font> <font color="#007700">; <br> }, <br></font> <font color="#0000BB">intersect</font> <font color="#007700">: function (</font> <font color="#0000BB">player</font> <font color="#007700">) { <br> return (</font> <font color="#0000BB">player</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">.</font> <font color="#0000BB">intersect</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">)); <br> } <br> });</font></font></code> </blockquote> <br><br>  We will also slightly <b>modify ./js/start.js</b> so that predators will appear when fishing for bait: <br><blockquote> <code><font color="#000000"><font color="#0000BB">bait</font> <font color="#007700">.</font> <font color="#0000BB">isCatched</font> <font color="#007700">(</font> <font color="#0000BB">player</font> <font color="#007700">); <br></font> <font color="#FF8000">//   <br></font> <font color="#007700">if (</font> <font color="#0000BB">bait</font> <font color="#007700">.</font> <font color="#0000BB">isCatched</font> <font color="#007700">(</font> <font color="#0000BB">player</font> <font color="#007700">)) { <br></font> <font color="#0000BB">player</font> <font color="#007700">.</font> <font color="#0000BB">createBarrier</font> <font color="#007700">(); <br> } <br></font> <font color="#0000BB">player</font> <font color="#007700">.</font> <font color="#0000BB">checkBarriers</font> <font color="#007700">();</font></font></code> </blockquote> <br><br>  We implement the addition of barriers for the player, <b>./js/Player.js</b> and move them all each check: <br><blockquote> <code><font color="#000000"><font color="#0000BB">barriers</font> <font color="#007700">: [], <br> <br></font> <font color="#0000BB">createBarrier</font> <font color="#007700">: function () { <br> var</font> <font color="#0000BB">barrier</font> <font color="#007700">= new</font> <font color="#0000BB">Barrier</font> <font color="#007700">().</font> <font color="#0000BB">setZIndex</font> <font color="#007700">(</font> <font color="#0000BB">10</font> <font color="#007700">); <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">.</font> <font color="#0000BB">push</font> <font color="#007700">(</font> <font color="#0000BB">barrier</font> <font color="#007700">); <br></font> <font color="#FF8000">//         libcanvas,    <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">addElement</font> <font color="#007700">(</font> <font color="#0000BB">barrier</font> <font color="#007700">); <br> return</font> <font color="#0000BB">barrier</font> <font color="#007700">; <br> }, <br> <br></font> <font color="#0000BB">checkBarriers</font> <font color="#007700">: function () { <br> for (var</font> <font color="#0000BB">i</font> <font color="#007700">=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">.</font> <font color="#0000BB">length</font> <font color="#007700">;</font> <font color="#0000BB">i</font> <font color="#007700">--;) { <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">[</font> <font color="#0000BB">i</font> <font color="#007700">].</font> <font color="#0000BB">move</font> <font color="#007700">().</font> <font color="#0000BB">intersect</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">)) { <br></font> <font color="#0000BB">this</font> <font color="#007700">.die(); <br> return</font> <font color="#0000BB">true</font> <font color="#007700">; <br> } <br> } <br> return</font> <font color="#0000BB">false</font> <font color="#007700">; <br> }, <br> <br> die : function () { },;</font></font></code> </blockquote> <br><h3>  <a href="http://libcanvas.com/catch-creating/step6/index.html">= Step 6 =</a> </h3><br><br>  Great, there was movement in the game.  But we see three problems: <br>  1. Predators fly away over the playing field - you need to make a "beat off the walls." <br>  2. Sometimes the bait has time to grab twice while flying away - you need to make a short timeout of "invulnerability." <br>  3. The case of death is not processed. <br><br><h2>  Predators beat off the walls, the bait gets a little time "invulnerability" </h2><br>  Implement beat off the walls easier than ever.  Slightly change the move method of class Barrier, in the file <b>./js/Barrier.js</b> : <br><h4>  [[ <a href="http://pastebin.com/f78rLTUe"><b>Barrier.move</b> code on pastebin</a> ]] </h4><br><br>  Correcting the bait problem is also not very difficult - we make changes to the Bait class in the <b>./js/Bait.js</b> file <br><h4>  [[ <a href="http://pastebin.com/wbwJcXHF"><b>Bait.makeInvulnerable</b> code on pastebin</a> ]] </h4><br><br><h3>  <a href="http://libcanvas.com/catch-creating/step7/index.html">= Step 7 =</a> </h3><br><br><h2>  We realize death and scoring </h2><br>  Because  points are how many times the bait is caught and it is equal to the number of predators on the screen - it is very easy to score points: <br>  <b>Let's</b> slightly expand the draw method in the Player class, the <b>./js/Player.js</b> file: <br><blockquote> <code><font color="#000000"><font color="#0000BB">draw</font> <font color="#007700">: function () { <br></font> <font color="#FF8000">// ... <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">ctx</font> <font color="#007700">.</font> <font color="#0000BB">text</font> <font color="#007700">({ <br></font> <font color="#0000BB">text</font> <font color="#007700">:</font> <font color="#DD0000">'Score : '</font> <font color="#007700">+</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">.</font> <font color="#0000BB">length</font> <font color="#007700">, <br></font> <font color="#0000BB">to</font> <font color="#007700">: [</font> <font color="#0000BB">20</font> <font color="#007700">,</font> <font color="#0000BB">10</font> <font color="#007700">,</font> <font color="#0000BB">200</font> <font color="#007700">,</font> <font color="#0000BB">40</font> <font color="#007700">], <br></font> <font color="#0000BB">color</font> <font color="#007700">:</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">color <br></font> <font color="#007700">}); <br> }, <br> <br></font> <font color="#FF8000">// ..  -  -   -       <br></font> <font color="#007700">die : function () { <br> for (var</font> <font color="#0000BB">i</font> <font color="#007700">=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">.</font> <font color="#0000BB">length</font> <font color="#007700">;</font> <font color="#0000BB">i</font> <font color="#007700">--;) { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">rmElement</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">[</font> <font color="#0000BB">i</font> <font color="#007700">]); <br> } <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">= []; <br> }</font></font></code> </blockquote> <br><br>  <b>Single player - over!</b> <br><h3>  <a href="http://libcanvas.com/catch-creating/step8/index.html">= Step 8 - Single player =</a> </h3><br><br><h1>  <b>We realize a multiplayer game with a single computer</b> </h1><br><h2>  Keyboard Motion </h2><br>  To begin with, we will transfer control from the mouse to the keyboard.  In <b>./js/start.js</b> change <code>libcanvas.listenMouse()</code> to <code>libcanvas.listenKeyboard()</code> <br>  In it we add <code>player.checkMovement();</code> to the timeout <code>player.checkMovement();</code>  . <br>  In <b>./js/Player.js, we</b> delete the <b>createPosition</b> override, in the <code>draw</code> method, we remove the mouse check and implement the movement using the arrows: <br><br><blockquote> <code><font color="#000000"><font color="#0000BB">speed</font> <font color="#007700">:</font> <font color="#0000BB">8</font> <font color="#007700">, <br></font> <font color="#0000BB">checkMovement</font> <font color="#007700">: function () { <br> var</font> <font color="#0000BB">pos</font> <font color="#007700">=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">.</font> <font color="#0000BB">center</font> <font color="#007700">; <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">getKey</font> <font color="#007700">(</font> <font color="#DD0000">'left'</font> <font color="#007700">))</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">x</font> <font color="#007700">-=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">; <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">getKey</font> <font color="#007700">(</font> <font color="#DD0000">'right'</font> <font color="#007700">))</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">x</font> <font color="#007700">+=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">; <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">getKey</font> <font color="#007700">(</font> <font color="#DD0000">'up'</font> <font color="#007700">))</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">y</font> <font color="#007700">-=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">; <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">getKey</font> <font color="#007700">(</font> <font color="#DD0000">'down'</font> <font color="#007700">))</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">y</font> <font color="#007700">+=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">; <br> },</font></font></code> </blockquote> <br><h3>  <a href="http://libcanvas.com/catch-creating/step9/index.html">= Step 9 =</a> </h3><br><br>  Unpleasant nuance - the player crawls over the screen and there may get lost. <br>  Let's restrict its movement and a little refactor the code, putting out the receipt of the key state in a separate method <br><blockquote> <code><font color="#000000"><font color="#0000BB">isMoveTo</font> <font color="#007700">: function (</font> <font color="#0000BB">dir</font> <font color="#007700">) { <br> return</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">getKey</font> <font color="#007700">(</font> <font color="#0000BB">dir</font> <font color="#007700">); <br> }, <br></font> <font color="#0000BB">checkMovement</font> <font color="#007700">: function () { <br> var</font> <font color="#0000BB">pos</font> <font color="#007700">=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">shape</font> <font color="#007700">.</font> <font color="#0000BB">center</font> <font color="#007700">; <br> var</font> <font color="#0000BB">full</font> <font color="#007700">=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">getFull</font> <font color="#007700">(); <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">isMoveTo</font> <font color="#007700">(</font> <font color="#DD0000">'left'</font> <font color="#007700">)  &amp;&amp;</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">x</font> <font color="#007700">&gt;</font> <font color="#0000BB">0</font> <font color="#007700">)</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">x</font> <font color="#007700">-=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">; <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">isMoveTo</font> <font color="#007700">(</font> <font color="#DD0000">'right'</font> <font color="#007700">) &amp;&amp;</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">x</font> <font color="#007700">&lt;</font> <font color="#0000BB">full</font> <font color="#007700">.</font> <font color="#0000BB">width</font> <font color="#007700">)</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">x</font> <font color="#007700">+=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">; <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">isMoveTo</font> <font color="#007700">(</font> <font color="#DD0000">'up'</font> <font color="#007700">)    &amp;&amp;</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">y</font> <font color="#007700">&gt;</font> <font color="#0000BB">0</font> <font color="#007700">)</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">y</font> <font color="#007700">-=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">; <br> if (</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">isMoveTo</font> <font color="#007700">(</font> <font color="#DD0000">'down'</font> <font color="#007700">)  &amp;&amp;</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">y</font> <font color="#007700">&lt;</font> <font color="#0000BB">full</font> <font color="#007700">.</font> <font color="#0000BB">height</font> <font color="#007700">)</font> <font color="#0000BB">pos</font> <font color="#007700">.</font> <font color="#0000BB">y</font> <font color="#007700">+=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">speed</font> <font color="#007700">; <br> },</font></font></code> </blockquote> <br><br>  We will also slightly change the isMoveTo method - so that you can easily change the keys to control the player: <br><br><blockquote> <code><font color="#000000"><font color="#0000BB">control</font> <font color="#007700">: { <br></font> <font color="#0000BB">up</font> <font color="#007700">:</font> <font color="#DD0000">'up'</font> <font color="#007700">, <br></font> <font color="#0000BB">down</font> <font color="#007700">:</font> <font color="#DD0000">'down'</font> <font color="#007700">, <br></font> <font color="#0000BB">left</font> <font color="#007700">:</font> <font color="#DD0000">'left'</font> <font color="#007700">, <br></font> <font color="#0000BB">right</font> <font color="#007700">:</font> <font color="#DD0000">'right' <br></font> <font color="#007700">}, <br></font> <font color="#0000BB">isMoveTo</font> <font color="#007700">: function (</font> <font color="#0000BB">dir</font> <font color="#007700">) { <br> return</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">getKey</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">control</font> <font color="#007700">[</font> <font color="#0000BB">dir</font> <font color="#007700">]); <br> },</font></font></code> </blockquote> <br><h3>  <a href="http://libcanvas.com/catch-creating/step10/index.html">= Step 10 =</a> </h3><br><br><h2>  Enter the second player </h2><br>  <b>Modify the ./js/start.js</b> file: <br><br><blockquote> <code><font color="#000000"><font color="#007700">var</font> <font color="#0000BB">player</font> <font color="#007700">= new</font> <font color="#0000BB">Player</font> <font color="#007700">().</font> <font color="#0000BB">setZIndex</font> <font color="#007700">(</font> <font color="#0000BB">30</font> <font color="#007700">); <br></font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">addElement</font> <font color="#007700">(</font> <font color="#0000BB">player</font> <font color="#007700">); <br> <br></font> <font color="#FF8000">// =&gt; <br> <br></font> <font color="#007700">var</font> <font color="#0000BB">players</font> <font color="#007700">= []; <br> (</font> <font color="#0000BB">2</font> <font color="#007700">).</font> <font color="#0000BB">times</font> <font color="#007700">(function (</font> <font color="#0000BB">i</font> <font color="#007700">) { <br> var</font> <font color="#0000BB">player</font> <font color="#007700">= new</font> <font color="#0000BB">Player</font> <font color="#007700">().</font> <font color="#0000BB">setZIndex</font> <font color="#007700">(</font> <font color="#0000BB">30</font> <font color="#007700">+</font> <font color="#0000BB">i</font> <font color="#007700">); <br></font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">addElement</font> <font color="#007700">(</font> <font color="#0000BB">player</font> <font color="#007700">); <br></font> <font color="#0000BB">players</font> <font color="#007700">.</font> <font color="#0000BB">push</font> <font color="#007700">(</font> <font color="#0000BB">player</font> <font color="#007700">); <br> }); <br> <br></font> <font color="#FF8000">//       <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">1</font> <font color="#007700">].</font> <font color="#0000BB">color</font> <font color="#007700">=</font> <font color="#DD0000">'#ff0'</font> <font color="#007700">; <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">1</font> <font color="#007700">].</font> <font color="#0000BB">control</font> <font color="#007700">= { <br></font> <font color="#0000BB">up</font> <font color="#007700">:</font> <font color="#DD0000">'w'</font> <font color="#007700">, <br></font> <font color="#0000BB">down</font> <font color="#007700">:</font> <font color="#DD0000">'s'</font> <font color="#007700">, <br></font> <font color="#0000BB">left</font> <font color="#007700">:</font> <font color="#DD0000">'a'</font> <font color="#007700">, <br></font> <font color="#0000BB">right</font> <font color="#007700">:</font> <font color="#DD0000">'d' <br></font> <font color="#007700">};</font></font></code> </blockquote> <br><br>  The contents of the timer are wrapped in <code><font color="#000000"><font color="#0000BB">players</font> <font color="#007700">.</font> <font color="#0000BB">each</font> <font color="#007700">(function (</font> <font color="#0000BB">player</font> <font color="#007700">) {</font> <font color="#FF8000">/* * */</font> <font color="#007700">});</font></font></code> <code><font color="#000000"><font color="#0000BB">players</font> <font color="#007700">.</font> <font color="#0000BB">each</font> <font color="#007700">(function (</font> <font color="#0000BB">player</font> <font color="#007700">) {</font> <font color="#FF8000">/* * */</font> <font color="#007700">});</font></font></code> <br><h3>  <a href="http://libcanvas.com/catch-creating/step11/index.html">= Step 11 =</a> </h3><br><br>  It remains to make minor corrections: <br>  1. Move the second player's account below the first player's account. <br>  2. Color the predators of different players in different colors. <br>  3. For the sake of statistics, enter "Record" - what is the maximum score by which player was reached. <br><br>  We make the appropriate changes in <b>./js/Player.js</b> : <br><blockquote> <code><font color="#000000"><font color="#007700">var</font> <font color="#0000BB">Player</font> <font color="#007700">= new Class({ <br> <br></font> <font color="#FF8000">// ... <br> <br> //      : <br></font> <font color="#0000BB">createBarrier</font> <font color="#007700">: function () { <br></font> <font color="#FF8000">// ... <br></font> <font color="#0000BB">barrier</font> <font color="#007700">.</font> <font color="#0000BB">color</font> <font color="#007700">=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barrierColor</font> <font color="#007700">||</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">color</font> <font color="#007700">; <br></font> <font color="#FF8000">// ... <br></font> <font color="#007700">}, <br> <br></font> <font color="#FF8000">//     <br></font> <font color="#0000BB">maxScore</font> <font color="#007700">:</font> <font color="#0000BB">0</font> <font color="#007700">, <br> die : function () { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">maxScore</font> <font color="#007700">=</font> <font color="#0000BB">Math</font> <font color="#007700">.</font> <font color="#0000BB">max</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">maxScore</font> <font color="#007700">,</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">.</font> <font color="#0000BB">length</font> <font color="#007700">); <br></font> <font color="#FF8000">// ... <br></font> <font color="#007700">}, <br> <br></font> <font color="#0000BB">index</font> <font color="#007700">:</font> <font color="#0000BB">0</font> <font color="#007700">, <br></font> <font color="#0000BB">draw</font> <font color="#007700">: function () { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">parent</font> <font color="#007700">(); <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">libcanvas</font> <font color="#007700">.</font> <font color="#0000BB">ctx</font> <font color="#007700">.</font> <font color="#0000BB">text</font> <font color="#007700">({ <br></font> <font color="#FF8000">//   : <br></font> <font color="#0000BB">text</font> <font color="#007700">:</font> <font color="#DD0000">'Score : '</font> <font color="#007700">+</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">barriers</font> <font color="#007700">.</font> <font color="#0000BB">length</font> <font color="#007700">+</font> <font color="#DD0000">' ('</font> <font color="#007700">+</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">maxScore</font> <font color="#007700">+</font> <font color="#DD0000">')'</font> <font color="#007700">, <br></font> <font color="#FF8000">//     20      : <br></font> <font color="#0000BB">to</font> <font color="#007700">: [</font> <font color="#0000BB">20</font> <font color="#007700">,</font> <font color="#0000BB">10</font> <font color="#007700">+</font> <font color="#0000BB">20</font> <font color="#007700">*</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">index</font> <font color="#007700">,</font> <font color="#0000BB">200</font> <font color="#007700">,</font> <font color="#0000BB">40</font> <font color="#007700">], <br></font> <font color="#0000BB">color</font> <font color="#007700">:</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">color <br></font> <font color="#007700">}); <br> } <br> });</font></font></code> </blockquote> <br><br>  Making adjustments to <b>./js/start.js</b> : <br><br><blockquote> <code><font color="#000000"><font color="#007700">(</font> <font color="#0000BB">2</font> <font color="#007700">).</font> <font color="#0000BB">times</font> <font color="#007700">(function (</font> <font color="#0000BB">i</font> <font color="#007700">) { <br> var</font> <font color="#0000BB">player</font> <font color="#007700">= new</font> <font color="#0000BB">Player</font> <font color="#007700">().</font> <font color="#0000BB">setZIndex</font> <font color="#007700">(</font> <font color="#0000BB">30</font> <font color="#007700">+</font> <font color="#0000BB">i</font> <font color="#007700">); <br></font> <font color="#0000BB">player</font> <font color="#007700">.</font> <font color="#0000BB">index</font> <font color="#007700">=</font> <font color="#0000BB">i</font> <font color="#007700">; <br></font> <font color="#FF8000">// ... <br></font> <font color="#007700">}); <br> <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">0</font> <font color="#007700">].</font> <font color="#0000BB">color</font> <font color="#007700">=</font> <font color="#DD0000">'#09f'</font> <font color="#007700">; <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">0</font> <font color="#007700">].</font> <font color="#0000BB">barrierColor</font> <font color="#007700">=</font> <font color="#DD0000">'#069'</font> <font color="#007700">; <br> <br></font> <font color="#FF8000">//       <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">1</font> <font color="#007700">].</font> <font color="#0000BB">color</font> <font color="#007700">=</font> <font color="#DD0000">'#ff0'</font> <font color="#007700">; <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">1</font> <font color="#007700">].</font> <font color="#0000BB">barrierColor</font> <font color="#007700">=</font> <font color="#DD0000">'#960'</font> <font color="#007700">; <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">1</font> <font color="#007700">].</font> <font color="#0000BB">control</font> <font color="#007700">= { <br></font> <font color="#0000BB">up</font> <font color="#007700">:</font> <font color="#DD0000">'w'</font> <font color="#007700">, <br></font> <font color="#0000BB">down</font> <font color="#007700">:</font> <font color="#DD0000">'s'</font> <font color="#007700">, <br></font> <font color="#0000BB">left</font> <font color="#007700">:</font> <font color="#DD0000">'a'</font> <font color="#007700">, <br></font> <font color="#0000BB">right</font> <font color="#007700">:</font> <font color="#DD0000">'d' <br></font> <font color="#007700">};</font></font></code> </blockquote> <br><br>  Congratulations, the game is done! <br><h3>  <a href="http://libcanvas.com/catch-creating/step12/index.html">= Step 12 - a game for two =</a> </h3><br><br><h2>  Add the third and fourth player </h2><br>  If desired, it is very easy to add a third and fourth player: <br><br><blockquote> <code><font color="#000000"><font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">2</font> <font color="#007700">].</font> <font color="#0000BB">color</font> <font color="#007700">=</font> <font color="#DD0000">'#f30'</font> <font color="#007700">; <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">2</font> <font color="#007700">].</font> <font color="#0000BB">barrierColor</font> <font color="#007700">=</font> <font color="#DD0000">'#900'</font> <font color="#007700">; <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">2</font> <font color="#007700">].</font> <font color="#0000BB">control</font> <font color="#007700">= { <br></font> <font color="#0000BB">up</font> <font color="#007700">:</font> <font color="#DD0000">'i'</font> <font color="#007700">, <br></font> <font color="#0000BB">down</font> <font color="#007700">:</font> <font color="#DD0000">'k'</font> <font color="#007700">, <br></font> <font color="#0000BB">left</font> <font color="#007700">:</font> <font color="#DD0000">'j'</font> <font color="#007700">, <br></font> <font color="#0000BB">right</font> <font color="#007700">:</font> <font color="#DD0000">'l' <br></font> <font color="#007700">}; <br> <br></font> <font color="#FF8000">// players[0] uses numpad <br> // players[3] uses home end delete &amp; pagedown <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">3</font> <font color="#007700">].</font> <font color="#0000BB">color</font> <font color="#007700">=</font> <font color="#DD0000">'#3f0'</font> <font color="#007700">; <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">3</font> <font color="#007700">].</font> <font color="#0000BB">barrierColor</font> <font color="#007700">=</font> <font color="#DD0000">'#090'</font> <font color="#007700">; <br></font> <font color="#0000BB">players</font> <font color="#007700">[</font> <font color="#0000BB">3</font> <font color="#007700">].</font> <font color="#0000BB">control</font> <font color="#007700">= { <br></font> <font color="#0000BB">up</font> <font color="#007700">:</font> <font color="#DD0000">'$'</font> <font color="#007700">, <br></font> <font color="#0000BB">down</font> <font color="#007700">:</font> <font color="#DD0000">'#'</font> <font color="#007700">, <br></font> <font color="#0000BB">left</font> <font color="#007700">:</font> <font color="#DD0000">'delete'</font> <font color="#007700">, <br></font> <font color="#0000BB">right</font> <font color="#007700">:</font> <font color="#DD0000">'"' <br></font> <font color="#007700">};</font></font></code> </blockquote> <br><h3>  <a href="http://libcanvas.com/catch-creating/step13/index.html">= Step 13 - game for four =</a> </h3></div><p>Source: <a href="https://habr.com/ru/post/102010/">https://habr.com/ru/post/102010/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102000/index.html">Electric bike do it yourself</a></li>
<li><a href="../102001/index.html">The official name of Ubuntu 11.04 - Natty Narwhal</a></li>
<li><a href="../102006/index.html">Cartesian tree: Part 2. Valuable information in the tree and multiple operations with it</a></li>
<li><a href="../102007/index.html">GPT and WD Advanced format</a></li>
<li><a href="../102008/index.html">WiMax 2 standard should be adopted in November</a></li>
<li><a href="../102011/index.html">Whyday 2010 - Why the Lucky Stiff Memorial Day</a></li>
<li><a href="../102012/index.html">Java / Python SDKs 1.3.6 released</a></li>
<li><a href="../102019/index.html">We are building an internal portal in the university</a></li>
<li><a href="../102023/index.html">Gadgets and their impact on the industry</a></li>
<li><a href="../102024/index.html">Development for embedded systems based on Quantum Leaps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>