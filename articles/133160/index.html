<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Abnormal Javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this topic, I want to talk about unusual js constructions, as well as illustrating some examples related to objects and method calls that, using a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Abnormal Javascript</h1><div class="post__text post__text-html js-mediator-article">  In this topic, I want to talk about unusual js constructions, as well as illustrating some examples related to objects and method calls that, using a non-trivial syntax, can cause questions for almost all beginners to use js. <br><br>  The purpose of the topic (and immediately a disclaimer) is to help <i>beginners</i> not to fall into a catatonic stupor at the sight of something like <pre><code class="javascript hljs">user[(os[((user.microsoft_adept ? microsoft : apple).system || <span class="hljs-string"><span class="hljs-string">"linux"</span></span>)].install_carma &lt;= user.carma) ? <span class="hljs-string"><span class="hljs-string">"install"</span></span> : <span class="hljs-string"><span class="hljs-string">"cant_install"</span></span>](os[((user.microsoft_adept ? microsoft : apple).system || <span class="hljs-string"><span class="hljs-string">"linux"</span></span>)].name);</code> </pre> <br>  And one more disclaimer.  I by no means urge to draw up the source code in this way, and I even ask you never to do so.  But, situations in life are different and it may be useful to be able to read different monstrous constructions.  The enemy, as they say, you need to know in person.  But, nevertheless, some of the ingredients of this pock can be very useful in certain situations. <br><a name="habracut"></a><br><h5>  Proceed, pray and in order </h5><br><h6>  Objects, Properties, and Methods </h6><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">property</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} }</code> </pre> <br>  This is an object with property property and method method, which can be accessed in several ways: <br><br><pre> <code class="javascript hljs">obj.property; <span class="hljs-comment"><span class="hljs-comment">//,    obj.method(); obj["property"]; // ,    obj["method"]();</span></span></code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  Ternary operator </h6>  It is necessary for simple recording of a simple conditional construction.  So, for example, the following condition <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &gt; b) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"a  b"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"a    b"</span></span>); }</code> </pre><br>  You can write shorter: <br><pre> <code class="javascript hljs">(a &gt; b) ? <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"a  b"</span></span>) : <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"a    b"</span></span>);</code> </pre> <br>  or even shorter, due to the low priority of the ternary operator: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( (a &gt; b) ? <span class="hljs-string"><span class="hljs-string">"a  b"</span></span> : <span class="hljs-string"><span class="hljs-string">"a    b"</span></span> );</code> </pre> <br><br><h6>  Conditional operator || </h6>  In Javascript, it is interesting because it returns the first non-zero value, which is convenient for setting default values. <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_object</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(id) || <span class="hljs-string"><span class="hljs-string">"  "</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    id   ¬´  ¬ª,     }</span></span></code> </pre> <pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_something</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> || <span class="hljs-number"><span class="hljs-number">0</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI || <span class="hljs-string"><span class="hljs-string">"   ?"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    }</span></span></code> </pre> <br><br><h5>  We return to our sheep </h5><br>  In the light of the above, something in the original example becomes clearer, but we analyze it completely.  So, here is our little brain tease: <pre> <code class="javascript hljs">user[(os[((user.microsoft_adept ? microsoft : apple).system || <span class="hljs-string"><span class="hljs-string">"linux"</span></span>)].install_carma &lt;= user.carma) ? <span class="hljs-string"><span class="hljs-string">"install"</span></span> : <span class="hljs-string"><span class="hljs-string">"cant_install"</span></span>](os[((user.microsoft_adept ? microsoft : apple).system || <span class="hljs-string"><span class="hljs-string">"linux"</span></span>)].name);</code> </pre><br>  <s>Some ass programmer</s> Your obedient servant decided to save several bytes of code and wrote down the task of ‚Äúchecking user preferences for operating systems from different manufacturers and, depending on the user's qualifications, allow him to install the system or send them to advanced training‚Äù in one line.  The object model looks like this (all coincidences, of course, are random and I ask you not to be offended: all parallels are held just for lulz): <pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> user = { <span class="hljs-attr"><span class="hljs-attr">microsoft_adept</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-comment"><span class="hljs-comment">//     carma: 10, //   install: function(system) { console.log("I'am installing " + system + "!"); }, cant_install: function(system) { console.log("I can't install " + system + "..."); } } var os = { windows: {  name: "Windows",  install_carma: 30 //,     }, macos: {  name: "Mac OS",  install_carma: 50 }, linux: {  name: "Linux",  install_carma: 70 } } var microsoft = { system: "windows" } var apple = { system: "macos" }</span></span></code> </pre> <br>  First, we act like a famous Italian sculptor and cut off all unnecessary.  The result is the following type of construction: <pre> <code class="javascript hljs">user[ () ? <span class="hljs-string"><span class="hljs-string">"install"</span></span> : <span class="hljs-string"><span class="hljs-string">"cant_install"</span></span>]();</code> </pre><br>  It is immediately obvious that, depending on the result of some condition, the corresponding method of the user object is called.  Namely, install in case the condition is true and cant_install if false.  Something is passed to both methods as a parameter.  I propose to deal with this neytym: <pre> <code class="javascript hljs">os[((user.microsoft_adept ? microsoft : apple).system || <span class="hljs-string"><span class="hljs-string">"linux"</span></span>)].name;</code> </pre><br>  Something - the name of the desired operating system, depending on user preferences.  Spell out: if the user prefers Microsoft products, then we read the system property of the microsoft object.  If not, then the property is also read by the apple object.  If such a property does not exist (vendecapetz-there or something else is not good), then the user, except for Linux, has nothing left.  Thus, we get one of the three options (see object model): <pre> <code class="javascript hljs">os[microsoft.system].name; <span class="hljs-comment"><span class="hljs-comment">// . . Windows os[apple.system].name; // . . Mac OS os["linux"].name; // . . Linux</span></span></code> </pre><br>  In the condition that determines whether the install method or cant_install is called on the user object, we dig down to the install_carma property in the same way, depending on user preferences and the ‚Äúmarket situation‚Äù and compare the value of this property with the value of the carma property and the user object.  If the karma of the user is sufficient, then everything is in order - we call the user [‚Äúinstall‚Äù] method.  If not, then everything is fine too, but we call the user [‚Äúcant_install‚Äù] method and pass the name of the system called as a parameter. <br><br><h5>  Source code of the example in full (for copy-paste) </h5><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> user = { <span class="hljs-attr"><span class="hljs-attr">microsoft_adept</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-comment"><span class="hljs-comment">//     carma: 10, //   install: function(system) { console.log("I'am installing " + system + "!"); }, cant_install: function(system) { console.log("I can't install " + system + "..."); } } var os = { windows: {  name: "Windows",  install_carma: 30 //,     }, macos: {  name: "Mac OS",  install_carma: 50 }, linux: {  name: "Linux",  install_carma: 70 } } var microsoft = { system: "windows" } var apple = { system: "macos" } user[(os[((user.microsoft_adept ? microsoft : apple).system || "linux")].install_carma &lt;= user.carma) ? "install" : "cant_install"](os[((user.microsoft_adept ? microsoft : apple).system || "linux")].name);</span></span></code> </pre><br><br><h5>  Conclusion </h5><br>  Once again, I repeat that the article is intended primarily <i>for beginner Javascript programmers</i> who, in their service, will have to deal with a variety of ‚Äúsomeone else's code‚Äù that will have to be read.  In addition, a number of examples of non-trivial js-syntax may be useful in some cases, but (sic!) I remind you again and again that the article gives an example of how <b>not</b> to <b>do it!</b>  Try to always write beautiful and readable code.  And I won‚Äôt keep myself from quoting a well-known aphorism: ‚ÄúWrite the code, assuming that all programmers accompanying your program are violent psychopaths who know where you live.‚Äù <br></div><p>Source: <a href="https://habr.com/ru/post/133160/">https://habr.com/ru/post/133160/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133155/index.html">Examples of "rotated" startups</a></li>
<li><a href="../133156/index.html">Western startups in search of Russian investments</a></li>
<li><a href="../133157/index.html">Firefox 10 will receive a "silent" update mode</a></li>
<li><a href="../133158/index.html">Adding photos from Panoramio to the map</a></li>
<li><a href="../133159/index.html">Facebook confirmed the assumption of six handshakes</a></li>
<li><a href="../133162/index.html">Badoo Company welcomes the dairy workers!</a></li>
<li><a href="../133165/index.html">WolframAlpha FM synth</a></li>
<li><a href="../133167/index.html">Send your mobile app idea and win a toaster ticket!</a></li>
<li><a href="../133169/index.html">Come meet Richard Stallman</a></li>
<li><a href="../133170/index.html">Ask Richard Stallman a question</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>