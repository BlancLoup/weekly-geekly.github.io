<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Recognize cannot be left a picture, or something about difficult cases of optical character recognition</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For this post we were inspired by an interview that our European office gave to one computer magazine. It was about ABBYYFineReader and recognition te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Recognize cannot be left a picture, or something about difficult cases of optical character recognition</h1><div class="post__text post__text-html js-mediator-article">  For this post we were inspired by an interview that our European office gave to one computer magazine.  It was about ABBYYFineReader and recognition technologies.  Among the questions was something like this: <br><br>  What were the main challenges to overcome when developing the software?  Were there any particularly knotty problems? <br><br>  In response, I just want to give an official tirade, about the fact that images are very different, fuzzy photos, low resolution, dirty paper, fancy letters ... In general, even without knowing anything or almost nothing about our technologies, we can say something plausible. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And here is a reason to think.  Still, from the point of view of the complexity of the tasks, this is not so interesting - the poor quality of the image and decorative fonts.  We could say about the same thing five years ago, and ten, and twenty.  Yes, undoubtedly, there is progress - and for most of the versions, the well-known columnist and our old friend Sergey Golubitsky found exactly those pictures that turned out to be on the ‚Äúfront line‚Äù of our technologies - so that their new version of FineReader began to process almost perfectly, and the old one "Stumbled." <br><br>  But in order to talk about the difficulties we are still facing, it is worth resorting to a little metaphor.  Here are the difficulties you have to solve the following problem. <img src="https://habrastorage.org/getpro/habr/post_images/b1a/036/32b/b1a03632b804d449cf9ace16b467dedd.png" alt="school example"><a name="habracut"></a><br><br>  Hmm ... Most likely, most normal people will think that it is not so easy to extract the roots of the fifth degree.  And if you ask "what difficulties arise with the solution of this problem," you will want to tell you how to extract the roots of the fifth degree, putting the number in a row and using vector operations ... But for the "artificial mind", the extraction of the root will be almost the easiest of its actions .  The real difficulties will be different: <br><br><ul><li>  Recognize handwritten numbers </li><li>  Disassemble and decompose the formula </li><li>  In general, somehow guess what to do </li></ul><br><br>  You can see that in this example, the simpler the part of the task for a person, the harder it is for the ‚Äúartificial mind‚Äù.  You can‚Äôt put it in marketing materials, you won‚Äôt say in an interview ... "We became less mistaken with the analysis of the formula" - "Gee-gee-gee, every fool can make out the formula, you are doing nonsense." <br><br>  And with the last point there is a special snag.  How to understand what is there to do at all?  Who can promise that we will have to solve such a problem once more? <br><br>  We have just approached the connection between metaphor and recognition tasks.  The very phrase ‚Äúrecognition problem‚Äù is a trap.  Because when the task to recognize something is already set, it is a well-formulated question.  And as we <a href="http://unhandled-exception.ru/others/books/verniy-vopros/">know</a> , asking the right question is already an essential part of the solution to the problem. <br><br>  As an example, we present the problem of correcting skew in the photographs of the text.  At first glance, it does not look very complicated.  We need to find what seems to us like lines of text, determine the angle of inclination, rotate the image - that's all. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a1/8cd/0de/1a18cd0de9903dd7a3f1fcbf4c342efe.jpg" alt="Document photo"><br><br>  The trouble is that often the directions of text strings are several in one image.  Which one is the most important for the task designer?  In the latest versions of FineReader, skew correction algorithm estimates how many directions of text lines can be distinguished, which of them is the most informative, and rotates the document so that the recognizer can read the ‚Äúmain‚Äù text.  Unfortunately, sometimes he is ‚Äúbasic‚Äù not in terms of the questioner. <br><br>  But besides skewing on the image, there may be perspective distortions, and then the problem cannot be solved with one turn.  Photographs of two-page documents, for example, passports, may have perspective distortions for each page.  Curved lines on a magazine spread can arise both as a result of sheet curvature, and because of the ‚Äúartistic‚Äù layout.  Do I need to unbend them in the latter case and try to recognize them?  Without more complex models of documents there is no longer enough, but in order to determine which one fits the image, you need the appropriate classifier.  With the promising distortions, we have already learned how to fight, and with the remaining cases there is still a long way to perfection. <br><br>  Next, we started learning to segment the page.  Select columns of text, pictures, tables ... How to distinguish text from a picture?  Yes, there is nothing easier, to our services Over9000 articles on this topic.  Implemented, everything is fine, run and see the following image: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/241/0b6/b35/2410b6b35e1fe3c67f358c84fa9c36fe.jpg" alt="Screenshot"><br><br>  In earlier versions of FineReader, our clever text classifier happily informed us that there was a bunch of well-organized text, and the table analyzer happily drew a very well otsegmentirovanny table on it ... But the person who translated the electronic database tutorial seems to it‚Äôs not at all necessary: ‚Äã‚Äãin this case, just an example of an MS Access screenshot is needed, and no one was going to recognize the table and somehow use the data from it.  In recent versions, we taught FineReader not to touch the contents of the screenshot and leave it with a picture. <br>  Or such a surprise <br><br><img src="https://habrastorage.org/getpro/habr/post_images/25b/bad/cfd/25bbadcfdb1fc929f28dca07a9aa0484.jpg" alt="Diagram"><br><br>  Clearly, we have the text.  Several blocks of text.  But even a not very attentive reader may notice that there is something else there. <br><br>  In a good way, of course, this diagram should be disassembled, the whole text should be recognized, and the frames should be drawn by vector commands.  But bad luck, we do not know in advance what format it will have to be recorded in and what commands will be available to us.  Therefore, it will often be reasonable to save this diagram as a picture.  Yes, the text, yes, as a picture.  Artificial intelligence came into complete confusion, spat on these people and went away to routinely calculate the roots of the fifth degree. <br><br>  The question is, and what to do about it? <br><br>  What is important here is not even the answer to the previous question.  Even if we understand it, we will ask ourselves another question: <br>  And how often will it be necessary to solve such problems?  Yes, the question is the same as in the formula example.  And the answer is not always simple. <br>  For us, it turned out that among the problems with page segmentation, the proportion of those caused by inadequate perception by us of the screenshot and diagram is quite large.  Therefore, in the new versions we ‚Äúexplained‚Äù to our engine that such objects exist, how they are arranged and how they differ from tables, blocks of text and just pictures.  But if we thought that the problem was rare and ‚Äúexotic‚Äù, then most likely we wouldn‚Äôt have done anything - what would have enraged those who process pages with lots of screenshots and diagrams. <br><br>  Do you think such problems only with unusual objects?  Nothing of the kind - in the same segmentation there are only examples with text.  Say, most of the currently popular page segmentation algorithms (just the question - will it be interesting if we write a small review on them?) They say that if there are two groups of texts at a respectful distance from each other, then they should be in different blocks.  Logically, damn it - do not mix two columns in one block.  ‚ÄúWelcome, please come,‚Äù the universe tells us: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c7/58a/49f/6c758a49f52ced5dbbb7e3697cfc55e7.png" alt="Paragraph numbers"><br><br>  ‚ÄúWell ...‚Äù, the developer says, ‚Äúwe make the list numbers from the list not fall off ... Let's say, columns of numbers alone will try to append to the normal text‚Äù.  ‚ÄúAy well done!‚Äù, Says the universe: <br><img src="https://habrastorage.org/getpro/habr/post_images/e5d/3e5/907/e5d3e5907134ac86ed17dbe84ec53631.png" alt="Line numbers"><br><br>  Here we will not be able to glue the numbers (line numbers) to the text without breaking its coherence and the possibility of further use - the thing for which the user launched our program.  But nothing, spitting on his hands, in the next version coped with this. <br><br>  What is this all about?  It seems that one of the challenges for us, the creators of the recognizer, is the variability and, as a result, the under-formulation of the tasks before us.  Moreover, it can be considered that this is one of the important differences between artificial intelligence and natural intelligence.  Because the under-statedness of the task is a familiar environment for the natural mind and a curse for the scientist and the engineer.  Returning to the recognition system, one of the directions of development is just a more thorough and verified formulation of the problem, with most of the subtasks either solved for a long time or do not pose a special difficulty.  And the question for us can only be the solution of which of the tasks at the moment is most needed by our users.  It so happened that these are not ‚Äúprogram features‚Äù, but the development of technologies. <br><br>  (with <a href="http://habrahabr.ru/users/logicview/" class="user_link">logicview</a> ) </div><p>Source: <a href="https://habr.com/ru/post/266551/">https://habr.com/ru/post/266551/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266539/index.html">Indoor navigation - from idea to working prototype</a></li>
<li><a href="../266541/index.html">As one of the operators increased the capacity of 3G in a densely populated district of Minsk, not forgetting about the coming on the heels of LTE</a></li>
<li><a href="../266545/index.html">Installation programs - how much do they influence the product or company image?</a></li>
<li><a href="../266547/index.html">JetBrains IDE is now only available for rent.</a></li>
<li><a href="../266549/index.html">Healthcare IT: or how to throw out $ 34 million</a></li>
<li><a href="../266553/index.html">Determine that the user has Wikipedia blocked.</a></li>
<li><a href="../266557/index.html">Sorting integers when memory is low</a></li>
<li><a href="../266559/index.html">Smart and Stupid React Components</a></li>
<li><a href="../266561/index.html">We develop a monitoring system for 55,000 RTP video streams</a></li>
<li><a href="../266563/index.html">Profit about the printer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>