<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Meet Swift!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On June 2, at the WWDC 2014 conference, Apple introduced a new object-oriented programming language - Swift. I think many have already managed to see ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Meet Swift!</h1><div class="post__text post__text-html js-mediator-article">  On June 2, at the WWDC 2014 conference, Apple introduced a new object-oriented programming language - Swift.  I think many have already managed to see what this language is ( <a href="http://habrahabr.ru/post/225089/">Swift - innovations</a> ), so I will not dwell on innovations.  I propose to create a simple project in the Swift language, in order to understand the main differences from the usual Obj-C. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d93/6c7/03c/d936c703c717205e57a06153e4e79db0.png"></div><br><a name="habracut"></a><br><h4>  Training </h4><br>  First you need to install Xcode 6 Beta.  You can download it from here: <br>  <a href="https://developer.apple.com/devcenter/ios/index.action">https://developer.apple.com/devcenter/ios/index.action</a> <br>  Download, install and open (installation problems should not arise, the beta version is put as a separate application and does not affect the main Xcode). <br>  Create a new project (Single View Application) -&gt; enter the name of the project and do not forget to choose the Swift language! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/332/644/26b/33264426bc6db9cc0961eacab459452a.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Structure </h4><br>  Pay attention to the structure, the number of files is now 2 times less, now there is no need for header files.  The code written in the global scope is used as the entry point for the program, so the main function is no longer needed. <br><img src="https://habrastorage.org/getpro/habr/post_images/ca8/4e0/45e/ca84e045e2e13d8ce6f2a1ddef710305.png"><br><br>  This is what AppDelegate looks like now: <br><br><pre><code class="objectivec hljs">import <span class="hljs-built_in"><span class="hljs-built_in">UIKit</span></span> @<span class="hljs-built_in"><span class="hljs-built_in">UIApplicationMain</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AppDelegate: <span class="hljs-built_in"><span class="hljs-built_in">UIResponder</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UIApplicationDelegate</span></span> { var window: <span class="hljs-built_in"><span class="hljs-built_in">UIWindow</span></span>? func application(application: <span class="hljs-built_in"><span class="hljs-built_in">UIApplication</span></span>, didFinishLaunchingWithOptions launchOptions: <span class="hljs-built_in"><span class="hljs-built_in">NSDictionary</span></span>?) -&gt; Bool { <span class="hljs-comment"><span class="hljs-comment">// Override point for customization after application launch. return true } func applicationWillResignActive(application: UIApplication) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game. } func applicationDidEnterBackground(application: UIApplication) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground(application: UIApplication) { // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive(application: UIApplication) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate(application: UIApplication) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } }</span></span></code> </pre> <br><br><h4>  Hello world </h4><br>  Learning any language begins with Hello World.  We will not break the tradition.  Open AppDelegate.swift and add <code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: NSDictionary?) -&gt; Bool</code> to the <code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: NSDictionary?) -&gt; Bool</code> : <br><br><pre> <code class="objectivec hljs">println(<span class="hljs-string"><span class="hljs-string">"Hello World"</span></span>) <span class="hljs-comment"><span class="hljs-comment">//  </span></span></code> </pre> <br>  Run the program and you will see the coveted Hello World in the console.  That's how simple it is. <br><br><h4>  Complicate </h4><br>  A little complicate the project.  Add a favorite tableview. <br>  Open the Main.storyboard.  By the way, please note that for the universal application, now by default, not two storyboards are created, as they were before, but only one.  The number of simulators also increased: <br><img src="https://habrastorage.org/getpro/habr/post_images/672/9ea/d8d/6729ead8df142004156eee164f6427df.png"><br><br>  Find the cherished Table View in the Object Library and transfer it to the application screen.  We stretch the table so that it is full screen (it is necessary that it coincides with the edges). <br><img src="https://habrastorage.org/getpro/habr/post_images/ff5/cbb/286/ff5cbb28689fae1a78b69172a5ea161a.png"><br><br>  Then everything is done as before, we need to set the dataSource and delegate for the table.  To do this, open the Connection Inspector, from the delegate pull to the ViewController object and likewise for the dataSource. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/479/7ef/676/4797ef6764f462447256981a60ae8639.png"><br><br>  In ViewController.swift, you need to specify the protocols that we need: UITableViewDataSource and UITableViewDelegate <br>  Now it can be done like this: <br><br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ViewController: <span class="hljs-built_in"><span class="hljs-built_in">UIViewController</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UITableViewDataSource</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UITableViewDelegate</span></span></code> </pre> <br>  The compiler will immediately curse: <br>  <i>Type 'ViewController' does not conform to protocol 'UITableViewDataSource'</i> <br>  The compiler informs us that we have not defined the functions of the <code>'UITableViewDataSource'</code> protocol.  To see which functions need to be determined, hold down the command + click on the protocol. <br><br><pre> <code class="objectivec hljs">protocol <span class="hljs-built_in"><span class="hljs-built_in">UITableViewDataSource</span></span> : <span class="hljs-built_in"><span class="hljs-built_in">NSObjectProtocol</span></span> { func tableView(tableView: <span class="hljs-built_in"><span class="hljs-built_in">UITableView</span></span>!, numberOfRowsInSection section: Int) -&gt; Int func tableView(tableView: <span class="hljs-built_in"><span class="hljs-built_in">UITableView</span></span>!, cellForRowAtIndexPath indexPath: <span class="hljs-built_in"><span class="hljs-built_in">NSIndexPath</span></span>!) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">UITableViewCell</span></span>!</code> </pre> <br>  These two functions should be added to our ViewController.swift <br>  The first function should return the number of rows in the table (int): <br><br><pre> <code class="objectivec hljs">func tableView(tableView: <span class="hljs-built_in"><span class="hljs-built_in">UITableView</span></span>!, numberOfRowsInSection section: Int) -&gt; Int { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> }</code> </pre> <br>  And the second function returns a table cell: <br><br><pre> <code class="objectivec hljs">func tableView(tableView: <span class="hljs-built_in"><span class="hljs-built_in">UITableView</span></span>!, cellForRowAtIndexPath indexPath: <span class="hljs-built_in"><span class="hljs-built_in">NSIndexPath</span></span>!) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">UITableViewCell</span></span>! { let cell: <span class="hljs-built_in"><span class="hljs-built_in">UITableViewCell</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">UITableViewCell</span></span>(style: <span class="hljs-built_in"><span class="hljs-built_in">UITableViewCellStyle</span></span>.Subtitle, reuseIdentifier: <span class="hljs-string"><span class="hljs-string">"MyTestSwiftCell"</span></span>) cell.text = <span class="hljs-string"><span class="hljs-string">"Habrapost \(indexPath.row)"</span></span> cell.detailTextLabel.text = <span class="hljs-string"><span class="hljs-string">"Hi, \(indexPath.row)"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cell }</code> </pre> <br>  In the first line create a cell.  We will analyze the record in more detail: <br>  let means that we are creating a constant, not a variable. <br>  let cell: UITableViewCell report that the type of this constant will be UITableViewCell.  In theory, it is not necessary to report what type a constant or variable will have.  The program will work fine like this: <br><br><pre> <code class="objectivec hljs">let cell = <span class="hljs-built_in"><span class="hljs-built_in">UITableViewCell</span></span>(style: <span class="hljs-built_in"><span class="hljs-built_in">UITableViewCellStyle</span></span>.Subtitle, reuseIdentifier: <span class="hljs-string"><span class="hljs-string">"MyTestSwiftCell"</span></span>)</code> </pre> <br>  But as it seems to me, it is better to report, Apple gives a good example of why: <br><br><pre> <code class="objectivec hljs">let implicitInteger = <span class="hljs-number"><span class="hljs-number">70</span></span> let implicitDouble = <span class="hljs-number"><span class="hljs-number">70.0</span></span> let explicitDouble: Double = <span class="hljs-number"><span class="hljs-number">70</span></span></code> </pre> <br>  Let me remind you how we created a cell in Obj-C: <br><br><pre> <code class="objectivec hljs"><span class="hljs-built_in"><span class="hljs-built_in">UITableCell</span></span> *cell =[[<span class="hljs-built_in"><span class="hljs-built_in">UITableCell</span></span> alloc] initWithStyle:<span class="hljs-built_in"><span class="hljs-built_in">UITableViewCellStyleSubtitle</span></span> reuseIdentifier:<span class="hljs-string"><span class="hljs-string">@"MyTestSwiftCell"</span></span>]</code> </pre> <br>  No more need to allocate, Swift does everything on its own.  All methods that started with init have been removed, and now initialization takes place in the Swift style (i.e. MyClass ()).  Moreover, initializers with with were also converted; what followed after with was the first argument in the initializer of Swift. <br><br>  Here I especially liked this post: <br><br><pre> <code class="objectivec hljs">cell.text = <span class="hljs-string"><span class="hljs-string">"Habrapost \(indexPath.row)"</span></span></code> </pre> <br>  In Obj-C, to make a simple string concatenation operation, you had to be done in the following way: <br><br><pre> <code class="objectivec hljs">cell.text = [<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> stringWithFormat:<span class="hljs-string"><span class="hljs-string">@"Habrapost %@"</span></span>, indexPath.row];</code> </pre> <br>  For me, this is a pleasant change. <br>  Let's say now we wanted to change the text color to standard purple.  This can be done in the same way as in Obj-C, we turn to the class method <br><br><pre> <code class="objectivec hljs">cell.detailTextLabel.textColor = <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.purpleColor()</code> </pre> <br>  As a result, we get <br><img src="https://habrastorage.org/getpro/habr/post_images/43c/6f2/3a1/43c6f23a11ad366fc616494956f15bdf.png"><br><br><h4>  Little about the playground </h4><br>  Playground is a platform where you can experiment, and if you like to transfer to the main project. <br>  To create a playgroung, select File-&gt; New-&gt; File: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/712/72a/634/71272a6345144f23121cbafbdade6cbd.png"><br><br>  That's all, you can experiment.  For example, I added a table cell to see how it will look. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3c4/b83/d03/3c4b83d03b9a0540e8f9ca1792be3b4e.png"><br>  You can read more here <a href="https://developer.apple.com/library/prerelease/ios/recipes/xcode_help-source_editor/ExploringandEvaluatingSwiftCodeinaPlayground/ExploringandEvaluatingSwiftCodeinaPlayground.html">https: //developer.apple.com / ...</a> <br><br><h4>  Conclusion </h4><br>  At first glance, I liked the language.  It will be quite easy to switch from Obj-C to Swift, besides Swift gets on well with Obj-C.  The amount of code has decreased by several times, while the readability has increased.  No need to mess around with memory now, Swift does it all. <br><br>  Read more about Swift: <a href="https://itunes.apple.com/us/book/swift-programming-language/id881256329%3Fmt%3D11">The Swift Programming Language</a> </div><p>Source: <a href="https://habr.com/ru/post/225297/">https://habr.com/ru/post/225297/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../225285/index.html">The first Omsk Geo-Hakaton completed</a></li>
<li><a href="../225287/index.html">Product design digest, April-May 2014</a></li>
<li><a href="../225289/index.html">My latest file uploader</a></li>
<li><a href="../225291/index.html">Encoding x264 + Vorbis</a></li>
<li><a href="../225293/index.html">Trisection angle and other tasks on the construction</a></li>
<li><a href="../225301/index.html">Russian Robotics Olympiad - hurry to take part!</a></li>
<li><a href="../225303/index.html">DevConf :: Ruby - June 14 - the program is generated</a></li>
<li><a href="../225305/index.html">Accelerate the development process with Vagrant</a></li>
<li><a href="../225307/index.html">EFF souvenirs for Tor owners</a></li>
<li><a href="../225309/index.html">Maxmertkit Perfect css framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>