<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video on the e-book. Attempt to use e-ink reader as a second monitor in linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This essay is inspired by this publication for 2012, which outlines a great way to avoid buying the only existing usb monitor in the world with liquid...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video on the e-book. Attempt to use e-ink reader as a second monitor in linux</h1><div class="post__text post__text-html js-mediator-article">  This essay is inspired by <a href="https://habrahabr.ru/post/274831/">this publication</a> for 2012, which outlines a great way to avoid buying the only existing usb monitor in the world with liquid ink of very high cost.  Brand, model and price will not be announced.  If you read the history of night experiments, there is no desire, then at the bottom of the page there is a video with the result. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f9e/44b/e30/f9e44be3017658c0754f17a5171027e0.jpg" alt="image" width="50%"></div><br><a name="habracut"></a><br><h2>  Idea itself </h2><br>  I have long been wondering how you can try to use the e-ink reader as a second monitor.  In order not to disassemble anything, not to pick up a soldering iron and not to frighten the neighbors with the smell of colophonic tar, I had to search the Internet for some time in search of possible solutions.  And the solution was found, although not as attractive as connecting an e-book directly.  And this decision, in principle, has been known for quite some time - it is a bundle of programs that allows you to control your desktop through a bruser. <br><br><h2>  Soup set </h2><br>  1) <b>x11vnc</b> - remote desktop server <br>  2) <b>apache</b> web server <br>  3) <b>tomcat</b> - ‚Äúopen source servlet container developed by the Apache Software Foundation.  Implements servlet specification and JavaServer Pages (JSP) and JavaServer Faces (JSF) specifications. ‚Äù  <i>Source: Wikipedia</i> <br>  4) <b>guacamole</b> is a program for providing remote access to the desktop using a regular web browser as a client.  ‚ÄúIt is written in C, Java and JavaScript, and implements a layer that allows you to organize desktop management from a web browser.  For the connection to the desktop in the interlayer, the standard protocols VNC, RDP and SSH are supported. ‚Äù  Source: <a href="http://www.opennet.ru/opennews/art.shtml%3Fnum%3D44473">Opennet</a> . <br>  It is worth adding: in the repositories there are two programs <b>guacamole-server and guacamole</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>For those who are not in the subject:</b> <br>  <b>*</b> All programs are installed on a laptop, netbook, etc. <br>  <b>**</b> You do not need to install anything on the e-book itself. <br>  <b>***</b> This solution is platform independent.  Linux, Windows - does not matter. <br><br><h2>  How to do, how it was done, what happened, and what did not quite </h2><br>  1) Installing tomcat can be done using the package manager of your distribution or download directly from the official site. <br>  I used the <a href="https://habrahabr.ru/post/196136/">following guide</a> and unpacked the archive in <b>/ usr / local / share</b> , the path I got is this: <br>  <b>/usr/local/share/apache-tomcat-7.0.82</b> <br><br>  2) Next, you can configure the file <b>/usr/local/share/apache-tomcat-7.0.82/conf/server.xml</b> . <br>  At your option!  I did not change anything. <br><br>  3) <b>/usr/local/share/apache-tomcat-7.0.82/conf/tomcat-users.xml</b> .  Here you can only add a user.  I added the lines that were offered to me as an example on the page with an authorization error, something like this (the reader is offered to act based on his own level of understanding): <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">role</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rolename</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"manager-gui"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">user</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">username</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"user"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">password</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"123"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">roles</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tomcat, manager-gui, manager-scrip$ &lt;/tomcat-users&gt;</span></span></span></span></code> </pre> <br>  4) Next, go to <b>/usr/local/share/apache-tomcat-7.0.82/webapps</b> .  Here you need to add the file <b>guacamole.war</b> . <br><br>  <b>Where to get it?</b> <br><br>  The answer is: <a href="http://guacamole.incubator.apache.org/doc/gug/installing-guacamole.html">here.</a>  <a href="http://guacamole.incubator.apache.org/doc/gug/installing-guacamole.html">And here is the instruction</a> on <a href="http://guacamole.incubator.apache.org/doc/gug/installing-guacamole.html">how</a> to handle this file.  In short: it needs to be copied to the <b>/usr/local/share/apache-tomcat-7.0.82/webapps</b> directory <br><br>  <b>Important!</b>  If the file has a different name, rename to <b>guacamole.war</b> <br>  <b>Important!</b>  <b>guacamole.war must match the version of guacamole-server</b> . <br><br>  In addition to the above, I cloned this thread: <br><br>  clone git: //github.com/apache/incubator-guacamole-client.git <br><br>  5) In this paragraph, I suggest editing the file: <br>  <b>nano /etc/guacamole/user-mapping.xml</b> <br>  At your discretion.  I just deleted the username and password in the first record: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">user-mapping</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Per-user authentication and config information --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">authorize</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">username</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">password</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">protocol</span></span></span><span class="hljs-tag">&gt;</span></span>vnc<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">protocol</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hostname"</span></span></span><span class="hljs-tag">&gt;</span></span>localhost<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"port"</span></span></span><span class="hljs-tag">&gt;</span></span>5900<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"password"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">authorize</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h2>  Start </h2><br>  6) Now you can run <b>x11vnc</b> <br>  I ran it from a regular user: <br>  <b>x11vnc -notruecolor -forever</b> <br><br>  The last flag, so that the server does not stop when the connection with the client is broken.  The default port is 5900. <br><br>  7) Run guacamole-server.  I do not know how this is done in other distributions, in Calculate Linux it is done like this: <br>  <b>/etc/init.d/guacd start</b> <br>  If everything is successful, then we get the following conclusion: <br><blockquote>  guacd |  * Starting guacd ... <br>  guacd | guacd [9345]: INFO: Guacamole proxy daemon (guacd) version 0.9.9 started <br></blockquote><br>  8) Run tomcat: <br>  <b>/usr/local/share/apache-tomcat-7.0.82/bin/startup.sh</b> <br>  Turns off like this: <br>  <b>/usr/local/share/apache-tomcat-7.0.82/bin/shutdown.sh</b> <br><br>  If everything is successful, then we have the output: <br><br><pre> <code class="xml hljs">/usr/local/share/apache-tomcat-7.0.82/bin/startup.sh Using CATALINA_BASE: /usr/local/share/apache-tomcat-7.0.82 Using CATALINA_HOME: /usr/local/share/apache-tomcat-7.0.82 Using CATALINA_TMPDIR: /usr/local/share/apache-tomcat-7.0.82/temp Using JRE_HOME: /etc/java-config-2/current-system-vm Using CLASSPATH: /usr/local/share/apache-tomcat-7.0.82/bin/bootstrap.jar:/usr/local/share/apache-tomcat-7.0.82/bin/tomcat-juli.jar Tomcat started.</code> </pre> <br>  9) We type in the browser <a href="http://you_ip:8080/guacamole/">http: // you_ip: 8080 / guacamole /</a> <br>  If you see an invitation to enter your login and password, then you can safely go.  But it is better from a third-party device, because there is a chance to seize recursion. <br><br>  10) Further, the reader is supposed to have an e-book with a WiFi module and a browser that has JavaScript support, since guacamole uses all of Ajax, which organizes the work of our <s>pseudo</s> second display.  For non-experts on web technologies I will add: the ability of Ajax to automatically automatically update the page content at some intervals acts as the main technology of emulating a second monitor.  So, there were two books in the author's apartment: <b>Sony PRS-T2 and PocketPro 612</b> . <br>  Both devices turned out to be useful for connecting to a netbook desktop. <br><br>  <b><i>Result on video:</i></b> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/fi7NFl_Hp20" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  What did not work out? </h2><br>  On PocketPro, the browser periodically falls quite predictably.  On Sony, the connection is broken.  The problem is partially solved by automatic reconnection. <br><br><h2>  Conclusion </h2><br>  In general, the result is acceptable for reading, viewing something in the browser, typing (if not at all) and some simple operations on a <s>pseudo</s> remote machine, but there is something to think about ... well, goodbye: ‚ÄúThanks for buying a TV and read this instruction "(C) Hoku from the TV show" Town ". <br><br><h2>  Update </h2><br>  Response time when typing: (found another reader with relatives) <br><iframe width="560" height="315" src="https://www.youtube.com/embed/lQVZ5VU5dR8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Just in case: netbook and reader are connected via WiFi via a router. <br><br><h2>  And the bike became a three-wheeled </h2><br>  To make it even more interesting, you can add the <b>-shared</b> flag when running <b>x11vnc</b> , <br>  then you can connect to your computer from several devices, including a smartphone. <br>  Now perhaps the main screen does not use at all, move the cursor and all <br>  mouse actions can be performed by looking at the screen of the smartphone. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/365/326/e71/365326e71aae563f58f6c38244de1280.jpg" alt="image" width="40%"><br><br><h2>  Attempt to play a 3D game of 1994 for Sega. </h2><br><iframe width="560" height="315" src="https://www.youtube.com/embed/HiG6_wBOlKA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/341748/">https://habr.com/ru/post/341748/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341736/index.html">Overview of the new high-performance RDP codec</a></li>
<li><a href="../341738/index.html">Delegate Adapter - why and how</a></li>
<li><a href="../341740/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ287 (October 30 - November 5, 2017)</a></li>
<li><a href="../341744/index.html">Simple plugin for localization of applications on Unity3D</a></li>
<li><a href="../341746/index.html">High Performance Computing: Microsoft Project and Cray</a></li>
<li><a href="../341750/index.html">JPoint 2018 Java Conference Announcement: JDK 9, High Load and JVM Performance</a></li>
<li><a href="../341752/index.html">How I found vulnerabilities in Google's bug tracking system and got $ 15,600</a></li>
<li><a href="../341756/index.html">Unreal Engine: QuickStart in Qt Creator under Arch Linux</a></li>
<li><a href="../341760/index.html">Infrastructure with Kubernetes as an affordable service</a></li>
<li><a href="../341764/index.html">Linux package managers almanac</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>