<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a picture counter</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! Today I will tell you how to create a dynamic image like the one above using PHP. All probably wondered how to implement this. It seems to me t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a picture counter</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/cropped1/8f80e0c7/b3b5d0b0/f130cc72/655ea820.png" height="96" width="96" align="left"><br>  Hello!  Today I will tell you how to create a dynamic image like the one above using PHP.  All probably wondered how to implement this.  It seems to me that if it is very good to think, then a new technology will come to our mind that is being introduced, especially with the advent of HTML5.  This, as probably many have already guessed - <a href="http://ru.wikipedia.org/wiki/SVG">SVG</a> .  For those who do not know, in fact, this is just an ordinary picture, but recorded in the form of similarity XML.  You can get a picture in two ways: draw yourself for example in Inkscape or download a ready-made one.  I will use the second method, since I have neither time nor artistic talent.  I will do the example of personal messages / mail, so I need two pictures, the first - no messages, the second - we have a certain number of new messages.  Download pictures <a href="http://rghost.ru/28829861">here</a> .  old.svg - no messages, new.svg message is. <br><a name="habracut"></a><br>  So, we proceed to the implementation.  We will need: <br><ul><li>  Some knowledge of PHP and HTML </li><li>  Understanding what template is </li><li>  Understanding what is SVG </li></ul><br>  We download <a href="https://github.com/LosYear/Private-Messages/blob/master/src/template.php">from here</a> template engine. <br>  How does templating work?  It works quite easily.  We specify the template for the class, initialize the variables, the parsim, we get the code ready for output. <br>  If in code, it works like this: <br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span>(<span class="hljs-string"><span class="hljs-string">'template.php'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   $var = "Text"; $tpl-&gt;get_tpl('file.html'); $tpl-&gt;set_value('Var',$var); $tpl-&gt;tpl_parse();</span></span></code> </pre> <br>  In the same way we will work with our pictures.  To begin, open a new.svg karinka for example in a notebook.  Find at the very end of the file line: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tspan</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sodipodi:role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"line"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tspan5273"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"71.75"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"11.791"</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tspan</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  And change to: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tspan</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sodipodi:role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"line"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tspan5273"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"71.75"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"11.791"</span></span></span><span class="hljs-tag">&gt;</span></span>{MSG}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tspan</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  With these actions, we added a variable to the template.  Now that we have a picture template, we go to the function itself.  Before writing, you need to realize that we have two pictures and we need to think about what to derive depending on the value of the variable.  Then substitute this value into the template and get a simple code: <br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">//   require_once('template.php'); //   $number = 1; if ($number == 1){ //   $tpl-&gt;get_tpl('imgs/new.svg'); $tpl-&gt;set_value('MSG',$number); $tpl-&gt;tpl_parse(); echo $tpl-&gt;html; } else{ //   $tpl-&gt;get_tpl('imgs/old.svg'); $tpl-&gt;tpl_parse(); echo $tpl-&gt;html; }</span></span></code> </pre><br>  We take into account that the pictures are in the imgs sub-directory, and the templating engine is next to the script in which it is included. <br>  That's all!  A simple solution, a simple problem. <br>  PS: Sorry for the picture new.svg.  I can not draw, if you do not like correct. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/132337/">https://habr.com/ru/post/132337/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132330/index.html">The first industry conference on email marketing: results</a></li>
<li><a href="../132332/index.html">‚ÄúGeekFest 2011: IT days in Irkutsk‚Äù</a></li>
<li><a href="../132333/index.html">Once again about delegates in C ++</a></li>
<li><a href="../132334/index.html">Utility for structured cabling system from AMP netconnect</a></li>
<li><a href="../132335/index.html">Google has added a +1 button to search by image.</a></li>
<li><a href="../132338/index.html">Opera 11.60 beta</a></li>
<li><a href="../132339/index.html">Introduced modular game controller for professional gamers.</a></li>
<li><a href="../132340/index.html">Javascript impurity for dummies</a></li>
<li><a href="../132343/index.html">Marketing Planning Module: A Strategic Approach</a></li>
<li><a href="../132344/index.html">The first working attack on the SSL / TLS protocol</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>