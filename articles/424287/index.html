<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we participated in InnovateFPGA 2018 and again did not win</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, Habr! My name is Daniel Smirnov, I study in the graduate school of ITMO University, where in the programming and modeling laboratory our te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we participated in InnovateFPGA 2018 and again did not win</h1><div class="post__text post__text-html js-mediator-article">  Greetings, Habr!  My name is Daniel Smirnov, I study in the graduate school of ITMO University, where in the programming and modeling laboratory our team is engaged in programmable electronics for projects related to fiber-optic sensors.  The FPGA - Field Programmable Gate Array is used as the hardware base for the sensors.  A couple of years ago, we learned that FPGA manufacturers are holding contests for engineering students.  Since then, every year a team is formed from us to participate in this event, and since this year it turned out to be special, we decided to share how everything was from the inside. <br><br><img src="https://habrastorage.org/webt/m0/ln/ey/m0lneyyylkauerjinv497y6zqic.jpeg" alt="image"><a name="habracut"></a><br><h3>  Introduction </h3><br>  It was October 2017, I did a weekly routine check: an analysis of ongoing conferences on topics that are implemented in our department.  At one point, I receive a mailing list from Terasic: a <a href="http://www.innovatefpga.com/em/index.html">new competition for developing projects using debug boards on FPGA</a> , now worldwide, starts.  The experience of the same contest of last year rushes and comes to mind: postponing the month to the last two weeks, long debugging and tuning of the algorithms and issuing all channels to the monitor and promising not to postpone it anymore to the last day. <br><br>  It was a great experience, during which we learned a lot about such a platform as SoC FPGA - the union between a huge array of logic elements and the Cortex-A9 processor, as well as their interaction with each other and with the periphery on the debug board. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      New competition - new rules, new requirements, new level.  Now, the competition is held in several stages: first, the regional stages are held, and then the final in San Jose;  All participants are sent the same fee, the <a href="https://www.terasic.com.tw/cgi-bin/page/archive.pl%3FLanguage%3DEnglish%26CategoryNo%3D165%26No%3D1046">DE10-Nano</a> , and in addition you can now choose not only the basic three modules, but also a large version of the Analog Devices boards!  However, unlike contests in previous years, this time it is necessary to sign a guarantee for the project, and in case of non-fulfillment, participants must send the fees back.  Quite rightly, given the statistics of past years: <br><blockquote>  &lt;...&gt; <b>71</b> teams from 20 European countries registered the contest &lt;...&gt; 25 judges from Industry (ALTERA) and Academia (CNFM) in France reviewed the <b>32</b> projects [1]. </blockquote>  The supervisor as well as the students who wanted to be involved in this work was already under a heavy load on various projects, but the excitement during the competition and the motivation to learn many new things became powerful arguments to again take part in the competition.  It remained to come up with a project with which you can apply. <br><br><h3>  Idea for the project </h3><br>  To ensure that the project did not stand aside, it was decided to implement a device useful for the department, which then can be easily refined and improved.  Based on the department's areas of activity, there were various options: optical reflectometer, stroboscopic oscilloscope, etc. Quickly reviewing already existing applications and available additional fees, it was revealed that the reflectometer was already stated, and a stroboscopic oscilloscope was not assembled on such elements.  The only idea remained tenacious - vector network analyzer.  The other day, a pair of coils was brought to the laboratory, for which there was no documentation.  The task was to determine at least the approximate characteristics of these coils.  It was known that they assembled an oscillatory circuit, so the main task was to find out the resonant frequency.  In such tasks, a vector network analyzer (VAC or VNA - Vector Network Analyzer) can be used.  VNA allows you to define a scattering matrix, also known as an S-parameter matrix.  In this method, the element under study is considered as a black box, in which the analysis of incident and reflected signals from the ports of this device is carried out.  So, for a two-port system, the matrix is ‚Äã‚Äãas follows: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><msubsup><mi>V</mi><mn>1</mn><mo>&amp;#x2212;</mo></msubsup><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><msubsup><mi>V</mi><mn>2</mn><mo>&amp;#x2212;</mo></msubsup><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>11</mn></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>)</mo><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>12</mn></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>21</mn></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>)</mo><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>22</mn></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><mtext>&amp;#xA0;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><msubsup><mi>V</mi><mn>1</mn><mo>+</mo></msubsup><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><msubsup><mi>V</mi><mn>2</mn><mo>+</mo></msubsup><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="93.735ex" height="23.021ex" viewBox="0 -883.9 40358 9911.9" role="img" focusable="false" style="vertical-align: -20.969ex; max-width: 778px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(15705,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-65" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-67" x="1146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="1626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6E" x="1972" y="0"></use><g transform="translate(2572,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-78" x="2996" y="0"></use></g><g transform="translate(6141,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-56" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-2212" x="1167" y="570"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-31" x="825" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-28" x="7616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-66" x="8006" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-29" x="8556" y="0"></use></g><g transform="translate(18776,-1555)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-56" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-2212" x="1167" y="570"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-32" x="825" y="-435"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-28" x="1475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-66" x="1865" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-29" x="2415" y="0"></use></g><g transform="translate(10986,-3044)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-65" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6E" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-64" x="1317" y="0"></use><g transform="translate(1840,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-3D" x="5686" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="6993" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-65" x="7422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-67" x="7889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="8369" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6E" x="8715" y="0"></use><g transform="translate(9315,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-78" x="2996" y="0"></use></g><g transform="translate(12884,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-53" x="0" y="0"></use><g transform="translate(613,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-31" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-28" x="14305" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-66" x="14694" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-29" x="15245" y="0"></use><g transform="translate(15634,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-53" x="0" y="0"></use><g transform="translate(613,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-32" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-28" x="17056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-66" x="17445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-29" x="17996" y="0"></use></g><g transform="translate(17428,-4477)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-53" x="0" y="0"></use><g transform="translate(613,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-32"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-31" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-28" x="1421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-66" x="1810" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-29" x="2361" y="0"></use><g transform="translate(2750,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-53" x="0" y="0"></use><g transform="translate(613,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-32"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-32" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-28" x="4172" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-66" x="4561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-29" x="5112" y="0"></use></g><g transform="translate(13001,-5975)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-65" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6E" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-64" x="1317" y="0"></use><g transform="translate(1840,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="5659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-65" x="6088" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-67" x="6555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="7035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6E" x="7381" y="0"></use><g transform="translate(7981,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-78" x="2996" y="0"></use></g><g transform="translate(11550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-56" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-2B" x="1167" y="570"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-31" x="825" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-28" x="13025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-66" x="13415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-29" x="13965" y="0"></use></g><g transform="translate(18776,-7529)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-56" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-2B" x="1167" y="570"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-32" x="825" y="-435"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-28" x="1475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-66" x="1865" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMAIN-29" x="2415" y="0"></use></g><g transform="translate(17474,-8963)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-65" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6E" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-64" x="1317" y="0"></use><g transform="translate(1840,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/424287/&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhWYu_KWXuj7f0QqEjqbQHHsTXUXg#MJMATHI-78" x="2996" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><msubsup><mi>V</mi><mn>1</mn><mo>‚àí</mo></msubsup><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><msubsup><mi>V</mi><mn>2</mn><mo>‚àí</mo></msubsup><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mn>11</mn></mrow></msub><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mn>12</mn></mrow></msub><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mn>21</mn></mrow></msub><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mn>22</mn></mrow></msub><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><mtext>&nbsp;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow><msubsup><mi>V</mi><mn>1</mn><mo>+</mo></msubsup><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><msubsup><mi>V</mi><mn>2</mn><mo>+</mo></msubsup><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>x</mi></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ begin {bmatrix} V_1 ^ - (f) \\ V_2 ^ - (f) \\\ end {bmatrix} = \ begin {bmatrix} S_ {11} (f) S_ {12} (f) \\ S_ {21} (f) S_ {22} (f) \\\ end {bmatrix} \ begin {bmatrix} V_1 ^ + (f) \\ V_2 ^ + (f) \\\ end {bmatrix} </script></p><br>  Where V1 + V2 + - electromagnetic waves arriving at the ports; <br>  V1- V2‚Äì are electromagnetic waves emerging from the ports; <br>  Sij - elements of the multipole scattering matrix.  [2] <br><img src="https://habrastorage.org/webt/be/ng/_z/beng_z7w15esbtfd8n2hnmyrww0.jpeg" alt="image"><br>  <i>The scheme of measuring the S-parameters of a multipole</i> <br><br>  The components and circuit could not be examined by X-rays (at least by metro X-rays), so the following scheme was assembled on the knees: through the circulator the frequencies with the set pitch were alternately fed to the coil input, the second circulator port was connected to the coil input, and the third on the oscilloscope, which has in its software mode amplitude-frequency analysis.  This scheme allows you to measure the parameter S11, i.e.  reflection.  In the end, after long suffering and calibrations, it was possible to remove this characteristic - but at what price?  The department had long anticipated the acquisition of a vector network analyzer for such tasks (measurements of AFCh of electronic devices), but this purchase was always somehow postponed. <br><br>  After messing around with the coils, it was decided to assemble our own network analyzer with visualization and comfortable tuning.  It‚Äôs easy to find the excitement and the desire to learn something new for students and graduate students working at the department, so the team was quickly assembled from an electronics engineer, a programmer on the chip, me and two mentors. <br><br>  No sooner said than done!  After numerous discussions about the frequency band, processing algorithms and other parameters of the project, the application contained the following: <br><br><ul><li>  The claimed project is a vector network analyzer based on SoC FPGA on the DE10-Nano; </li><li>  Requested additional fees: a board with a programmable frequency generator, a high-frequency mixer and a board with ADC; </li><li>  Operating frequency range: according to the presented options for additional cards; </li><li>  The ability to quickly expand the number of ports connected; </li><li>  Conclusion of the amplitude and phase components on the screen; </li><li>  Other basic input / output functions for a vector network analyzer. </li></ul><br>  To pass to the next stage, it was necessary for the project page to gain enough ‚Äúlikes‚Äù from users registered on the site.  At first, everything went well, but then some dubious projects began to gain unrealistic and contrasting values ‚Äã‚Äãof likes and views compared to other projects.  It turned out that the contest site was too vulnerable to cheating. <br><br>  After some time, the organizers announced that the board of judges would still choose the finalists, so the likes of the users, in fact, lost their weight.  On January 31, our team appeared in the lists of those passing to the next stage, and we began to think over our project in more detail while waiting for debugs. <br><br><h3>  Harsh reality </h3><br>  First came the DE10-Nano board.  Nice, but a bit strange: expect that the boards will come all together.  A few days later a call comes in from customs: the fees came, they all together exceed the price threshold, so you need to pay for a customs clearance amount approximately equal to the cost of these fees.  Such a deal disappointed us, but did not suit us: we refused the boards.  We did not have mixers and generators available, it is necessary to find new solutions.  What to do?  The first thing that came to mind was not the most accurate, but rather unusual solution: use the usual GPIO leg and generate a square wave from it.  At the output of this leg, an analog low-pass filter is installed with a cutoff band slightly larger than the maximum frequency of the square wave.  To start the analysis, it was suggested to start with 1 MHz (for example): then after the filter we would get a more or less pure sine (the higher harmonics would be cut off by the filter), and so on until the frequency drops to the one on which in the signal after the filter there will be two harmonics.  The meander is the sum of odd harmonics, and the proportional contribution of each harmonic is known in advance [3]. <br><br><img src="https://habrastorage.org/webt/hr/rh/ey/hrrheyqb6av3qr9lgohbzfjgwpm.jpeg" alt="image"><br>  <i>An example of a meander in the time and frequency domains: the spectrum shows the components of the harmonic signal at 500 kHz, 1.5 MHz, etc.</i> <br><br>  With a filter with a cutoff frequency of 1 MHz, you can go down to 33. (3) kHz.  After this frequency for the filter, we should get the sum of two sines.  The proportional ratio of their amplitudes is known (sinc-function), the response of the measured device to a frequency of 1 MHz (the first odd harmonic) also means that it remains for us to make an equation with one unknown and calculate the response characteristic at a frequency of 33, (3) kHz!  At first, this solution seemed too simple, so for the beginning it was told to everyone in the hope that someone would find a mistake.  No errors were found, but as the discussion proceeded, a number of restrictions were discovered: <br><br><ul><li>  The GPIO leg is not the best source of the meander, especially with increasing frequency; </li><li>  Soldering a compact filter on available components will be a non-trivial task; </li><li>  Even if these limitations can be circumvented, there is a synchronization problem for phase detection. </li></ul><br>  Suppose we have solved all the problems on the analog part;  programmatically, there are two others: <br><br><ul><li>  With decreasing frequency, the error of each previous detection and calculation will contribute to the subsequent measurement; </li><li>  With decreasing frequency, the time to calculate the characteristics will increase significantly. </li></ul><br>  And finally, last but not least.  The described scheme can be used if the measured element can be described by a linear transfer function.  However, if we measure a black box with nonlinear characteristics, there are more problems than ideas from the idea.  There was not much time left (the first result should be shown already two months after the arrival of the board), so after a brief reflection we decided to double-check our reserves on the existing debug boards - and found a <a href="https://www.terasic.com.tw/cgi-bin/page/archive.pl%3FLanguage%3DEnglish%26CategoryNo%3D67%26No%3D278">14-bit DAC at 125 Msps</a> !  Not the most elegant solution, but you don‚Äôt have to choose, we use it as an output signal generator. <br><br><h3>  First concept </h3><br>  The selected DAC as a generator accepts data at the parallel bus input and latches it with a clock signal coming from the FPGA.  Such a scheme is ideal for synchronization in our scheme.  However, with the detection remained questions. <br><br>  Yes, on the same board there is a 14-bit ADC at 65 Msps.  But here only the potential of the generator is potentially higher, but according to Kotelnikov's theorem, this ADC will no longer work at maximum frequencies. <br><br>  The solution was found during the discussion of this problem with experienced electronics engineers.  It turned out that for our task we can use a synchronous detector circuit (lock-in amplifier): the output of such a detector are two constant values, the phase and quadrature components, from which the amplitude and phase of the signal can be obtained, and since they are constant, they can be detected even with the slow ADC installed on the DE10-Nano!  It was decided to first model the circuit in the LTSpice, and then select the components and assemble the circuit, taking into account that the detector input is a signal from the circulator, and the outputs are connected to the ADC on the DE10-Nano board. <br><br><div class="spoiler">  <b class="spoiler_title">About synchronous detector and circulator</b> <div class="spoiler_text">  A synchronous detector is also used in digital signal processing for detecting various signals against noise.  A good description is in Zurich Instruments [4], in our case, detection is performed as follows: the reflected signal of a known frequency is multiplied by a square wave using a high-frequency switch and an operational amplifier: <br><br><img src="https://habrastorage.org/webt/wj/2w/2m/wj2w2mpd5lkdnvymqkjv4xd22py.jpeg" alt="image"><br>  <i>Reflected signal detection circuit</i> <br><br>  In fact, multiplication is implemented as switching the operating mode of the operational amplifier, and switching is controlled by two meanders coming from the DE10-Nano board: one of them is in phase with the original signal (entering the device input) and the other is 90 degrees latency. <br><br>  The result of multiplication is the transfer of the useful signal to the DC component, and all frequencies above are no longer interesting and therefore can be filtered: <br><br><img src="https://habrastorage.org/webt/3a/vd/yl/3avdylljhbnfxcjpz2fdhma8l5k.jpeg" alt="image"><br>  <i>Signal spectrum before and after multiplication: a simple low-pass filter can be collected at the output of the operational amplifier to isolate only the DC component</i> <br><br>  The circulator on the operational amplifiers (op-amps) is a series circuit of operational amplifiers, closed in a ring.  Circulators at the OS are used for many purposes, in particular, for tuning antennas, amplifiers, generators, gigabit Ethernet, etc.  in the frequency range up to hundreds of megahertz.  When creating the ACV, a circulator circuit based on two operational amplifiers was used [5]. <br><br><img src="https://habrastorage.org/webt/vx/tl/ai/vxtlaisruvdbmlgjt5urqiqq1si.jpeg" alt="image"><br>  <i>Circuit diagram for connecting the measured device</i> <br></div></div><br><img src="https://habrastorage.org/webt/qi/l4/np/qil4np-wpix4ax_fq1sams8fkac.png" alt="image"><br>  <i>Updated project concept</i> <br><br>  Sinusoidal signals with a frequency of 1 Hz to 1 MHz with steps of a few Hz sent to the first port of the circulator.  The device under study was connected to the second port, depending on the frequency response of which the signal reflectance changed.  The reflected signal arrived at port 3, where a synchronous detector circuit was assembled to determine the frequency and phase characteristics.  For correct operation, the ports of the circulator were adapted for a 100 Ohm impedance, which was connected with the output resistance of the DAC and the choice of the devices under study. <br><br><img src="https://habrastorage.org/webt/er/3f/gl/er3fglsxrl4wv0nzb3oumua31kw.jpeg" alt="image"><br><br>  Less than a month remained before the project was submitted, and by the end of the period it was necessary to also prepare reporting materials: a detailed description of the project on the contest page, a project posted on GitHub in the public domain and a video report on the work done. <br><br>  Since we now understood what data would come to the inputs and outputs, we began work on the project for SoC FPGA.  We saw the project being implemented as follows: the user sets the frequency range in which the measurement is planned, the FPGA begins to generate harmonics in the specified interval in turn using a DAC, the ADC accepts quadrature and phase components at the input, converting them into the amplitude and phase values ‚Äã‚Äãat the current frequency , the values ‚Äã‚Äãobtained are displayed in real time on a monitor connected to the debug board.  There had already been some groundwork on displaying information on the monitor, so the main part was to correctly draw the data in real time and display the picture on HDMI.  We ungrouped.  The first group took up tasks in the program for the processor, to understand in more detail with the necessary initializations, questions on data visualization.  We also asked them to raise the screen resolution to 1024x768 [6].  The second group contains details on the implementation of the part on the FPGA, which should then be brought to the processor via the lightweight_h2f interface bus, as well as the performance test of the first prototype of the synchronous detector.  After eliminating the shortcomings and successfully measuring the characteristics of several elements, there was little time left, so the next two days were devoted to connecting the systems together, adding reports and mounting the video. <br><br><img src="https://habrastorage.org/webt/mg/bc/2k/mgbc2kgdmbw3bs_hby21qlnuvfa.jpeg" alt="image"><br>  <i>The appearance of the top-level file in the program Quartus II</i> <br><br><h3>  Last minutes </h3><br>  After spending more than a couple of days off in the laboratory, we collected the entire system.  It did not work for the entire potential frequency range, measured only the parameter S11, and on the monitor reflected the measured phase and amplitude characteristics of the connected device.  The externally assembled device still didn‚Äôt look very attractive - three separate boards connected by single-conductor wiring, but this is a <b>working</b> prototype, and you can bring a marafet in the next step.  We wrote the text, illustrated the stages of implementation, shot the video, downloaded everything to the site and waited. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BvW69keXv7Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Of course, we sent out links to these materials to some acquaintances in order to slightly add views.  However, one day the views began to grow themselves, as if someone had poured it into promotion.  After a little analysis, it turned out that our project was noticed on hackaday.io [7] and the overwhelming majority of the views were from there.  It was interesting to see the first responses to our project.  Encouraged, we waited for the results. <br><br><img src="https://habrastorage.org/webt/ds/zw/it/dszwitoqfdfo0vfnozkfbfygeg8.png" alt="image"><br><br><h3>  but </h3><br>  This is not the first year of our participation in the competition.  This project was for us the most thoughtful among the previously completed student work.  But did not grow together: we did not pass to the next stage.  Perhaps this is due to a misunderstanding between us and the judges.  Perhaps just the project is not in the area of ‚Äã‚Äãcurrent trends for FPGA in full (cryptography, parallel computing, neural networks, etc.).  But for us this is a big step in the development of SoC FPGA, a new branch of development and, most importantly, experience. <br><br><h3>  Ps </h3><br>  Congratulations to the Russian representatives, who took second place in the final competition! <br>  I thank my colleagues in the project Danila Nikiforovsky and <a href="https://habr.com/users/vv_ev_vl/">Yevgeny Vostrikov</a> and the leaders <a href="https://habr.com/users/vanodnk/">Ivan Deineka</a> , <a href="https://habr.com/users/tvshushtov/">Philip Shuklin</a> and Artem Aleinik for their active participation and support. <br><br><h3>  Links </h3><br>  [1] Innovate Europe 2015 Contest <a href="http://www.innovateeurope.org/eu/2015winner.html">www.innovateeurope.org/eu/2015winner.html</a> <br>  [2] An Engineer's Guide To Automated Testing Of High-Speed ‚Äã‚ÄãInterface, Jose Moreira, Hubert Wekmann, 2010, Appendix F p. 503 <br>  [3] The spectrum of a periodic sequence of rectangular pulses, <a href="http://ru.dsplib.org/content/fourier_series_pimp/fourier_series_pimp.html">ru.dsplib.org/content/fourier_series_pimp/fourier_series_pimp.html</a> <br>  [4] Zurich Instruments Principles of Lock-in-Detection and State of the Art, <a href="http://www.zhinst.com/applications/principles-of-lock-in-detection">www.zhinst.com/applications/principles-of-lock-in-detection</a> <br>  [5] Low-frequency circulator / insulator without ferrite and magnet <a href="http://www.cqham.ru/oth9.htm">www.cqham.ru/oth9.htm</a> <br>  [6] VAC project for DE10-Nano board <a href="https://github.com/tvShushtov/em078_vector_analyzer">github.com/tvShushtov/em078_vector_analyzer</a> <br>  [7] Article about the ACV on Hackaday <a href="https://hackaday.com/2018/05/09/vector-network-analyzer-uses-soc-fpga/">hackaday.com/2018/05/09/vector-network-analyzer-uses-soc-fpga</a> </div><p>Source: <a href="https://habr.com/ru/post/424287/">https://habr.com/ru/post/424287/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../424273/index.html">Single-stage gearbox driven by a Stepper Motor</a></li>
<li><a href="../424275/index.html">Energy in the cell. Use and storage</a></li>
<li><a href="../424277/index.html">Emigration and everything about her in telegram blogs</a></li>
<li><a href="../424279/index.html">How to open IE in Germany, if you are a programmer, and do not fill cones</a></li>
<li><a href="../424285/index.html">Tips for startups from Y Combinator: explore "toy" markets</a></li>
<li><a href="../424289/index.html">MIT course "Computer Systems Security". Lecture 9: "Web Application Security", part 1</a></li>
<li><a href="../424295/index.html">MIT course "Computer Systems Security". Lecture 9: "Web Application Security", part 2</a></li>
<li><a href="../424297/index.html">MIT course "Computer Systems Security". Lecture 9: "Web Application Security", part 3</a></li>
<li><a href="../424301/index.html">Adaptive Neural Network Image Filter Algorithm</a></li>
<li><a href="../424305/index.html">Uber Cross-Platform Mobile Architecture RIBs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>