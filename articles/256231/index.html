<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Does disk space speed up your computer?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a translation of the answer to the question about the effect of free disk space on performance from the site superuser.com - approx. translato...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Does disk space speed up your computer?</h1><div class="post__text post__text-html js-mediator-article">  <i>This is a translation of the answer to the question about the effect of free disk space on performance from the site <a href="http://superuser.com/questions/903579/why-does-emptying-disk-space-speed-up-computers">superuser.com</a> - approx.</i>  <i>translator</i> <br><br><br><br>  <b>From the author:</b> <i>Looks like I accidentally wrote a whole book.</i>  <i>Pour yourself a cup of coffee before reading.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  Does disk space speed up your computer? </blockquote><br>  Freeing up disk space does not speed up the computer, at least not by itself.  This is a really common myth.  This myth is so common because filling up your hard drive often happens concurrently with other processes that traditionally <i>can</i> slow down your computer.  SSD performance <a href="http://www.howtogeek.com/165542/why-solid-state-drives-slow-down-as-you-fill-them-up/">may decline as it is filled</a> , but this is a relatively new problem inherent in SSD, and, in fact, hardly noticeable to ordinary users.  In general, the lack of free space is just a <a href="https://en.wikipedia.org/wiki/Red_herring">red rag for the bull</a> ( <i>distracts attention - comment of the translator</i> ). <br><a name="habracut"></a><br><blockquote>  Note  author: * <i>"Slowdown" - a term with a very broad interpretation.</i>  <i>Here I use it for I / O related processes (i.e., if your computer is purely computing, the contents of the disk have no effect), or related to the processor and competing with processes that consume a lot of processor resources (i.e., antivirus scanning a large number of files)</i> </blockquote><br><br>  For example, such phenomena as: <br><ul><li>  File Fragmentation  File fragmentation is a problem **, but the lack of free space, although one of <i>many</i> factors, is not the <i>only</i> cause of fragmentation.  Highlights: <br><blockquote>  Note  Authors: ** <i>Fragmentation <i>affects</i> SSDs due to the fact that sequential read operations are usually much faster than random access, although the SSD does not have the same limitations as for mechanical devices (even in this case, the absence of fragmentation does not guarantee sequential access due to the distribution wear and tear and similar processes).</i>  <i>However, in almost any typical use case, this is not a problem.</i>  <i>Differences in SSD performance due to fragmentation are usually not noticeable for application launch processes, computer boot, and others.</i> </blockquote><br><ul><li>  The probability of file fragmentation is not related to the amount of free disk space.  It depends on the size of the largest contiguous block of free space on the disk (that is, the ‚Äúgaps‚Äù of free space), which is <i>bounded above by the</i> amount of free space.  Another dependency is the method used by the file system when placing files (more on that later). <br>  <b>For example:</b> If the disk is occupied 95% of the space and everything that is freely represented by one continuous block, then the new file will be fragmented with a probability of 0% ( <i>unless, of course, the normal file system fragment the files specifically - author's note</i> ) (also the probability of fragmentation file does not depend on the amount of free space).  On the other hand, a disk filled with 5% of data evenly distributed over it has a very high probability of fragmentation. </li><li>  Please note that file fragmentation affects performance <i>only when you access these files</i> .  <b>For example:</b> You have a good, defragmented disk with a lot of free ‚Äúgaps‚Äù on it.  Typical situation.  Everything works well.  However, at some point you come to a situation when there are no more large free blocks left.  You download a big movie, and this file is highly fragmented.  <i>It will not slow down your computer</i> .  Files of your applications and others that were in perfect order will not become instantly fragmented.  The movie can of course take longer to load (however, the typical movie bit rates are so much lower than the speed of reading hard drives that it will probably go unnoticed), it can also affect the I / O performance while the movie is loading, but nothing changes. </li><li>  Although fragmentation is a problem, often the problem is offset by caching and buffering from the operating system and hardware.  Delayed write, read ahead, and so on, help solve problems caused by fragmentation.  In general, you <i>do not notice anything</i> until the level of fragmentation becomes too high (I would even venture to say that as long as your page file is not fragmented, you will not notice anything) </li></ul><br></li><li>  Another example is Search Engine Indexing.  Suppose that you have enabled automatic indexing, and the operating system does not implement it very well.  As you save more and more indexed files to your computer (documents and the like), the indexing starts to take more and more time and can begin to have a noticeable effect on the observed computer performance in the course of its work, eating at the same time I / O and processor time.  This is not related to free space, but is related to the amount of data being indexed.  However, the exhaustion of disk space occurs simultaneously with the preservation of a larger amount of content, so many people establish an incorrect relationship. </li><li>  Antivirus.  Everything is very similar to the search index example.  Let's say you have an antivirus that performs a background scan of your disk.  You have more and more files to scan, the search begins to consume more and more I / O and processor resources, possibly interfering with the work.  Again, the problem is with the amount of content being scanned.  More content - less free space, but the lack of free space is the cause of the problem. </li><li>  Installed programs.  Suppose you have installed many programs that run when the computer boots, which increases the boot time.  This slowdown occurs because many programs are loaded.  At the same time, installed programs take up disk space.  Consequently, the amount of free space decreases simultaneously with deceleration, which can lead to wrong conclusions. </li><li>  Many other similar examples can be cited that give the <i>illusion of a</i> link between the exhaustion of disk space and a decrease in performance. </li></ul><br><br>  What was written above illustrates another reason for the prevalence of this myth: although the exhaustion of free space is not directly a cause of slowing down, uninstalling various applications, deleting indexed and scanned content, etc.  sometimes (but not always, such cases are outside the scope of this text) leads to <i>an increase in</i> productivity for reasons not related to the amount of free space.  At the same time, disk space is naturally released.  Consequently, a false connection between ‚Äúmore free space‚Äù and ‚Äúfast computer‚Äù also appears here. <br><br>  <b>See</b> : if your computer is slow because of the large number of installed programs, etc., and you clone your hard disk exactly onto a larger hard disk, then expand the partitions to get more free space, the computer does not will be on the wave of hands faster.  The same programs are loaded, the same files are fragmented in the same way, the same indexing service works, nothing changes, despite the increase in free space. <br><br><blockquote>  Is this somehow related to finding a place to put files? </blockquote><br><br>  No, not connected.  There are two important points here: <br><ol><li>  <b>Your hard drive is not looking for a place to put files</b> .  The hard drive is stupid.  He is nothing.  This is a large block of addressable storage that blindly obeys the operating system in terms of placement.  Modern disks are equipped with sophisticated caching and buffering mechanisms designed to predict operating system requests based on people's experience (some disks even know about file systems).  But, in fact, the disk should be thought of as a big silly brick storing data, sometimes with performance enhancing features. </li><li>  <b>Your operating system is also not looking for a place to put it.</b>  <b>There is no "search</b> . <b>"</b>  Great efforts have been made to solve this problem, because  it is critical to file system performance.  The data is located on your disk as determined by the <a href="https://en.wikipedia.org/wiki/File_system">file system</a> , for example, FAT32 (old computers with DOS and Windows), NTFS (new Windows systems), HFS + (Mac), ext4 (some Linux systems) and many others.  Even the concept of a ‚Äúfile‚Äù or ‚Äúdirectory‚Äù ( <i>‚Äúfolders‚Äù - translator's note</i> ) is just the fruit of a typical file system: hard drives are not aware of such animals as ‚Äúfiles‚Äù.  Details are outside of this text.  However, in fact, all common file systems contain a way to track free disk space and therefore, ‚Äúsearching‚Äù for free space, under normal circumstances (i.e., in the normal state of the file system), is not necessary.  Examples: <br><br><ul><li>  <a href="http://en.wikipedia.org/wiki/NTFS">NTFS</a> contains the <a href="https://msdn.microsoft.com/en-us/library/bb470206%2528v%3Dvs.85%2529.aspx">master file table</a> which includes special files (for example, $ Bitmap) and a lot of metadata describing the disk.  In fact, it tracks subsequent free blocks, so that files can be written to disk without having to scan the disk each time. </li><li>  Another example, <a href="http://en.wikipedia.org/wiki/Ext4">ext4</a> has an entity called a <a href="https://ext4.wiki.kernel.org/index.php/Frequently_Asked_Questions">‚Äúbitmap allocator,‚Äù an</a> improvement over ext2 and ext3, which helps directly determine the position of free blocks, instead of scanning the list of free blocks.  Ext4 also supports ‚Äúdeferred allocation‚Äù, which is essentially the data buffering of the operating system into RAM before writing to disk, in order to make the best placement decision to reduce fragmentation. </li><li>  Many other examples. </li></ul><br></li></ol><br><br><blockquote>  Maybe it's about moving files back and forth to allocate a sufficiently long uninterrupted place while saving? </blockquote><br><br>  No, this is not happening.  At least in any of the file systems I know.  Files are simply fragmented. <br><br>  The process of ‚Äúmoving files back and forth to isolate a long continuous block‚Äù is called <i>defragmentation</i> .  This does not happen when writing files.  This happens when you run the disk defragmenter.  at least on new Windows systems, this happens automatically on a schedule, but writing a file is never a reason to start this process. <br><br>  <i>Avoiding the</i> need to move files in this way is key to the performance of file systems, and the reason why fragmentation occurs, and defragmentation is a separate step. <br><br><blockquote>  How much free space should be left on the disk? </blockquote><br><br>  This is a more complicated question, and I have already written so much. <br><br>  Basic rules to follow: <br><ul><li>  For all types of disks: <br><ul><li>  The most important thing is to leave enough space <i>to use the computer effectively</i> .  If space runs out, you may need a larger disk. </li><li>  Many disk defragmentation utilities require a certain minimum of free space (it seems that delivered with Windows in the worst case requires 15% free space) for their work.  They use this space to temporarily store fragmented files while moving other objects. </li><li>  Leave room for other operating system features.  For example, if your computer does not have a large amount of physical RAM, and virtual memory is included with a dynamic volume paging file, you should leave enough free space to accommodate the maximum size paging file.  If you have a laptop that you send to hibernation, you need enough free space to save the hibernation state file.  Such are the things. </li></ul><br></li><li>  Concerning SSD: <br><ul><li>  For optimal reliability (and to a lesser degree of performance), there should be some free space on the SSD, which, without going into detail, is used to evenly distribute data across the disk to avoid permanent writing to the same place (which leads to resource depletion) .  The concept of reserving free space is called <a href="http://www.samsung.com/global/business/semiconductor/minisite/SSD/global/html/whitepaper/whitepaper05.html">over-provisionning</a> .  This is important, but <i>in many SSDs, mandatory backup space is already allocated</i> .  That is, disks often have several tens of gigabytes more space than they demonstrate to the operating system.  Cheaper drives often require you to leave some space unallocated.  But when working <i>with disks that have a forced backup, this is not required</i> .  It is important to note that <b>additional space is often taken only from unallocated areas</b> .  Therefore, <i>it</i> will <i>not always</i> work option when your partition takes up the entire disk, and you leave some free space on it.  Manual reinsertion requires that you make your partition smaller than the size of the disk.  Check your SSD user manual.  TRIM and garbage collection and similar things also have an impact, but they are beyond the scope of this text. </li></ul><br></li></ul><br><br>  Personally, I usually buy a new larger disk, when I have about 20-25% of free space.  This is not related to performance, it's just when I get to this point - this means that the place will end soon, which means it's time to buy a new disk. <br><br>  More important than tracking the free space is to check that the planned defragmentation is enabled where it is necessary (not on the SSD), so that you will never come to a moment when it is large enough to have a noticeable impact. <br><br><br><h3>  Afterword </h3><br>  There is one more thing to be mentioned.  One of the other answers to this question mentions that half-duplex SATA mode does not allow reading and writing at the same time.  While this is true, it is a strong oversimplification and for the most part is not related to the performance issues discussed here.  In fact, this simply means that data cannot be transmitted <i>across the wire</i> simultaneously in two directions.  However, <a href="https://www.mindshare.com/files/ebooks/SATA%2520Storage%2520Technology.pdf">the SATA specification</a> includes tiny maximum block sizes (I think about 8kB per block during transmission over the wire), queues of read and write operations, etc., and nothing prevents you from writing data to the buffer while reading and similar intersecting operations are being performed. <br><br>  Any blocking that may occur will be associated with competition for physical resources, which is usually compensated for by large amounts of cache.  Duplex SATA has almost nothing to do with this case. </div><p>Source: <a href="https://habr.com/ru/post/256231/">https://habr.com/ru/post/256231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../256215/index.html">Breaking gas leakage sensor</a></li>
<li><a href="../256217/index.html">What you need to know about migration to Russia by September 1, 2015 from foreign infrastructure</a></li>
<li><a href="../256221/index.html">Microsoft Research Conference - Cloud Computing for Microsoft Azure, May 19 at MSU</a></li>
<li><a href="../256223/index.html">Industrial processor sources will be available for universities.</a></li>
<li><a href="../256229/index.html">Lost: checklist to prepare the data center for the summer</a></li>
<li><a href="../256233/index.html">The law on "personal data" will lead to an increase in the volume of the data center market in Russia?</a></li>
<li><a href="../256239/index.html">Auto-tuning IP phones in 3CX - just plug and play</a></li>
<li><a href="../256245/index.html">What they say 100 million letters: Complete instructions for working with email newsletters</a></li>
<li><a href="../256247/index.html">Another project on the ESP8266 and a water meter</a></li>
<li><a href="../256251/index.html">We optimize step by step with the compiler Intel C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>