<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Required RMM monitors: how to detect incidents before they become problems in the IT network</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Availability of remote access tools is not enough for effective IT network management. To detect problems on endpoints in time, a remote monitoring sy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Required RMM monitors: how to detect incidents before they become problems in the IT network</h1><div class="post__text post__text-html js-mediator-article"><p>  Availability of remote access tools is not enough for effective IT network management.  To detect problems on endpoints in time, a remote monitoring system is needed. </p><br><img src="https://habrastorage.org/files/e10/bb6/4d4/e10bb64d4c3f4faab9ccd32842ee4dc3.jpg"><a name="habracut"></a><br><p><br></p><br><h4>  <b>Problem: it is often too late</b> </h4><br><p>  It is quite obvious that nowadays companies are more dependent on IT than before: email programs and applications that directly affect employee productivity, financial data stored on servers, the loss of which can negatively affect a company's reputation, etc. </p><br><p>  Unfortunately, in many small and medium-sized enterprises (let's hope that in very large organizations this is no longer the case!) IT departments work reactively, but not in the sense of their ‚Äúreactive‚Äù work speed, but in the sense that they react to certain IT events as they occur.  Those.  when something has already happened, and this something has already had a negative impact on the work of this or that computer, and, consequently, of the employee (or even the company). </p><br><p>  It turns out that if an employee of your IT department received a call or a letter from another employee of your enterprise (or from a client, if you are servicing their PC) with information that a server is unavailable or some PC is not working correctly, then it indicates that it is already getting late, because the efficiency of the company is already decreasing, and the damage from idle / reduced productivity begins to grow.  And, most likely, the problem is hardly serious, and it is eliminated quickly enough, but now if we knew about it in advance ... That, as they say, ‚Äúwould live in Sochi‚Äù. </p><br><p>  If you find out in time about the appearance of the problem (at the initial stage it may still not be noticeable to end users), then you can prevent the incident or at least reduce the damage.  And with this, monitoring systems can help you to track the performance of your IT systems so that you can detect incidents before they become problems. </p><br><h4>  <b>Solution: complete monitoring system</b> </h4><br><p>  As a solution to this problem, we propose to see how it is solved using the <a href="https://www.cloudav.ru/enterprise/solutions/cloud-systems-management/">Panda Systems Management</a> cloud RMM service.  Its monitoring system as a whole allows you to automatically report on the possibility of problems, monitoring the operation of the device and reporting it using alerts, information panels, schedules, tickets, etc. All this allows you to detect incidents beforehand and efficiently manage time, automatically assigning the incident to the appropriate IT specialist and documenting all actions.  This is the only way to reduce response time and prevent serious problems that could adversely affect a company's performance and finances. </p><br><p>  <b>What we will tell you today in this article:</b> </p><br><ol><li>  What are monitors and monitoring policies </li><li>  What monitors are already available / recommended and how can they be imported </li><li>  Manual and automatic creation of monitors for devices that support the installation of the Panda Systems Management agent </li><li>  Special monitors for SNMP-compatible devices and ESXi servers </li></ol><br><h4>  <b>What are monitors</b> </h4><br><p>  Today we will not consider the entire monitoring system as a whole, but will focus only on the so-called monitors - the main components of the system, which allow you to ‚Äúkeep abreast‚Äù and monitor the values ‚Äã‚Äãof all necessary parameters on monitored devices. </p><br><p>  Monitors monitor attributes, processes and events on the devices on which they are deployed, and raise an alarm if the device stops working within the specified parameters. </p><br><p>  Monitors can be applied to a single device, to the entire site (a group of devices, some company division or the entire company) and / or to the entire account (consists of many sites) as part of the monitoring policy, or applied to any selected group of devices at any level . </p><br><p>  A monitoring policy is a way to apply one or more monitors to different devices within a site, group, sample, or to all devices in an account. </p><br><p>  ‚Ä¢ Monitoring policies can be configured at the account or site level. <br>  ‚Ä¢ Monitoring policies can be exported or imported when information on configured monitors and trigger threshold parameters, as well as their severity level, is transmitted. </p><br><p>  As a result, after setting up monitors on users' devices, the system will warn you about abnormal situations and, depending on the settings, automatically run the required scripts to solve the problem. </p><br><p>  <b>The monitor consists of four groups of parameters:</b> </p><br><p>  <b>‚Ä¢ Monitor type:</b> sets its function. <br>  <b>‚Ä¢ Monitor Details:</b> monitor parameters that describe the conditions when the trigger should trigger to trigger certain automatic actions. <br>  <b>‚Ä¢ Response:</b> automatic actions that can be triggered by the monitor.  Currently, two types of actions are supported: <br>  - launch the required component <br>  - sending emails <br>  <b>‚Ä¢ Ticket:</b> generating a ticket (contacting the IT department about the incident) <br>  Monitors can be generated automatically or manually. </p><br><p>  You can <a href="https://www.cloudav.ru/enterprise/solutions/cloud-systems-management/">register a trial version of Panda Systems Management on the website</a> for free and test the service in your IT environment. </p><br><p>  How to quickly implement the solution in your IT environment can be found in our <a href="https://habrahabr.ru/company/panda/blog/311292/">previous review article</a> . </p><br><h5>  <b>Import of recommended monitors</b> </h5><br><p>  Fortunately for many administrators, you already have ready-made monitors at your disposal, which were created by Panda Security based on the best practices used in ‚Äúcombat‚Äù conditions.  So you can safely <a href="http://www.pandasecurity.com/support/card%3Fid%3D300168">import them</a> : </p><br><p>  These monitors will help you significantly speed up the process of setting up the entire monitoring system, allowing you to monitor a wide range of devices and servers. </p><br><p>  Below is a table with a list of available monitors and supported products. </p><br><table><thead><tr><th>  <b>Monitor name</b> </th><th>  <b>Controlled Products</b> </th><th>  <b>Size, KB</b> </th><th>  <b>Description</b> </th></tr></thead><tbody><tr><td>  Monitoring Policy Backup Monitoring </td><td>  Symantec Backup Exec, Microsoft Windows Backup, Storagecraft, ArcServe, Microsoft Small Business Server, Acronis, Veeam </td><td>  2.6 </td><td>  Controls the ‚ÄúApplication‚Äù tab in Event Viewer, looking for messages with ‚ÄúCritical‚Äù, ‚ÄúError‚Äù or ‚ÄúWarning‚Äù event levels for processes belonging to supported backup systems: Backup Exec, NTBackup, ShadowProtectSvc, Microsoft-Windows-Backup, ArcServ, SmallBusinessServer , Windows Backup, Veeam MP, Acronis Backup Agent Core </td></tr><tr><td>  Monitoring Policy DHCP Server Monitoring </td><td>  DHCP IP service </td><td>  1.0 </td><td>  Controls the System and Application tabs in Event Viewer, looking for messages with the Critical, Error, or Warning event levels generated by the Microsoft-Windows-DHCP-Server process. <br>  Determines if the dhcpserver service is stopped for more than 1 minute, and tries to start it automatically. </td></tr><tr><td>  Monitoring Policy DNS Server Monitoring </td><td>  DNS Domain name service </td><td>  1,3 </td><td>  Controls the System tab in Event Viewer, looking for messages with the Critical, Error, or Warning event levels generated by the Microsoft-Windows-DNS-Server-Service, DnsApi, and DNS processes. <br>  Determines if DNS service is stopped for more than 1 minute, and tries to start it automatically. </td></tr><tr><td>  Monitoring Policy Domain Controller Monitoring </td><td>  Domain controller servers </td><td>  2.1 </td><td>  Controls the System tab in Event Viewer, looking for messages with the Critical, Error or Warning event levels, and with the 1955 event codes for the following processes: NTDS, Microsoft-Windows-GroupPolicy, Microsoft-Windows-Security- Auditing, NPS, Active Directory and DFSR. <br>  Determines if the ntds service is stopped for more than 1 minute, and tries to start it automatically. </td></tr><tr><td>  Monitoring Policy Exchange Server Monitoring </td><td>  Exchange mail server </td><td>  6 </td><td>  Monitors the System and Application tabs in Event Viewer, looking for messages with the Critical, Error or Warning event levels for the following processes: MSExchangeIS, MSExchangeAL, MSExchangeMGMT, MSExchangeSA, MSExchangeTransport, POP3Svc, UMCore, SMTPSVC and ClusSvc . <br>  Detects if MSExchangeES, MSExchangeIS, MSExchangeMGMT, IMAP4Svc, MSExchangeMTA, POP3Svc, RESvc, and MSExchangeSA services are stopped for more than 1 minute and tries to start automatically. </td></tr><tr><td>  Monitoring Policy Hyper-V Server Monitoring </td><td>  Hyper-V virtual machine server </td><td>  3.7 </td><td>  Controls the System and Application tabs in Event Viewer, looking for messages with the Critical, Error, or Warning event levels for the following processes: Microsoft-Windows-Hyper-V-VmSwitch, Microsoft-Windows-Hyper-V -VID-Admin, Microsoft-Windows-Hyper-V-HyperVisor-Admin, Microsoft-Windows-Hyper-V-Config-Admin, Microsoft-Windows-Hyper-V-VMMS-Admin, vmicheartbeat, vmickvpexchange, vmicrdv, vmicshutdown, vmictimesync and vmicvss. <br>  Determines if the vmms service is stopped for more than 1 minute, and tries to start it automatically. </td></tr><tr><td>  Monitoring IIS Webserver Monitoring </td><td>  IIS Web server </td><td>  1.0 </td><td>  Monitors the System and Application tabs in Event Viewer, looking for messages with the Critical, Error, or Warning event levels for the W3SVC and Microsoft-Windows-IIS processes. <br>  Determines if the W3SVC service is stopped for more than 1 minute, and tries to start it automatically. </td></tr><tr><td>  Monitoring Policy Linux Monitoring </td><td>  Devices with Linux operating system </td><td>  0.9 </td><td>  Controls the consumption of CPU and memory on the device, carrying out a search for the consumption level of 95% and higher for 10 minutes or more. <br>  Determines if the device is offline for more than 5 minutes. </td></tr><tr><td>  Monitoring Policy Mac OSX Monitoring </td><td>  Mac OS X Devices </td><td>  0.7 </td><td>  Controls the consumption of the CPU on the device, searching for a consumption level of 95% and higher for 10 minutes or more. <br>  Controls the memory consumption on the device by searching for the consumption level of 95% and higher for 20 minutes or more. </td></tr><tr><td>  Monitoring Policy Physical Server Monitoring </td><td>  Servers with Microsoft Windows installed </td><td>  8.2 </td><td>  Controls the System and Application tabs in Event Viewer, looking for messages with the Critical, Error or Warning event levels for the following processes: APCPBEAgent, Compaq, cpq, DELL Open Manage Server, Foundation Agents, HP, NIC Agents, pedge, perc, Server Administrator, Server Agents, Storage Administrator, Adaptec Storage Manager agent, acpi, adpu, afamgt, Disk, Ntfs, ServeRAID Manager Agent, SysMgmt, UPS, vxio, iScsiPrt, Dell Baseboard Agent, HPQILO2, HP Storage Server Management Service, Dell?  Application Update, Dell?  System Update and Cissesrv. </td></tr><tr><td>  Monitoring Policy SQL Server Monitoring </td><td>  Microsoft SQL Server servers </td><td>  1.1 </td><td>  Controls the System and Application tabs in Event Viewer, looking for messages with the Critical, Error, or Warning event levels for the following processes: MSSQLServer. <br>  Determines if the MSSQLServer and SQLAgent% services are stopped for more than 1 minute, and tries to start them automatically. </td></tr><tr><td>  Monitoring Policy Terminal Server Monitoring </td><td>  Terminal server </td><td>  2.2 </td><td>  Controls the System and Application tabs in Event Viewer, looking for messages with the Critical, Error or Warning event levels for the following processes: Citrix, Microsoft-Windows-Terminal-Services-RemoteConnectionManager, Microsoft-Windows-Terminal-Services-RemoteConnectionManager , TermService and TermServLicensing. <br>  Determines if TermService services are stopped for more than 1 minute, and tries to start them automatically. </td></tr><tr><td>  Monitoring Policy Windows Server Monitoring </td><td>  Servers with Microsoft Windows installed </td><td>  7.5 </td><td>  Controls several parameters on the main server type: <br>  Controls the System tab in Event Viewer, looking for messages with the Critical, Error or Warning event levels for the following processes: Microsoft-Windows-FailoverClustering, Srv, ClusSvc, Microsoft-Windows-FailoverClustering, W32Time, Windows Product Activation , Microsoft-Windows-SystemHealthAgent and Microsoft-Windows-RestartManager. <br>  Monitors the System tab in Event Viewer, looking for messages with Event Critical, Error, or Warning levels and with the description ‚Äúfailed terminated‚Äù for Service Control Manager. <br>  Determines if the W32time, NetLogon, RPCSS, Spooler, DnsCache, and Eventlog services are stopped for more than 1 minute and tries to start them automatically. <br>  Controls the System tab in Event Viewer, searching for messages with event code 6008 for the Eventlog process. <br>  Controls the System tab in Event Viewer, searching for messages with event code 1995 for the NTDS process. <br>  Controls the System tab in Event Viewer, searching for messages with event code 1000 for Save Dump. <br>  Controls the System tab in Event Viewer, searching for messages with event code 5719 for the NETLOGON process. <br>  Monitors device performance: <br>  CPU consumption (95% over 25 minutes), <br>  memory consumption (100% over 15 minutes), <br>  free disk space on the storage system (up to 5 GB for more than 10 minutes), and alerts if the storage capacity exceeds 92% on any device for more than 10 minutes. <br>  Determines if the device is offline for more than 10 minutes. </td></tr><tr><td>  Monitoring Policy Windows Workstation Monitoring </td><td>  Computers (workstations) with Microsoft Windows installed </td><td>  3.0 </td><td>  Determines if the RPCSS, NETLOGON, W32Time, DNSCache, Spooler, and Eventlog services are stopped for more than 5-10 minutes, and tries to start them automatically. <br>  Controls the System and Application tabs in Event Viewer, looking for messages with the Critical, Error, or Warning event levels for the following processes: Windows Product Activation. <br>  Monitors and alerts if storage capacity exceeds 92% on drive C for more than 5 minutes. </td></tr></tbody></table><br><h5>  <b>How to import a monitor</b> </h5><br><p>  To do this, you must perform a number of simple actions: </p><br><ol><li>  Download the required monitor <a href="http://www.pandasecurity.com/russia/support/card%3Fid%3D300168">from the page.</a> </li><li>  Go to the Panda Systems Management management console. </li><li>  Go to Account ‚Üí Policies or Sites ‚Üí click on the site name ‚Üí Policies </li></ol><br><img src="https://habrastorage.org/files/c73/8e3/c91/c738e3c918c54b40a4276c8e5432a068.png"><br><ol><li>  Click the Import Policy button. </li></ol><br><img src="https://habrastorage.org/files/ee6/8ab/333/ee68ab333a984a1ab538ea6da6a9d23c.png"><br><ol><li>  Find the required .pcy file with a monitor and click the Import Policy button. </li></ol><br><img src="https://habrastorage.org/files/79e/13e/5f4/79e13e5f4b494eaf847a5c241444a2a8.png"><br><ol><li>  Change the required policy settings </li></ol><br><img src="https://habrastorage.org/files/6d6/00c/b7c/6d600cb7c7c34ff4a70139d32ac48344.png"><br><ol><li>  Click the <b>Save</b> button to save the changes, and then click the <b>Push changes</b> ... button to activate the policy. </li></ol><br><h5>  <b>Creating monitors manually</b> </h5><br><p>  You can create monitors manually on any of the three available levels (account, site, device) depending on which devices you need to control: </p><br><p>  ‚Ä¢ <b>For entire account:</b> select in the main menu <b>Account</b> , then the <b>Policies</b> tab, and click <b>New account policy</b> <br>  ‚Ä¢ <b>For a site:</b> within a particular site, click <b>New site policy</b> on the <b>Policies</b> tab <br>  ‚Ä¢ <b>For a specific device:</b> click <b>Monitors</b> on the <b>Monitor</b> tab </p><br><h5>  <b>Steps to create a monitor</b> </h5><br><p>  <b>Step 1. Choose a policy type.</b> <br>  Since  the monitor is added, then the type of policy should be <b>Monitoring</b> </p><br><img src="https://habrastorage.org/files/496/056/357/496056357a01443b936c86aa86f2ec3b.jpg"><br><p>  <b>Step 2. Add monitoring target</b> <br>  Add the desired group / filter and monitor. </p><br><img src="https://habrastorage.org/files/dc9/0de/a37/dc90dea370b04d97a8733f082284d4aa.jpg"><br><p>  In this case, the policy may have several monitors associated with it.  When you add a monitor, a 4-step wizard appears in which you can adjust the required parameters. </p><br><p>  <b>Step 3. Choose a monitor type</b> <br>  In this step, specify the monitor that will be added to the policy according to the resources on the user's device that you want to monitor. </p><br><img src="https://habrastorage.org/files/add/4c3/e46/add4c3e46dea48bd96edeb93e871165c.jpg"><br><p>  In this case, a wide list of monitor types is available to you, about the functions of which you can learn more from the following table: </p><br><table><thead><tr><th>  <b>Monitor name</b> </th><th>  <b>Function</b> </th><th>  <b>Available for</b> </th></tr></thead><tbody><tr><td>  Online Status Monitor </td><td>  Checks if the device is online </td><td>  Windows, Mac, Linux </td></tr><tr><td>  CPU Monitor </td><td>  Controls CPU usage. </td><td>  Windows, Mac, Linux </td></tr><tr><td>  Memory Monitor </td><td>  Monitors memory consumption </td><td>  Windows, Mac, Linux </td></tr><tr><td>  Component Monitor </td><td>  Runs the Monitor component from the <b>ComStore</b> or developed by the administrator. </td><td>  Windows, Mac, Linux </td></tr><tr><td>  Process Monitor </td><td>  Monitors the status of a specific process. </td><td>  Windows, Mac, Linux </td></tr><tr><td>  Service Monitor </td><td>  Monitors the status of a particular service. </td><td>  Windows </td></tr><tr><td>  Event log monitor </td><td>  Controls the viewing of events </td><td>  Windows </td></tr><tr><td>  Software monitor </td><td>  Controls the software installed on the device or uninstalled from it </td><td>  Windows </td></tr><tr><td>  Security center monitor </td><td>  Monitors the status of the Security Center in the operating system </td><td>  Windows </td></tr><tr><td>  Disk Usage Monitor </td><td>  Controls hard disk usage </td><td>  Windows </td></tr><tr><td>  File / Folder Size Monitor </td><td>  Controls the size of files and folders. </td><td>  Windows </td></tr></tbody></table><br><p>  <b>Step 4. Configure the monitor</b> <br>  Each monitor, depending on its functions, has slightly different parameters, so this step will depend heavily on the type of monitor previously selected. </p><br><img src="https://habrastorage.org/files/503/3ec/11b/5033ec11b93e4460a3213d3fe5c12559.jpg"><br><p><br>  In general, the following data is required at this step: </p><br><p>  <b>‚Ä¢ Trigger Details:</b> you need to specify additional monitor parameters and trigger trigger conditions <br>  <b>‚Ä¢ Alert Details:</b> You can select the priority of alerts to be generated (critical, high, medium, low, information) <br>  <b>‚Ä¢ Auto Resolutions Details:</b> Here you can specify the time required to consider this alert automatically resolved. </p><br><p>  <b>Step 5. Set the monitor response</b> <br>  In this step, you can choose an answer that will work after the limits set in step 4 are reached. </p><br><img src="https://habrastorage.org/files/6eb/07b/134/6eb07b134be14defa9351462f24f7c8d.jpg"><br><p><br>  <b>‚Ä¢ Run the following component:</b> In the drop-down list, select the component imported from the ComStore or developed by the administrator. </p><br><p>  <b>‚Ä¢ Email the following recipients:</b> You can specify recipients, subject, format, and email message.  When the <b>Default recipients</b> option is enabled, letters are sent to the accounts defined on the <b>Settings</b> tab of the site to which the created monitor belongs, as well as to those that are defined at the global level in the main menu <b>Accounts, Settings</b> . </p><br><p>  <b>Step 6. Create Tickets</b> <br>  At this step, you can turn on automatic ticket generation as an answer created by the monitor to reach the limits set in step 4. </p><br><img src="https://habrastorage.org/files/fb0/f59/1c9/fb0f591c930b4a98a89528362ebf0751.jpg"><br><p><br>  <b>‚Ä¢ Assignee:</b> assigns to a technician the tickets created by the monitor </p><br><p>  <b>‚Ä¢ Severity:</b> allows you to change the level of criticality generated tickets </p><br><p>  <b>‚Ä¢ Ticket Email Notification:</b> Sends a notification email to a designated technician. <br>  <b>‚Ä¢ Disable Auto Resolution of Tickets:</b> disables automatically closing the ticket if the alert that this ticket generated has ceased to occur. </p><br><h5>  <b>Automatic monitor creation</b> </h5><br><p>  In the case of some devices that are monitored using <b>Panda Systems Management</b> , the system automatically automatically generates pre-configured monitors when such devices are added to the management console.  For example, such a case is true for printers, so when you add a device such as a printer to the control console, the corresponding monitor automatically appears on the <b>Policies</b> tab. </p><br><img src="https://habrastorage.org/files/3c0/d71/792/3c0d7179231d43c1805b90836d21373d.jpg"><br><p><br>  This monitor allows you to control the level of consumables (toner, ink), and if it falls below the established limits, you will immediately know about it through the appropriate alerts. </p><br><img src="https://habrastorage.org/files/d7c/5a3/a3d/d7c5a3a3d4cd4f1987ceef126dc6d40a.jpg"><br><p><br></p><br><h4>  <b>Creating SNMP Monitors</b> </h4><br><p>  Monitors for network devices managed via the SNMP protocol are different from those created for devices that support the installation of the Systems Management agent.  This is due to the fact that such monitors must meet a number of requirements related to SNMP technology. </p><br><p>  <b>What parameters can be monitored on devices managed via SNMP?</b> </p><br><p>  Most SNMP-compatible devices publish (in their MIBs) a lot of detailed information, which allows you to track various operating parameters, for example: </p><br><p>  ‚Ä¢ Consumption of internal resources (memory, internal storage, CPU, etc.) </p><br><p>  ‚Ä¢ Bandwidth communication channel. </p><br><p>  ‚Ä¢ Internal device temperature. </p><br><p>  ‚Ä¢ Description of the device and manufacturer (model, version, latest firmware update, etc.) </p><br><p>  ‚Ä¢ Detection of specific errors with error codes. </p><br><p>  ‚Ä¢ Changes in device configuration. </p><br><p>  ‚Ä¢ Changes in device status: ports that are turned on or off on the switch via STP, lines available on the switch, etc. </p><br><p>  Any data published in the device MIB can be read and interpreted by the Systems Management solution, although the manufacturer‚Äôs manual will determine what information can be used.  In addition, it is important to know the units used in the published data, as well as to understand the threshold values ‚Äã‚Äãthat will determine whether the device is operating in a hazardous area on the verge of failure and whether it requires intervention from the service department. </p><br><h5>  <b>Types of SNMP monitors available in Systems Management</b> </h5><br><p>  SNMP monitors are divided into two groups: </p><br><p>  <b>‚Ä¢ Offline Monitor: a</b> simple monitor that checks whether the device is online or offline. <br>  <b>‚Ä¢ Network Monitor:</b> very flexible monitors that allow you to get one or more OID values ‚Äã‚Äãfrom the monitored device MIB, comparing them with the reference values ‚Äã‚Äãset by the administrator.  If these values ‚Äã‚Äãare not met, then an alert is triggered. </p><br><h5>  <b>Steps for creating an SNMP monitor</b> </h5><br><p>  To create a monitor on an SNMP device, follow these steps: </p><br><p>  <b>Step 1. Prepare the device for the monitor</b> </p><br><p>  Virtually every device connected to the data network can be monitored via SNMP.  To do this, as a rule, you need to enable the SNMP protocol in certain parameters of the device and specify the Community to which it belongs (the default value is <i>Public</i> ). </p><br><p>  Some devices may also need to configure the version of SNMP protocol being used (v1 / v2), as well as the IP addresses from which the monitored device will receive SNMP requests.  In this case, the IP address will be the one that belongs to the device with the <b>Systems Management</b> agent installed and the <b>Network Node</b> role. </p><br><p>  After SNMP is enabled on the monitored device, set the OIDs to be monitored.  SNMP-compatible devices periodically dump internal data on the status of work in the structure of the MIB.  You will need to check the manufacturer's documentation for this device to find out which OID nodes in the MIB structure contain useful information and write them down. </p><br><p>  You can also get these OID nodes by viewing the MIB structure using Mibble or similar solutions. </p><br><p>  <b>Step 2. Assign a device with the Systems Management Agent installed as a Network Node</b> </p><br><p>  At this step, we will not stop separately, because it requires a certain distraction from the topic under consideration.  Information on how to do this can be found in the administrator‚Äôs guide for Panda Systems Management. </p><br><p>  <i>By the way, it is recommended to check the communication between the agent assigned as the Network Node and the monitored device via TCP and UDP port 161 in both directions.</i> </p><br><p>  <b>Step 3. Add the network device to the management console</b> </p><br><p>  For more information on how this can be done, it is also better to look in the Administrator's Guide, which describes how to add to the management console those devices that do not support the installation of the Systems Management agent. </p><br><p>  <b>Step 4. Create or integrate the SNMP monitor component</b> </p><br><p>  The OIDs that System Management reads from the device are installed through components already created or published in the <b>ComStore</b> , or through components specifically designed for devices that do not support current components. </p><br><p>  To monitor most common network devices, it‚Äôs enough to check the components in the <b>Network Monitors</b> section of the <b>ComStore</b> .  To use one of the available components, click <b>ComStore ‚Üí Network Monitors</b> and select the appropriate monitor.  Each component in <b>Network Monitor</b> tracks devices or a family of devices from a specific manufacturer.  Review the component description to ensure that the component is suitable for monitoring the desired device. </p><br><p>  After you have selected a component, click <b>Buy</b> (do not worry, in fact you don‚Äôt have to buy anything).  In this case, the component will be added to the <b>Components</b> , and you can use it when creating an SNMP monitor. </p><br><p>  <b><i>For more information on how to create an SNMP monitor component, see the administrator‚Äôs guide.</i></b> </p><br><p>  <b>Step 5. Create a monitor at the device level (Device Level).</b> </p><br><p>  On the network device, go to the <b>Monitor</b> tab, select <b>Monitors</b> and click <b>Add a monitor</b> . </p><br><img src="https://habrastorage.org/files/d89/db2/c26/d89db2c26d594298bf29c5b1a0080de5.jpg"><br><p><br>  <b>Step 6. Select the monitor type and its associated Network Node</b> </p><br><img src="https://habrastorage.org/files/e83/f8e/8f9/e83f8e8f935241738f4fd4e6f960b7a1.jpg"><br><p><br>  <b>Step 7. Select the Network Monitor component.</b> </p><br><p>  Offline monitors (Offline Monitor) do not have related components, and therefore all you need to do is to set the monitor's response and create corresponding tickets in case the device ‚Äúdrops out‚Äù offline. </p><br><p>  However, Network Monitors (Network Monitor) require that you select and assign the Network Monitor component.  You can choose from Network Monitor components that were previously added from the <b>ComStore, or among those components that you may have created manually.</b> </p><br><img src="https://habrastorage.org/files/4fa/f3d/acb/4faf3dacb7bb4ab0b4e633d32cff2aca.jpg"><br><p><br>  <b>Step 8. Enter the required information in the added component.</b> </p><br><p>  Depending on the type of Network Monitor component you select, you will need to specify certain thresholds that Systems Management will perceive as a level to create an alert.  These values ‚Äã‚Äãare displayed on the monitor settings screen. </p><br><img src="https://habrastorage.org/files/4a4/b80/db4/4a4b80db4f9543b69da3c41d55b464a7.jpg"><br><p><br>  In our example above, we added the following <b>ComStore</b> component <b>: Linux CPU and RAM Monitor.</b>  This component monitors the consumption of RAM and the CPU to determine whether the device is at risk of entering an error state. </p><br><p>  For this, the component requests two values ‚Äã‚Äãfrom the administrator: </p><br><p>  ‚Ä¢ The minimum amount of free RAM on the device for its correct operation.  If the value is below the set threshold, the system will consider that this device is malfunctioning, and therefore an alert will be created. </p><br><p>  ‚Ä¢ Maximum consumption of CPU resources that can be used every minute.  If this value is exceeded, the system will assume that this device is malfunctioning, and therefore an alert will be created. </p><br><p>  After you have specified all the necessary data to create an SNMP component, the monitor configuration will be identical to the configuration of other types of monitors. </p><br><p>  <i><b>Systems Management SNMP components provide visibility into the internal status of managed devices that are incompatible with agent installation.</b></i>  <i><b>Entries to MIB devices or receiving SNMP traps are not supported.</b></i> </p><br><h4>  <b>Creating ESXi Monitors</b> </h4><br><p>  ESXi servers require a special type of monitor, other than those used to monitor devices that support agent installation. </p><br><h5>  <b>How to create an ESXi monitor</b> </h5><br><p>  <b>Step 1. Choose a policy type.</b> </p><br><p>  Since  it is about an ESXi monitor, then select <b>ESXi.</b> </p><br><img src="https://habrastorage.org/files/bb4/11e/4e7/bb411e4e7061473aad3047fcfd586d7f.jpg"><br><p><br>  You can create ESXi policies at the account or site level, but you cannot create them at the device level. </p><br><p>  <b>Step 2. Choose a goal</b> </p><br><p>  Select the device or group of devices you want to monitor, as well as the type of monitor you want to add to the policy. </p><br><img src="https://habrastorage.org/files/155/32e/318/15532e318469449da6b0bfd86f6a8b61.jpg"><br><p>  Click the <b>Add a monitor</b> button to go to the 4-step wizard to configure all the required parameters. </p><br><p>  <b>Step 3. Choose a monitor type</b> </p><br><p>  Specify the type of monitor you want to add to the policy, according to the resources you need to monitor on the ESXi server. </p><br><img src="https://habrastorage.org/files/9e2/eb1/1fb/9e2eb11fbab540e08be4f7f6dd57f481.jpg"><br><p><br>  Below is a brief description of each type of monitor. </p><br><table><thead><tr><th>  <b>Monitor name</b> </th><th>  <b>Purpose</b> </th></tr></thead><tbody><tr><td>  ESXi CPU Monitor </td><td>  Tracks CPU consumption on an ESXi server </td></tr><tr><td>  ESXi Memory Monitor </td><td>  Monitors memory consumption on an ESXi server </td></tr><tr><td>  ESXi Data Store Monitor </td><td>  Monitors the amount of free / used disk space in the ESXi server storage system </td></tr><tr><td>  ESXi Temperature Sensor Monitor </td><td>  Monitors the temperature of the ESXi server </td></tr><tr><td>  ESXi Fan Monitor </td><td>  Monitors the work of fans on the server ESXi </td></tr><tr><td>  ESXi Disk Health Monitor </td><td>  Monitors the hard drive and monitors the appearance of any failures in the RAID-system.  You must install CIM providers that will provide this information for monitor requests. </td></tr><tr><td>  ESXi PSU Monitor </td><td>  Tracks ESXi server power </td></tr><tr><td>  Online Status Monitor </td><td>  Monitors the online status of the ESXi server </td></tr></tbody></table><br><p>  <b>Step 4. Configure the monitor</b> </p><br><p>  To configure an ESXi monitor, follow the same steps as when setting up a monitor for a device compatible with installing the Panda Systems Management agent on it (see this article above). </p><br><p>  <b>Step 5. Set the monitor response</b> </p><br><p>  To configure the response of an ESXi monitor, follow the same steps as when setting up the monitor for a device compatible with installing the Panda Systems Management agent on it (see this article above). </p><br><p>  <i><b>Note that it is not possible to launch the ComStore component as a response to an event generated by an ESXi monitor.</b></i> </p><br><p>  <b>Step 6. Create Tickets</b> </p><br><p>  To create tickets, follow the same steps as when setting up the monitor for a device compatible with installing the <a href="https://www.cloudav.ru/enterprise/solutions/cloud-systems-management/">Panda Systems Management</a> agent on it (see above in this article). </p><br><h4>  <b>Conclusion</b> </h4><br><p>  Good is the system administrator whom the employees of the enterprise do not see and do not know, but if only because everything works fine.  And this can be achieved (including) with the help of a well-implemented IT network monitoring and incident response system. </p><br><p>  Yes, I remember, 20 years ago, the administration of a network of 20-30 computers by one sysadmin was perceived as a labor feat by a soldier thrown at the IT bunker's embrasure.  Someone was funny, someone felt sorry for these fighters of the invisible (and most often oh as the visible!) Front, and someone very much swore at them when a new problem occurred with the PC, resenting the fact that it was impossible to call again sysadmin because  he always runs somewhere or hides.  Although at that time there was something romantic about it when everything was new and again. </p><br><p>  Nowadays, modern RMM-systems allow not only to automate the solution of almost all routine IT tasks, but they are also able to foresee the appearance (or even the possibility of occurrence) of IT incidents in order to solve them proactively, imperceptibly to users.  And then many people will forget about the sysadmin.  It's a shame you say?  It is unlikely, because anyway someone will say, what a wonderful sysadmin we have, because everything works without problems! </p><br><p>  As for romance, there is always room for it, especially when free time is available for this thanks to RMM systems. <br>  Do more by doing less! </p><br><p>  <strong>PS</strong> We will continue to publish practical articles on the topic "How to do ...".  Next time we will try to write about MDM. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/313754/">https://habr.com/ru/post/313754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../313742/index.html">Used servers: exposing the purchase with the hands</a></li>
<li><a href="../313744/index.html">The opening of a mobile development studio from scratch in St. Petersburg - 3.5 years later. Reincarnation. Part 2</a></li>
<li><a href="../313746/index.html">Busfor's start-up startup has raised $ 20 million in investment</a></li>
<li><a href="../313750/index.html">The most popular network for supercomputers or Why did we choose InfiniBand?</a></li>
<li><a href="../313752/index.html">Video description of SalesForce CRM. Subtitles in Russian</a></li>
<li><a href="../313756/index.html">Do developers want to work in startups and be their founders - infographics on the results of the survey</a></li>
<li><a href="../313760/index.html">Attackers specialize in compromising network routers in Brazil</a></li>
<li><a href="../313762/index.html">Security in IoT: Azure IoT Suite for those who start from scratch</a></li>
<li><a href="../313764/index.html">Django User Model Extension Strategies</a></li>
<li><a href="../313768/index.html">Adobe has released an emergency update for Flash Player.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>