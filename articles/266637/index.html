<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Support is over: What to do? Who and what can help?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It seems that everyone already knows about it: on July 14 of this year, support for Windows Server 2003 / R2 was officially discontinued. And the disc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Support is over: What to do? Who and what can help?</h1><div class="post__text post__text-html js-mediator-article">  It seems that everyone already knows about it: on July 14 of this year, support for Windows Server 2003 / R2 was officially discontinued.  And the discussion about what needs to be done and whether it is worth doing anything at all continues.  I propose to look at the current situation from a strategic point of view.  First, find out how this may affect the company's business processes, and look at the situation from a legal (as well as technical and economic) point of view.  Secondly, to understand why consultants for migration from the old OS to the latest versions are needed, what is the use of them.  And, finally, make life easier for many companies by telling about the practical experience of migrating websites based on IIS technology using the Web Deployment Tool. <br><br><img src="https://habrastorage.org/files/a32/1a1/b99/a321a1b99a3c4c75ad440d362b925b5b.jpg" alt="image"><br><a name="habracut"></a><br><h1>  End of support for Windows Server 2003 / R2.  Lyrics </h1><br>  What does "ending support for WS2003 / R2" mean for business?  From the first glance, it would probably seem that this would lead to: <br><ol><li>  Additional costs for licenses and, possibly, new equipment (we already bought them 12 years ago. Again?!?!). </li><li>  Problems with regulatory authorities (especially for companies that store personal data (and which companies do not store them?), Because WS2003 / R2 no longer receives security updates, which means non-compliance with the requirements to ensure the safety of personal data. </li><li>  Non-compliance with various standards: both local and industry, and this may limit the company's participation in a number of tenders, lead to penalties, etc. </li></ol><br>  Based on the foregoing, one might get the impression that the end of support for WS2003 / R2 is a negative event, leading to costs, problems and ‚Äúagain this is IT, instead of helping in a crisis, asking for money.‚Äù  After all, no one needs additional problems, risks and costs in a difficult economic period.  In addition, many companies only cut IT budgets and require IT departments to not only cut costs, but increase efficiency.  How to <a href="http://icl-services.com/services/migratsiya/">carry out migration</a> in such conditions and whether to carry it out at all?  Maybe it is better to leave everything as is "until better times"? <br><br>  Let's look at everything in order.  We decompose the standard situation in a typical IT department into goals, requirements and constraints. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Goals:</b> <br><ol><li>  Reduced IT Costs </li><li>  Increase efficiency </li></ol><br>  <b>Requirements:</b> <br><ol><li>  Compliance with business expectations </li><li>  IT solution and support for business tasks </li></ol><br>  <b>Limitations:</b> <br><ol><li>  Reduced IT budget </li><li>  End of WS2003 / R2 support </li></ol><br>  As we see, the last point is only one part of the overall picture.  And it provides an excellent opportunity to review the entire IT strategy.  Reconsider the company's IT infrastructure.  Look at it from different angles and understand how to optimize it and adapt to the new reality.  What are your modernization projects that have been constantly postponed due to various technical, financial and other restrictions?  It's time to revise them and re-evaluate! <br><br>  We define what is in your infrastructure.  To do this, first of all we will get answers to such questions as: <br><br><ul><li>  How many servers are there?  What OS are installed on them? </li><li>  What load do they have and what characteristics / powers do they have? </li><li>  Do you have Windows Server 2003 / R2?  What roles, services and applications are assigned to it? </li><li>  Which of these applications are used?  Who uses them? </li><li>  Is it possible to move roles, services and applications to other servers from the latest OS? </li></ul><br>  Assistance in obtaining this information can be provided by the <a href="http://habrahabr.ru/company/icl_services/blog/258935/">Microsoft Assessment and Planning Toolkit</a> Infrastructure Planning Application.  The result of his work will be a report with an analysis of the existing infrastructure and technical recommendations for its optimization or transfer to MS Azure cloud. <br><br><img src="https://habrastorage.org/files/7d3/bbb/81f/7d3bbb81fc544fe8aca9cbc8744dde6c.png" alt="image"><br><br>  After the answers to the questions are found and the existing infrastructure is analyzed, it may turn out that: <br><br><ol><li>  You do not have servers with WS2003 / R2. </li><li>  You have enough resources to simply transfer the roles / services / applications from Windows Server 2003 / R2 to other servers that are available with the latest OS and remove them from support. </li><li>  You are not using the most efficiently available resources, and there is an opportunity to free some licenses / equipment. </li><li>  That most unique accounting application is mercilessly outdated and has a modern equivalent, and it is no longer necessary for it to support 2003 server (usually, modern applications allow you to work more efficiently, include new functions, etc.) </li></ol><br>  Once you understand what you have now, and how it is used, it is time to verify your vision of the further development of IT with the business, understand what the IT business needs: <br><br><ul><li>  What are the strategic goals of the business? </li><li>  What are his plans for the foreseeable future and what are the expectations from IT?  Perhaps this increase in employee mobility?  Or the opening of new branches around the world? </li></ul><br>  Assessing the objectives of the business, you can choose the most effective way to achieve them.  After all, updating the infrastructure with a vision, you make a great foundation for flexibility, scalability and efficiency of its further use.  Perhaps it is time to recall the <b>migration consultants</b> .  Why would a company, and the IT department in particular, need an external migration consultant?  Indeed, in the IT department there are great specialists who can do everything themselves. <br><br>  Below is a list of migration steps.  Their duration depends on the specific infrastructure and qualifications of the personnel who will perform them: <br><br><ol><li>  Analysis of existing infrastructure </li><li>  Migration plan development </li><li>  Choosing the best solution </li><li>  Implementation of the solution (actually, migration) </li><li>  Analysis and testing of the migration result </li></ol><br>  Now try to evaluate: <br><br><ul><li>  Are there any specialists in the IT department who are able to allocate the required time to this project and do they have sufficient qualifications and experience? </li><li>  How will this affect the current support of services? </li><li>  if you carry out a migration project on the job, what is the deadline and how efficient? </li><li>  how well and efficiently will the migration be carried out and how will this affect the stability of the services? </li></ul><br>  If you have: <br><br><ul><li>  small amounts of work (less than 15 servers); </li><li>  there are free and sufficiently qualified resources or migrated services / applications are not critical, </li></ul><br>  <b>then the best solution would be to complete a migration project on your own.</b> <br><br>  However, if you have: <br><br><ul><li>  large enough infrastructure (more than 15 servers); </li><li>  there are business critical services / applications; </li><li>  due to the ‚ÄúReduced IT budget‚Äù restriction, IT staff members are busy and cannot allocate the right time to implement the project without harming the services provided, </li></ul><br>  <b>It is recommended to choose a company-consultant on migration, which can either perform all the work on migration, or implements their part.</b>  For example, it will assess the existing infrastructure and give recommendations for its modernization, and you implement the received proposals on your own. <br><br>  The advantages of an IT outsourcer are that it is a company with a highly qualified professional who has more than one completed project and is well aware of the possible pitfalls and likely difficulties in the process.  It will help you in the formation and implementation of your IT strategy, synchronized with the business strategy. <br><br><img src="https://habrastorage.org/files/509/d69/3d3/509d693d37484d2daff4e580a15dc2d3.jpg" alt="image"><br><br>  For example, he would recommend taking a closer look at cloud solutions: <br><br><ol><li>  if the strategic goal of a business has a point on increasing employee mobility, and you still have a 2003 server on which MS Exchange is deployed, then the Office 365 cloud solution can be useful instead of migrating to another server. </li><li>  if the business plans to open branches around the world, then we will pay attention to MS Azure. </li><li>  perhaps it is also time to look at the hybrid clouds and consider the possibility of transferring a number of non-critical services to the public cloud, and business-critical deploy in a private cloud within the organization? </li></ol><br>  <i>In the picture below you can see various options for providing cloud services.</i>  <i>The Pros of Migration to the Public Cloud:</i> <i><br><br></i> <ul><li>  No need to maintain and maintain servers </li><li>  It is possible to choose the appropriate option for obtaining resources and their volumes (IaaS, PaaS or SaaS) </li><li>  High fault tolerance. </li></ul><br>  <i>If any applications or services cannot be transferred to hosting in a public cloud, then you can build a hybrid cloud based on Windows Server 2012 R2 &amp; System Center 2012 R2 &amp; Windows Azure.</i>  <i>Pros hybrid cloud:</i> <br><br><ul><li>  You define and place in your private cloud applications and services that should not be publicly available. </li><li>  You have the opportunity to use both the resources of your cloud and MS Azure, which allows you to flexibly manage the availability of applications or services and the amount of required capacity. </li></ul><br><img src="https://habrastorage.org/files/c35/6fe/241/c356fe241f694bcab9d105c5389080b8.jpg" alt="image"><br><br><h1>  Our experience migrating sites with IIS 6.0 </h1><br>  Having considerable practical experience in migrating sites from IIS 6.0 to the latest versions, I want to share a guide on such migration using the Web Deployment Tool. <br><br>  <b>Before starting the migration, make sure that:</b> <br><br><ol><li>  You have a backup. </li><li>  If the site uses a SQL database, make sure that it was migrated to the new server in advance. </li><li>  You have all the necessary logins and passwords. </li><li>  All ports necessary for the operation of sites are open on the new server. </li></ol><br>  <b>What can I migrate using the Web Deployment Tool?</b> <br><br><ul><li>  1 or 1000 web sites, including their configuration, content and certificates. </li><li>  Application. </li><li>  Entire server (all websites, application pools, registry keys, content, etc.). </li><li>  User manifest consisting of sites, application pool, registry keys, content, etc. </li></ul><br>  For migration, you must have .NET Framework 2.0 SP1 or higher and Web Deployment Tool installed.  (How to install the web deployment tool can be found <a href="http://www.iis.net/learn/install/installing-publishing-technologies/installing-and-configuring-web-deploy">here</a> (eng) or <a href="http://habrahabr.ru/post/192150/">here</a> (rus)). <br><br>  <b>Step 1. Check the site dependencies and find the scripts or installed components that it uses.</b> <br><br><ol><li>  You can check the website dependencies using the following command <br><pre><code class="xml hljs">msdeploy -verb:getDependencies -source:metakey=lm/w3svc/1</code> </pre>  1 is the site ID </li><li>  Look at the dependencies output and determine which components the site uses.  For example, if the site uses windows authorization, the command output will be as follows: <br><pre> <code class="xml hljs">/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WindowsAuthentication"</span></span></span><span class="hljs-tag"> /&gt;</span></span>.</code> </pre> </li><li>  If the site inherits any scripts, they will not be in the list of dependencies, inherited scripts will need to be checked manually. </li></ol><br>  A detailed description of the analysis of the output command getDependencies can be found <a href="http://technet.microsoft.com/en-us/library/dd569091(WS.10).aspx">here</a> . <br><br>  <b>Step 2. Configure the target server</b> <br><br>  According to the list of dependencies obtained in step 1, install the necessary components.  For example, if your dependency list has components: <br><br><ul><li>  ASP.NET </li><li>  Windows Authentication </li><li>  Anonymous Authentication </li></ul><br>  Therefore, based on this list of dependencies, you will need to install the appropriate components and modules. <br><br>  <b>Step 3. Migrate the site using the archive</b> <b><br></b> <br><ol><li>  Always make a backup of the server to which you are planning to migrate.  Even in the case of testing.  This will allow you to quickly return the server to its original state. <br><pre> <code class="xml hljs">%windir%\system32\inetsrv\appcmd add backup ‚ÄúPreWebDeploy‚Äù</code> </pre> </li><li>  To create a file with a site archive, on the source server run the command: <br><pre> <code class="xml hljs">msdeploy -verb:sync -source:metakey=lm/w3svc/1 -dest:package=c:\Site1.zip &gt; WebDeployPackage.log</code> </pre>  1 is the site ID </li><li>  Copy the resulting archive to the target server. </li><li>  To check what happens when synchronization starts, run the following command on the target server <br><pre> <code class="xml hljs">msdeploy -verb:sync -source:package=c:\Site1.zip -dest:metakey=lm/w3svc/1 -whatif &gt; WebDeploySync.log</code> </pre>  1 is the site ID </li><li>  After checking the results of the command, execute it without the ‚Äìwhatif key (of course, if the output of the previous command was error free) <br><pre> <code class="xml hljs">msdeploy -verb:sync -source:package=c:\Site1.zip -dest:metakey=lm/w3svc/1 &gt; WebDeploySync.log</code> </pre>  1 is the site ID </li></ol><br>  <b>Site migration using web deployment agent service</b> <br><br>  If you want to use site synchronization in real time, you can use the Web Deployment Agent Service. <br><ol><li>  Install the Web Deployment Agent Service on the source or target server, or both for maximum flexibility of possible synchronization scenarios (the agent can either receive synchronized data from the source or send it) </li><li>  Start the service <br><pre> <code class="xml hljs">net start msdepsvc</code> </pre> </li><li>  Run the following command to start synchronization (sending data) from a local source to a remote server (replace Server1 with your server name).  First, it is recommended to run the command with the ‚Äìwhatif flag, and after checking the results of its execution ‚Äî without it. <br><pre> <code class="xml hljs">msdeploy -verb:sync -source:metakey=lm/w3svc/1 -dest:metakey=lm/w3svc/1,computername=Server1 -whatif &gt; msdeploysync.log</code> </pre>  1 is the site ID </li><li>  The following command starts synchronization in the mode of "receiving" data from a remote server. <br><pre> <code class="xml hljs">msdeploy -verb:sync -source:metakey=lm/w3svc/1,computername=Server1 -dest:metakey=lm/w3svc/1 -whatif &gt; msdeploysync.log</code> </pre>  1 is the site ID </li></ol><br>  This completes the migration process, it remains to verify the operation of the site on the target server.  In case of problems, you can use <a href="http://www.iis.net/learn/publish/troubleshooting-web-deploy/troubleshooting-web-deploy">Troubleshooting Web Deploy</a> to find their solution. <br><br>  It is important to remember that progress is a constant movement.  The use of outdated technologies very often means limitations in possibilities or lagging behind progress, which sooner or later will have to be made up, and the greater the gap, the more effort will be made to reduce it, not to mention catching up with the leaders. <br><br>  By <a href="http://habrahabr.ru/users/aleksjoke/" class="user_link">aleksjoke</a> </div><p>Source: <a href="https://habr.com/ru/post/266637/">https://habr.com/ru/post/266637/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266619/index.html">Overview of alternatives Proof of Work. Part 2. Proof of Activity, Proof of Burn, Proof of Capacity and Generals</a></li>
<li><a href="../266623/index.html">Event-oriented Python backtesting step by step. Part 3</a></li>
<li><a href="../266625/index.html">Cisco internship program - Cisco International Internship Program. How it was</a></li>
<li><a href="../266627/index.html">Himself a virtual operator</a></li>
<li><a href="../266629/index.html">Increase array efficiency</a></li>
<li><a href="../266639/index.html">Why do I need AshleyMadison if I don't smoke?</a></li>
<li><a href="../266641/index.html">How to find the algorithm of the intellect</a></li>
<li><a href="../266645/index.html">As an independent developer touched the legend. Part two</a></li>
<li><a href="../266647/index.html">IBM will make the NodeJS platform corporate standard</a></li>
<li><a href="../266649/index.html">Why do we need no-reply @ mail?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>