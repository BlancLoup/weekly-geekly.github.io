<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Acceleration of UITableView on iPhone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In one application I am developing, I used UITableView to display information. And here I will tell you what methods were invented to speed up the wor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Acceleration of UITableView on iPhone</h1><div class="post__text post__text-html js-mediator-article"> In one application I am developing, I used UITableView to display information.  And here I will tell you what methods were invented to speed up the work of this element. <br><a name="habracut"></a><br><img src="http://developer.apple.com/iphone/library/documentation/UserExperience/Conceptual/TableView_iPhone/Art/tv_plain_style.jpg" alt="image"><br><br>  The list of genres is UITableView. <br>  UITableView consists of UITableViewCell cells.  You can report the number of cells in the list, the height of each cell, divide them into sections.  When the cell needs to be shown, the function is called: <br>  <b>- (UITableViewCell *) cellForRowAtIndexPath: (NSIndexPath *) indexPath</b> <br>  The mechanism of operation is such that if the cell is hidden behind the screen, then at the next show the application will again request the cell. <br><br>  The implication is that you must create a cell there, fill it with content and return it.  But constantly creating new cells is wasteful, and is only suitable for those cells that contain few elements. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In my application, there were about 10 different elements per cell (UILabel, UITextView, UIImageView).  At the same time, about 5 such cells were displayed on the screen.  There were wild brakes when scrolling.  And after long experiments, I had a whole list of possible scrolling accelerations of such heavy lists.  Presented in order of chronology and their speed. <br><br>  1) <b>- (UITableViewCell *) dequeueReusableCellWithIdentifier: (NSString *) identifier</b> <br>  This function allows you to save time on creating a cell from NIB files, it returns the cell that has already been created, but you will still have to change its contents to the current one, and this time. <br>  This is the method that Apple itself advises.  He is often found in their examples. <br>  <b>Cons</b> : <br>  - it takes time to replace the content cell <br>  <b>Pros</b> : <br>  - memory savings <br><br>  2) Pre-create all cells and store them in NSArray or NSMutableArray. <br>  In this case, the cell is created once, and stored in an array.  Every time a cell is requested, we just need to get it from the array by index.  Alternatively, you can not create all the cells at once, but only when requested, and then save to an array.  In both cases, the cell will be created only once. <br>  This method had to be used because of the presence of animation in the cells. <br>  <b>Cons</b> : <br>  - memory is required for all cells <br>  - it is possible hang up while all cells are created at once <br>  <b>Pros</b> : <br>  - recoil rate, time is spent only on access to the element of the array <br><br>  3) <b>UIScrollView</b> <br>  This option means instead of UITableView to use UIScrollView, that is, UIView which can be scrolled.  We create all the cells, place them as a subView in our UIScrollView, set the scrolling dimensions. Ready. <br>  This method was used by torment. Method 2 did not suit for scrolling speed. <br>  <b>Cons</b> : <br>  - memory is required for all cells <br>  - quickly worked only to a height of 1500 pixels <br>  - complexity in the implementation of interaction with the user <br>  <b>Pros</b> : <br>  -faster scrolling <br><br>  And when our team was completely discouraged, they remembered another option that was used. <br><br>  4) Screenshots of cells. <br><br>  The bottom line is what to do with the screenshots of the cells.  Brakes were apparently caused by a large number of subViews (cell elements).  Well then let's do instead of 10 subView, 1 which contains a graphic representation of all ten. <br><br>  MyCell is an original cell already filled with the necessary content. <br> <code>UIGraphicsBeginImageContext(((UIView*)MyCell.frame.size); <br> [((UIView*)MyCell.layer renderInContext:UIGraphicsGetCurrentContext()]; <br> UIImage* image = UIGraphicsGetImageFromCurrentImageContext(); <br> UIGraphicsEndImageContext(); <br></code> <br>  The image saved in image can be added to a cell with a single UIImageView. <br>  It turned out well, very fast list with cells. <br>  <b>Cons</b> : <br>  - it takes time to create <br>  - requires at least 2 times more memory for storing cells and their screenshots <br>  <b>Pros</b> : <br>  - the fastest scrolling <br><br>  <b>UPD:</b> <br>  People say that if you use the first method, everything is fine drawn, unfortunately I can not use this method as I use: <br>  - 3 types of different cells <br>  - there is an animation on the cells <br><br>  Now counted the number of elements in the cells, counted 22 per cell. </div><p>Source: <a href="https://habr.com/ru/post/88879/">https://habr.com/ru/post/88879/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../88867/index.html">Facebook accused of promoting the spread of syphilis</a></li>
<li><a href="../88873/index.html">Future of Photoshop: Content-aware fill</a></li>
<li><a href="../88875/index.html">Experimental 3D</a></li>
<li><a href="../88876/index.html">My recipe for working with CSS styles in Qt</a></li>
<li><a href="../88877/index.html">Mozart CMF: XML-based API</a></li>
<li><a href="../88884/index.html">Completed DNA analysis of Altai hominid</a></li>
<li><a href="../88885/index.html">Iji</a></li>
<li><a href="../88886/index.html">How we drew pictograms for contextual runner ads</a></li>
<li><a href="../88888/index.html">Introduction to Project Management from Turkey</a></li>
<li><a href="../88889/index.html">Homeland of the Frags</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>