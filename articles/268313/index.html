<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using Remote API in the V-REP Robosimulator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="V-REP is an environment for simulating (sandbox) different types of robots, while the user does not need to have physical access to a real machine, wh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using Remote API in the V-REP Robosimulator</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/780/5fe/19e/7805fe19e40841e590867585770397fc.jpg"><br><br>  V-REP is an environment for simulating (sandbox) different types of robots, while the user does not need to have physical access to a real machine, which saves money and time.  The V-REP environment provides a convenient interface for visualizing the actions of a robot in three-dimensional virtual space much earlier than the real prototype of the robot will be created.  With the help of this guide, you will be convinced that in order to work in this environment, the programmer does not need to have much technical experience in the field of robotics. <br><br>  The reason for the creation of this manual was the lack of (at that time) knowledge of the Lua language, in which all the robot control scripts are written by default, and its lesser popularity.  The purpose of this tutorial is to show how to use the remote API of this environment using the Python example. <br><a name="habracut"></a><br>  To get started, download the version for Academic Purposes (Non-limited EDUCATIONAL) for your OS from the <a href="http://www.coppeliarobotics.com/downloads.html">official site</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After installing and running the program, the main program window opens. <br><br><img src="https://habrastorage.org/files/139/33c/d93/13933cd9305846d38fdf6b808698b27e.png"><br><br>  When you open the V-REP environment, it initializes the scene by default.  The user can open several scenes in parallel, but only the current one is displayed. <br><br>  The toolbar contains a set of buttons, the main of which are buttons for starting and stopping the scene. <br><br><img src="https://habrastorage.org/files/7df/aa4/4b2/7dfaa44b2dfb4b9f87ac2df22da43921.png"><br><br>  Also tools for working with the camera.  To move and change the viewing angle, approximation. <br><br><img src="https://habrastorage.org/files/d9c/105/594/d9c105594e2b4af193e1c7299f80f1c0.png"><br><br>  The following tools exist for working with elements placed on the scene: ‚Äúselectability‚Äù of the object by pressing, moving and changing the angle of the object.  In this case, the selected object has additional axes, for which it is convenient to move and rotate. <br><br><img src="https://habrastorage.org/files/9a4/b33/94b/9a4b3394b21e426a8078d26bf55b9e8a.png"><br><br>  The scene hierarchy contains a list of open scenes.  Each scene includes various objects that can consist of a whole set of sub-objects, thus building a whole hierarchy.  The default scene includes: Camera, Light Sources, Extensible Floor.  By clicking on the plus sign in the tree, you can view the dependent objects. <br><br><img src="https://habrastorage.org/files/791/539/aff/791539affd1340c3ba4228f7fbe737fe.png"><br><br>  As you noticed, to the right of the name of some objects there are various icons.  Thus, dependent Lua scripts are displayed, which can be viewed by double-clicking.  The scene itself has a main script, which is not recommended to edit.  And other objects have their own, which can be added, edited and modified according to your needs. <br><br>  Let's add something to our scene.  V-REP contains a whole collection of various robots that you can preview in the Model Browser (Tools | Model browser).  To add the desired model, you only need to drag it onto the stage.  At the same time, it is important that the scene be stopped while dragging, otherwise your changes will not be saved. <br><br><img src="https://habrastorage.org/files/cc0/4c2/b5c/cc04c2b5cab44c76a83215088aa5680f.png"><br><br>  Also in the environment are available all the basic primitives, which can be added by clicking the right mouse button on the stage and selecting the appropriate menu items. <br><br>  For example, add a cube to our scene by selecting Add |  Primitive shape |  Cuboid. <br><br><img src="https://habrastorage.org/files/888/c49/1e0/888c491e05e748988dcb6d825944d76b.png"><br><br>  And we will set the size in the menu that appears 0.400 x 0.400 x 0.400.  (Corresponding to the metric system). <br><br><img src="https://habrastorage.org/files/20b/1f7/b52/20b1f7b525ba4591a9dc482cfd10b307.png"><br><br><img src="https://habrastorage.org/files/559/089/78b/55908978b7d447258bfbc1b329e8a52e.png"><br><br>  Let's take a look at how to interact with V-REP through the Remote API provided by it, which allows you to write scripts for the environment in various languages, including C / C ++, Python, Java, Matlab / Octave and Urbi. <br><br><ul><li>  First, create a folder for our new project. </li><li>  Then create a new scene or delete / discard the changes on the default scene. </li><li>  Save the scene, such as myFirstScene.  As a result, the file myFirstScene.ttt will be created. </li><li>  Next you need to copy several files from the directory with the installed program.  Go into it.  It contains the programming folder, then in remoteApiBindings, from which you need to copy several files into the folder created earlier for the project.  Namely files from the python folder (vrep.py, vrepConst.py, simpleTest.py).  And files from the lib folder in accordance with the bit width of your OS (it can be remoteApi.so or remoteApi.dll). </li></ul><br>  Add a <i>pioneer p3dx</i> robot model to the scene.  To do this, select mobile in the model viewer in the robots tree and drag the robot onto the stage. <br><br><img src="https://habrastorage.org/files/e82/3c0/9bc/e823c09bc7204ecba9c4c2e6c7e1ffe2.png"><br><br>  If you now click on the Play button (Start Scene), the robot will go in the forward direction, the logic of its work is contained in the attached script, which we will soon replace with our Python script. <br><br>  If we carefully examine what is in the model hierarchy in the scene (Scene hierachy), we can see that the robot consists of a pair of wheels (Pioneer_p3dx_leftWheel and Pioneer_p3dx_rightWheel), 16 sensors on the sides (Pioneer_p3dx_ultrasonicSensor1-16) and 11 connectors (Pioneer_p3dx_connection1-11) . <br><br><img src="https://habrastorage.org/files/b21/82b/50e/b2182b50ea954201a3481e5d2c691666.png"><br><br>  First, let's turn off the script that moves the robot forward.  To do this, click on the sidebar button Scripts (Scripts). <br><br><img src="https://habrastorage.org/files/a7a/34e/fb0/a7a34efb017d45d6ae1fbb26224fb977.png"><br><br>  A new window will appear, listing all the scripts available on the scene. <br><br><img src="https://habrastorage.org/files/532/28e/2df/53228e2dfbce4f548fe9b03812c2995d.png"><br><br>  Now select the script of the robot Non-threaded child script (Pioneer_p3dx) and tick the Disabled checkbox. <br><br><img src="https://habrastorage.org/files/f60/110/627/f60110627b3a4987b4664a38a435c828.png"><br><br>  Now close this window and test. Having turned on the scene, the robot should stand still.  The fact that the script is disabled is also indicated by the changed icon in the scene hierarchy. <br><br><img src="https://habrastorage.org/files/370/ecd/e5a/370ecde5a16a48bcbc7a3bf2bc59c2b5.png"><br><br>  Now let's understand a little about how our script will interact with the scene using the Remote API. <br><br>  V-REP provides simulation controls from an external application or external device (for example, from a real robot, remote computer).  The API contains hundreds of functions that can be called through communication sockets, with minimal latency and network load.  All this happens in a form hidden from the user.  Using the remote API, you can interact with the V-REP in synchronous and asynchronous modes (the asynchronous mode is the default), and even remotely control the simulator (remotely load the scene, start and stop the simulation). <br><br>  <b>Note</b> : Synchronous mode implies that the simulator will wait for a confirmation signal from the client to perform the next step at time t + dt. <br><br>  To get started with the Remote API, you need to activate it on the server side, that is, in the V-REP environment itself.  To do this, you need to activate port listening in any active thread-dependent script (for example, adding a command to an existing Lua-script or adding some primitive, the same cube and attaching a script to it). <br><br>  Let's add a cube to the scene as described above, leaving the default dimensions (0.100 x 0.100 x 0.100).  Select it on the scene, right-click and select Add |  Associated child script |  Threaded. <br><br><img src="https://habrastorage.org/files/323/d81/15a/323d8115accf4fb990c0304745e19ef0.png"><br><br>  After that, the icon of the dependent script and its settings in the scene hierarchy will appear next to the name of our cube.  The corresponding item will also appear in the Scripts panel. <br><br><img src="https://habrastorage.org/files/377/454/991/377454991fb143ff815fd370a44c6339.png"><br><br><img src="https://habrastorage.org/files/d58/6c6/f7b/d586c6f7b30248e981092d3127a26c41.png"><br><br>  By clicking on the script icon in a text editor, the standard frame of the stream scripts is displayed, in which you should add the line for opening and activating the port in the Lua language. <br><br><pre><code class="lua hljs">simExtRemoteApiStart(<span class="hljs-number"><span class="hljs-number">19999</span></span>)</code> </pre> <br><br>  Add it immediately after the simSetThreadSwitchTiming (2) command, the result will be the following. <br><br><img src="https://habrastorage.org/files/aea/261/565/aea261565aa546989709281cfce0b4e3.png"><br><br>  If at this stage try to start the scene, then nothing will happen.  It remains to write the code affecting the objects of the scene. <br><br>  To do this, go back to the folder of our project and pay attention to the script simpleTest.py.  Let's examine its contents: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> vrep <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Program started'</span></span>) vrep.simxFinish(<span class="hljs-number"><span class="hljs-number">-1</span></span>) <span class="hljs-comment"><span class="hljs-comment"># just in case, close all opened connections clientID = vrep.simxStart('127.0.0.1',19999,True,True,5000,5) if clientID != -1: print ('Connected to remote API server') res,objs=vrep.simxGetObjects(clientID,vrep.sim_handle_all,vrep.simx_opmode_oneshot_wait) if res == vrep.simx_return_ok: print ('Number of objects in the scene: ', len(objs)) else: print ('Remote API function call returned with error code: ', res) vrep.simxFinish(clientID) else: print ('Failed connecting to remote API server') print ('Program ended')</span></span></code> </pre><br>  Try running it.  If the scene is not started, you will receive a corresponding notification in the console, otherwise the script will calculate the number of objects on the scene. <br><br><img src="https://habrastorage.org/files/960/8c2/c65/9608c2c653664b09b92701aed49fe55b.png"><br><br>  We will understand the contents of this script.  If you own the IPython tool, you can enter commands line by line and study what the V-REP functions return. <br><br>  First we import the V-REP module.  Do not forget that it must be in the current script directory (for this we copied those files from the programming folder), otherwise Python will not detect it. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> vrep</code> </pre><br>  Next, stop the other connections to the scene so that they do not interfere with the logic of our script, if they exist of course.  For this, there is a simxFinish function with an argument of -1. <br><br><pre> <code class="python hljs">vrep.simxFinish(<span class="hljs-number"><span class="hljs-number">-1</span></span>)</code> </pre><br>  Next, you need to connect to a remote server on the port that we opened in the cube script.  Since V-REP is running locally with us, the address is 127.0.0.1.  According to the documentation for Remote Api for Python ( <a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiFunctionsPython.htm">link</a> ), the arguments of this function denote the following: <br><br><pre> <code class="python hljs">clientID = vrep.simxStart(<span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>, <span class="hljs-number"><span class="hljs-number">19999</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>)</code> </pre><br><ul><li>  <b>connectionAddress</b> : The IP address where the server is located (ie the address of the server with the V-REP). </li><li>  <b>connectionPort</b> : The port to connect to. </li><li>  <b>waitUntilConnected</b> : If True, then the function is blocked for the duration of the connection or until the time-out period ends. </li><li>  <b>doNotReconnectOnceDisconnected</b> : If True, then the communication flow will not attempt to reconnect if the connection is lost. </li><li>  <b>timeOutInMs</b> : Connection timeout in milliseconds (for the first connection). </li><li>  <b>commThreadCycleInMs</b> : Indicates how often data packets should be exchanged.  Reducing this number increases sensitivity, and 5 is recommended as default. </li></ul><br><br>  As a return value clientID: the identifier of the client ID, or -1 if connection to the server is not possible (including at the end of the time-out time). <br><br>  A call to simxStart must always be paired with a call to simxFinish, except in the case where the connection was not completed (ie clientID = -1).  What does the following line of code correspond to? <br><br><pre> <code class="python hljs">vrep.simxFinish(clientID)</code> </pre><br>  After an attempt to establish a connection, a success check is performed, which is reported by the corresponding message. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> clientID != <span class="hljs-number"><span class="hljs-number">-1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Connected to remote API server'</span></span>) ... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Failed connecting to remote API server'</span></span>)</code> </pre><br>  Then the script requests all objects on the scene through the function vrep.simxGetObjects. <br><br>  According to the documentation that you can study on the official website ( <a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiFunctionsPython.htm">link</a> ), the function receives handles of objects of a certain type or, as in our case, all types (vrep.sim_handle_all);  The last argument means that after sending the command, the function will wait for a response from the server and return it if no errors occur or the time-out time is exceeded (vrep.simx_opmode_oneshot_wait).  The remaining modes can be viewed <a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiConstants.htm">here</a> . <br><br><pre> <code class="python hljs">res, objs = vrep.simxGetObjects(clientID, vrep.sim_handle_all, vrep.simx_opmode_oneshot_wait)</code> </pre><br>  The function returns 2 <b>errorCode</b> values: an error code and <b>objectHandles</b> : an array of object handles. <br><br>  This is followed by checking the error code and, if successful, counting the number of objects on the scene: <br><br><pre> <code class="python hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> res == vrep.simx_return_ok: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Number of objects in the scene: '</span></span>, len(objs)) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Remote API function call returned with error code: '</span></span>, res)</code> </pre><br>  It should be noted that the constant simx_return_ok corresponds to zero (0). <br><br>  Fine!  After we understand the meaning of the functions, let's finally revive our scene.  To do this, we need to perform the following actions in our own script: <br><br><ul><li>  We get clientID and close other connections, if any. </li><li>  Check whether it turned out to connect, if not, then display the message and stop working. </li><li>  Having searched the documentation, we find the vrep.simxGetObjectHandle function, with which we can get the handle of the object we need (in our case, the left and right wheels). </li></ul><br>  We set the acceleration (vrep.simxSetJointTargetVelocity) in case of success, which will force our robot to move with the acceleration we need. <br><br>  As a result, you will get a script like script1.py: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> vrep <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys vrep.simxFinish(<span class="hljs-number"><span class="hljs-number">-1</span></span>) clientID = vrep.simxStart(<span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>, <span class="hljs-number"><span class="hljs-number">19999</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> clientID!= <span class="hljs-number"><span class="hljs-number">-1</span></span>: print(<span class="hljs-string"><span class="hljs-string">"Connected to remote server"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: print(<span class="hljs-string"><span class="hljs-string">'Connection not successful'</span></span>) sys.exit(<span class="hljs-string"><span class="hljs-string">'Could not connect'</span></span>) errorCode,left_motor_handle=vrep.simxGetObjectHandle(clientID,<span class="hljs-string"><span class="hljs-string">'Pioneer_p3dx_leftMotor'</span></span>,vrep.simx_opmode_oneshot_wait) errorCode,right_motor_handle=vrep.simxGetObjectHandle(clientID,<span class="hljs-string"><span class="hljs-string">'Pioneer_p3dx_rightMotor'</span></span>,vrep.simx_opmode_oneshot_wait) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> errorCode == <span class="hljs-number"><span class="hljs-number">-1</span></span>: print(<span class="hljs-string"><span class="hljs-string">'Can not find left or right motor'</span></span>) sys.exit() errorCode=vrep.simxSetJointTargetVelocity(clientID,left_motor_handle,<span class="hljs-number"><span class="hljs-number">0.2</span></span>, vrep.simx_opmode_oneshot_wait) errorCode=vrep.simxSetJointTargetVelocity(clientID,right_motor_handle,<span class="hljs-number"><span class="hljs-number">0.2</span></span>, vrep.simx_opmode_oneshot_wait)</code> </pre><br>  For the simxGetObjectHandle function, in addition to the clientID, the object name is indicated, which can be viewed in the Scene Hierarchy. <br><br><img src="https://habrastorage.org/files/b2d/4e0/ae5/b2d4e0ae569243ab875049add36b96de.png"><br><br><pre> <code class="python hljs">errorCode, left_motor_handle = vrep.simxGetObjectHandle(clientID, <span class="hljs-string"><span class="hljs-string">'Pioneer_p3dx_leftMotor'</span></span>, vrep.simx_opmode_oneshot_wait)</code> </pre><br>  Now if we start the scene and activate the script, our robot starts moving.  Trying different values ‚Äã‚Äãof speeds, or, for example, setting the speed to only one wheel, you can make the robot spin around its axis. <br><br>  As you can see, interacting with the V-REP environment using Python is not at all difficult, and due to its great functionality, you can create truly complex scenarios for the interaction of entire groups of robots and much more.  For inspiration, you can start by learning about their demo examples. </div><p>Source: <a href="https://habr.com/ru/post/268313/">https://habr.com/ru/post/268313/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268303/index.html">Failures on the Moscow Stock Exchange: Problems and Solutions</a></li>
<li><a href="../268305/index.html">Vulnerability in Platius: access to any account</a></li>
<li><a href="../268307/index.html">Adaptation of complex applications for Material Design: an approach from Aviary</a></li>
<li><a href="../268309/index.html">Testing in Yandex. How to make a fault-tolerant grid of thousands of browsers</a></li>
<li><a href="../268311/index.html">Flussonic video streamer features review</a></li>
<li><a href="../268315/index.html">How to make a fuel plugin (for example, NFS). Part 2</a></li>
<li><a href="../268317/index.html">We invite you to RAD Studio 10 Seattle webinars and slides for performances in Moscow and Almaty</a></li>
<li><a href="../268319/index.html">Two tasks HeadHunter on Data Science Week: try to solve it yourself</a></li>
<li><a href="../268325/index.html">What can be not ready, becoming a team lead</a></li>
<li><a href="../268327/index.html">AI, BigData & HPC Digest # 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>