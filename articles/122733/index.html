<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MediaWiki 1.17 engine released. My extension replacing jQuery is still working in it. But in the future (for MediaWiki 1.18) a more elegant solution will appear.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On June 22, 2011, the Wikimedia Foundation released another stable version of the MediaWiki engine - version 1.17. You can easily find the correspondi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MediaWiki 1.17 engine released. My extension replacing jQuery is still working in it. But in the future (for MediaWiki 1.18) a more elegant solution will appear.</h1><div class="post__text post__text-html js-mediator-article">  On June 22, 2011, the Wikimedia Foundation released another stable version of the MediaWiki engine - version 1.17.  You can easily find the corresponding news in English <a href="http://lists.wikimedia.org/pipermail/mediawiki-announce/2011-June/000101.html">in the mediawiki-announce mailing list, which includes</a> hyperlinks to a detailed list of changes and instructions for upgrading. <br><br>  One of the main (and even key) news of this version was the emergence and implementation of a unique <a href="http://www.mediawiki.org/wiki/ResourceLoader">ResourceLoader</a> engine, the purpose of which is to automatically build ‚Äúresources‚Äù (javascript conglomerates and CSS, from which one common CSS file and one common javascript file are assembled), taking into account their mutual dependencies (for example, jQuery UI depends on jQuery) and followed by minification.  Two resources containing the MediaWiki service scripts and the <nobr>jQuery 1.4.2</nobr> library <nobr>are</nobr> connected automatically in any case. <br><br>  Those of you who want to use a newer version of jQuery can <nobr>still</nobr> use for this purpose my method and extension, which <a href="http://habrahabr.ru/blogs/wiki/121252/">I told you about 12 days ago</a> in the same blog.  Oddly enough, I didn‚Äôt have to change any of the letters in his PHP code to work <nobr>in MediaWiki 1.17 -</nobr> this is good luck, despite the fact that (due to the complexity of ResourceLoader), the former ability to ‚Äúbite out‚Äù the jQuery library embedded in MediaWiki, disappeared completely.  So now my extension ‚Äúwins‚Äù just because it inserts a call to a new jQuery a bit earlier than ResourceLoader starts loading the old one.  <nobr>Apparently,</nobr> the <nobr>jQuery 1.4.2</nobr> library is reasonable enough not to replace the new version of itself.  However, it is sad that now (unlike 1.16) my extension does not allow loading one version of jQuery (my own) instead of another version (built into the engine): in 1.17 they are loaded together, which is uneconomical. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  I'll warn you that as the ResourceLoader adapts, some extensions and components of MediaWiki will surely learn (and some have already learned) to rely on that (old) version of jQuery, which is built into the MediaWiki engine - and with a noticeable jQuery update, many of them will fall off without fail.  In particular, the next version (MediaWiki 1.18) will be delivered (according <a href="http://www.mediawiki.org/wiki/JQuery">to the jQuery page on</a> its wiki) with a not-so-updated jQuery library (version 1.4.4 instead of version 1.4.2 going <nobr>to MediaWiki 1.7) -</nobr> all because UploadWizard is dead when trying to update jQuery to version 1.5.2, being incompatible with the new behavior of <nobr>the</nobr> <b>$ .ajax ()</b> <nobr>function</nobr> , so jQuery involuntarily <a href="http://www.mediawiki.org/wiki/Special:Code/MediaWiki/88725">rolled back to 1.4.4</a> .  Keep this incident in mind if you wish to place an excessively new version of this popular javascript library on the MediaWiki: jQuery.js page. <br><br>  To all this we must add (and add) that fans will not need to use the updated jQuery library in MediaWiki 1.18.  In this future version of MediaWiki, fortunately, <a href="http://www.mediawiki.org/wiki/Special:Code/MediaWiki/84401">there is a</a> new ResourceLoaderGetStartupModules anchor point, on which you can attach a <nobr>PHP script that</nobr> elegantly replaces jQuery from within ResourceLoader.  Last night and tonight, the developer Timo Tijhof (this is the one who, by the pseudonym Krinkle, hung the ‚Äúinspected‚Äù flag <a href="http://www.mediawiki.org/wiki/Special:Code/MediaWiki/84401">on the ResourceLoaderGetStartupModules diff</a> ) kindly agreed, at my request, to write an extension using this feature - so that its ‚Äú <a href="http://www.mediawiki.org/wiki/Extension:Local_jQuery">Local jQuery</a> ‚Äù extension can be further (and need, need!) will certainly use my instead, immediately after switching to MediaWiki 1.18, since it saves on code size, causing one version of jQuery instead of another (and not one after the other, as I had to do in 1.17). <br><br>  Finally, a little about the sad. <br><br>  The <b>$ wgParser-&gt; disableCache ()</b> method, which worked fine in MediaWiki 1.16, causes PHP to crash into ‚ÄúFatal Error: Call to a member function setCacheTime () <nobr>on a non-object‚Äù</nobr> in module <nobr>/ includes / parser / Parser .php</nobr> (which indicates some lack of thought of the logic of this method in the new version).  In particular, the EmbedVideo extension suffered from this, which was invented by <nobr>Jim R. Wilson</nobr> in 2007 and which was then finished for a long time and upgraded by me and Alexander Mashin.  It is now used <nobr>in</nobr> <a href="http://traditio.ru/">Tradition</a> , <a href="http://wikireality.ru/">Wikireality</a> <nobr>and</nobr> <a href="http://cyclowiki.org/">Cyclopaedia</a> .  The method had to be simply commented out - in the end, you can allow the media players to be cached - but it‚Äôs scary to think about what crunches the authors of those extensions will have to invent, in which the lack of caching of the final page is essential. </div><p>Source: <a href="https://habr.com/ru/post/122733/">https://habr.com/ru/post/122733/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122728/index.html">Interesting questions about programming</a></li>
<li><a href="../122729/index.html">Lulz Security announced the termination of activities</a></li>
<li><a href="../122730/index.html">XNA port for iOS appeared</a></li>
<li><a href="../122731/index.html">About the very first software company and the largest software project in US history</a></li>
<li><a href="../122732/index.html">Logitech K750 - solar-powered wireless keyboard</a></li>
<li><a href="../122735/index.html">We go around other people's brakes</a></li>
<li><a href="../122736/index.html">Google stops supporting Google Health and PowerMeter projects</a></li>
<li><a href="../122737/index.html">Electronic Arts servers hacked</a></li>
<li><a href="../122738/index.html">Advertising for your Android application</a></li>
<li><a href="../122739/index.html">Function-Based Iterators and Generators</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>