<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Benefits of following styleguides when developing Angular applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the end of 2018, Panda-Meetup # 9 Frontend was held in Samara. At this event, I tried myself in a new role and made a presentation. My name is Euge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Benefits of following styleguides when developing Angular applications</h1><div class="post__text post__text-html js-mediator-article">  At the end of 2018, <a href="http://panda-meetup.ru/frontend-samara-2018-11-24">Panda-Meetup # 9 Frontend was</a> held in Samara.  At this event, I tried myself in a new role and made a presentation.  My name is Eugene Kholmov.  I came to programming more than 10 years ago as a student.  For the last 5 years I have been developing remote service systems in the largest Russian banks, two of them in the management position.  During this time, I participated in the creation of several leading Russian enterprise-applications, passing through the thorns of heavy architectural, integration and process solutions.  Relying on my experience of developing several large Internet banks, I told the guests of the mitap what benefits the following of the rules of good design style gives.  The voiced figures impressed the listeners.  The meeting participants literally bombarded me with questions.  It is possible that this topic will find a lively response among Habr's readers. <br><br><img src="https://habrastorage.org/webt/dg/oy/ou/dgoyou_yhvh6nzo65shrybtvlgw.jpeg"><br><a name="habracut"></a><br>  Video of my performance can be viewed on Youtube. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0WHW37Wif54" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  And for habrovchan I prepared a text version of his report. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Studying code readability, I came across a curious topic on StackOverflow.  It discussed how readable code is important for business, and whether it is more important for performance and correctness.  As a result, according to community members, the readability of the code turned out to be the most important criterion. <br><br>  At that time I was not interested in the code readability problems - I was developing the next Internet bank.  HTML5, AngularJS, LESS were used on the frontend.  The project was developed for one of the largest banks in Russia.  I switched to this project from Promsvyazbank, where I developed a very similar Internet bank: the same customer segment, the same number of users, and almost the same technology stack (HTML5, AngularJS, SCSS).  But, despite the strong similarity of the projects, the transition for me was very difficult.  It's all about style.  The code of these projects was strikingly different in design and general readability.  If the Promsvyazbank developers strictly followed the guidelines, there was no clear style rules in the new project. <br><br>  It was then that I was able to understand (and even calculate) what benefits a large project brings with a clear adherence to the style guides.  After analyzing the cost of improvements on my new project, I came to the same conclusion as StackOverflow readers: readability is the most important criterion. <br><br><img src="https://habrastorage.org/webt/1u/o1/t3/1uo1t3d4w8n2qhm-61tyob1cn0c.png"><br><br><h3>  Good style rules </h3><br>  For AngularJS, and Angular 2+, John Papa, a well-known expert in the world of frontend-development, created the style guides that describe the rules of good style when developing Angular-based applications.  Working at Promsvyazbank, I learned about these style guides.  The team clearly followed them on all projects.  But on the new project, the code got from contractors who hadn‚Äôt seriously thought about programming style.  With my new team, I faced daily challenges that I had once solved before.  However, this did not give me any advantages, but only pain and suffering. <br><br><h3>  The tale of lost time or why do we need all these rules </h3><br>  There are a lot of rules listed in John Pap's style.  There is no sense in re-listing them, they are beautifully set forth in the <a href="https://angular.io/guide/styleguide">original source</a> .  I will confine myself to a couple of examples that will colorfully demonstrate the usefulness of the expert‚Äôs recommendations. <br><br><h3>  Let's start with the simple </h3><br>  An example from practice.  Internet bank users were shown irrelevant exchange rates.  I was assigned the task of ensuring the uploading of current rates at the time of the operation.  I expected to see the code responsible for downloading currency rates in services and components.  But, of course, he was not there (otherwise I would have nothing to write about).  It turned out that currency rates were retrieved and filtered at the start level of the application, in the app.run file, and then placed in Session Storage.  This is clearly not the best approach.  Besides, all the same, to solve the problem, the code had to be removed from there.  The simple task was gone all day. <br><br>  And now we look at the rule Bootstrapping (Style 02-05) from the stylgide. <br><br>  Place the code that serves to launch the application in a separate file, and do not place the application logic in this file.  Logic should be placed in services and components. <br><br><h3>  Example per million </h3><br>  As can be seen above, the neglect of just one rule can lead to trouble.  But we‚Äôll get really serious consequences if we don‚Äôt listen to several recommendations at once. <br><br>  An example from practice.  Our team received the assignment: for utilities payments, add the possibility of including the amount of voluntary insurance in the payment.  On the frontend part, it came down to a simple task: placing a check-box on the form, the inclusion of which would add to the amount of payment the cost of insurance.  In Promsvyazbank we coped with a similar task very quickly.  But on the new project, everything went wrong. <br><br>  Due to the fact that the code of the module of payments was extremely poorly organized, the solution stretched for months.  In search of the most suitable option, we postponed this task several times and took it again.  And the bank, meanwhile, was experiencing difficulties with payments in favor of utilities.  Ultimately, of course, we figured out the problem.  But I wondered how much a bad code can cost to an organization using the example of such a simple task.  I considered how much time all the specialists involved in it had spent on solving the problem.  Armed with statistics on average wages.  He estimated and rounded the attendant losses.  As a result, I came to the conclusion that if there was an initially good code in the payment module, we would save at least 5 million rubles. <br><br>  Referring to John Papa's style guide, I saw that our module violated several rules of good code at once.  Having estimated the degree of influence of each of these rules, I singled out three, the violation of which hampered our work most of all: <br><br><ul><li>  Rule of One - I wrote off 25% of my lost time for breaking this rule; </li><li>  Single Responsibility - deviation from this principle contributed to the total loss of 35%; </li><li>  LIFT - a violation of this group of approaches, I think, slowed us down the most, 40%. </li></ul><br><img src="https://habrastorage.org/webt/pg/_t/fs/pg_tfsk-jr0igllmipxnj-3ss5o.png"><br><br><h3>  Rule of one </h3><br>  Our Internet bank has supported many payments, some of which, according to their model, were completely different from each other.  Nevertheless, programmers have tried to make a ‚Äúuniversal‚Äù payment form that can work with all payment options. <br>  On the form itself, many different blocks were drawn up, which were shown under one condition and never showed under another.  At the same time, they were served by common logic, which greatly inflated ViewModels. <br><br>  In the end, all this led to the fact that if something was added in one place, it inevitably fell off in another.  At first, it turned out that the choice of the checkbox did not change the amount.  We tried to correct the amount field.  But it became uneditable on all other types of payments.  We tried to replace the amount field with a new one.  But the general validation logic fell off: the check box works, but the payment button is not available.  Got into a similar situation? <br><br>  Now let's see what the rule of Rule of One says. <br><br>  Each individual element, such as a component or service, should be placed in a separate file.  You need to make sure that the file does not grow.  If the number of lines of code exceeds the magic number 400, this is a sure sign that the component is worth breaking. <br><br><h3>  Single Responsibility </h3><br>  When we finished with the form itself, it turned out that functions outside the form stopped working.  For example, work with draft payments was damaged.  There were errors in the history of operations.  And this happened because the model and payment form controller were tied with other components besides the payment form itself.  Even worse, the attempt to fix this functionality brought us back to a broken payment form. <br>  We have dealt with the classic case of violation of Single Responsibility.  This principle has long been included in the gentleman's set of experienced programmers.  And his own stygayd explicitly recommends using it when developing Angular-applications. <br><br>  Apply single responsibility principle (SRP). <br><br><h3>  LIFT </h3><br>  The most inconvenient, with what had to face, is the navigation through the project itself.  The logic was scattered across several files, united in an incomprehensible hierarchy of inheritance and delegation.  From the names of these files did not follow their purpose.  Files lay in different folders.  In some folders, for example, Controllers, among dozens of other files, all the time I had to look for those that are needed right now.  The number of open tabs in the development environment did not fit on the computer screen and into my head.  During debugging, reaching the N-th component, I have already forgotten which way and why I came here.  Periodically it was necessary to carry out full-fledged reverse engineering with the debugger enabled in order to find which project folder contains the file with some specific functionality.  The accumulated feeling of hatred for the code clouded the eyes and distracted from work. <br><br>  Wise stylgayd knows this problem.  To solve it, a group of LIFT rules has been created.  LIFT is an abbreviation for Locate, Identify, Flat and Try to be DRY.  According to the LIFT principles, it is necessary to organize the project structure in such a way that: <br><br><ul><li>  it was clear where to place the new components and where to look for existing ones (Locate); </li><li>  the purpose of the component by the file name (Identify) was clear; </li><li>  it was easy to navigate in the nesting of folders, use for them the most flat structure (Flat); </li><li>  try not to repeat your code, but not to the detriment of the other rules (Try to be DRY). </li></ul><br><h3>  The LIFT approach complements two more rules. </h3><br>  The Overall structural guidelines proposes to create a folder for each individual component and to group in it all the files related to this component.  For example, it is more convenient when the payment-form.controller.js file is not in the Controllers folder, but in the payment-form folder with payment-form.html and payment-form.css. <br><br>  Folders-by-feature structure recommends creating separate folders with corresponding names for project features and project areas.  According to this rule, the payment-form folder mentioned above would have to be in the payments folder along with the other components required to work with payments. <br><br>  As a result, if the authors of the code followed the LIFT rules, the project structure would look something like this: <br><br><img src="https://habrastorage.org/webt/s5/ls/mr/s5lsmrcnizyozt0c2t15o2i5pby.png"><br><br>  Agree, this option of organizing the code is much more convenient for the reader.  And he would save our entire team a lot of time. <br><br><h3>  Good programmers go to the bar </h3><br>  I hope the above examples sounded quite convincingly so that the reader, who had not previously thought about the programming style, had a desire to look into the guideline.  In general, well-read and supported code benefits not only the project budget, but also the programmer himself.  Readable code easier to review.  If you need the help of colleagues, they will penetrate into readable code more quickly.  If you are just a novice specialist, then it is the readability of the code - the first thing you need to work on.  Even if you write super-correct and perfectly optimized code, but absolutely unreadable and unsupported, in the team you will certainly be respected, but they will no longer be invited to the bar after work. <br><br>  If this text made you think about something or reminded you of something painfully familiar, I will be glad to see it in the comments to the post. </div><p>Source: <a href="https://habr.com/ru/post/434700/">https://habr.com/ru/post/434700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../434690/index.html">Haiku operating system: porting applications and creating packages</a></li>
<li><a href="../434692/index.html">25 most expensive American startups who died in 2018</a></li>
<li><a href="../434694/index.html">NeurIPS-2018 Review (ex. NIPS)</a></li>
<li><a href="../434696/index.html">Employees of IT giants have figured out how to influence the policies of their companies.</a></li>
<li><a href="../434698/index.html">Pessimism about multithreading</a></li>
<li><a href="../434702/index.html">Why do I get nervous about the failures of modern SSD</a></li>
<li><a href="../434704/index.html">The reasons for the decline in the cost of mobile traffic in Russia and the forecast for 2019</a></li>
<li><a href="../434706/index.html">UDB. What is it? Part 3. Datapath FIFO</a></li>
<li><a href="../434708/index.html">HL 2018. Abstract of the report ‚ÄúMake passwords great again! How to defeat brute force and leave hackers with nothing</a></li>
<li><a href="../434710/index.html">Blog RUVDS on Habr√©: three years</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>