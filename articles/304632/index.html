<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creation of the minimap on Unity</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. I present to your attention the translation of an article from the blog dedicated to the development of Unity - The Knights of Unity . It will ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creation of the minimap on Unity</h1><div class="post__text post__text-html js-mediator-article">  <i>Hello.</i>  <i>I present to your attention the translation of an article from the blog dedicated to the development of Unity - <a href="http://blog.theknightsofunity.com/">The Knights of Unity</a> .</i>  <i>It will talk about creating a minimap.</i>  <i>I also implemented the description in the article and put it on the <a href="https://bitbucket.org/Charoplet/habrtutorminimap">BitBacket</a> .</i> <br><hr><br>  What is required to create a minimap in a game on Unity?  You will probably be surprised, but it is simpler than you think and does not even require programming skills!  Next, I will try to explain step by step how to do this. <br><a name="habracut"></a><br><br><h1>  The main ideas of the minimap </h1><br><img src="https://habrastorage.org/files/29f/981/a9b/29f981a9b8d14224b6968d6f89bda6fd.png" align="right"><br>  Minimap (or radar) are designed to display information about what surrounds us.  First of all, the minimap should be centered on the main character.  Then, instead of real models on it, you need to use readable notation, because minimaps are often quite small, and the player may not recognize the information that the minimap is trying to provide. <br><br>  Most minimap are a circle, and we will try to create the same.  Also, it is often possible to find additional buttons and labels.  We will also try to create them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Stage preparation </h1><br>  Let's start by adding something to the scene.  I created a scene with <a href="https://www.assetstore.unity3d.com/en/">Unity-chan</a> (she will be a player) and two <a href="https://www.assetstore.unity3d.com/en/">robots</a> (who will be opponents). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/04f/a82/5ef/04fa825ef7a84fbbb151e2d77a992b9d.png"></div><br>  <i>Kind of game</i> <br><br>  Now add the second camera.  Simply select the <i>GameObject -&gt; Camera</i> main menu item and rename the created camera as <i>Minimap Camera</i> .  Now make this camera a child of <i>Unity-chan</i> (this will allow the camera to follow it) and lift it 10 units above the head of <i>Unity-chan</i> , while turning it down. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a25/6b8/f53/a256b8f531cf4f8bb95acc2238812d41.png"></div><br>  <i>Adjusting the minimap camera</i> <br><br>  To get a good result, set the position of the <i>Transform</i> component to <i>0, 10, 0</i> and turn to <i>90, 0, 0</i> .  <i>The camera should show approximately this:</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/4c3/5f2/51d/4c35f251d31b4e63bef0455ffd449a3d.png"></div><br><br>  Good, but this is not a minimap.  If you now run the scene, the image from the camera will simply be displayed on the screen.  We have to tell the game that we want to present the minimap as a UI element. <br><br><h1>  Mapping to UI Element </h1><br>  For this we need a <a href="http://docs.unity3d.com/Manual/class-RenderTexture.html">render texture</a> .  You can easily create it by selecting the main menu item <i>Assets -&gt; Create -&gt; Render Texture</i> .  Create and rename as <i>Minimap Render Texture</i> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9d1/856/d5a/9d1856d5a92c4a36a6427e845ab9aeea.png"></div><br><br>  Now select the <i>Minimap Camera</i> and in the inspector assign the <i>Target Texture to</i> the previously created <i>Minimap Render Texture</i> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/38f/349/902/38f349902378456ebb8ebf6277d5bd59.png"></div><br><br>  If you try to start the scene, you will notice that the image from the <i>Minimap Camera is</i> not visible anywhere.  The image is now hidden in the created <i>Minimap Render Texture</i> . <br><br>  Let's now create a <i>Canvas</i> to add UI elements to it.  Select the menu item <i>GameObject</i> -&gt; <i>UI</i> -&gt; <i>Canvas</i> and the <i>Canvas</i> will appear on the scene. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c92/fca/b41/c92fcab4172e4bbebeab420367dad15e.png"></div><br><br>  On the <i>Canvas,</i> you need to add the <i>Raw Image</i> object to use the <i>Render Texture with it</i> .  Select the menu item <i>GameObject</i> -&gt; <i>UI</i> -&gt; <i>Raw Image</i> , rename the created object as <i>Minimap Image</i> and assign our <i>Minimap Render Texture in the Texture</i> inspector. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/095/a81/143/095a811438c44e299695c3dcd2e991af.png"></div><br><br>  As a result, we have a UI element that displays the image from the <i>Minimap Camera</i> ! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/37d/3e3/1a8/37d3e31a8ba64ef5ac758af674e22bd0.png"></div><br><br>  Let's make it in the form of a circle.  For this purpose, I prepared a simple texture mask: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9b6/0e0/644/9b60e064476a4a0d8451e26819f26e4c.png"></div><br><br>  Create a new <i>Image</i> UI element, add the <i>Mask</i> component to it, in the inspector, set the <i>Source Image</i> field to our texture mask and make the <i>Minimap Image a</i> child of the <i>Mask</i> (hint: disable <i>Mipmaps</i> for the mask texture for better visual effect). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/42b/1a7/8d8/42b1a78d88b1476e8fde552d8cdac3a9.png"></div><br><br>  After these actions, our minimap will look like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/15d/d1c/a9d/15dd1ca9d15843e58ed580811acaeaae.png"></div><br><br>  White minimap on a white background does not look very good.  Let's add an image with an outline on top of it: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/cc6/420/e3b/cc6420e3beef460bb4f8519e76649989.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/49b/336/789/49b3367898ee4e1ab466fec29e300e3d.png"></div><br><br>  To make it easier to move the whole structure, I grouped it into a separate empty object, calling it <i>Minimap</i> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7d7/f99/8c2/7d7f998c2d8b4589ab58f1b443df3fe5.png"></div><br><br>  Finally, let's move the created minimap to the upper right corner of the screen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c35/3e9/f4f/c353e9f4fb154eaaa99ab69541bf2d21.png"></div><br><br>  Looks good, right?  But this still unreal minimap is a camera displaying the game from above.  If you are familiar with the layers, you probably guess what I will do next! <br><br><h1>  Having fun with the layers </h1><br>  We need at least one additional layer.  Go to <i>Edit</i> -&gt; <i>Project Settings</i> -&gt; <i>Tags and Layers</i> and add a new <i>Minimap</i> layer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d0a/b67/37b/d0ab6737bc9840a2a8117d2862e4fb8d.png"></div><br><br>  Now create three spheres.  One blue color located in a position where Unity-chan stands.  The best way is to make the sphere a child in relation to Unity-chan.  Make sure the sphere layer is set to <i>Minimap</i> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/170/214/d4f/170214d4f0154a9a85ccfff87c6e3c3f.png"></div><br><br>  Do similar actions with robots, only use red instead of blue spheres. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e3c/a8c/68c/e3ca8c68cdd4483c91956cdab3414ddc.png"></div><br><br>  Now is the best part!  Select the <i>Main Camera</i> and make sure that its <i>Culling Mask</i> property does not contain a checked <i>Minimap</i> layer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/de9/c0a/5ee/de9c0a5ee9534eb88e6229d3fb25efbd.png"></div><br><br>  Now select the <i>Minimap Camera</i> and do the opposite.  Leave only the <i>Minimap</i> layer <i>checked</i> and <i>uncheck</i> all the others. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bea/2db/de9/bea2dbde956943a29b27bf0e6423ed97.png"></div><br><br>  Now you see something like a minimap! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/acb/0b9/719/acb0b97197db42368ffb82dfd5ae3fc1.png"></div><br><br><h1>  Finishing touches </h1><br>  You may want to make a few adjustments.  First of all, let's change the clipping color of the <i>Minimap Camera</i> to light gray and set the <i>Clear Flags</i> property to <i>Solid Color</i> so that the background of the minimap contrasts better with the blue and red spheres. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/569/c6d/c9d/569c6dc9da874471a29d39abbfab787e.png"></div><br><br>  Now you can add any other UI elements to the minimap.  For example, I added text.  And here is the end result! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f24/e07/aab/f24e07aab2d146a99ce7c54dfb19c3a6.png"></div><br><br>  The minimap is designed to immediately update its position when moving a character.  If one of the robots moves, it will also be displayed. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a37/2b4/181/a372b4181fc047c3b1129a37b16a613d.png"></div><br><br>  And this is the end of the minimap lesson! </div><p>Source: <a href="https://habr.com/ru/post/304632/">https://habr.com/ru/post/304632/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304622/index.html">Refactoring with Cleisley Composition</a></li>
<li><a href="../304624/index.html">The digest of interesting events from the world of Java, and around it # 5 (06/20/2016 - 07/03/2016)</a></li>
<li><a href="../304626/index.html">PVS-Studio hurries to the aid of CERN: checking the project Geant4</a></li>
<li><a href="../304628/index.html">Everything you wanted to know about BPM, but were afraid to ask</a></li>
<li><a href="../304630/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ218 (July 27 - 3, 2016)</a></li>
<li><a href="../304634/index.html">HTML :: Phl module for processing HTML documents containing Perl code instructions</a></li>
<li><a href="../304636/index.html">How I changed the main domain in Google Apps</a></li>
<li><a href="../304638/index.html">"Confrontation" through the eyes of a defender: A story about PHDays CTF from a competitor</a></li>
<li><a href="../304640/index.html">Instant Run: how does it work?</a></li>
<li><a href="../304642/index.html">A little bit about improving database performance: Practical advice</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>