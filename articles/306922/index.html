<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a Doodle Jump game for Android in Intel XDK in 2 hours on JavaScript from scratch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr. 

 Unusually for me to write articles after such a long time, since I am used to recording material on video, where you can freely say so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a Doodle Jump game for Android in Intel XDK in 2 hours on JavaScript from scratch</h1><div class="post__text post__text-html js-mediator-article">  Hello, Habr. <br><br>  Unusually for me to write articles after such a long time, since I am used to recording material on video, where you can freely say something.  And it just so happened that I decided to write an article about the Intel XDK, but not just a review of the possibilities, but to make out the environment using the example of a very specific project.  The project for me was the ‚Äúclone‚Äù of the game ‚ÄúDoodle Jump‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/011/f75/ddd/011f75dddcc640d90573b941caf42e14.png" alt="image"><br><a name="habracut"></a><br><h4>  Part 1. Preparation of the project </h4><br>  I will be developing on JavaScript using the PointJS engine (if anything, it‚Äôs in Google in a minute). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The very beginning to create a new empty project.  Here, in principle, everything is quite simple: <br><br>  2. 1. At the bottom we find the ‚ÄúStart a new project‚Äù button, and then in the ‚ÄúTemplates‚Äù tab, select ‚ÄúStandart HTML5‚Äù, and click ‚ÄúCreate‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ea/27e/160/4ea27e1600ae7309dd1d097c6257f635.png" alt="image"><br><br>  2. Now, with a tricky click, we will go to the project settings (yes, click on this blue folder): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/13b/c29/7cf/13bc297cf64f4cc502d89832b19cad45.png" alt="image"><br><br>  3. Further, in general, everything is logically clear: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/237/639/988/237639988914873d66705ff648771b60.png" alt="image"><br><br>  Let me explain some points: <br>  App ID is a unique identifier of your application, or Company Domain <br>  Whitelist - allowed requests that the application will be allowed to make <br>  Developer Certificate - application certificate.  If it is missing, create it using this drop-down menu: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a06/70f/53a/a0670f53a91b28fb742dae08db215bc6.png" alt="image"><br><br>  Fill it with valid data to avoid further problems. <br>  After completing the certificate, it will be possible to select it as an application certificate. <br>  Crosswalk Runtime - Determines whether Cordova will be integrated into your applications (Embedded) or not (Shared) <br><br>  4. Fill in the icons: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0de/61e/5df/0de61e5dff7a757153c7eda832bffccd.png" alt="image"><br><br>  Remember that the size and format must strictly comply with the requirements of the environment. <br><br>  Regarding Splash Screen, these are the loading screens of your application, which are displayed to the user while your application is heaving.  As a rule, it usually takes a little less than 2 seconds, but during this time you can display, for example, the logo of something <s>or insert advertising</s> . <br><br>  Since we are making the game for Android, we disable the rest of the OS and platform: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf8/926/cc0/cf8926cc0910059ba3a60842ec168f3b.png" alt="image"><br><br>  On this with the setting of the application, we are finished.  We proceed to the preparation of the project itself. <br><br><h4>  Part 2. File preparation </h4><br>  I will use the PointJS game engine for creating the game, a handy thing weighing 60kb, fully cross-platform and well-optimized.  Prepare the project: <br><br>  1. Open the project folder in the OS (Show in OS): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c7f/e30/3e8/c7fe303e86f1ee24455cb30221d2384c.png" alt="image"><br><br>  Then go to the folder "www", this is our working folder.  Remove everything from it and insert the engine with the index.html file: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/261/eae/fdc/261eaefdc9900fb0dad3fe576c9ba985.png" alt="image"><br><br>  I downloaded these files from PointJS website. <br><br>  In the ‚ÄúDevelop‚Äù tab, you and I get into (for someone familiar) the Brackets editor, and in the index.html file we see the following code: <br><br><div class="spoiler">  <b class="spoiler_title">Initial view index.html</b> <div class="spoiler_text"><pre><code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=utf-8"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width,user-scalable=no"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>   PointJS<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"point.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//   var pjs = new PointJS('2d', 400, 400); //      pjs.system.initFullPage(); //    var vector = pjs.vector; //     var log = pjs.system.log; //     var game = pjs.game; //     var point = vector.point; //     var camera = pjs.camera; //     var brush = pjs.brush; //     var OOP = pjs.OOP; //     var math = pjs.math; //       var touch = pjs.touchControl; touch.initTouchControl(); //    'game' game.newLoop('game', function () { //     game.fill('#D9D9D9'); //   ", !" brush.drawText({ x : 10, y : 10, text : ', !', size : 30, color : '#515151' }); }); //     60fps game.startLoop('game'); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br><br>  There are already some variables added, something is defined in advance (read the comments in the code).  In the column "Emulate" we set up the phone we like and its orientation with scaling, at the same time we are convinced that everything works: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b73/7d0/012/b737d001259d5a5b33d51cdcdf31799c.png" alt="image"><br><br>  With the files sorted out, the project starts, everything is fine, go to the main stages of creating the game. <br><br>  <b>Part 3. Creating the game</b> <br>  It is probably noticeable that we have a lot of ads of different links and variables, we will put them into a separate file (new lines are commented out) <br><div class="spoiler">  <b class="spoiler_title">init.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pjs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PointJS(<span class="hljs-string"><span class="hljs-string">'2d'</span></span>, <span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-number"><span class="hljs-number">400</span></span>); pjs.system.initFullPage(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vector = pjs.vector; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> log = pjs.system.log; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> game = pjs.game; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> point = vector.point; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> size = vector.size; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> camera = pjs.camera; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> brush = pjs.brush; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> OOP = pjs.OOP; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> math = pjs.math; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> touch = pjs.touchControl; touch.initTouchControl(); <span class="hljs-comment"><span class="hljs-comment">//        var width = game.getWH().w; var height = game.getWH().h; //            var del = height / 1000 / 5; //    delta-time      var dt; //        var score = 0; //   .  ,    var levelScore = 0; //      ( )        oldScore var tmpScore = localStorage.getItem('score'); var oldScore = tmpScore ? tmpScore : 0;</span></span></code> </pre><br></div></div><br><br>  The background in the game ‚ÄúDoodle Jump‚Äù is a ‚Äútetrad sheet‚Äù, that is, cells, to create such an effect, create the file grid.js with the following content: <br><div class="spoiler">  <b class="spoiler_title">grid.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    (  ,        del) var sizeX = 200 * del, sizeY = 200 * del; //    var drawGrid = function () { // ,        X  Y var x = width / sizeX, y = height / sizeY; //      OOP.forXY(x, y, function (x, y) { //    -    X  Y,   brush.drawRectS({ x : (sizeX + 2)*x, //   X y : (sizeY + 2)*y, //  Y fillColor : 'white', //   w : sizeX, h : sizeY //    }); }); };</span></span></code> </pre><br></div></div><br>  Remember that our background is painted in gray, so if we draw white rectangles at a distance of 5px from each other, then because of these gaps between them we will have a grid. <br><br>  Now, in order to draw the grid, it is enough for us to call the function drawGrid () in any game loop and the background will be filled with the grid: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a1a/c96/126/a1ac961260d5a56644d20056d6afd5bc.png" alt="image"><br><br>  Well, fill the background with a grid, it is nice, but we are making the game!  Therefore, we go further! <br>  Now, it would be good to make a menu for the game, so that the player saw his record, saw how much he scored per level and was able to start the game again if he lost (throw out to the same menu when lost).  To do this, create another file and fill it: <br><br><div class="spoiler">  <b class="spoiler_title">menu.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  ,         var newGame = game.newTextObject({ text : ' ', //    font : 'serif', //   size : 300*del, //   (  del) color : '#363636' //   }); //         newGame.setPositionCS(point(width/2, height/2)); //   ,        var drawMenu = function () { //  ,   newGame.draw(); //      brush.drawTextLinesS({ x : newGame.x, //      " " y : newGame.y + newGame.h, //          lines : [': '+Math.abs(oldScore), ' : '+Math.abs(levelScore)], //   ? font : 'serif', //  size : 250*del, //  color : '#363636' //  }); //        touch,     // ,       " " if (touch.isPeekObject(newGame)) { //  -  createLevel(10); //       (   ) return game.setLoop('game'); //          'game' } };</span></span></code> </pre><br></div></div><br><br>  But we remember that the index file starts the ‚Äúgame‚Äù cycle right away, let's fix it: <br><br><div class="spoiler">  <b class="spoiler_title">Overwrite the file index.html</b> <div class="spoiler_text"><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/&gt; &lt;meta name="viewport" content="width=device-width,user-scalable=no"/&gt; &lt;title&gt;   PointJS&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script type="text/javascript" src="point.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="init.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="grid.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="menu.js"&gt;&lt;/script&gt; &lt;script type="text/javascript"&gt; game.newLoop('menu', function () { game.fill('#D9D9D9'); drawGrid(); //    drawMenu(); //       }); game.startLoop('menu'); //    menu &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;</code> </pre><br></div></div><br><br>  We look at the result: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a2e/8e5/13b/a2e8e513b20095fe9674f06291cee2f7.png" alt="image"><br><br>  When you click on "New game" we have an error, because we have not defined the game cycle "game" and there is no function "createLevel", but we do not care about it yet, we will create a game game cycle with you and we will temporarily set the game to start it, having corrected the startLoop command. <br><br>  We describe the game cycle: <br><pre> <code class="javascript hljs">game.newLoop(<span class="hljs-string"><span class="hljs-string">'game'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   ,     Delta-Time   dt = game.getDT(20); game.fill('#D9D9D9'); //   drawGrid(); //   drawLevel(); // -      drawPlayer(); // -     //     ?   brush.drawTextS({ x : 10, y : 10, //  (    ) text : 'Score: '+Math.abs(score), //  size : 300*del, //  color : '#515151',//  font : 'serif' //  }); });</span></span></code> </pre><br><br>  Now, if we start the game, we will have errors, so we will comment out the drawLevel function for now, but we will describe the drawPlayer function now.  Create a new file: <br><br><div class="spoiler">  <b class="spoiler_title">pl.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      var pl = game.newImageObject({ x : 0, y : 0, //  ,      w : 744 * del, h : 670 * del, // .     744  670,      file : 'img/pl.png' //    }); var dy = 2 * del; // ,      var dmax = 50 * del; //   var dx = 0; // ,      //       var drawPlayer = function () { //   . ,    Y ! if (pl.y &lt; score) { score = Math.ceil(pl.y); } pl.draw(); //   pl.move(point(0, dy*dt)); //       delta-time dy += dy &lt; dmax ? del*dt : 0; // ,        () //      () if (touch.isDown()) { if (touch.getPositionS().x &gt; width/2) //      (   ) dx = 30*del; //      ( ) else //  dx = -30*del; //      () //  ,        if (dx &gt; 0) { //   pl.setFlip(0, 0); //   (    "" ) if (pl.x &gt; width) { //       pl.x = -pl.w; //      } } else if (dx &lt; 0) { //    pl.setFlip(1, 0); //   if (pl.x+pl.w &lt; 0) { //  ,     ,     pl.x = width; //   } } pl.move(point(dx*dt, 0)); //          } // ,       ,    ,   //    ,       ,  ,    //   ,    if (pl.getPositionS().y &gt; score + 5000 * del) { levelScore = score; //    ( ,     ?) if (score &lt; oldScore) { //     ,   oldScore = score; //    localStorage.setItem('score', score); //     } return game.setLoop('menu'); //      ,     } //   ,        ,      . camera.moveTimeC(vector.pointPlus(point(width/2, pl.getPositionC().y), point(0, -500*del)), 10); };</span></span></code> </pre><br></div></div><br>  First player picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f55/f2c/39f/f55f2c39fe9d72cb54180a7e7288017c.png" alt="image"><br><br>  The function of the camera offset can be viewed in the API to the engine.  I‚Äôll briefly say that we smoothly move the camera to the player‚Äôs position, while slightly shifting the camera down 500 * del pixels so that it is slightly below.  At the same time, we do not move the camera left and right, its center always looks at half the width of the screen (width / 2). <br><br>  If we run, we will see the following picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/391/5f6/70d/3915f670d4d40bc1ae2345e8c17b8254.png" alt="image"><br><br>  Now it's time to uncomment the ‚ÄúcreateLevel‚Äù and ‚ÄúdrawLevel‚Äù functions, if you have commented on them.  Create another file and fill it: <br><br><div class="spoiler">  <b class="spoiler_title">blocks.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   ,   var blocks = []; //  ,          dy2 = false; //     createBlock     (   ) var createBlock = function () { if (dy2 === false) { //       ,       dy2 = height - 60*del*4; //      } else { //    ,        ( ) dy2 = blocks[blocks.length-1].y - 500*del - math.random(500*del, 800*del); //     } blocks.push(game.newImageObject({ //      w : 200 * del*4, h : 60 * del*4, //  file : 'img/block.png', //    x : math.random(0, width - 200*del*4), //      y : dy2, //       })); }; //       //    ,      var oldBlock; //      ,     ?  ?    " " var createLevel = function (i) { //       pl.y = 0; //      ,       pl.x = 0; score = 0; //    OOP.forInt(i, function () { //      createBlock(); //        }); oldBlock = blocks[blocks.length-1] //      ,  -    ( ) }; //       ,    ,     var rePositionBlock = function (el) { //  ,      var x = math.random(0, width - 200*del*4), //       y = oldBlock.y - 500*del - //    oldBlock,      math.random(500*del, 800*del); //     ,      el.setPosition(point(x, y)); //     oldBlock = el; //       ,     ( ) }; //           var drawLevel = function () { //     OOP.forArr(blocks, function (el) { // ,       if (camera.getPosition().y + height + 2000*del &lt; el.y) { //    rePositionBlock(el); //   } el.draw(); //   //      ,   if (pl.isStaticIntersect(el.getStaticBox()) &amp;&amp; dy &gt; 0) { //    ,      if (pl.y+pl.h &lt; el.y+el.h/3) //     ,  ,         ,         dy = -50*del; //  ,   } }); };</span></span></code> </pre><br></div></div><br><br>  Block image: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd9/049/bec/fd9049becfb03de344ea908eca09b789.png" alt="image"><br><br>  That's all, no more files need to be created.  The game in its minimum form is ready: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f23/408/486/f23408486ab5ea4213fe93305aa2ac96.png" alt="image"><br><br>  Now explanations: <br>  del is a divisor <s>which is a multiplier</s> , which is used to multiply all values ‚Äã‚Äãin pixels onto it.  Since the screen height can be different, this factor on different screens changes, making the other objects that multiply its size onto it - dynamically scalable. <br><br>  Delta-Time, also known as dt variable, is a time factor.  The time in milliseconds, elapsed from the last rendered frame to the current frame, is used to compress the animation and speeds when moving, when the game starts on devices with different power. <br><br>  Now about the compilation.  It happens on the intel XDK server, which is good for those with weak computers. <br>  <s>And bad for those who know for sure that every second wants to steal his idea.</s> <br><br>  In general, there should be no difficulties, there is a ‚ÄúBuild‚Äù tab, on which you simply choose for which OS to build the project, specify the password from the certificate, and that‚Äôs all.  After compilation you will receive a link to download the finished project by mail, and you can also download directly from the program.  After downloading files from the server, they are deleted. <br><br>  Download project source: <a href="https://drive.google.com/file/d/0B09c3UoyWG0xQTc0bmRsMEtQaGs/view%3Fusp%3Dsharing">Download archive</a> <br><br>  To start, you can open the index.html file in Google Chrome, open the console (CTRL + SHIFT + J) and enable touch screen emulation mode, this will allow you to try playing the game without installing the intel XDK. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/841/c96/d09/841c96d09dbac333f7e76c0200316aad.png" alt="image"><br><br>  Download ready APK: <a href="https://drive.google.com/open%3Fid%3D0B09c3UoyWG0xeHBDcjdyMV8tLVk">Download APK</a> <br>  It must already be run either in the emulator, or installed on a real device. <br><br>  For a better understanding of the development process I attach the video: <br><br><div class="spoiler">  <b class="spoiler_title">This same video article</b> <div class="spoiler_text">  First hour of development: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/M0B_tUD2LQQ%3Ffeature%3Doembed&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgH31ymx7FTkP1wSziZQ1vJrG2PbQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Second hour of development: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/9_LWxmo9U7o%3Ffeature%3Doembed&amp;xid=17259,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhxqBuGFo5-Tn9R9ca7VatS5MeFMA" frameborder="0" allowfullscreen=""></iframe><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/306922/">https://habr.com/ru/post/306922/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306912/index.html">Moscow Institute of Physics and Technology: the reception of applications to the online magistracy in modern combinatorics is ending</a></li>
<li><a href="../306914/index.html">Understanding Go: io Package</a></li>
<li><a href="../306916/index.html">Stylization of images using neural networks: no mysticism, just matan</a></li>
<li><a href="../306918/index.html">11 Essential Hiring Tips for Starting Employers</a></li>
<li><a href="../306920/index.html">Is there life after the failure of popular browsers to support the architecture of NPAPI</a></li>
<li><a href="../306924/index.html">Mal, Yes Del: Review younger servers in the HPE ProLiant ML line</a></li>
<li><a href="../306928/index.html">Learning OpenGL ES2 for Android Lesson number 3. Lighting</a></li>
<li><a href="../306930/index.html">Find.By - finding & verifying locators</a></li>
<li><a href="../306932/index.html">How we accelerated PHP projects 40 times with caching</a></li>
<li><a href="../306934/index.html">An example of the calculation of the robust controller (H-infinity control)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>