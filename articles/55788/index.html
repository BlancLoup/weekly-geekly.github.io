<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a form with asynchronous validation on the server in Joomla 1.5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will show one of the ways to create forms in Joomla 1.5 with asynchronous validation on the server. To do this, we will create a com...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a form with asynchronous validation on the server in Joomla 1.5</h1><div class="post__text post__text-html js-mediator-article">  In this article I will show one of the ways to create forms in Joomla 1.5 with asynchronous validation on the server.  To do this, we will create a component that was built in accordance with the MVC concept implemented in Joomla 1.5, and the mootools 1.2 will be used as the JS framework. <br><br><a name="habracut"></a><br><br><h4>  Introduction </h4><br>  In this article I will not delve into the theory of the concept of MVC and its implementation in Joomla 1.5.  I also assume that the reader is familiar with the general principle of creating components for this CMS, but if not, then you can see, for example, <a href="http://docs.joomla.org/Developing_a_Model-View-Controller_Component_-_Part_1">this</a> .  Perhaps, someday I will write an article about it, but now I would like to cover the subject :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Formulation of the problem </h4><br>  It is required to create a frontend component that would implement asynchronous validation of the data entered in the form on the server.  To make an asynchronous call to the server, we will use <a href="http://www.mootools.net/">mootools 1.2.x</a> In Joomla 1.5, mootools 1.1 is already built in, however, simply replacing files with code will not work - Joomla will not work well.  But as always, I want to use modern solutions, so we will not use the moomools available in Joomla, but we‚Äôll connect our latest version.  Of course, there is a risk of conflict situations, but we will assume that at the front end we will not have components that use built-in mootools :) In addition, this method will be useful to those who want to use some other JS framework. <br><br><h4>  Implementation </h4><br>  The scheme of our component will be as follows.  When you click on the submit button, the data from the fields will be sent asynchronously to the server, where they will be ‚Äúreceived‚Äù by the Controller, validate the data and return a response in JSON format, which will contain information about the validity of the entered data.  This information will be used on the client to display the results of the check using CSS. <br><br>  Before going directly to the code, you need to make some explanations.  According to the MVC concept, all user requests to the component must be serviced by the Controller (Controller).  Having received the command, the controller ‚Äúdecides‚Äù how to react to this command.  In the classical scheme, the Controller gives the Model command to receive / save / update data, and the result of this command is displayed by the View, which ‚Äúknows‚Äù how to display the data. <br><br>  There will be no Model in our simplest component, so the corresponding class will be empty; it is present in this example only to demonstrate the overall organization of the component code.  The task of the view is to include the necessary styles and scripts, and display the form.  In the Controller, the functionality of form validation on the server will be implemented as a separate task (task), which we will call asynchronously. <br><br>  In the folder of the frontend parts of our component (which we will call <em>AsyncForm</em> ), i.e.  in the <em>/ components / com_asyncform folder</em> , we will have the following folder and file structure: <br><br><pre> + com_asyncform
    + assets
       + css
          -common.css
       + js
          -common.js
          -mootools-1.2.1-core.js
    + controllers
       -default.php
    + models
       -asyncform.php
    + views
       + tmpl
          -default.php
       -view.html.php
    -asyncform.php
</pre><br><br><pre>  asyncform.php </pre><br><blockquote><ol><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000000">?&gt;</font></font></code> </li><li> <code><font color="black"><font color="#000000"><font color="#3A00FF">&lt;?php</font> <br> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Restricted access'</font> <font>)</font> <font color="#339933">;</font> <br> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$controller</font> <font color="#339933">=</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'controller'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> <font color="#0000ff">'.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">else</font> <font>{</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'controllers'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'models'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'asyncform.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#b1b100">require_once</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'view.html.php'</font> <font>)</font> <font color="#339933">;</font> <br> <font>}</font> <br> <br> <font color="#666666">// Create the controller</font> <br> <font color="#000088">$classname</font> <font color="#339933">=</font> <font color="#0000ff">'AsyncformController'</font> <font color="#339933">.</font> <font color="#000088">$controller</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$controller</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> <font color="#000088">$classname</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">execute</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'task'</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$controller</font> <font color="#339933">-&gt;</font> <font color="#004000">redirect</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br> ?&gt;</font></font></code> </li> </ol><br></blockquote><br><br><pre>  controllers / default.php </pre><br><blockquote><ol><li>  <font color="#3A00FF">&lt;? php</font> <br></li><li>  jimport <font>(</font> <font color="#0000ff">'joomla.application.component.controller'</font> <font>)</font> <font color="#339933">;</font> <br></li><li><br></li><li>  <font color="#3A00FF">class</font> AsyncformController <font color="#3A00FF">extends</font> JController <font>{</font> <br></li><li>  <font color="#3A00FF">function</font> __construct <font>(</font> <font color="#000088">$ default</font> <font color="#339933">=</font> <font color="#990000">array</font> <font>(</font> <font>)</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#3A00FF">parent</font> <font color="#339933">::</font> __construct <font>(</font> <font color="#000088">$ default</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">registerDefaultTask</font> <font>(</font> <font color="#0000ff">'display'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">registerTask</font> <font>(</font> <font color="#0000ff">'check'</font> <font color="#339933">,</font> <font color="#0000ff">'check'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#3A00FF">function</font> cancel <font>(</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">setRedirect</font> <font>(</font> <font color="#0000ff">'index.php'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#3A00FF">function</font> display <font>(</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#000088">$ view</font> <font color="#339933">=</font> <font color="#3A00FF">new</font> AsyncformView <font>(</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ view</font> <font color="#339933">-&gt;</font> <font color="#004000">display</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#3A00FF">function</font> check <font>(</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#000088">$ isValid</font> <font color="#339933">=</font> <font color="#3A00FF">false</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'type'</font> <font>]</font> <font color="#339933">=</font> <font color="#0000ff">''</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'msg'</font> <font>]</font> <font color="#339933">=</font> <font color="#0000ff">''</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'items'</font> <font>]</font> <font color="#339933">=</font> <font color="#990000">array</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br></li><li><br></li><li>  <font color="#000088">$ name</font> <font color="#339933">=</font> <font color="#990000">substr</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'name'</font> <font>)</font> <font color="#339933">,</font> <font>0</font> <font color="#339933">,</font> <font>50</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#b1b100">if</font> <font>(</font> <font color="#990000">ereg</font> <font>(</font> <font color="#0000ff">'[aaja-Yaa-zA-Z \ -] + $'</font> <font color="#339933">,</font> <font color="#000088">$ name</font> <font>)</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'items'</font> <font>]</font> <font>[</font> <font>]</font> <font color="#339933">=</font> <font color="#990000">array</font> <font>(</font> <font color="#0000ff">'name'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'name'</font> <font color="#339933">,</font> <font color="#0000ff">'status'</font> <font color="#339933">=&gt;</font> <font>1</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ isValid</font> <font color="#339933">=</font> <font color="#3A00FF">true</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li>  <font color="#b1b100">else</font> <font>{</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'items'</font> <font>]</font> <font>[</font> <font>]</font> <font color="#339933">=</font> <font color="#990000">array</font> <font>(</font> <font color="#0000ff">'name'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'name'</font> <font color="#339933">,</font> <font color="#0000ff">'status'</font> <font color="#339933">=&gt;</font> <font>0</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ isValid</font> <font color="#339933">=</font> <font color="#3A00FF">false</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#000088">$ email</font> <font color="#339933">=</font> <font color="#990000">strtolower</font> <font>(</font> <font color="#990000">substr</font> <font>(</font> JRequest <font color="#339933">::</font> <font color="#004000">getVar</font> <font>(</font> <font color="#0000ff">'email'</font> <font>)</font> <font color="#339933">,</font> <font>0</font> <font color="#339933">,</font> <font>50</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#b1b100">if</font> <font>(</font> <font color="#990000">ereg</font> <font>(</font> <font color="#0000ff">'^ [^ 0-9] [a-z0-9 _ \ - \.] + @ [^ 0-9] [az \ - \.] + \. [az] {2,4} $ '</font> <font color="#339933">,</font> <font color="#000088">$ email</font> <font>)</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'items'</font> <font>]</font> <font>[</font> <font>]</font> <font color="#339933">=</font> <font color="#990000">array</font> <font>(</font> <font color="#0000ff">'name'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'email'</font> <font color="#339933">,</font> <font color="#0000ff">'status'</font> <font color="#339933">=&gt;</font> <font>1</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ isValid</font> <font color="#339933">=</font> <font color="#3A00FF">true</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li>  <font color="#b1b100">else</font> <font>{</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'items'</font> <font>]</font> <font>[</font> <font>]</font> <font color="#339933">=</font> <font color="#990000">array</font> <font>(</font> <font color="#0000ff">'name'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'email'</font> <font color="#339933">,</font> <font color="#0000ff">'status'</font> <font color="#339933">=&gt;</font> <font>0</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ isValid</font> <font color="#339933">=</font> <font color="#3A00FF">false</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li>  <font color="#b1b100">if</font> <font>(</font> <font color="#000088">$ isValid</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'type'</font> <font>]</font> <font color="#339933">=</font> <font color="#0000ff">'valid'</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'msg'</font> <font>]</font> <font color="#339933">=</font> <font color="#0000ff">'The form is filled in correctly'</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li>  <font color="#b1b100">else</font> <font>{</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'type'</font> <font>]</font> <font color="#339933">=</font> <font color="#0000ff">'error'</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ res</font> <font>[</font> <font color="#0000ff">'msg'</font> <font>]</font> <font color="#339933">=</font> <font color="#0000ff">'Error!'</font>  <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#990000">echo</font> json_encode <font>(</font> <font color="#000088">$ res</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li>  <font>}</font> <br></li><li>  <font color="#000000">?&gt;</font> </li></ol><br></blockquote><br>  The check () method generates a response in JSON format, which consists of: <br><ul><li>  text field type - the result of the test (valid or error) </li><li>  msg text field - message for user </li><li>  an array of items, whose elements are arrays of two elements, in which the id fields of the form and their status are stored, we will need this information to display in which fields the error </li></ul><br><br><pre>  models / asyncform.php </pre><br><blockquote><ol><li>  <font color="#000000">&lt;? php</font> <br></li><li>  jimport <font>(</font> <font color="#0000ff">'joomla.application.component.model'</font> <font>)</font> <font color="#339933">;</font> <br></li><li><br></li><li>  <font color="#000000">class</font> AsyncformModel <font color="#000000">extends</font> JModel <font>{</font> <br></li><li>  <font>}</font> <br></li><li>  <font color="#000000">?&gt;</font> </li></ol><br></blockquote><br><br><pre>  views / default / view.html.php </pre><br><blockquote><ol><li>  <font color="#3A00FF">&lt;? php</font> <br></li><li>  jimport <font>(</font> <font color="#0000ff">'joomla.application.component.view'</font> <font>)</font> <font color="#339933">;</font> <br></li><li><br></li><li>  <font color="#3A00FF">class</font> AsyncformView <font color="#3A00FF">extends</font> JView <font>{</font> <br></li><li>  <font color="#3A00FF">public</font> <font color="#000088">$ message</font> <font color="#339933">;</font> <br></li><li><br></li><li>  <font color="#3A00FF">function</font> __construct <font>(</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">addTemplatePath</font> <font>(</font> JPATH_COMPONENT <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'views'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'default'</font> <font color="#339933">.</font> DS <font color="#339933">.</font> <font color="#0000ff">'tmpl'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#3A00FF">function</font> display <font>(</font> <font color="#000088">$ tpl</font> <font color="#339933">=</font> <font color="#3A00FF">null</font> <font>)</font> <font>{</font> <br></li><li>  <font color="#666666">// JHTML :: _ ('behavior.mootools');</font> <br></li><li><br></li><li>  <font color="#000088">$ document</font> <font color="#339933">=</font> <font color="#339933">&amp;</font> JFactory <font color="#339933">::</font> <font color="#004000">getDocument</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ document</font> <font color="#339933">-&gt;</font> <font color="#004000">addStyleSheet</font> <font>(</font> <font color="#0000ff">'components / com_asyncform / assets / css / common.css'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ document</font> <font color="#339933">-&gt;</font> <font color="#004000">addScript</font> <font>(</font> <font color="#0000ff">'components / com_asyncform / assets / js / mootools-1.2.1-core.js'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000088">$ document</font> <font color="#339933">-&gt;</font> <font color="#004000">addScript</font> <font>(</font> <font color="#0000ff">'components / com_asyncform / assets / js / common.js'</font> <font>)</font> <font color="#339933">;</font> <br></li><li><br></li><li>  <font color="#3A00FF">parent</font> <font color="#339933">::</font> <font color="#004000">display</font> <font>(</font> <font color="#000088">$ tpl</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li>  <font>}</font> <br></li><li>  <font color="#000000">?&gt;</font> </li></ol><br></blockquote><br>  If you still want to use the built-in mootools, then use the operator in line 12 instead of line 16. <br><br><pre>  views / default / tmpl / default.php </pre><br><blockquote><ol><li>  <font color="#3A00FF">&lt;? php</font> <font color="#990000">defined</font> <font>(</font> <font color="#0000ff">'_JEXEC'</font> <font>)</font> or <font color="#990000">die</font> <font>(</font> <font color="#0000ff">'Access denied'</font> <font>)</font> <font color="#339933">;</font>  <font color="#000000">?&gt;</font> <br></li><li><br></li><li>  &lt;div id = "log"&gt; &lt;/ div&gt; <br></li><li><br></li><li>  &lt;form id = "frm_asyncform" action = "index.php? option = com_asyncform &amp; task = check &amp; format = raw" method = "post"&gt; <br></li><li>  &lt;table&gt; <br></li><li>  &lt;tr&gt; <br></li><li>  &lt;td&gt; Name &lt;/ td&gt; <br></li><li>  &lt;td&gt; &lt;input type = "text" name = "name" id = "name" /&gt; &lt;/ td&gt; <br></li><li>  &lt;/ tr&gt; <br></li><li>  &lt;tr&gt; <br></li><li>  &lt;td&gt; Email &lt;/ td&gt; <br></li><li>  &lt;td&gt; &lt;input type = "text" name = "email" id = "email" /&gt; &lt;/ td&gt; <br></li><li>  &lt;/ tr&gt; <br></li><li>  &lt;/ table&gt; <br></li><li>  &lt;input type = "submit" name = "btn_submit" id = "btn_submit" value = "send" /&gt; <br></li><li>  &lt;/ form&gt; </li></ol><br></blockquote><br>  Pay attention to the form handler.  This type of handler is due to the fact that we only need to get a response string from the server, without any additional html markup, etc.  In Joomla 1.0.x, in order to return only the component output, you had to use index2.php, but in Joomla 1.5 this will not work.  For these purposes, it has a format parameter, which in order to return only the output of the component, must be equal to raw. <br><br><pre>  assets / css / common.css </pre><br><blockquote><ol><li>  <font color="#6666ff">.error</font> <font>{</font> <br></li><li>  <font color="#000000">border</font> <font color="#00AA00">:</font> <font color="#933">2px</font> <font color="#993333">solid</font> <font color="#cc00cc"># ff0000</font> <font color="#00AA00">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#cc00cc">#log</font> <font>{</font> <br></li><li>  <font color="#000000">padding</font> <font color="#00AA00">:</font> <font color="#933">5px</font> <font color="#00AA00">;</font> <br></li><li>  <font color="#000000">overflow</font> <font color="#00AA00">:</font> <font color="#993333">auto</font> <font color="#00AA00">;</font> <br></li><li>  <font color="#000000">margin-bottom</font> <font color="#00AA00">:</font> <font color="#933">5px</font> <font color="#00AA00">;</font> <br></li><li>  <font color="#000000">width</font> <font color="#00AA00">:</font> <font color="#933">452px</font> <font color="#00AA00">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#cc00cc">#log</font> <font color="#6666ff">.loaded</font> <font>{</font> <br></li><li>  <font color="#000000">background-color</font> <font color="#00AA00">:</font> <font color="#cc00cc"># ffc0c0</font> <font color="#00AA00">;</font> <br></li><li>  <font>}</font> <br></li><li><br></li><li>  <font color="#cc00cc">#log</font> <font color="#6666ff">.loaded-success</font> <font>{</font> <br></li><li>  <font color="#000000">background-color</font> <font color="#00AA00">:</font> <font color="#cc00cc"># c0ffc0</font> <font color="#00AA00">;</font> <br></li><li>  <font>}</font> </li></ol><br></blockquote><br><br><pre>  assets / js / common.js </pre><br><blockquote><ol><li>  window.  <font color="#660066">addEvent</font> <font>(</font> <font color="#3366CC">'domready'</font> <font color="#339933">,</font> <font color="#003366">function</font> <font>(</font> <font>)</font> <font>{</font> <br></li><li>  $ <font>(</font> <font color="#3366CC">'frm_asyncform'</font> <font>)</font> .  <font color="#660066">addEvent</font> <font>(</font> <font color="#3366CC">'submit'</font> <font color="#339933">,</font> <font color="#003366">function</font> <font>(</font> e <font>)</font> <font>{</font> <br></li><li>  e.  <font color="#000066">stop</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#003366">var</font> log <font color="#339933">=</font> $ <font>(</font> <font color="#3366CC">'log'</font> <font>)</font> .  <font color="#660066">empty</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000066">this</font> .  <font color="#660066">set</font> <font>(</font> <font color="#3366CC">'send'</font> <font color="#339933">,</font> <font>{</font> <br></li><li>  method <font color="#339933">:</font> <font color="#3366CC">'post'</font> <font color="#339933">,</font> <br></li><li>  onComplete <font color="#339933">:</font> <font color="#003366">function</font> <font>(</font> response <font>)</font> <font>{</font> <br></li><li>  <font color="#003366">var</font> res <font color="#339933">=</font> JSON.  <font color="#660066">decode</font> <font>(</font> response <font>)</font> <font color="#339933">;</font> <br></li><li>  res.  <font color="#660066">items</font> .  <font color="#660066">each</font> <font>(</font> <font color="#003366">function</font> <font>(</font> field <font>)</font> <font>{</font> <br></li><li>  <font color="#000066">if</font> <font>(</font> field. <font color="#000066">status</font> <font>)</font> <br></li><li>  $ <font>(</font> field. <font color="#000066">name</font> <font>)</font> .  <font color="#660066">removeClass</font> <font>(</font> <font color="#3366CC">'error'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000066">else</font> <br></li><li>  $ <font>(</font> field. <font color="#000066">name</font> <font>)</font> .  <font color="#660066">addClass</font> <font>(</font> <font color="#3366CC">'error'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000066">if</font> <font>(</font> res. <font color="#660066">type</font> <font color="#339933">==</font> <font color="#3366CC">'valid'</font> <font>)</font> <br></li><li>  log.  <font color="#660066">addClass</font> <font>(</font> <font color="#3366CC">'loaded-success'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000066">else</font> <br></li><li>  log.  <font color="#660066">addClass</font> <font>(</font> <font color="#3366CC">'loaded'</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  log.  <font color="#660066">set</font> <font>(</font> <font color="#3366CC">'html'</font> <font color="#339933">,</font> res. <font color="#660066">msg</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <br></li><li>  <font>}</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font color="#000066">this</font> .  <font color="#660066">send</font> <font>(</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <font>)</font> <font color="#339933">;</font> <br></li><li>  <font>}</font> <font>)</font> <font color="#339933">;</font> </li></ol><br></blockquote><br>  Here, the response received from the server as a string is converted to a js-object, after which its contents are analyzed and the necessary parameters are set to the html elements in the body of the component. <br><br>  That's all.  I hope this post will be useful to someone.  Comments, tips and suggestions are naturally welcome! </div><p>Source: <a href="https://habr.com/ru/post/55788/">https://habr.com/ru/post/55788/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../55783/index.html">Image Composite Editor - the creator of panoramic photos</a></li>
<li><a href="../55784/index.html">Three guests</a></li>
<li><a href="../55785/index.html">Did you participate in the Earth Hour?</a></li>
<li><a href="../55786/index.html">Overview of open source - systems for bug tracking.</a></li>
<li><a href="../55787/index.html">What do you do if you mistakenly enter a password from another resource on the site?</a></li>
<li><a href="../55791/index.html">Do not forget to turn the clock on the hour forward.</a></li>
<li><a href="../55797/index.html">How to taste smalltalk</a></li>
<li><a href="../55799/index.html">Javascript from A to‚Ä¶</a></li>
<li><a href="../55800/index.html">Formation of Excel-documents using PHP</a></li>
<li><a href="../55801/index.html">Seaside 2.9: Partial Sequels</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>