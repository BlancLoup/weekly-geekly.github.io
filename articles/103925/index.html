<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Problem UTF-8 Byte Order Mark or Cyrillic Quacking</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Faced the problem of incorrect display of Cyrillic fonts in the browser, or rather the browser incorrectly determined the encoding. A brief analysis s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Problem UTF-8 Byte Order Mark or Cyrillic Quacking</h1><div class="post__text post__text-html js-mediator-article"> Faced the problem of incorrect display of Cyrillic fonts in the browser, or rather the browser incorrectly determined the encoding.  A brief analysis showed that this inconvenience manifests itself only when the <b>ZF debug</b> plugin is enabled.  Throwing a glance at the source code of the page saw that the plug-in connects its styles and scripts immediately after the opening <code>&lt;head&gt;</code> , that is, <b>before the</b> meta tag with information about the page encoding, which is probably not entirely correct. <br><br><a name="habracut"></a><br><br>  To fix the situation, you need to correct the file library \ ZFDebug \ Controller \ Plugin \ Debug.php as follows (highlighted in black) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  protected <font color="#000000">function</font> _headerOutput <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000088">$ collapsed</font> <font color="#339933">=</font> <font color="#990000">isset</font> <font color="#009900">(</font> <font color="#000088">$ _COOKIE</font> <font color="#009900">[</font> <font color="#0000ff">'ZFDebugCollapsed'</font> <font color="#009900">]</font> <font color="#009900">)</font> ?  <font color="#000088">$ _COOKIE</font> <font color="#009900">[</font> <font color="#0000ff">'ZFDebugCollapsed'</font> <font color="#009900">]</font> <font color="#339933">:</font> <font color="#cc66cc">0</font> <font color="#339933">;</font> <br><br>  <font color="#b1b100">return</font> <font color="#009900">(</font> <font color="#0000ff">'</font> <font color="#0000ff"><br></font>  <font color="#0000ff">&lt;style type = "text / css" media = "screen"&gt;</font> <font color="#0000ff"><br></font>  <font color="#0000ff">...</font> <font color="#0000ff"><br></font>  <font color="#0000ff">&lt;/ script&gt; <b><font color="black">&lt;/ head&gt;</font></b> '</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br></blockquote><br><br><blockquote>  protected <font color="#000000">function</font> _output <font color="#009900">(</font> <font color="#000088">$ html</font> <font color="#009900">)</font> <br>  <font color="#009900">{</font> <br>  <font color="#339933">...</font> <br>  <font color="#000088">$ response</font> <font color="#339933">-&gt;</font> <font color="#004000">setBody</font> <font color="#009900">(</font> <font color="#990000">preg_replace</font> <font color="#009900">(</font> <font color="#0000ff">'/ ( <b><font color="black">&lt;\ / head&gt;</font> ) / i'</b> <font color="#339933">,</font> <font color="#0000ff">'$ 1'</font> <font color="#339933">.</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> _headerOutput <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">,</font> <font color="#000088">$ response</font> <font color="#339933">-&gt;</font> <font color="#004000">getBody</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font></font> <font color="#0000ff"><br></font>  <font color="#0000ff"><font color="#339933">...</font></font> <font color="#0000ff"><br></font>  <font color="#0000ff"><font color="#009900">}</font></font> <br><br>  Everything, now <code>&lt;meta http-equiv="content-type" content="text/html; charset=utf-8" /&gt;</code> will appear immediately after the opening <code>&lt;head&gt;</code> . <br><br>  ps  The problem is also solved if the BOM is forced to be specified at the beginning of the file, but, for example, PHP Storm cannot (at the moment) save it.  However, BOM is not necessary for browser applications, it is even redundant, based on the document " <a href="http://www.unicode.org/versions/Unicode5.0.0/ch02.pdf">Use of BOM is not required for UTF-8</a> " </blockquote></div><p>Source: <a href="https://habr.com/ru/post/103925/">https://habr.com/ru/post/103925/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../103917/index.html">How to make X in Y?</a></li>
<li><a href="../103919/index.html">The original way to increase the number of video views</a></li>
<li><a href="../103921/index.html">Yota air</a></li>
<li><a href="../103922/index.html">openSUSE 11.3, solution to the problem of shutting down USB keyboards and mice after upgrading the kernel to 2.6.34.4</a></li>
<li><a href="../103924/index.html">Installing and configuring FreeBSD 8.1 and 7.3 under Hyper-V 2008 R2</a></li>
<li><a href="../103926/index.html">Verified by Visa and SSL is not a panacea</a></li>
<li><a href="../103927/index.html">Why, after all, IE9 for XP will not?</a></li>
<li><a href="../103931/index.html">How Avangard-DSL will lose a client tomorrow morning</a></li>
<li><a href="../103934/index.html">Freedom Day PO in Barnaul</a></li>
<li><a href="../103935/index.html">The harsh realities of SaaS in Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>