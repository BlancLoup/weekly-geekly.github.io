<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Animation Floating Action Button in Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the moment of the emergence of the Material design concept, one of the simplest elements in the implementation was the floating action button - F...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Animation Floating Action Button in Android</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/747/2c1/2bd/7472c12bda114740b79d98343468b717.jpg"><br><br>  From the moment of the emergence of the Material design concept, one of the simplest elements in the implementation was the floating action button - FAB, the Floating Action Button.  This element quickly gained wide popularity among developers and designers.  In this post we will look at how you can animate a FAB and make it interactive.  But first, let's look at how to add this element to your project. <br><a name="habracut"></a><br>  FAB looks like a colored circle in the lower right corner of the screen.  If in Android Studio to create a new project Blank Activity, then it will automatically generate a floating action button. <br><br><img src="https://habrastorage.org/files/763/8cc/e39/7638cce39b0c4c27be00a33b29eff436.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="java hljs">&lt;android.support.design.widget.FloatingActionButton android:id=<span class="hljs-string"><span class="hljs-string">"@+id/fab"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:layout_gravity=<span class="hljs-string"><span class="hljs-string">"bottom|end"</span></span> android:layout_margin=<span class="hljs-string"><span class="hljs-string">"@dimen/fab_margin"</span></span> android:src=<span class="hljs-string"><span class="hljs-string">"@android:drawable/ic_menu_help"</span></span> /&gt;</code> </pre> <br><h3>  Floating action button </h3><br>  FAB can be one of two sizes: 56 dp (default) or 40 dp.  If you want to learn more about the principles of using FAB in the design of the application, then pay attention to the <a href="https://www.google.com/design/spec/components/buttons-floating-action-button.html">official Google guidelines</a> . <br><br>  In the most recent Android applications, FAB responds by scrolling through the list of items.  It would be more logical to hide it during scrolling.  This is what is meant: <br><br><img src="https://habrastorage.org/files/2bb/dc2/1f0/2bbdc21f03d4419b8847a659408d27b8.gif"><br><br>  To display this animation, create a <code>recyclerView</code> that <code>recyclerView</code> FAB to respond to scrolling.  Today there are many libraries available that allow you to do this with a couple of lines of code.  For example: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FAB_Hide_on_Scroll</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FloatingActionButton</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Behavior</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FAB_Hide_on_Scroll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNestedScroll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View target, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dxConsumed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dyConsumed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dxUnconsumed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dyUnconsumed)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onNestedScroll(coordinatorLayout, child, target, dxConsumed, dyConsumed, dxUnconsumed, dyUnconsumed); <span class="hljs-comment"><span class="hljs-comment">//child -&gt; Floating Action Button if (child.getVisibility() == View.VISIBLE &amp;&amp; dyConsumed &gt; 0) { child.hide(); } else if (child.getVisibility() == View.GONE &amp;&amp; dyConsumed &lt; 0) { child.show(); } } @Override public boolean onStartNestedScroll(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View directTargetChild, View target, int nestedScrollAxes) { return nestedScrollAxes == ViewCompat.SCROLL_AXIS_VERTICAL; } }</span></span></code> </pre> <br>  Here we use the class <code>FloatingActionButton.Behavior()</code> , whose main task, according to official documentation, is to move the types of <code>FloatingActionButton</code> so that none of the <code>Snackbar</code> will overlap them.  But in our case, this class is extended, so that we can use it to implement the desired button behavior. <br><br>  What does this class do?  Each time the scroll down is initialized, the <code>onStartNestedScroll()</code> method returns true.  After this, the <code>onNestedScroll()</code> method displays or hides a button, depending on its current visibility.  The constructor of the <code>FloatingActionButton.Behavior()</code> class is an important part of the described view behavior and is retrieved from the XML file. <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FAB_Hide_on_Scroll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); }</code> </pre> <br>  Add the <code>layout_behavior</code> attribute to the FAB containing the package name, and at the end the class name.  In other words, the attribute must specify the exact placement of the class in the project.  For example: <br><br><pre> <code class="java hljs">app:layout_behavior=<span class="hljs-string"><span class="hljs-string">"com.valdio.valdioveliu.floatingactionbuttonproject.Scrolling_Floating_Action_Button.FAB_Hide_on_Scroll"</span></span></code> </pre><br>  The animation looks good, but you can make it even better.  For example, so that the button goes off the screen while scrolling is more realistic behavior: <br><br><img src="https://habrastorage.org/files/af8/26d/1f5/af826d1f510f451da97ffdadf6b73bca.gif"><br><br>  It uses the same logic as in the previous version, except for the way FAB disappears.  The animation is pretty simple.  The button goes down with the help of the <a href="http://developer.android.com/reference/android/view/animation/LinearInterpolator.html">LinearInterpolator</a> .  The distance she needs to go is equal to the height of the button plus the width of the bottom margin. <br><br>  Please note that in the <code>if</code> expressions there are no <code>View.VISIBLE</code> and <code>View.GONE</code> , since in this case the view is not hidden, but only drifts off the screen. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FAB_Float_on_Scroll</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FloatingActionButton</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Behavior</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FAB_Float_on_Scroll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNestedScroll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View target, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dxConsumed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dyConsumed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dxUnconsumed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dyUnconsumed)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onNestedScroll(coordinatorLayout, child, target, dxConsumed, dyConsumed, dxUnconsumed, dyUnconsumed); <span class="hljs-comment"><span class="hljs-comment">//child -&gt; Floating Action Button if (dyConsumed &gt; 0) { CoordinatorLayout.LayoutParams layoutParams = (CoordinatorLayout.LayoutParams) child.getLayoutParams(); int fab_bottomMargin = layoutParams.bottomMargin; child.animate().translationY(child.getHeight() + fab_bottomMargin).setInterpolator(new LinearInterpolator()).start(); } else if (dyConsumed &lt; 0) { child.animate().translationY(0).setInterpolator(new LinearInterpolator()).start(); } } @Override public boolean onStartNestedScroll(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View directTargetChild, View target, int nestedScrollAxes) { return nestedScrollAxes == ViewCompat.SCROLL_AXIS_VERTICAL; } }</span></span></code> </pre> <br><h3>  Menu from FABs </h3><br>  There are many applications whose authors have created beautiful and well-functioning menus consisting of floating action buttons. <br><br><img src="https://habrastorage.org/files/44e/080/075/44e08007543c4d48850bbaff23af5075.png"><br><br>  Let's do something similar.  To begin, create a layout containing three small buttons.  They are invisible and located at the very bottom of the layout, under the main FAB.  Content <i>fab_layout.xml</i> : <br><br><pre> <code class="java hljs">&lt;FrameLayout xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span> xmlns:app=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>&gt; &lt;android.support.design.widget.FloatingActionButton android:id=<span class="hljs-string"><span class="hljs-string">"@+id/fab_1"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:layout_gravity=<span class="hljs-string"><span class="hljs-string">"bottom|end"</span></span> android:layout_margin=<span class="hljs-string"><span class="hljs-string">"@dimen/fab_margin"</span></span> android:src=<span class="hljs-string"><span class="hljs-string">"@android:drawable/ic_menu_compass"</span></span> android:visibility=<span class="hljs-string"><span class="hljs-string">"invisible"</span></span> app:backgroundTint=<span class="hljs-string"><span class="hljs-string">"@color/colorFAB"</span></span> app:fabSize=<span class="hljs-string"><span class="hljs-string">"mini"</span></span> /&gt; &lt;android.support.design.widget.FloatingActionButton android:id=<span class="hljs-string"><span class="hljs-string">"@+id/fab_2"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:layout_gravity=<span class="hljs-string"><span class="hljs-string">"bottom|end"</span></span> android:layout_margin=<span class="hljs-string"><span class="hljs-string">"@dimen/fab_margin"</span></span> android:src=<span class="hljs-string"><span class="hljs-string">"@android:drawable/ic_menu_myplaces"</span></span> android:visibility=<span class="hljs-string"><span class="hljs-string">"invisible"</span></span> app:backgroundTint=<span class="hljs-string"><span class="hljs-string">"@color/colorFAB"</span></span> app:fabSize=<span class="hljs-string"><span class="hljs-string">"mini"</span></span> /&gt; &lt;android.support.design.widget.FloatingActionButton android:id=<span class="hljs-string"><span class="hljs-string">"@+id/fab_3"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:layout_gravity=<span class="hljs-string"><span class="hljs-string">"bottom|end"</span></span> android:layout_margin=<span class="hljs-string"><span class="hljs-string">"@dimen/fab_margin"</span></span> android:src=<span class="hljs-string"><span class="hljs-string">"@android:drawable/ic_menu_share"</span></span> android:visibility=<span class="hljs-string"><span class="hljs-string">"invisible"</span></span> app:backgroundTint=<span class="hljs-string"><span class="hljs-string">"@color/colorFAB"</span></span> app:fabSize=<span class="hljs-string"><span class="hljs-string">"mini"</span></span> /&gt; &lt;/FrameLayout&gt;</code> </pre><br>  This layout must be included in the activity layout under the main FAB. <br><br><pre> <code class="java hljs">&lt;include layout=<span class="hljs-string"><span class="hljs-string">"@layout/fab_layout"</span></span> /&gt;</code> </pre><br>  Now you need to add an animation of the disappearance and appearance of each of the small buttons. <br><br>  <b>Note</b> : here you may encounter a problem with working out pressing small buttons.  When the animation finishes, the actual position of the button does not change, only the view moves.  Therefore, you cannot properly handle the touch of a button.  To solve this problem, you can customize the parameters of the layouts of each button, taking into account their new position, and only then perform an animation of the view movement. <br><br>  You can see the animation itself at the end of this publication.  The procedure for all buttons is the same, only the coordinates of the movement are different. <br><br>  Menu display: <br><br><pre> <code class="java hljs"> FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) fab1.getLayoutParams(); layoutParams.rightMargin += (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (fab1.getWidth() * <span class="hljs-number"><span class="hljs-number">1.7</span></span>); layoutParams.bottomMargin += (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (fab1.getHeight() * <span class="hljs-number"><span class="hljs-number">0.25</span></span>); fab1.setLayoutParams(layoutParams); fab1.startAnimation(show_fab_1); fab1.setClickable(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);</code> </pre><br>  <code>fab1</code> moved by adding fields to the right and below in <code>layoutParams</code> , after which the animation is initiated. <br><br>  Hiding the menu: <br><br>  FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) fab1.getLayoutParams (); <br>  layoutParams.rightMargin - = (int) (fab1.getWidth () * 1.7); <br>  layoutParams.bottomMargin - = (int) (fab1.getHeight () * 0.25); <br>  fab1.setLayoutParams (layoutParams); <br>  fab1.startAnimation (hide_fab_1); <br>  fab1.setClickable (false); <br><br>  The process of hiding is a reverse playback of the previous animation. <br><br>  // Animate one of the small buttons <br>  Animation show_fab_1 = AnimationUtils.loadAnimation (getApplication (), R.anim.fab1_show); <br>  Animation hide_fab_1 = AnimationUtils.loadAnimation (getApplication (), R.anim.fab1_hide); <br><br>  Now we will create in the <i>res / anim /</i> files folder for each of the animations.  This is done simply, but if you have any difficulties, you can refer to the <a href="http://developer.android.com/guide/topics/resources/animation-resource.html">documentation</a> . <br><br>  Content <i>fab1_show.xml</i> : <br><br><pre> <code class="java hljs">&lt;?xml version=<span class="hljs-string"><span class="hljs-string">"1.0"</span></span> encoding=<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>?&gt; &lt;set xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span> android:fillAfter=<span class="hljs-string"><span class="hljs-string">"true"</span></span>&gt; &lt;!-- Rotate --&gt; &lt;rotate android:duration=<span class="hljs-string"><span class="hljs-string">"500"</span></span> android:fromDegrees=<span class="hljs-string"><span class="hljs-string">"30"</span></span> android:interpolator=<span class="hljs-string"><span class="hljs-string">"@android:anim/linear_interpolator"</span></span> android:pivotX=<span class="hljs-string"><span class="hljs-string">"50%"</span></span> android:pivotY=<span class="hljs-string"><span class="hljs-string">"50%"</span></span> android:repeatCount=<span class="hljs-string"><span class="hljs-string">"4"</span></span> android:repeatMode=<span class="hljs-string"><span class="hljs-string">"reverse"</span></span> android:toDegrees=<span class="hljs-string"><span class="hljs-string">"0"</span></span>&gt;&lt;/rotate&gt; &lt;!--Move--&gt; &lt;translate android:duration=<span class="hljs-string"><span class="hljs-string">"1000"</span></span> android:fromXDelta=<span class="hljs-string"><span class="hljs-string">"170%"</span></span> android:fromYDelta=<span class="hljs-string"><span class="hljs-string">"25%"</span></span> android:interpolator=<span class="hljs-string"><span class="hljs-string">"@android:anim/linear_interpolator"</span></span> android:toXDelta=<span class="hljs-string"><span class="hljs-string">"0%"</span></span> android:toYDelta=<span class="hljs-string"><span class="hljs-string">"0%"</span></span>&gt;&lt;/translate&gt; &lt;!--Fade In--&gt; &lt;alpha android:duration=<span class="hljs-string"><span class="hljs-string">"2000"</span></span> android:fromAlpha=<span class="hljs-string"><span class="hljs-string">"0.0"</span></span> android:interpolator=<span class="hljs-string"><span class="hljs-string">"@android:anim/decelerate_interpolator"</span></span> android:toAlpha=<span class="hljs-string"><span class="hljs-string">"1.0"</span></span>&gt;&lt;/alpha&gt; &lt;/set&gt;</code> </pre><br>  Content <i>fab1_hide.xml</i> : <br><br><pre> <code class="java hljs">&lt;?xml version=<span class="hljs-string"><span class="hljs-string">"1.0"</span></span> encoding=<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>?&gt; &lt;set xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span> android:fillAfter=<span class="hljs-string"><span class="hljs-string">"true"</span></span>&gt; &lt;!--Move--&gt; &lt;translate android:duration=<span class="hljs-string"><span class="hljs-string">"1000"</span></span> android:fromXDelta=<span class="hljs-string"><span class="hljs-string">"-170%"</span></span> android:fromYDelta=<span class="hljs-string"><span class="hljs-string">"-25%"</span></span> android:interpolator=<span class="hljs-string"><span class="hljs-string">"@android:anim/linear_interpolator"</span></span> android:toXDelta=<span class="hljs-string"><span class="hljs-string">"0%"</span></span> android:toYDelta=<span class="hljs-string"><span class="hljs-string">"0%"</span></span>&gt;&lt;/translate&gt; &lt;!--Fade Out--&gt; &lt;alpha android:duration=<span class="hljs-string"><span class="hljs-string">"2000"</span></span> android:fromAlpha=<span class="hljs-string"><span class="hljs-string">"1.0"</span></span> android:interpolator=<span class="hljs-string"><span class="hljs-string">"@android:anim/accelerate_interpolator"</span></span> android:toAlpha=<span class="hljs-string"><span class="hljs-string">"0.0"</span></span>&gt;&lt;/alpha&gt; &lt;/set&gt;</code> </pre><br>  If you look at the translation tag (translate tag), which is responsible for the movement of the view, you will see that the translation coefficient (170% and 25%) corresponds to the coefficients used when adding fields and extracted to the Java code. <br><br>  We repeat all the above steps for the remaining small buttons.  Only displacement coefficients <code>fab2</code> : <code>fab2</code> - 150% and 150%, <code>fab3</code> - 25% and 170%. <br><br>  The result of our efforts: <br><br><img src="https://habrastorage.org/files/eac/395/622/eac395622b8542b1a6cc043588661d27.gif"><br><br><h3>  This is not the end </h3><br>  I hope this article has helped you understand how you can animate the Floating Action Button in your project.  Then you can explore the <a href="http://developer.android.com/guide/topics/resources/animation-resource.html">resources on animation in Android</a> , and start creating your own kinds of animations.  All the code described in this publication of the project is available on <a href="https://github.com/sitepoint-editors/FloatingActionButton_Animation_Project">GitHub</a> . </div><p>Source: <a href="https://habr.com/ru/post/369097/">https://habr.com/ru/post/369097/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../369085/index.html">Soilent 2.0 - liquid food of the future for the fight against snacks and fast food</a></li>
<li><a href="../369087/index.html">Computers ... in the house? Family of the Future (1978)</a></li>
<li><a href="../369089/index.html">The great scientist and enlightener - Nikolay Iosafovich Chistyakov</a></li>
<li><a href="../369091/index.html">Real discounts on gadgets or what does "vparivaet" us AliExpress?</a></li>
<li><a href="../369093/index.html">Lockheed Martin: we plan to send people into Mars orbit by 2028</a></li>
<li><a href="../369099/index.html">Russia's largest data center will receive energy from nuclear power plants</a></li>
<li><a href="../369101/index.html">Warranty Service Logitech - this is horosho</a></li>
<li><a href="../369103/index.html">Project Ara is alive: developers will get the first modular smartphones in the autumn</a></li>
<li><a href="../369105/index.html">New scopes of drone</a></li>
<li><a href="../369107/index.html">Microsoft has updated the headset for the visually impaired</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>