<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>EX.UA, LOIC and helpless Ukrainian police</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is not a secret that Ukraine is a country where every ‚Äúruler‚Äù (deputy, officials and oligarch) thinks that he is smarter than everyone and believes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>EX.UA, LOIC and helpless Ukrainian police</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/storage2/68e/5ba/6bd/68e5ba6bde2ddb011e0d30102557e339.jpg">  It is not a secret that Ukraine is a country where every ‚Äúruler‚Äù (deputy, officials and oligarch) thinks that he is smarter than everyone and believes that he controls the process, and later it turns out that no one controlled him.  A small analysis of history in the socio-political terms, we and colleagues give on the website of the <a href="http://www.fundgp.com/ru/publications/exclusive/410/">Foundation for Quality Policy</a> . <br><br>  What is <b>JS LOIC</b> , this is the simplest and not very well written JavaScript in 50 lines, the technical details of its work, and the like, are outlined below.  But its uniqueness is that every browser can be a source of attacks without installing special programs and virus infection.  First, <b>every schoolchild and housewife will soon be able to participate in attacks</b> without understanding anything, simply by getting a link and clicking a button on the page.  Moreover, it is not necessary to press a button, any mass resource can become the carrier of such a script embedded in it by the owners or intruders (not so important), but such requests will reach their goal. <br><br><a name="habracut"></a><br>  Since cross-domain AJAX requests in browsers do not work for security reasons, <b>JS LOIC</b> uses a simple technique ‚Äî dynamically inserting a tag with a picture onto a page, here‚Äôs a line from the code that makes all the technique clear: <br><pre><code class="javascript hljs">img.setAttribute(<span class="hljs-string"><span class="hljs-string">"src"</span></span>, targetURL + <span class="hljs-string"><span class="hljs-string">"?id="</span></span> + rID + <span class="hljs-string"><span class="hljs-string">"&amp;msg="</span></span> + messageNode.value);</code> </pre> <br>  And this opportunity can not be thrown out of browsers, but with a well-written site, this feature is not very scary.  Ideally, the query should not go to the database or to scripts that are executed dynamically, or to access the file system.  This is simply solved in Apache, nginx, IIS, in fact, you can filter requests in many ways: at the URL-rewriting stage using regular expressions, also in LOIC, cookies do not delete between calls (because they are created as part of another domain) is another filtering factor, blocking by IP is by itself, and given that many attack through a proxy, all forwarded requests can be immediately dropped.  At the same time, officials are crying that they have not been allocated enough money for equipment, and their iron could not withstand the attacks.  Low-budget and crooked websites of the Ukrainian authorities did not withstand the attacks, denyushki were plundered even before being developed by shameless officials. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But back to the technical aspects, the dynamic insertion of images, i-frames, scripts, in html - not the only and not the most effective way to browser attacks.  There is also the <b>JSONP</b> protocol - this is a secure cross-domain query specification, but for a DDOS attack, such a secure specification is also appropriate, here is an example: <br><pre> <code class="javascript hljs">&lt;script type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span> src=<span class="hljs-string"><span class="hljs-string">"http://targetdomain.com/somePath?parameter1=value1&amp;jsonp=callbackProcName1"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  If the server understands JSONP and the request is completed successfully, the result will return as a call to the callbackProcName1 function ({"Result1": "value1", "SomethingMore": "anotherValue" ...}).  But for attacks - getting results is not so important. <br><br><img align="right" src="https://habrastorage.org/getpro/habr/post_images/931/c9f/651/931c9f65128de5f3db42b0e6d47be1d3.png" alt="image">  Another technique is much more fruitful in this respect - these are the long-awaited <b><a href="http://davidwalsh.name/websocket">Web sockets</a> and <a href="http://socket.io/">Socket.io</a></b> , which will expand the toolkit of browser attacks many times over.  WebSockets support statistics in the picture.  So, that JS LOIC is just the first tests and very soon we will be faced with the fact that fifth grade students will be able to organize in 30 minutes and break everything for the sake of a joke.  During elections, for example, or other events, military actions, adoption of laws, speeches of politicians, summits ... the tsatska has already fallen into the hands, now you will not take it away. <br><br><h4>  You are probably interested in the true reason for your visit to me? </h4><br>  And now back to EX.UA and attacks in Ukraine.  What is the result? <br>  1. Sites of state bodies, the police and even the special services of Ukraine have shown their complete helplessness and incompetence.  As much as 3 days, everything lay, neither could we raise it in any other place. <br>  2. Politicians and officials are likely to be able to benefit from what happened - there is a good excuse to stop the development of electronic means of interaction of the society with the authorities, electronic services, etc.  but the truth is, no one has really developed them, this is really a wonderful reason to completely stop everything. <br>  3. During the next election and Euro 2012 everything will lie. <br>  4. EX.UA is too tidbit to just close for good, who will destroy what can generate good money on advertising, this is not Ukrainian, you just have to renegotiate, re-divide profits with the right people. <br><br>  <b>UPD:</b> Regarding upload pictures, I remembered another good method, very applicable for attacks: <br><br><pre> <code class="javascript hljs">images = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(); ... images[n] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Image(); images[n].src = <span class="hljs-string"><span class="hljs-string">"http://targetdomain.com/images/img"</span></span>+i+<span class="hljs-string"><span class="hljs-string">".jpg"</span></span>; ...</code> </pre> <br><br>  <b>UPD2:</b> In general, it turns out beautifully, while the top officials just stole - everyone was silent, but when they attacked the sacred, deprived of films - the war immediately! <br><br>  <b>UPD3:</b> Many people are interested in where to get the source code of JS LOIC, you can see them, for example, here: pastehtml.com/view/bmp0uzp8a.html (I don‚Äôt design it as a link, so that they do not click on it) <br><br>  <b>UPD4:</b> The easiest ways of protection available to everyone and implemented in 5 minutes are: <br><ul><li>  Filtering by URL - one line in .htaccess would solve the problem for Ukraine: RewriteRule. * Msg =. * /StaticHelloLOIC.html </li><li>  Filtering by the {HTTP_REFERER} field in .htaccess is 5-6 lines with the most common JS LOIC hostings </li><li>  And as a last resort, temporarily, it was possible to filter out the IP ranges of the main providers, from which attacks came, every admin practicing it knows all. </li></ul><br>  This would prevent the launching of scripts and the circulation of scripts to the database (the main reasons for the load), not to mention that requests can be filtered on the router, but the country did not have enough money to equip the equipment, which we already understood. <br><br>  And I repeat, it was not the servers that were lying, but the software, they responded to other server ports, and some even gave a page with ‚ÄúHTTP 502 Bad gateway‚Äù very smartly.  This happens, for example, when nginx stands as a frontend, and on an Apache backend or another server with software (which fell, and the frontend had to protect and cache it). </div><p>Source: <a href="https://habr.com/ru/post/137571/">https://habr.com/ru/post/137571/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../137564/index.html">Cut the Rope: how we make updates to the game</a></li>
<li><a href="../137565/index.html">Fantasy or reality? Samsung concept hit parade</a></li>
<li><a href="../137566/index.html">The Little Redis Book Translation</a></li>
<li><a href="../137567/index.html">Announced hardware support for transactional memory in Haswell</a></li>
<li><a href="../137569/index.html">Image design on CSS3. Part 2</a></li>
<li><a href="../137577/index.html">Ruby on rails to the masses: webvybory2012.ru issue a standard error page for the development of the Rails environment</a></li>
<li><a href="../137578/index.html">Opera Mini update - even if it is not installed</a></li>
<li><a href="../137581/index.html">Dynamic Access Control for ASP.NET MVC</a></li>
<li><a href="../137582/index.html">Mysterious indents between inline elements</a></li>
<li><a href="../137584/index.html">Create a datepicker similar to the standard in Harmattan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>