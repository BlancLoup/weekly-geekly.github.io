<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Design project architecture, ships and javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The story of what you need to consider to build a high-quality architecture of your project. How to make it unsinkable, and customers - satisfied. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Design project architecture, ships and javascript</h1><div class="post__text post__text-html js-mediator-article">  The story of what you need to consider to build a high-quality architecture of your project.  How to make it unsinkable, and customers - satisfied. <br><br>  Below we look at real life examples and try to learn from the mistakes of others.  And along the way we will compile a book of useful recommendations for a solution architect.  In all stories - architectural tasks that begin with the primary requirements of the client and are accompanied by further debriefing. <br><br><img src="https://habrastorage.org/webt/tv/sn/wd/tvsnwdyyv5pp9d4iqsp1cxm-epe.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The article is based on the report by Aleksey Bogachuk (solution-architect of EPAM) from the <a href="https://holyjs-piter.ru/">HolyJS 2018 Piter</a> conference.  Under the cut - video and transcript of the report. <br><br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/UVRi9LoFyfI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Approaches to building architecture and the role of the project architect </h2><br><h3>  Swam - know </h3><br>  So said the sailors from the Swedish ship Vasa.  Here they just swam, escaping from a sinking ship, which had just been launched from the stocks.  What does Vasa have to do with it? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a8a/fb7/362/a8afb73626950f3b336e4b2487b5386a.png"><br><br>  Let's start with a small story that makes a completely different look at the approaches to building the application architecture and the role of the project architect. <br><br>  The Swedish king contracted with shipbuilding architect Henrik H√ºbertsson.  Under the terms of the contract, Henrik had to build a flagship - the beauty of the Swedish fleet, the best ship in Europe.  As the main sponsors, the king and the treasury participated in the coordination of all the main characteristics of the ship, in the end the order was formulated as follows: <br><br><ul><li>  the ship should be the largest in the Baltic Fleet: 70 meters long, 10 wide; <br></li><li>  you need three decks, which will accommodate 300 soldiers; <br></li><li>  he must have 64 cannons on board in two rows; <br></li><li>  the building is given 3 years. <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/e0b/bd6/0a8/e0bbd60a886a250e840fb4ef9efa4f07.png"><br><br>  Analogues of such a ship at this time did not exist.  However, he himself also existed for a very short time, sinking in the midst of the celebration of its construction. <br><br>  When they tried to figure out why this happened, it was found that no deviations from the requirements were allowed.  The size is the same, the number of guns is normal, the sailors on the decks are exactly the number that was required.  Nevertheless, this was perfectly combined with the fact that the laws of physics did not allow such a vessel to hold out for any long time on the water. <br><br>  The following architectural failures of Henrik (which, by the way, could have cost him his life if he lived to court) are evident: <br><br><ul><li>  All conflicting restrictions were not balanced. <br></li><li>  There was no risk management, because no one had built ships of such scale before. <br></li><li>  Customer Relationship Management was also missing - Henrik did not have the courage to argue with the king. <br></li><li>  Used the wrong technology built. <br></li><li>  The architect agreed with the impossible requirements. <br></li></ul><br>  As a result of these miscalculations, the ship "went to the bottom" at the design stage.  The story is instructive, because it reflects the influence of the architecture cycle on the application being created.  There are stakeholders who form the goals, requirements, based on this, the project architecture is built, and then the project itself.  A mistake at one of these stages may cost the entire project, and sometimes the head / work, Henrik H√ºbertsson will not let you lie. <br><br><h2>  Powerful friends </h2><br>  How many applications with the wrong architecture are dead before writing the first line of code? <br>  The cycle of influence of architecture on the project is as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/764/e02/aa9/764e02aa9ffe8b6b291258efe292eb49.png"><br><br>  From left to right: <br><br><ol><li>  There are stakeholders, or stakeholders (in the case of a ship, this is the king and the treasury). <br></li><li>  They have their own targets (the first ship in Europe). <br></li><li>  Objectives dictate requirements (specific characteristics of the future ship). <br></li><li>  Further drawings, schemes, the project are made. <br></li><li>  Construction on the project. <br></li></ol><br>  An error at one of these stages may undo the future of your project. <br><br><h2>  Handbook solution-architect </h2><br>  We will look at real life examples and try to learn from the mistakes of others.  At the same time, we will compile a book of useful recommendations for a solution architect.  Henrik Hubertsson got burned by the fact that he didn‚Äôt have one like that. <br><br>  If we lived in the time of our hero, when mistakes in architecture were punishable by death, this book would have been written in blood. <br><br>  In all the stories will be given architectural kata (puzzles).  They will be in a simplified form a request with the first customer requirements, the essence of the problem and the conclusion. <br><br><h2>  The story of Jimmy the Clockwork </h2><br>  <b>Customer requirements</b> <br><br><ul><li>  Replace current UI-solution. <br></li><li>  Introduce a new approach to the development and implementation of this solution. <br></li><li>  Need the best user experience. <br></li><li>  At the same time follow all the best practices. <br></li><li>  Support for various platforms. <br></li></ul><br>  <b>What was done</b> <br><br>  The requirements are very general, there is no specifics.  It is not clear what to do with all this.  At the same time, the development team is located in Minsk, and the customer is in Montreal.  Due to the fact that there were sanctions between Belarus and Canada, they could not work directly with Canada.  It was decided to work with the customer through an office in Dublin.  Due to all these delays in time and mediation, the customer could not be contacted and finally determined the requirements, to make proposals for implementation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d2e/e37/6e0/d2ee376e053e8e66e96b0522ad64da2e.png"><br><br>  After a while, a certain Jimmy nevertheless began to answer questions and clarify requirements, the development of the project began.  Jimmy willingly shared his advice, he took contacts and correspondence was conducted with him directly.  Following the results of the presentation was made.  It is time to show the results.  There was a conference with important people from the customer, but, strangely, Jimmy was not among them, and no one knew who it was.  Of course, everything turned out to be done absolutely not in the way the customer expected.  The fact was that they did not know about any Jimmy in the company, it turned out that he was an ordinary developer and simply shared his experience and advice.  He did not make decisions and, in general, did not have any relation to the project at all. <br><br>  Where is the mistake?  In the very first stage of defining the architecture, stakeholders were incorrectly identified. <br><br>  <b>Conclusion</b> <br><br>  Any architecture begins with the identification of stakeholders.  In order to identify them, there are many approaches, we consider one of them - we will build a RACI-matrix. <br><br><h3>  RACI </h3><br>  The abbreviation stands for: R - responsible, those who will implement;  A - accountable decision makers;  C - consulted (business people) counseling;  I - informed, people who need to be informed.  Each of the stakeholders should be attributed to one category or another.  The matrix specifies the roles and tasks. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b70/109/f67/b70109f673841089adec320b7f6215c6.png"><br><br>  By constructing such a matrix, one can understand who the stakeholders are. <br><br>  In addition, it was noted that among the stakeholders there are people who give false claims that lead the project aside.  In this case, it turned out that they were representatives of other vendors who were not interested in the project.  But the RACI matrix is ‚Äã‚Äãnot able to distinguish such customers, for this there is an Onion-approach. <br><br><h3>  Onion </h3><br><br>  The onion approach is somewhat different from the RACI matrices. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f4b/1c6/a11/f4b1c6a11597d09f3e356fe5902c04e2.png"><br><br>  Its essence is that layers are built around the system, inside which certain customer faces are indicated.  In this example, developers, DevOps, and content managers will communicate with the system itself.  Slightly higher in abstraction - people from business.  There are also external regulators: media, laws, etc.  For example, to release an application in some countries, you must undergo an audit, which is conducted by a third-party company, it will reveal accessibility and other qualities required from the project, these are the requirements of external stakeholder. <br><br>  So, we write down in our architect‚Äôs reference book that the first and necessary stage is to determine the stakeholders. <br><br><h2>  History: not fast enough </h2><br>  The company had a client from trading, in this case the speed of transactions is very important.  Based on this, a number of requirements were formulated. <br><br>  <b>Customer requirements</b> <br><ul><li>  Be faster than competitors <br></li></ul><br><ul><li>  You need to make the transaction take place no more than 0.5 seconds. <br></li></ul><br>  <b>What did</b> <br><br>  The project was made, but was unsuccessful.  Why?  Again, the requirements were not entirely correct.  The goal was not to make transactions at a rate of 0.5 seconds, but to make them faster than a competitor.  As a result, the speed was increased to 0.5 seconds, but the competitor at that time reached a figure of 0.4 seconds.  We see an error in the definition of a business goal.  Why does the customer need a system? <br><br>  A business goal is only the tip of the iceberg, behind it are business drivers, regulators, and internal goals of the company.  Often they remain unknown.  We are more interested in technical goals, which includes a business goal.  They are governed by business principles, for example, no one wants to sacrifice the quality of work when implementing a technical goal, because this is a miscalculation in the long term.  All this needs to be known and kept in mind when building architecture.  As well as the fact that projects without a goal are dead initially. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed6/4f2/9e8/ed64f29e8370c0dc4d5fc9bcbdba5169.png"><br><br>  <b>Conclusion</b> <br><br>  Even if you are working in startups, the purpose of which, often, is to test new technologies, it‚Äôs still the use of a new technology in a project - this is not a business goal.  The problem is that if the goal is to use new technologies, the project will constantly grow and demand new unnecessary financial and temporary investments.  Business goals should never be overlooked when designing an architecture. <br><br>  Useful recommendations you can find in the book ‚ÄúDiscovering Requirements‚Äù, the authors are Ian Alexander, Ljerka Beus-Dukic. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebd/c3f/7d1/ebdc3f7d11d3e2435924544eec241fdf.png"><br><br><h2>  The story of how the horse pioneers milked </h2><br>  The company that sells insurance has a website.  It works great and has a well-established functionality.  It already has complex business logic. <br><br>  <b>Customer requirements</b> <br><br><ul><li>  It is necessary in addition to the site to make a mobile application that employees will use on their phones <br></li><li>  The application must be offline. <br></li></ul><br>  <b>What did</b> <br><br>  Based on the requirements, it was decided to write on React Native.  Development has begun.  During the first call, clarifications and additions to the requirements were received: <br><br><ul><li>  Employees are issued to employees by the company, and they all work on Android. <br></li><li>  The customer is only interested in offline mode. <br></li><li>  Deadline is two months. <br></li></ul><br>  Obviously, the task of dealing with a ready-made third-party product with complex business logic and writing a new one in two months does not fit into such a time frame.  It was decided to use PWA (Progressive Web Apps). <br><br>  The experience of such work has already been.  It was written not just PWA application, it was isomorphic.  Services were reused from the server to the client, special wrappers were written, with the help of which it was possible to communicate with these services.  A router was written that redirected all requests to the MongoDB database, on the client through the adapter worked with IndexedDB.  Scheme - below. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/919/111/136/919111136359f0726ec3a78e027ab263.png"><br><br>  So, the problems were with the requirements that are not so simple.  Consider an example of what are the requirements: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3c5/a7e/5c9/3c5a7e5c92d8526bf239f1d7eed536d8.png"><br><br>  There is a form, and we need to issue validation errors, if the wrong URL is entered, you need to display the page 404. What is wrong with the requirements?  They talk about what the system should do.  But for the architect it is more important what the system should be.  If you delve into what the system should do, you can dive too deep into the details and go the wrong way.  Such requirements are called functional, they are also called MoSCoW requirements.  Words that are often in these requirements: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/26d/86e/4b7/26d86e4b7d6ea893ad45da00cd7dbc3e.png"><br><br>  All the requirements that contain these words do not interest you.  If you focus on such requirements, then a monolithic system will be built without any special architecture at all. <br><br>  <b>Conclusion</b> <br><br>  An architect should focus on non-functional requirements, in particular, on restrictions and quality attributes.  Next kata about it. <br><br><h2>  The story of the white crow </h2><br>  <b>Customer requirements</b> <br><br><ul><li>  Develop a separate service that converts and caches data in xml-format. <br></li><li>  He must do this from a third-party legacy system. <br></li></ul><br>  <b>What did</b> <br><br>  Developed a good working service, did it on Node.js.  This is how the system as a whole began to look, schematically, with the new service implemented. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e16/0a4/914/e160a4914fea90c1b47823ca905dcac2.png"><br><br>  Obviously, Node.js here is a white crow, despite the fact that everything worked well. <br><br>  An error was detected during the transfer of services to customers who were not familiar with Node.js.  This situation perfectly shows the role of identifying constraints for a project.  What are the limitations? <br><br><ul><li>  Technical <br></li><li>  Time and budget <br></li><li>  Customer Developer Stack <br></li></ul><br>  <b>Conclusion</b> <br><br>  The architect is obliged to find out all existing restrictions that may affect the final product.  Restrictions are architectural decisions that were made for you and for you. <br><br>  Next, go to the attributes of quality, we have a special interest in them. <br><br><h2>  Quality attributes </h2><br><h3>  Very safe library </h3><br>  There are a lot of quality attributes, just look at the list that Wikipedia gives us. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a5/990/afe/3a5990afe95b511ab5c683b1409635f4.png"><br><br>  At the heart of the story is the attribute "security."  When you visit the library, you hardly expect, using a computer there, that you have to go through two-factor authentication, with the input of email, phone and verification code from the phone.  Nevertheless, it happens.  We see that the blind use of quality attributes can also be fraught. <br><br><h3>  Phone in the forest </h3><br>  What about performance?  It is clear that there are no people who do not care about performance.  Here is the script.  Suppose a person wants to use a mobile application from his phone while in the forest.  Thus, it affects our system, but not the whole, but the web interface.  For example, he needs to get some data within three seconds.  This is the performance script we need to get. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/161/211/92f/16121192f05ed6ef27a691e92702d7e9.png"><br><br>  It is these usage scenarios that an architect must assemble in order to build a quality system at the output.  When we have a list of business requirements, quality-attributes, restrictions, we have learned all the stakeholders, we begin to address them in schematic diagrams.  This addressing of attributes in schemas is called architectural tactics.  Which architectural tactics can be applied to a system with a phone in the forest based on the available scenarios? <br><br><ul><li>  To improve the UX, so that the person seemed to have better performance. <br></li><li>  Optimize resources (JS, CSS, images, fonts, etc.). <br></li><li>  Produce caching. <br></li><li>  Add service-workers, critical path. <br></li><li>  Apply compression. <br></li><li>  HTTP / 2. <br></li></ul><br>  However, in the case of the phone in the forest, the UX and the critical path do not suit us right away.  And again, tactics must be dictated by scenarios.  This is the work of the architect, choose from all the tactics you need in a particular case.  But the application is not only the front end.  Performance is also affected by DNS, backend, databases, and all this can also be optimized.  There are many tactics to do this, but, again, the use of one or another depends on the use case. <br><br>  Let's try to use the CQRS pattern (command query responsibility segregation).  The use of this pattern as a tactic even affects several layers of the application: both the back-end and the front-end. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a3/2e2/dd5/5a32e2dd5270d547ec34fbfdb206bb1b.png"><br><br>  Suppose there is a very slow legacy database, we send a request there and after ten seconds we get an answer.  In addition, it is replicated and you need to make entries in both copies.  We in the forest with the phone want to quickly read our data from this database.  The pattern says that we need to separate read and write requests.  Add a quick database to read.  We add all the tools to synchronize this database with an existing one. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd8/d28/2f4/fd8d282f4219643f20f6c1f165191120.png"><br><br>  The use of this kind of cumbersome tactics should be very clearly dictated by the requirements. <br><br>  So, we have applied some of the tactics.  Run the application and see that it did not help, as there is no connection to the Internet.  So we approached fault tolerance, which the solution-architect should take care of. <br><br><h3>  The Steadfast Tin Soldier </h3><br>  No one wants the application to fall steadily several times a day, everyone wants resiliency. <br><br>  In order for the application to work stably, the principle of fail fast can be applied: <br><br><ul><li>  Always verify the integration points in advance. <br></li><li>  Avoid slow connections. <br></li><li>  Check the entered data. <br></li></ul><br>  Why use it, consider the example of Lie Connection (false connection).  This is such a connection, which, perhaps, something and pings, but in fact does not work.  This can happen between a client and a server, a database and a server, between services.  Apply the Circuit Breaker pattern to it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d1e/d03/e80/d1ed03e8030f822ab8dac0def2815f2f.png"><br><br>  So far so good, we do nothing.  As soon as the timeout is exceeded, we switch to offline mode and after a while we make a new request.  If the request again fails, we will again stay offline with an extended timeout.  And if the request was normal, we return to the online mode.  Thus, this pattern allows both to verify the integration points and avoid slow connections. <br><br><h3>  Submarine </h3><br>  There are many approaches to ensuring resiliency.  One of them is bulkhead (bulkhead, for example, in a submarine).  Its meaning is that the application is written in such a way that it continues to work, even when an error appeared in one of its components. <br><br>  We have business logic in which we send data and get a response.  We start framing it with our tactics, we add validation, we scale it.  An error occurs in business logic.  We log it.  As error information, we need the context in which it occurred.  The trouble is that with such a frame of logic the context is unlikely to be preserved, therefore, we need to make a memory dump.  A memory dump is quite a bulky thing, and JavaScript errors are not so rare, therefore, it is quite expensive for computing resources.  We need to divide the errors into critical and not so much and do a dump only for the first ones. <br><br><h3>  Leaky bucket </h3><br>  A strategy similar to the one described above is used in the Leaky Bucket pattern. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/afb/44b/eab/afb44beabe8c16cb0595022d8ed59e48.png"><br><br>  We have counters for different types of errors.  When an error occurs, an error counter of this type is incremented.  On timeout, this counter decreases.  But if the number of errors begins to go off-scale, the counter does not have time to decrease and, figuratively speaking, overflows the bucket, after which we take a memory dump.  Next, work on the error that caused the counter to overflow. <br><br>  Please note that the service that implements this pattern will also be wrapped in tactics, validation and will be scaled.  This is how architecture is built. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e8d/698/e87/e8d698e870d213a1a1e091c3f1e30cfb.png"><br><br>  What do the green arrows mean?  Different services interact with each other through various protocols, databases, other services. <br><br>  For those who want to learn more about fault tolerance patterns, the book ‚ÄúPatterns for fault tolerant software‚Äù by Robert S. Hanmer will be useful. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/83b/daf/9a3/83bdaf9a3db2414133b36739ce4fb999.png"><br><br>  We also recommend the book ‚ÄúSoftware Architecture in Practice‚Äù, by Len Bass, Paul Clements, Rick Kazman.  In it you will learn about other attributes of quality and tactics of following them. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/244/492/499/244492499902e5c66187daea93b557ac.png"><br><br><h2>  Example for dessert </h2><br>  <b>Case</b> <br><br><ul><li>  We want to offer existing client improvements for the current platform. <br></li><li>  About 400 static sites have already been written on this platform. <br></li><li>  The problem is that it is expensive and long. <br></li><li>  Content management is also expensive and long. <br></li><li>  The platform is written in Drupal. <br></li></ul><br>  Suppose you can use the following frameworks to solve these problems: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d20/b2f/27f/d20b2f27f8604c3c221d30131c208903.png"><br><br>  We have already found interested parties.  Need to define goals. <br><br>  The most global goal is to satisfy the customer. <br><br>  The business goal is to optimize customer costs (this is an interesting goal for the customer). <br>  Further, there are more specific goals: to reduce the time to market a product, to reduce the time of content management. <br><br>  Then the following restrictions are found: <br><br><ul><li>  It is necessary to write on Drupal, since a license has been purchased from the customer and support for some time. <br></li><li>  ReactJS and VueJS are used in the project, and the customer wants this to continue, the company is not ready to consider another framework. <br></li></ul><br>  Having determined the quality-attributes, we found out: <br><br><ul><li>  It is important to leave the possibility of supporting all 400 sites (maintainability). <br></li><li>  We need to implement tests in order not to break the existing functionality (testability). <br></li><li>  Reuse all existing content (re-usability). <br></li><li>  Should work quickly (performance). <br></li><li>  Accessibility for certain types of sites (accessibility). <br></li></ul><br>  When we build architecture, you need to follow a certain model.  Consider the C4 model.  Build several charts. <br><br>  Context diagram: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc5/d91/234/bc5d91234504cb2f71a7cf44a4657aa7.png"><br><br>  We define the roles of people who will work with the platform.  In this example, these are visitors, developers, and content managers. <br><br>  Go to the container diagram: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d46/d30/30d/d46d3030d700fdc68aa7a311f2c75b6a.png"><br><br>  Based on the business context, there is a website that users access.  Developers work with the site generator, content managers work in the content hub.  We do integration with third-party systems in the process of updating the platform. <br><br>  The component diagram looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dbd/e73/399/dbde73399d8639ace1867c123c37312c.png"><br><br>  We see that developers make themes and components, and the Template Service works for them, which aggregates these developments.  There is an integration point between the content hub and the site generator.  There is also a template service that takes themes, components, and connects them with the data transferred from the content hub. <br><br>  How to speed up the work flow of content management?  It is necessary to allow content managers to work directly with the site generation module.  Remembering all previous practices, we add the necessary approaches to the Template Service module.  Note, Drupal is used exclusively in the content hub.  We conclude that NuxtJS or Next.js frameworks, which are written in Vue.js and React.js, respectively, are suitable for static generation.  It is advantageous to use GitHub and branches as a replacement for integration points, so we come to the JAM approach.  It stands for JavaScript, API, Markdown. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f85/e58/f88/f85e58f88a4a629fed4958e55eb5f908.png"><br><br>  It is seen that the stack, which was decided to use, is different from the original.  On the one hand, we used Node.js and some modern framework.  We will leave Drupal for content management, but organizing it from its system, allowed us to integrate with the new CMS in the future, which may be more convenient and faster.  Thus came to the understanding of Javascript, API, Markdown approach. <br><br>  <b>Conclusion</b> <br><br>  You need to carefully select the final technology stack.  This is what we write in our book of the architect. <br><br><h2>  Final story </h2><br>  <b>Case</b> <br><br>  The architect identified all interested parties, requirements, goals, restrictions.  Next was made a project.  Application development was conducted normally, but in the end the project failed. <br><br>  Why did this happen? <br><br>  The fact is that the project developers were not aware of the requirements, stakeholders, limitations and quality attributes.  The development was carried out exclusively in the form of performing tasks in the task tracker, which ultimately led to the collapse of the entire project. <br><br>  <b>Conclusion</b> <br><br>  The architect must accompany the development of the project at the initial stage in order to be sure that the development is carried out in accordance with the architecture designed by him. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/764/e02/aa9/764e02aa9ffe8b6b291258efe292eb49.png"><br><br><h2>  Results </h2><br>  Summing up, let's write out a list of important things for the architecture.  Print it and hang it in a prominent place.  So that the ships that you built, kept on the water, and even better sailed in the right direction: <br><br><ul><li>  Any architecture begins with the identification of stakeholders. <br></li><li>  You need to consider business goals when designing an architecture. <br></li><li>  An architect should focus on non-functional requirements, in particular, on restrictions and quality attributes.  He must understand what the application he is designing should be. <br></li><li>  Architectural tactics should be dictated by usage scenarios. <br></li><li>  You need to carefully select the final technology stack. <br></li><li>  It is necessary to accompany the development of the project at the initial stage so that it is conducted in accordance with the designed architecture. <br></li></ul><br><blockquote>  If you like the report, please note: on November 24-25, a new <a href="https://holyjs-moscow.ru/">HolyJS</a> will take place in Moscow, and there will also be many interesting things there.  Already known information about the program - on the site, and tickets can be purchased there. </blockquote></div><p>Source: <a href="https://habr.com/ru/post/421787/">https://habr.com/ru/post/421787/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421775/index.html">The neural network was trained to recognize depression from a person‚Äôs random speech without context.</a></li>
<li><a href="../421779/index.html">OceanLotus: New Backdoor, Old Schemes</a></li>
<li><a href="../421781/index.html">Yandex has deleted both pirated links and links to the sites of the copyright holder</a></li>
<li><a href="../421783/index.html">Fun State Management Huex Framework</a></li>
<li><a href="../421785/index.html">California is on the verge of a complete abandonment of carbon in energy production</a></li>
<li><a href="../421789/index.html">Make frontend ‚Äúbackend‚Äù again</a></li>
<li><a href="../421791/index.html">Ethical Issues of Artificial Intelligence</a></li>
<li><a href="../421793/index.html">Looking for the best or how we chose the blockchain network for the project</a></li>
<li><a href="../421795/index.html">Data-driven decision on the example of choosing the color for painting walls</a></li>
<li><a href="../421797/index.html">Why do you need Splunk? Monitoring the work of the IT infrastructure</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>