<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hand on pulse: how we created a load tracking system for user servers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In our blog, we talked about how the infrastructure of the hosting provider as a whole is built, and also looked at some important customer services -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hand on pulse: how we created a load tracking system for user servers</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/1cloud/blog/255271/"><img src="https://habrastorage.org/files/f69/02b/81a/f6902b81a39b4501a7583e4fc3e949bd.jpg"></a> <br><br>  In our blog, we talked about how the <a href="http://habrahabr.ru/company/1cloud/blog/244121/">infrastructure of the hosting provider</a> as a whole is built, and also looked at some important customer services - for example, the ability to order <a href="http://habrahabr.ru/company/1cloud/blog/252719/">servers for high loads</a> , a common <a href="http://habrahabr.ru/company/1cloud/blog/250427/">API,</a> and the creation of <a href="http://habrahabr.ru/company/1cloud/blog/253191/">private networks and virtual servers</a> . <br><br>  Today we will talk about how to create a system that allows <a href="https://1cloud.ru/">1cloud hosting clients</a> in real time to see the status of their servers without any problems. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Why do you need it </h4><br>  Having the ability to quickly assess the current load on the servers is difficult to overestimate - it allows a flexible approach to infrastructure management.  For example, if a surge of activity suddenly occurs, then seeing that the server owner can temporarily ‚Äúraise‚Äù a new virtual machine (or increase resources on an existing one), and then disconnect it (and discard additional resources) when performance problems are resolved. <br><br>  In addition, the availability of easily accessible information on loading for a certain period allows customers to understand what they are paying for.  If the paid infrastructure is clearly excessive for the load of a specific project, you can simply refuse from unnecessary services, seriously saving (we had a <a href="http://habrahabr.ru/company/1cloud/blog/246301/">separate topic</a> about optimizing the cost of hosting). <br><br><h4>  How implemented </h4><br>  In order to organize the display of information about servers in the control panel, we needed a graphic library. <br><br>  We tried a significant number of options, but we stopped at the HighCharts JS library - it is what Yandex.Metrica uses to display the graphs in the analysis panel. <br><br>  In addition to this tool, there were other candidates, but <a href="http://www.highcharts.com/">HighCharts</a> bribed with good documentation, general quality of work during the tests and responsive support, which helped us a few times.  Here it is also necessary to say that the cost of using HighCharts was $ 590. <br><br>  The table below shows other libraries that we considered during the project.  None of them suited us like HighCharts, since all these projects were inferior to this JS library in terms of functionality, and the graphics obtained with their help were not so beautiful. <br><br><table><tbody><tr><th>  Title </th><th>  Link </th><th>  License type </th></tr><tr><td>  Mbostock d3 </td><td>  <a href="https://github.com/mbostock/d3/wiki/Gallery">https://github.com/mbostock/d3/wiki/Gallery</a> </td><td>  Is free </td></tr><tr><td>  Flotcharts </td><td>  <a href="http://www.flotcharts.org/flot/examples/">www.flotcharts.org/flot/examples</a> </td><td>  Is free </td></tr><tr><td>  jqPlot </td><td>  <a href="http://www.jqplot.com/tests/">www.jqplot.com/tests</a> </td><td>  Is free </td></tr><tr><td>  Js charts </td><td>  <a href="http://www.jscharts.com/">www.jscharts.com</a> </td><td>  Fee (licenses from $ 79 to $ 169) </td></tr><tr><td>  Canvas 3D Graph </td><td>  <a href="http://dragan.yourtree.org/code/canvas-3d-graph/">dragan.yourtree.org/code/canvas-3d-graph</a> </td><td>  Is free </td></tr><tr><td>  Plotkit by alastair tse </td><td>  <a href="http://www.liquidx.net/plotkit/">www.liquidx.net/plotkit</a> </td><td>  Is free </td></tr><tr><td>  Rapha√´l </td><td>  <a href="http://raphaeljs.com/">raphaeljs.com</a> </td><td>  Is free </td></tr><tr><td>  AM Charts </td><td>  <a href="http://live.amcharts.com/">live.amcharts.com</a> </td><td>  At a charge ($ 700) </td></tr></tbody></table><br>  We also integrated with vSphere using the .NET SDK - this was needed to obtain information about the load of each virtual machine.  And then these data were displayed in the hosting control panel. <br><br><h4>  What happened </h4><br>  According to the results of the work carried out in <a href="https://panel.1cloud.ru/)">the control panel</a> on the site, it became possible to view statistics for each server.  Data is displayed for several periods - ‚Äúnow‚Äù, ‚Äúper day‚Äù, ‚Äúper week‚Äù, ‚Äúper month‚Äù and ‚Äúper year‚Äù. <br><br>  Among the available information data on: <br><br><ul><li>  CPU load; </li><li>  RAM loading; </li><li>  The load on the communication channel; </li><li>  Disk subsystem: the number of IOPS (only for the selected period "Now"); </li><li>  The disk subsystem: read / write - is displayed for any selected period except ‚ÄúNow‚Äù. </li></ul><br>  The interface of the graphic panel looks like this (by clicking on the image, it will open in full size): <br><br> <a href="http://http:"><img src="https://habrastorage.org/files/665/880/393/66588039339c49ff8d027fe0fe0e497b.png"></a> <br><br><h4>  Plans </h4><br>  The function of displaying information about server loading has been launched recently, and we have quite large-scale plans for its development. <br><br>  In particular, with the help of the monitoring system, a mechanism will be implemented to automatically notify users about the critical load on its server.  We also plan to introduce a payment model for only consumed resources (Pay as you go) and an infrastructure autoscaling system when the peak load on the current infrastructure is reached. <br><br>  That's all, thank you for your attention.  We will be happy to answer questions in the comments.  Subscribe to <a href="http://habrahabr.ru/company/1cloud/blog/">our blog</a> - in the next posts we will talk more about the many aspects of building hosting infrastructure. </div><p>Source: <a href="https://habr.com/ru/post/255271/">https://habr.com/ru/post/255271/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255259/index.html">Install SQL Server 2012 for SharePoint 2013</a></li>
<li><a href="../255261/index.html">Hardware "watchdog" or an indispensable tool in the fight against hang</a></li>
<li><a href="../255263/index.html">WPF 4.6 and beyond</a></li>
<li><a href="../255265/index.html">Conference YAPC :: Russia :: MayPerl 2015 in Moscow May 16-17</a></li>
<li><a href="../255269/index.html">Mouse Factory in Shenzhen</a></li>
<li><a href="../255275/index.html">Features of domain controller authentication using two different certificates</a></li>
<li><a href="../255277/index.html">Must-know for iOS developers</a></li>
<li><a href="../255279/index.html">New Yandex.Maps that everyone can now fix themselves</a></li>
<li><a href="../255281/index.html">Homemade motion sensors (temperature, humidity, lighting) for the "Smart Home" based on the system MySensors</a></li>
<li><a href="../255285/index.html">The first two weeks of the course Artificial Intelligence CS188.1x or self-learning algorithms AI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>