<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to measure cloud performance?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The graph shows the performance tests of the virtual machines of the five largest players on the IaaS- ‚Äúclouds‚Äù from cloudspectator.com and measured t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to measure cloud performance?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/d12/b85/0b2/d12b850b2ff3bf9411c95cdcfbd3ce2f.png"><br>  <i>The graph shows the performance tests of the virtual machines of the five largest players on the IaaS- ‚Äúclouds‚Äù from cloudspectator.com and measured the speed of <a href="https://cloud.croc.ru/%3Futm_source%3Dhabr%26utm_medium%3Dblog%26utm_campaign%3Did189382">our ‚Äúcloud‚Äù of KROK</a> using the same methodology.</i>  <i>Breakdown by days from 06/20/13 to 06/29/13.</i> <br><br>  Despite our pleasant high result, the conclusions of this test seemed to us somewhat one-sided.  And the task itself caused a lot of controversy among our colleagues: after all, <b>assessing the performance of the ‚Äúcloud‚Äù is not a trivial question</b> .  And we decided to look deeper. <br><br>  The ‚Äúcloud‚Äù consists, roughly speaking, of the equipment that allows this ‚Äúcloud‚Äù to work, and the equipment on which the virtual machines of the customers are started.  The performance of the virtual machines themselves depends on the performance of the physical servers on which they are running.  There is no single standard: everyone on the market offers completely abstract virtual processors, respectively, completely different configurations of these virtualukalok. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Nobody reveals their technologies used to build the ‚Äúcloud‚Äù.  Some even go to the fact that they are developing their own data center architecture for their ‚Äúcloud‚Äù - but only very large players, for example, Amazon, are doing it.  If you saw their data centers, then you know that they are the size of an airfield. <br><br>  <b>To begin with, we asked our colleagues and clients how and for what they choose the ‚Äúcloud‚Äù</b> .  It turned out that there is no ‚Äúone number‚Äù as such, but the overwhelming majority of the scenario is about the same.  To begin with, the customer wants to make sure that a single virtual is fast enough (that is, what they are offered, for example, not a quarter of the kernel instead of the whole: processors, memory and disk subsystem are important here).  Then there are network issues: (ping to the "cloud", bandwidth of communication channels with the Internet, bandwidth of the cloud-physics interface, and bandwidth between our data centers). <br><br>  <b>For large businesses, the speed of interaction between virtual networks and the speed of data center interconnects becomes the main thing.</b>  Additionally, there are questions of SLA, backup as a service, security, monitoring, reliability of the data center, and so on.  We have a full order with this, so the main point of choice is performance.  So, in order to adequately compare ourselves with the rest of the ‚Äúclouds‚Äù, we decided not to deviate from the method and conditions of testing proposed by the startup and began to measure the speed of our own virtual machines.  And here, too, there are nuances. <br><br>  If you look at the situation through the eyes of a customer, the results of such tests of single virtual machines can be useful in order to estimate the necessary size of a virtual server to which you can migrate current physical servers. <br><br>  The essence of the source test is simple: in all the ‚Äúclouds‚Äù, the same size is usually the most common type of virtual machine (1 vCPU, 4 GB RAM), which for some time runs the same utility that performs performance measurements.  In this particular case, it is an open-source utility UnixBench, which allows you to numerically evaluate the performance of the core of the virtual machine from the physical processor.  Ok, great, we'll do the same. <br><br>  Examples of virtualok configurations from the same report: <br><img src="https://habrastorage.org/storage2/3c8/5d5/95e/3c85d595e66069af18bd525a64c64a5f.png"><br><br><h4>  "Cheat" test </h4><br>  Considering the fact that we wanted to get real results on our ‚Äúcloud‚Äù, we tried to bring the conditions as close as possible to those in action.  I think it‚Äôs not necessary to explain the difference between tests under real load and synthetic ones. <br><br>  <b>For a start, the question of tuning the infrastructure for the test comes up.</b>  Settings, of course, you can "twist" the results by several tens of percent.  As well as possible and under the specific tasks of a particular customer to tune the physical infrastructure of the cloud.  For example, knowing exactly the load on the CPU and the ratio of read-write operations to applications of a large customer, you can change settings to ensure greater performance.  However, every time there is a choice between buying additional servers or ‚Äútyun‚Äù for a specific task, we choose to add additional servers.  This is due to the fact that the more ‚Äúcloud‚Äù - the more physical equipment must be maintained.  And maintaining the same type of infrastructure is much easier.  If you get carried away tuning, you will lose flexibility and can go wrong.  Therefore, for the test, no optimization of physical servers, as well as virtual machines, was performed by us. <br><br>  <b>Secondly, obviously, it makes no sense to measure the performance of a virtual machine, for example, at three in the morning</b> .  Since in the "cloud" the performance of a physical server is divided between all customers, virtualka which it is located.  At night, all virtuals work, of course, but not at all.  That is, the test will show far greater values ‚Äã‚Äãthan at the moment when the ‚Äúcloud‚Äù is working with a more or less high load.  We have the main load at about 17:00.  This situation is quite constant, and therefore we began to take measurements at this time.  Tested within one and a half weeks.  Each test is performed about 10-15 minutes. <br><br><h4>  Network testing </h4><br>  So, we obtained practical data on the speed of virtual machines and compared ourselves with other ‚Äúclouds‚Äù.  Our next step is network tests: they determine the speed of the network between virtual machines, the stability of your virtual infrastructure, the speed and stability of the network at the junction of our ‚Äúcloud‚Äù and the customer‚Äôs physical equipment, which is located on another site (or, for example, physical storage systems). customer data, docked to its virtual infrastructure), as well as the speed of communication channels that provide interconnect between data centers. <br><br>  <b>Why is this necessary?</b>  Because, for example, if you have two active-active systems in two different data centers, or the main system and a high availability copy in case of failure first, the channel between these points is very important.  We specialize in such solutions for large businesses.  And soon my colleagues in a separate topic will tell you how we fought for one client for the crucial reduction of delays from 7 ms to 5 ms for transactions between data centers. <br><br><h4>  Total </h4><br>  The tests took place in our ‚Äúcloud‚Äù located in the ‚ÄúCompressor‚Äù data center.  UnixBench on configuration 1 vCPU, 4Gb RAM.  We were pleasantly surprised by the results of the tests we performed: they showed that the performance of virtual machines in the KROK cloud is no worse than the leader of the list of the results we obtained for Windows Azure, the infrastructure cloud platform of Microsoft. <br><br>  <b>The results are:</b> <br><img src="https://habrastorage.org/storage2/b38/ae4/a05/b38ae4a058e280b435df7127cea7330f.png"><br><br>  Final test table: <br><table><tbody><tr><td><br><p>  <strong>date</strong> </p><br></td><td><br><p>  <strong>CROC Cloud</strong> </p><br></td><td><br><p>  <strong>Amazon</strong> </p><br></td><td><br><p>  <strong>HP Cloud</strong> </p><br></td><td><br><p>  <strong>Rackspace</strong> </p><br></td><td><br><p>  <strong>Softlayer</strong> </p><br></td><td><br><p>  <strong>Windows Azure</strong> </p><br></td></tr><tr><td><br><p>  06/20/2013 </p><br></td><td><br><p>  1468.9 </p><br></td><td><br><p>  337.9 </p><br></td><td><br><p>  1350.4 </p><br></td><td><br><p>  561.6 </p><br></td><td><br><p>  1137.2 </p><br></td><td><br><p>  1437.6 </p><br></td></tr><tr><td><br><p>  06/21/2013 </p><br></td><td><br><p>  1454.4 </p><br></td><td><br><p>  375 </p><br></td><td><br><p>  1338.6 </p><br></td><td><br><p>  569.5 </p><br></td><td><br><p>  1139.4 </p><br></td><td><br><p>  1446.1 </p><br></td></tr><tr><td><br><p>  06/22/2013 </p><br></td><td><br><p>  1459.8 </p><br></td><td><br><p>  421.2 </p><br></td><td><br><p>  1352.7 </p><br></td><td><br><p>  568.7 </p><br></td><td><br><p>  1140.7 </p><br></td><td><br><p>  1444.5 </p><br></td></tr><tr><td><br><p>  06.23.2013 </p><br></td><td><br><p>  1446.7 </p><br></td><td><br><p>  378.6 </p><br></td><td><br><p>  1333.5 </p><br></td><td><br><p>  469.1 </p><br></td><td><br><p>  1137.1 </p><br></td><td><br><p>  1451 </p><br></td></tr><tr><td><br><p>  06.24.2013 </p><br></td><td><br><p>  1470.1 </p><br></td><td><br><p>  378.5 </p><br></td><td><br><p>  1344.9 </p><br></td><td><br><p>  568 </p><br></td><td><br><p>  1137.5 </p><br></td><td><br><p>  1433.2 </p><br></td></tr><tr><td><br><p>  06.25.2013 </p><br></td><td><br><p>  1467.8 </p><br></td><td><br><p>  381.5 </p><br></td><td><br><p>  1326.4 </p><br></td><td><br><p>  565.2 </p><br></td><td><br><p>  1142.3 </p><br></td><td><br><p>  1447.1 </p><br></td></tr><tr><td><br><p>  06.26.2013 </p><br></td><td><br><p>  1465,8 </p><br></td><td><br><p>  380.2 </p><br></td><td><br><p>  1338.2 </p><br></td><td><br><p>  563.6 </p><br></td><td><br><p>  1134.1 </p><br></td><td><br><p>  1449.3 </p><br></td></tr><tr><td><br><p>  27.06.2013 </p><br></td><td><br><p>  1439.9 </p><br></td><td><br><p>  375,8 </p><br></td><td><br><p>  1328,8 </p><br></td><td><br><p>  574.1 </p><br></td><td><br><p>  1140 </p><br></td><td><br><p>  1442.6 </p><br></td></tr><tr><td><br><p>  28.06.2013 </p><br></td><td><br><p>  1430.2 </p><br></td><td><br><p>  376.5 </p><br></td><td><br><p>  1327.7 </p><br></td><td><br><p>  537.3 </p><br></td><td><br><p>  1139 </p><br></td><td><br><p>  1434 </p><br></td></tr><tr><td><br><p>  06/29/2013 </p><br></td><td><br><p>  1419.1 </p><br></td><td><br><p>  373.2 </p><br></td><td><br><p>  1341.6 </p><br></td><td><br><p>  575.2 </p><br></td><td><br><p>  1135 </p><br></td><td><br><p>  1442.2 </p><br></td></tr></tbody></table>  Now we are waiting for new servers at CROC's Virtual Data Center.  By the fall, virtual performance will increase by about 50%. </div><p>Source: <a href="https://habr.com/ru/post/189382/">https://habr.com/ru/post/189382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189370/index.html">10Gbit network storage - 2</a></li>
<li><a href="../189372/index.html">Elementary OS RC1</a></li>
<li><a href="../189374/index.html">NASA launched the first Russian-language site</a></li>
<li><a href="../189376/index.html">"Turbofilm" deleted copyrighted TV series</a></li>
<li><a href="../189380/index.html">The Ubuntu Edge project received $ 80,000 from Bloomberg, but that‚Äôs not enough</a></li>
<li><a href="../189386/index.html">Privilege for an arithmetic machine, issued to the honorary citizen Zelik Slonimsky on November 24, 1845 for 10 years</a></li>
<li><a href="../189388/index.html">Elemental analysis of the internals of the simplest chip - ULN2003</a></li>
<li><a href="../189390/index.html">Do not miss the youth schools!</a></li>
<li><a href="../189392/index.html">Digest news from the world of mobile payments # 2</a></li>
<li><a href="../189402/index.html">Deeper and deeper SOPA, all the darker things to come</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>