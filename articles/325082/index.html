<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Terminal graphics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When printf is small and ncurses are many 


 When data gets too much, there is a lack of standard printf output in the console program. Especially if...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Terminal graphics</h1><div class="post__text post__text-html js-mediator-article">  <i>When printf is small and ncurses are many</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/6fe/ef5/7d0/6feef57d05f548d098b1052a61d5b089.png"></div><br>  When data gets too much, there is a lack of standard printf output in the console program.  Especially if a lot of different events and different data turn into a crazy listing.  This data can come from the controller through the UART, and there is nothing to think about any gui-program.  It can also be a regular bash script to which you want to screw some kind of pseudo-graphic interface. <a name="habracut"></a><br><br>  I will say right away that at first this may seem to be the invention of the bicycle, because there is an excellent library of ncurses.  I do not detract from its merits, but often its possibilities are too excessive.  Plus, it is poorly portable to controllers and is certainly redundant there.  But a couple of macros and functions for working with pseudographics can be sketched by yourself. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Formulation of the problem </h2><br>  Those who have been programming controllers often use the UART or UART console in Russian to display information when debugging.  I used to give a description of this interface in my posts on <a href="https://geektimes.ru/post/253786/">Habr√©</a> .  With a sufficiently large amount of various information, it becomes absolutely impossible to catch it.  It turns out a multipage log, especially if the data from some analog sensors is continuously flowing, plus you need to monitor the status of the ports, etc.  As a result, people start writing their handlers on the computer side and the solution becomes completely non-portable, and most importantly, a lot of time is wasted.  But, in fact, you can fit all the various information from the controller in one terminal window and it is convenient to use it, without writing third-party software.  As a result, our solution becomes portable (any terminalka is needed), and a lot of programming hours for debugging is saved. <br><br><h2>  Methodical example </h2><br>  This example will be more educational, methodical, but you can easily adapt it to your real device on any controller.  Also, by analogy, this will all work on bash, pyton, and so on. <br><br>  Suppose we have a controller, where contact sensors are connected to the 8-bit port, which can take ON and OFF states, there is an analog three-axis sensor, and we have to display their status, plus there is a time and date in the controller, and we want to monitor the correctness time display;  and finally there may be an event (for example, a power failure), where we must immediately inform the operator.  Summing up: <br><br><ul><li>  The state of the 8 pins of the port (on / off) </li><li>  Three-axis sensor (x, y, z) - a separate output of each axis </li><li>  date and time </li><li>  Error message to the operator </li></ul><br>  You can immediately estimate that if such an info is just stupid to send via UART, then it will be unreadable garbage.  But it can be streamlined, and everything should look something like this (sketch in a text editor): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d15/188/c6d/d15188c6d7d04fcebc35c8f6d2d218e0.png"></div><br>  Frames I copied stupidly from mc.  Those who want beauty, can see what are the frames in unicode.  Top numbers written specifically for the coordinates. <br><br>  It seems like the idea is clear, but how to implement it in the terminal?  And here begins the real magic!  ‚Äú <i>And now you have to blow it! If you don‚Äôt blow, no miracle will happen!</i> ‚Äù Hmayak Hakobyan <br><br><h2>  Control sequences </h2><br>  Originally planned in this chapter to deploy a lecture on terminal management using ESC-sequences.  But then the article would have grown simply to indecent size, so I will give only some concepts, and the rest can be found on the Internet or in manuals. <br>  A terminal is an I / O device that allows you to enter and display data.  Previously, the terminal was a monitor and keyboard, connected via a COM port to a computer, and in earlier versions even a teletype. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/aed/20d/409/aed20d4095b845c78822259a81d3605d.jpg"></div><br>  Teletype Model 33 ( <a href="https://en.wikipedia.org/wiki/Teletype_Model_33">Wikipedia</a> image) <br><br>  Today, the terminal is a program that can be a virtual terminal, as in linux or a terminal that works with a COM port.  All of these terminals, even the classic HyperTerminal, meet certain standards.  As it is not difficult to guess, such terminals need to be managed.  There are ordinary ASCII characters that are displayed on the screen, and there are special sequences of characters that allow you to set the coordinates of the cursor, clear the screen, set the color, etc.  In my articles on Habr√© and Hyktimes, I have repeatedly touched upon those ESC sequences.  We used them to control the display when <a href="https://habrahabr.ru/post/206148/">writing drivers for Linux</a> (the description in the spoiler that no one read), and in the article about the <a href="https://habrahabr.ru/post/276879/">Customer Display for a wifi radio</a> , which is also controlled by ESC sequences. <br><br>  If one of you caught the BBS times, then you remember how ‚Äúbeautiful‚Äù these boards were: colored, which had certain input / output fields, etc.  All this joy was derived from such Control Characters.  A symbol is considered to be a control one if (before conversion according to the conversion table) it contains one of 14 codes: 00 (NUL), 0x07 (BEL), 0x08 (BS), 0x09 (HT), 0x0a (LF), 0x0b (VT) , 0x0c (FF), 0x0d (CR), 0x0e (SO), 0x0f (SI), 0x18 (CAN), 0x1a (SUB), 0x1b (ESC), 0x7f (DEL).  We are primarily interested in the symbol ESC = 0x1b, '\ 033' or '\ e'.  You can read more about these sequences in man console_codes manuals, or on the <a href="http://linuxdoc.ru/console_codes.html">Internet in Russian</a> . <br><br>  In addition to controlling the cursor, you can also paint the terminal in different colors (if it is, of course, color).  You can check the colors of your terminal with the simplest BASH script: <br><br><pre><code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> fgbg <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 38 48 ; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-comment"><span class="hljs-comment">#Foreground/Background for color in {0..256} ; do #Colors #Display the color echo -en "\e[${fgbg};5;${color}m ${color}\t\e[0m" #Display 10 colors per lines if [ $((($color + 1) % 10)) == 0 ] ; then echo #New line fi done echo #New line done exit 0</span></span></code> </pre> <br>  The output will be something like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/24c/92b/f20/24c92bf205a94ef0977029ba9d615219.png"></div><br>  You can read more about colors and fonts in the console (and any terminals) with examples <a href="http://misc.flogisoft.com/bash/tip_colors_and_formatting">here</a> . <br><br>  Here, you already have the necessary information to make funny Easter eggs in BASH scripts, such as a picture in the post title. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/be1/602/02c/be160202cb0b4f2fac400e43db67e327.png"></div><br>  In more detail, as I did such easter eggs on bash, you can read <a href="http://dlinyj.livejournal.com/707861.html">in my LJ</a> . <br><br><h2>  Let's arrange everything on si </h2><br>  I give this example in my programming workshops and give it here.  Let's create macros for setting text attributes, clearing the screen, moving the cursor to the top corner and moving the cursor to the specified position: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> home() printf(ESC </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"[H"</span></span></span><span class="hljs-meta">) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//Move cursor to the indicated row, column (origin at 1,1) #define clrscr() printf(ESC "[2J") //lear the screen, move to (1,1) #define gotoxy(x,y) printf(ESC "[%d;%dH", y, x); #define visible_cursor() printf(ESC "[?251"); //Set Display Attribute Mode &lt;ESC&gt;[{attr1};...;{attrn}m #define resetcolor() printf(ESC "[0m") #define set_display_atrib(color) printf(ESC "[%dm",color)</span></span></span></span></code> </pre><br>  Whenever possible, especially on slow systems, it is better not to use printf, since its work is very slow.  It is better to replace with more lightweight display functions (COM-port). <br><br>  We will throw the attributes of colors into a separate header file as separate macros. <br><br><div class="spoiler">  <b class="spoiler_title">Header file</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> __TERM_EXAMPLE__ #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> __TERM_EXAMPLE__ #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> ESC </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"\033"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//Format text #define RESET 0 #define BRIGHT 1 #define DIM 2 #define UNDERSCORE 3 #define BLINK 4 #define REVERSE 5 #define HIDDEN 6 //Foreground Colours (text) #define F_BLACK 30 #define F_RED 31 #define F_GREEN 32 #define F_YELLOW 33 #define F_BLUE 34 #define F_MAGENTA 35 #define F_CYAN 36 #define F_WHITE 37 //Background Colours #define B_BLACK 40 #define B_RED 41 #define B_GREEN 42 #define B_YELLOW 44 #define B_BLUE 44 #define B_MAGENTA 45 #define B_CYAN 46 #define B_WHITE 47 #endif /*__TERM_EXAMPLE__*/</span></span></span></span></code> </pre><br></div></div><br>  Please note that <b>Foreground</b> - colors the text itself, and <b>Background</b> background text. <br><br>  Let's make a small program demonstrating the work of all macros. <br><br><div class="spoiler">  <b class="spoiler_title">Demo program</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ home(); clrscr(); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Home + clrscr\n"</span></span>); gotoxy(<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"gotoxy(20,7)"</span></span>); gotoxy(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"gotoxy(1,10) \n\n"</span></span>); set_display_atrib(BRIGHT); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Formatting text:\n"</span></span>); resetcolor(); set_display_atrib(BRIGHT); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Bold\n"</span></span>); resetcolor(); set_display_atrib(DIM); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Dim\n"</span></span>); resetcolor(); set_display_atrib(BLINK); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Blink\n"</span></span>); resetcolor(); set_display_atrib(REVERSE); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Reverse\n"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); set_display_atrib(BRIGHT); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Text color example:\n"</span></span>); resetcolor(); set_display_atrib(F_RED); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Red\n"</span></span>); resetcolor(); set_display_atrib(F_GREEN); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Green\n"</span></span>); resetcolor(); set_display_atrib(F_BLUE); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Blue\n"</span></span>); resetcolor(); set_display_atrib(F_CYAN); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Cyan\n"</span></span>); resetcolor(); set_display_atrib(BRIGHT); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"\nBottom color example:\n"</span></span>); resetcolor(); set_display_atrib(B_RED); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Red\n"</span></span>); resetcolor(); set_display_atrib(B_GREEN); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Green\n"</span></span>); resetcolor(); set_display_atrib(B_BLUE); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Blue\n"</span></span>); resetcolor(); set_display_atrib(B_CYAN); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Cyan\n"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); resetcolor(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br></div></div><br>  Result of work: <br><br><img src="https://habrastorage.org/files/d26/6b3/49e/d266b349e2ac429990a8fa3f783ab689.png"><br><br>  I draw your attention that the text attributes should be reset, otherwise they are inherited! <br><br><h2>  Simulation of data output by the controller </h2><br><br>  The matter became small, to sketch a program that will respond to our TK: display the status of the port pins, accelerometer, date and time, error message.  The code is written in such a way that it can easily be transferred to any controller.  I will not clutter the text with pieces of code, especially since you can easily see it on <a href="https://github.com/dlinyj/terminal_controller">github</a> , I‚Äôll dwell only on some points. <br><br>  In the main function, we move the cursor to the upper left corner, then clear the screen and draw a frame using the frame_draw (); function.  We only draw the data frame once, then we just output all the data in its own position.  Then we transfer the control to the controller_emulator () ;. <br><br>  In the function controller_emulator ();  every 30 seconds we change the message to the user with a good error, generate data to the port (the running bit is implemented there) and generate random numbers on the accelerometer.  You can easily rewrite this function for your tasks.  We display all data using three functions: <br><br><pre> <code class="cpp hljs"> print_accelerometer(a); print_port_bits(port); print_time_date(tm_info);</code> </pre> <br>  The frame is drawn elementarily simply by one puts function with predefined color attributes: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frame_draw</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ home(); set_display_atrib(B_BLUE); <span class="hljs-comment"><span class="hljs-comment">// 123456789012345678901 puts( "‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n" //0 "‚îÇ ‚îÇ‚îÇ ‚îÇ\n" //1 "‚îÇ ‚îÇ‚îÇ ‚îÇ\n" //2 "‚îÇ ‚îÇ‚îÇ ‚îÇ\n" //3 "‚îÇ ‚îÇ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n" //4 "‚îÇ ‚îÇ‚îÇ ‚îÇ\n" //5 "‚îÇ ‚îÇ‚îÇ ‚îÇ\n" //6 "‚îÇ ‚îÇ‚îÇ ‚îÇ\n" //7 "‚îÇ ‚îÇ‚îÇ ‚îÇ\n" //8 "‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n" //9 "‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n" //10 "‚îÇ ‚îÇ\n" //11 "‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"); //12 resetcolor(); }</span></span></code> </pre><br>  And for an example I will sort the print_port_bits function. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print_port_bits</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">unsigned</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> port)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> maxPow = <span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;(<span class="hljs-number"><span class="hljs-number">8</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>); set_display_atrib(B_BLUE); set_display_atrib(BRIGHT); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">8</span></span>;++i){ <span class="hljs-comment"><span class="hljs-comment">// print last bit and shift left. gotoxy(2,2 + i); if (port &amp; maxPow) { set_display_atrib(F_GREEN); printf("pin%d= on ",i); } else { set_display_atrib(F_RED); printf("pin%d= off",i); } port = port&lt;&lt;1; } resetcolor(); }</span></span></code> </pre><br>  It takes no sign byte.  Sets text attributes (bold, blue background) and in turn outputs a bit, each in its own position using the gotoxy macro (2.2 + i);  and depending on whether the bit is zero or one, colors the text in red or green, respectively. <br><br>  The result of the program is better to look at yourself, like the code.  But for those who are too lazy to git-it program and just want to see how it works, I cite the work gif: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/22e/7b7/9bd/22e7b79bd45647e0af7d4dc5486f2749.gif"></div><br><br>  What I want to note is that all positions are #define and, best of all, they are calculated from a position.  Thus, you can move the output to the right place, without plowing the entire code, but simply by changing the macros in one place. <br><br><h2>  Total </h2><br>  With the help of control sequences, you can even get the size of the terminal window, mouse click events, etc.  Specifically did not give these examples in this article, so as not to clutter it.  You can find these examples yourself.  In the program under Linux, there are many different kinds of buns available with terminal management, echo display, speed, and so on. <br><br>  In my opinion, knowing the mechanisms of interaction with terminal programs is necessary and useful.  Especially developers of controllers and embedded solutions, where program debugging is most often done using the COM port and its derivatives. <br><br>  Useful links: <br><br>  1. <a href="http://linuxdoc.ru/console_codes.html">Linux console control and esc sequences</a> <br>  2. <a href="http://misc.flogisoft.com/bash/tip_colors_and_formatting">How to color the console and everything about color attributes with examples</a> <br>  3. <a href="https://github.com/dlinyj/terminal_controller">Sample program from this article</a> <br>  4. <a href="http://dlinyj.livejournal.com/707861.html">Example of creating Easter eggs in a bash script</a> </div><p>Source: <a href="https://habr.com/ru/post/325082/">https://habr.com/ru/post/325082/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../325072/index.html">Runtyper - a tool for checking types when executing JavaScript code</a></li>
<li><a href="../325074/index.html">Machine Design Tools</a></li>
<li><a href="../325076/index.html">We start the flow velocity sensor</a></li>
<li><a href="../325078/index.html">MEPhI organizes information security competition for students</a></li>
<li><a href="../325080/index.html">How to let cryptographers sink a company</a></li>
<li><a href="../325084/index.html">Test items. Opinions and speculations</a></li>
<li><a href="../325088/index.html">Blog a la Habr, the choice of platform</a></li>
<li><a href="../325090/index.html">We start VMWare ESXi 6.5 under QEMU hypervisor</a></li>
<li><a href="../325092/index.html">Several arguments against Dependency Injection and Inversion of Control</a></li>
<li><a href="../325094/index.html">‚ÄúPresent documents‚Äù or what will help to recognize a passport</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>