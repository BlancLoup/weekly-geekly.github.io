<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TAU for the smallest: an example of the implementation of the PID controller in Unity3D</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instead of introducing 


 Automatic control systems (ACS) are designed to automatically change one or more parameters of the control object in order ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TAU for the smallest: an example of the implementation of the PID controller in Unity3D</h1><div class="post__text post__text-html js-mediator-article"><h1>  Instead of introducing </h1><br><p>  <b>Automatic control systems (ACS)</b> are designed to automatically change one or more parameters of the control object in order to establish the required mode of its operation.  The ACS maintains the constancy of the specified values ‚Äã‚Äãof the controlled parameters or changes them according to a given law, or optimizes certain control quality criteria. <a name="habracut"></a>  For example, such systems include: </p><br><ul><li>  stabilization systems </li><li>  program management systems </li><li>  tracking systems </li></ul><br><p>  This is a fairly wide class of systems that can be found anywhere.  But what does this have to do with Unity3D and probably with games in particular?  In principle, the direct one: in any game, SAUs are implemented using simulation as an element of gameplay, such games include, for example, Kerbal Space Programm, Digital Combat Simulator (formerly Lock On), <a href="https://www.reddit.com/r/gamedev/comments/363w67/does_anyone_use_a_pidcontroller_in_games/crax14t/">Strike Suit Zero</a> , etc.  (who knows more examples - write in the comments).  In principle, any game that simulates real physical processes, including just kinematics with driving dynamics, can implement certain ACSs - this approach is simpler, more natural, and the developer already has a set of ready-made tools provided by all sorts of Vyshnegradsky, Lyapunovy, Kalmans , Chebyshev and other Kolomogorov, so you can do without the invention of the bicycle, because  it has already been invented, so much so that a separate science has turned out: The theory of automatic control.  The main thing here is not to overdo it.  One thing is only a problem: they don't talk about TAU ‚Äã‚Äãeverywhere, not everyone, often a little and not very clear. </p><br><h2>  Little theory </h2><br><p>  The classic automatic control system presented in the following figure: </p><br><p><img src="https://habrastorage.org/webt/j5/wh/fx/j5whfxwkytfzxzda_jxmt5xo0ci.png" alt="image"></p><br><p>  A key element of any ACS is the <b>controller,</b> which is a device that monitors the state of the control object and provides the required control law.  The control process includes: calculating the control error or the error signal <b><i>e</i> ( <i>t</i> )</b> as the difference between the desired set point or <i><b>SP</b></i> and the current process vale or <i><b>PV</b></i> , after which the regulator generates the manipulated value or <i><b>MV</b></i> . </p><br><p>  One type of regulator is the <b>proportional-integral-differentiating (PID) controller</b> , which generates a control signal, which is the sum of three components: proportional, integral and differential. </p><br><p><img src="https://habrastorage.org/webt/nq/lz/rt/nqlzrtrqbrr53o6xtoddz0ywqjw.png" alt="image"></p><br><p>  Where, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.732ex" height="2.66ex" viewBox="0 -832 1607 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1217" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> e (t) </script>  mismatch error as well, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo>=</mo><msub><mi>K</mi><mi>p</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.379ex" height="2.78ex" viewBox="0 -832 7052.1 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="1029" y="0"></use><g transform="translate(2085,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="3641" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="4074" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="4598" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="5083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="5445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="5911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="6301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="6662" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></math></span></span><script type="math/tex" id="MathJax-Element-2"> P = K_p \ cdot e (t) </script>  - proportional, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>I</mi><mo>=</mo><msub><mi>K</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><msubsup><mi>t</mi><mn>0</mn><mi>t</mi></msubsup><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>a</mi><mi>u</mi><mo stretchy=&quot;false&quot;>)</mo><mi>d</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>a</mi><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.553ex" height="3.021ex" viewBox="0 -883.9 12293.8 1300.8" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="782" y="0"></use><g transform="translate(1838,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="1201" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="3282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="3715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="4239" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="4724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="5336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="5681" y="0"></use><g transform="translate(6282,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="511" y="499"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-30" x="511" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="7097" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="7564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="8203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="8565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="9094" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="9667" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="10056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="10830" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="11191" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="11721" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I</font></font></mi><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><msubsup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></mn><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></msubsup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> I = K_i \ cdot \ int_0 ^ t e (\ tau) d \ tau </script>  - integral, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi><mo>=</mo><msub><mi>K</mi><mi>d</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.007ex" height="2.66ex" viewBox="0 -832 10766.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="1106" y="0"></use><g transform="translate(2162,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1201" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="3732" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="4165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="4689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="5174" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="5786" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="6336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="6788" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="7317" y="0"></use><g transform="translate(7751,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1741" y="0"></use></g><g transform="translate(9881,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></mi><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-4"> D = K_d \ cdot \ frac {de (t)} {dt} </script>  - the differential components (terms) of the control law, which in its final form is described by the following formulas </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>S</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.393ex" height="2.66ex" viewBox="0 -832 9641.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="1884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-53" x="2941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="3586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="4338" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="4727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="5089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="5700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="6701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="7453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="8222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="8612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="8973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="9363" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> e (t) = SP (t) - PV (t), </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>u</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mi>b</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>e</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>p</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>P</mi></mrow></msub><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>u</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mi>b</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>e</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><msubsup><mi>t</mi><mn>0</mn><mi>t</mi></msubsup><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>a</mi><mi>u</mi><mo stretchy=&quot;false&quot;>)</mo><mi>d</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>a</mi><mi>u</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow></msub><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>u</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mi>b</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>e</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>d</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>D</mi></mrow></msub><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="112.285ex" height="3.021ex" viewBox="0 -883.9 48344.8 1300.8" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="1821" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2210" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="3239" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="4545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="5118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="5718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="6242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="6708" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-62" x="7160" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="7589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="8041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="8570" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="9004" y="0"></use><g transform="translate(9470,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="2512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="3359" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="3826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="4215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="4577" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="7023" y="-458"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="15290" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="16541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="17113" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="17714" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="18237" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="18704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-62" x="19155" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="19585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="20036" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="20566" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="20999" y="0"></use><g transform="translate(21466,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="1201" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1443" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1877" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="2400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2886" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="3497" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="3843" y="0"></use><g transform="translate(4443,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="511" y="499"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-30" x="511" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="5259" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="5725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="6365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="6726" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="7256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="7828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="8218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="8991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="9353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="9882" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-49" x="14785" y="-508"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="32600" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="33851" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="34423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="35024" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="35547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="36014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-62" x="36465" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="36895" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="37346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="37876" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="38309" y="0"></use><g transform="translate(38776,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1201" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1569" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="2003" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="2526" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="3012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="3623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="4174" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="4625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="5155" y="0"></use><g transform="translate(5588,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1741" y="0"></use></g><g transform="translate(7719,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-44" x="12168" y="-405"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="48066" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><msub><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><msub><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><msubsup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></mn><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></msubsup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I</font></font></mi></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><msub><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></mi></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> MV (t) = \ underbrace {K_p \ cdot e (t)} _ {P} + \ underbrace {K_i \ cdot \ int_0 ^ te (\ tau) d \ tau} _ {I} + \ underbrace {K_d \ cdot \ frac {de (t)} {dt}} _ {D}, </script></p><br><p>  <strong>Proportional component P</strong> - responsible for so-called.  proportional control, the meaning of which is that the output signal of the regulator, counteracts the deviation of the controlled variable (the error of the error or else it is called the residual) from the specified value.  The greater the error of the mismatch, the greater the command deviation of the regulator.  This is the simplest and most obvious control law.  <em>The disadvantage of the</em> proportional control law is that the regulator never stabilizes at a given value, and an increase in the proportionality coefficient always leads to self-oscillations.  That is why in the appendage to the proportional control law one has to use integral and differential. </p><br><p> <strong>The integral component I</strong> accumulates (integrates) the regulation error, which allows the PID controller to eliminate the static error (steady-state error, residual mismatch).  Or in other words: the integral link <strong>always introduces some displacement</strong> and if the system is subject to some constant errors, then it compensates them (at the expense of its displacement).  But if these errors are not present or they are negligibly small, then the effect will be the opposite - the integral component itself will introduce an offset error.  It is for this reason that it is not used, for example, in problems of ultra-precise positioning.  A key <em>disadvantage of the</em> integral control law is the effect of saturating the integrator (Integrator windup). </p><br><p>  <strong>The differential component D is</strong> proportional to the rate of change of the deviation of the controlled variable and is intended to counteract deviations from the target value, which are <strong>predicted in the future</strong> .  It is noteworthy that the differential component eliminates damped oscillations.  Differential regulation is especially effective for processes that have large delays.  <em>The disadvantage of the</em> differential control law is its instability to the effect of noise (Differentiation noise). </p><br><p>  Thus, depending on the situation, P-, PD-, PI- and PID-regulators can be applied, but the basic control law is mainly proportional (although in some specific tasks only the parts of differentiators and integrators can be used). </p><br><p>  It would seem that the issue of the implementation of PID regulators has long been beaten and here on Habr√© there are a <a href="https://habrahabr.ru/post/145991/">couple of</a> quite good articles on this topic <a href="https://habrahabr.ru/post/267791/">including Unity3D</a> , there is also a good article <a href="https://m.eet.com/media/1112634/f-wescot.pdf">PID Without a PhD</a> ( <a href="http://roboforum.ru/wiki/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE%25D0%25B4_%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D1%258C%25D0%25B8_%2522%25D0%259F%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D0%25BE_%25D0%25BE_%25D0%259F%25D0%2598%25D0%2594-%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC%25D0%25B0%25D1%2585%2522">translation</a> ) and a series of articles in the journal "Modern Automation Technologies" in two parts: the <a href="https://www.cta.ru/cms/f/364276.pdf">first</a> and <a href="https://www.cta.ru/cms/f/374303.pdf">second</a> .  Also at your service is an article on Wikipedia (the most complete read in English).  And on the Unity3D community forums, no, no, and the <a href="https://answers.unity.com/questions/1407343/accelerometer-1.html">PID controller</a> pops up, just like on <a href="https://gamedev.stackexchange.com/questions/1787/whats-the-best-way-to-train-pid-controllers">gamedev.stackexchange</a> </p><br><p>  When asked about the implementation of PID controllers is somewhat deeper than it seems.  So much so that the young self-made, who have decided to implement such a regulatory scheme, will have many wonderful discoveries, and the topic is topical.  So I hope this opus, someone come in handy, so let's get started. </p><br><h1>  Attempt number one </h1><br><p>  As an example, let us try to implement a regulation scheme using the example of controlling a turn in a simple 2D space arcade, step by step, starting from the very beginning (didn't you forget that this is a tutorial?). </p><br><p>  Why not 3D?  Because the implementation does not change, except that you have to turn up the PID controller to control pitch, yaw and roll.  Although the question of the correct application of PID regulation together with <a href="https://habrahabr.ru/post/183908/">quaternions is</a> really interesting, it is possible that I will sanctify it in the future, but even in <a href="https://www.hq.nasa.gov/alsj/e-1344.htm">NASA Euler angles are preferred</a> instead of quaternions, so we can do with a simple model on a two-dimensional plane. </p><br><p>  To begin with, we will create the object itself of the game object of the spacecraft, which will consist of the ship object itself at the top level of the hierarchy, and attach the Engine object to it (purely for special effects).  Here is how it looks from me: </p><br><p><img src="https://habrastorage.org/webt/de/rt/u9/dertu9bs4c6-3gkolmpm4uoylkk.jpeg" alt="image"></p><br><p>  And on the very object of the spacecraft we throw in the <em>inspector of</em> every component.  Looking ahead, I will give a screen of how it will look at the end: </p><br><p><img src="https://habrastorage.org/webt/ha/nr/rc/hanrrcdwkd0t8rppnvyfxwelerc.jpeg" alt="image"><br>  But this is later, but for now there are no scripts in it, only the standard gentleman's set: Sprite Render, RigidBody2D, Polygon Collider, Audio Source (why?). </p><br><p>  Actually, physics now is the most important thing for us and control will be carried out exclusively through it, otherwise, the use of the PID controller would lose its meaning.  The mass of our spacecraft will also be left at 1 kg, and all friction and gravity coefficients are zero - in space. </p><br><p>  Since  in addition to the spacecraft itself, there are a lot of other, less intelligent space objects, then we first describe the <em>BaseBody</em> parent class, which will contain references to our components, initialization and destruction methods, as well as a number of additional fields and methods, for example, to implement celestial mechanics: </p><br><div class="spoiler">  <b class="spoiler_title">BaseBody.cs</b> <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.SpaceShooter.Bodies</span></span> { [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(SpriteRenderer))] [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(AudioSource))] [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Rigidbody2D))] [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Collider2D))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BaseBody</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _deafultTimeDelay = <span class="hljs-number"><span class="hljs-number">0.05f</span></span>; [HideInInspector] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;BaseBody&gt; _bodies = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;BaseBody&gt;(); <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">region</span></span></span><span class="hljs-meta"> RigidBody [HideInInspector] public Rigidbody2D _rb2d; [HideInInspector] public Collider2D[] _c2d; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endregion</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">region</span></span></span><span class="hljs-meta"> References [HideInInspector] public Transform _myTransform; [HideInInspector] public GameObject _myObject; /// &lt;summary&gt; /// ,     /// &lt;/summary&gt; public GameObject _explodePrefab; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endregion</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">region</span></span></span><span class="hljs-meta"> Audio public AudioSource _audioSource; /// &lt;summary&gt; /// ,      /// &lt;/summary&gt; public AudioClip[] _hitSounds; /// &lt;summary&gt; /// ,      /// &lt;/summary&gt; public AudioClip[] _awakeSounds; /// &lt;summary&gt; /// ,     /// &lt;/summary&gt; public AudioClip[] _deadSounds; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endregion</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">region</span></span></span><span class="hljs-meta"> External Force Variables /// &lt;summary&gt; ///      /// &lt;/summary&gt; [HideInInspector] public Vector2 _ExternalForces = new Vector2(); /// &lt;summary&gt; ///    /// &lt;/summary&gt; [HideInInspector] public Vector2 _V = new Vector2(); /// &lt;summary&gt; ///     /// &lt;/summary&gt; [HideInInspector] public Vector2 _G = new Vector2(); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endregion</span></span></span><span class="hljs-meta"> public virtual void Awake() { Init(); } public virtual void Start() { } public virtual void Init() { _myTransform = this.transform; _myObject = gameObject; _rb2d = GetComponent&lt;Rigidbody2D&gt;(); _c2d = GetComponentsInChildren&lt;Collider2D&gt;(); _audioSource = GetComponent&lt;AudioSource&gt;(); PlayRandomSound(_awakeSounds); BaseBody bb = GetComponent&lt;BaseBody&gt;(); _bodies.Add(bb); } /// &lt;summary&gt; ///   /// &lt;/summary&gt; public virtual void Destroy() { _bodies.Remove(this); for (int i = 0; i &lt; _c2d.Length; i++) { _c2d[i].enabled = false; } float _t = PlayRandomSound(_deadSounds); StartCoroutine(WaitAndDestroy(_t)); } /// &lt;summary&gt; ///      /// &lt;/summary&gt; /// &lt;param name="waitTime"&gt; &lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public IEnumerator WaitAndDestroy(float waitTime) { yield return new WaitForSeconds(waitTime); </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (_explodePrefab) { Instantiate(_explodePrefab, transform.position, Quaternion.identity); } Destroy(gameObject, _deafultTimeDelay); } /// &lt;summary&gt; ///    /// &lt;/summary&gt; /// &lt;param name="audioClip"&gt; &lt;/param&gt; /// &lt;returns&gt;  &lt;/returns&gt; public float PlayRandomSound(AudioClip[] audioClip) { float _t = 0; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (audioClip.Length &gt; 0) { int _i = UnityEngine.Random.Range(0, audioClip.Length - 1); AudioClip _audioClip = audioClip[_i]; _t = _audioClip.length; _audioSource.PlayOneShot(_audioClip); } return _t; } /// &lt;summary&gt; ///   /// &lt;/summary&gt; /// &lt;param name="damage"&gt; &lt;/param&gt; public virtual void Damage(float damage) { PlayRandomSound(_hitSounds); } } }</span></span></code> </pre> </div></div><br><p>  It seems they described everything that is necessary, even more than necessary (in the framework of this article).  Now we will inherit from it the ship class <em>Ship</em> , which should be able to move and turn: </p><br><div class="spoiler">  <b class="spoiler_title">SpaceShip.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.SpaceShooter.Bodies</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Ship</span></span> : <span class="hljs-title"><span class="hljs-title">BaseBody</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _movement = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _target = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _rotation = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FixedUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> torque = ControlRotate(_rotation); Vector2 force = ControlForce(_movement); _rb2d.AddTorque(torque); _rb2d.AddRelativeForce(force); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector2 rotate</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> result = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Vector2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlForce</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector2 movement</span></span></span><span class="hljs-function">)</span></span> { Vector2 result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } } }</code> </pre> </div></div><br><p>  While there is nothing interesting in it, at the current moment it is just a stub class. </p><br><p>  We also describe the base (abstract) class for all BaseInputController input controllers: </p><br><div class="spoiler">  <b class="spoiler_title">BaseInputController.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Assets.Scripts.SpaceShooter.Bodies; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.SpaceShooter.InputController</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> eSpriteRotation { Rigth = <span class="hljs-number"><span class="hljs-number">0</span></span>, Up = <span class="hljs-number"><span class="hljs-number">-90</span></span>, Left = <span class="hljs-number"><span class="hljs-number">-180</span></span>, Down = <span class="hljs-number"><span class="hljs-number">-270</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BaseInputController</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject _agentObject; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Ship _agentBody; <span class="hljs-comment"><span class="hljs-comment">//      public eSpriteRotation _spriteOrientation = eSpriteRotation.Up; //    //   ""  "" public abstract void ControlRotate(float dt); public abstract void ControlForce(float dt); public virtual void Start() { _agentObject = gameObject; _agentBody = gameObject.GetComponent&lt;Ship&gt;(); } public virtual void FixedUpdate() { float dt = Time.fixedDeltaTime; ControlRotate(dt); ControlForce(dt); } public virtual void Update() { //TO DO } } }</span></span></code> </pre> </div></div><br><p>  Finally, <em>PlayerFigtherInput</em> Player Controller <em>Class</em> : </p><br><div class="spoiler">  <b class="spoiler_title">PlayerInput.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Assets.Scripts.SpaceShooter.Bodies; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.SpaceShooter.InputController</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PlayerFigtherInput</span></span> : <span class="hljs-title"><span class="hljs-title">BaseInputController</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dt</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      Vector3 worldPos = Input.mousePosition; worldPos = Camera.main.ScreenToWorldPoint(worldPos); //     float dx = -this.transform.position.x + worldPos.x; float dy = -this.transform.position.y + worldPos.y; //  Vector2 target = new Vector2(dx, dy); _agentBody._target = target; //       float targetAngle = Mathf.Atan2(dy, dx) * Mathf.Rad2Deg; _agentBody._targetAngle = targetAngle + (float)_spriteOrientation; } public override void ControlForce(float dt) { // movement _agentBody._movement = Input.GetAxis("Vertical") * Vector2.up + Input.GetAxis("Horizontal") * Vector2.right; } } }</span></span></code> </pre> </div></div><br><p>  It seems to be finished, now you can finally move on to what it all was for, i.e.  PID controllers (hope not forgotten?).  Its implementation seems simple to ugliness: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.Regulator</span></span> { [System.Serializable] <span class="hljs-comment"><span class="hljs-comment">//          //      public class SimplePID { public float Kp, Ki, Kd; private float lastError; private float P, I, D; public SimplePID() { Kp = 1f; Ki = 0; Kd = 0.2f; } public SimplePID(float pFactor, float iFactor, float dFactor) { this.Kp = pFactor; this.Ki = iFactor; this.Kd = dFactor; } public float Update(float error, float dt) { P = error; I += error * dt; D = (error - lastError) / dt; lastError = error; float CO = P * Kp + I * Ki + D * Kd; return CO; } } }</span></span></code> </pre> <br><p>  We take the default values ‚Äã‚Äãof the coefficients from the ceiling: this will be a trivial unit coefficient of the proportional control law Kp = 1, a small coefficient value for the differential control law Kd = 0.2, which should eliminate the expected fluctuations and a zero value for Ki, which is chosen because there are no static errors in the model (but you can always make them, and then heroically fight with the help of an integrator). </p><br><p>  Now let's return to our SpaceShip class and try to use our creation as a spacecraft rotation control in the ControlRotate method: </p><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector2 rotate</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> MV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt = Time.fixedDeltaTime; <span class="hljs-comment"><span class="hljs-comment">//  float angleError = Mathf.DeltaAngle(_myTransform.eulerAngles.z, targetAngle); //   MV = _angleController.Update(angleError, dt); return MV; }</span></span></code> </pre> <br><p>  The PID controller will perform the exact angular positioning of the spacecraft only at the expense of <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BE%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582_%25D1%2581%25D0%25B8%25D0%25BB%25D1%258B">torque</a> .  Everything is fair, physics and ACS, almost like in real life. </p><br><div class="spoiler">  <b class="spoiler_title">And without these your Quaternion.Lerp</b> <div class="spoiler_text"><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_rb2d.freezeRotation) rb2d.freezeRotation = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> deltaAngle = Mathf.DeltaAngle(_myTransform.eulerAngles.z, targetAngle); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> T = dt * Mathf.Abs( _rotationSpeed / deltaAngle); <span class="hljs-comment"><span class="hljs-comment">//     Quaternion rot = Quaternion.Lerp( _myTransform.rotation, Quaternion.Euler(new Vector3(0, 0, targetAngle)), T); //    _myTransform.rotation = rot;</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">The resulting Ship.cs source code under the spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Assets.Scripts.Regulator; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.SpaceShooter.Bodies</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Ship</span></span> : <span class="hljs-title"><span class="hljs-title">BaseBody</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject _flame; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _movement = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _target = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _targetAngle = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _angle = <span class="hljs-number"><span class="hljs-number">0f</span></span>; [Header(<span class="hljs-string"><span class="hljs-string">"PID"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SimplePID _angleController = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimplePID(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FixedUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> torque = ControlRotate(_targetAngle); Vector2 force = ControlForce(_movement); _rb2d.AddTorque(torque); _rb2d.AddRelativeForce(force); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rotate</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> MV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt = Time.fixedDeltaTime; _angle = _myTransform.eulerAngles.z; <span class="hljs-comment"><span class="hljs-comment">//  float angleError = Mathf.DeltaAngle(_angle, rotate); //   MV = _angleController.Update(angleError, dt); return MV; } public Vector2 ControlForce(Vector2 movement) { Vector2 MV = new Vector2(); //      if (movement != Vector2.zero) { if (_flame != null) { _flame.SetActive(true); } } else { if (_flame != null) { _flame.SetActive(false); } } MV = movement; return MV; } } }</span></span></code> </pre></div></div><br><p>  Everything?  Going home? </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2rC6prAN1IE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  WTF!  What's happening?  Why does the ship turn strange?  And why does he rebound so sharply from other objects?  Is this stupid PID controller not working? </p><br><p>  Do not panic!  Let's try to figure out what's going on. </p><br><p>  At the moment of receiving a new SP value, an abrupt (stepwise) jump in the error mismatch occurs, which, as we remember, is calculated like this: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>S</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.393ex" height="2.66ex" viewBox="0 -832 9641.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="1884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-53" x="2941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="3586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="4338" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="4727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="5089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="5700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="6701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="7453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="8222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="8612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="8973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="9363" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span><script type="math/tex" id="MathJax-Element-7"> e (t) = SP (t) - PV (t), </script>  accordingly, there is a sharp jump in the error <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.148ex" height="2.66ex" viewBox="0 -832 5230.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1741" y="0"></use></g><g transform="translate(4345,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-8"> \ frac {de (t)} {dt} </script>  , which we calculate in this line of code: </p><br><pre> <code class="cs hljs">D = (error - lastError) / dt;</code> </pre> <br><p>  You can, of course, try other <a href="http://mathhelpplanet.com/static.php%3Fp%3Dmetody-chislennogo-differentsirovaniya">differentiation schemes</a> , for example, three-point, or five-point, or ... but still it will not help.  Well, derivatives of sharp jumps do not like - at such points the function is <em>not differentiable</em> .  However, experimenting with different schemes of differentiation and integration is worth it, but then not in this article. </p><br><p>  I think that the moment has come to build the <a href="https://en.wikipedia.org/wiki/Transient_response">transition</a> graphs: a step effect from S (t) = 0 in SP (t) = 90 degrees for a body weighing 1 kg, a long arm of a force of 1 meter and a step of differentiation grid of 0.02 s - just like in ours for the Unity3D example (in fact, not quite, when building these graphs it was not taken into account that the moment of inertia depends on the geometry of the solid body, therefore the transition process will be slightly different, but still quite similar for demonstration).  All values ‚Äã‚Äãon the bar are given in absolute values: <br><img src="https://habrastorage.org/webt/m-/u1/yu/m-u1yu1zbdtzivahqvkz4cr_bpy.jpeg" alt="image"><br>  Hm, what's going on here?  Where did the PID response go? </p><br><p>  Congratulations, we have just come across such a thing as a kick.  Obviously, at the point in time when the process is still PV = 0, and the setpoint is already SP = 90, then by numerical differentiation we will get a derivative value of about 4500, which will be multiplied by <em>Kd = 0.2</em> and will be added to the proportional term, so that the output will be angular acceleration is 990, and this is a formal abuse of the physical model of Unity3D (angular speeds will reach 18,000 degrees / s ... I think this is the limiting value of the angular velocity for RigidBody2D). </p><br><blockquote><ul><li>  Maybe you should pick up the coefficients with handles, so that the jump was not so strong? </li><li>  Not!  The best thing we can achieve in this way is a small amplitude of the jump in the derivative, but the jump itself will remain as it was, and you can get to the total inefficiency of the differential component. </li></ul><br></blockquote><p>  But you can experiment. </p><br><h1>  Attempt number two.  Saturation </h1><br><p>  It is logical that the <em>drive</em> (in our case, the virtual shunting engines SpaceShip), can not work as many large values ‚Äã‚Äãas our crazy regulator can produce.  So the first thing we do is <a href="https://en.wikipedia.org/wiki/Saturation_arithmetic">saturate</a> the regulator output: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector2 rotate, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thrust</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> CO = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> MV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt = Time.fixedDeltaTime; <span class="hljs-comment"><span class="hljs-comment">//  float angleError = Mathf.DeltaAngle(_myTransform.eulerAngles.z, targetAngle); //   CO = _angleController.Update(angleError, dt); // MV = CO; if (MV &gt; thrust) MV = thrust; if (MV&lt; -thrust) MV = -thrust; return MV; }</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">And once again, the rewritten Ship class looks like this.</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.SpaceShooter.Bodies</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Ship</span></span> : <span class="hljs-title"><span class="hljs-title">BaseBody</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject _flame; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _movement = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _target = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _targetAngle = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _angle = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _thrust = <span class="hljs-number"><span class="hljs-number">1f</span></span>; [Header(<span class="hljs-string"><span class="hljs-string">"PID"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SimplePID _angleController = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimplePID(<span class="hljs-number"><span class="hljs-number">0.1f</span></span>,<span class="hljs-number"><span class="hljs-number">0f</span></span>,<span class="hljs-number"><span class="hljs-number">0.05f</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FixedUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _torque = ControlRotate(_targetAngle, _thrust); _force = ControlForce(_movement); _rb2d.AddTorque(_torque); _rb2d.AddRelativeForce(_force); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> targetAngle, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thrust</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> CO = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> MV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt = Time.fixedDeltaTime; <span class="hljs-comment"><span class="hljs-comment">//  float angleError = Mathf.DeltaAngle(_myTransform.eulerAngles.z, targetAngle); //   CO = _angleController.Update(angleError, dt); // MV = CO; if (MV &gt; thrust) MV = thrust; if (MV&lt; -thrust) MV = -thrust; return MV; } public Vector2 ControlForce(Vector2 movement) { Vector2 MV = new Vector2(); if (movement != Vector2.zero) { if (_flame != null) { _flame.SetActive(true); } } else { if (_flame != null) { _flame.SetActive(false); } } MV = movement * _thrust; return MV; } public void Update() { } } }</span></span></code> </pre> </div></div><br><p>  The final scheme of our ACS then it will become such <br><img src="https://habrastorage.org/webt/yh/tm/-i/yhtm-iapyhldfbepyajqu8q5efw.png" alt="image"></p><br><p>  In this case, it becomes clear that the output of the <em>CO (t)</em> controller is not the same a bit, that the controlled value of the <em>MV (t)</em> process. </p><br><p>  Actually from this place you can already add a new game entity - a <em>drive</em> through which the process control will be exercised, the operation logic of which may be more complicated than just Mathf.Clamp (), for example, you can enter a discretization of values ‚Äã‚Äã(so as not to overload the game physics with values the sixths after the comma), the dead zone (again, it does not make sense to overload physics with super-small reactions), introduce a delay into the control and nonlinearity (for example, sigmoid) of the drive, and then see what happens. </p><br><p>  By launching the game, we find that the spacecraft has finally become controllable: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/b1o92dL3Gls" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  If you build graphics, you can see that the controller‚Äôs response has already become this: <br><img src="https://habrastorage.org/webt/ye/yr/4h/yeyr4hqujdzk69wzsh9z-hhqulu.jpeg" alt="image"><br>  <em>Here, the normalized values ‚Äã‚Äãare already used, the angles are divided by the SP value, and the controller output is normalized relative to the maximum value at which the saturation already occurs.</em> </p><br><p>  Now the graph shows the presence of overshooting error and damped oscillations.  By reducing <em>Kp</em> and increasing <em>Kd,</em> it is possible to reduce oscillations, but it will increase the controller's response time (the ship‚Äôs turn speed).  Conversely, by increasing <em>Kp</em> and decreasing <em>Kd</em> - it is possible to increase the speed of the controller‚Äôs reaction, but parasitic oscillations will appear that, at certain (critical) values, will cease to be damped. </p><br><p>  Below is a known table of the effect of increasing the parameters of the PID controller ( <em>how to reduce the font, and then the hyphenation table does not climb?</em> ): </p><br><table><tbody><tr><th>  <nobr>Term</nobr> </th><th>  <nobr>Rise time</nobr> </th><th>  <nobr>Overshoot error</nobr> </th><th>  <nobr>Transition time</nobr> </th><th>  <nobr>Steady error</nobr> </th><th>  <nobr>Stability</nobr> </th></tr><tr><td>  Kp </td><td>  Reduction </td><td>  Increase </td><td>  Slight changes </td><td>  Decreases </td><td>  Degrades </td></tr><tr><td>  Ki </td><td>  Decreases </td><td>  Increases </td><td>  Increases </td><td>  Compensated if there is </td><td>  Degrades </td></tr><tr><td>  Kd </td><td>  Slight changes </td><td>  Decreases </td><td>  Decreases </td><td></td><td>  Increases if Kd is small </td></tr></tbody></table><br><p>  And the general algorithm for manually tuning the PID controller is as follows: </p><br><blockquote><ol><li>  We select proportional coefficients at disconnected differential and integral links until self-oscillations begin. </li><li>  Gradually increasing the differential component get rid of auto-oscillations </li><li>  If there is a residual regulation error (offset), then we eliminate it due to the integral component. </li></ol><br></blockquote><p>  There are no general values ‚Äã‚Äãof the PID controller parameters: specific values ‚Äã‚Äãdepend solely on the process parameters (its <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B4%25D0%25B0%25D1%2582%25D0%25BE%25D1%2587%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F">transfer characteristic</a> ): the PID controller perfectly working with one control object will not work with the other.  Moreover, the coefficients of the proportional, integral and differential components are also interdependent. </p><br><p>  In general, let's not talk about sad things, the most interesting things are waiting for us ... </p><br><h1>  Attempt number three.  Once again derivatives </h1><br><p>  Having attached a crutch in the form of restriction of the controller's output values, we have not solved the most important problem of our regulator - the differential component feels bad when the error at the regulator input changes stepwise.  In fact, there are many other crutches, for example, at the time of a spasmodic change of the SP, ‚Äúdisconnect‚Äù the differential component or put low-pass filters between the <em>SP (t)</em> and the operation <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.916ex" height="2.66ex" viewBox="0 -832 6421.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="1397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1786" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2148" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="2759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="3760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="4511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="5281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="5670" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="6032" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></math></span></span><script type="math/tex" id="MathJax-Element-9"> SP (t) -PV (t) </script>  due to which there will be a smooth increase of the error, and you can completely turn around and see the real Kalman filter for smoothing the input data.  In general, there are many crutches, and of course I would like to add an <a href="https://en.wikipedia.org/wiki/State_observer"><em>observer</em></a> , but not this time. </p><br><p>  Therefore, let us return to the derivative of the error of the mismatch again and take a close look at it: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mo stretchy=&quot;false&quot;>(</mo><mi>S</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>S</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="75.88ex" height="2.66ex" viewBox="0 -832 32670.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1741" y="0"></use></g><g transform="translate(4345,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="5508" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="6814" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="7365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="7816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="8346" y="0"></use><g transform="translate(8779,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-53" x="913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="2310" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2699" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="3061" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="3672" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="4673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="5424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="6194" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="6583" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="6945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="7334" y="0"></use></g><g transform="translate(16504,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="17666" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="18973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="19523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="19975" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="20504" y="0"></use><g transform="translate(20938,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-53" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="1920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2310" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2671" y="0"></use></g><g transform="translate(23999,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="25106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="26357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="26907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="27359" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="27888" y="0"></use><g transform="translate(28322,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="1275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="2044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2434" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2795" y="0"></use></g><g transform="translate(31507,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="32392" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> \ frac {de (t)} {dt} = \ frac {d (SP (t) -PV (t))} {dt} = \ frac {dSP (t)} {dt} - \ frac {dPV ( t)} {dt}, </script></p><br><p>  Did you notice anything?  If you look closely, you may find that, in general, SP (t) does not change in time (except for the moments of step change when the controller receives a new command), i.e.  its derivative is zero: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>S</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow><mo>=</mo><mn>0</mn><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.217ex" height="2.66ex" viewBox="0 -832 8274.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-53" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="1920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2310" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2671" y="0"></use></g><g transform="translate(5276,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="6438" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-30" x="7495" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="7995" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></mn><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> \ frac {dSP (t)} {dt} = 0, </script></p><br><p>  then </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow><mo>=</mo><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.299ex" height="2.66ex" viewBox="0 -832 13906.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1741" y="0"></use></g><g transform="translate(4345,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="5508" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="6564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="7593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="8143" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="8595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="9124" y="0"></use><g transform="translate(9558,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="1275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="2044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2434" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2795" y="0"></use></g><g transform="translate(12743,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="13628" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ frac {de (t)} {dt} = - \ frac {dPV (t)} {dt}, </script></p><br><p>  In other words, instead of the derivative error, which is <strong>not</strong> differentiable <strong>everywhere,</strong> we can use the derivative of the process, which in the world of classical mechanics is usually continuous and differentiated everywhere, and the scheme of our ACS already takes the following form: <br><img src="https://habrastorage.org/webt/36/n9/9r/36n99rey2irrxmpoijkisufpmoo.png" alt="image"></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>S</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.393ex" height="2.66ex" viewBox="0 -832 9641.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="1884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-53" x="2941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="3586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="4338" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="4727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="5089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="5700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="6701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="7453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="8222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="8612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="8973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="9363" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> e (t) = SP (t) - PV (t), </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>C</mi><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>u</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mi>b</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>e</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>p</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>P</mi></mrow></msub><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>u</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mi>b</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>e</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><msubsup><mi>t</mi><mn>0</mn><mi>t</mi></msubsup><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>a</mi><mi>u</mi><mo stretchy=&quot;false&quot;>)</mo><mi>d</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>a</mi><mi>u</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>u</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mi>b</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>e</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>d</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>D</mi></mrow></msub><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="114.045ex" height="3.021ex" viewBox="0 -883.9 49102.3 1300.8" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4F" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="1524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="2942" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="4248" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="4821" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="5421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="5945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="6411" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-62" x="6863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="7292" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="7744" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="8273" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="8707" y="0"></use><g transform="translate(9173,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="2512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="3359" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="3826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="4215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="4577" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="7023" y="-458"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="14993" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="16244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="16816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="17417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="17940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="18407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-62" x="18858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="19288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="19739" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="20269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="20702" y="0"></use><g transform="translate(21169,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="1201" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1443" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1877" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="2400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2886" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="3497" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="3843" y="0"></use><g transform="translate(4443,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="511" y="499"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-30" x="511" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="5259" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="5725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="6365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="6726" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="7256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="7828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="8218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="8991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="9353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="9882" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-49" x="14785" y="-508"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="32303" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="33554" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="34126" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="34727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="35250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="35717" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-62" x="36168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="36598" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="37049" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="37579" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="38012" y="0"></use><g transform="translate(38479,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1201" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1569" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="2003" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="2526" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="3012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="3623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="4174" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="4625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="5155" y="0"></use><g transform="translate(5588,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="1275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="2044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2434" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2795" y="0"></use></g><g transform="translate(8773,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-44" x="13659" y="-405"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="48823" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><msub><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><msub><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><msubsup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></mn><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></msubsup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I</font></font></mi></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><msub><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></mi></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-14"> CO (t) = \ underbrace {K_p \ cdot e (t)} _ {P} + \ underbrace {K_i \ cdot \ int_0 ^ te (\ tau) d \ tau} _ {I} - \ underbrace {K_d \ cdot \ frac {dPV (t)} {dt}} _ {D}, </script></p><br><p>  Modify the controller code: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.Regulator</span></span> { [System.Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SimplePID</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Kp, Ki, Kd; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> P, I, D; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> lastPV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SimplePID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Kp = <span class="hljs-number"><span class="hljs-number">1f</span></span>; Ki = <span class="hljs-number"><span class="hljs-number">0f</span></span>; Kd = <span class="hljs-number"><span class="hljs-number">0.2f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SimplePID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pFactor, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> iFactor, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dFactor</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Kp = pFactor; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Ki = iFactor; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Kd = dFactor; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> error, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> PV, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dt</span></span></span><span class="hljs-function">)</span></span> { P = error; I += error * dt; D = -(PV - lastPV) / dt; lastPV = PV; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> CO = Kp * P + Ki * I + Kd * D; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> CO; } } }</code> </pre> <br><p>  And change the ControlRotate method a bit: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector2 rotate, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thrust</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> CO = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> MV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt = Time.fixedDeltaTime; <span class="hljs-comment"><span class="hljs-comment">//  float angleError = Mathf.DeltaAngle(_myTransform.eulerAngles.z, targetAngle); //   CO = _angleController.Update(angleError, _myTransform.eulerAngles.z, dt); // MV = CO; if (CO &gt; thrust) MV = thrust; if (CO &lt; -thrust) MV = -thrust; return MV; }</span></span></code> </pre> <br><p>  And-and-and-and ... if you start the game, you will see that in fact nothing has changed since the last attempt, which is what was required to prove.  However, if you remove the saturation, the graph of the reaction of the regulator will look like this: <br><img src="https://habrastorage.org/webt/5f/6p/eq/5f6peqpz0ttqfx6suopoi39u0hq.jpeg" alt="image"><br>  The <em>CO (t)</em> jump is still present, but it is not as big as it was at the very beginning, and most importantly, it has become predictable, since  is provided exclusively by the proportional component, and is limited by the maximum possible error of the mismatch and proportional to the coefficient of the PID controller (and this already hints that it makes sense to choose <em>Kp</em> is still less than one, for example, 1 / 90f), but does not depend on the differentiation grid step ( i.e. <em>dt</em> ).  In general, I strongly recommend using exactly the derivative of the process, not errors. </p><br><p>  <em>I think now no one will be surprised, but in the same Makar can be replaced</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>K</mi><mi>p</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.535ex" height="2.78ex" viewBox="0 -832 4966.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="1555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="2512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="3359" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="3826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="4215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="4577" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></math></span></span><script type="math/tex" id="MathJax-Element-15"> K_p \ cdot e (t) </script></em>   <em>on</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><msub><mi>K</mi><mi>p</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.793ex" height="2.78ex" viewBox="0 -832 6799.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="2334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="2767" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="3291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="3776" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="4138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="4889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="5659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="6048" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="6410" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></math></span></span><script type="math/tex" id="MathJax-Element-16"> -K_p \ cdot PV (t) </script></em>   <em>however, we will not dwell on this, you can experiment and tell in the comments what came out of it (most interestingly)</em> </p><br><h1>  Attempt number four.  Alternative implementations of the PID controller </h1><br><p>  In addition to the ideal representation of the PID controller described above, the standard form is often used in practice, without the <em>Ki</em> and <em>Kd</em> coefficients, instead of which time constants are used. </p><br><p>  This approach is due to the fact that a number of PID controller tuning techniques are based on the frequency characteristics of the PID controller and process.  Actually, all the TAU and revolves around the frequency characteristics of the processes, so for those who want to go deeper, and, suddenly, faced with an alternative nomenclature, I will give an example of the so-called.  <strong>standard form of</strong> PID controller: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>S</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.393ex" height="2.66ex" viewBox="0 -832 9641.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="1884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-53" x="2941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="3586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="4338" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="4727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="5089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="5700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="6701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="7453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="8222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="8612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="8973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="9363" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-17"> e (t) = SP (t) - PV (t), </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>C</mi><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>C</mi><msub><mi>O</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>i</mi><mi>a</mi><mi>s</mi></mrow></msub><mo>+</mo><msub><mi>K</mi><mi>p</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>B</mi><mi>i</mi><mi>g</mi><mi>l</mi><mo stretchy=&quot;false&quot;>(</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>T</mi><mi>i</mi></msub></mrow><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><msubsup><mi>t</mi><mn>0</mn><mi>t</mi></msubsup><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>a</mi><mi>u</mi><mo stretchy=&quot;false&quot;>)</mo><mi>d</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>a</mi><mi>u</mi><mo>&amp;#x2212;</mo><msub><mi>T</mi><mi>d</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>P</mi><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>B</mi><mi>i</mi><mi>g</mi><mi>l</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="100.19ex" height="3.021ex" viewBox="0 -883.9 43137.2 1300.8" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4F" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="1524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="2942" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-43" x="3998" y="0"></use><g transform="translate(4759,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="429" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="774" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-73" x="1304" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="7099" y="0"></use><g transform="translate(8099,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="9655" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="10088" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="10612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="11097" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-42" x="11709" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="12468" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-67" x="12814" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="13294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="13593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="13982" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="14449" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="14838" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="15200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="15812" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="17062" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="17613" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="18064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="18594" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-31" x="19027" y="0"></use><g transform="translate(19528,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="826" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="20707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="21140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="21664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="22149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="22761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6E" x="23106" y="0"></use><g transform="translate(23707,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="511" y="499"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-30" x="511" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="24522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="24989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="25628" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="25990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="26519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="27092" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="27481" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="28255" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="28616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-75" x="29146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="29940" y="0"></use><g transform="translate(30941,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="826" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="32246" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="32679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6F" x="33203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="33688" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="34300" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="34850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="35302" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="35831" y="0"></use><g transform="translate(36265,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-50" x="523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-56" x="1275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="2044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2434" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2795" y="0"></use></g><g transform="translate(39450,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="523" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-42" x="40585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="41344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-67" x="41690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="42170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="42469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2C" x="42858" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></mi><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></mi></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">one</font></font></mn></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi></msub></mrow><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><msubsup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></mn><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></msubsup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></mi><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-18"> CO (t) = CO_ {bias} + K_p \ cdot \ Bigl (e (t) + \ frac {1} {T_i} \ cdot \ int_0 ^ te (\ tau) d \ tau - T_d \ cdot \ frac { dPV (t)} {dt} \ Bigl), </script></p><br><p>  Where, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mi>d</mi></msub><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>d</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>p</mi></msub></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.79ex" height="2.66ex" viewBox="0 -780.1 7228.9 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="826" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="2638" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="3189" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="3640" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="4170" y="0"></use><g transform="translate(4603,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="1201" y="-213"></use></g><g transform="translate(5923,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub></mrow></math></span></span><script type="math/tex" id="MathJax-Element-19"> T_d = \ frac {K_d} {K_p} </script>  - constant differentiation, affecting the prediction of the system state by the regulator <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mi>i</mi></msub><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>p</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>K</mi><mi>i</mi></msub></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.205ex" height="2.66ex" viewBox="0 -780.1 6977.2 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="826" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="1206" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="2512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="3063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="3514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="4044" y="0"></use><g transform="translate(4477,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use></g><g transform="translate(5783,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="1201" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi></msub></mrow></math></span></span><script type="math/tex" id="MathJax-Element-20"> T_i = \ frac {K_p} {K_i} </script>  - the integration constant affecting the error averaging interval by the integral link. </p><br><p>  The basic principles of tuning a PID controller in standard form are similar to the idealized PID controller: </p><br><ul><li>  an increase in the proportional coefficient increases the speed and reduces the stability margin </li><li>  with a decrease in the integral component of the regulation error over time decreases faster; </li><li>  a decrease in the continuous integration reduces the stability margin; </li><li>  the increase in the differential component increases the stability margin and speed </li></ul><br><div class="spoiler">  <b class="spoiler_title">The source code of the standard form, you can find under the spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.Regulator</span></span> { [System.Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">StandartPID</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Kp, Ti, Td; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> error, CO; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> P, I, D; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> lastPV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StandartPID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Kp = <span class="hljs-number"><span class="hljs-number">0.1f</span></span>; Ti = <span class="hljs-number"><span class="hljs-number">10000f</span></span>; Td = <span class="hljs-number"><span class="hljs-number">0.5f</span></span>; bias = <span class="hljs-number"><span class="hljs-number">0f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StandartPID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Kp, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Ti, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Td</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Kp = Kp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Ti = Ti; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Td = Td; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> error, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> PV, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dt</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.error = error; P = error; I += (<span class="hljs-number"><span class="hljs-number">1</span></span> / Ti) * error * dt; D = -Td * (PV - lastPV) / dt; CO = Kp * (P + I + D); lastPV = PV; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> CO; } } }</code> </pre> <br><p>  As default values, Kp = 0.01, Ti = 10000, Td = 0.5 are chosen - with such values ‚Äã‚Äãthe ship turns quickly enough and has some stability margin. </p></div></div><br><p>  In addition to this form of the PID controller, so-called  <em>recurrent form</em> : </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>C</mi><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>t</mi><mi>k</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>C</mi><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><msub><mi>K</mi><mi>p</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mo stretchy=&quot;false&quot;>[</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>t</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>T</mi><mi>i</mi></msub></mrow><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>T</mi><mi>d</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>t</mi><mi>k</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;#x2212;</mo><mn>1</mn><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><msub><mi>T</mi><mi>d</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>T</mi><mi>d</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>t</mi></mrow><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi><mo>&amp;#x2212;</mo><mn>2</mn></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="163.017ex" height="2.78ex" viewBox="0 -832 70187.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4F" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="1524" y="0"></use><g transform="translate(1913,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6B" x="511" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="2743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-3D" x="3411" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-43" x="4467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4F" x="5227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="5991" y="0"></use><g transform="translate(6380,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-31" x="1300" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="8115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="8727" y="0"></use><g transform="translate(9727,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-70" x="1201" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="11283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="11581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="12048" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="12598" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-5B" x="12960" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="13488" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="13787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="14253" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="14804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="15165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-31" x="15555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="16278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="17528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="18052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="18602" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="19054" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="19583" y="0"></use><g transform="translate(20017,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-44" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="2205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2734" y="0"></use></g><g transform="translate(23113,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="826" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="24264" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="25515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="26038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="26589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="27040" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="27570" y="0"></use><g transform="translate(28003,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="826" y="-213"></use></g><g transform="translate(29058,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-44" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="2205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2734" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="32404" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="32855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-67" x="33201" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-68" x="33681" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="34258" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="34619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="35009" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="35475" y="0"></use><g transform="translate(35865,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6B" x="511" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="36695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="37307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="38557" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="38856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="39322" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="39873" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="40234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="40624" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-31" x="41402" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="42125" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="43376" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="43899" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="44450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="44901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="45431" y="0"></use><g transform="translate(45864,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="826" y="-213"></use></g></g><g transform="translate(47420,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-44" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="2205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2734" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="50766" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="51217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-67" x="51563" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-68" x="52043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="52620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="52981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="53371" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="53837" y="0"></use><g transform="translate(54227,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-31" x="1300" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="55961" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2B" x="56573" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="57824" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-66" x="58347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="58898" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="59349" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-63" x="59879" y="0"></use><g transform="translate(60312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-64" x="826" y="-213"></use></g><g transform="translate(61367,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-44" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6C" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="1843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-61" x="2205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="2734" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-65" x="64463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-28" x="64929" y="0"></use><g transform="translate(65319,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-2212" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-32" x="1300" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-29" x="67054" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-72" x="67693" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-69" x="68145" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-67" x="68490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-68" x="68971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMATHI-74" x="69547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345972/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiAhzfsFj78bci2akHckLo36Mlaag#MJMAIN-5D" x="69909" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></mi></msub><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></mi><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">one</font></font></mn></mrow></msub><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></mi></msub><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">one</font></font></mn><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi></msub></mrow><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></mi></msub><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">one</font></font></mn><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></mi><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">one</font></font></mn></mrow></msub><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi></mrow><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></mi><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn></mrow></msub><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo><mtext>&nbsp;</mtext><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h</font></font></mi><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-21"> CO (t_k) = CO (t_ {k-1}) + K_p \ left [\ left (1+ \ dfrac {\ Delta t} {T_i} + \ dfrac {T_d} {\ Delta t} \ right) e (t_k) + \ left (-1- \ dfrac {2T_d} {\ Delta t} \ right) e (t_ {k-1}) + \ dfrac {T_d} {\ Delta t} e (t_ {k-2 }) \ right] </script></p><br><p>  We will not dwell on it, because  It is relevant primarily for hardware programmers working with FPGAs and microcontrollers, where such an implementation is much more convenient and efficient.  In our case - let's do something on Unity3D piles - this is just another implementation of the PID controller, which is no better than others and even less understandable, so once again we will rejoice together how well to program in cozy C #, and not terribly and scary vhdl for example. </p><br><h1>  Instead of a conclusion.  Where else to add the PID controller </h1><br><p>  Now we will try to complicate the ship control a little using dual-loop control: one PID controller, already familiar to us _angleController, is still responsible for the angular positioning, but the second - new, _angularVelocityController - controls the speed of rotation: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> targetAngle, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thrust</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> CO = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> MV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt = Time.fixedDeltaTime; _angle = _myTransform.eulerAngles.z; <span class="hljs-comment"><span class="hljs-comment">//   float angleError = Mathf.DeltaAngle(_angle, targetAngle); float torqueCorrectionForAngle = _angleController.Update(angleError, _angle, dt); //   float angularVelocityError = -_rb2d.angularVelocity; float torqueCorrectionForAngularVelocity = _angularVelocityController.Update(angularVelocityError, -angularVelocityError, dt); //   CO = torqueCorrectionForAngle + torqueCorrectionForAngularVelocity; //   100 CO = Mathf.Round(100f * CO) / 100f; // MV = CO; if (CO &gt; thrust) MV = thrust; if (CO &lt; -thrust) MV = -thrust; return MV; }</span></span></code> </pre> <br><p>    ‚Äî    ,      ‚Äî     ,        .    []      ,        ‚Äî      ,  ,     . </p><br><p>  ,      ‚Äî PlayerInputCorvette,           "-",         -  , ,   .         _turnRate ‚Äî   /  (        InputCOntroller    Ship). </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PlayerCorvetteInput</span></span> : <span class="hljs-title"><span class="hljs-title">BaseInputController</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _turnSpeed = <span class="hljs-number"><span class="hljs-number">90f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//    Vector3 worldPos = Input.mousePosition; worldPos = Camera.main.ScreenToWorldPoint(worldPos); //      float dx = -this.transform.position.x + worldPos.x; float dy = -this.transform.position.y + worldPos.y; //    Vector2 target = new Vector2(dx, dy); _agentBody._target = target; //       _agentBody._rotation -= Input.GetAxis("Horizontal") * _turnSpeed * Time.deltaTime; } public override void ControlForce() { // movement _agentBody._movement = Input.GetAxis("Vertical") * Vector2.up; } }</span></span></code> </pre> <br><div class="spoiler"> <b class="spoiler_title">          </b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.SpaceShooter.UI</span></span> { [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Ship))] [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(BaseInputController))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Debugger</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { Ship _ship; BaseInputController _controller; List&lt;SimplePID&gt; _pids = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;SimplePID&gt;(); List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt; _names = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(); Vector2 _orientation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-comment"><span class="hljs-comment">// Use this for initialization void Start() { _ship = GetComponent&lt;Ship&gt;(); _controller = GetComponent&lt;BaseInputController&gt;(); _pids.Add(_ship._angleController); _names.Add("Angle controller"); _pids.Add(_ship._angularVelocityController); _names.Add("Angular velocity controller"); } // Update is called once per frame void Update() { DrawDebug(); } Vector3 GetDiretion(eSpriteRotation spriteRotation) { switch (_controller._spriteOrientation) { case eSpriteRotation.Rigth: return transform.right; case eSpriteRotation.Up: return transform.up; case eSpriteRotation.Left: return -transform.right; case eSpriteRotation.Down: return -transform.up; } return Vector3.zero; } void DrawDebug() { //  Vector3 vectorToTarget = transform.position + 5f * new Vector3(-Mathf.Sin(_ship._targetAngle * Mathf.Deg2Rad), Mathf.Cos(_ship._targetAngle * Mathf.Deg2Rad), 0f); //   Vector3 heading = transform.position + 4f * GetDiretion(_controller._spriteOrientation); //  Vector3 torque = heading - transform.right * _ship._Torque; Debug.DrawLine(transform.position, vectorToTarget, Color.white); Debug.DrawLine(transform.position, heading, Color.green); Debug.DrawLine(heading, torque, Color.red); } void OnGUI() { float x0 = 10; float y0 = 100; float dx = 200; float dy = 40; float SliderKpMax = 1; float SliderKpMin = 0; float SliderKiMax = .5f; float SliderKiMin = -.5f; float SliderKdMax = .5f; float SliderKdMin = 0; int i = 0; foreach (SimplePID pid in _pids) { y0 += 2 * dy; GUI.Box(new Rect(25 + x0, 5 + y0, dx, dy), ""); pid.Kp = GUI.HorizontalSlider(new Rect(25 + x0, 5 + y0, 200, 10), pid.Kp, SliderKpMin, SliderKpMax); pid.Ki = GUI.HorizontalSlider(new Rect(25 + x0, 20 + y0, 200, 10), pid.Ki, SliderKiMin, SliderKiMax); pid.Kd = GUI.HorizontalSlider(new Rect(25 + x0, 35 + y0, 200, 10), pid.Kd, SliderKdMin, SliderKdMax); GUIStyle style1 = new GUIStyle(); style1.alignment = TextAnchor.MiddleRight; style1.fontStyle = FontStyle.Bold; style1.normal.textColor = Color.yellow; style1.fontSize = 9; GUI.Label(new Rect(0 + x0, 5 + y0, 20, 10), "Kp", style1); GUI.Label(new Rect(0 + x0, 20 + y0, 20, 10), "Ki", style1); GUI.Label(new Rect(0 + x0, 35 + y0, 20, 10), "Kd", style1); GUIStyle style2 = new GUIStyle(); style2.alignment = TextAnchor.MiddleLeft; style2.fontStyle = FontStyle.Bold; style2.normal.textColor = Color.yellow; style2.fontSize = 9; GUI.TextField(new Rect(235 + x0, 5 + y0, 60, 10), pid.Kp.ToString(), style2); GUI.TextField(new Rect(235 + x0, 20 + y0, 60, 10), pid.Ki.ToString(), style2); GUI.TextField(new Rect(235 + x0, 35 + y0, 60, 10), pid.Kd.ToString(), style2); GUI.Label(new Rect(0 + x0, -8 + y0, 200, 10), _names[i++], style2); } } } }</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title"> Ship          :</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Assets.Scripts.SpaceShooter.Bodies</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Ship</span></span> : <span class="hljs-title"><span class="hljs-title">BaseBody</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject _flame; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _movement = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _target = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _targetAngle = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _angle = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _thrust = <span class="hljs-number"><span class="hljs-number">1f</span></span>; [Header(<span class="hljs-string"><span class="hljs-string">"PID"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SimplePID _angleController = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimplePID(<span class="hljs-number"><span class="hljs-number">0.1f</span></span>,<span class="hljs-number"><span class="hljs-number">0f</span></span>,<span class="hljs-number"><span class="hljs-number">0.05f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SimplePID _angularVelocityController = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimplePID(<span class="hljs-number"><span class="hljs-number">0f</span></span>,<span class="hljs-number"><span class="hljs-number">0f</span></span>,<span class="hljs-number"><span class="hljs-number">0f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _torque = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _Torque { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _torque; } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector2 _force = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 _Force { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _force; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FixedUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _torque = ControlRotate(_targetAngle, _thrust); _force = ControlForce(_movement, _thrust); _rb2d.AddTorque(_torque); _rb2d.AddRelativeForce(_force); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ControlRotate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> targetAngle, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thrust</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> CO = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> MV = <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt = Time.fixedDeltaTime; _angle = _myTransform.eulerAngles.z; <span class="hljs-comment"><span class="hljs-comment">//   float angleError = Mathf.DeltaAngle(_angle, targetAngle); float torqueCorrectionForAngle = _angleController.Update(angleError, _angle, dt); //   float angularVelocityError = -_rb2d.angularVelocity; float torqueCorrectionForAngularVelocity = _angularVelocityController.Update(angularVelocityError, -angularVelocityError, dt); //   CO = torqueCorrectionForAngle + torqueCorrectionForAngularVelocity; //   100 CO = Mathf.Round(100f * CO) / 100f; // MV = CO; if (CO &gt; thrust) MV = thrust; if (CO &lt; -thrust) MV = -thrust; return MV; } public Vector2 ControlForce(Vector2 movement, float thrust) { Vector2 MV = new Vector2(); if (movement != Vector2.zero) { if (_flame != null) { _flame.SetActive(true); } } else { if (_flame != null) { _flame.SetActive(false); } } MV = movement * thrust; return MV; } public void Update() { } } }</span></span></code> </pre> </div></div><br><p>  ,    ,   : </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/oVL0tvluUe8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p> <em>     ,   ,        -       ‚Äî      -.       (-,      ),     ,   :</em> <br><img src="https://habrastorage.org/webt/di/a_/gg/dia_gghb09l66emkbqqf2dl022i.jpeg" alt="image"></p><br><h1>   </h1><br><ol><li> <a href="https://en.wikipedia.org/wiki/PID_controller">    </a> </li><li> <a href="http://saba.kntu.ac.ir/eecd/pcl/download/PIDtutorial.pdf">PID tutorial</a> </li><li> <a href="https://www.cta.ru/cms/f/364276.pdf">-:  .</a>  <a href="https://www.cta.ru/cms/f/364276.pdf">Part 1</a> </li><li> <a href="https://www.cta.ru/cms/f/374303.pdf">-:  .</a>  <a href="https://www.cta.ru/cms/f/374303.pdf">Part 2</a> </li><li> <a href="http://manuals.chudov.com/Servo-Tuning/PID-without-a-PhD.pdf">PID Without a PhD</a> </li><li> <a href="http://roboforum.ru/wiki/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE%25D0%25B4_%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D1%258C%25D0%25B8_%2522%25D0%259F%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D0%25BE_%25D0%25BE_%25D0%259F%25D0%2598%25D0%2594-%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC%25D0%25B0%25D1%2585%2522">PID Without a PhD.</a>  <a href="http://roboforum.ru/wiki/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE%25D0%25B4_%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D1%258C%25D0%25B8_%2522%25D0%259F%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D0%25BE_%25D0%25BE_%25D0%259F%25D0%2598%25D0%2594-%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC%25D0%25B0%25D1%2585%2522">Transfer</a> </li><li> <a href="http://controlguru.com/pid-control-and-derivative-on-measurement/">Derivative Action and PID Control</a> </li><li> <a href="http://controlsystemslab.com/category/articles/control-enginnering/pid/">Control System Lab: PID</a> </li><li> <a href="https://habrahabr.ru/post/145991/">-  </a> </li><li> <a href="https://habrahabr.ru/post/143388/">     </a> </li><li> <a href="https://habrahabr.ru/post/227425/">   Arduino ( 1)</a> </li><li> <a href="https://habrahabr.ru/post/267791/">   Unity + OpenCV ( 1)</a> </li><li>  ..      </li><li> <a href="http://ieeexplore.ieee.org/document/1453566/">PID control system analysis, design, and technology</a> </li><li> Aidan O'Dwyer. Handbook of PI and PID Controller Tuning Rules (3rd ed.) </li><li> <a href="https://www.codeproject.com/Articles/36459/PID-process-control-a-Cruise-Control-example">PID process control, a ‚ÄúCruise Control‚Äù example</a> </li><li> <a href="https://www.mathworks.com/discovery/pid-control.html">https://www.mathworks.com/discovery/pid-control.html</a> </li><li> <a href="http://scilab.ninja/study-modules/scilab-control-engineering-basics/module-4-pid-control/">http://scilab.ninja/study-modules/scilab-control-engineering-basics/module-4-pid-control/</a> </li><li> <a href="">https://sourceforge.net/p/octave/control/ci/default/tree/inst/optiPID.m</a> </li></ol><br><p> <strong>     </strong> <br> <a href="http://luminaryapps.com/blog/use-a-pid-loop-to-control-unity-game-objects/">http://luminaryapps.com/blog/use-a-pid-loop-to-control-unity-game-objects/</a> <br> <a href="http://www.habrador.com/tutorials/pid-controller/3-stabilize-quadcopter/">http://www.habrador.com/tutorials/pid-controller/3-stabilize-quadcopter/</a> <br> <a href="https://www.gamedev.net/articles/programming/math-and-physics/pid-control-of-physics-bodies-r3885/">https://www.gamedev.net/articles/programming/math-and-physics/pid-control-of-physics-bodies-r3885/</a> <br> <a href="https://ksp-kos.github.io/KOS/tutorials/pidloops.html">https://ksp-kos.github.io/KOS/tutorials/pidloops.html</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/345972/">https://habr.com/ru/post/345972/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345958/index.html">How I wrote the game in 6 days</a></li>
<li><a href="../345960/index.html">ICA (state machine) for teapots on the example of the class "button" in the arduino</a></li>
<li><a href="../345962/index.html">Coding with the withdrawal of information. Part 2, Mathematical</a></li>
<li><a href="../345964/index.html">On the question of the principles of asynchronous solutions</a></li>
<li><a href="../345968/index.html">System for collecting, analyzing, notifying and visualizing logs on syslog-ng, elasticsearch, kibana, grafana, elasticalert</a></li>
<li><a href="../345974/index.html">Akumuli - time series database</a></li>
<li><a href="../345976/index.html">Docker is dead</a></li>
<li><a href="../345978/index.html">What are the images of the future we draw the largest IT companies</a></li>
<li><a href="../345982/index.html">Emotional burnout volunteers</a></li>
<li><a href="../345984/index.html">What else you need to learn about OpenCL C before you write on it</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>