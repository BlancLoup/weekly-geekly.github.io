<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I decide tickets</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It just so happened that for the last 3 years I have exclusively solved the problems of users. Not as an enikeyschik, at a higher level, but this does...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I decide tickets</h1><div class="post__text post__text-html js-mediator-article">  It just so happened that for the last 3 years I have exclusively solved the problems of users.  Not as an enikeyschik, at a higher level, but this does not change the fact. <br><br>  Problems are different.  Those related to software, hardware, or brain bugs of a client have to be localized and passed on to whom.  This is not so interesting. <br><br>  Much more interesting zamorachistye puzzles. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Like that: <br>  OSPF peering rises and falls over time. <br>  Routes received by Route Reflector via BGP are not advertised to clients. <br>  <a href="http://nag.ru/articles/article/22780/nastroyka-inter-as-option-c-s-ispolzovaniem-rsvp-na-oborudovanii-huawei.html">Inter-AS Option C does not work</a> . <br><br>  These are configuration problems, as a rule.  I look at the wording of the request, I understand that I don‚Äôt understand absolutely nothing about this, my hands are falling.  This is a normal situation when the task seems huge and you do not know which way to approach it. <br><a name="habracut"></a><br>  The most difficult thing is to take the phone and call the customer.  After all, he is obviously more experienced than me, since he set it up, but I have not yet. <br><br>  Well, let's take as an illustration some simple ticket. <br>  <i>MPLS TE FastReroute (FRR) does not work.</i>  <i>This is a technology that allows traffic to switch to a different path for a few milliseconds, until IGP sets a new route.</i> <br><br>  I do not know what question to ask him?  How to understand the essence of the problem, even if I do not even imagine the work of this mechanism <br>  This is the <b>first stage</b> - I take the documentation and start smoking.  What is there with us?  Traffic engineering ??  Ok: (3-4 hours to read and understand (well, here it should be noted that this is still not the first acquaintance with the topic - in general, I am familiar with everything). <br><br>  <i>Minor priority request, so I can afford such time waste.</i> <br><br>  When having a presentation, you can already call the customer and carefully find out the details.  Call - the <b>second stage</b> . <br>  At this moment, he begins to pour terms, to talk about his network, which at this stage I still have very vague ideas.  If I understand this topic at least somewhat, ask questions that lead me and the engineer to the right direction. <br>  One should not be afraid to appear stupid.  I am afraid, but the question must be solved). <br>  When the problem has cleared up, I repeat it to the engineer in the way I understood and wait for confirmation that I am right. <br>  Here lies the intersnaya problem: not everyone is ready to listen to me or understand: <br><br>  Some interrupt and again tell their vision, which generally coincides with mine, but I would like to adhere to the rule of double handshake - 1) I understood him, 2) he understood that I understood correctly. <br>  Others say, ‚ÄúYes, yes, that's right,‚Äù and after that, something obviously contradictory is explained.  After asking questions, they again say ‚ÄúYes‚Äù and again explain everything differently. <br><br>  Here it is important not to succumb to weakness and achieve complete understanding on both sides, otherwise I will solve another problem or go to the wrong direction. <br><br>  <i>In the case of my example, there was such a scheme:</i> <i><br><img src="https://habrastorage.org/getpro/habr/post_images/68f/1b0/7ea/68f1b07ea01e1f83c723a1bbe6b55256.png"><br></i>  <i>And it was important for me to understand that FRR does not work exactly between the two nodes, but it works quite well inside the ring.</i>  <i>After my questions, the engineer confirmed this.</i> <br><br>  At the end of the conversation, I ask you to send some information to me (network diagram, diagnostic information, logs, etc.). <br><br>  After the call, it is necessary to write a letter where to repeat your thoughts and requests.  Because a telephone conversation is a telephone conversation, and the mail is at least somehow recorded and remains on the screen of the engineer. <br>  Otherwise, he will forget to send or not send everything. <br><br>  In addition, it is very important to save the query history.  I could keep an Excel file with all the information on the ticket: when I wrote, to whom they answered when I escalated or frozen.  But I lack composure - he needs too much attention. <br>  But the history of correspondence is stored for years.  And if after 9 months the manager asks me why there was such a delay in the decision, I will open the archive and show that I requested the data on 01/01/2013 at 00:20, and the engineer answered me only on 10/01/2013. <br><br>  But here again there is a place for the facepalm.  You write in the letter point by point, for example: <br><br><blockquote>  1) When did the problem arise for the first time?  Have any changes been made before this? <br>  2) Provide a network map with IP addresses and interfaces <br>  3) Send the log file from the memory card <br>  4) Send diagnostic information. <br>  5) Is it possible to remotely access? <br></blockquote><br>  In response, comes: <br><blockquote>  I described the scheme to you by phone: router-switch-router 2-switch 2- (STP) -client. <br></blockquote><br>  In the attachment of one file with the diagnosis and all.  What did he give me useful?  Only understanding that it will be difficult and you need to call him again. <br>  Glory IP, such a little. <br>  <i>In the example, the engineer promptly sent both the configuration, the scheme, and the desired operation algorithm.</i> <br><br>  So, now, I have a general idea of ‚Äã‚Äãthe problem, the network diagram and the desires of the client. <br><br>  <b>The third stage</b> is a more detailed reading of documentation, configuration examples.  Search for information on the topic in cases that other engineers wrote to simplify our lives, and general information from Google for common development and see how it is implemented by other vendors. <br><br>  Usually, new questions arise after this, we repeat the iteration with the call and letters, if there is not a remote one. <br><br>  Often at this stage the problem is solved.  An error was found in the configuration or (admittedly, much less frequently) a hole in the engineer‚Äôs brain. <br><br><blockquote>  As for the last point, a vivid example: <br><br>  Me: ‚ÄúYou have the same Router ID in OSPF‚Äù <br>  Engineer: ‚ÄúWell, yes, so what?  They are in different zones. ‚Äù <br>  Me: ‚ÄúRouter ID must be unique within the entire OSPF domain‚Äù <br>  Engineer: ‚ÄúNo, no.  Of course, there may be the same Router ID in different Area. ‚Äù <br>  Me: Link to documentation and Wikipedia. <br>  Engineer: "I will check, but I used to do that before - there were no problems." <br></blockquote><br>  But there are also quite complex problems - everything is set up correctly, according to all data, logs and statisticians everything is in order, but there is a problem. <br><br>  And then TShoot begins - the <b>fourth stage</b> . <br><br>  Well, if there is a remote.  But sometimes customers answer: ‚ÄúWe‚Äôve told you not the first time - there‚Äôs no remote.  We have provided you with configuration and diagnostics. ‚Äù <br><br>  In addition to digging in another console, I connect a software simulator of the equipment. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/91b/8ec/f54/91b8ecf54c6fc0a8d031654d008cd9b5.png"><br><br>  I watch how the packets run, take down the dumps, check if the protocol fails at what stage. <br>  If the problem is fixed only on a certain hardware or software version, I appeal to the real lab with real hardware. <br>  It happens that in order to reproduce the problem, you need to use eight devices, update software on them, upload licenses. <br><br>  <i>In the example, the explicit clue is the presence of OSPF division into zones.</i>  <i>At the same time, the FRR works for the customer normally inside the zone and does not work between Area 0 and 1</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/012/426/46d/01242646d61c4d14d2b7d093cc7b6b29.png"><br><br>  Then I turn on psychology - I open an outlook and start writing a letter to the customer with a detailed explanation of what is happening and what I discovered.  I paint everything in words, with excerpts from the logs, configuration, and a windshark. <br>  Describing, I run into some strange question that I can not explain to the customer.  Then I continue the simulation further, read the manuals until I can resolve the difficulty.  I describe it and the new cycle. <br><br>  As a result, I often do not send a letter, but I am significantly getting closer to the root of the problem. <br><br>  <i>By logic, I understand that CSPF (Constrained Shortest Path First) relies in its work on the SPF algorithm, which, as is well known, works only within one zone.</i>  <i>About the remaining zones, he knows only summarized routes - not a topology.</i>  <i>Accordingly, he cannot build the shortest end-to-end path.</i> <i><br></i>  <i>I collected this scheme, checked that everything is really so.</i>  <i>Found in the documentation of the mention of this and sent to the customer.</i> <i><br></i> <br><br>  Well then: <br><br>  Me: ‚Äúrun the following command: <b>[R1] Make me feel good</b> ‚Äù <br>  Customer: <br><img src="https://habrastorage.org/getpro/habr/post_images/ec6/ed3/23d/ec6ed323d9c4efb587e1d51b63d294fb.jpg"><br><br>  However, the request is not always voiced in the ticket - the essence.  Answering "no, it won't work like that" you need to offer a solution.  And iteration over the new one. <br>  <i>Solution on my request: instead of FRR, use two LSPs in the framework of one TE-tunnel - the main and the reserve one.</i>  <i>For this purpose, an explicit-path is built in the loose mode.</i>  <i>This is an end-to-end protection between two nodes</i> . <br><br>  Here are a couple of requests that were solved in this way: <br><br>  1) New LSPs are not built. <br>  Note: until this morning everything worked and was built.  Older LSPs also function and do not flap. <br>  2) Through the MPLS network is organized L2VPN.  On the client side, packets larger than 1,546 bytes are not skipped. <br>  3) There is a network through which the video is transmitted through a multicast.  When configuring VRRP on two routers, the client for which they are gateways receives two copies of video traffic (one for each router). </div><p>Source: <a href="https://habr.com/ru/post/169245/">https://habr.com/ru/post/169245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169233/index.html">Bitrix + Bitcoin. Part 2. The choice of processing</a></li>
<li><a href="../169237/index.html">Threats of January 2013 and our recommendations on Conficker</a></li>
<li><a href="../169239/index.html">300 million users and transition to WebKit</a></li>
<li><a href="../169241/index.html">Storing sessions in Redis and sharing them in PHP and Tomcat</a></li>
<li><a href="../169243/index.html">Moving from CMD to PowerShell: a guide to commands and cmdlets for administering AD</a></li>
<li><a href="../169249/index.html">A mini-game with head position tracking or how I met headtrackr.js</a></li>
<li><a href="../169251/index.html">Diskless booting using PXE and iSCSI using Ubuntu as an example</a></li>
<li><a href="../169253/index.html">Moving from Flash to Edge - comparing the two platforms for creating animation</a></li>
<li><a href="../169255/index.html">Listick.ru - online notes service</a></li>
<li><a href="../169257/index.html">Creating a virtual wave</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>