<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make from 123456789 the number 100 or 0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the end of the first chapter, I found an example of the following ‚ÄúArithmetic curiosities‚Äù in ‚ÄúEntertaining arithmetic‚Äù of the famous popularizer o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make from 123456789 the number 100 or 0</h1><div class="post__text post__text-html js-mediator-article">  At the end of the first chapter, I found an example of the following ‚ÄúArithmetic curiosities‚Äù in ‚ÄúEntertaining arithmetic‚Äù of the famous popularizer of sciences Yakov Isidorovich Perelman: <br><br>  100 = 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 * 9 <br>  100 = 12 + 3-4 + 5 + 67 + 8 + 9 <br>  100 = 12-3-4 + 5-6 + 7 + 89 <br>  100 = 123 + 4-5 + 67-89 <br>  100 = 123-45-67 + 89 <br><br>  The first of these solutions I found in elementary school at the Mathematics Olympiad, and now thinking that maybe this victory affected my future development, I decided to pay tribute to this task and find all possible solutions by writing the appropriate Python script. <br><a name="habracut"></a><br>  Let the task be set as follows: there is a string of numbers 123456789 (even if I really am not very interested in zero), between which you can put 4 arithmetic operations (+, -, *, /) anywhere or not put anything (that is, put an empty string, then two- and more-digit numbers are formed) so that the total expression will result in 100, as in the examples in the book above.  Nothing else is possible, no brackets, no permutations, no duplicates, no throwings. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I did not learn programming, and realized the task as I came up with.  Therefore, I have a question: <b>‚ÄúHow could this be done better?‚Äù</b> . <br><br>  And I came up with this: in order to sort through all the possible inserts of space characters (there are five of them: either an empty string or +, -, *, /), I presented them as options for the number in base 5, padded with zeros on the left.  The length of such a number is eight characters, since there are nine digits, and then there are eight spaces between them.  The zeros correspond to empty strings, all others to arithmetic operations.  Here's what happened: <br><br><blockquote><code><a href="http://s-c.me/12354/s"></a> <a href="http://s-c.me/12354/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">from</font> __future__ <font color="#0000ff">import</font> division <font color="#696969"># for 2.x version</font> &lt;br/&gt; &lt;br/&gt;s = <font color="#008000">'123456789'</font> &lt;br/&gt;d = { <font color="#008000">'0'</font> : <font color="#008000">''</font> , <font color="#008000">'1'</font> : <font color="#008000">'+'</font> , <font color="#008000">'2'</font> : <font color="#008000">'-'</font> , <font color="#008000">'3'</font> : <font color="#008000">'*'</font> , <font color="#008000">'4'</font> : <font color="#008000">'/'</font> }&lt;br/&gt;sum_num = <font color="#008000">100</font> &lt;br/&gt;count = <font color="#008000">0</font> &lt;br/&gt; &lt;br/&gt; <font color="#0000ff">def</font> <font color="#cc6633">to_new_base</font> (n, new_base):&lt;br/&gt;    s = []&lt;br/&gt; <font color="#0000ff">if</font> n == <font color="#008000">0</font> :&lt;br/&gt;        s.append( <font color="#008000">'0'</font> )&lt;br/&gt; <font color="#0000ff">while</font> n:&lt;br/&gt;        s.append( <b>str</b> (n % new_base))&lt;br/&gt;        n = n // new_base&lt;br/&gt;    num = <font color="#008000">'{0:0&gt;8}'</font> .format( <font color="#008000">''</font> .join(s[::- <font color="#008000">1</font> ]))&lt;br/&gt; <font color="#0000ff">return</font> num&lt;br/&gt; &lt;br/&gt; &lt;br/&gt; <font color="#0000ff">for</font> n <font color="#0000ff">in</font> <b>xrange</b> ( <b>int</b> ( <font color="#008000">'44444444'</font> , <font color="#008000">5</font> )):&lt;br/&gt;    num = <font color="#cc6633">to_new_base</font> (n, <font color="#008000">5</font> )&lt;br/&gt;    expr = <font color="#008000">''</font> &lt;br/&gt; <font color="#0000ff">for</font> i, j <font color="#0000ff">in</font> <b>zip</b> (s, num):&lt;br/&gt;        expr += i + d[j]&lt;br/&gt;    expr += <font color="#008000">'9'</font> &lt;br/&gt; <font color="#0000ff">if</font> <b>eval</b> (expr) == sum_num:&lt;br/&gt; <font color="#0000ff">print</font> ( <font color="#008000">'{0} = {1}'</font> .format(expr, sum_num))&lt;br/&gt;        count += <font color="#008000">1</font> &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; <font color="#0000ff">print</font> <font color="#008000">'So, {0} expressions for {1}'</font> .format(count, sum_num) &lt;br/&gt;</font></code> </blockquote> <br><br>  For 100 there were 101 such solutions, and some of them are quite funny, especially with fractions: <br><br>  123 + 45-67 + 8-9 = 100 <br>  123 + 4-5 + 67-89 = 100 <br>  123 + 4 * 5-6 * 7 + 8-9 = 100 <br>  123-45-67 + 89 = 100 <br>  123-4-5-6-7 + 8-9 = 100 <br>  12 + 34 + 5 * 6 + 7 + 8 + 9 = 100 <br>  12 + 34-5 + 6 * 7 + 8 + 9 = 100 <br>  12 + 34-5-6 + 7 * 8 + 9 = 100 <br>  12 + 34-5-6-7 + 8 * 9 = 100 <br>  12 + 3 + 4 + 5-6-7 + 89 = 100 <br>  12 + 3 + 4-56 / 7 + 89 = 100 <br>  12 + 3-4 + 5 + 67 + 8 + 9 = 100 <br>  12 + 3 * 45 + 6 * 7-89 = 100 <br>  12 + 3 * 4 + 5 + 6 + 7 * 8 + 9 = 100 <br>  12 + 3 * 4 + 5 + 6-7 + 8 * 9 = 100 <br>  12 + 3 * 4-5-6 + 78 + 9 = 100 <br>  12-3 + 4 * 5 + 6 + 7 * 8 + 9 = 100 <br>  12-3 + 4 * 5 + 6-7 + 8 * 9 = 100 <br>  12-3-4 + 5-6 + 7 + 89 = 100 <br>  12-3-4 + 5 * 6 + 7 * 8 + 9 = 100 <br>  12-3-4 + 5 * 6-7 + 8 * 9 = 100 <br>  12 * 3-4 + 5-6 + 78-9 = 100 <br>  12 * 3-4-5-6 + 7 + 8 * 9 = 100 <br>  12 * 3-4 * 5 + 67 + 8 + 9 = 100 <br>  12/3 + 4 * 5-6-7 + 89 = 100 <br>  12/3 + 4 * 5 * 6-7-8-9 = 100 <br>  12/3 + 4 * 5 * 6 * 7 / 8-9 = 100 <br>  12/3/4 + 5 * 6 + 78-9 = 100 <br>  1 + 234-56-7-8 * 9 = 100 <br>  1 + 234 * 5 * 6/78 + 9 = 100 <br>  1 + 234 * 5 / 6-7-89 = 100 <br>  1 + 23-4 + 56 + 7 + 8 + 9 = 100 <br>  1 + 23-4 + 56/7 + 8 * 9 = 100 <br>  1 + 23-4 + 5 + 6 + 78-9 = 100 <br>  1 + 23-4-5 + 6 + 7 + 8 * 9 = 100 <br>  1 + 23 * 4 + 56/7 + 8-9 = 100 <br>  1 + 23 * 4 + 5-6 + 7-8 + 9 = 100 <br>  1 + 23 * 4-5 + 6 + 7 + 8-9 = 100 <br>  1 + 2 + 34-5 + 67-8 + 9 = 100 <br>  1 + 2 + 34 * 5 + 6-7-8 * 9 = 100 <br>  1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 * 9 = 100 <br>  1 + 2 + 3-45 + 67 + 8 * 9 = 100 <br>  1 + 2 + 3-4 + 5 + 6 + 78 + 9 = 100 <br>  1 + 2 + 3-4 * 5 + 6 * 7 + 8 * 9 = 100 <br>  1 + 2 + 3 * 4-5-6 + 7 + 89 = 100 <br>  1 + 2 + 3 * 4 * 56 / 7-8 + 9 = 100 <br>  1 + 2 + 3 * 4 * 5/6 + 78 + 9 = 100 <br>  1 + 2-3 * 4 + 5 * 6 + 7 + 8 * 9 = 100 <br>  1 + 2-3 * 4-5 + 6 * 7 + 8 * 9 = 100 <br>  1 + 2 * 34-56 + 78 + 9 = 100 <br>  1 + 2 * 3 + 4 + 5 + 67 + 8 + 9 = 100 <br>  1 + 2 * 3 + 4 * 5-6 + 7 + 8 * 9 = 100 <br>  1 + 2 * 3-4 + 56/7 + 89 = 100 <br>  1 + 2 * 3-4-5 + 6 + 7 + 89 = 100 <br>  1 + 2 * 3 * 4 * 5/6 + 7 + 8 * 9 = 100 <br>  1-23 + 4 * 5 + 6 + 7 + 89 = 100 <br>  1-23-4 + 5 * 6 + 7 + 89 = 100 <br>  1-23-4-5 + 6 * 7 + 89 = 100 <br>  1-2 + 3 + 45 + 6 + 7 * 8-9 = 100 <br>  1-2 + 3 * 4 + 5 + 67 + 8 + 9 = 100 <br>  1-2 + 3 * 4 * 5 + 6 * 7 + 8-9 = 100 <br>  1-2 + 3 * 4 * 5-6 + 7 * 8-9 = 100 <br>  1-2-34 + 56 + 7 + 8 * 9 = 100 <br>  1-2-3 + 45 + 6 * 7 + 8 + 9 = 100 <br>  1-2-3 + 45-6 + 7 * 8 + 9 = 100 <br>  1-2-3 + 45-6-7 + 8 * 9 = 100 <br>  1-2-3 + 4 * 56/7 + 8 * 9 = 100 <br>  1-2-3 + 4 * 5 + 67 + 8 + 9 = 100 <br>  1-2 * 3 + 4 * 5 + 6 + 7 + 8 * 9 = 100 <br>  1-2 * 3-4 + 5 * 6 + 7 + 8 * 9 = 100 <br>  1-2 * 3-4-5 + 6 * 7 + 8 * 9 = 100 <br>  1 * 234 + 5-67-8 * 9 = 100 <br>  1 * 23 + 4 + 56/7 * 8 + 9 = 100 <br>  1 * 23 + 4 + 5 + 67-8 + 9 = 100 <br>  1 * 23-4 + 5-6-7 + 89 = 100 <br>  1 * 23-4-56 / 7 + 89 = 100 <br>  1 * 23 * 4-56 / 7/8 + 9 = 100 <br>  1 * 2 + 34 + 56 + 7-8 + 9 = 100 <br>  1 * 2 + 34 + 5 + 6 * 7 + 8 + 9 = 100 <br>  1 * 2 + 34 + 5-6 + 7 * 8 + 9 = 100 <br>  1 * 2 + 34 + 5-6-7 + 8 * 9 = 100 <br>  1 * 2 + 34-56 / 7 + 8 * 9 = 100 <br>  1 * 2 + 3 + 45 + 67-8-9 = 100 <br>  1 * 2 + 3 + 4 * 5 + 6 + 78-9 = 100 <br>  1 * 2 + 3-4 + 5 * 6 + 78-9 = 100 <br>  1 * 2 + 3 * 4 + 5-6 + 78 + 9 = 100 <br>  1 * 2-3 + 4 + 56/7 + 89 = 100 <br>  1 * 2-3 + 4-5 + 6 + 7 + 89 = 100 <br>  1 * 2-3 + 4 * 5-6 + 78 + 9 = 100 <br>  1 * 2 * 34 + 56-7-8-9 = 100 <br>  1 * 2 * 3 + 4 + 5 + 6 + 7 + 8 * 9 = 100 <br>  1 * 2 * 3-45 + 67 + 8 * 9 = 100 <br>  1 * 2 * 3-4 + 5 + 6 + 78 + 9 = 100 <br>  1 * 2 * 3-4 * 5 + 6 * 7 + 8 * 9 = 100 <br>  1 * 2 * 3 * 4 + 5 + 6 + 7 * 8 + 9 = 100 <br>  1 * 2 * 3 * 4 + 5 + 6-7 + 8 * 9 = 100 <br>  1 * 2 * 3 * 4-5-6 + 78 + 9 = 100 <br>  1 * 2/3 + 4 * 5/6 + 7 + 89 = 100 <br>  1/2 * 34-5 + 6-7 + 89 = 100 <br>  1/2 * 3/4 ‚Äã‚Äã* 56 + 7 + 8 * 9 = 100 <br>  1/2/3 * 456 + 7 + 8 + 9 = 100 <br><br>  Then I decided to view the complete dependence of the number of possible solutions of such expansions on all possible sums, including non-integer ones.  For this, the loop has become a function that works to fill the dictionary: <br><br><blockquote> <code><a href="http://s-c.me/12351/s"></a> <a href="http://s-c.me/12351/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt;figure = {}&lt;br/&gt;xlist = []&lt;br/&gt;ylist = []&lt;br/&gt; &lt;br/&gt; <font color="#0000ff">def</font> <font color="#cc6633">func</font> ():&lt;br/&gt; <font color="#0000ff">for</font> n <font color="#0000ff">in</font> <b>range</b> ( <b>int</b> ( <font color="#008000">'44444444'</font> , <font color="#008000">5</font> )):&lt;br/&gt;        num = to_new_base(n, <font color="#008000">5</font> )&lt;br/&gt;        expr = <font color="#008000">''</font> &lt;br/&gt; <font color="#0000ff">for</font> i, j <font color="#0000ff">in</font> <b>zip</b> (line, num):&lt;br/&gt;            expr += i + d[j]&lt;br/&gt;        expr += <font color="#008000">'9'</font> &lt;br/&gt;        num_sum = <b>eval</b> (expr)&lt;br/&gt; <font color="#0000ff">if</font> num_sum <font color="#0000ff">in</font> figure:&lt;br/&gt;            figure[num_sum] += <font color="#008000">1</font> &lt;br/&gt; <font color="#0000ff">else</font> :&lt;br/&gt;            figure[num_sum] = <font color="#008000">1</font> &lt;br/&gt; &lt;br/&gt; <font color="#0000ff">for</font> key <font color="#0000ff">in</font> <b>sorted</b> (figure):&lt;br/&gt;        xlist.append(key)&lt;br/&gt;        ylist.append(figure[key]) &lt;br/&gt;</font></code> </blockquote> <br><br>  Dependency lists ylist = f (xlist) are drawn using matplotlib.  Dependency has a peak at zero with 167 solutions: <br><br><img src="https://habrastorage.org/storage/d324fe00/274cfe24/d2d8f2bd/74c452de.png"><br><br>  The left branch is not symmetrical to the right, because we can‚Äôt put a minus before the option 1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9.  The closer to zero, the more often there are real numbers that can be represented in several possible ways. <br><br><img src="https://habrastorage.org/storage/521809f2/01be9207/ad8bfee7/da1022da.png"><br><br><img src="https://habrastorage.org/storage/dde6a172/482d2638/38647f32/d53aff2a.png"><br><br><img src="https://habrastorage.org/storage/93b4571f/08a75f98/2f3845c0/c76aed27.png"><br><br><img src="https://habrastorage.org/storage/654cb467/df1172b0/b910a16b/1c54f883.png"><br><br>  Separate consideration for solutions in the area [-1.1, 1.1]: the greatest number of solutions falls on zero, then on the integers -1, 1, then on half-integer -0.5, 0.5. <br><br><img src="https://habrastorage.org/storage/2a142ba5/948afeba/5ec5969d/0db2460d.png"><br><br>  It is verified that any of the integers from 0 to 100 can be expressed in this way: <br><br><img src="https://habrastorage.org/storage/c59659e6/72bbb9f7/58ba1ac2/583bd96f.png"><br><br>  Maybe this task will be pleasant and just to ask someone, such as your own child or friend, for the counting speed and ability to handle numbers, as I once was in elementary school and I needed to find one solution, though as I see now, there were a lot more of them.  And you can try yourself in your mind or on paper to find at least one of the 167 solutions for zero. <br><br>  UPD: Do not think that all these charts are something serious.  There is nothing serious here, except for the formulation of the problem, the code and the proposal for the pythonists to try to write something faster. <br><br>  UPD2: A great option for improving the code was written <a href="http://habrahabr.ru/blogs/algorithm/115066/">in the comments</a> <a href="https://habrahabr.ru/users/hellman/" class="user_link">hellman</a> </div><p>Source: <a href="https://habr.com/ru/post/115066/">https://habr.com/ru/post/115066/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../115058/index.html">Blogspot service banned in Turkey</a></li>
<li><a href="../115060/index.html">Ubuntu 11.10 will be codenamed Oneiric Ocelot</a></li>
<li><a href="../115061/index.html">WordPress.com has undergone a powerful DDoS attack</a></li>
<li><a href="../115062/index.html">Digia will deal with commercial licensing and paid support for Qt instead of Nokia</a></li>
<li><a href="../115063/index.html">Next after natty</a></li>
<li><a href="../115068/index.html">New voice on Google.Translate</a></li>
<li><a href="../115071/index.html">Google will close Gizmo5</a></li>
<li><a href="../115073/index.html">Skype is experimenting with advertising in its client.</a></li>
<li><a href="../115074/index.html">Free BlackBerry PlayBook for Developers</a></li>
<li><a href="../115075/index.html">Who will win? - II</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>