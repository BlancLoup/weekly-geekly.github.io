<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>School DDoS and whether to be afraid of him</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The modern Internet offers four hundred relatively fair ways to make money. Unfortunately, not all greedy characters are limited to them. Fortunately,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>School DDoS and whether to be afraid of him</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/8b134359/06232228/03cc769b/be803904.png" align="left">  The modern Internet offers four hundred relatively fair ways to make money.  Unfortunately, not all greedy characters are limited to them.  Fortunately, only a few of them are qualified to cause serious harm.  Nevertheless, their actions for untrained people can be quite destructive.  Under the cut, you will find a sentimental story with threats, blackmail, a perfidious attack, and traditional cinema happyness. <br><a name="habracut"></a><br>  One of our customers has an online store selling computer equipment.  On the morning of Friday, November 25th, he received a threatening letter: <br><br><blockquote>  <i>Hello!</i> <i><br><br></i>  <i>You need to pay $ 200 (equivalent in Ukrainian hryvnia - 1600 UAH).</i>  <i>You need to go to the terminal (you can find them in any super market) and choose WebMoney payment.</i>  <i>We draw your attention to the fact that it is necessary not to transfer funds to the cashier directly, but to buy vouchers (WM cards) for the required amount.</i>  <i>In the terminal, choose WebMoney payment and buy vouchers, then on the check there will be numbers and voucher codes that you must send in the letter.</i>  <i>Please note that not all terminals allow you to buy vouchers vm, but most.</i>  <i>Payment must be made within 24 hours. Otherwise, your site will be attacked by a powerful DDoS attack, due to which your site will no longer be available for a long time, up to several weeks or even more.</i>  <i>Attack will not stop.</i> </blockquote>  <font color="#7F7F7F">- spelling and punctuation saved.</font> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The attackers did not bother to send a separate letter to each victim, so the addresses of several unrelated online stores were listed in the recipient's field. <br><br>  His natural reaction was not quite polite refusal.  Having considered the incident settled, he safely forgot it ... Until the evening. <br><br>  In the evening, at 17:09, a DDoS attack began, small but sufficient to cause interruptions in the work of the site.  Within a quarter of an hour, your humble servant was informed that something was happening. <br><br>  A quick glance at the Apache logs immediately revealed a pattern in the actions of the intruders: <br><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">XXXX</span></span> - - [<span class="hljs-number"><span class="hljs-number">25</span></span>/Nov/<span class="hljs-number"><span class="hljs-number">2011</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> +<span class="hljs-number"><span class="hljs-number">0200</span></span>] <span class="hljs-string"><span class="hljs-string">"GET //user-agreement.html HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">32283</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Opera/9.80 (Windows NT 5.1; U; ru) Presto/2.6.30 Version/10.63"</span></span> YYYY - - [<span class="hljs-number"><span class="hljs-number">25</span></span>/Nov/<span class="hljs-number"><span class="hljs-number">2011</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span>:<span class="hljs-number"><span class="hljs-number">18</span></span> +<span class="hljs-number"><span class="hljs-number">0200</span></span>] <span class="hljs-string"><span class="hljs-string">"GET //user-agreement.html HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">32283</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Opera/9.80 (Windows NT 5.1; U; ru) Presto/2.6.30 Version/10.63"</span></span> ZZZZ - - [<span class="hljs-number"><span class="hljs-number">25</span></span>/Nov/<span class="hljs-number"><span class="hljs-number">2011</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> +<span class="hljs-number"><span class="hljs-number">0200</span></span>] <span class="hljs-string"><span class="hljs-string">"GET //user-agreement.html HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">32283</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Opera/9.80 (Windows NT 5.1; U; ru) Presto/2.6.30 Version/10.63"</span></span></code> </pre> <br>  <font color="#7F7F7F">I think people familiar with setting up a web server already know what will happen next.</font>  <font color="#7F7F7F">But I will take it upon myself to continue, suddenly a ready-made recipe will come in handy for someone.</font> <br><br>  It is immediately evident that despite the fact that the attack was carried out from several IP addresses, the attacked URL and the browser's User-Agent were used the same.  It is self-evident that this data will be used to eliminate pests.  Since we want to protect ordinary users from our small conflict as much as possible, we will use only the User-Agent, since it is copied from the rather old version of the opera. <br><br>  In order to amuse the attackers' pride, a stub out-of-order.html file was created at the root of the site with simple content: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Our site is temporarily unavailable<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  And in .htaccess five lines are added: <br><br><pre> <code class="hljs pgsql">RewriteEngine <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> RewriteBase / RewriteCond %{HTTP_USER_AGENT} ^Opera/<span class="hljs-number"><span class="hljs-number">9.80</span></span>\s\(Windows\sNT\s5\<span class="hljs-number"><span class="hljs-number">.1</span></span>\;\sU\;\sru\)\sPresto/<span class="hljs-number"><span class="hljs-number">2</span></span>\<span class="hljs-number"><span class="hljs-number">.6</span></span>\<span class="hljs-number"><span class="hljs-number">.30</span></span>\sVersion/<span class="hljs-number"><span class="hljs-number">10</span></span>\<span class="hljs-number"><span class="hljs-number">.63</span></span>$ RewriteRule ^(.*)$ <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">of</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">order</span></span>.html</code> </pre> <br>  After that, a small static file began to be sent to all requests with the specified User-Agent.  Since then, the attack has ceased to have any significant impact on the server. <br><br>  But our struggle is not over yet!  One of the attacker's IP addresses was selected and his provider was identified using whois.  The administrator who answered the call kindly agreed to check whether the attack from this address is actually being carried out.  Having ascertained, he called the subscriber and informed him about the outrages taking place.  According to the administrator, the subscriber denied his guilt in every possible way but promised to change the password to his Wi-Fi, ‚Äúwhich, probably, the villains broke.‚Äù  After a couple of minutes, the attack stopped not only from this IP, but from all the others, including other cities.  <font color="#7F7F7F">(We still remember that the subscriber has nothing to do with it!)</font> <br><br>  In high spirits, we sent out a recipe for protection to everyone who received a letter threatening, and the contented went home. </div><p>Source: <a href="https://habr.com/ru/post/133418/">https://habr.com/ru/post/133418/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133413/index.html">Java. Stop the task</a></li>
<li><a href="../133414/index.html">We build a tracked Bluetooth robot with a camera. Part 1</a></li>
<li><a href="../133415/index.html">Brute force card number, CVV2 and expiration date using the Master Bank website</a></li>
<li><a href="../133416/index.html">Tester conferences of the world. Continuation</a></li>
<li><a href="../133417/index.html">Platform @ Mail.Ru // Reports from the Mail.Ru Technology Forum 2011: text of the report, video, presentation</a></li>
<li><a href="../133419/index.html">Sales of the world's first e-book with Qualcomm Mirasol began.</a></li>
<li><a href="../133421/index.html">Twine: smart home with simple interface</a></li>
<li><a href="../133422/index.html">Camera found in ocean, owner found via Google+</a></li>
<li><a href="../133423/index.html">Wow mobile from Ukrtelecom. Beware scammers!</a></li>
<li><a href="../133424/index.html">The whole truth about the sale of the Touchpad for 99 and 149 dollars</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>