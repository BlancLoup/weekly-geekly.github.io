<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTML5 attacks: what you need to know</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All the latest versions of browsers support HTML5, therefore, the industry is at the peak of its readiness to adopt technology and adapt to it. The te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTML5 attacks: what you need to know</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/9f5/0bd/97e/9f50bd97e9d7bd5c78aecb79ac461436.png"><br><br>  All the latest versions of browsers support HTML5, therefore, the industry is at the peak of its readiness to adopt technology and adapt to it.  The technology itself is designed to make it simple to include and process graphics and multimedia content on the web, without using third-party plug-ins or APIs.  This article will tell about <strong>new types of attacks</strong> that HTML5 ‚Äúpresented‚Äù to the world. <br><a name="habracut"></a><br><h1>  HTML5 attacks </h1><br><h2>  Attacks on CORS (Cross origin resourse sharing) - receiving a reverse shell code </h2><br>  To meet the growing needs of developers to make high-quality websites, HTML5 has relaxed attention to some of the limitations that were previously proclaimed by the concept of <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B0%25D0%25B2%25D0%25B8%25D0%25BB%25D0%25BE_%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F_%25D0%25B4%25D0%25BE%25D0%25BC%25D0%25B5%25D0%25BD%25D0%25B0">SOP</a> (same origin policy).  The concept has simple rules: scripts run on the site have access to the methods and properties of this site, but do not have such to the pages of another site (the SOP itself has an extensive separate topic, we recommend that you read it before further reading). <br><br>  Now HTML5 breaks these restrictions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For example, AJAX requests can run between different domains.  SOP restricts JavaScript access to web page content by enforcing the following prerequisite: JavaScript and the content itself are on the same domain.  Without such a restriction, a malicious website can launch a javascript that loads personal information from other sites using stored user authentication data and returns information to the attacker.  So HTML5 made it possible to get data from other domains using JavaScript. <br><br>  So, while xyz.com allows you to receive data, abc.com can make an AJAX request to xyz.com and read the response.  This feature is used to tunnel HTTP traffic with a cross-domain call. <br><br>  AJAX calls and creates the browser equivalent of a reversible shell using the simple <a href="http://blog.andlabs.org/2010/07/shell-of-future-reverse-web-shell.html">Shell of the future</a> tool.  The tool is based on the concept that if an attacker is able to find a cross-domain query leak, he can use JavaScript stuffing (convincing the user to click on the link) and his script will run to the attacker's server via a cross-domain query.  Using this flaw in the future, an attacker can view the victim‚Äôs sessions by tunneling his requests through the victim‚Äôs browser. <br><blockquote>  An important question: how is the victim session displayed for the attacker? </blockquote><br>  This is possible because the script launched by the user's browser begins to access the site of the attacker through the Cross Origin Resource (without HTML5, this would not be possible).  Thus, the attacker simply tunnels his request through the victim's browser. <br><br><h2>  Stealing CSRF Tokens </h2><br>  With HTML5, it became possible to steal <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D0%25B6%25D1%2581%25D0%25B0%25D0%25B9%25D1%2582%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F_%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25B4%25D0%25B5%25D0%25BB%25D0%25BA%25D0%25B0_%25D0%25B7%25D0%25B0%25D0%25BF%25D1%2580%25D0%25BE%25D1%2581%25D0%25B0">CSRF-</a> tokens - if the token goes through a URL (for example, a GET request), using the previously named <a href="http://ru.wikipedia.org/wiki/Cross-origin_resource_sharing">CORS</a> rules.  The attacker can inject into the CSRF-stuffing on a page that uses cross-domain queries, after which a request is made to the target site, without notifying the user.  Note that for CORS, an additional HTTP header must be added, called <code>origin</code> .  Changing the value of the attribute <code>withCredentials</code> to <code>true</code> will allow cookies to be stolen along with the request.  The server header in this case should be <code>Access-Control-Allow-Origin: *</code> .  Instead of an asterisk, you can specify the address of a specific domain or domains that are allowed to receive a response.  If you leave an asterisk - the resolution will apply to all domains. <br><br>  The user will not even suspect what is happening in the background.  Thus, HTML5 allows you to steal CSRF tokens and perform operations without the user's knowledge. <br><br><h2>  Access to internal servers </h2><br>  Many commercial organizations have internal sites that are used for internal business needs.  In fact, these are intranet applications that are not accessible via the Internet.  Since there are many such applications, they must somehow interact with each other.  And, in a hurry, most developers simply add the <code>Access-Control-Allow-Origin: *</code> header already known to us <code>Access-Control-Allow-Origin: *</code> and include CORS.  This can be used by an attacker, who can use <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BE%25D1%2586%25D0%25B8%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25B8%25D0%25BD%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B5%25D1%2580%25D0%25B8%25D1%258F">social engineering</a> to force a company employee to click on a link, after which the attacker gets access to the content very easily. <br><br>  Peculiar "step by step instructions": <br><ol><li>  An employee of the company is logged in on a site that is not available via the Internet. </li><li>  The intranet server returns a request with an <code>Access-Control-Allow-Origin: *</code> header <code>Access-Control-Allow-Origin: *</code> (Why? He wants to allow other sites on the intranet to access the server data). </li><li>  The employee receives a link from the attacker in the mail and clicks on it. </li><li>  The site looks completely normal, the employee does not notice anything suspicious.  But the site contains JavaScript code that runs in the employee‚Äôs browser. </li><li>  The script in the background sends an XMLHttpRequest request and it also receives a request (Why? Because the server header contains <code>Access-Control-Allow-Origin: *</code> . </li><li>  Javascript parsit the request and sends it to the attacker's server (easily done via XMLHttpRequest). </li><li>  The attacker intercepts data stored on the company's internal website. </li></ol><br><h2>  New XSS HTML5 Vectors </h2><br>  Developers always love to make their own custom filters in order to block XSS attacks.  Most of them are blacklisted by characters such as <code>&lt;img, &lt;script</code> and so on.  HTML5 introduces many new tags to support multimedia and dynamic audio / video downloads.  New tags, attributes and events can, with due diligence, become potential vectors for traversing XSS filters.  Below are several possible vectors that were collected from various resources: <br><br> <code>List of XSS vectors for HTML5</code> <br> <code>&lt;video&gt;&lt;source onerror="javascript:alert(1)"&gt;</code> <br> <code>&lt;video onerror="javascript:alert(1)"&gt;&lt;source&gt;</code> <br> <code>&lt;audio onerror="javascript:alert(1)"&gt;&lt;source&gt;</code> <br> <code>&lt;input autofocus onfocus=alert(1)&gt;</code> <br> <code>&lt;select autofocus onfocus=alert(1)&gt;</code> <br> <code>&lt;textarea autofocus onfocus=alert(1)&gt;</code> <br> <code>&lt;keygen autofocus onfocus=alert(1)&gt;</code> <br> <code>&lt;button form=test onformchange=alert(2)&gt;X</code> <br> <code>&lt;form&gt;&lt;button formaction="javascript:alert(1)"&gt;</code> <br> <br><h2>  Offline Web Application Cache Poisoning </h2><br>  Offline HTML applications cache is used by most browsers - Google Chrome, Mozilla, Opera, Safari, and so on.  So, the application can cache the content in order to make it available offline.  The main problem of such a cache is its vulnerability to a class of attacks called ‚Äúcache poisoning‚Äù.  If the JS file of a particular site is poisoned by an attacker, it can very easily get a user account.  The main difference between the normal cache and the HTML5 application cache is that the first one does not allow caching all types of files, and the second one does.  Using this feature, an attacker can steal user authentication data. <br><br>  Let's see how an attacker can do this: <br><ol><li>  The user connects to an unsecured Wi-Fi network in the mall. </li><li>  The user visits a random site. </li><li>  The attacker responds to his request with a page that contains a hidden IFrame, designed to collect his Facebook login from the user. </li><li>  The user's browser automatically sends a request for authorization. </li><li>  From now on, the network is controlled by the attacker; it gives the user a page that looks exactly like the Facebook login page, with only one additional code. </li><li>  This code will send the entered access to the attacker's site.  The page also contains a command to cache this in the user's system.  So, up to this point, nothing actually happened - except that the authorization page was cached in the user's system. </li><li>  Now, after one or two days, the victim connects to a secure network at home or in the office and tries to log in to Facebook by typing a link to the site in the address bar. </li><li>  The browser loads the fake cache login page. </li><li>  When the user enters accesses, they are passed to the attacker, because the cached page was so programmed. </li></ol><br><h2>  Conclusion </h2><br>  Thus, through the poisoning of the web application cache, an attacker can steal the user's access.  These are several attacks that security experts have discovered.  In the coming years, no doubt, even more HTML5-based attacks will emerge. <br><br>  <strong>As a bonus, the authoritative commentary of our chief information defender, Alexei Fedorovich:</strong> <br><br><blockquote><img src="https://habrastorage.org/getpro/habr/post_images/522/069/57b/52206957b3ca0d57d374b5380fd4b32d.png" alt="avatar" align="left">  Actually, attacks on HTML5 as such are rarely used; attackers do not like to complicate the process of gaining access to confidential data; in reality, the usual compromise of mailboxes is becoming more and more important, with further recovery of passwords from the necessary resources to this box.  And of course, the most favorite way of all the black-sleddies, an exact copy of the site authorization form (fake), such as Facebook or your own, located on the attacker's server. <br><br>  And CSRF, XSS, SQLinj, etc.  they start searching on sites only when a person is sitting on that side, and social engineering + does not help when the attacker has enough time and technical knowledge to carry out his plans.  If you want to hack, hack, no options.  You can only lower the threshold of penetration and at the first level weed out students with security scanners and haktulsami.  Good luck. </blockquote><br>  <em><a href="http://www.onextrapixel.com/2014/04/25/html5-attacks-what-you-need-to-know/">Original article on Onextrapixel</a> .</em> </div><p>Source: <a href="https://habr.com/ru/post/223501/">https://habr.com/ru/post/223501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../223481/index.html">AT & T flooded New York charging stations for smartphones</a></li>
<li><a href="../223483/index.html">ACID to SQLite</a></li>
<li><a href="../223485/index.html">A student development and innovation center has been created at MIREA.</a></li>
<li><a href="../223491/index.html">Free seminar ADVANSERV and Huawei May 28, 2014</a></li>
<li><a href="../223497/index.html">Law enforcement agencies detain hacking group Blackshades</a></li>
<li><a href="../223505/index.html">The future comes to AMF 2014</a></li>
<li><a href="../223507/index.html">Document in perspective, what to do with it? Correction of the results of contactless scanning and photographs of documents</a></li>
<li><a href="../223509/index.html">At Indiegogo raise money for a prototype of an inexpensive fusion reactor</a></li>
<li><a href="../223511/index.html">Using MultiSSID in life</a></li>
<li><a href="../223515/index.html">Promotion of applications in the AppStore (Google Play)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>