<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Robot mobile based on Arduino Mega 2560 with Bluetooth control and autonomous movement with obstacles bypass</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I present my project on the Arduino roboMobile. On the Internet there are a lot of similar articles, stumbled upon one of them decided to implement wh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Robot mobile based on Arduino Mega 2560 with Bluetooth control and autonomous movement with obstacles bypass</h1><div class="post__text post__text-html js-mediator-article">  I present my project on the Arduino roboMobile.  On the Internet there are a lot of similar articles, stumbled upon one of them decided to implement what he saw with his changes in the design and functionality.  The following features have been implemented: control of the mobile car via Bluetooth from a smartphone;  Autonomous movement of a mobile with a detour of obstacles. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d47/978/638/d479786384a7b19591cd3eba1553b679.jpg"><br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/geektimes/post_images/0c0/a24/9db/0c0a249dbbcdd052a6010237f8e733fa.jpg"><br><br>  For the implementation we need: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  Set: frame, motors, wheels, mounts (Car Chassis Kit for Arduino - <a href="https://yadi.sk/i/P-qDhuA23UZMZi">photo</a> ) <br>  Arduino Mega 2560 <br>  Motor Control Shield for Arduino L293D <br>  MG995 servo drive <br>  Ultrasonic Range Finder HC-SR04 <br>  Bluetooth module HC-05 JY-MCU <br>  Active High Level Alarm / Speaker Buzzer Module <br>  Headlight Diodes <br>  Connecting wires <br>  Holders for the rangefinder and Bluetooth module (I did it myself) <br>  Power supply (I took from the cash register) <br>  Android application to control the robil mobile via Bluetooth <a href="https://play.google.com/store/apps/details%3Fid%3Dbraulio.calle.bluetoothRCcontroller">Arduino Bluetooth RC Car</a> ( <a href="https://yadi.sk/i/6_i0ihNl3UZMhz">photo</a> , when connected to the Bluetooth module, the default pin code is ‚Äú1234‚Äù) </blockquote><br>  <b>Connection of components</b> <table><tbody><tr><td>  Motors </td><td>  Motor Shield L293D </td><td>  Headlights </td><td>  Arduino Mega 2560 </td></tr><tr><td>  P.L. </td><td>  M3 </td><td>  P.L. </td><td>  ‚Äú-‚Äù on GND, ‚Äú+‚Äù on Pin 22 </td></tr><tr><td>  P.P. </td><td>  M4 </td><td>  P.P. </td><td>  ‚Äú-‚Äù on GND, ‚Äú+‚Äù on Pin 24 </td></tr><tr><td>  Z.L. </td><td>  M1 </td><td>  Z.L. </td><td>  ‚Äú-‚Äù on GND, ‚Äú+‚Äù on Pin 34 </td></tr><tr><td>  Z.P. </td><td>  M2 </td><td>  Z.P. </td><td>  ‚Äú-‚Äù on GND, ‚Äú+‚Äù on Pin 35 </td></tr></tbody></table><table><tbody><tr><td>  Range finder HC-SR04 </td><td>  Arduino Mega 2560 </td><td>  Bluetooth HC-05 </td><td>  Arduino Mega 2560 </td><td>  Buzzer </td><td>  Arduino Mega 2560 </td></tr><tr><td>  Vcc </td><td>  5V </td><td>  VCC </td><td>  5V </td><td>  Sig </td><td>  Pin A9 </td></tr><tr><td>  Trig </td><td>  Pin 31 </td><td>  GND </td><td>  GND </td><td>  VCC </td><td>  Pin A8 </td></tr><tr><td>  Echo </td><td>  Pin 30 </td><td>  Txd </td><td>  Pin 50 </td><td>  GND </td><td>  GND </td></tr><tr><td>  Gnd </td><td>  GND </td><td>  Rxd </td><td>  Pin 51 </td><td></td><td></td></tr></tbody></table><table><tbody><tr><td>  MG995 servo drive </td><td>  Motor Shield L293D </td></tr><tr><td>  Triple Clem </td><td>  SERVO_2 (central wire ‚Äú+‚Äù is bite off and feed directly from ‚Äú+‚Äù Motor Shield - <a href="https://yadi.sk/i/MxOPTlWX3UZMqu">photo</a> ; when operating via Bluetooth - remove the terminal so that the server does not twitch) </td></tr></tbody></table><br>  <b>Assembly process</b> <br><br>  We solder wires to motors, pay attention, on all lower contacts I have black wires, on the upper ones - red ones; do not confuse polarity when connected to Motor Shield. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ccc/8f3/572/ccc8f3572b352038a0861db93a8da73e.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/03a/767/9f6/03a7679f6a4d6d21e352ef2efd6338ac.jpg"><br><br>  Fasten the servo to the top of the frame, the motors to the bottom, assemble the frame, put the wheels.  Install the Motor Shield on top of the Arduino Mega and fasten it to the frame, connect everything according to the scheme above, fill in the appropriate sketch (at the end of the article) - enjoy. <br><br>  Bluetooth control - install the application on your smartphone, launch it, connect (Connect) to the Bluetooth module (enter the pin code if necessary);  You can control the classic way by the arrows (Buttons), as well as in the program menu, you can select Accelerometer and control it using the tilts of the smartphone. <br><br>  Autonomous movement with obstacles around - the algorithm is as follows: the range finder measures the distance ahead, if it is&gt; 30 cm (in the sketch, the parameter is const int vmindistance), then we continue to move forward, if &lt;30 cm, then: we stop the motors;  twist the servo at angles from 0 ¬∞ to 180 ¬∞ in 15 ¬∞ increments and measure the distances at these angles;  enter the obtained values ‚Äã‚Äãinto the array;  turn the servo right at an angle of 90 ¬∞;  look for the position in the array with the maximum data value;  if this value is &lt;30 cm, then we go back, if&gt; 30 cm, then we check what angle of rotation of the servo drive it corresponds to and, depending on this, turn left or right. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f46/868/3b4/f468683b427be87b19bafaf5a2e6cb98.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/9ed/497/e64/9ed497e6442eefeb49c9a3aa2c671ccc.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a5c/5fe/bbe/a5c5febbed3eeb387d2dc388f5fdff2b.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/8a5/23a/de8/8a523ade879acd205d29598325e4fd09.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/edf/ce5/96f/edfce596f6202c7687dd38579745af5d.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/b42/71b/d5a/b4271bd5a8bc8d0447fc2014d7733ee8.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d29/f79/0b7/d29f790b74d1924e0bb3bfb06645944b.jpg"><br><br>  Short video <br><br>  Bluetooth control: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/gXcGg3hr94w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Autonomous traffic with obstacle avoidance: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Uq1xR8KsdwU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Download links: <br><br>  ‚Üí <a href="https://yadi.sk/d/7GxEDGzI3UZMxK">AFMotor</a> Library <br>  ‚Üí <a href="https://yadi.sk/i/ts8ye0Xn3UZN4J">Sketch</a> - control via Bluetooth <br>  ‚Üí <a href="https://yadi.sk/i/8PHA6jy63UZN7S">Sketch</a> - autonomous movement with a detour of obstacles <br>  ‚Üí <a href="https://yadi.sk/i/My8TRZ2B3UZNDG">Manual</a> for Bluetooth module HC-05 </div><p>Source: <a href="https://habr.com/ru/post/373153/">https://habr.com/ru/post/373153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../373143/index.html">Grammarly service overview to improve writing in English</a></li>
<li><a href="../373145/index.html">Young over the years, yes old mind: the story of the brand FiiO</a></li>
<li><a href="../373147/index.html">Backpack for geek: several options from Madrobots</a></li>
<li><a href="../373149/index.html">Richard Feynman: The nature of physical law. Lecture # 4. Symmetry of physical laws</a></li>
<li><a href="../373151/index.html">Internet around the world: Africa</a></li>
<li><a href="../373155/index.html">Google DeepMind explores the collaboration of several AI agents.</a></li>
<li><a href="../373157/index.html">Can brain electrostimulation replace antidepressants and help with stress?</a></li>
<li><a href="../373161/index.html">About Simon Monk's book ‚ÄúProgramming Arduino. Professional work with sketches ¬ª</a></li>
<li><a href="../373163/index.html">The origin of Bitcoin, part one</a></li>
<li><a href="../373165/index.html">Friday CoworkOut</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>