<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Multiplayer Games: Inside Look</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hey. 

 Recently, I created a mobile game for Android, in which there could potentially be multiplayer, which was what the users requested. 
 Multipla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Multiplayer Games: Inside Look</h1><div class="post__text post__text-html js-mediator-article">  Hey. <br><br>  Recently, I created a mobile game for Android, in which there could potentially be multiplayer, which was what the users requested. <br>  Multiplayer was not envisaged, since it did not respect the separation of the model and the presentation. <br>  In this article I will consider a simple implementation of the network mode of the game and talk about the mistakes made at the stage of thinking through the architecture of the game. <br>  Inspired by the <a href="http://habrahabr.ru/post/147431/">goblin wars II</a> article, the structure of the game was divided into independent blocks, which ultimately allowed users to play over the network. <br><a name="habracut"></a><br>  The base class for all game objects contained all the logic of the MVC model inside of him - he knew how to draw himself and change his state. <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseObject</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> type; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> state; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Rectangle body; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> delta)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> delta)</span></span></span></span>; }</code> </pre> <br>  Separate the model from the presentation. <br>  Any class that will draw game objects will implement the interface. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Drawer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BaseObject obj, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> delta)</span></span></span></span>; }</code> </pre><br>  Thinking through the architecture for multiplayer, namely the separate implementation of the client and the implementation of the server, we move the fields necessary for drawing the object into a separate class. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> type; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x, y; }</code> </pre><br>  Thus, we will be able to store only the presentation on the client side, and there will be no need to create model objects. <br><br>  When there were a lot of objects in the game, it became too difficult to accompany such code and add new features. <br>  The transition to the components greatly facilitated the creation of new game objects, since in essence the creation of a new entity was a designer. <br>  All objects in the game are inherited from the base class Entity, and the only difference is in the state returned by the getState () method and a different set of components. <br><div class="spoiler">  <b class="spoiler_title">An example of such a class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StoneBox</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> StoneBoxState stoneBoxState = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StoneBoxState(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SolidBodyComponent solidBody; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MapBodyComponent mapBody; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StoneBox</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SorterEntityManager entityManager, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(entityManager); type = EntityType.BRICK_STONE; solidBody = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SolidBodyComponent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); solidBody.isStatic = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; solidBody.rectangle.x = x; solidBody.rectangle.y = y; mapBody = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MapBodyComponent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); SorterComponent sorterComponent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SorterComponent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, entityManager); addComponent(solidBody); addComponent(mapBody); addComponent(sorterComponent); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> State </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ stoneBoxState.x = solidBody.rectangle.x; stoneBoxState.y = solidBody.rectangle.y; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> stoneBoxState; } }</code> </pre><br></div></div><br>  The structure of the game has changed significantly, and the separation of entities allowed us to create such a bunch: <br> <code>Server -&gt; ServerImplementation &lt;-&gt; ClientImplementation &lt;- Client</code> <br>  All the difference between a network game from a local one comes down to different implementations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Server class actions every frame - it gives the actual state array for <code>ServerImplementation</code> and transmits to the client. <br>  It looks like this: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocalServerImpl</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> delta)</span></span></span></span>{ clientImpl.states = server.getStates(); ... } }</code> </pre><br>  The <code>Client</code> class each frame takes the current state from <code>ClientImplementation</code> , and then displays the received data on the screen. <br>  Of course, not only states are transmitted, but also events about the beginning of the game, user commands and others.  Their logic does not differ from the transfer of states. <br><br>  Now for the implementation of the network mode, we need to change the implementation of <code>ServerImplementation &lt;-&gt; ClientImplementation</code> , as well as for the state classes to implement an interface for serialization and deserialization: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BinaryParser</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseBinary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DataInputStream stream)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fillBinary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DataOutputStream stream)</span></span></span></span>; }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">An example of such a class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StoneBoxState</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StoneBoxState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(StateType.STONE_BOX); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseBinary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DataInputStream stream)</span></span></span><span class="hljs-function"> </span></span>{ x = StreamUtils.readFloat(stream); y = StreamUtils.readFloat(stream); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fillBinary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DataOutputStream stream)</span></span></span><span class="hljs-function"> </span></span>{ StreamUtils.writeByte(stream, type); StreamUtils.writeFloat(stream, x); StreamUtils.writeFloat(stream, y); } }</code> </pre><br></div></div><br>  Why when parsing we do not read the byte responsible for the type?  We read it when determining the type of an object in order to create the necessary entity from the input byte array. <br><div class="spoiler">  <b class="spoiler_title">State parsing</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> State </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DataInputStream stream)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> type = StreamUtils.readByte(stream); State state = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> STONE_BOX: state = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StoneBoxState(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; ... } state.parseBinary(stream); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state; }</code> </pre><br></div></div><br>  I used the <a href="https://code.google.com/p/kryonet/">Kryonet</a> library to work with the network, it is very convenient if you don‚Äôt want to know how data packets are transmitted, and only the result is important to you. <br>  <code>LocalServerImpl</code> replace on <code>NetworkServerImpl</code> , transfer data is not more difficult: <br><div class="spoiler">  <b class="spoiler_title">Sending Game State</b> <div class="spoiler_text"><pre> <code class="java hljs"> Array&lt;State&gt; states = entityManager.getStates(); ByteArrayOutputStream byteArrayOutputStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ByteArrayOutputStream(); DataOutputStream dataOutputStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DataOutputStream(byteArrayOutputStream); StreamUtils.writeByte(dataOutputStream, GameMessages.MESSAGE_SNAPSHOT); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; states.size; i++) { states.get(i).fillBinary(dataOutputStream); } <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] array = byteArrayOutputStream.toByteArray(); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] compressedData = CompressionUtils.compress(array); sendToAllUDP(compressedData);</code> </pre><br></div></div><br>  We get the current status, write to the array bytes, archive, send to clients. <br>  On the client, the differences are also minimal, he will also receive the status, but they will come over the network: <br><div class="spoiler">  <b class="spoiler_title">Getting game status</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onReceivedData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] result = CompressionUtils.decompress(data); ByteArrayInputStream byteArrayInputStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ByteArrayInputStream(result); DataInputStream dataInputStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DataInputStream(byteArrayInputStream); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> messageType = StreamUtils.readByte(dataInputStream); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (messageType) { ... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GameMessages.MESSAGE_SNAPSHOT: snapshot.clear(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (dataInputStream.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { snapshot.add(StateType.parseState(dataInputStream)); } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { e.printStackTrace(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Types of messages between client and server</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> MESSAGE_PLAYER_ACTION = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> MESSAGE_SNAPSHOT = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> MESSAGE_ADD_PLAYER = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> MESSAGE_GAME_OVER = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> MESSAGE_LEVEL_COMPLETE = <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> MESSAGE_LOADED_NEW_LEVEL = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> MESSAGE_CHANGE_ZOOM_LEVEL = <span class="hljs-number"><span class="hljs-number">6</span></span>;</code> </pre><br></div></div><br><br>  Any actions on the client side are first sent to the server, the server status changes, and this data is returned back to the client. <br>  I recorded a small video that demonstrates the network mode (the libgdx engine allows you to run applications on a PC) <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/b8MbTyf6WSc%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhhDOd4pfhKCRPYv72Gq-ddGo3RwCA" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/200880/">https://habr.com/ru/post/200880/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../200868/index.html">SRVCC technology in 4th generation mobile networks</a></li>
<li><a href="../200870/index.html">RabbitMQ tutorial 3 - Publish / Subscribe</a></li>
<li><a href="../200872/index.html">Integration of LMS Moodle and Microsoft Active Directory. Part 1</a></li>
<li><a href="../200874/index.html">Immersive Mode (dive mode) in Android 4.4 KitKat</a></li>
<li><a href="../200878/index.html">Hash strings at compile time with annotation</a></li>
<li><a href="../200882/index.html">Six rules for effective management of promotion and "lead generation" using social media</a></li>
<li><a href="../200884/index.html">There is nothing wrong with types in C #</a></li>
<li><a href="../200886/index.html">Install and configure XBMC on Raspberry Pi</a></li>
<li><a href="../200888/index.html">About informational freedom</a></li>
<li><a href="../200890/index.html">Introduction to OpenSceneGraph</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>