<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Named Function Arguments in C</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In some languages, it is possible to call a function with named parameters. This method allows you to specify an argument for a particular parameter, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Named Function Arguments in C</h1><div class="post__text post__text-html js-mediator-article">  In some languages, it is possible to call a function with named parameters.  This method allows you to specify an argument for a particular parameter, associating it with the name of the parameter, and not with the position.  This is possible, for example, in C # or Python. <br><br>  Consider a ‚Äútoy‚Äù Python example using named arguments: <br><br><pre><code class="hljs swift">#   #    ,       def volume(length=<span class="hljs-number"><span class="hljs-number">1</span></span>, width=<span class="hljs-number"><span class="hljs-number">1</span></span>, height=<span class="hljs-number"><span class="hljs-number">1</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> length * width * height; <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(volume()) # <span class="hljs-type"><span class="hljs-type">V</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(volume(length=<span class="hljs-number"><span class="hljs-number">2</span></span>)) # <span class="hljs-type"><span class="hljs-type">V</span></span> = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(volume(length=<span class="hljs-number"><span class="hljs-number">2</span></span>, width=<span class="hljs-number"><span class="hljs-number">3</span></span>)) # <span class="hljs-type"><span class="hljs-type">V</span></span> = <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(volume(length=<span class="hljs-number"><span class="hljs-number">2</span></span>, width=<span class="hljs-number"><span class="hljs-number">3</span></span>, height=<span class="hljs-number"><span class="hljs-number">4</span></span>)) # <span class="hljs-type"><span class="hljs-type">V</span></span> = <span class="hljs-number"><span class="hljs-number">24</span></span></code> </pre> <br>  Here in the example, the same function is called with different arguments.  And you can see which parameter is initialized by which value.  If the function has parameters whose values ‚Äã‚Äãcan be left as default, then it is very convenient to initialize only the necessary parameters using named arguments.  But in the C language, the function arguments are associated with the position, so the developer needs to remember the order of the parameters, which can be inconvenient if there are enough of them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Below, I will show you how to simulate the use of named arguments in C. <br><a name="habracut"></a><br><h3>  Less words - more code </h3><br>  The most obvious solution is to transfer to the function not a separate set of parameters, but a structure.  It is convenient to initialize it with a list in curly brackets.  For example: <br><br><pre> <code class="hljs mel">#include &lt;stdio.h&gt; typedef struct { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length, width, height; } params_s; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> volume_f(params_s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>. length * <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>. width * <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.height ; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main() { params_s p = {.length=<span class="hljs-number"><span class="hljs-number">8</span></span>, .width=<span class="hljs-number"><span class="hljs-number">4</span></span>, .height=<span class="hljs-number"><span class="hljs-number">2</span></span>}; <span class="hljs-comment"><span class="hljs-comment">/* Volume1 = 64 */</span></span> printf(<span class="hljs-string"><span class="hljs-string">"Volume1 = %i\n"</span></span>, volume_f(p)); <span class="hljs-comment"><span class="hljs-comment">/* Volume2 = 0 */</span></span> printf(<span class="hljs-string"><span class="hljs-string">"Volume2 = %i\n"</span></span>, volume_f( (params_s){.width=<span class="hljs-number"><span class="hljs-number">4</span></span>, .height=<span class="hljs-number"><span class="hljs-number">2</span></span>}) ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  It got a little better, but still there was a problem with the default settings, if they are non-zero.  So in the example above, Volume2 = 0, because  The length field is by default initialized to zero.  We also pay for the named arguments with the fact that we have to create a structure or remember its name if we do a type conversion.  And it is inconvenient to do a permanent type cast  But come to the rescue ... <br><br><h3>  Variable Macros </h3><br>  Macros that take a variable number of arguments appeared in C99.  They are declared as well as a function that takes a variable number of arguments: you need to add an ellipsis as the last argument.  The identifier __VA_ARGS__ is replaced by the arguments passed in ellipsis, including the commas (semicolons) between them.  Spherical example below. <br><br><pre> <code class="hljs kotlin">#include &lt;stdio.h&gt; #define printArray(str, ...) { \ double d[] = {__VA_ARGS__, <span class="hljs-number"><span class="hljs-number">0</span></span>} ; \ puts(str); \ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; d[i] !=<span class="hljs-number"><span class="hljs-number">0</span></span>; i++) \ printf(<span class="hljs-string"><span class="hljs-string">"%g "</span></span>, d[i]); \ puts(<span class="hljs-string"><span class="hljs-string">""</span></span>); \ } #define DO(...){ __VA_ARGS__ } int main() { printArray(<span class="hljs-string"><span class="hljs-string">"cool array: "</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*  ,        */</span></span> DO(puts(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>); puts(<span class="hljs-string"><span class="hljs-string">"world"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  After the preprocessor's work, the macros will unfold into the following code: <br><br><pre> <code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ { <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> d[] = {<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>} ; <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span>}; { <span class="hljs-built_in"><span class="hljs-built_in">puts</span></span>(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">puts</span></span>(<span class="hljs-string"><span class="hljs-string">"world"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;}; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  Using a variable macro, we can simply pre-initialize the structure, and then add what has been transferred to it. <br><br><h3>  Total </h3><br>  Now, by putting everything together, you can pretend that C also has the ability to call a function, passing named arguments to it. <br><br>  The result is the following code: <br><br><pre> <code class="hljs mel">#include &lt;stdio.h&gt; typedef struct { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length, width, height; } params_s; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> volume_f(params_s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>. length * <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.width * <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.height ; } #define volume(...) \ volume_f((params_s){.length=<span class="hljs-number"><span class="hljs-number">1</span></span>, .width=<span class="hljs-number"><span class="hljs-number">1</span></span>, .height=<span class="hljs-number"><span class="hljs-number">1</span></span> , __VA_ARGS__}) <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main() { printf(<span class="hljs-string"><span class="hljs-string">"volume(): %i\n"</span></span>, volume()); printf(<span class="hljs-string"><span class="hljs-string">"volume(.length = 2): %i\n"</span></span>, volume(.length =<span class="hljs-number"><span class="hljs-number">2</span></span> )); printf(<span class="hljs-string"><span class="hljs-string">"volume(.length = 2, .width = 3): %i\n"</span></span>, volume(.length = <span class="hljs-number"><span class="hljs-number">2</span></span>, .width = <span class="hljs-number"><span class="hljs-number">3</span></span>)); printf(<span class="hljs-string"><span class="hljs-string">"volume(.length = 2, .width = 3, .height =4): %i\n"</span></span>, volume(.length =<span class="hljs-number"><span class="hljs-number">2</span></span>, .width =<span class="hljs-number"><span class="hljs-number">3</span></span>, .height =<span class="hljs-number"><span class="hljs-number">4</span></span>)); }</code> </pre><br>  All examples are compiled with the -std = c99 or -std = gnu99 flag <br>  Since  when the function is called, the values ‚Äã‚Äãare reassigned to the fields of the structure, then the compilers issue a varning. <br><br>  GCC will issue: <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">warning</span></span>: initialized field overwritten [-Woverride-init] clang: <span class="hljs-built_in"><span class="hljs-built_in">warning</span></span>: initializer overrides prior initialization <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> this subobject [-Winitializer-overrides].</code> </pre> <br>  If you need to disable it, use the flags accordingly: -Wno-initializer-overrides for clang or -Wno-override-init for gcc. <br><br>  More details about the variable macro are written, for example, <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B0%25D1%2580%25D0%25B8%25D0%25B0%25D1%2582%25D0%25B8%25D0%25B2%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BC%25D0%25B0%25D0%25BA%25D1%2580%25D0%25BE%25D1%2581">on Wikipedia.</a> <br>  The idea is taken from the book of <a href="http://shop.oreilly.com/product/0636920033677.do">Ben Clemens</a> </div><p>Source: <a href="https://habr.com/ru/post/248385/">https://habr.com/ru/post/248385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248373/index.html">Android launchers. Three developer mistakes</a></li>
<li><a href="../248377/index.html">Handling custom gestures for Leap Motion. Part 1</a></li>
<li><a href="../248379/index.html">Simple "iron" terminal</a></li>
<li><a href="../248381/index.html">Volumetric planets in 2D via shader</a></li>
<li><a href="../248383/index.html">Gnuplot on homepage</a></li>
<li><a href="../248387/index.html">OAuth using JWT on salesforce</a></li>
<li><a href="../248391/index.html">Fighting 2D physics in Unity with the example of an endless game</a></li>
<li><a href="../248393/index.html">Another program PWM or rehabilitation Attiny13a with Zen</a></li>
<li><a href="../248395/index.html">How to get started in Kaggle: a guide for beginners in Data Science</a></li>
<li><a href="../248397/index.html">It's time to replace Python as a language for learning.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>