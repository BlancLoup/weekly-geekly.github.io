<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A simple way to queue up from AJAX requests</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Formulation of the problem 

 Asynchronous requests are a convenient way to unload users of the site from an excess of information that is ‚Äúdumped‚Äù on...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A simple way to queue up from AJAX requests</h1><div class="post__text post__text-html js-mediator-article">  <b>Formulation of the problem</b> <br><br>  Asynchronous requests are a convenient way to unload users of the site from an excess of information that is ‚Äúdumped‚Äù on them after the page is displayed.  Consider a classic example - a list of products in the online store.  The user executes any search query, as a result of which a compact list of found products is displayed.  For example, it can be <i>only one name</i> .  Under each of the names there is a link ‚Äúmore details‚Äù, after clicking on which an additional block will open under the name, already with detailed information about the product.  The user friendliness is obvious - having quickly looked through the entire list, he ‚Äúclicks‚Äù only the goods that interest him, and will quickly go to the next pages.  It is also beneficial from the server side - less load, less outgoing traffic. <br><br>  However, the following point inevitably arises in such a system: a user can quickly click on several ‚Äúmore‚Äù links in a row, while the server will process incoming requests for a long time.  If only one XMLHttpRequest object is used in AJAX (usually it is), then all requests will fall into it ‚Äúin a heap‚Äù, and the result of the request will be displayed not where it is needed.  Thus, there is a <i>task to organize a queue of similar asynchronous requests to the server, so that the next one is executed only after the previous one is completed</i> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  <b>Solution</b> <br><br>  The first and most obvious way is to disable asynchrony in the browser itself - set the last parameter to false: <br>  request.open (‚ÄúGET‚Äù, url, <b><i>false</i></b> ); <br><br>  Unfortunately, although it is true, it only works in the part of browsers, and, for example, the last firefox 3.5 just does not execute such a request. <br><br>  The second option is to create an array of XMLHttpRequest objects, and execute each request to the server through its own object.  Suboptimal and inconvenient. <br><br>  Therefore, we make javascript <i>standard queue</i> (array).  The general algorithm looks like this: <br>  - initialize an empty array <br>  - in an asynchronous request, we check if any other request is already being executed.  If executed, put the request parameter in the queue and do nothing (do not execute the request to the server) <br>  - when the page is updated, we look at the size of our queue.  If it is not empty, we again initialize the request (as if on behalf of the user) <br>  - repeat the cycle until the queue is empty <br><br>  Thus, adding and removing elements from the array, as well as waiting until the result of the request comes from the server, you can easily implement a queue of asynchronous requests. <br><br>  A working example of scripts can be viewed, for example, here: <br>  <a href="http://moiknigi.com/user_598/books/">http://moiknigi.com/user_598/books/</a> <br><br>  The scripts successfully work in any variants: <br>  - discovery of one description of the goods <br>  - quick ‚Äúclicking‚Äù of several products with further waiting <br>  - a mixed version: "clicking" on some products at the time when others open <br>  - the opening of all the goods in one click (in this case, a queue of 20 items is formed immediately, which is then gradually cleared) <br><br>  <b>findings</b> <br><br>  I suppose such a simple approach can be used on many sites that display different lists of the same type (goods, news, etc.).  The scripts themselves are easy to understand and occupy an extremely small volume. </div><p>Source: <a href="https://habr.com/ru/post/67622/">https://habr.com/ru/post/67622/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../67611/index.html">Lenses are good</a></li>
<li><a href="../67613/index.html">Capifony. Or deploy symfony project through Capistrano</a></li>
<li><a href="../67615/index.html">Obvious next</a></li>
<li><a href="../67616/index.html">New trailer for Mass Effect 2</a></li>
<li><a href="../67617/index.html">Installing PHP on ubuntu</a></li>
<li><a href="../67627/index.html">Literature 2.0</a></li>
<li><a href="../67629/index.html">Shoot or read?</a></li>
<li><a href="../67630/index.html">The Evolution of Writing - Part I: Manuscript</a></li>
<li><a href="../67631/index.html">Kyrgyz hackers joke</a></li>
<li><a href="../67634/index.html">District number 9 - the disappointment of the year</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>