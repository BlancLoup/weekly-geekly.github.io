<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Top Secret or Static IP on Windows Phone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It took me recently to make a static IP on my Windows Phone. 
 I went to look for a solution in Google. Everything I found there was directly related ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Top Secret or Static IP on Windows Phone</h1><div class="post__text post__text-html js-mediator-article">  It took me recently to make a static IP on my Windows Phone. <br>  I went to look for a solution in Google.  Everything I found there was directly related to setting up the router or fully rooted phones (my root was covered after upgrading to Tango), so this solution didn‚Äôt work for me either.  And so, a brilliant idea came to mind - what if the guys from Samsung had already worked, but forgot to report it?  So it was repeatedly with the menu Diagnosis.  Let me remind you that through a hole in it they created a full-fledged root, launched exe files without signatures and much, much more.  In the past.  Again we google, but it doesn‚Äôt give anything - no one really knows the working diagnostic codes.  Good.  We are looking for xap diagnostic menu.  Surprisingly, I found, because  they are usually embedded deep in the core.  The kernel was written in native code, but the interface is in C #.  Exactly what is needed!  Found, however, in the cache of the Chinese resource on the last page, but not the point. <br>  Well, go!  Open your favorite <a href="http://www.jetbrains.com/decompiler/">dotPeek</a> from JetBrains and see the following picture: <br><img src="https://habrastorage.org/getpro/habr/post_images/0b7/afb/fe9/0b7afbfe9ef2a82bf13c5fe43d0dc69d.png" alt="image"><br><a name="habracut"></a><br>  Those items in which the trees refused to open are dll containing the native code.  Immediately discard them. <br>  We also discard those that begin with the words Microsoft.  These are only links.  There is the first project - DiagnosisApp. <br>  Expand and look at the root and main namespaces: <br><img src="https://habrastorage.org/getpro/habr/post_images/a87/437/2a3/a874372a3303f057ca161238ae058b95.png" alt="image"><br><br>  In the root we see that the DotObfuscator has tried there, which greatly complicates the process: extra goto, empty conditions, cycles, single-letter variable names ... <br>  The DiagnosisApp is more interesting.  We see here the class responsible for the page code itself.  All logic, in the best traditions of bydlokod, lies not in the ViewModel, but directly in the class.  Without any partial there.  At the beginning of the class we see the variables of type Button.  Exactly what is needed!  This is after all the dial pad: <br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btnDelete; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn1; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn3; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn2; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn4; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn5; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn6; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn7; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn8; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn9; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btnSharp; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btn0; <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> Button btnStar;</code> </pre> <br><br>  We are looking for a Click event: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn1.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn2.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn3.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn4.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn5.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn6.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn7.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn8.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn9.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btn0.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btnStar.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btnSharp.Click += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutedEventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b);</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It leads nowhere, only the control of the delete button and vibration. <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">b</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> A_0, RoutedEventArgs A_1</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) ; label_2: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timer_btn.Stop(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timer_btn.Start(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.vibrate.Start(TimeSpan.FromSeconds(<span class="hljs-number"><span class="hljs-number">0.05</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.e((<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) ((ContentControl) A_0).Content); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> flag = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.txtDial.Text.Length &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> num = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (num) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.btnDelete.Visibility = Visibility.Visible; num = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!flag) { num = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> label_7; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> label_5; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> label_2; } } label_5: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; label_7:; }</code> </pre><br><br>  Well, thank God, to understand this better and not to start ... <br>  It would seem a dead end, but it turns out that everything is controlled by a timer, which is activated after each button press: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timer_btn.Tick += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EventHandler(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ParseDial); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParseDial</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, EventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) ; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timer_btn.Stop(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetEnumFromList(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.f(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.txtDial.Text)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetEnumFromList</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint</span></span></span></span><span class="hljs-function"><span class="hljs-params"> hashCode</span></span></span><span class="hljs-function">)</span></span> { label_2: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> A_0 = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> num = <span class="hljs-number"><span class="hljs-number">12</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> flag; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (num) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>: num = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!flag) { num = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { flag = Convert.ToBoolean(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.iNVBlock); num = <span class="hljs-number"><span class="hljs-number">14</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TitleBrush.Color = Color.FromArgb(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.MaxValue, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.MaxValue); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.textBlockPageTitle.Foreground = (Brush) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TitleBrush; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.NavigationService.Navigate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(HiddenKeyTable.Current.hashTable[A_0].strPage, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iPageMode, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iHashcode), UriKind.Relative)); num = <span class="hljs-number"><span class="hljs-number">9</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>: num = <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) ; ++A_0; num = <span class="hljs-number"><span class="hljs-number">17</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flag) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TitleBrush.Color = Color.FromArgb(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.MaxValue, <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.MaxValue, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.textBlockPageTitle.Foreground = (Brush) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TitleBrush; num = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { num = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!flag) { num = <span class="hljs-number"><span class="hljs-number">13</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!flag) { num = <span class="hljs-number"><span class="hljs-number">11</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { flag = HiddenKeyTable.Current.hashTable[A_0].iHash.CompareTo(hashCode) != <span class="hljs-number"><span class="hljs-number">0</span></span>; num = <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TitleBrush.Color = Color.FromArgb(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.MaxValue, <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.MaxValue, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">127</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.textBlockPageTitle.Foreground = (Brush) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TitleBrush; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.NavigationService.Navigate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(HiddenKeyTable.Current.hashTable[A_0].strPage, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iPageMode), UriKind.Relative)); num = <span class="hljs-number"><span class="hljs-number">16</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.NavigationService.Navigate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(HiddenKeyTable.Current.hashTable[A_0].strPage, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iPageMode, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iHashcode), UriKind.Relative)); num = <span class="hljs-number"><span class="hljs-number">15</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> label_26; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span>: flag = A_0 &lt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.length; num = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.HybridInterface_FCRProxy.w(<span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.iNVBlock); flag = !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.g(A_0); num = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flag) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TitleBrush.Color = Color.FromArgb(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.MaxValue, <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.MaxValue, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">127</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.textBlockPageTitle.Foreground = (Brush) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TitleBrush; flag = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.d(); num = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { num = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> label_2; } } label_26:; }</code> </pre><br><br>  Lord, to understand this code you need a lot of alcohol ... We delete everything except navigation to the pages: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.NavigationService.Navigate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(HiddenKeyTable.Current.hashTable[A_0].strPage, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iPageMode, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iHashcode), UriKind.Relative)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.NavigationService.Navigate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(HiddenKeyTable.Current.hashTable[A_0].strPage, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iPageMode), UriKind.Relative)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.NavigationService.Navigate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(HiddenKeyTable.Current.hashTable[A_0].strPage, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iPageMode, (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) HiddenKeyTable.Current.hashTable[A_0].iHashcode), UriKind.Relative));</code> </pre><br><br>  Already better.  Here you can see that the navigation goes through a certain table HiddenKeyTable, and the key is the result of a certain function f (A_0), which is a hash of the entered code.  We look at the function code: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">uint</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> A_0</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">//  switch ,     - default,    { default: //   label_2: //  label uint num1 = 0U; int index = 0; int num2 = 2; uint num3; bool flag; //     ,    while (true) { switch (num2) //  switch,      { case 0: goto label_9; case 1: case 2: flag = index &lt; A_0.Length; num2 = 4; continue; case 3: num3 = num1; num2 = 0; continue; case 4: if (!flag) { num2 = 3; continue; } else { num1 = (num1 &lt;&lt; 5) + num1 + (uint) A_0[index]; //   ,    ++index; if (1 == 0) ; num2 = 1; continue; } default: goto label_2; } } label_9: return num3; } }</span></span></code> </pre><br><br>  Well, you have to figure out without alcohol.  We remove lines of code that simply confuse, such as switch (0), extra cases, debugger, we go through the code and see where it ends up (converted to a readable form): <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">uint</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHashCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> code</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hash = <span class="hljs-number"><span class="hljs-number">0U</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ch <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> code) hash = (hash &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) + hash + ch; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> hash; }</code> </pre><br><br>  Having found the non-working codes, I found that something like * # 123 # is used everywhere, i.e.  the numeric code starts with * # and ends with #.  Form the line: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> format = <span class="hljs-string"><span class="hljs-string">"*#{0}#"</span></span></code> </pre><br><br>  And now the brute force method to break through the hash and compare it with the value from the table: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { BruteHash(<span class="hljs-string"><span class="hljs-string">"0{0}"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//     0,   - ,     BruteHash("{0}"); //    } private static void BruteHash(string f) { const string format = "*#{0}#"; //    var thread = new Thread(() =&gt; { var i = 0; while (true) { var code = string.Format(f, i); var codeStr = string.Format(format, code); var value = GetHashCode(codeStr); //      *#123# if (IsIpHash(value)) //    { Console.Write(codeStr); //  return; } i++; } }); thread.Start(); } private static uint GetHashCode(string code) { var hash = 0U; foreach (var ch in code) hash = (hash &lt;&lt; 5) + hash + ch; return hash; } private static bool IsIpHash(uint hash) { return hash == 3974577854U; }</span></span></code> </pre><br><br>  The value 3974577854U is easy to find: in the HiddenKeyTable table by IP lookup, I found the g_IPSetting key, the value of which is exactly this number.  It remains only to run and literally in a second we get the result - code * # 232340 #, enter, and voila!  We can change the IP address, subnet mask, gateway, DNS.  It works only with Diagnosis 1109, Samsung Omnia W. I haven‚Äôt tested it on others, alas.  The reasons for hiding this code are not clear, really.  Having stuck in the table, I found some other working codes: <br><br>  * # 9900 # - DEBUGDUMP <br>  * # 745 # - RILDUMP (SLOG_DUMP, sth to file) <br>  * # 9990 # - g_VERIFYCOMPARE (IMEI compare for PLS operation 8) <br>  * # 2470 # - g_CAMERAUPDATE (CameraFWUpdate) <br>  * # 0589 #! - g_LIGHTSENSORTEST <br>  * # 1111 # - g_SWversionFTA (Test Mode FTA SW version) <br>  * # 2222 # - g_HWversionFTA (Test Mode FTA HW version) <br>  * # 1234 # - g_SWversionEx (Version of systems, wifi, bt, csc, pda, phone) <br>  * # 0228 # - g_BATTERYINFO <br>  * # 0842 # - g_DEVICETEST <br>  * # 0283 # - g_PHONELOOPBACKTEST <br>  * # 7284 # - g_USBPATHCHANGE <br>  * # 232337 # - g_BLUETOOTH_MAC_VIEWER <br>  * # 232331 # - g_BLUETOOTH_RF_TEST <br>  * # 232338 # - g_WIFI_MAC_VIEWER <br>  * # 770 # - g_VPHONE770 <br>  * # 771 # - g_VPHONE771 <br>  * # 772 # - g_VPHONE772 <br>  * # 773 # - g_VPHONE773 <br>  * # 774 # - g_VPHONE774 <br>  * # 775 # - g_VPHONE775 <br>  * # 776 # - g_VPHONE776 <br>  * # 777 # - g_VPHONE777 <br>  * # 778 # - g_VPHONE778 <br>  * # 779 # - g_VPHONE779 <br>  * # 7451 # - g_ERROR_REPORT_ON <br>  * # 6381 # - g_RILNETLOG_ON <br>  * # 6380 # - g_RILNETLOG_OFF <br>  * # 9908 # - g_GUMITEST3G_CAB_INSTALL <br>  * # 9920 # - g_CONNECTION_SETTING (connection string) <br>  * # 07 # - g_VIEWHISTORYNW <br>  * # 2663 # - g_TouchFirmare_2663 (touch screen version) <br>  * # 99785 # - g_PVKKey <br>  * # 997856 # - g_PVKFileName <br>  * # 86824 # - g_TouchkeySensitivity (firmware deupgrade available! (From 09 to 08)) <br>  * # 0123 # - g_MPS (MPS viewer, connection string) <br>  * # 232340 # - g_IPSetting (IP SETTINGS !!!) <br><br>  The rest are marked in the BlockType.none table, I still do not understand how to call them, there is a HybridInterface_FCRProxy.w () function that returns something, but I could not figure it out. <br><br>  <a href="http://www.mediafire.com/download.php%3Fn3aoag36i9ansxq">Link to download XAP archive</a> .  I apologize, I do not know where to pour. <br><br>  <b>PS</b> If I wrote or designed something wrong, please - indicate this in the LAN.  So far, I do not know exactly how to make out.  Thank. </div><p>Source: <a href="https://habr.com/ru/post/173325/">https://habr.com/ru/post/173325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../173307/index.html">Who is shorter</a></li>
<li><a href="../173309/index.html">Why does Google think that users will like Google Currents instead of Google Reader?</a></li>
<li><a href="../173311/index.html">Enumeration implementation (Enum) in PHP with type checking</a></li>
<li><a href="../173313/index.html">CMS Koken for photo galleries</a></li>
<li><a href="../173323/index.html">My fight with PTPCamera or the fascinating reversal story for the youngest</a></li>
<li><a href="../173327/index.html">intro.js - step-by-step guide for the web page</a></li>
<li><a href="../173329/index.html">One of the developers of IE 5.0 told how they beat Netscape.</a></li>
<li><a href="../173331/index.html">The creators of the Internet received the Queen Elizabeth Award for inventors</a></li>
<li><a href="../173333/index.html">Sort by StackSort</a></li>
<li><a href="../173335/index.html">The American will have to pay 222 thousand dollars for 24 songs uploaded to the network</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>