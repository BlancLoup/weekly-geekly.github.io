<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Economic strategy or 4200 bytes for 10 years</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My previous post " How to make a 3D JavaScript shooter in a couple of days " showed that the topic of developing browser games is very interesting and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Economic strategy or 4200 bytes for 10 years</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/a75/d43/864/a75d4386460b8a47927e3f3951340af9.png" align="right">  My previous post " <a href="http://habrahabr.ru/post/164003/">How to make a 3D JavaScript shooter in a couple of days</a> " showed that the topic of developing browser games is very interesting and for this reason I decided to devote another weekend to another of my ideas. <br><br>  This time the weekend fell on the New Year holidays and the free time was a little more than usual, so I‚Äôll slowly and tell the story and start with a little story. <a name="habracut"></a><br><br><h5>  2002  Summer </h5><br>  Ten years ago I worked as a night watchman, but the caretaker was not quite normal for me.  Since I was obsessed with computers since childhood (at the age of seven I first met Agat), I came to work with my laptop and modem and didn‚Äôt sleep until the next morning. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I spent all night online.  It was very convenient for me to ‚Äúwork‚Äù like this, because in fact I received money for what I did most often at night, only in this case you don‚Äôt need to share a telephone line with someone and go very quietly over a dark apartment for a cup of tea .  And everything was great and smooth, until suddenly there were quite frequent interruptions with the provider, which, for several reasons, I could not change.  Since I always take the job seriously, and it was hard not to sleep without a connection, it was urgently necessary to have a replacement in the form of ‚Äúoffline‚Äù entertainment. <br><br>  That's when I downloaded a rather interesting ‚Äútoy‚Äù somewhere.  I unfortunately can‚Äôt remember exactly now its name, most likely ‚ÄúFish Tycoon‚Äù, it was written by a Russian programmer (that's for sure).  The game offered to build its empire based on fish trade (yes, and why not), gradually expanding the trading network needed to master the entire market, which was the result and could theoretically lead to victory in the game (it did not work).  I worked as a watchman for about half a year and during that time I managed to play enough. <br><br>  The years went by, I changed jobs, went about my business, hired again, moved to another city, created various projects, but often recalled with warmth that half a year and "that very" game.  To be honest, the idea to write an analogue settled in my head probably about two years ago, but I always put off this undertaking for a number of reasons.  Besides, it always seemed to me that there would be a lot of code there. <br><br><h5>  year 2013.  Winter </h5><br>  And here came the next New Year holidays.  As it should be, I finished everything until the end of the year, closed all my obligations and, with a clear conscience and fun, met my new year at home with my family.  Waiting from day to day the next replenishment in the family, I could not afford to drink at the table more than a glass of champagne, on this already the first of January, when everyone was sleeping peacefully in their beds I lay and thought through the architecture of the new project. <br><br>  I almost immediately decided not to focus on fish, although nostalgia made me first give the project the code name ‚Äúfish‚Äù, I then decided to disregard the name of the product, leaving only the word ‚Äúproduct‚Äù itself. <br>  And on the night from first to second, I sat down at my laptop and made the first sketches.  First of all, I clearly decided that I would have a convenient schedule reflecting the situation on the market in real time and it will definitely be on SVG.  Here is this: <br><br><img src="https://habrastorage.org/storage2/488/ad0/5bc/488ad05bc8202d3194c58920fd3163d2.png"><br><br>  Secondly, I set a goal to develop for a couple of nights a simple model, in which there will be both an element of risk and a practical calculation. <br><br><h5>  So, what is the result? </h5><br>  Not having knowledge in economics and finance, I built a model according to my own rules.  The most important figure is the cost of goods in a specific period of time (purchase price), I calculate it with the help of time of day and sine, as well as a certain number of calls to Math.random (). <br>  Having this figure as a starting point, it is quite easy to come up with an option of calculating the price for sale, and by getting a couple of these values ‚Äã‚Äãand adding some ‚Äúaccidents‚Äù to them, you can extract the coefficient of buyers' activity. <br><br>  In order to sell the purchased goods, we need to have a sales outlet and an employee who will do this. <br>  For this, I implemented a model of a small shop, which can be easily transformed into a warehouse, other options for stores or an office.  You can also add several employee options - managers to increase the profitability of trading operations and accountants, which will help to optimize taxation. <br><br>  The whole code is very simple, you can change various formulas and coefficients ad infinitum, I confess, I got stuck on this case once before 5 am.  It turned out the game in the game. <br><br>  Let's go back to the process.  The game cycle is calculated on a 24-hour basis, from 23:00 to 5:00 the next day, any trading operations are stopped, and the market does not work on weekends; therefore, a new batch of goods cannot be purchased.  The rest of the time, the trading process automatically takes place, the probability of sales is calculated in a cycle, its volume taking into account the number of sellers in the store. <br>  By the way, sellers know how long they have been working, how many goods they have already sold, this can be used further to simulate the process of increasing trading experience or, for example, to demand a salary increase threatening the owner with dismissal. <br><br>  In order not to wait for a long time before the night or weekend passes, you can use various options for speeding up the process x5 and x10 to ensure that the day runs unnoticed. <br><br>  When starting, a small help is given on the gameplay and a list of buttons that are more convenient to use than the mouse. <br><br>  When buying and selling goods, we gradually come up against the ceiling of the size of stocks of goods, then we need to rent more shops and hire sellers, every day we get a calculation of how much is sold, for what amount, the cost of rent is calculated, the sellers are paid and the results are summarized. <br>  By the way, all events are broadcast to the log and you can always pause and grasp the details of what is happening. <br><br>  You can talk for a long time about what other moments await in the game, but then it will not be so interesting <a href="https://planner5d.com/tos/">to play</a> . <br><br>  I almost forgot, the name of the topic is ‚Äú4200 bytes‚Äù - this is the size after packing and compressing gzip of all .js files of the project. <br><br>  Remembering the wishes of the readers of the previous topic, I posted all the sources on <a href="https://github.com/Tsmar/ToS">github</a> for detailed study. <br>  This version will not be updated and no shortcomings will be corrected, I want to keep this project for myself, but if someone suddenly gets an idea, please use it for health. <br><br>  The last time many questions were written personally, I suggest this time to write everything in the comments to the post. </div><p>Source: <a href="https://habr.com/ru/post/164815/">https://habr.com/ru/post/164815/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164799/index.html">Android programming course for beginners</a></li>
<li><a href="../164805/index.html">jQuery inside - attributes, properties, data</a></li>
<li><a href="../164807/index.html">ACL: in search of the perfect solution.</a></li>
<li><a href="../164809/index.html">Interkassa changes keys</a></li>
<li><a href="../164811/index.html">Free implementation of contactless computer management interface: Enable Viacam</a></li>
<li><a href="../164821/index.html">The best reports of the club</a></li>
<li><a href="../164825/index.html">Logic - weekly selection of gaming and IT industry news ‚Ññ8</a></li>
<li><a href="../164827/index.html">Simulation of life in the Darwinbots system. Ii. Simulation and the simplest bot</a></li>
<li><a href="../164829/index.html">Experience creating a catalog and indexing family photo archives. Indexing and digitization of films</a></li>
<li><a href="../164837/index.html">Compressor head</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>