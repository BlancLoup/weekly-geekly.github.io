<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Do not keep activities</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Do not save operations 
 ‚ÄúDo not save operations‚Äù - the phrase ‚ÄúDo not keep activities‚Äù in the Android settings is translated in such a strange way. A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Do not keep activities</h1><div class="post__text post__text-html js-mediator-article"><h3>  Do not save operations </h3><br>  ‚ÄúDo not save operations‚Äù - the phrase ‚ÄúDo not keep activities‚Äù in the Android settings is translated in such a strange way.  And the description ‚ÄúDelete all operations immediately after their completion by the user‚Äù does not add clarity.  It is included in the Developer Options menu (at the very bottom). <br><br>  This setting works very simply, when it is turned on, all inactive activites die.  Those.  after the transition from Activi A to Activi B, Activi A is destroyed.  This way you can check how much your application fits into the <a href="http://developer.android.com/training/basics/activity-lifecycle/index.html">activity lifecycle</a> . <br><br>  I do not want to go into the details of the lifecycle, but, in a nutshell, the system kills the background activity when it wants.  In reality, this is not so rare, so do not neglect it.  For example, someone called you.  During your conversation, the system can kill the activation of the application you just used. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Or, the easiest way to kill activites is to turn the screen (if not android: configChanges = "keyboardHidden | orientation | screenSize").  But not all applications support screen rotation.  Yes, and those that support, are found with lifecycle errors at the design stage, so they should have no problems.  The second simple way is to change the device language. <br>  Well, of course, you can simply turn on "Do not keep activities". <br><a name="habracut"></a><br>  I spent a few days fixing bugs after I went through my application with ‚ÄúDo not keep activities‚Äù.  Now, I think you should always include this setting at design time.  My main problem was the correct connection of social networks in the application. <br><br>  Almost no problems with Vkontakte, with their SDK, you can write everything correctly, but they still have a small problem.  Namely, after authorization through the application, the result is returned in onActivityResult.  According to the documentation, you need to call <pre><code class="java hljs">VKUIHelper.onActivityResult(requestCode, resultCode, data);</code> </pre> <br>  However, in the case of the destruction of our application's activation, the NPE will fly out, so you must first call <br><pre> <code class="java hljs">VKUIHelper.onResume(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre><br>  Not entirely obvious, and undocumented.  Started issue, on everyone. <br><br>  There were problems with Facebook, because, because of my stupidity, I decided to use android-simple-facebook, and its author, as I understood, was not particularly steamed over the android lifecycle.  I had to completely abandon it and redo everything on the official Facebook SDK and all the problems were gone.  Although, probably, it was possible to fix everything in one line, but there was no going back. <br><br>  And there were no problems with Twitter at all, because everything works just like an ax.  They simply do not have their own SDK and authorization through the application.  We have to do everything in the old fashioned way, through WebView.  In general, they have the most terrible authorization of all. <br>  Well, yes it is, lyrical digression. <br><br>  There are problems with PayPal SDK, it just falls wherever possible.  Fortunately, someone has already started the issue before me and for sure they will correct it in the near future. <br><br><h3>  Other examples </h3><br>  I do not have many applications on the phone, and I‚Äôm too lazy to watch them all, to be honest, but I could not get past the recently released Habr application.  We begin, of course, with him.  Well, I'll add a Payoneer error, which I found by chance :) <br><br><h4>  Habrahabr </h4><br>  I stumbled across different screens and was already upset, was it all written correctly and only I make so many mistakes.  But no, I did get to the About page: <br><br><pre> <code class="java hljs">Caused by: java.lang.NullPointerException at ru.habrahabr.activity.about.AboutFragment.onAttach(AboutFragment.java:<span class="hljs-number"><span class="hljs-number">44</span></span>)</code> </pre><br><h4>  Payoneer </h4><br>  Much time was not needed.  Login screen, went to keepass for a password, returned - crash <s>plaster</s> : <br><br><pre> <code class="java hljs">Caused by: java.lang.NullPointerException at com.payoneer.android.ui.fragment.LoginFragment.initializeOnCreateData(LoginFragment.java:<span class="hljs-number"><span class="hljs-number">379</span></span>) at com.payoneer.android.ui.fragment.LoginFragment.onCreate(LoginFragment.java:<span class="hljs-number"><span class="hljs-number">152</span></span>)</code> </pre><br><br>  There are still some applications without crash, but with incorrect behavior, for example, the open fragment is not saved, but instead of it, after the re-creation, the main screen of the application is shown again. <br><br><h3>  PS </h3><br>  Use the setting ‚ÄúDo not keep activities‚Äù, I hope for someone this information will be new and will help to avoid mistakes of behavior and cracks. <br>  I think I could also avoid a heap of reports on Google Play if I knew about this setting right away. <br><br>  Oh yeah, the reports sent. </div><p>Source: <a href="https://habr.com/ru/post/221679/">https://habr.com/ru/post/221679/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../221667/index.html">Transactional Memory: History and Development</a></li>
<li><a href="../221669/index.html">Consulo + .NET plugin, two months later</a></li>
<li><a href="../221673/index.html">Chromium Transmission Integration</a></li>
<li><a href="../221675/index.html">VPN: past, present, future</a></li>
<li><a href="../221677/index.html">Sol 610: Mars Live Panorama and Curiosity</a></li>
<li><a href="../221681/index.html">Profiler for Entity Framework</a></li>
<li><a href="../221683/index.html">IT guy on vacation: add some astronomy?</a></li>
<li><a href="../221689/index.html">The digest of interesting materials from the world of web development and IT for the last week No. 107 (April 27 - May 3, 2014)</a></li>
<li><a href="../221693/index.html">We are friends with virt-manager with a remote system on top of tls</a></li>
<li><a href="../221697/index.html">Chronicles of repair or as IT-Schniki store opened: MadRobots goes offline</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>