<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Markup math with CSS: Understand with calc</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In recent years, the layout on the Internet has evolved from fixed designs to adaptive ones. Moreover, styles can use several types of units at once (...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Markup math with CSS: Understand with calc</h1><div class="post__text post__text-html js-mediator-article">  In recent years, the layout on the Internet has evolved from fixed designs to adaptive ones.  Moreover, styles can use several types of units at once (percentages, em or px).  Designers and developers should understand how this <a href="http://demosthenes.info/blog/775/Which-CSS-Measurements-To-Use-When">works</a> .  But it would be convenient to operate (adding / subtracting) with units of different dimensions in the same expression. <br><br>  For this great <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/calc">calc</a> .  With all its power, how it can be applied is better demonstrated by examples. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eac/3f9/a9f/eac3f9a9fde93af738f95ced564c8195.jpg" alt="image"><br><a name="habracut"></a><br><h3>  Vertical Flush Margins </h3><br>  For example, take a smart <a href="https://500px.com/photo/58814940/she-flows-ii-by-stian-klo%3Ffrom%3Duser">photo of a waterfall</a> from Stian Klo.  This image is indented in 2rem to the right.  Now we will make it adaptive by setting the width to 50% of the width of the parent element: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="css hljs">&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">img</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">src</span></span>="" <span class="hljs-selector-tag"><span class="hljs-selector-tag">alt</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">width</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:50</span></span>%; <span class="hljs-selector-tag"><span class="hljs-selector-tag">margin-right</span></span>: 2<span class="hljs-selector-tag"><span class="hljs-selector-tag">rem</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">float</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">left</span></span>;"&gt; &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>&gt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Det</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">er</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">et</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">velkjent</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">faktum</span></span>...</code> </pre> <br>  We need to increase the vertical gap, visually emphasizing the image of the <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B5%25D0%25B3%25D0%25B0%25D1%2582%25D0%25B8%25D0%25B2%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">negative space</a> under it.  The problem is that paragraph adaptability means that they will ‚Äúcrawl‚Äù under the picture as it narrows <a href="http://hodik.bitbucket.org/css-calc/vertical-flush-margins-1.html">(link)</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/206/d54/1ee/206d541ee3e8644eb9462363d61b4208.jpg" alt="image"><br><br>  There are many ways to solve this problem, and one of the easiest is to: <br><br><blockquote>  paragraphs next to the picture had a left indent of 50% plus 2rem. </blockquote><br>  Using calc, this will be <a href="http://hodik.bitbucket.org/css-calc/vertical-flush-margins-2.html">(link)</a> : <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">img</span></span> ~ <span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-left</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">calc</span></span>(50% + 2rem); }</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f9/760/798/1f97607981ec11652a21aeeb4fc64565.jpg" alt="image"><br><br>  calc, on the other hand, allows you to combine different measurement systems, making the sampling fixed, and the picture adaptive. <br><br><h2>  Full-Width Elements In Padded Containers </h2><br>  Consider the following example - a full-width element (for example, a picture) above content with an indentation (padding): <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Det er et velkjent faktum at lesere distraheres av lesbart innhold p√• en side n√•r man ser p√• dens layout... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  CSS: <br><br><pre> <code class="css hljs">* { <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Edelsans, sans-serif; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">1.5</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">article</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">80%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> auto; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2rem</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#000</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">article</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">header</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">img</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: auto; }</code> </pre><br>  The problem is that the padding element also shifts the content inside <a href="http://hodik.bitbucket.org/css-calc/full-width-elements-in-padded-containers-1.html">(link)</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/876/ee5/536/876ee5536fea584a722b7715ff52f947.jpg" alt="image"><br><br>  This can be corrected by calculating the width using calc: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">article</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">header</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">calc</span></span>(100% + 4rem); <span class="hljs-attribute"><span class="hljs-attribute">margin-left</span></span>: -<span class="hljs-number"><span class="hljs-number">2rem</span></span>; }</code> </pre><br>  4rem, added to width, create -2rem-padding on the left and right side for <a href="http://hodik.bitbucket.org/css-calc/full-width-elements-in-padded-containers-2.html">(link)</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/281/e6e/2d2/281e6e2d2d87dcf30fb984146b93fe39.jpg" alt="image"><br><br><h2>  Operations </h2><br>  calc supports basic arithmetic operations (addition (+), subtraction (-), multiplication (*) and division (/)).  It is important to remember that it is necessary to frame the operands of addition and subtraction with spaces on both sides, and there should be nothing between the calc and the opening bracket.  So in this form it will work: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">width</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">calc</span></span>(20% <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> 1<span class="hljs-selector-tag"><span class="hljs-selector-tag">rem</span></span>);</code> </pre><br>  And this is not: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">width</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">calc</span></span>(20%<span class="hljs-selector-tag"><span class="hljs-selector-tag">-1rem</span></span>);</code> </pre><br>  And it also: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">width</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">calc</span></span> (20% <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> 1<span class="hljs-selector-tag"><span class="hljs-selector-tag">rem</span></span>);</code> </pre><br>  There is a simple explanation for this: any number with a minus sign in front of it will be treated as a negative value. <br><br><h2>  Features and limitations </h2><br>  All modern browsers support calc for length in CSS.  Theoretically, calc can be applied in any place where operations with numbers occur, which gives several interesting applications: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.box</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(255, 0, 0, calc(.3 * 2)); }</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/783/711/cc8/783711cc8b6a026f92d0b8e28eac30c5.png" alt="image"><br><br>  Or so: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.box</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rotate</span></span>(calc(45deg - 2.31rad)); }</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/682/b5c/b9c/682b5cb9c317f216cfd5fa63f2b4f989.png" alt="image"><br><br>  But all browsers have pitfalls: <br><ul><li>  Chrome and Opera support all kinds of uses of calc, but before Chrome 38 / Opera 25, angle calculations do not work. </li><li>  Currently (November-December 2014), Firefox only supports length calculations and relative values ‚Äã‚Äã(in percent) </li><li>  Safari / Mobile Safari: calc works with 3D transformations and color calculations, but strangely, it does not roll with two-dimensional transformations </li><li>  Android 4.4 only supports addition and subtraction; in earlier versions, calc does not work at all.  Chrome 38 on Android offers full support, just like a regular desktop browser </li><li>  Internet Explorer 9+ (desktop / mobile) supports length calculations well enough.  Unfortunately, IE9 crashes if calc is used in the background-position CSS property </li></ul><br>  Fortunately, most browsers do not require the use of vendor prefixes. <br><blockquote>  Many thanks to <a href="http://codepen.io/thebabydino">Ana Tudor</a> for conducting these studies;  more information about calc support by browsers can be found on <a href="http://caniuse.com/">caniuse.com</a> </blockquote><br>  calc can also be used to calculate color stops in gradients. <br><br><h2>  Conclusion </h2><br>  Mathematically, operations have always been one of the advantages of preprocessors, like SASS.  Today, they are still one step ahead, but features like calc reduce the gap. </div><p>Source: <a href="https://habr.com/ru/post/243821/">https://habr.com/ru/post/243821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243811/index.html">Preparatory work to help you conquer Kickstar [a few forgotten common truths]</a></li>
<li><a href="../243813/index.html">Interactive voice editing of text with the help of new speech technologies from Yandex</a></li>
<li><a href="../243815/index.html">Expressive JavaScript: Document Object Model (Document Object Model)</a></li>
<li><a href="../243817/index.html">Restoring order: how to organize work during the creation of the site. (Part 2)</a></li>
<li><a href="../243819/index.html">In one run</a></li>
<li><a href="../243829/index.html">Innovation or death: Why company executives need to be evangelists of new digital change</a></li>
<li><a href="../243831/index.html">New PyCharm 4 released: more yes better!</a></li>
<li><a href="../243833/index.html">Constructor Multiplo - create your robot</a></li>
<li><a href="../243837/index.html">Google distributes $ 300 per account to GAE for free</a></li>
<li><a href="../243839/index.html">SIVIS - compact video streamer with HDMI cameras on the Internet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>