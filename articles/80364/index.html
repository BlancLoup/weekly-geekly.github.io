<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The ARP protocol and "with what it is eaten" (added)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Thanks to the hardex habraiser for publishing the original article, as well as to all those who pushed into the karma for the possibility of my handwr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The ARP protocol and "with what it is eaten" (added)</h1><div class="post__text post__text-html js-mediator-article">  Thanks to the hardex <a href="http://geektimes.ru/users/hardex/" class="user_link">habraiser</a> for publishing the original article, as well as to all those who pushed into the karma for the possibility of my handwritten publication.  Now the updated version with the wishes and additions.  Welcome under cat. <br><br><a name="habracut"></a><br><br>  Good day, dear habrayuzer.  With this article I want to start a cycle of narration about protocols that help us to exchange information transparently, quickly and securely.  And start with the ARP protocol. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As is known, Internet addressing is a 32-bit sequence of 0 and 1, called IP addresses.  But the direct connection between two devices in the network is carried out by the addresses of the data link layer (MAC-addresses). <br><br>  So, to determine the correspondence between the logical address of the network layer (IP) and the physical address of the device (MAC), the ARP (Address Resolution Protocol) protocol described in <a href="http://tools.ietf.org/html/rfc826">RFC 826 is</a> used. <br><br>  ARP consists of two parts.  The first one determines the physical address when sending a packet, the second one responds to requests from other stations. <br><br>  The protocol has a buffer memory (ARP-table) in which address pairs (IP-address, MAC-address) are stored in order to reduce the number of requests sent, consequently, to save traffic and resources. <br><br>  <strong>An example of an ARP table.</strong> <br><br>  <i>192.168.1.1 08: 10: 29: 00: 2F: C3</i> <i><br></i>  <i>192.168.1.2 08: 30: 39: 00: 2F: C4</i> <br><br>  On the left - IP addresses, on the right - MAC addresses. <br><br>  Before connecting to one of the devices, the IP protocol checks whether its ARP table contains an entry for the corresponding device.  If there is such an entry, then the connection and transfer of packets takes place directly.  If not, a broadcast ARP request is sent that ascertains which device the IP address belongs to.  After identifying itself, the device sends back its MAC address, and the corresponding entry is entered into the sender's ARP table. <br><br>  ARP-table entries are of two kinds: static and dynamic.  Static ones are added by the user, while dynamic ones are created and deleted automatically.  In this case, the broadcast physical address FF: FF: FF: FF: FF: FF is always stored in the ARP table (in Linux and Windows). <br><br>  Creating an entry in the ARP table is simple (via the command line): <br><br>  <i>arp ‚Äìs &lt;ip address&gt; &lt;mac address&gt;</i> <br><br>  Display ARP table entries: <br><br>  <i>arp ‚Äìa</i> <br><br>  After adding a record to the table, it is assigned a timer.  At the same time, if the recording is not used for the first 2 minutes, it is deleted, and if used, its lifetime is extended for another 2 minutes, with a maximum of 10 minutes for Windows and Linux (FreeBSD - 20 minutes, Cisco IOS - 4 hours) after which a new broadcast ARP request is made. <br><br>  ARP messages do not have a fixed header format and, when transmitted over a network, are encapsulated in a data-link data field. <br><br>  <strong>The format of the ARP message.</strong> <br><br><ul><li>  network type (16 bits): <i>for Ethernet - 1</i> ; </li><li>  protocol type (16 bits): <i>h0800 for IP</i> ; </li><li>  hardware address length (8 bits); </li><li>  network address length (8 bits); </li><li>  operation type (16 bits): <i>1 - request, 2 - answer</i> ; </li><li>  sender's hardware address (variable length); </li><li>  network address of the sender (variable length); </li><li>  recipient hardware address (variable length); </li><li>  recipient's network address (variable length). </li></ul><br><br>  <strong>And this is how the route is determined with the participation of the ARP protocol.</strong> <br><br>  Let sender A and receiver B have their addresses with the subnet mask indicated. <br><br><ol><li>  If the addresses are on the same subnet, then the ARP protocol is called and the physical address of the recipient is determined, after which the IP packet is encapsulated in a link layer frame and sent to the specified physical address corresponding to the destination IP address. </li><li>  If not, it starts to look at the table looking for a direct route. </li><li>  If the route is found, the ARP protocol is called and the physical address of the corresponding router is determined, after which the packet is encapsulated in the link layer frame and sent to the specified physical address. </li><li>  Otherwise, ARP is called and the default physical address of the router is determined, after which the packet is encapsulated in the link layer frame and sent to the specified physical address. </li></ol><br><br>  The main advantage of the ARP protocol is its simplicity, which gives rise to its main drawback - absolute insecurity, since the protocol does not check the authenticity of the packets, and as a result, you can replace the entries in the ARP table (material for a separate article), wedged between the sender and the recipient. <br><br>  You can deal with this drawback by manually hammering entries into the ARP table, which adds a lot of routine work both during table formation and subsequent maintenance during network modification. <br><br>  There are also InARP (Inverse ARP) protocols that perform the inverse function: a logical recipient is searched for a given physical address, and RARP (Reverse ARP), which is similar to InARP, only it searches for the logical address of the sender. <br><br>  In general, ARP protocol is universal for any networks, but is used only in IP and broadcast (Ethernet, WiFi, WiMax, etc.) networks, as the most widespread, which makes it indispensable when searching for matches between logical and physical addresses. <br><br>  <i>PS I wrote this article myself, not prying anywhere, based only on my knowledge gained from studying networks.</i> </div><p>Source: <a href="https://habr.com/ru/post/80364/">https://habr.com/ru/post/80364/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80357/index.html">Google gravity</a></li>
<li><a href="../80358/index.html">My recommendation is to stop all recommendations in design.</a></li>
<li><a href="../80359/index.html">Budget backlight do it yourself</a></li>
<li><a href="../80360/index.html">Mass domain hijacking</a></li>
<li><a href="../80361/index.html">Zend_XmlRpc_Client and Crossposting in LiveJournal</a></li>
<li><a href="../80370/index.html">Airnergy - we are charging along the way from WiFi</a></li>
<li><a href="../80375/index.html">foobar2000 1.0</a></li>
<li><a href="../80377/index.html">The battle for automation or IT specialist versus common sense</a></li>
<li><a href="../80378/index.html">Dune2. Reloaded</a></li>
<li><a href="../80381/index.html">Perfect scripting language for WEB - Start</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>