<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We accelerate the site with JivoSite. Delayed download online consultant</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When assessing the download speed of the site by Google , I noticed that we are losing quite a lot of points due to the installed JivoSite online cons...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We accelerate the site with JivoSite. Delayed download online consultant</h1><div class="post__text post__text-html js-mediator-article">  When assessing the download speed of the site by <a href="https://developers.google.com/speed/pagespeed/insights/">Google</a> , I noticed that we are losing quite a lot of points due to the installed JivoSite online consultant.  When removing the code of the online consultant from the site, the project gains 16 points more for the mobile version and 19 points more for the PC version. <br><br>  Therefore, the question arose about the delayed download online consultant.  Moreover, deferred download should work for Google speed test and not interfere with the work of online consultants.  For example, if the dialogue has already begun, and the user switches from one page to another, the code of the online consultant needs to be loaded immediately, and it will be loaded from the browser's cache, since  was downloaded on the first hit. <br><a name="habracut"></a><br>  Regular download code for JivoSite online consultant <br>  ( <b>you need to replace # WidgetId #</b> with the identifier of your widget). <br><br><pre><code class="javascript hljs">&lt;!-- BEGIN JIVOSITE CODE {literal} --&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'text/javascript'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript"> (</span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> widget_id = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'#WidgetId#'</span></span></span></span><span class="xml"><span class="javascript">;</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> d=</span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">;</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> w=</span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">;</span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> </span></span></span><span class="hljs-title"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-title">l</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> s = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.createElement(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'script'</span></span></span></span><span class="xml"><span class="javascript">); s.type = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'text/javascript'</span></span></span></span><span class="xml"><span class="javascript">; s.async = </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">true</span></span></span></span><span class="xml"><span class="javascript">; s.src = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'//code.jivosite.com/script/widget/'</span></span></span></span><span class="xml"><span class="javascript">+widget_id; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> ss = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementsByTagName(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'script'</span></span></span></span><span class="xml"><span class="javascript">)[</span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">]; ss.parentNode.insertBefore(s, ss);}</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript">(d.readyState==</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'complete'</span></span></span></span><span class="xml"><span class="javascript">){l();}</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">else</span></span></span></span><span class="xml"><span class="javascript">{</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript">(w.attachEvent){w.attachEvent(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'onload'</span></span></span></span><span class="xml"><span class="javascript">,l);}</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">else</span></span></span></span><span class="xml"><span class="javascript">{w.addEventListener(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'load'</span></span></span></span><span class="xml"><span class="javascript">,l,</span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="xml"><span class="javascript">);}}})();</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;!-- {/literal} END JIVOSITE CODE --&gt;</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      JivoSite online advisor download code: <br>  ( <b>you need to replace # WidgetId #</b> with the identifier of your widget) <br><br><pre> <code class="javascript hljs">&lt;!-- BEGIN JIVOSITE CODE {literal} --&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'text/javascript'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript"> (</span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.jivositeloaded=</span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">;</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> widget_id = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'#WidgetId#'</span></span></span></span><span class="xml"><span class="javascript">;</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> d=</span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">;</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> w=</span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">;</span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> </span></span></span><span class="hljs-title"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-title">l</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span></span><span class="xml"><span class="javascript">{</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> s = d.createElement(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'script'</span></span></span></span><span class="xml"><span class="javascript">); s.type = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'text/javascript'</span></span></span></span><span class="xml"><span class="javascript">; s.async = </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">true</span></span></span></span><span class="xml"><span class="javascript">; s.src = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'//code.jivosite.com/script/widget/'</span></span></span></span><span class="xml"><span class="javascript">+widget_id; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> ss = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementsByTagName(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'script'</span></span></span></span><span class="xml"><span class="javascript">)[</span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">]; ss.parentNode.insertBefore(s, ss);}</span></span><span class="hljs-comment"><span class="xml"><span class="javascript"><span class="hljs-comment">//     JivoSite function zy(){ // EventListeners if(w.detachEvent){// IE8 w.detachEvent('onscroll',zy); w.detachEvent('onmousemove',zy); w.detachEvent('ontouchmove',zy); w.detachEvent('onresize',zy); }else { w.removeEventListener("scroll", zy, false); w.removeEventListener("mousemove", zy, false); w.removeEventListener("touchmove", zy, false); w.removeEventListener("resize", zy, false); } //   JivoSite if(d.readyState=='complete'){l();}else{if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}} //         var cookie_date = new Date ( ); cookie_date.setTime ( cookie_date.getTime()+60*60*28*1000); //24    d.cookie = "JivoSiteLoaded=1;path=/;expires=" + cookie_date.toGMTString(); } if (d.cookie.search ( 'JivoSiteLoaded' )&lt;0){//,       ,  ,   EventListeners   ,           ,    JivoSite. if(w.attachEvent){//  IE8 w.attachEvent('onscroll',zy); w.attachEvent('onmousemove',zy); w.attachEvent('ontouchmove',zy); w.attachEvent('onresize',zy); }else { w.addEventListener("scroll", zy, {capture: false, passive: true}); w.addEventListener("mousemove", zy, {capture: false, passive: true}); w.addEventListener("touchmove", zy, {capture: false, passive: true}); w.addEventListener("resize", zy, {capture: false, passive: true}); } }else {zy();} })();</span></span></span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- {/literal} END JIVOSITE CODE --&gt;</span></span></span></span></code> </pre></div><p>Source: <a href="https://habr.com/ru/post/447262/">https://habr.com/ru/post/447262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../447250/index.html">Learning to communicate between microservices on Node.js via RabbitMQ</a></li>
<li><a href="../447252/index.html">Help Duke to find a way out</a></li>
<li><a href="../447256/index.html">Miracle Materialize Magics: Nissan spends seconds instead of several months of work</a></li>
<li><a href="../447258/index.html">Security Week 15: attack on routers with DNS spoofing</a></li>
<li><a href="../447260/index.html">Live Share in Visual Studio 2019</a></li>
<li><a href="../447264/index.html">Ignite Service Grid - reboot</a></li>
<li><a href="../447266/index.html">Language and senses</a></li>
<li><a href="../447268/index.html">Announced new features of Microsoft Azure Security Center</a></li>
<li><a href="../447276/index.html">What is ITIL library and why does your company need it</a></li>
<li><a href="../447278/index.html">Estonia is trying to use AI in justice</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>