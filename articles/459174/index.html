<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rx Event Source Reference</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RxJava is used in a large number of android-applications, but at the same time many do not know other sources of events, except Observable and, maybe,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rx Event Source Reference</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/5u/bh/bo/5ubhboeipdbjg8iw7pwxhhbnyhy.png"><br><br>  RxJava is used in a large number of android-applications, but at the same time many do not know other sources of events, except Observable and, maybe, Flowable.  They forget about the specialized classes Single, Maybe and Completable, which are often able to add more clarity to the code. <br><br>  Under the cut you are waiting for a cheat sheet on the sources of events that exist in RxJava. <br><a name="habracut"></a><br>  <u>Completable is</u> in fact the Rx equivalent of Runnable.  It is an operation that can be performed or not.  If we draw an analogy with Kotlin, then this is <i>fun completable ()</i> from the world of Rx.  Accordingly, to subscribe to it, you must implement onComplete and onError.  It cannot be created from the value (Observable # just, ...), because it is not designed for this. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <u>Single</u> - reactive Callable, because here it is possible to return the result of the operation.  Continuing the comparison with Kotlin, we can say that Single is a fun single (): T {}.  Thus, to subscribe to it, you must implement onSuccess (T) and onError. <br><br>  <u>Maybe</u> is a cross between Single and Completable, because it supports one value, no values, and an error.  It‚Äôs harder to draw a straightforward parallel with the methods, but I think Maybe is fun maybe (): T?  {}, which returns null when there is no result.  It is easy to guess that for a subscription you will need to define onSuccess (T), onComplete and onError. <br><blockquote>  It is important to note here that onSuccess (T) and onComplete are mutually exclusive.  Those.  in the case of the first call, you can not wait for the second. </blockquote>  <u>Observable</u> is the most common source due to its versatility.  He knows how not to produce events at all, and to generate many of those, so it can be used whenever the other options are not suitable.  Despite this, Observable has a flaw - it doesn‚Äôt know how to handle backpressure at all.  To subscribe to it, you need onNext (T), onError and onComplete. <br><br><blockquote>  Backpressure - a situation when new events arrive much faster than they are processed, and begin to accumulate in the buffer, overflowing it.  This can lead to troubles like OutOfMemoryError.  More details can be found <a href="">here</a> . </blockquote><br>  <u>ConnectableObservable</u> - a heated version of Observable.  All data sources start issuing their event stream at the time of subscription.  But not this guy.  To do this, ConnectableObservable is waiting for a connect call.  This is done so that several observers can observe one stream of events without restarting it at each subscription.  For illustration, I will give the following snippet: <br><br><pre><code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> observable = Observable.fromCallable { Log.d(<span class="hljs-string"><span class="hljs-string">"RxLogs"</span></span>, <span class="hljs-string"><span class="hljs-string">"observable fromCallable executed"</span></span>) Thread.sleep(<span class="hljs-number"><span class="hljs-number">1000</span></span>) }.subscribeOn(Schedulers.computation()) observable.subscribe() observable.subscribe() observable.subscribe() observable.subscribe()</code> </pre>  The console will be: <br>  observable from Callable executed <br>  observable from Callable executed <br>  observable from Callable executed <br>  observable from Callable executed <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> connectedObservable = Observable.fromCallable { Log.d(<span class="hljs-string"><span class="hljs-string">"RxLogs"</span></span>, <span class="hljs-string"><span class="hljs-string">"connectedObservable fromCallable executed"</span></span>) Thread.sleep(<span class="hljs-number"><span class="hljs-number">1000</span></span>) }.subscribeOn(Schedulers.computation()) .publish() connectedObservable.subscribe() connectedObservable.subscribe() connectedObservable.subscribe() connectedObservable.subscribe() connectedObservable.connect()</code> </pre><br>  And in this case: observable from Callable executed <br><br>  <u>Flowable</u> is a source that provides additional operators for backpressure processing.  When you need to handle more than 10,000 events that occur quickly one after the other, it is recommended to use it instead of Observable. <br><br>  The latter can create ConnectableFlowable, which opens the same possibilities as ConnectableObservable. <br><br>  Speaking of event generators, not to mention Subject and Processor. <br><br>  <u>Subject</u> - a class that can be both a source and a browser.  This allows you to use it, for example, in all sorts of controllers, which will give it out in the form of Observable and inside notify as Observer.  Next, we go through the different implementations of this class. <br><br>  <u>AsyncSubject / AsyncProcessor</u> holds the last event until the thread correctly ends, and then gives it to subscribers.  If an error occurs, no events will be forwarded. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e03/424/6ad/e034246ad488aa7f1309ee9870f2243c.png" alt="image"><br><br>  <u>PublishSubject / PublishProcessor sends</u> events coming to it further, until a terminal signal arrives.  After the end of the stream or error, it returns the corresponding events. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d7/5b5/399/6d75b53991a4ae2e84818b64149a01db.png" alt="image"><br><br>  <u>BehaviorSubject / BehaviorProcessor</u> works in the same way as PublishSubject / PublishProcessor, but when subscribing, it returns the last event, if it exists and if the Subject did not go to the terminal state. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11b/540/bfd/11b540bfdda812ae611cac4bbcdbee6c.png" alt="image"><br><br>  <u>ReplaySubject / ReplayProcessor</u> - BehaviourSubject / BehaviorProcessor on steroids.  Returns not one last event, but as much as you like.  If you subscribe to a completed ReplaySubject or ReplayProcessor, then all accumulated data will be received. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c75/4b5/19e/c754b519e08d98fed504fac2cf637d61.png" alt="image"><br><blockquote>  Thus, ReplaySubject.createWithSize (1) and BehaviourSubject.create () work differently after switching to the terminal state.  During the subscription, the first will return the last event, and the second will not.  The same is true for the ReplayProcessor. </blockquote>  <u>CompletableSubject</u> , <u>MaybeSubject</u> and <u>SingleSubject</u> work in the same way as PublishSubject, only designed for use with Completable, Maybe and Single respectively. <br><br>  <u>UnicastSubject / UnicastProcessor</u> is actually a ReplaySubject, which ensures that it has only one subscriber.  It throws an IllegalStateException when trying to re-subscribe. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e6b/f38/46a/e6bf3846a454ef45c5b217bb58568f85.png" alt="image"><br><br>  Those.  next snippet <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> subject = UnicastSubject.create&lt;String&gt;(<span class="hljs-number"><span class="hljs-number">3</span></span>) repeat(<span class="hljs-number"><span class="hljs-number">3</span></span>) { subject.onNext(it.toString()) } subject.onComplete() subject.subscribe({ Log.d(<span class="hljs-string"><span class="hljs-string">"RxLogs"</span></span>, it) }, { }, { Log.d(<span class="hljs-string"><span class="hljs-string">"RxLogs"</span></span>, <span class="hljs-string"><span class="hljs-string">"complete"</span></span>) })</code> </pre><br>  will log <br>  0 <br>  one <br>  2 <br>  complete <br><br>  <u>MulticastProcessor</u> works similarly to PublishProcessor, except for one small feature.  He is able to handle backpressure for the stream entering it.  MulticastProcessor allows you to set the size of the buffer in which it will pre-request items from upstream for future subscribers. <br><br>  In the diagram below, a processor is created with a storage for 2 elements, which it immediately requests from its source.  Therefore, when the first observer subscribes to it, it immediately gives the contents of the buffer, which is instantly filled with new events.  After the terminal event, MulticastProcessor clears its repository and new subscribers immediately receive the completion of the stream. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ce5/28c/d0f/ce528cd0fa322e90765069652321a57c.png" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/459174/">https://habr.com/ru/post/459174/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459158/index.html">How Artifact was Valve's biggest failure</a></li>
<li><a href="../459162/index.html">"To win the championships, the team must breathe in unison." Interview with Moscow Workshops ICPC coach</a></li>
<li><a href="../459166/index.html">What are you, a closure in javascript?</a></li>
<li><a href="../459168/index.html">Bypassing Windows Defender cheap and cheerful: meterpreter session through python</a></li>
<li><a href="../459172/index.html">Top 13 Scala libraries for data analysis</a></li>
<li><a href="../459176/index.html">Stable high voltage source to power the PMT</a></li>
<li><a href="../459180/index.html">TheOutloud - voice and share your favorite articles and stories. Part 2</a></li>
<li><a href="../459182/index.html">GitLab: With the release of version 12.1, we stop supporting MySQL</a></li>
<li><a href="../459184/index.html">Basic skills for working with Unity</a></li>
<li><a href="../459188/index.html">Releases of Debian 10 Buster and Linux 5.2 have taken place.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>