<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hours on gas-discharge indicators</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will focus on the manufacture of original and unusual watches. Their unusualness lies in the fact that the time is indicated using digita...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hours on gas-discharge indicators</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/160/076/291/160076291cd43919731110c5b1b21a2f.png" align="right"><br>  This article will focus on the manufacture of original and unusual watches.  Their unusualness lies in the fact that the time is indicated using digital indicator lamps.  Such lamps, once, was released a huge amount, both here and abroad.  They were used in many devices, ranging from clocks to measuring equipment.  But after the advent of LED indicators, the lamps gradually fell out of use.  And now, thanks to the development of microprocessor technology, it has become possible to create watches with a relatively simple scheme on digital indicator lamps. <a name="habracut"></a><br><br>  I think it would not be superfluous to say that two types of lamps were mainly used: fluorescent and gas-discharge.  The advantages of fluorescent indicators include low operating voltage and the presence of several discharges in one lamp (although there are also such instances among gas-discharge ones, but it is much more difficult to find them).  But all the advantages of this type of lamp covers one huge minus - the presence of phosphor, which eventually burns out, and the glow dims or stops.  For this reason, do not use used lamps. <br><br>  Gas-discharge indicators are free from this disadvantage, since  they glow gas discharge.  In fact, this type of lamp is a neon lamp with several cathodes.  Due to this, the service life of gas discharge indicators is much longer.  In addition, new and used lamps work equally well (and often used ones work better).  However, it didn‚Äôt do without disadvantages - the working voltage of gas-discharge indicators is more than 100 V. But the issue of voltage is much easier to solve than with a burnable phosphor.  On the Internet, such watches are distributed under the name NIXIE CLOCK: <br><img src="https://habrastorage.org/storage2/88c/432/a13/88c432a13d3b9b0b46d49de5e63aef75.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The indicators themselves look like this: <br><br><img src="https://habrastorage.org/storage2/eda/dd8/f8d/edadd8f8da80f500349e63ad65c3130d.jpg"><br><br>  So, at the expense of design features like everything is clear, now we proceed to the design of the scheme of our watches.  Let's start with the design of a high voltage source.  There are two ways.  The first is to apply a transformer with a secondary winding for 110-120 V. But such a transformer will either be too bulky, or it will have to be shaken up itself (the prospect is so-so).  And the voltage is problematic to regulate.  The second way is to assemble a step up converter.  Well, there will be more advantages: firstly, it will take up little space, secondly, it has protection against short-circuits and, thirdly, you can easily adjust the output voltage.  In general, there is everything that is necessary for happiness.  I chose the second path because  there was no desire to look for a transformer and a magnet wire, and I also wanted a miniature.  It was decided to assemble the converter on the MC34063, since  had experience with her.  It turned out this scheme: <br><br><img src="https://habrastorage.org/storage2/e06/6fb/39a/e066fb39a3a498b3a6c880b2a9e8608a.png"><br><br>  At first it was assembled on a breadboard and showed excellent results.  Everything started right away and no configuration was required.  When powered from 12V.  the output is 175V.  In assembled form, the power supply of the watch looks like this: <br><br><img src="https://habrastorage.org/storage2/39a/5cc/680/39a5cc680c2f36fd6c3d8ddaf98995f4.jpg"><br><br>  The LM7805 linear stabilizer was immediately installed on the board to power the clock electronics and a transformer. <br>  The next stage of development was the design of the lamp switching circuit.  In principle, lamp control is no different from control of seven-segment indicators, with the exception of high voltage.  Those.  it is enough to apply a positive voltage to the anode, and connect the corresponding cathode with the power supply minus.  At this stage it is required to solve two problems: coordination of the levels of the MK (5V) and lamps (170V), and switching of the cathodes of the lamps (they are numbers).  After some time of reflection and experimentation, this scheme was created to control the anodes of the lamps: <br><br><img src="https://habrastorage.org/storage2/3d8/ca6/746/3d8ca6746c0a8bbaf13b7d49902b2902.png"><br><br>  And the management of the cathodes is very easy, for this purpose they invented a special chip K155ID1.  True, they have long been discontinued, as are the lamps, but buying them is not a problem.  Those.  to control the cathodes, you only need to connect them to the corresponding pins of the microcircuit and send the input data in binary format.  Yes, I almost forgot, she eats from 5B.  (well, very handy thing).  It was decided to make the indication dynamic, since  otherwise I would have to put K155ID1 on each lamp, and there will be 6 of them.  The general scheme was as follows: <br><br> <a href=""><img src="https://habrastorage.org/storage2/fc1/84b/34c/fc184b34cc8ad1d7ce9e39b6cc6c80b6.png"></a> <br><br>  Under each lamp, I installed a bright LED of the red color of the glow (so beautiful).  When assembled, the board looks like this: <br><br><img src="https://habrastorage.org/storage2/ffe/eed/178/ffeeed1785439aca8bc5774ae3c7d749.jpg"><br><br>  The panels for the lamps could not be found, so I had to improvise.  As a result, old connectors, similar to modern COM, were disassembled, contacts were extracted from them, and after some manipulations with nippers and file files they were soldered to the board.  I didn‚Äôt do panels for IN-17, I did it only for IN-8. <br>  The most difficult thing is over, it remains to develop a ‚Äúbrain‚Äù circuit for the clock.  For this, I chose the Mega8 microcontroller.  Well, after that everything is quite easy, just take and connect everything to it as it is convenient for us.  As a result, 3 control buttons appeared in the clock circuit, a DS1307 real-time clock chip, a DS18B20 digital thermometer, and a pair of transistors to control the backlight.  For convenience, we connect the anode keys to one port, in this case it is port C. When assembled, it looks like this: <br><br><img src="https://habrastorage.org/storage2/7d3/109/4a0/7d31094a0e8d45eeb67c78ef042caaf1.jpg"><br><br><img src="https://habrastorage.org/storage2/eb4/8ad/e3e/eb48ade3ebfbf778138f905ac24a1c38.jpg"><br><br>  There is a small error on the board, but it is fixed in the attached board files.  Wired soldered connector for firmware MK, after flashing the device should be soldered. <br><br>  Well, now it would be nice to draw a general scheme.  It is said - done, here it is: <br><br> <a href=""><img src="https://habrastorage.org/storage2/294/22f/2b4/29422f2b4b7ef9075ca245d8f2cf0a6e.jpg"></a> <br><br>  And this is how it all looks completely assembled: <br><br><img src="https://habrastorage.org/storage2/078/059/733/078059733149a3467ab30f4019e0248e.jpg"><br><br>  Now it remains only to write the firmware for the microcontroller, which was done.  The functional turned out the following: <br><br>  Display time, date and temperature.  By briefly pressing the MENU button, the display mode changes. <br><br>  <i>1 mode - only time.</i> <i><br></i>  <i>Mode 2 - time 2 min.</i>  <i>date 10 sec.</i> <i><br></i>  <i>3 mode - time 2 min.</i>  <i>temperature 10 sec.</i> <i><br></i>  <i>4 mode - time 2 min.</i>  <i>date 10 sec.</i>  <i>temperature 10 sec.</i> <br><br>  When held, the time and date setting is enabled, and the settings are accessed by pressing the MENU button. <br><br>  The maximum number of sensors DS18B20 - 2. If the temperature is not needed, you can not put them at all, the work hours will not affect.  Hot-plug sensors are not provided. <br><br>  By briefly pressing the UP button, the date is switched on for 2 seconds.  When held, the backlight turns on / off. <br><br>  By briefly pressing the DOWN button, the temperature is turned on for 2 seconds. <br><br>  From 00:00 to 7:00 the brightness is reduced. <br><br>  This whole thing works like this: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/d2igEqXtafY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  The source code of the firmware is attached to the project.  The code contains comments so it will not be difficult to change the functionality.  The program is written in Eclipse, but the code without any changes is compiled into AVR Studio.  MK operates from an internal generator at a frequency of 8 MHz.  Physes are displayed like this: <br><br><img src="https://habrastorage.org/storage2/1f3/3d1/9bf/1f33d19bf0b747d775f7279b54e695ab.jpg"><br><br>  And in hexadecimal form like this: <u>HIGH: D9</u> , <u>LOW: D4</u> <br><br>  Also included are boards with fixed bugs: <br><br>  <a href="https://mega.nz/">Download (MEGA)</a> <br><br>  These hours work within a month.  No problems in the work have been identified.  The LM7805 stabilizer and the transistor of the converter are barely warm.  The transformer heats up to 40 degrees, so if you plan to install the clock in the case without air vents, the transformer will have to take more power.  In my watch, it provides a current in the region of 200mA.  Accuracy depends strongly on the applied quartz at 32.768 KHz.  Quartz, bought in the store, is not desirable to put.  The best results were shown by quartz from motherboards and mobile phones. <br><br>  In addition to the lamps used in my scheme, you can install any other gas-discharge indicators.  To do this, you will have to change the wiring of the board, and for some lamps the voltage of the boosting converter and resistors on the anodes. <br><br>  <b>Attention: the device contains a high voltage source !!!</b>  <b>The current is small but tangible enough !!!</b>  <b>Therefore, when working with the device, be careful !!!</b> <br><br>  <i>PS Article one, somewhere could be mistaken / mess up - suggestions and advice for correction are welcome.</i> </div><p>Source: <a href="https://habr.com/ru/post/170551/">https://habr.com/ru/post/170551/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../170539/index.html">Listen trackers</a></li>
<li><a href="../170541/index.html">Building Android Applications Using AIR SDK 3.6 on Linux</a></li>
<li><a href="../170543/index.html">Making flexible graphene ionics using a regular DVD-drive</a></li>
<li><a href="../170545/index.html">Introduction to Bayesian Methods</a></li>
<li><a href="../170549/index.html">Say a word about a poor mockup</a></li>
<li><a href="../170553/index.html">APT1: resistant intrusion pattern</a></li>
<li><a href="../170557/index.html">Attempt to translate and voice acting video at home</a></li>
<li><a href="../170559/index.html">And about the clock</a></li>
<li><a href="../170561/index.html">Mozilla introduced the commercial version of Firefox OS and plans to promote its OS</a></li>
<li><a href="../170563/index.html">From jQuery to Backbone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>