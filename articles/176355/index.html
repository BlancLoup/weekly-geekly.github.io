<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Balance in the games of the genre of Tower Defense (part 2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part, we began to talk about the balance of units in our game of the TD genre, which showed itself well, reaching the top places in its g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Balance in the games of the genre of Tower Defense (part 2)</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/post/173913/">In the first part,</a> we began to talk about the balance of units in our game of the TD genre, which showed itself well, reaching the top places in its genres US, RU and others. Appstore, got featured in the ‚ÄúGames‚Äù section in Google Play and in New &amp; Noteworthy in 60 countries Appstore. <br>  In this article we will touch on the topic of creating new types of towers according to the principle ‚Äúfrom the considered situation to the unit‚Äù, we will tell about the calculation of creep parameters and give a description of bonuses. <br><br><img src="https://habrastorage.org/storage2/2f4/60d/f96/2f460df9666b93dd1133c1f82aae10eb.jpg"><br><a name="habracut"></a><br>  <b>Calculation of the parameters of the towers.</b> <br>  1. Boundary condition - the first tower should almost kill the first creep alone, leaving his HP for one shot. <br>  2. The shooting tower must have the following parameters: the radius of the shelling, the rate of reload, the damage from the projectile. <br>  3. Each tower must well destroy certain types of creeps, and some worse - other types. <br>  4. The approximate value by which you can calculate the value of the tower = the average total time of attack of the creep that fell into its radius, multiplied by the damage per second. <br>  5. Towers must create "bundles" in which they act better than alone. <br><br><img src="https://habrastorage.org/storage2/ce1/399/665/ce139966573a64ecd7eb0f9a147aee69.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      6. The upgrade should be beneficial in at least half the time, so that the player is tormented by the choice of which is better: put another tower or improve the old one. <br><br>  If we talk about the types of towers, then to create different paths for passing levels, the general principles of operation of towers should be very different.  First, in addition to the pure attackers, there must be towers of "support".  Secondly, the types of attacks of the towers must differ not only in the damage or rate of fire inflicted, but also in the qualitative features (the dependence of the damage inflicted on various factors).  However, one way or another, the usefulness of the towers can be reduced to a general criterion. <br><br>  The total indicator of the tower, according to which it is possible to estimate its ‚Äúslaughter‚Äù (K): <i>DPS * R / Price</i> (multiply the damage per second by the radius of the shelling and divide by the price of the tower). <br><br>  The base tower in our game is the server, she has no special abilities. <br><img src="https://habrastorage.org/storage2/d8b/578/019/d8b57801992279e8d0e88f5b6358d4f5.jpg"><br><br>  The base tower's rate of fire - 2 shots per second, damage per shot - 10 units (removes 10 HP), base damage per second - 20, radius - 2.3 tiles, price - 60. We get K = <i>2.3 *</i> 20/60 about 0.75 <br><br>  Consider the other towers used in the game. <br><br>  <b>a) Spleshevik / nucleomer</b> <br><img src="https://habrastorage.org/storage2/2ab/ed1/ad1/2abed1ad17a12feeca12a58c8f9eeb3e.jpg"><br>  Has an attack on the area (units in a certain radius from the place of hit of the projectile receive damage).  The damage of the tower depends on how many units it is distributed (how many creeps were in the affected area).  For one unit: <br>  the damage is <i>3.5 * 15 * 0.5 * 3/100 = 0.75</i> , i.e.  virtually no different from the base tower. <br><br>  The situation is similar with 2-3 units (total damage for 1 unit will be <i>3.5 * 15 = 52.5</i> , for two - <i>2 * 2 * 15 = 60</i> , for three - <i>3 * 1.8 * 15 = 81</i> ), but we see a pattern - the more units in the attack zone, the greater the total damage they will receive.  For 5 or more units, this formula will be 15 * N, and with a splash radius of 0.6 tiles, there may be 8-9 opponents in a 1.2-tile plot. <br><br>  <b>b) Boxer</b> <br><img src="https://habrastorage.org/storage2/070/0da/cea/0700daceaf279af5740f158dd260b8a8.jpg"><br>  Knocks the opponent off the field with one punch.  Must be profitable against enemies with large HP and unprofitable against the weak.  Its damage varies depending on the unit's HP, from 0 to the most powerful unit's HP (except for the boss).  The radius is unimportant, since it only has time to make 1 shot. <br><br>  Take the average creep speed = 0.8 tiles per second.  Then a 2.3 tile unit will pass in about 3s.  The base tower during this time will be able to cause damage = <i>3 * 20</i> , while the boxer, in recalculation for 3s - <i>300 *</i> 3/5, i.e. about 180. However, for weak units, for example, for basic ones, this figure will be <i>75 * 3/5 = 45</i> , i.e. less than the base tower. <br><br>  <b>c) Bowling</b> <br><img src="https://habrastorage.org/storage2/310/19a/1d6/31019a1d6776e38a3b3269c7b2344faa.jpg"><br>  It has a linear splash attack.  The attack force of the ball - 27, shot - 1 time in 2 seconds.  Total, damage per 1 unit per second - 13.5.  This is less than that of the base tower, but given that the bowling player starts attacking from 5 tiles, then with an average length of a chain of units reaching an interval of about 1s, he can simultaneously attack 5-6 units.  Thus, 1 unit can inflict from 13.5 to 81 damage per second, and given the price of the tower (80 coins), it will be 3 times more efficient than the base tower (20 damage per second for 60 coins against 80 damage per second for 80 coins). <br><br>  The minuses of the tower are also visible to the naked eye - units must go exactly along the line of his attack. <br><br><img src="https://habrastorage.org/storage2/d8e/6d6/83f/d8e6d683f21f7985f0ecc6e100d2f414.png"><br><br>  <b>d) slugger</b> <br><img src="https://habrastorage.org/storage2/91e/51f/b91/91e51fb91eeed22f07e08c65033b0135.jpg"><br>  The most original unit operating in the game.  It is useless without the server, since it can only transfer the balls given to it with an increase in the damage of the ball and its speed.  The main peculiarity is that chains can be built from the batter, and not only as ‚Äúone serving per chain of hitters‚Äù, but also as ‚Äúseveral feeders with one hitter‚Äù. <br><br><img src="https://habrastorage.org/storage2/a03/fb7/0d9/a03fb70d9a4b8ca4db81a3cef039653d.png"><br><br>  A bundle of ‚Äú1 attacker + 1 attacker‚Äù can be reduced to the analogy of ‚Äúattack tower with a larger attack radius.‚Äù  If we take the attack radii, then at the base tower it is equal to <i>2.3 * 2 = 4.6</i> tiles, for a bunch of <i>2.3 + 2</i> (distance between the serving and slugger towers) +3 (attack radius of the slugger tower) = 6.3, i.e., 36% more .  Given that the slugger tower increases the damage from the passed ball by 10%, we get an increase in damage by about 40%. <br><br>  The amount of the bundle: 95 coins versus 60 for a single tower, i.e., 58% more.  However, in the case of a limited number of places for the installation of towers next to the path of movement of creeps, one batter can concentrate fire from 2-3 pitchers standing in the distance, and the cheap price of the batter tower allows it to ‚Äúplug holes‚Äù in defense. <br><br>  <b>The balance of "bundles" of towers.</b> <br>  1. feed + chain batters <br>  In fact, such a bunch is similar to one tower with a large field of fire.  Taking into account that each new batter increases the shelling area by about half of the circle of the batter‚Äôs attack, we get a bunch of towers, which is advantageous when killing creeps that go at large intervals or single creeps that come from different points.  The design is balanced by a slight decrease in ball damage when transferring it from the server to the server.  When transferring 90% damage in a chain of 5 towers, the target will reach 60% damage. <br>  2. several serving + slugger <br>  Such a bundle is justified in situations where there is one good point where you can put the tower, and many who serve in the distance.  Such a design is balanced by the restriction of balls per second that the batter can take. <br>  3. A common bundle - several applicants for one batter, plus a chain of batters from it.  The most "imba" (too good for the player) option.  The imbalance is removed by introducing a limit on the number of receiving balls for the batters and the limit for increasing the damage from the ball for the batters (even at 3rd level). <br><br>  <b>d) Cheerleader</b> <br><img src="https://habrastorage.org/storage2/dfb/19e/2ce/dfb19e2ce2b5ef700cc25886b99c0dfe.jpg"><br>  Support units are useless without attacking units.  Typically, a support unit acts on a specific area, creating a particular effect on it.  A classic unit slows down opponents in a certain area. <br><br>  The effectiveness of the support unit is determined by 2 parameters: how long the enemy stays longer in the shelling zone of the towers, as well as how many towers can simultaneously attack opponents in the shelling zone.  The first parameter is influenced by both the radius of the tower action and the deceleration factor, while the second is affected only by the radius. <br><br>  Total, if you take a slowdown in the speed of movement of enemies by 20%, and a range of about 3 tiles, then a creep moving in a straight line will by default overcome 6 tiles in 6 / 0.8s = 7.5, and in deceleration - by <i>6 / (0.8 / 1.2) = 9s</i> . <br>  If you count that at this time at least 2 towers will attack him, then the difference in the damage received by the unit will be <i>1.5s * 20 * 2 = 60</i> .  In fact, a bunch of 2 attacking + slowing down tower is equivalent to 3 attacking.  However, considering that the slowing down tower itself has no value, its price should be less than the price of the base tower.  In total, the price of a moderator tower is 50 coins (at the base tower, we recall, 60 coins). <br><br>  <b>e) Team Captain</b> <br><img src="https://habrastorage.org/storage2/38d/74a/c86/38d74ac86c91aec44cf51b8b2673da8e.jpg"><br>  Similarly, you can calculate the action of a unit that does not weaken enemies, but reinforces a player‚Äôs tower. <br>  For the player, it is important to see the visual reinforcement of the towers, so it is most logical to make an increase in the attack speed of the towers. This is how the ‚Äúcaptain‚Äù appeared - a unit that enhances the rate of fire of the towers operating in the area of ‚Äã‚Äãits attack.  Its parameters are calculated in a similar way so that starting from a certain number of towers (at least 2 spleshevik / bowling men), it would be more profitable to deliver the captain than the N + 1 tower. <br><br>  The basic gain of the captain - 20%, radius - 3 tiles.  Given that it is logical to put the captain, when we have at least 2-3 strong towers installed, you can calculate its cost.  Suppose we have 2 spleshevik towers and a bowling alley.  Their total price is <i>2 * 100 + 80 = 280</i> , damage per second - (if 5 units fall within the attack range) - <i>15 * 5 * 0.5 = 37.5</i> , for a bowling expert - <i>13.5 * 3</i> - if we assume that the attack falls 3 units.  The total damage is about 115 units per second.  With an increase of 20%, we get an additional 23 damage per second, which is 15% more than the damage from the base tower.  Then the adequate price of the captain, taking into account the fact that his use ‚Äúpaid off‚Äù, starting with 3 supporting 3 strong towers, is <i>60 * 1.15</i> = about 70 coins.  And most importantly: with the improvement or installation of new towers in the range of the captain, he becomes more and more profitable. <br><br><img src="https://habrastorage.org/storage2/b12/2f0/13b/b122f013bd6ccfb9845b23ce2d1478cc.png"><br><br>  <b>Description of the towers.</b> <br>  We decided to abandon the display of exact figures in the parameters of the towers, since they would not fit very well into the overall "reckless" atmosphere of the game, so, where it was possible, the athletes increased as the upgrades were made visually visible: increasing the attack radius, reducing time between attacks.  Thus, in the description of the towers in the store describes the scope of the towers, how good they are against those or other opponents. <br><br>  Additionally, as an advice to players, it is indicated which situations can be created in order for a particular unit to be profitable. <br><br><img src="https://habrastorage.org/storage2/6ee/4f1/643/6ee4f16435c577a3e0b1db6193bed0ef.jpg"><br><br>  <b>Opponents (creeps).</b> <br>  It is clear that the game must also have more than one kind of opponents.  In fact, for each dangerous opponent there will be a counter-measure in the form of a new tower, but the strongest towers should have their weak points. <br><br>  Consider the evolution of opponents in the game in more detail. <br><br>  1. Base creep (fitnessist), has no special talents, is easily destroyed by all towers. <br><img src="https://habrastorage.org/storage2/642/139/29a/64213929ac59b975777ab41ef18b29ae.jpg"><br>  2. Fast creep (runner), if it moves alone, then the tower with splash damage is hard to hit. <br><img src="https://habrastorage.org/storage2/1ca/7eb/632/1ca7eb63264f0550a3567b96bac53e26.jpg"><br>  3. Creep with a large number of HP (rugby player), for his destruction just need a unit "boxer". <br><img src="https://habrastorage.org/storage2/7e4/433/cd3/7e4433cd3200114265e38e8e087ac0cf.jpg"><br>  4. Creep, accelerating in straight sections (skier).  Spleshevik and even boxers are badly acting against him (the boxer misses when attacking a fast moving unit) if they are set in those places of the trajectory where the creep speed is maximum.  Teaches the player to use retarder towers and place the towers in the right places of the creeps data trajectory. <br><img src="https://habrastorage.org/storage2/7c3/f54/be6/7c3f54be677df2319271afafad1d04e5.jpg"><br>  5. Creep jumper is weakly vulnerable in flight, can jump single obstacles.  Diversifies the situation in case the player begins to build towers "snake".  Against him, a good counter-measure is slugger towers, which not only increase the attack radius of the base towers, but also stop up places for which there would not be enough resources when installing other towers. <br><img src="https://habrastorage.org/storage2/2b5/5bc/3c3/2b55bc3c344575eaf3ab2f83160ca347.jpg"><br>  6. Creep bodybuilder causes fire on himself.  It helps well against towers that have a large attack radius and strong damage.  The greater the attack radius of the tower, and the greater its damage, the less such towers are installed on the field, which means that the greater percentage of damage bodybuilders can divert to themselves.  A counter-trick against this is to build the ‚Äútracks‚Äù of the units so that both bodybuilders and ordinary creeps go in the same line. <br><img src="https://habrastorage.org/storage2/a63/875/c6f/a63875c6f6849a383509aa5ce4bf64e7.jpg"><br>  7. Finally, the most dangerous creep is karate.  At the time, knocks the tower from the field.  Usually knocks out the most valuable towers located closest to him.  This forces the player not to get involved in excessive tower upgrades, and to prevent the entire defense from being dependent on a single tower.  A good counter-measure to a karate player is a ‚Äúcaptain‚Äù unit, which, being far from the point of appearance of the karate player, strengthens weak towers, which, in turn, remain just as unattractive for a karate player, but now have more damage per second. <br><img src="https://habrastorage.org/storage2/b06/967/01d/b0696701d5121f5a6783325cafc43468.jpg"><br>  8. Creep boss.  Appears at the end of each episode.  It has a monstrously many HP, low speed, and most importantly removes all the glasses of the life of the base, if it comes to it.  Of the features - in episodes 3 and 4, bosses increase their speed if they are not attacked for a long time, which causes the player to keep this creep under fire all the time.  Usually it appears along with the ‚Äúretinue‚Äù, other creeps, which force the player to distract from the boss and strengthen the defense throughout the field (which excludes the option of selling towers in that part of the path that the boss has already passed). <br><img src="https://habrastorage.org/storage2/539/1d8/57e/5391d857e7859d7256679be8c4735b37.jpg"><br><br>  It is logical that as new opponents appear, the player is also given the ‚Äútools‚Äù to fight them.  For example, when skiers appear, the player is advised to install retarder towers and a scenario of their use is shown. <br><br>  <b>Bonuses</b> <br>  Bonuses are divided into several types: <br>  1. Allowing to break the critical situation, when only external influence can help. <br>  2. Simplifying the life of the player in difficult situations, if he acts correctly. <br>  3. Permanently acting, allowing you to skip non-critical errors, allow the player to relax a little. <br><br>  You can also divide them by action time: <br>  1. Disposable <br>  2. Valid specific period <br>  3. Permanently operating <br><br>  Each of the players under a different emotional state and style of play will be able to find a nice bonus to him. <br><br>  1. ‚ÄúStop time‚Äù and reverse the situation - freeze.  Stops enemies, giving time to the towers to destroy them. <br><img src="https://habrastorage.org/storage2/a1b/97d/590/a1b97d590a6e844c85a114a2674719e9.png"><br><br>  2. Hail - destroys opponents in a certain radius with one blow.  Will appeal to the "tactics" who are accustomed to quickly and accurately act in arcade games. <br><img src="https://habrastorage.org/storage2/d9a/960/978/d9a9609786a539b5204c449b72265188.png"><br><br>  3. False cup - a kind of antipode of "hail", helps to direct the enemies on the wrong track.  Obviously fans will like to fool blunt AI.  By the way, only bonuses 2 and 3 require a point of "sight", therefore, in fact, they are quite complex bonuses, especially the 3rd one. <br><img src="https://habrastorage.org/storage2/526/c08/b32/526c08b3293ea72ba10fdd715acc402d.png"><br><br>  4. Strengthening the attack - helps to destroy the crowd of enemies without installing additional towers.  Will appeal to those players who underestimated the enemy, but at the same time do not want to fuss and resort to emergency measures. <br>  5. Doubling income.  It will help those who all the time do not have enough money to install towers.  In fact, it will also help those who play strategically correctly, but allow small mistakes with the exact installation of towers, and want to fix them in the future. <br>  6. Base defense - helps the player not to worry about each enemy unit and focus on strategy.  Suitable for those who do not like to rush around the field and prefers to act between the waves of enemies. <br><img src="https://habrastorage.org/storage2/ac1/48d/ac9/ac148dac92ab844641a66c683dfb8330.png"><br><br>  Thus, in the game everything is built so that the player always has a tool both to solve the problems ‚Äúimposed‚Äù on him (a new tower as an ‚Äúantidote‚Äù against a new opponent or a new card), and also has additional opportunities to show his talent in areas close to him, thereby turning the tide of battle. <br><br>  We told the podnagotnuyu, as everything was planned, but, of course, not all players fully understand the advantages of different towers and bonuses over others.  We will tell you what tools we are going to introduce and are going to (thanks for helpful comments to Habr√© including!) Next time, and also will touch on the use of AI in creating levels and utilities that simplify beta testing of the game.  About monetization and promotion is also conceived a separate article. </div><p>Source: <a href="https://habr.com/ru/post/176355/">https://habr.com/ru/post/176355/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../176335/index.html">Lithuanian authorities use Google Street View to search tax evaders for homeowners</a></li>
<li><a href="../176341/index.html">Russian Post has again distinguished itself: A ban on receiving international mail has been introduced in Sheremetyevo</a></li>
<li><a href="../176343/index.html">To the events in Cyprus. April theses</a></li>
<li><a href="../176345/index.html">Globals MUMPS: Extreme Database Programming. Part 3</a></li>
<li><a href="../176347/index.html">Google Babel messenger is becoming more real</a></li>
<li><a href="../176357/index.html">Wiren Board - embedded computer with Wi-Fi, GPRS, GPS, NFC and Ethernet out of the box</a></li>
<li><a href="../176363/index.html">Processing and classification of requests. Part Two: Navigation Queries</a></li>
<li><a href="../176365/index.html">CamTouch project will take part in the final of Microsoft Imagine Cup 2013 from Ukraine</a></li>
<li><a href="../176367/index.html">4G on smartphones: in Russia from 04/10/2013</a></li>
<li><a href="../176369/index.html">Configuring RAID1 + LVM (for file system snapshots) in Hetzner and ServerLoft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>