<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Defining voice mail when calling</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is no secret that the majority of modern mobile operators send a call to voice mail in some cases, which can be very different depending on the app...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Defining voice mail when calling</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/d95/4bb/866/d954bb866c484c678dc32d1ac0bb78c7.png" align="left">  It is no secret that the majority of modern mobile operators send a call to voice mail in some cases, which can be very different depending on the approach to this issue of the operator itself, as well as user settings.  There is nothing wrong with this function, but it can interfere with the implementation of a number of telephone scenarios, when it is important to connect the operator with a person, and not send him to communicate with voice mail.  First, it can lead to additional costs for telephony, as well as wasting the time of operators, which also leads to unnecessary financial costs.  When developing the VoxImplant platform, we proceeded from the fact that some of the customers would like to make a call center at its base and this problem will be relevant for them, so we decided to explore what ways to deal with this problem and what difficulties may arise.  We began by studying the voice mail behavior of our Big Three operators (MTS, Beeline, Megafon). <a name="habracut"></a><br><br><h3>  Megaphone </h3><br>  We started with Megaphone, everything turned out to be more or less simple, the voice mail is triggered in the pre-answer state (from the alarm point of view) and there is a characteristic sound signal before recording.  To determine the sound signal, <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D0%2593%25D1%2591%25D1%2580%25D1%2586%25D0%25B5%25D0%25BB%25D1%258F">the Goertzel algorithm was</a> used.  After the algorithm was implemented and tested, the megaphone voice mail began to be determined quite well, though after a while, Megaphone for some reason changed the signal frequency and had to tune the determinant again. <br><br><h3>  Mts </h3><br>  At MTS, voice mail is turned on and off in the service control panel.  If voice mail is turned on, the greeting will lose after picking up the handset (in terms of signaling), which makes the definition of this case less useful, since the money will still start to be spent.  That is conceptually 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Beeline </h3><br>  With Beeline, the situation is similar to that of the MTS, first the phone is picked up, and then the voice mail greeting is played. <br><br>  What can be done in a situation where voice mail picks up the phone?  Well, firstly, you can focus on beeps, in the case of voice mail, the handset rises instantly, while a normal person answers for a while and during this time beeps, but there are some nuances here too - today all operators offer paid service "melody instead of beeps".  If you determine the beeps and their duration by the nature of the sound signal, then in the case when there will be music instead of beeps, this is already a completely non-trivial option.  In addition, when the caller beats the call, he can also go to voice mail, in this case the voice mail will also be beeps.  It is the variety of options that makes it very difficult or almost impossible to determine if you get voice mail in 100% of cases. <br><br>  Thanks to one incident, it turned out that actually sending a call to voice mail was accompanied by a certain signaling (SIP 181 Call is Being Forwarded), but unfortunately, if you are not directly with operators, but through some transit operator, then Probably 99% of this alarm you do not prokinut. <br><br>  From the point of view of the VoxEngine script, the definition of voice mail now looks like this: <br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//       ,       Voximplant var call = VoxEngine.callPSTN(phone_number, "+1234567890"); call.detectProgressTone(true); call.addEventListener(CallEvents.ToneDetected, function(e) { if (e.VoicemailTone &amp;&amp; !e.ProgressTone) { //     } });</span></span></code> </pre> </div><p>Source: <a href="https://habr.com/ru/post/248735/">https://habr.com/ru/post/248735/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248723/index.html">A brief course of computer graphics: we write a simplified OpenGL do it yourself, article 4b of 6</a></li>
<li><a href="../248725/index.html">Getting vk.com community members in seconds</a></li>
<li><a href="../248727/index.html">Unauthorized access to more than 20,000 Moscow video surveillance cameras was obtained (now you too)</a></li>
<li><a href="../248729/index.html">Revision of the USB stack in STM32 and TivaC microcontrollers</a></li>
<li><a href="../248733/index.html">Must-read books for 2014 on information security and programming</a></li>
<li><a href="../248737/index.html">Horizontal websocket scaling in Ruby</a></li>
<li><a href="../248741/index.html">Data tidying: Preparing Data Sets for Case-Based Analysis</a></li>
<li><a href="../248745/index.html">Lectures Technopark. 1 semester Web technologies</a></li>
<li><a href="../248747/index.html">Testing with Microsoft tools - field experience</a></li>
<li><a href="../248753/index.html">How to bypass the main difficulties in porting CAD applications to nanoCAD?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>