<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The usefulness of the checked exceptions is highly questionable, and the harm is obvious.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The time for argument has passed.  - the beginning of the chapter ‚ÄúUse unchecked exceptions‚Äù of the book ‚ÄúClean Code‚Äù by Robert Martin. 

 No matter h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The usefulness of the checked exceptions is highly questionable, and the harm is obvious.</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  The time for argument has passed. </blockquote>  - the beginning of the chapter ‚ÄúUse unchecked exceptions‚Äù of the book ‚ÄúClean Code‚Äù by Robert Martin. <br><br>  No matter how much Mike Fiesers (the author of the epigraph quotation) would like to put an end to the dispute "checked vs unchecked exceptions", today, more than five years later, we have to admit that this topic still remains "holivar."  The community of programmers is divided into two camps.  Both sides are compelling arguments.  Among those and others there are top-class developers: Bruce Eckel <a href="http://www.mindview.net/Etc/Discussions/CheckedExceptions">criticizes the concept of checked exceptions</a> , James Gosling <a href="http://www.artima.com/intv/solid.html">protects</a> .  It seems that this question will never be completely closed. <br><br>  Five years ago, the advice to abandon the checked exceptions caused me to be perplexed and outraged.  The Java textbooks explained when to use them, but here it is ... I had no Java development experience at all, so I could only take one of the two on trust, and I rejected the advice from Clean Code.  <s>I have never been wrong in my life.</s> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But this article will discuss serious reasons for believing that the convenience of checked exceptions is a myth.  Many articles are devoted to this issue, but I will try to look at the problem from a slightly different side, to give my arguments and examples.  Close the topic early. <br><br>  In general, <s>this is my first post, do not judge strictly</s> welcome under cat. <br><a name="habracut"></a><br><h2>  As intended </h2><br>  The only reason for the existence of different types of exceptions is the different ways to handle them: <br><br><ul><li>  Established errors, the processing of which is part of the business logic.  Example: a user entered an incorrect password - display the corresponding message and ask to enter again.  For such situations, according to Java authors, you need to use checked exceptions. </li><li>  Unexpected errors, in the case of which we say to the user ‚Äúsomething has broken here,‚Äù log the stack trace and open the ticket in the bugtracker.  In this case, we are talking about unchecked exceptions. </li></ul><br>  Since regular situations must necessarily be processed, Gosling and the company decided to put control on the compiler: they say, they forgot to process it - an error, it is impossible to start it.  How it works, we know: either we catch an exception, or we specify it in the list of throws. <br><br>  But what happens when the checked exception is processed many levels higher?  It should be added to signatures of many methods.  And the more they appear, the "more fun".  Not so convenient, but maybe this is a necessary evil? <br><br>  Why are we being offered to endure these obsessive ‚Äúthrows‚Äù, inconveniences with lambdas in Java 8, etc.?  Consider the arguments for checked exceptions: <br><br><ul><li>  ‚ÄúThe mechanism of checked exceptions ensures that all regular situations will be handled.  This allows you to create more reliable software. " </li><li>  ‚ÄúIn languages ‚Äã‚Äãwithout checked exceptions, developers may not specify possible exceptions in the method signature, as a result it is not always clear what kind of pitfalls to expect from it.  In Java, the compiler will not allow this. ‚Äù </li></ul><br>  Now the objections. <br><br><h2>  To check or not to check? </h2><br>  Consider the signature of the FileInputStream constructor: <br><br><pre><code class="java">public FileInputStream(File file) throws FileNotFoundException
</code></pre><br>
 ,    ‚Äî      ,       FileNotFoundException,     .<br>
<br>
   ,          . ,  -    ,       ,   .   FileNotFoundException    ,  - NPE,            ,  -      :<br>
<br>
<pre><code class="java">catch(Exception e){
    LOGGER.error("Fatal error", e);
    return new Response(500, "Oops, unexpected error on server");
}
</code></pre><br>
,   ,     .      ¬´¬ª?<br>
<br>
 ‚Äî      ,    !<br>
 ‚Äî  RuntimeException  ?<br>
 ‚Äî        500!<br>
 ‚Äî    FileNotFoundException   ,    ,            throws.<br>
<br>
 - ,  ,  ,  ,     ,   .   ,  ,   <i> </i>  ,     .<br>
<br>
<h2>        ?</h2><br>
,      :  ValidationException ‚Äî   400  , AccessDeniedException ‚Äî 403, ResourceNotFoundException ‚Äî 404  ..<br>
<br>
   unchecked,   :<br>
<br>
<pre><code class="java">catch(ValidationException e){
    return new Response(400, e.getMessage());
}
catch(AccessDeniedException e){
    return new Response(403, e.getMessage());
}
catch(ResourceNotFoundException e){
    return new Response(404, e.getMessage());
}
</code></pre><br>
    .<br>
<br>
     :    ,         throws   .  ,      ,     :         ‚Äî ApplicationNameException.          (checked !):<br>
<br>
<pre><code class="java">catch(ValidationException e){
    return new Response(400, e.getMessage());
}
catch(AccessDeniedException e){
    return new Response(403, e.getMessage());
}
catch(ResourceNotFoundException e){
    return new Response(404, e.getMessage());
}
catch(ApplicationNameException e){
    // todo
}
</code></pre><br>
    catch?       ,  ,   ApplicationNameException     ,  Exception: ¬´-  ¬ª.   :<br>
<br>
<pre><code class="java">catch(ValidationException e){
    return new Response(400, e.getMessage());
}
catch(AccessDeniedException e){
    return new Response(403, e.getMessage());
}
catch(ResourceNotFoundException e){
    return new Response(404, e.getMessage());
}
catch(ApplicationNameException e){
    LOGGER.error("Unknown error", e.getMessage());
    return new Response(500, "Oops");
}
</code></pre><br>
   :        ,    ,      catch.     ,     NPE. ¬´!¬ª ‚Äî     checked exceptions.  ,       :      ApplicationNameException   ,         .<br>
<br>
   :    throws,    .   ?<br>
<br>
<h2>      </h2><br>
 ,      ( ,  ).<br>
<br>
<h3>throws Exception</h3><br>
   throws?    Exception!  :<br>
<br>
<pre><code class="java">public void doSome() throws Exception{
// do some
}
</code></pre><br>
   ¬´throws Exception¬ª? - .    RuntimeException?<br>
<br>
<h3> ‚Äî </h3><br>
<pre><code class="java">try{
// some code
} catch(IOException e){
}
</code></pre><br>
<h3>  stack traces</h3><br>
<pre><code class="java">try{
// some code
} catch(IOException e){
   throw new MyAppException("Error");
}
</code></pre><br>
<h2> </h2><br>
,     ?   ¬´throws Exception¬ª ‚Äî    .<br>
<br>
<h2>,    ?</h2><br>
,           .  ,    ,  <i></i>    ?<br>
<br>
 ,        .  <i></i>  ,   . ,   ,     ,            .<br>
<br>
 -      ,  <i></i>  .       ?<br>
<br>
  ,   checked exceptions      ‚Äî    ,             .<br>
<br>
<h2></h2><br>
   ,    .     .      unchecked exceptions, .<br>
<br>
,             ,  .    ,    ‚Äî    Java.    ,    .   ,    ,     .  .<br>
<br>
<h2></h2><br>
   Java  ,        :<br>
<br>
<pre><code class="java">String s = "hello";
if(s != null){
    System.out.println(s.length());
}
</code></pre><br>
<h2></h2><br>
<a href="http://sun.mmcs.rsu.ru/~ulysses/IT/Strong_Typing_vs._Strong_Testing_(ru).htm">    </a>.</div><p>Source: <a href="https://habr.com/ru/post/268683/">https://habr.com/ru/post/268683/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268673/index.html">Making an electronic consultant from the Post Hawk chat</a></li>
<li><a href="../268675/index.html">Remote K-root node in Selectk</a></li>
<li><a href="../268677/index.html">LinuxCon 2015 and everything, everything, everything: impressions</a></li>
<li><a href="../268679/index.html">NanoFL - free alternative to Flash Pro</a></li>
<li><a href="../268681/index.html">From game design to gameplay</a></li>
<li><a href="../268685/index.html">As we did the first internship on iOS and Android-development in Redmadrobot</a></li>
<li><a href="../268689/index.html">Cloud for development companies: how Teslawatch smart bracelets use the cloud</a></li>
<li><a href="../268695/index.html">3 ways to set markup for different devices in C # / XAML Windows UWP applications</a></li>
<li><a href="../268697/index.html">Thinstation session selection menu</a></li>
<li><a href="../268699/index.html">Bomberlands - development history, annual report and tips for beginners</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>