<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Compatibility of add-ons with Firefox 4: time to start</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As many of you are already well aware of, the first beta of Firefox 4 was released a few weeks ago. Very soon it will be followed by the second one, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Compatibility of add-ons with Firefox 4: time to start</h1><div class="post__text post__text-html js-mediator-article">  As many of you are already well aware of, the first <a href="http://www.mozilla.com/en-US/firefox/beta/">beta of Firefox 4</a> was released a few weeks ago.  Very soon it will be followed by the second one, and the final version is expected <a href="https://wiki.mozilla.org/Releases">later this year</a> .  This relatively long transition period benefits developers of add-ons, as it gives us a lot of time to update and check our extensions for Firefox 4. On the other hand, this new significant release will flaunt a lot of new features, and break many of the things we need. that updating most add-ons to support it will not be an easy task.  This blog post is one of many knowledgeable developers about compatibility with Firefox 4. <br><br>  First of all, MDC is your friend: ‚Äú <a href="https://developer.mozilla.org/en/Firefox_4_for_developers">Firefox 4 for developers</a> ‚Äù.  This is a document that should and will contain all the information needed by web developers and add-on developers who have surrounded Firefox 4. Make sure you visit this document regularly and look for changes in it.  If you are aware <nobr>of anything</nobr> missing in this document - let us know. <br><br>  And here are a few key pieces from this document. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><h4>  New add-on manager object </h4><br>  The nsIExtensionManager interface is no longer there, as is its <nobr>RDF backside.</nobr>  Add-on information will now be stored in the SQLite database, and the add-on manager will become a <nobr>JS module</nobr> called <a href="https://developer.mozilla.org/en/Addons/Add-on_Manager/AddonManager">AddonManager</a> . <br><br>  The key difference of this new interface is that <a href="http://www.oxymoronical.com/blog/2010/03/How-were-breaking-some-extensions-in-the-near-future">the add-on data requests will now become asynchronous</a> .  This also applies to the FUEL library, so every addition that requests information about the additions will affect this change.  The situation with those additions that need to obtain this data and deal with them during the launch will be especially delicate.  However, if you are also trying to follow <a href="http://blog.mozilla.com/addons/2010/06/14/improve-extension-startup-performance/">our recommendations on speeding up the initial load</a> , then you should have a good idea to plan the process of launching the extension as asynchronous. <br><br><h4>  XPCOM Registration </h4><br>  A lot happens in this area: <a href="">XPCOM will change to Gecko 2.0</a> , and none of your components will work until you take these changes into account. <br><br>  Components should now be explicitly declared in the ‚Äúchrome.manifest‚Äù file.  Multiple boot events eliminated;  the only thing left, the observation of which has always been recommended: "profile-after-change".  And observers <i>(listeners)</i> and registration in categories will also need to be specified in the manifest - <nobr>and, as a result</nobr> , some category names are changed. <br><br><h4>  Changes to the tabbrowser element </h4><br>  The TabClose, TabSelect, and TabOpen events no longer pop up to the level of the tabbrowser element, also known as ‚ÄúgBrowser‚Äù.  <i>Event listeners that</i> track these events should now be added to the ‚ÄúgBrowser.tabContainer‚Äù object. <br><br><h4>  Remote XUL is canceled. </h4><br>  Remote XUL <i>(remote XUL)</i> is a rarely used feature in Gecko-based browsers that allowed developers to create websites using XUL instead of HTML.  Since support for the XUL language was limited to several browsers, there was little point in writing websites on it.  However, it was successfully used in a few internal <nobr>business applications</nobr> (also metaphorically known as ‚Äúdark matter‚Äù). <br><br>  Remote XUL was very difficult to maintain, moreover, it was the source of numerous bugs and security problems.  For this, remote XUL <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D546857">will be removed</a> from Firefox 4. Fortunately, HTML 5 already includes a fairly abundant <i>box model</i> , so that the main loss for web developers will be the inability to use XBL in the future.  If you're wondering what will happen with XBL 2, know: eliminating a remote XUL was a necessary step towards implementing XBL 2. <br><br><h4>  Theme and user interface changes </h4><br>  On these issues you will have to frequently and re-inquire, since there are many ambitious plans about Firefox 4 UI.  Whether some of these changes will actually be realized or not depends on whether there is time and whether the correct consensus is found. <br><br>  The main document about these UI changes is the Mozilla wiki: ‚Äú <a href="">UX Priorities for Firefox 3.7</a> ‚Äù.  Here are some important changes you should be aware of: <ul><li>  <a href="http://blog.mozilla.com/faaborg/2010/06/24/why-tabs-are-on-top-in-firefox-4/">Tabs at the top</a> .  A setting appears that controls the position of the tab bar relative to the toolbars. </li><li>  Application menu.  On Windows (and on other systems?) There will be a single <nobr>menu button</nobr> instead of a full menu bar.  Pressing the "Alt" key will act as a switch and a switch for the "classic" menu.  That, of course, will affect the additions that are imposed on the menu in the main menu. </li><li>  Home tab.  She will always be first on the tab bar. </li><li>  Application tabs.  It will be possible to switch a tab to the application mode, which will basically mean that such a tab is more difficult to close, and its title will be hidden: on the spine, the tab will only have a site icon.  More interesting changes (for example, hiding browser toolbars when such a tab is active) are also planned. </li><li>  They also talk about whether to hide or even remove the status bar altogether, which also turns out to be a significant change for add-on developers.  This discussion has spawned several blog entries, and it will certainly continue.  (You can read more information in its <a href="http://jboriss.wordpress.com/2010/04/29/removing-firefoxs-status-bar-and-rehousing-add-on-icons-part-1-of-2/">first</a> , <a href="http://jboriss.wordpress.com/2010/06/07/removing-firefox%25E2%2580%2599s-status-bar-and-rehousing-add-on-icons-part-2-of-2/">second</a> <nobr>and</nobr> <a href="http://jboriss.wordpress.com/2010/06/16/removing-firefox%25E2%2580%2599s-status-bar-and-rehousing-add-on-icons-part-3-of-2-wut/">third</a> parts.) </li></ul><br><h4>  Other changes </h4><br><ul><li>  To speed up Firefox 4, it will henceforth be more avidly to cache some files, including extension resources - both chrome <nobr>and JS files.</nobr>  This can lead to unexpected behavior in the development of add-ons, since changes to some files will not be applied until the corresponding cache files are deleted.  And this is the <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D531886">corresponding bug</a> .  (Please do not comment it only to support this or that point of view: there are plenty of such comments.) In short, you will have to make sure that all the <a href="https://developer.mozilla.org/en/Setting_up_extension_development_environment">correct settings have been set</a> and that the command line argument <nobr>‚Äú-purgecaches‚Äù is used,</nobr> when you run a debug profile.  And even then the <nobr>JS-modules</nobr> will not be updated, but this will most likely be fixed in the future Firefox build. </li><li>  The lines <nobr>"User-Agent: ..."</nobr> <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D572650">will be shortened</a> for various reasons.  Acting on these changes, the AMO editors will also soon be tracking extensions to <nobr>UA-strings</nobr> .  We will forbid any unnecessary modifications.  Unless your extension has a valid need to replace the UA, you better remove the corresponding code immediately. </li><li>  One of the developers informed me that the URL thrown on the sidebar <i>(sidebar)</i> , now by default leads to an attempt to open this URL.  If your sidebar handles pulling and throwing, then make sure that you also use <nobr>preventDefault.</nobr> </li></ul>  As you can see, there is a lot of work to be done to achieve compatibility with Firefox 4, so now is a good time to start it.  However, keep in mind that the development of Firefox 4 largely continues it, so that further changes are likely to occur.  Do not think that you can create the final version of your add-on for Firefox 4, based only on the first beta.  I recommend that you take the time to get up-to-date on the latest Firefox 4 news. <br><br>  And, of course, there will be many good new products that will allow you to do amazing things in your expansion - including animation (2D and 3D), multithreading and interaction with system libraries.  " <a href="https://developer.mozilla.org/en/Firefox_4_for_developers">Firefox 4 for developers</a> " suddenly order a friend for you.  <a href="http://hacks.mozilla.org/2010/07/firefox-4-beta-1-is-here-whats-in-it-for-web-developers/">And the Hacks blog is</a> also a good review. </div><p>Source: <a href="https://habr.com/ru/post/99805/">https://habr.com/ru/post/99805/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../99794/index.html">Setting the time limit of the script</a></li>
<li><a href="../99797/index.html">Handy Light. How a teenager tricked Apple</a></li>
<li><a href="../99801/index.html">Eco-print</a></li>
<li><a href="../99803/index.html">Corporate Jabber server: catch up and overtake Google</a></li>
<li><a href="../99804/index.html">Hackers presented "Kraken" to break the encryption algorithm in GSM-networks</a></li>
<li><a href="../99806/index.html">Stickr plugin for Firefox Mozilla got a screen grabber!</a></li>
<li><a href="../99807/index.html">Video Reception - Meet the Client at His Home</a></li>
<li><a href="../99809/index.html">Comic Contest: Dream Society. What is it?</a></li>
<li><a href="../99810/index.html">"Double" charging station for phones do it yourself</a></li>
<li><a href="../99813/index.html">New StarCraft 2 Epic Movie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>