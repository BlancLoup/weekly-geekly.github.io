<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Halves of a square</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In any mobile game, regular grids are used, they are also matrices. One grid is always in sight - this is a MxN-sized phone screen In addition, in the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Halves of a square</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/129/894/cbf/129894cbf8ba4b3297b682edfceb30ea.png"><img src="https://habrastorage.org/files/5cf/6d1/682/5cf6d168240e49b586a1b7a307cbb3d0.png"><br><br>  In any mobile game, regular grids are used, they are also matrices.  One grid is always in sight - this is a MxN-sized phone screen  In addition, in the <i>Tetrises and Lines</i> clearly visible, and other game grids.  In AAA games, the matrices are hidden, but we know that they exist.  And, yes, green - the most dangerous. <br><br>  When working with grids, there are so many sweet tasks that from the desire to solve them as soon as possible, sweat drips from the fingers on the keyboard.  One of these tasks is to fill the matrix with random values.  For example, there is a 5x5 grid, which must be filled with 24 balls of 4 colors.  There should be 6 balls of each color and one hole.  Pseudo-code like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> items = [Int]() let nItems = <span class="hljs-number"><span class="hljs-number">25</span></span> let nColors = <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><a name="habracut"></a><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// init array items items.append(0) for j in 1...nColors { for _ in 1...6 { items.append(j) } } // shuffle for _ in 1...1000 { let k = microsoft_rand(nItems) let j = microsoft_rand(nItems) let m = items[k] items[k] = items[j] items[j] = m }</span></span></code> </pre><br>  Let's make the code and algorithm more beautiful.  The word <i>more beautiful</i> sounds frightening, agree.  Sometimes, the more beautiful the code, the closer the <i>crash</i> . <br><br><pre> <code class="go hljs">let nItems = <span class="hljs-number"><span class="hljs-number">25</span></span> let nColors = <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> items = [Int]() <span class="hljs-comment"><span class="hljs-comment">// init array items for j in 0..&lt;nItems { let k = 1 + j % nColors items.append(j==0 ? j : k) } // shuffle for j in 0..&lt;nItems-1 { let k = j + microsoft_rand(nItems-j) items.swap(k,j) }</span></span></code> </pre><br>  On the last 4 lines, Phil grins, php has a method <br><br><pre> <code class="go hljs">items.shuffle()</code> </pre> <br>  However, the text has become shorter by 2 times.  Code - 40 times faster.  Probably, you can redo the algorithm for the balls for a long time.  But, to be honest, the balls have nothing to do with it.  The main theme is squares, which are divided diagonally into two equal halves in two ways.  The resulting halves need to fill in the matrix and get a good game at the output. <br><br><h4>  Meet the <i>Halves 2048</i> . </h4><br>  In the game you just need to collect back the squares of the halves and clear the entire field.  Managing the game is absolutely the same as in applications like 2048 - we drag our finger across the screen either up and down or left and right. <br><br>  When creating a game, I became a different person, suddenly realizing that artists are people too and need a material evaluation of their work.  That's why I bought pictures and backgrounds from a girl artist for $ 15.  Musicians are another matter.  They can earn in underground passages. <br><br>  Okay.  Of course, I had to edit the images a little, but I think I didn‚Äôt spoil them much. <br><br>  In the purchased pictures there was a menu designed for 15 levels.  I had to match the design and make 15 different <i>gameplays</i> .  Playboys and Gameplays.  Funny surnames might be.  As a result of fabrications at different levels of the game, the matrix size 3x3, 5x5, 7x7, 9x9 and the type of gameplay began to change.  The first option - the classic puzzle - to clean the board for the minimum number of movements.  The second option - dynamic - after each movement 2, 4 or 6 halves fall on the board, trying to overwhelm the playing field.  We must hold out as long as possible.  The first option takes 1 minute of player's life.  The second option sometimes takes up to 1 hour flight between Belgrade and Ljubljana. <br><br>  Blinding the code quickly, I started testing.  It was necessary to adjust the levels - to get an approximate number of moves, for which you can add puzzles and arrange ratings.  For example, I was able to solve the board 5x5 in 8 moves, which at first seemed incredible. <br><br>  I dare to offer a task to those without an iPhone <br><br><img src="https://habrastorage.org/files/915/ed8/edf/915ed8edfae148de84182d40b6b95838.png"><br><br><div class="spoiler">  <b class="spoiler_title">Unixoids Solution</b> <div class="spoiler_text">  4,3,5,2,4,3,5,2,5,2, <br>  2-left <br>  3-right <br>  4-up <br>  5-down <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Video solution</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/-Kbl0IGUhBg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  For an endless game, it was necessary to pick up the number of falling halves - surprisingly, but for board 9 by 9, 7-8 drop-down items are needed after each player's turn, otherwise the game actually becomes endless and boring in half an hour. <br><br>  There were no problems with the publication.  January 22, I laid out the game for review.  24 in the evening she was in review and in another hour she was ready for sale.  Especially for local yablofilov she declared free and is waiting for your records.  I collect all the results in the cloud, including secretly storing sequences of the best solutions. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/320506/">https://habr.com/ru/post/320506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../320494/index.html">‚ÄúWhen working on code inspections, you meet Java puzzlers every day‚Äù: Tagir Valeev about working on IntelliJ IDEA</a></li>
<li><a href="../320496/index.html">Open online courses from ITMO University</a></li>
<li><a href="../320498/index.html">Data models for user authentication in web applications</a></li>
<li><a href="../320500/index.html">Review Knime Analytics Platform - open source data analysis systems</a></li>
<li><a href="../320504/index.html">Using SVG to draw outline diagrams</a></li>
<li><a href="../320508/index.html">Accelerate data transfer to localhost</a></li>
<li><a href="../320510/index.html">About data open, shared and delegated</a></li>
<li><a href="../320514/index.html">Why do we need even more data centers: today and tomorrow big data analysts</a></li>
<li><a href="../320516/index.html">Do you stick to social networks and how to deal with it</a></li>
<li><a href="../320518/index.html">Informatization of business is not IT companies - current realities and prospects, opinions and experience of experts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>