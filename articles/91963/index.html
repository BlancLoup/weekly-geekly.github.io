<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Convert video to Ogg Theora. UNIX Way</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Before we begin the practice, let us ask ourselves some very interesting questions: why the console, why use the Ogg Theora video codec, how and with ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Convert video to Ogg Theora. UNIX Way</h1><div class="post__text post__text-html js-mediator-article">  Before we begin the practice, let us ask ourselves some very interesting questions: why the console, why use the Ogg Theora video codec, how and with what parameters is it better to convert the video. <br><br>  Let's start with the materiel: <br><br><blockquote>  Video codec is a program / compression algorithm (that is, reducing the size) of video data (video file, video stream).  A codec is a file formula that determines how you can ‚Äúpack‚Äù video content and, accordingly, play the video.  Encoding is also possible in addition to video and audio information, adding subtitles, vector effects, etc. </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Today, the most popular video codecs are the familiar DivX, XviD, H.264, WMV, Apple QuickTime and many others.  Ogg Theora was always in the shadow of her colleagues and there seemed to be some reason for that.  Maybe because it is a relatively new codec (it appeared only in 2004), maybe because it was initially oriented towards using it on the Internet, and not for encoding video films ... This is not important anymore. <a name="habracut"></a><br><br><ul><li>  Theora is an open and free video codec for commercial and non-commercial use. </li><li>  Theora uses high quality compression algorithms, making this codec a good choice for encoding any type of video. </li><li>  Theoraora is ideal for streaming video on the Internet, the final size / quality leaves far behind all competitors. </li><li>  Theora is cross-platform.  This means that you can use the format in any modern operating system, both in Linux and in Windows. </li><li>  Every modern Linux distribution supports Theora by default.  You do not have to use third-party proprietary codecs to view videos in this format. </li></ul><br><br>  Here are the main reasons for using Ogg Theora.  But the habit is a great power and standard codecs today are DivX and XviD.  For high-quality coding, H.264 is usually used.  When you download a movie from the Internet, be sure - most likely it is compressed with one of these three codecs. <br><br>  Who is to blame and what to do?  All these codecs are closed, patented and paid.  Something tells me that their owners receive good deductions from each sold household player.  There are plenty of reasons why Theora is the preferred choice.  And you can start to improve the world from the small - translate your video library into the free format OGV - Ogg Vorbis Video. <br><br>  Using Linux, we have a very powerful tool available - the bash console.  With it, you can work wonders and the most complicated operations in a matter of minutes.  The same applies to video conversion.  To begin, we need only one console utility - <a href="http://v2v.cc/~j/ffmpeg2theora/">ffmpeg2theora</a> .  I will not describe how to install it.  If you are using Linux, then you can already install any programs by the regular package manager.  So let's get to the point right away. <br><br><h4>  Example 1. Converting "avishki". </h4><br>  For example, let's convert one series of my favorite series, The Big Bang Theory.  So open the console. <br><br>  Go to the folder with the file: <br> <code>$ cd ~/Downloads/</code> <br> <br>  Choose the optimal options for non-dynamic video and normal sound: <br> <code>$ ffmpeg2theora -v 8 --optimize -a 4 -o test.ogv The.Big.Bang.Theory.S03E17.rus.HDTVrip.\[Kuraj-Bambey.Ru\].avi</code> <br> <br>  Let's see what is written here.  ffmpeg2theora - of course, this is the program itself.  Next are its options-keys: <br>  <strong>-v</strong> indicates the desired video quality on a scale from one to ten.  Level 8 is enough for transcoding an already compressed video.  If the film is saturated with dynamic scenes, then it is better to specify to the maximum, that is, 10. <br><br>  <strong>--optimize</strong> , as you might guess, optimizes picture quality, to the detriment of the conversion speed.  But we have nowhere to hurry, quality is more important. <br><br>  <strong>-a</strong> indicates the desired sound quality, also on a ten-point scale.  The number 4 actually means 128 kbps, which is enough for the series.  You can also specify the -A key with the parameter 128. The same is obtained. <br><br>  After <strong>-o,</strong> we specify the name of the file at the output, for example test.ogv ( <strong>ogv</strong> is the standard extension for video in ogg format). <br><br>  And at the very end we specify the file, which, in fact, we want to convert.  Hit Enter and watch the result.  Or do not follow, since the process lasts a long time, it depends on the power of the computer. <br><br><h4>  Example 2. Convert DVD. </h4><br>  Here everything is somewhat more complicated, but not by much.  Compressing an already compressed video is sometimes fraught with tangible loss of image quality.  But the DVDRip in Theora format is better in quality than the usual DivX.  For example, let's ‚Äúrip‚Äù the film ‚ÄúThe Matrix‚Äù. <br><br>  Go to the folder with the file: <br> <code>$ cd ~/Downloads/Matrix/VIDEO_TS/</code> <br> <br>  Choose the optimal options in the calculation of the source file of 1.4 gigabytes: <br> <code>$ cat VTS_01_1.VOB VTS_01_2.VOB VTS_01_3.VOB VTS_01_4.VOB VTS_01_5.VOB | ffmpeg2theora --videobitrate 1434 --optimize --first-pass tech.ogv --audiobitrate 256 - &amp;&amp; cat VTS_01_1.VOB VTS_01_2.VOB VTS_01_3.VOB VTS_01_4.VOB VTS_01_5.VOB | ffmpeg2theora --videobitrate 1434 --optimize --second-pass tech.ogv --audiobitrate 256 -o matrix.ogv -</code> <br> <br>  Let's expose the magic of this spell.  Here we are confronted with a powerful console thing called ‚Äúthread redirection‚Äù.  This is beyond the scope of this article, but you can see that before the ffmpeg2theora command, we are building a list of files for conversion.  The DVD is always split into VTS_order-number_order-number, so we need to put them together. <br><br>  <strong>cat</strong> is doing file adding. <br><br>  <strong>|</strong>  - this is a redirection symbol, in our case it gives a queue of files for processing by the ffmpeg2theora program. <br><br>  <strong>--videobitrate</strong> indicates the desired video quality, like the <strong>-v option</strong> , but not on a scale from one to ten, but in <strong>kilo-bits</strong> exactly.  Synonym for <strong>-V</strong> . <br><br>  <strong>- First-pass-pass</strong> means the first, technical run of the video and saving the analytical information in the tech.ogv file for the future basis of the second, final run of the video. <br><br>  <strong>--audiobitrate</strong> indicates sound quality in kilobits.  The key synonym is <strong>-A</strong> . <br><br>  <strong>&amp;&amp;</strong> is like an addition command.  Immediately after the first program to perform the second.  Just to automate production :) <br><br>  - second <strong>-pass</strong> - the second run.  At this time, algorithms are applied and the video sequence is directly encoded.  For this purpose, the tech.ogv technical file prepared during the first ‚Äúanalytical‚Äù passage is used. <br><br>  At the end of the command, a <strong>-</strong> is put, this indicates to the converter the incoming file stream for processing. <br><br>  Click Enter and wait, wait, wait.  Will have to wait a long time.  While we wait, let's find out where the numbers 1434 and 256 came from. <br><br>  With 256, everything is simple.  This is 256 kbps per sound, which is decent even for a musical :) The video bit rate is calculated using the formula: <br><br>  <strong>BV = (Sx8x1024) / L-BA</strong> , where <br><br>  BV - video bit rate; <br>  S is the desired file size in megabytes; <br>  L is the duration of the film in seconds; <br>  BA - audio bitrate. <br><br>  It is important to clarify that this is a pure bitrate, without the so-called redundant technical information, which is about one percent of the video bitrate.  That is, the real bit rate that the encoder needs to specify is 99% of the BV.  Here also those 1434 kilobits turn out. <br><br>  I wanted the original file to occupy 1.4 gigabytes.  The result of simple calculations gave the desired result.  If the exact file size does not matter, you can simply specify the -v option with the parameter 8, 9, or 10. This will give a high quality picture without unnecessary problems.  In any case, play around with the settings, since for each video the parameters are selected individually, it depends on the dynamics of the image, semitones, etc. <br><br>  The process, as you can see, is simple and flexible.  Of course, the translation of the entire home video library will take a lot of time, but little by little, you can start a little bit. <br><br>  In the Ogg Theora format, I found only one flaw, for many it will seem significant - the lack of support from manufacturers of household appliances.  Yes, your dvd player will most likely not be able to play Ogg.  But after all, demand creates supply, right?  If the format becomes popular, surely manufacturers will pay attention to it.  The quality of the picture will please the eye and world peace will come :) Everything is in our hands. <br><br>  <i>PS I would be very grateful for any constructive comments and clarifications on this article.</i> </div><p>Source: <a href="https://habr.com/ru/post/91963/">https://habr.com/ru/post/91963/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../91952/index.html">WineGame 0.0.1 RC</a></li>
<li><a href="../91953/index.html">The C language creator will have to pass a knowledge test</a></li>
<li><a href="../91954/index.html">Guess browser by icon</a></li>
<li><a href="../91960/index.html">New video of the robo-ant A-Pod</a></li>
<li><a href="../91961/index.html">Reducing the processor load in Adobe AIR</a></li>
<li><a href="../91964/index.html">Hackathon at iPaddevcamp, San Jose, CA we are going to make similar in Ukraine</a></li>
<li><a href="../91965/index.html">The first HS video from the N97, working on the Nokia 5800</a></li>
<li><a href="../91966/index.html">Photo report: Russia's first 3D LED TV rolled off the assembly line at SERK, April 23, 2010</a></li>
<li><a href="../91967/index.html">Who are you, Mr. Noob? Or an attempt to classify newcomers living on the Internet according to their way of asking questions! (Part 1)</a></li>
<li><a href="../91968/index.html">Independent study of circuit design. Abstract machine. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>