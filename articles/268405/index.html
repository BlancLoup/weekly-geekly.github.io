<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fractal bush from beginner for beginners</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As I mentioned, I'm a beginner (and the most modest in the universe) Java programmer. Sometimes the soul asks for something like that, so it‚Äôs straigh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Fractal bush from beginner for beginners</h1><div class="post__text post__text-html js-mediator-article">  As I mentioned, I'm a beginner (and the most modest in the universe) Java programmer.  Sometimes the soul asks for something like that, so it‚Äôs straight that it first turns around and then coagulates again.  I want beauty.  And the beauty of drawing, we are not yet trained.  But trained to draw sticks and circles. <br><br>  And with the battle cry ‚ÄúBeauty is in simplicity!‚Äù, We draw from sticks.  And what can we draw beautiful and simple, so that colleagues gasp in delight?  And here comes to the aid of a beautiful word - Fractal. <br><br>  First, the definition: "A fractal is a structure of parts ... bla-bla-bla ... self-similarity ... bla-bla-bla ... beautiful ... bla-bla-bla ...". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/52b/e6f/b80/52be6fb806e041d88aa89ea357d49dce.jpg"><br><br>  And armed with this comprehensive knowledge, let's draw a fractal tree, or rather a bush. <br><a name="habracut"></a><br>  To begin with, we will create a shell from which we will run everything: <br><br><div class="spoiler">  <b class="spoiler_title">FractalTreeTest class</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FractalTreeTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ EventQueue.invokeLater(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ JFractalFrame frame = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JFractalFrame(); frame.setVisible(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } }); } }</code> </pre> <br></div></div><br>  Now we will create a class responsible for displaying the window and launching the animation: <br><br><div class="spoiler">  <b class="spoiler_title">JFractalFrame class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JFractalFrame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JFrame</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> startAnimation=<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; JPanel paintPanel; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">JFractalFrame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ setTitle(<span class="hljs-string"><span class="hljs-string">"FractalTree"</span></span>); setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); paintPanel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PaintPanel(); paintPanel.setBackground(Color.DARK_GRAY); add(paintPanel); requestFocus();<span class="hljs-comment"><span class="hljs-comment">//    .   ,    //       ,    addKeyListener(new KeyAdapter() { public void keyPressed(KeyEvent e){ if(e.getKeyCode()&gt;0 &amp;&amp; !startAnimation){ pack(); startAnimation=true; startAnimation (); } } }); paintPanel.repaint(); pack(); } public void startAnimation(){ Runnable galaxyRun = new FractalRunnable((PaintPanel) paintPanel); Thread t = new Thread(galaxyRun); t.start(); } }</span></span></code> </pre><br></div></div><br>  A class with a panel on which the whole action is drawn.  It contains the recursive function fractal, which renders the new branches: <br><br><div class="spoiler">  <b class="spoiler_title">PaintPanel class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PaintPanel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JPanel</span></span></span></span>{ List&lt;Branch&gt; listBranch = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CopyOnWriteArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> angle=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setAngle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> angle)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.angle = angle; } <span class="hljs-comment"><span class="hljs-comment">// ,         ,     //    ,   ,  ,    public void fractal(int startLength, Point2D startPoint, double alpha, int step){ if(alpha&lt;0) alpha=360; double radian =(alpha/(180/Math.PI)); Point2D endPoint1 = new Point2D(); Point2D endPoint2 = new Point2D(); endPoint1.setX((float) (startPoint.getX()-startLength*Math.cos(radian))); endPoint1.setY((float) (startPoint.getY()-startLength*Math.sin(radian))); addBranch(new Branch(startPoint, endPoint1, startLength)); endPoint2.setX((float) (startPoint.getX()-startLength*Math.cos(radian))); endPoint2.setY((float) (startPoint.getY()-startLength*Math.sin(radian))); addBranch(new Branch(startPoint, endPoint2, startLength)); if(step&gt;0){ step--; startLength-=4; //   //        .  //  . fractal(startLength, endPoint1, alpha-(20+angle),step); //angle    fractal(startLength, endPoint2, alpha+(20-angle), step); } } public void addBranch(Branch b){ listBranch.add(b); } public void paintComponent(Graphics g){ super.paintComponent(g); //   ,     60,  90,   10  fractal(60, new Point2D(320, 480), 90, 10); Random randomX = new Random(); Graphics2D g2d = (Graphics2D)g; for(Branch b: listBranch){ //   ,   ¬´¬ª   g2d.setColor(new Color(randomX.nextInt(255),randomX.nextInt(255),randomX.nextInt(255))); //   ,    , // ,        /* if(b.length&gt;30) g2d.setColor(Color.ORANGE.darker()); else g2d.setColor(Color.GREEN); */ g2d.draw(b.getShape()); } //   ,      listBranch.clear(); } //    public Dimension getPreferredSize() { // TODO Auto-generated method stub return new Dimension(640,480); } }</span></span></code> </pre><br></div></div><br>  2D point class: <br><br><div class="spoiler">  <b class="spoiler_title">Class Point2D</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point2D</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x, y; <span class="hljs-comment"><span class="hljs-comment">//     public Point2D(float x, float y) { this.x=x; this.y = y; } public Point2D(){ } public void setX(float x) { this.x = x; } public void setY(float y) { this.y = y; } public float getX() { return x; } public float getY() { return y; } }</span></span></code> </pre><br></div></div><br>  The class responsible for drawing branches: <br><br><div class="spoiler">  <b class="spoiler_title">Branch class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Branch</span></span></span></span>{ Point2D begin; Point2D end; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length; <span class="hljs-comment"><span class="hljs-comment">//     public Branch(Point2D begin, Point2D end, int length) { this.begin=begin; this.end=end; this.length=length; } //      public Line2D getShape(){ return new Line2D.Double(begin.getX(), begin.getY(), end.getX(), end.getY()); } }</span></span></code> </pre><br></div></div><br>  And finally, the Runnable class, in which our animation will spin: <br><br><div class="spoiler">  <b class="spoiler_title">FractalRunnable class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FractalRunnable</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Runnable</span></span></span></span>{ PaintPanel paintPanel; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FractalRunnable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PaintPanel paintPanel)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// TODO Auto-generated constructor stub this.paintPanel=paintPanel; } public void run() { double count=0; boolean leftDir = true; while(true){ //¬ª  ,   ‚Ä¶¬ª . //    count if(count&gt;8 &amp;&amp; a&lt;count){ leftDir=false; } if(count&lt;-8 &amp;&amp; count&gt;-9){ leftDir=true; } if(leftDir) count+=0.01; else count-=0.01; paintPanel.setAngle(a); paintPanel.repaint(); try { Thread.sleep(5); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } } } }</span></span></code> </pre><br></div></div><br>  We launch, click on any button on the keyboard, and rejoice. <br><br>  So let me leave. </div><p>Source: <a href="https://habr.com/ru/post/268405/">https://habr.com/ru/post/268405/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268395/index.html">Tehnokniga, Part 4: literature on product management, web services development, web project management, business and systems analysis of architects</a></li>
<li><a href="../268397/index.html">How VMware DRS works</a></li>
<li><a href="../268399/index.html">4 reasons to risk moving to software-defined data center ‚Äì y</a></li>
<li><a href="../268401/index.html">Natural Language Programming Instructions or Intentional Programming</a></li>
<li><a href="../268403/index.html">HackerSIM: small explanation (comment)</a></li>
<li><a href="../268409/index.html">Add system call. Part 4 and last</a></li>
<li><a href="../268411/index.html">Translation: One year with Go</a></li>
<li><a href="../268413/index.html">Three days that shook us in 2013</a></li>
<li><a href="../268417/index.html">ANVE.ru - best friend of suppliers and dealers</a></li>
<li><a href="../268419/index.html">We received GOLD for the operation of the data center TIER III - the final progress after T-III for the project and T-III for the finished object</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>