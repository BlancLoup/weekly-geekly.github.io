<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to create a cool action for Google Assistant. Just AI's life hacking</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The ecosystem around Google Assistant is growing incredibly fast. In April 2017, only 165 action games were available to users, and today there are mo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to create a cool action for Google Assistant. Just AI's life hacking</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/_f/v8/yi/_fv8yipxfychn_spxsjlney6z2c.jpeg" alt="image"><br><br>  The ecosystem around Google Assistant is growing incredibly fast.  In April 2017, only 165 action games were available to users, and today there are more than 4500 of them in English only. The Russian-speaking corner of the Google Assistant‚Äôs universe will be as diverse and interesting as it depends on the developers.  Is there a ‚Äúperfect action‚Äù formula?  Why separate code and content from script?  What should be remembered while working on a conversational interface?  We asked the Just AI team, colloquial AI technology developers, to share the life hacks to create apps for Google Assistant.  On the platform of Aimylogic from Just AI several hundreds of action games have been created, among which there are very popular ones - more than 140 thousand people have already played the game <a href="https://assistant.google.com/services/a/uid/0000007229b6b8f9%3Fhl%3Dru">‚ÄúYes, my Lord‚Äù</a> .  How to build a dream action game, says Dmitry Chechetkin, Just AI strategic project manager. <br><br><h3>  Shake, but do not mix: the role of the script, content and code </h3><br><a name="habracut"></a>  Any voice application consists of three components - an interactive script, content with which the action interacts, and programmable logic, i.e.  code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Scenario - this is probably the main thing.  It describes what phrases a user can say, how an action should react to them, to which states he goes into and how he responds.  I have been programming for 12 years, but when it comes to creating a conversational interface, I resort to various visual tools. <br><br>  For a start, it doesn‚Äôt hurt to draw a simple script of the script on paper.  So you decide what and what follows in the dialogue.  Then you can transfer the script to some product for its visualization.  Google offers <a href="https://developers.google.com/actions/dialogflow/first-app">Dialogflow</a> to create a fully customized dialog, and for the simplest and shortest scenarios that do not require a broad understanding of the language, the <a href="https://developers.google.com/actions/building-your-apps%3Fhl%3Dru">Actions SDK</a> .  Another option is a visual designer with NLU <a href="https://aimylogic.com/ru">Aimylogic</a> ( <a href="https://help.aimylogic.com/ru/article/google-assistant-b2jld2/">how to create an action for Google Assistant in Aimylogic</a> ), in which you can build a script without deep programming skills, besides, you can immediately test the action.  I use Aimylogic to see how all the transitions in my dialogue will work, to test and validate the hypothesis itself and the idea of ‚Äã‚Äãwhat I want to implement. <br><br><img src="https://habrastorage.org/webt/bz/m2/ke/bzm2ke-or4_pc34pcmfvevrwjkg.jpeg"><br><br>  Frequently, programmable logic is required.  For example, your website may look cool, but in order for it to ‚Äúknow how‚Äù, it will have to refer to the code on the server - and the code can already calculate, save and return the result.  The same with the script for the action.  The code should run smoothly, and better, if completely free.  Today there is no need to pay thousands of dollars so that a code of 50, 100, 1000 lines is available for your action 24/7.  I use several services for this: <a href="https://firebase.google.com/products/functions">Google Cloud Functions</a> , Heroku, Webtask.io, Amazon Lambda.  The Google Cloud Platform generally provides for free a fairly wide range of services in its <a href="https://cloud.google.com/free/docs/gcp-free-tier">Free Tier</a> . <br><br>  The script can access the code using the simplest http calls that we are all used to.  But at the same time, the code and the dialogue script do not mix.  And this is good, because this way you can keep both of these components up to date, expand them as you please, without complicating the work on the action. <br><br><img src="https://habrastorage.org/webt/bv/jp/h_/bvjph_qk6kczxixfxbw7srcw_q4.jpeg"><br><br>  The third component is content.  These are data that can change all the time without affecting the structure of the script itself.  For example, quiz questions or episodes in our game <a href="https://assistant.google.com/services/a/uid/0000007229b6b8f9%3Fhl%3Dru">"Yes, my lord</a> . <a href="https://assistant.google.com/services/a/uid/0000007229b6b8f9%3Fhl%3Dru">"</a>  If the content lived with the script or with the code, then such a script would become increasingly cumbersome.  And in this case, no matter what tool you use to create the action, you will still be inconvenient to work with it.  Therefore, I recommend storing the content separately: in a database, in a file in the cloud storage or in a table, to which the script can also be accessed via the API to receive data on the fly.  Separating the content from the script and from the code, you can attract other people to work on the action - they can replenish the content independently of you.  And the development of content is very important, because the user expects fresh and diverse content from the action to which he returns time after time. <br><br><img src="https://habrastorage.org/webt/yh/q9/yw/yhq9ywcmzmaunyr5owofk8vz1ti.jpeg"><br><br>  How to use ordinary tables in the cloud, so as not to store all the content in the script itself?  For example, in <a href="https://assistant.google.com/services/a/uid/00000087d4d216e0%3Fhl%3Dru">the First or Second</a> game <a href="https://assistant.google.com/services/a/uid/00000087d4d216e0%3Fhl%3Dru">,</a> we used the cloud Excel table, where any of the project participants could add new questions and answers for the action.  This table script on Aimylogic is accessed using a single http request through a special API.  As you can see, the script itself is small - because it does not store all the data from the table, which is updated every day.  Thus, we separate the interactive script from the content, which allows us to work with the content independently and collectively replenish the script with fresh data.  By the way, 50 thousand people have already played this game. <br><br><h3>  Checklist: what you need to remember, creating a conversational interface </h3><br>  Any interface has components with which the user interacts: lists, buttons, images, and so on.  The conversational interface exists according to the same laws, but the fundamental difference is that a person communicates with the program in a voice.  From this we must make a start, creating our own action. <br><br>  <b>The correct action should not be able to do anything.</b>  When a person speaks with a program, he cannot keep a lot of information in his head (remember how you listen to high-rise personal proposals from a bank or a mobile operator by phone).  Discard the superfluous and focus on one single, but the most important function of your service, which will be most conveniently performed with your voice, without touching the screen. <br><br>  For example, you have a ticket service.  You should not hope that the client will turn the entire familiar scenario with his voice - look for a ticket according to five or six criteria, choose between carriers, compare and pay.  But an application that prompts the minimum price for the chosen direction may well come in handy: this is a very fast operation, and it is convenient to perform it with a voice, without opening the site, without having to re-run the ‚Äúform-filling‚Äù script each time (when you fill in the fields and select filters ). <br><br>  <b>Action is about the voice, not about the service as a whole.</b>  The user should not regret that he launched the action in the Assistant, and did not go, for example, to the application or to the site.  But how to understand that without a voice can not do?  To begin with, try on the idea of ‚Äã‚Äãaction for yourself.  If you can easily perform the same action without a voice, there will be no sense.  One of my first apps for Assistant is <a href="https://assistant.google.com/services/a/uid/0000004b680a3fbf%3Fhl%3Dru">Yoga for the Eyes</a> .  This is such a virtual personal trainer who helps to do exercises for sight.  There is no doubt that you need a voice here: your eyes are busy with exercises, you are relaxed and focused on oral recommendations.  Peeping into the memo, distracting from the training, would be inconvenient and inefficient. <br><br>  Or here is an example of an unsuccessful script for a voice application.  Often I hear about how another online store wants to sell something through a virtual assistant.  But filling the basket with a voice is inconvenient and impractical.  And it is unlikely that the client will understand why he needs it.  But the ability to repeat the last order with a voice or throw something on the go to the shopping list is another matter. <br><br>  <b>Remember the UX.</b>  The action must be at one with the user: accompany and guide him along the course of the dialogue so that he can easily understand what needs to be said.  If a person comes to a dead end, begins to think, "And then what?" - this is a failure.  No need to rely on the fact that your user will always refer to help.  Dead ends should be monitored (for example, in the analytics in the <a href="https://console.actions.google.com/u/0/">Actions Console</a> ), and the user should be assisted with leading questions or prompts.  In the case of voice action, predictability is not a vice.  For example, in our game ‚ÄúYes, my Lord,‚Äù each phrase ends in such a way that the participant can answer either ‚Äúyes‚Äù or ‚Äúno.‚Äù  He is not required to invent something on his own.  And it's not that this is such an elementary game.  Just the rules are designed so that the user is very clear. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/qv10RDHrasA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>"He speaks well!"</b>  The action ‚Äúhears‚Äù well thanks to the Assistant, and ‚Äúspeaks‚Äù well ‚Äî thanks to the developer of the script.  The recent update gave Google Assistant new voices and more realistic pronunciation.  Everything is cool, but the developer should reflect on the phrase, its structure, sound, so that the user can understand everything the first time.  Set accents, use pauses to make action phrases sound human. <br><br>  Never load the user.  For action games that sound news feeds or read fairy tales to children, this is not a problem.  But endlessly listening to the voice of a voice assistant, when you want to order a pizza, is difficult.  Try to make the replicas concise, but not monosyllabic and diverse (for example, consider several options for greetings, farewell and even phrases in case the assistant misunderstood something).  The dialogue should sound natural and friendly, for this you can add to the phrases elements of speaking, emotions, interjections. <br><br>  <b>The user does not forgive nonsense.</b>  People often blame voice assistants for being stupid.  And basically it happens when an assistant or application for it cannot recognize different variations of the same phrase.  Let your action be as simple as setting an alarm, it is important that it still understands synonyms, different forms of the same meaning of words and does not give a failure if the user responds unpredictably. <br><br>  How to get out of situations where the action refuses to understand?  First, you can diversify the answers in the Default Fallback Intent - use not only the standard provided, but also custom ones.  And secondly, you can train Fallback Intent with all sorts of spam phrases that are not related to the game.  This will teach the application not only to respond adequately to irrelevant requests, but also increase the accuracy of the classification of other types of requests. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9e6/fc6/886/9e6fc68863bc0db72674e5dc8a9e614e.gif" alt="image"><br><br>  And one more tip.  Never, never make a push-button menu out of your action to make the user's life easier - it annoys, distracts from the dialogue and makes you doubt the need to use voice. <br><br>  <b>Teach action politeness.</b>  Even the coolest action game should end.  Ideally, a farewell, after which you will want to return to it again.  By the way, remember that if an action does not ask a question, but simply answers a user's question, he must ‚Äúclose the microphone‚Äù (otherwise the application will not pass the moderation and will not be published).  In the case of Aimylogic, you just need to add the ‚ÄúEnd Script‚Äù block to the script. <br><br>  And if you are counting on retenshen, it is important to provide for other scenarios of good form in the scenario: the action should work in context - remember the name and gender of the user and not ask again what has already been clarified. <br><br><h3>  How to work with ratings and reviews <br></h3><br>  Google Assistant users can rate action and thereby affect their rating.  Therefore, it is important to learn how to use the rating system to your advantage.  It would seem that you just need to give the user a link to the page with your action and ask him to leave a review.  But here there are some rules.  For example, do not offer to evaluate the action in the first message: the user must understand what he puts the assessment.  Wait until the application really performs some useful or interesting mission to the user, and only then offer to leave a review. <br><br><img src="https://habrastorage.org/webt/sq/ey/11/sqey11_fbutkalugzcxvtxgznk4.jpeg"><br><br>  And it is better not to try to voice this request with your voice, using speech synthesis - you will only spend the time of the user.  Moreover, he may not follow the link, but say ‚ÄúI bet five,‚Äù and this is not at all what you need in this case. <br><br>  In the game ‚ÄúYes, my lord,‚Äù we display a link for feedback only after the user has played the next round.  And while not voicing the request, but simply display a link to the screen and offer to play again.  Once again, pay attention - offer this link, when the user is guaranteed to have received some benefit or pleasure.  If you do it at the wrong time, when the action is not understood or slowed down, you can get a negative feedback. <br><br>  In general, try our own action games <a href="https://assistant.google.com/services/a/uid/0000004b680a3fbf%3Fhl%3Dru">‚ÄúYoga for the Eyes‚Äù</a> , games <a href="https://assistant.google.com/services/a/uid/00000087d4d216e0%3Fhl%3Dru">‚ÄúFirst or Second‚Äù</a> and <a href="https://assistant.google.com/services/a/uid/0000007229b6b8f9%3Fhl%3Dru">‚ÄúYes, my lord‚Äù</a> created in Aimylogic (and soon there will be transactions in it, and it will be easier for <a href="https://assistant.google.com/services/a/uid/0000007229b6b8f9%3Fhl%3Dru">my lord</a> to save his power and wealth!).  And recently, we released the first voice quest for Google Assistant <a href="https://assistant.google.com/services/a/uid/000000224fd51dcd%3Fhl%3Dru">‚ÄúWorld of Lovecraft‚Äù</a> - an interactive drama in the mystical style of ‚ÄúCall of Cthulhu‚Äù, where scenes are voiced by professional actors, the plot can be controlled by voice and it also make in-game payments.  This action has been developed on the Just AI Conversational Platform, a professional enterprise solution. <br><br><h3>  Three secrets of Google Assistant </h3><br><ol><li>  <b>Use of music.</b>  Of the voice assistants in Russian, only Google Assistant allows you to use music directly in the action script.  The musical design sounds great in gaming action, and from the yoga to the music quite different sensations. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Kjp9y9cWt4o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></li><li>  <b>Payment options inside the action.</b>  For purchases inside the action (in-app purchasing) on ‚Äã‚ÄãGoogle Assistant, the Google Play platform is used.  Conditions for working with the platform for the creators of gaming action games are the same as for developers of mobile applications - 70% is deducted from each transaction to the developer. </li><li>  <b>Moderation</b>  To successfully pass moderation, an action must have a Personal Data Processing Policy.  It should be placed on <a href="http://sites.google.com/">sites.google.com</a> , specify the name of your action and email - the same as that of the developer in the developer console, and write that the application does not use user data.  Moderation of an action without transactions lasts 2-3 days, but moderation of an application with embedded payments can take 4-6 weeks.  <a href="https://developers.google.com/actions/console/publishing">Read more about the review procedure.</a> </li></ol><br> <a href="https://conversations-ai.com/%3Futm_source%3DGoogle%26utm_medium%3Dblog%26utm_campaign%3Dhabr"><img src="https://habrastorage.org/webt/un/cn/b5/uncnb5ixgdxa_nuxm0d4w2lkn-0.jpeg"></a> <br><br>  More life hacking, more case studies and instructive epic files are waiting for developers at the conference on conversational AI <a href="https://conversations-ai.com/%3Futm_source%3DGoogle%26utm_medium%3Dblog%26utm_campaign%3Dhabr">Conversations</a> , which will be held on June 27-28 in St. Petersburg.  Andrey Lipattsev, Strategic Partner Development Manager Google, will talk about international experience and Russian specifics of Google Assistant.  And in Developers' Day, Tanya Lando, a leading Google linguist, will talk with participants about interactive corpus, signals and methodologies and how to choose them for their tasks;  and the developers themselves will share their personal experience in creating voice applications for assistants - from the virtual secretary for Google Home to voice games and B2B action games that can work with the company's closed infrastructure. <br><br>  And, by the way, on June 28, within the framework of the Google and Just AI conference, <a href="https://conversations-ai.com/hackaton%3Futm_source%3DGoogle%26utm_medium%3Dpost%26utm_campaign%3Dhabr">an open hackathon</a> will be held for professional and novice developers - it will be possible to work on actions for the Assistant, experiment with spoken UX, speech synthesis and NLU tools and compete for cash prizes!  <a href="https://conversations-ai.com/hackaton%3Futm_source%3DGoogle%26utm_medium%3Dpost%26utm_campaign%3Dhabr">Register</a> - the number of places is limited! <br><br> <a href="https://conversations-ai.com/hackaton%3Futm_source%3DGoogle%26utm_medium%3Dpost%26utm_campaign%3Dhabr"><img src="https://habrastorage.org/webt/ll/6a/lm/ll6almch7m4ovxm-ny1ic-bilnu.jpeg" alt="image"></a> </div><p>Source: <a href="https://habr.com/ru/post/455816/">https://habr.com/ru/post/455816/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455800/index.html">Matrix 1.0 - Decentralized Messaging Protocol Release</a></li>
<li><a href="../455802/index.html">How to collect "Olympic" thanks to email-mailings. Case Black Star</a></li>
<li><a href="../455806/index.html">The birth and death of the album: we understand how music formats have changed over the past 100 years</a></li>
<li><a href="../455808/index.html">Submission of auto-requests on the FTS website in USR on python</a></li>
<li><a href="../455812/index.html">Building a microservice architecture on Golang and gRPC, part 2 (docker)</a></li>
<li><a href="../45582/index.html">Another testing of 5 browsers from extremetech.com</a></li>
<li><a href="../455820/index.html">VM performance analysis in VMware vSphere. Part 2: Memory</a></li>
<li><a href="../455826/index.html">Auto watering colors with remote control</a></li>
<li><a href="../455828/index.html">Scientists have discovered new exotic forms of synchronization</a></li>
<li><a href="../45583/index.html">O'Reilly about keeping tempting profits in the Clouds with a translator afterword</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>