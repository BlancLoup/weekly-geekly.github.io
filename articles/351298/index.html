<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Apache PHP MySQL bundle on Solaris 11.3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When I first met Solaris, the only drawback for me was the fact that the packages that can be installed are rather obsolete, but fortunately you can b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Apache PHP MySQL bundle on Solaris 11.3</h1><div class="post__text post__text-html js-mediator-article">  When I first met Solaris, the only drawback for me was the fact that the packages that can be installed are rather obsolete, but fortunately you can build the current versions from the source code.  This publication will discuss the assembly of apache and php from the source code (mysql can be downloaded as a ready-made package from mysql.com).  At the time of this writing, the current version of apache was 2.4.29, and php 7.2.3. <br><a name="habracut"></a><br><h4>  Assembly </h4><br>  The first step is to install the <a href="https://ru.wikipedia.org/wiki/GNU_Compiler_Collection">gcc-48</a> package: <br><br><pre><code class="hljs sql">pkg <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> gcc<span class="hljs-number"><span class="hljs-number">-48</span></span></code> </pre> <br>  It is also necessary to define some variables for further compilation (the build will be 64-bit versions): <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> CPP=<span class="hljs-string"><span class="hljs-string">"/usr/gcc/4.8/bin/gcc -E"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> CC=<span class="hljs-string"><span class="hljs-string">"/usr/gcc/4.8/bin/gcc"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CFLAGS</span></span>=<span class="hljs-string"><span class="hljs-string">"-m64 -std=gnu99 -fPIC -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> LDFLAGS=<span class="hljs-string"><span class="hljs-string">"-m64 -L/usr/lib -R/usr/lib"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> CXXFLAGS=<span class="hljs-string"><span class="hljs-string">"-m64"</span></span></code> </pre><br>  After rebooting the system, these values ‚Äã‚Äãneed to be re-added (if you have not finished collecting the necessary packages). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Download the necessary archives with the source code (all actions occur in the root of the file system): <br><br><pre> <code class="hljs ruby">wget <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/php.net/distributions</span></span><span class="hljs-regexp"><span class="hljs-regexp">/php-7.2.3.tar.bz2 wget http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/apache-mirror.rbc.ru/pub</span></span><span class="hljs-regexp"><span class="hljs-regexp">/apache/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/httpd/httpd</span></span>-<span class="hljs-number"><span class="hljs-number">2.4</span></span>.<span class="hljs-number"><span class="hljs-number">29</span></span>.tar.bz2 wget <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/mirror.linux-ia64.org/apache</span></span><span class="hljs-regexp"><span class="hljs-regexp">//apr</span></span><span class="hljs-regexp"><span class="hljs-regexp">/apr-1.6.3.tar.bz2 wget http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/mirror.linux-ia64.org/apache</span></span><span class="hljs-regexp"><span class="hljs-regexp">//apr</span></span><span class="hljs-regexp"><span class="hljs-regexp">/apr-util-1.6.1.tar.bz2 wget https:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/cdn.mysql.com/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Downloads/</span></span>MySQL-<span class="hljs-number"><span class="hljs-number">5.6</span></span>/mysql-<span class="hljs-number"><span class="hljs-number">5.6</span></span>.<span class="hljs-number"><span class="hljs-number">39</span></span>-solaris11-x86_64.pkg.gz</code> </pre><br>  Unpack: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">tar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-xvf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">apr-1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.tar</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.bz2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-xvf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">apr-util-1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.tar</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.bz2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-xvf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">httpd-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.29</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.tar</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.bz2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-xvf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">php-7</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.tar</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.bz2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">gzip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-d</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mysql-5</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.39-solaris11-x86_64</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.pkg</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.gz</span></span></code> </pre><br>  Rename the mysql directories and package for more convenience: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">mv</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mysql-5</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.39-solaris11-x86_64</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.pkg</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mysql</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.pkg</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mv</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">apr-1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">apr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mv</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">apr-util-1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">apr-util</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mv</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">httpd-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.29</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">apache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mv</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">php-7</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">php</span></span></code> </pre><br>  For apache to build correctly, you also need to build two additional packages apr and apr-util, you can of course use those that are included with Solaris, but in this case you need to make significant changes to the libtool script.  First of all, we will build apr, go to the / apr directory and execute the commands for configuration, build, and installation (build and install must be done with gnu version of make).  The installation will be made to the / opt directory, if you are used to installing to the / usr / local directory, in this case, you need to edit the --prefix parameter, and also specify the correct path during the subsequent assembly of apache and php: <br><br><pre> <code class="hljs swift">cd /apr ./configure --<span class="hljs-keyword"><span class="hljs-keyword">prefix</span></span>=/opt/apr gmake gmake install</code> </pre><br>  Next, you need to collect apr-util, and also specify in which folder apr is installed: <br><br><pre> <code class="hljs javascript">cd /apr-util ./configure --prefix=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>apr-util --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-apr=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>apr gmake gmake install</code> </pre><br>  The final touch in the apr installation will be a little editing of libtool, which is located in the / opt / apr / build-1 directory, in this script you need to edit one line: <br><br><pre> <code class="hljs tex">export_symbols_cmds="<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>NM <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>libobjs <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>convenience | <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>global_symbol_pipe | <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>SED 's/.* //' | sort | uniq &gt; <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>export_symbols"</code> </pre><br>  This line needs to be changed as indicated below (delete \ $ global_symbol_pipe): <br><br><pre> <code class="hljs tex">export_symbols_cmds="<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>NM <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>libobjs <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>convenience | <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>SED 's/.* //' | sort | uniq &gt; <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">$</span></span></span></span>export_symbols"</code> </pre><br>  After these manipulations, apache will assemble without problems (the main thing is to specify the directory with apr and apr-util).  A <a href="httpd.apache.org/docs/2.4/mod/worker.html">‚Äúmultithreaded‚Äù</a> version of apache will be built: <br><br><pre> <code class="hljs javascript">cd /apache ./configure --prefix=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>apache24 --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-apr=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>apr --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-apr-util=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>apr-util --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-mpm=worker gmake gmake install</code> </pre><br>  It remains only to collect php: <br><br><pre> <code class="hljs javascript">cd /php ./configure --prefix=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>php \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-config-file-path=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>php/lib \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-apxs2=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>apache24/bin/apxs \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-config-file-scan-dir=<span class="hljs-regexp"><span class="hljs-regexp">/opt/</span></span>php \ --without-pgsql \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-zlib \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-zlib-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-iconv-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-pcre-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-gettext=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-libxml-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude/libxml2/libxml \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-curl \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-openssl \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-openssl-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-gd \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-freetype-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-xpm-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-jpeg-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-png-dir=<span class="hljs-regexp"><span class="hljs-regexp">/usr/i</span></span>nclude \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-gnu-ld \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-mhash \ --enable-shared \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-mysqli=mysqlnd \ --enable-zip \ --enable-ftp \ --enable-mysqlnd \ --enable-opcache \ --disable-cli \ --disable-ipv6 gmake gmake install</code> </pre><br>  If you are assembling not in the global zone, then you need to copy some dependencies to correctly start the php module, in the example below are the files that need to be copied (the path to the zone indicate the one you are using): <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">cp</span></span> /usr/lib/amd64/libX11.so.<span class="hljs-number"><span class="hljs-number">4</span></span> /zones/zone1/root/usr/lib/amd64/libX11.so.<span class="hljs-number"><span class="hljs-number">4</span></span> cp /usr/lib/amd64/libXpm.so.<span class="hljs-number"><span class="hljs-number">4</span></span> /zones/zone1/root/usr/lib/amd64/libXpm.so.<span class="hljs-number"><span class="hljs-number">4</span></span> cp /usr/lib/amd64/libjpeg.so.<span class="hljs-number"><span class="hljs-number">62</span></span> /zones/zone1/root/usr/lib/amd64/libjpeg.so.<span class="hljs-number"><span class="hljs-number">62</span></span> cp /usr/lib/amd64/libXext.so.<span class="hljs-number"><span class="hljs-number">0</span></span> /zones/zone1/root/usr/lib/amd64/libXext.so.<span class="hljs-number"><span class="hljs-number">0</span></span> cp /usr/lib/amd64/libxcb.so.<span class="hljs-number"><span class="hljs-number">1</span></span> /zones/zone1/root/usr/lib/amd64/libxcb.so.<span class="hljs-number"><span class="hljs-number">1</span></span> cp /usr/lib/amd64/libXau.so.<span class="hljs-number"><span class="hljs-number">6</span></span> /zones/zone1/root/usr/lib/amd64/libXau.so.<span class="hljs-number"><span class="hljs-number">6</span></span> cp /usr/lib/amd64/libXevie.so.<span class="hljs-number"><span class="hljs-number">1</span></span> /zones/zone1/root/usr/lib/amd64/libXevie.so.<span class="hljs-number"><span class="hljs-number">1</span></span> cp /usr/lib/amd64/libXss.so.<span class="hljs-number"><span class="hljs-number">1</span></span> /zones/zone1/root/usr/lib/amd64/libXss.so.<span class="hljs-number"><span class="hljs-number">1</span></span> cp /usr/lib/amd64/libXdmcp.so.<span class="hljs-number"><span class="hljs-number">6</span></span> /zones/zone1/root/usr/lib/amd64/libXdmcp.so.<span class="hljs-number"><span class="hljs-number">6</span></span></code> </pre><br>  If you need to add something extra, in this case you can view all the parameters of the assembly with the command: <br><br><pre> <code class="hljs pgsql">./configure <span class="hljs-comment"><span class="hljs-comment">--help</span></span></code> </pre><br>  The final touch is to install mysql: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">pkgadd</span></span> -d /mysql.pkg</code> </pre><br><h4>  Configuration </h4><br>  It remains only to add mysql and apache to autorun, configure apache to handle php, and also configure mysql to start correctly.  In order for apache to correctly handle php scripts, you need to run the following command, this command will add the line AddHandler application / x-httpd-php .php to httpd.conf: <br><br><pre> <code class="hljs ruby">echo <span class="hljs-string"><span class="hljs-string">"AddHandler application/x-httpd-php .php"</span></span> <span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>/opt/apache24/conf/httpd.conf</code> </pre><br>  And also change the parameter: <br><br><pre> <code class="hljs pgsql">DirectoryIndex <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.html</code> </pre><br>  on <br><br><pre> <code class="hljs pgsql">DirectoryIndex <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.php</code> </pre><br>  or at <br><br><pre> <code class="hljs pgsql">DirectoryIndex <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.html <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.php</code> </pre><br>  The next step is to activate the extension to optimize the "opcodes" (this extension can increase the speed of page generation several times), for this you need to create a file: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">touch</span></span> /opt/php/ext-<span class="hljs-number"><span class="hljs-number">10</span></span>-opcache.ini</code> </pre><br>  And add the line zend_extension = opcache.so to this file: <br><br><pre> <code class="hljs ruby">echo <span class="hljs-string"><span class="hljs-string">"zend_extension=opcache.so"</span></span> <span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>/opt/php/ext-<span class="hljs-number"><span class="hljs-number">10</span></span>-opcache.ini</code> </pre><br>  Also, if necessary, you can create a php.ini file in the / opt / php directory, since php searches for configuration files in this particular directory. <br><br>  To start mysql correctly, you must create the mysql directory in the / etc folder, copy the my.cnf file to this folder, and add a line that indicates the name of the user from whom you want to start mysql (root): <br><br><pre> <code class="hljs ruby">mkdir /etc/mysql cp /opt/mysql/mysql/my.cnf /etc/mysql/my.cnf echo <span class="hljs-string"><span class="hljs-string">"user = root"</span></span> <span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>/etc/mysql/my.cnf</code> </pre><br>  After these manipulations, you need to start mysql with the command: <br><br><pre> <code class="hljs swift">/etc/<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>.d/mysql start</code> </pre><br>  After installing mysql, a file (.mysql_secret) with the default password is created in the root of the file system, we use this password to execute the mysql_secure_installation script, in which you can change this password, delete the test databases, delete the test user: <br><br><pre> <code class="hljs">/opt/mysql/mysql/bin/mysql_secure_installation</code> </pre><br>  If for some reason the installer has not created a link to the client version of mysql in the / usr / bin folder (you can run ‚Äúmysql-client‚Äù from any place (mysql -p -r)), then you need to do it manually: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ln</span></span> -s /opt/mysql/mysql/bin/mysql /usr/bin/mysql</code> </pre><br>  It remains only to add mysql and apache to autorun (level 3), and also to configure automatic shutdown of services to level 0. To do this, create links in two directories: <br><br><pre> <code class="hljs swift">ln /etc/<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>.d/mysql /etc/rc0.d/<span class="hljs-type"><span class="hljs-type">Kmysql</span></span> ln /opt/apache24/bin/apachectl /etc/rc0.d/<span class="hljs-type"><span class="hljs-type">Kapache</span></span></code> </pre><br>  These links will automatically stop services when the system is shut down.  To autorun in a multi-user environment (level 3), create the following links: <br><br><pre> <code class="hljs swift">ln /etc/<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>.d/mysql /etc/rc3.d/<span class="hljs-type"><span class="hljs-type">Smysql</span></span> ln /opt/apache24/bin/apachectl /etc/rc3.d/<span class="hljs-type"><span class="hljs-type">Sapache</span></span></code> </pre><br>  For more convenience, you can create a symbolic link to apchectl in the / usr / bin directory: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ln</span></span> -s /opt/apache24/bin/apachectl /usr/bin/apachectl</code> </pre><br>  Run apache: <br><br><pre> <code class="hljs pgsql">apachectl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span></code> </pre><br><h4>  Conclusion </h4><br>  As you can see from this publication, the lack of actual software versions on Solaris is not a sentence, since you can always collect the necessary software from the source code, and if necessary, make some changes to get the maximum efficiency of the software. </div><p>Source: <a href="https://habr.com/ru/post/351298/">https://habr.com/ru/post/351298/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351288/index.html">Bottom-Up Strategy for Implementing Changes in an Organization</a></li>
<li><a href="../351290/index.html">Negative selection of personnel in the hierarchical structure of the enterprise</a></li>
<li><a href="../351292/index.html">From Excel to EDS: how to organize convenient processing of materials for a scientific conference</a></li>
<li><a href="../351294/index.html">FastTrack Training. "Network Basics". "The Basics of Telephony." Part 2. Eddie Martin. December 2012</a></li>
<li><a href="../351296/index.html">Blockchain on Go. Part 3: Permanent Memory and Command Line Interface</a></li>
<li><a href="../351300/index.html">Analysis of performance tasks with JBreak (part 2)</a></li>
<li><a href="../351304/index.html">Thymeleaf Tutorial: Chapter 7. Conditional Execution</a></li>
<li><a href="../351308/index.html">Comparison of open OLAP-systems Big Data: ClickHouse, Druid and Pinot</a></li>
<li><a href="../351310/index.html">SSH in humans is not secure enough. How I struggle with paranoia</a></li>
<li><a href="../351312/index.html">3. Check Point for maximum. Content Awareness</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>