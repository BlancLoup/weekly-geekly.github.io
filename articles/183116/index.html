<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>I twist-twist, I want to confuse: the corners of Euler and Gimbal lock</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hold any finger of your left hand forward. Let's not be shy, no one will laugh at you. This is necessary for an important experiment. Exposed? Now ima...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>I twist-twist, I want to confuse: the corners of Euler and Gimbal lock</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/ec3/09f/b74/ec309fb74e342b35166a4be332670df6.png"><br><br>  Hold any finger of your left hand forward.  Let's not be shy, no one will laugh at you.  This is necessary for an important experiment.  Exposed?  Now imagine that you - this is your finger (well, nonsense).  Turn at a right angle to the right, then upward, and finally to the left.  Where did you find yourself?  That's right, in the same place, but already on the back. <br><br>  With some stretch, this is exactly how rotation works with the help of Euler angles.  A bit unpredictable and uncomfortable, isn't it?  Euler angles have several drawbacks, but there is one particularly bad property due to which you do not want to contact them.  His name is Gimbal lock. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In Russian, gimbal lock is called differently: hinged lock, axle locking, folding frames.  Unfortunately, on requests in the search engine with such keywords, a lot of garbage is given out, and the article on Wikipedia leaves much to be desired, so I will tell you about this phenomenon and suggest how to deal with it. <br><br>  <i>Attention!</i>  <i>Going under the cat you are at risk to break your head.</i> <br><a name="habracut"></a><br>  First, let me remind you what Euler angles are.  You probably remember that this is something like a set of three angles of rotation around the axes X, Y and Z?  Not certainly in that way.  Suppose you want to rotate an object and you have a set of end angles (X: 45 ¬∞, Y: 45 ¬∞, Z: 45 ¬∞).  One of the pitfalls of the Euler angles is the need to choose a single order of turns.  If you first rotate 45 ¬∞ around the X axis, then around Y and finally around Z, you will get the result as in the left half of the picture below.  If the order is ZXY, the result will be different, as in the right half. <br><br><img src="https://habrastorage.org/storage2/de7/c23/b8e/de7c23b8e2719767e67e3498cda38e05.png"><br><div class="spoiler">  <b class="spoiler_title">In fact‚Ä¶</b> <div class="spoiler_text">  In fact, not just the Euler angles, but the <a href="http://en.wikipedia.org/wiki/Tait-Bryan_angles">Tate-Brian angles are</a> described above.  Euler angles have many confusing variations, in some of which you need to rotate around global axes, in other axes they rotate after each step, in third axes they are always fixed on the object itself and move with it.  Everything else adds a different order of turns.  If possible, do not use Euler angles. <br></div></div><br>  The choice of the order of turns depends on the place of appearance of the hinge lock.  What is it?  Take for example this order of turns: ZXY.  If the rotation around the X axis is equal to 90 ¬∞ or -90 ¬∞, then the rotation around Z and Y will ‚Äúeat‚Äù each other and only the stub from the larger rotation will remain.  For example (X: 90 ¬∞, Y: 90 ¬∞, Z: 90 ¬∞) will turn into just (X: 90 ¬∞, Y: 0 ¬∞, Z: 0 ¬∞).  Attention to the illustration. <br><br><img src="https://habrastorage.org/storage2/7b2/f9d/1bf/7b2f9d1bf47d961e81fb091cc76460cc.png"><br><br>  You can also substitute (X: 90 ¬∞, Y: 130 ¬∞, Z: 140 ¬∞) or (X: 90 ¬∞, Y: 30 ¬∞, Z: 40 ¬∞), but the result will still be (X: 90 ¬∞ , Y: 0 ¬∞, Z: 10 ¬∞).  A little non-intuitive, don't you think?  This is all because of the hinge lock.  When the rotation around the X axis becomes 90 ¬∞ or ‚Äì90 ¬∞, the local rotation axis Y not yet used becomes parallel to the Z axis, but with the opposite direction, so rotation around it conflicts with the previous rotation around Z. <br><br>  * Bidysch! * <br><br>  This exploded the heads of particularly impressionable readers.  I will explain the same with the arrows. <br><br><img src="https://habrastorage.org/storage2/d01/c7e/656/d01c7e6561874c6f0e85be29e489cbd3.png"><br><br>  When the axes coincide, one degree of freedom is lost.  This is a hinge lock.  You want to make a turn, but you do not have enough axes to implement it. <br><br>  A hinge lock appears in the middle of the turn hierarchy.  If you use the order of XYZ or ZYX, then turning right or left will jam the animation.  Since such a turn is more common than, for example, a turn in the direction of the zenith or nadir, many programs use the ZXY sequence.  This hierarchy of turns is used in Unity3d, although inside all rotations are still stored in quaternions.  What are quaternions?  This is better to tell separately.  Quaternions and rotation matrices are one way to avoid a hinge lock.  There are also tricky algorithms that smoothly bypass the castle side, but this is reflected in the quality of the animation.  It is best to use Euler angles only for simple cases: propellers, wheels, pendulums.  Sometimes you can change the hierarchy of turns, but then you still have to remember about the lock. <br><br>  On the links below you can see an interactive demonstration of a hinge lock on the example of a gyroscope.  It is much easier to understand the hierarchy of turns and the situation with the lock. <br><br>  <a href="http://basmanovdaniil.github.io/GimbalLock/">WebGL</a> |  <a href="">Windows</a> |  <a href="">Linux</a> |  <a href="">Mac</a> |  <a href="https://github.com/BasmanovDaniil/GimbalLock">Sources on GitHub</a> <br><div class="spoiler">  <b class="spoiler_title">Screenshots for everyone else</b> <div class="spoiler_text">  <a href="">habrastorage.org/storage2/800/f9b/549/800f9b54918bfb0c563abafeed43f741.png</a> <br>  <a href="">habrastorage.org/storage2/43a/0d2/39c/43a0d239c61201b09edc739f7a0f9e92.png</a> <br>  <a href="">habrastorage.org/storage2/f97/fae/c76/f97faec763796d67e0bfd94df9e18644.png</a> <br>  <a href="">habrastorage.org/storage2/0db/c9f/6b4/0dbc9f6b4da28516ef1ee1e3382f5bcb.png</a> <br></div></div><br>  Use the mouse to rotate the scene, Esc - exit, the other buttons are indicated on the screen. <br><br>  For Linux users: <br>  Make the GimbalLock file executable with chmod + x GimbalLock and run it. </div><p>Source: <a href="https://habr.com/ru/post/183116/">https://habr.com/ru/post/183116/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../183098/index.html">We use tablets and smartphones to work with Dell</a></li>
<li><a href="../183104/index.html">Pinboard - we are pumping Pinba to monitor PHP</a></li>
<li><a href="../183108/index.html">About comments in the code say a word</a></li>
<li><a href="../183110/index.html">PRISM logo violated the English photographer's copyright</a></li>
<li><a href="../183112/index.html">Machine with remote control based on Raspberry Pi</a></li>
<li><a href="../183118/index.html">Opinion: Google is working on a Chromekey mini-computer with ChromeOS</a></li>
<li><a href="../183120/index.html">What are you, MacBook Air 13.3 ‚Ä≥ 2013 release?</a></li>
<li><a href="../183122/index.html">Lens for iPhone 4 / 4S, 3 in one</a></li>
<li><a href="../183130/index.html">What I learned in 8 months at Microsoft</a></li>
<li><a href="../183144/index.html">Demonstration of WebRTC, WebGL and Go from Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>