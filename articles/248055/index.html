<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating your own vendor bundle in symfony2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Often there is a need to use the same code in different projects. To avoid repetition of the code, such code is usually placed in the library. In the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating your own vendor bundle in symfony2</h1><div class="post__text post__text-html js-mediator-article">  Often there is a need to use the same code in different projects.  To avoid repetition of the code, such code is usually placed in the library.  In the symfony2 framework, all code should be placed in so-called bundles.  Already, there are a huge number of bundles that solve completely different tasks, but still there is often a need to create your own bundle that solves a routine task. <br><br>  This may be a regular bundle, located in the src folder, and then, if necessary, use it in a new project, copy it to a new project.  But in this case there is a problem with updating the code, because when the code is available for change, it will be changed (special perverts even change the code in the vendor folder).  For the convenience of using your code in other projects, you can make a bundle as an external, vendor bundle, and manage it through the composer along with the other third-party bundles. <br><br>  This article shows step by step how to create a bundle from scratch that can be installed via composer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Content: <ol><li>  Create a new bundle </li><li>  Adding settings to the bundle </li><li>  Preparation of the bundle for publication </li><li>  Bundle Publishing </li></ol><br>  The creation of a bundle to manage static pages of the site will be considered.  You can find several ready-made similar bundles, but they are either too simple or too complex (like SonataPageBundle).  Article level - advanced beginner.  It is understood that the reader already knows how to create bundles in the project, as well as use controllers and templates. <a name="habracut"></a><br><br><h1>  1. Creating a new bundle </h1><br><h2>  1.1.  Bundle generation and initial setup </h2><br><div class="spoiler">  <b class="spoiler_title">Install symfony</b> <div class="spoiler_text">  In this article I will use the new symfony 2.6 installation obtained by the command 'composer create-project symfony / framework-standard-edition path /'.  But you are free to use a ready-made project, it will not change in this article, only two new bundles will be added. <br></div></div><br>  Creating a vendor bundle is easiest to start with a regular bundle.  Therefore, we use the generate: bundle command to create it.  Here you need to carefully consider the correct naming, because under this name your bundle will be publicly available.  Usually bundles are called by the name of the developer or company and by the name of the bundle itself.  Therefore, when creating a bundle, I specified the name space Lexxpavlov / PageBundle - my name and simple simple name.  Based on the namespace, the name of the bundle itself is automatically suggested, in my case LexxpavlovPageBundle.  This name can be changed, but it suits me, so you can leave it.  You can read more about the naming of the bundle <a href="https://packagist.org/about">here</a> . <br><br><blockquote>  When creating a bundle, special attention should be paid to one parameter - the choice of configuration type.  The symphony offers four different options - yml, xml, php, or annotation.  But the real choice is between yml and annotation, that is, between the choice of configuration in separate YAML format files, or in the format of annotations placed directly in the comments in the code of the controllers and entities.  On this account, many copies were broken in <a href="http://habrahabr.ru/post/240187/">this topic</a> , there are arguments in both versions.  My choice in this case is annotations, because the project is very small, and the advantages of individual configuration files are leveled (in fact, only one file will have a configuration ‚Äî a doctrine essence).  The type of configuration does not affect the performance of the bundle itself in production - in any case, the entire config is cached. </blockquote><br>  Next, you should confirm that you are ready to generate a new bundle, and then agree to automatically update the AppKernel.php file and the configuration of app / config / routes.yml routes. <br><br><h2>  1.2.  Creating an entity for doctrine </h2><br>  It's time to create an entity that will contain future pages.  Obviously, the required fields are id, title, and content.  It will also be useful to have a boolean field published, for the ability to temporarily disable the page display, as well as the createdAt and updatedAt fields with the date the page was created and last modified.  For SEO purposes, it is useful to add a field to store the page title in a ‚Äúurlified‚Äù form, usually this field is called slug, as well as the keywords and description fields.  Create an Entity folder in the bundle folder, and create a Page.php file in it: <br><div class="spoiler">  <b class="spoiler_title">Page Entity class Page.php</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Entity</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">Mapping</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">ORM</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Gedmo</span></span>\<span class="hljs-title"><span class="hljs-title">Mapping</span></span>\<span class="hljs-title"><span class="hljs-title">Annotation</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">Gedmo</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Entity */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Page</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> integer * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="integer") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\GeneratedValue(strategy="AUTO") */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $id; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Gedmo</span></span></span><span class="hljs-comment">\Slug(fields={"title"}, updatable=false) * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="string", length=100, unique=true) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $slug; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="string", length=255) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $title; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="text") */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $content; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="text", name="keywords", nullable=true) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $keywords; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="text", name="description", nullable=true) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $description; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> boolean * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="boolean", options={"default":false}) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $published = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Datetime * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Gedmo</span></span></span><span class="hljs-comment">\Timestampable(on="create") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="datetime", name="created_at") */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $createdAt; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Datetime * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Gedmo</span></span></span><span class="hljs-comment">\Timestampable(on="update") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="datetime", name="updated_at") */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $updatedAt; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title ?: <span class="hljs-string"><span class="hljs-string">'n/a'</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Get id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> integer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;id; } <span class="hljs-comment"><span class="hljs-comment">/** * Set slug * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $slug * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSlug</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($slug)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;slug = $slug; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Get slug * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSlug</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;slug; } <span class="hljs-comment"><span class="hljs-comment">/** * Set title * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $title * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTitle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($title)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title = $title; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Get title * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTitle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title; } <span class="hljs-comment"><span class="hljs-comment">/** * Set content * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $content * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($content)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content = $content; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Get content * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content; } <span class="hljs-comment"><span class="hljs-comment">/** * Set meta keywords * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $keywords * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setKeywords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($mkeywords)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;keywords = $keywords; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Get meta keywords * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getKeywords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;keywords; } <span class="hljs-comment"><span class="hljs-comment">/** * Set meta description * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $description * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($description)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;description = $description; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Set meta description * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;description; } <span class="hljs-comment"><span class="hljs-comment">/** * Set published * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> boolean $published * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPublished</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($published)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;published = $published; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Toggle published * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">togglePublished</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;published = !<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;published; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Get published * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> boolean */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPublished</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;published; } <span class="hljs-comment"><span class="hljs-comment">/** * Sets created at * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> DateTime $createdAt * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCreatedAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\DateTime $createdAt)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createdAt = $createdAt; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns created at * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> DateTime */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCreatedAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createdAt; } <span class="hljs-comment"><span class="hljs-comment">/** * Sets updated at * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> DateTime $updatedAt * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUpdatedAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\DateTime $updatedAt)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;updatedAt = $updatedAt; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns updated at * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> DateTime */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUpdatedAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;updatedAt; } }</code> </pre> <br></div></div><br>  In addition to the well-known @ORM annotations supported by the doctrine, the @Gedmo annotations provided by the StofDoctrineExtensionsBundle <a href="https://github.com/stof/StofDoctrineExtensionsBundle">bundle</a> are used here.  To make these annotations work, you need to add this bundle to the system.  To do this, use the instructions in its documentation, installing the package by changing the composer.json of our project.  To use the annotations used, this configuration is sufficient: <br><pre> <code class="hljs objectivec">stof_doctrine_extensions: orm: <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: sluggable: <span class="hljs-literal"><span class="hljs-literal">true</span></span> timestampable: <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  Creating a table in the database is done with the command 'app / console doctrine: schema: update --force' (if the database itself has not been created yet, you must first run the command 'app / console doctrine: database: create').  This command will create a table with the name Page or page, depending on the database settings.  As far as I have seen in other bundles, most often third-party bundles create tables without capital letters, because otherwise in some cases problems may arise.  But in this case it does not matter, later this slippery moment will be eliminated. <br><br><h2>  1.3.  Creating and using forms to create new pages </h2><br>  The next step is to write the form type to create the pages.  To do this, you need to create the Form / Type folder in the bundle and create a PageType.php file in it.  The content of this file is quite trivial - we create a descendant class AbstractType and specify in the buildForm () method all the fields required for filling: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">AbstractType</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">FormBuilderInterface</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PageType</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractType</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildForm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span></span></span><span class="hljs-function"> </span></span>{ $builder -&gt;add(<span class="hljs-string"><span class="hljs-string">'title'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'slug'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'content'</span></span>, <span class="hljs-string"><span class="hljs-string">'textarea'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'published'</span></span>, <span class="hljs-string"><span class="hljs-string">'checkbox'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'keywords'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'description'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'save'</span></span>, <span class="hljs-string"><span class="hljs-string">'submit'</span></span>) ; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'lexxpavlov_page'</span></span>; } }</code> </pre><br>  Do not forget to specify the form name, which has the name of the bundle in the prefix - `lexxpavlov_page`.  It is by this name that you need to create a service from the form type, and specifying the vendor prefix will help avoid conflicts in the project.  To do this, create the configuration file Resources / config / services.yml and add the following code to it: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">services</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">lexxpavlov_page</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.form</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.type</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.page</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Lexxpavlov</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">PageBundle</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Form</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Type</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">PageType</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tags</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">name</span></span>: form.type, alias: lexxpavlov_page }</code> </pre><br>  The services.xml file is already in the Resources / config folder, offering to create a description of services in verbose XML.  Since we wrote a description of the service in YAML, you need to delete the services.xml file and configure the connection of the services.yml file.  To do this, open the bundle dependency injector setting - the DependencyInjector / LexxpavlovPageExtension.php file and fix the reading of the XML file in YAML: <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// ... $loader = new Loader\YamlFileLoader($container, new FileLocator(__DIR__.'/../Resources/config')); $loader-&gt;load('services.yml');</span></span></code> </pre><br>  Add in the controller created by the generator DefaultController actions for viewing the list of pages, for viewing one page and for adding a new page, let's also add templates for them: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AppBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Bundle</span></span>\<span class="hljs-title"><span class="hljs-title">FrameworkBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sensio</span></span>\<span class="hljs-title"><span class="hljs-title">Bundle</span></span>\<span class="hljs-title"><span class="hljs-title">FrameworkExtraBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Configuration</span></span>\<span class="hljs-title"><span class="hljs-title">Route</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sensio</span></span>\<span class="hljs-title"><span class="hljs-title">Bundle</span></span>\<span class="hljs-title"><span class="hljs-title">FrameworkExtraBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Configuration</span></span>\<span class="hljs-title"><span class="hljs-title">Template</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">HttpFoundation</span></span>\<span class="hljs-title"><span class="hljs-title">Request</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Entity</span></span>\<span class="hljs-title"><span class="hljs-title">Page</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Route</span></span></span><span class="hljs-comment">("/page") */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DefaultController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Route</span></span></span><span class="hljs-comment">("/", name="page") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Template</span></span></span><span class="hljs-comment">() */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $pages = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getDoctrine()-&gt;getManager() -&gt;getRepository(<span class="hljs-string"><span class="hljs-string">'LexxpavlovPageBundle:Page'</span></span>) -&gt;findAll(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'pages'</span></span> =&gt; $pages, ); } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Route</span></span></span><span class="hljs-comment">("/show/{slug}", name="page_show") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Template</span></span></span><span class="hljs-comment">() */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Page $page)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Route</span></span></span><span class="hljs-comment">("/new", name="page_new") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Template</span></span></span><span class="hljs-comment">() */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Request $request)</span></span></span><span class="hljs-function"> </span></span>{ $page = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Page(); $form = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createForm(<span class="hljs-string"><span class="hljs-string">'lexxpavlov_page'</span></span>, $page); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($request-&gt;isMethod(<span class="hljs-string"><span class="hljs-string">'POST'</span></span>)) { $form-&gt;handleRequest($request); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($form-&gt;isValid()) { $em = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getDoctrine()-&gt;getManager(); $em-&gt;persist($page); $em-&gt;flush(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;redirect(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;generateUrl(<span class="hljs-string"><span class="hljs-string">'page'</span></span>)); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'form'</span></span> =&gt; $form-&gt;createView(), ); } }</code> </pre><br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-comment"><span class="xml"></span><span class="hljs-comment">{# src/Lexxpavlov/PageBundle/Resources/views/Default/index.html.twig #}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">for</span></span></span></span></span><span class="hljs-template-tag"> page </span><span class="hljs-keyword"><span class="hljs-template-tag"><span class="hljs-keyword">in</span></span></span><span class="hljs-template-tag"> pages %}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ path('page_show', {slug: page.slug}) }}</span></span><span class="xml"><span class="hljs-tag"><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ page.title }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endfor</span></span></span></span></span><span class="hljs-template-tag"> %}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ path('page_new') }}</span></span><span class="xml"><span class="hljs-tag"><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-comment"><span class="hljs-comment">{# src/Lexxpavlov/PageBundle/Resources/views/Default/show.html.twig #}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">article</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ page.title }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">time</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">datetime</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ page.createdAt|</span><span class="hljs-name"><span class="hljs-template-variable"><span class="hljs-name">date</span></span></span><span class="hljs-template-variable">('Ym-d') }}</span></span><span class="xml"><span class="hljs-tag"><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">pubdate</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ page.createdAt|</span><span class="hljs-name"><span class="hljs-template-variable"><span class="hljs-name">date</span></span></span><span class="hljs-template-variable">('dmY') }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">time</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ page.content|raw }}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">article</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-comment"><span class="hljs-comment">{# src/Lexxpavlov/PageBundle/Resources/views/Default/new.html.twig #}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ form(form) }}</span></span><span class="xml"></span><span class="xml"></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Disclaimer on controller code</b> <div class="spoiler_text">  I note that in the future the controller will be removed from the bundle, so I did not try to write a beautiful and effective code.  The current controller code is not a reference for such tasks.  On good, should transfer the code of work with a database to services.  But the article is not about controllers, so I did not inflate an already long article.  Thanks to <a href="http://habrahabr.ru/users/fesor/" class="user_link">Fesor</a> for the comments. <br></div></div><br><br><h2>  1.4.  Creating a class for the Sonata </h2><br>  Also create a class for admin <a href="http://sonata-project.org/bundles/admin">SonataAdminBundle</a> - a popular administrative project panel on Symfony2.  For this, firstly, you need to add the SonataAdminBundle admin panel itself to the project (there is <a href="http://habrahabr.ru/post/136659/">an old article</a> about installing SonataAdminBundle, I plan to write a new one on this topic).  Next you need to create a file Admin / Page.php: <br><div class="spoiler">  <b class="spoiler_title">The class for managing the entity in SonataAdminBundle</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Admin</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Admin</span></span>\<span class="hljs-title"><span class="hljs-title">Admin</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">FormMapper</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Datagrid</span></span>\<span class="hljs-title"><span class="hljs-title">DatagridMapper</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Datagrid</span></span>\<span class="hljs-title"><span class="hljs-title">ListMapper</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Show</span></span>\<span class="hljs-title"><span class="hljs-title">ShowMapper</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PageAdmin</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Admin</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configureListFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ListMapper $listMapper)</span></span></span><span class="hljs-function"> </span></span>{ $listMapper -&gt;addIdentifier(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'slug'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'published'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'editable'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'createdAt'</span></span>, <span class="hljs-string"><span class="hljs-string">'datetime'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'updatedAt'</span></span>, <span class="hljs-string"><span class="hljs-string">'datetime'</span></span>) ; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configureFormFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FormMapper $formMapper)</span></span></span><span class="hljs-function"> </span></span>{ $formMapper -&gt;with(<span class="hljs-string"><span class="hljs-string">'General'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'slug'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'content'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'published'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;end() -&gt;with(<span class="hljs-string"><span class="hljs-string">'SEO'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'keywords'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'description'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;end() ; $formMapper-&gt;setHelps(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'slug'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Leave blank for automatic filling from title field'</span></span>, )); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configureDatagridFilters</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DatagridMapper $datagridMapper)</span></span></span><span class="hljs-function"> </span></span>{ $datagridMapper -&gt;add(<span class="hljs-string"><span class="hljs-string">'slug'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'published'</span></span>) ; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configureShowFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ShowMapper $showMapper)</span></span></span><span class="hljs-function"> </span></span>{ $showMapper -&gt;add(<span class="hljs-string"><span class="hljs-string">'slug'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'content'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'published'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'publishedAt'</span></span>, <span class="hljs-string"><span class="hljs-string">'datetime'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'createdAt'</span></span>, <span class="hljs-string"><span class="hljs-string">'datetime'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'updatedAt'</span></span>, <span class="hljs-string"><span class="hljs-string">'datetime'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'keywords'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'description'</span></span>) ; } }</code> </pre><br></div></div><br>  Now, in order for the Sonata to see it, you need to announce a service for it.  Services for the Sonata, I usually describe in a separate configuration file - Resources / config / admin.yml: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">services</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">sonata</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.admin</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lexxpavlov_page</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Lexxpavlov</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">PageBundle</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Admin</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Page</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tags</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">name</span></span>: sonata.admin, manager_type: orm, group: <span class="hljs-string"><span class="hljs-string">"Content"</span></span>, label: <span class="hljs-string"><span class="hljs-string">"Pages"</span></span>, label_catalogue: <span class="hljs-string"><span class="hljs-string">"messages"</span></span> } <span class="hljs-selector-tag"><span class="hljs-selector-tag">arguments</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> ~ <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Lexxpavlov</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">PageBundle</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Entity</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Page</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> ~ <span class="hljs-selector-tag"><span class="hljs-selector-tag">calls</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ setTranslationDomain, [messages]</span></span>]</code> </pre><br>  And now you need to add the download of this file in the DependencyInjector / LexxpavlovPageExtension.php configurator: <br><pre> <code class="php hljs">$loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Loader\YamlFileLoader($container, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileLocator(<span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span>.<span class="hljs-string"><span class="hljs-string">'/../Resources/config'</span></span>)); $loader-&gt;load(<span class="hljs-string"><span class="hljs-string">'services.yml'</span></span>); $loader-&gt;load(<span class="hljs-string"><span class="hljs-string">'admin.yml'</span></span>);</code> </pre><br><br><h2>  1.5.  Checking the work of the bundle </h2><br>  It's time to check the work done - go to the page of the site / page / new, add a page with the title ‚ÄúTest‚Äù on it, see this page in the list on / page / and view it on / page / show / tiest, at the same time checking the work @ Gedmo / Slug.  On the first page you need to add a new page, on the second - to see the newly created page in the list, and on the third - open and look at it. <br><div class="spoiler">  <b class="spoiler_title">Features of the transliteration of Russian characters</b> <div class="spoiler_text">  Handler @ Gedmo / Slug can automatically convert Russian words into transliteration.  But doing it badly adds extra vowels, so the word ‚ÄúTest‚Äù becomes the word ‚Äútiest‚Äù.  Therefore, you need to teach him the proper transformation.  This is done very simply - a special class Listener \ SluggableListener is created, which can perform the conversion, and is set as the event handler for the Sluggable event: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Listener</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Gedmo</span></span>\<span class="hljs-title"><span class="hljs-title">Sluggable</span></span>\<span class="hljs-title"><span class="hljs-title">SluggableListener</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">BaseSluggableListener</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Gedmo</span></span>\<span class="hljs-title"><span class="hljs-title">Sluggable</span></span>\<span class="hljs-title"><span class="hljs-title">Util</span></span>\<span class="hljs-title"><span class="hljs-title">Urlizer</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SluggableListener</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseSluggableListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;setTransliterator(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>, <span class="hljs-string"><span class="hljs-string">'transliterate'</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transliterate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($text, $separator = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'-'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ $convertTable = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'v'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'g'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'d'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'zh'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'z'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'i'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'j'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'k'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'l'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'m'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'o'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'p'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'r'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'s'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'t'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'u'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'f'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'h'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'ts'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'ch'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'sh'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'sch'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'y'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'yu'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'ya'</span></span> ); $text = strtr(trim(mb_strtolower($text, <span class="hljs-string"><span class="hljs-string">'UTF-8'</span></span>)), $convertTable); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Urlizer::urlize($text, $separator); } }</code> </pre><br><pre> <code class="hljs kotlin">stof_doctrine_extensions: orm: <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: sluggable: <span class="hljs-literal"><span class="hljs-literal">true</span></span> timestampable: <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">sluggable: Lexxpavlov\PageBundle\Listener\SluggableListener</span></span></span></span></code> </pre><br></div></div><br>  This completes the preliminary preparation, the bundle is ready for use, including being ready for copying to other projects.  If it were a regular bundle for work, we could stop at that, but now we need to give it the flexibility to set up the vendor bundles and prepare it for publication. <br><br><h1>  2. Adding settings to the bundle </h1><br><h2>  2.1.  The possibility of expanding the essence of the page </h2><br>  An important distinction of vendor bundles is their ability to adapt to the needs of using it.  For example, it is required, in addition to the fields indicated in the page binder, to add a new field with the name of the author of the page and a field that stores the author of the last edits on the page.  How to do it?  Write a new entity class?  Long and tedious.  Inherit it from the already finished?  Already better, besides not in vain in the class of entity fields are marked as protected, and not private. <br><div class="spoiler">  <b class="spoiler_title">Doctrine and private fields in essence</b> <div class="spoiler_text">  In fact, the protected mark is needed only to allow access to the fields of the superclass from the methods of the inheriting class.  If the fields in the superclass are marked as private, then the Doctrine can still be configured to use such fields in the <a href="http://doctrine-orm.readthedocs.org/en/latest/reference/inheritance-mapping.html">inheriting</a> class, for this the <a href="http://doctrine-orm.readthedocs.org/en/latest/reference/inheritance-mapping.html">MappedSuperclass</a> annotation is <a href="http://doctrine-orm.readthedocs.org/en/latest/reference/inheritance-mapping.html">used</a> .  If the superclass is marked with this annotation, then even private fields will fall into the heir classes.  There is one feature.  Often, a freshly written entity is left without getters and setters, in order to ask the doctrine to create them automatically with the console command doctrine: generate: entities.  But if these getters / setters are already in the superclass, the doctrine will still try to create getters for the protected-fields from the superclass in the inheriting class. <br></div></div><br>  A good solution is implemented in the popular FOSUserBundle bundle - there are no entities in the bundle itself, that is, classes marked with the @ORM \ Entity annotation.  Let's do the same trick in our bundle.  You need to remove the @ORM \ Entity annotation before the Lexxpavlov / PageBundle / Entity / Page.php class.  To create an entity, you need to create a class that inherits this class, mark it as @ORM \ Entity, and you can add the required additional custom fields to it.  This class will be a good place for the user to choose their own table naming style ‚Äî either allow the doctrine to automatically select the table name for the new entity, or specify its name in the @ORM \ Table annotation. <br><br>  To create a new entity, it is better to create a new bundle.  Let's use the generator and place the bundle in the AppBundle namespace (if you installed a new Symfony2 project, then you should already have a bundle with that name).  Transfer the DefaultController controller from our bundle (it doesn't need a controller anymore) to the newly created one, transfer the Resources (views) templates, remove the extra link to the bundle in the app / config / routing.yml file, and don't forget to change the new class in the DefaultController controller (in the use construct and in the getRepository () method call).  Create a new entity for the pages: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AppBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Entity</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">Mapping</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">ORM</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Entity</span></span>\<span class="hljs-title"><span class="hljs-title">Page</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">BasePage</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Entity */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Page</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BasePage</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre><br>  Since the new class has the same name as the previous one, there is no need to recreate the table in the database, and at this point already created pages should work as before. <br><br>  But we had the task to expand the essence with new fields - fields for storing the author and the last editor.  For this, the Blameable behavior from the StofDoctrineExtensionsBundle bundle already used is well suited.  Add them to the newly created class: <br><div class="spoiler">  <b class="spoiler_title">Updated class AppBundle \ Entity \ Page</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AppBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Entity</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">Mapping</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">ORM</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Gedmo</span></span>\<span class="hljs-title"><span class="hljs-title">Mapping</span></span>\<span class="hljs-title"><span class="hljs-title">Annotation</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">Gedmo</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Entity</span></span>\<span class="hljs-title"><span class="hljs-title">Page</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">BasePage</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AppBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Entity</span></span>\<span class="hljs-title"><span class="hljs-title">User</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Entity */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Page</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BasePage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> User * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\ManyToOne(targetEntity="User") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Gedmo</span></span></span><span class="hljs-comment">\Blameable(on="create") */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $createdBy; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> User * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\ManyToOne(targetEntity="User") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Gedmo</span></span></span><span class="hljs-comment">\Blameable(on="update") */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $updatedBy; <span class="hljs-comment"><span class="hljs-comment">/** * Set user, that updated entity * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> User $updatedBy * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUpdatedBy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($updatedBy)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;updatedBy = $updatedBy; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Get user, that updated entity * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> User */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUpdatedBy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;updatedBy; } <span class="hljs-comment"><span class="hljs-comment">/** * Set user, that created entity * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> User $createdBy * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCreatedBy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($createdBy)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createdby = $createdBy; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Get user, that created entity * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> User */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCreatedBy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createdBy; } }</code> </pre><br></div></div><br>  We also need a new class User - to store users.  It is best to take it from the <a href="https://github.com/FriendsOfSymfony/FOSUserBundle">FOSUserBundle</a> bundle.  Install this bundle and extend the class offered to users: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AppBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Entity</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">FOS</span></span>\<span class="hljs-title"><span class="hljs-title">UserBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">User</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">BaseUser</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">Mapping</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">ORM</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Entity * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Table(name="users") */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseUser</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="integer") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\GeneratedValue(strategy="AUTO") */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $id; <span class="hljs-comment"><span class="hljs-comment">/** * Get id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> integer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;id; } }</code> </pre><br>  Now you need to include the Blameable behavior in the StofDoctrineExtensionsBundle config: <br><pre> <code class="hljs objectivec">stof_doctrine_extensions: orm: <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: sluggable: <span class="hljs-literal"><span class="hljs-literal">true</span></span> timestampable: <span class="hljs-literal"><span class="hljs-literal">true</span></span> blameable: <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  and update the tables in the database with the console command 'app / console doctrine: schema: update --force'. <br><div class="spoiler">  <b class="spoiler_title">Setting up the FOSUserBundle bundle</b> <div class="spoiler_text">  After installing the FOSUserBundle bundle and its settings (in accordance with its <a href="">documentation</a> ), you need to add our secure pages to the firewall.  We have one page, access to which needs to be limited - this is the page for adding a new page / page / new.  You need to add it to the access_control list in the app / config / security.yml file: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">security</span></span>: # ... <span class="hljs-selector-tag"><span class="hljs-selector-tag">access_control</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">path</span></span>: ^/login$, role: IS_AUTHENTICATED_ANONYMOUSLY } <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">path</span></span>: ^/register, role: IS_AUTHENTICATED_ANONYMOUSLY } <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">path</span></span>: ^/resetting, role: IS_AUTHENTICATED_ANONYMOUSLY } <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">path</span></span>: ^/page/new, role: ROLE_ADMIN }</code> </pre><br>  Now you need to add a user to the database.  The easiest way to do this is to use the console command 'app / console fos: user: create', add administrator privileges (ROLE_ADMIN) with the command 'app / console fos: user: promote', and then activate it with the command 'app / console fos: user: activate '. <br></div></div><br><br><h2>  2.2.  Configuring the bundle configuration </h2><br>  After the changes were made and the creation of the entity was transferred to a separate bundle, the class for the Sonata stopped working, because the class of its service was clearly prescribed the class Lexxpavlov \ PageBundle \ Entity \ Page.  But now it is impossible to say exactly in which place and under what name the entity class will be created.  To do this, it is best to use the standard way of creating settings in Symphony - specify the description of services in the bundle settings, and place the configuration relating to a specific project in app / config / config.yml. <br><br>  First of all, you need to create a description of the configuration of our bundle.  For this is the standard component <a href="http://symfony.com/doc/current/components/config/definition.html">Config</a> .  The entire description of the config is a sequential invocation of predefined methods that describe the available parameters of the config.  Repeating the documentation here will be unnecessary, just give a link to its <a href="http://devacademy.ru/posts/opredelenie-i-proverka-parametrov-konfiguratsii-dlya-bandla-v-symfony-2/">translation into Russian</a> . <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">DependencyInjection</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">Builder</span></span>\<span class="hljs-title"><span class="hljs-title">TreeBuilder</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">ConfigurationInterface</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Configuration</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConfigurationInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getConfigTreeBuilder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $treeBuilder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TreeBuilder(); $rootNode = $treeBuilder-&gt;root(<span class="hljs-string"><span class="hljs-string">'lexxpavlov_page'</span></span>); $rootNode -&gt;children() -&gt;scalarNode(<span class="hljs-string"><span class="hljs-string">'entity_class'</span></span>) -&gt;cannotBeEmpty() -&gt;end() -&gt;end() ; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $treeBuilder; } }</code> </pre><br>  Now you need to add the setting to the config: <br><pre> <code class="hljs tex">lexxpavlov_page: entity_class: AppBundle<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Entity</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Page</span></span></span></span></code> </pre><br>  and configure the use of this parameter in those places where it is needed - in the Sonata admin service and the form type.  To be able to use the value of the class name, you need to save it in the DI container parameter, you need to do this in the DependencyInjection / LexxpavlovPageExtension.php configurator, adding the following line to the end of the load () method: <br><pre> <code class="php hljs">$container-&gt;setParameter(<span class="hljs-string"><span class="hljs-string">'lexxpavlov_page.entity_class'</span></span>, $config[<span class="hljs-string"><span class="hljs-string">'entity_class'</span></span>]);</code> </pre><br>  Now the saved parameter can be used in service announcements.  The admin service requires you to specify the class name with the second constructor parameter: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">services</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">sonata</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.admin</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lexxpavlov_page</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Lexxpavlov</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">PageBundle</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Admin</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Page</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tags</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">name</span></span>: sonata.admin, manager_type: orm, group: <span class="hljs-string"><span class="hljs-string">"Content"</span></span>, label: <span class="hljs-string"><span class="hljs-string">"Pages"</span></span>, label_catalogue: <span class="hljs-string"><span class="hljs-string">"messages"</span></span> } <span class="hljs-selector-tag"><span class="hljs-selector-tag">arguments</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> ~ <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> %<span class="hljs-selector-tag"><span class="hljs-selector-tag">lexxpavlov_page</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.entity_class</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> ~ <span class="hljs-selector-tag"><span class="hljs-selector-tag">calls</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ setTranslationDomain, [messages]</span></span>]</code> </pre><br>  In the form service, you need not only to pass the parameter, but also to create a constructor in the form class: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">services</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">lexxpavlov_page</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.form</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.type</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.page</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Lexxpavlov</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">PageBundle</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Form</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">Type</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">PageType</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">arguments</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ %lexxpavlov_page.entity_class% ]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tags</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">name</span></span>: form.type, alias: lexxpavlov_page }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Adding a constructor and setting custom form options</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">AbstractType</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">FormBuilderInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">OptionsResolver</span></span>\<span class="hljs-title"><span class="hljs-title">OptionsResolverInterface</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PageType</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractType</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $dataClass; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($dataClass)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;dataClass = $dataClass; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildForm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span></span></span><span class="hljs-function"> </span></span>{ $builder -&gt;add(<span class="hljs-string"><span class="hljs-string">'title'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'slug'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'content'</span></span>, <span class="hljs-string"><span class="hljs-string">'textarea'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'published'</span></span>, <span class="hljs-string"><span class="hljs-string">'checkbox'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'keywords'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'description'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'save'</span></span>, <span class="hljs-string"><span class="hljs-string">'submit'</span></span>) ; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDefaultOptions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(OptionsResolverInterface $resolver)</span></span></span><span class="hljs-function"> </span></span>{ $resolver-&gt;setDefaults(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'data_class'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;dataClass, )); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'lexxpavlov_page'</span></span>; } }</code> </pre><br></div></div><br><br><h2>  2.3.  Additional bundle settings </h2><br>  The next step will be to disable registration of the service for the sonata, for those who do not need this service, or for those who want to change this service (for example, add their own entity fields to the admin panel).  To do this, add a new parameter to the configuration of the bundle.  At the same time, we will add another setting - use the CKEditor wysiwyg editor in the add forms page instead of the usual textarea field (to use this type of form field, IvoryCKEditorBundle bundle is required, later we will mark it recommended for installation). <br><br>  Add two new elements to the bundle configuration (DependencyInjection / Configuration.php): <br><pre> <code class="php hljs">$rootNode -&gt;children() -&gt;scalarNode(<span class="hljs-string"><span class="hljs-string">'entity_class'</span></span>) -&gt;cannotBeEmpty() -&gt;end() -&gt;scalarNode(<span class="hljs-string"><span class="hljs-string">'admin_class'</span></span>) -&gt;defaultValue(<span class="hljs-string"><span class="hljs-string">'Lexxpavlov\PageBundle\Admin\PageAdmin'</span></span>) -&gt;end() -&gt;scalarNode(<span class="hljs-string"><span class="hljs-string">'content_type'</span></span>) -&gt;defaultValue(<span class="hljs-string"><span class="hljs-string">'ckeditor'</span></span>) -&gt;end() -&gt;end() ;</code> </pre><br>  These parameters are marked as optional, and if they are not specified in the config, they will accept the specified default values.  Now save the settings values ‚Äã‚Äãto the container parameters (in the file DependencyInjection / LexxpavlovPageExtension.php): <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">load</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $configs, ContainerBuilder $container)</span></span></span><span class="hljs-function"> </span></span>{ $configuration = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Configuration(); $config = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;processConfiguration($configuration, $configs); $loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Loader\YamlFileLoader($container, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileLocator(<span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span>.<span class="hljs-string"><span class="hljs-string">'/../Resources/config'</span></span>)); $loader-&gt;load(<span class="hljs-string"><span class="hljs-string">'services.yml'</span></span>); $container-&gt;setParameter(<span class="hljs-string"><span class="hljs-string">'lexxpavlov_page.entity_class'</span></span>, $config[<span class="hljs-string"><span class="hljs-string">'entity_class'</span></span>]); $container-&gt;setParameter(<span class="hljs-string"><span class="hljs-string">'lexxpavlov_page.content_type'</span></span>, $config[<span class="hljs-string"><span class="hljs-string">'content_type'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($config[<span class="hljs-string"><span class="hljs-string">'admin_class'</span></span>] &amp;&amp; $config[<span class="hljs-string"><span class="hljs-string">'admin_class'</span></span>] != <span class="hljs-string"><span class="hljs-string">'false'</span></span>) { $loader-&gt;load(<span class="hljs-string"><span class="hljs-string">'admin.yml'</span></span>); $container-&gt;setParameter(<span class="hljs-string"><span class="hljs-string">'lexxpavlov_page.admin_class'</span></span>, $config[<span class="hljs-string"><span class="hljs-string">'admin_class'</span></span>]); } }</code> </pre><br>  Here is the conditional addition of the file with the ad service for the admin.  And if you have written your own expanding class for admin panel (which can be inherited from an already ready class), then you can specify its name in the parameter lexxpavlov_page.admin_class. <br><br>  Now add the use of new parameters to the admin class.  Modify the service declaration and expand the class itself: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">services</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">sonata</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.admin</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lexxpavlov_page</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span>: %<span class="hljs-selector-tag"><span class="hljs-selector-tag">lexxpavlov_page</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.admin_class</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">tags</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">name</span></span>: sonata.admin, manager_type: orm, group: <span class="hljs-string"><span class="hljs-string">"Content"</span></span>, label: <span class="hljs-string"><span class="hljs-string">"Pages"</span></span>, label_catalogue: <span class="hljs-string"><span class="hljs-string">"messages"</span></span> } <span class="hljs-selector-tag"><span class="hljs-selector-tag">arguments</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> ~ <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> %<span class="hljs-selector-tag"><span class="hljs-selector-tag">lexxpavlov_page</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.entity_class</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> ~ <span class="hljs-selector-tag"><span class="hljs-selector-tag">calls</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ setTranslationDomain, [messages]</span></span>] <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ setContentType, [ %lexxpavlov_page.content_type% ]</span></span> ]</code> </pre><br><div class="spoiler">  <b class="spoiler_title">The final version of the class PageAdmin</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Admin</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Admin</span></span>\<span class="hljs-title"><span class="hljs-title">Admin</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">FormMapper</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Datagrid</span></span>\<span class="hljs-title"><span class="hljs-title">DatagridMapper</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Datagrid</span></span>\<span class="hljs-title"><span class="hljs-title">ListMapper</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sonata</span></span>\<span class="hljs-title"><span class="hljs-title">AdminBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Show</span></span>\<span class="hljs-title"><span class="hljs-title">ShowMapper</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PageAdmin</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Admin</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $contentType = <span class="hljs-string"><span class="hljs-string">'ckeditor'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// or null for simple textarea field public function setContentType($contentType) { $this-&gt;contentType = $contentType; } public function configureListFields(ListMapper $listMapper) { $listMapper -&gt;addIdentifier('title') -&gt;add('slug') -&gt;add('published', null, array('editable' =&gt; true)) -&gt;add('createdAt', 'datetime') -&gt;add('updatedAt', 'datetime') ; } public function configureFormFields(FormMapper $formMapper) { $formMapper -&gt;with('General') -&gt;add('slug', null, array('required' =&gt; false)) -&gt;add('title') -&gt;add('content', $this-&gt;contentType) -&gt;add('published', null, array('required' =&gt; false)) -&gt;end() -&gt;with('SEO') -&gt;add('keywords', null, array('required' =&gt; false)) -&gt;add('description', null, array('required' =&gt; false)) -&gt;end() ; $formMapper-&gt;setHelps(array( 'slug' =&gt; 'Leave blank for automatic filling from title field', )); } public function configureDatagridFilters(DatagridMapper $datagridMapper) { $datagridMapper -&gt;add('slug') -&gt;add('title') -&gt;add('published') ; } public function configureShowFields(ShowMapper $showMapper) { $showMapper -&gt;add('slug') -&gt;add('title') -&gt;add('content') -&gt;add('published') -&gt;add('publishedAt', 'datetime') -&gt;add('createdAt', 'datetime') -&gt;add('updatedAt', 'datetime') -&gt;add('keywords') -&gt;add('description') ; } }</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> For a change, I didn‚Äôt add a field type parameter to the form class, enabling the use of CKEditor by default and allowing it to be disabled through the form settings when creating it. </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The final version of the PageType class</font></font></b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Lexxpavlov</span></span>\<span class="hljs-title"><span class="hljs-title">PageBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">AbstractType</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">FormBuilderInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">OptionsResolver</span></span>\<span class="hljs-title"><span class="hljs-title">OptionsResolverInterface</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PageType</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractType</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $dataClass; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($dataClass)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;dataClass = $dataClass; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildForm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span></span></span><span class="hljs-function"> </span></span>{ $builder -&gt;add(<span class="hljs-string"><span class="hljs-string">'slug'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'title'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'content'</span></span>, $options[<span class="hljs-string"><span class="hljs-string">'contentType'</span></span>]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'published'</span></span>, <span class="hljs-string"><span class="hljs-string">'checkbox'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'keywords'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'description'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>) -&gt;add(<span class="hljs-string"><span class="hljs-string">'save'</span></span>, <span class="hljs-string"><span class="hljs-string">'submit'</span></span>) ; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDefaultOptions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(OptionsResolverInterface $resolver)</span></span></span><span class="hljs-function"> </span></span>{ $resolver-&gt;setDefaults(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'data_class'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;dataClass, <span class="hljs-string"><span class="hljs-string">'contentType'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'ckeditor'</span></span>, )); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'lexxpavlov_page'</span></span>; } }</code> </pre><br></div></div><br><br><h2>  2.4.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Removing extra files from a bundle </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The bundle is almost finished. </font><font style="vertical-align: inherit;">It remains to throw out the extra files that were created by the band-generator and which are not used. </font><font style="vertical-align: inherit;">This is the Controller folder (if you have not deleted it before), the contents of the Resources folder (except Resources / config), as well as the test folder (there is nothing to test in the bundle, no controllers, and everything else is trivial).</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3. Preparing the bundle for publication </font></font></h1><br><h2>  3.1.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Creating the composer.json file </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When the bundle is ready for publication, it's time to prepare it for publication. The composer bundles are on packagist.org, and there they get from some public version control system. We will use Github. But first of all, you need to create a file composer.json - a file in JSON format, containing meta information about the package, which in the future will be used by both the composer itself and packagist. The composer.json file is located at the root of the bundle and looks like this:</font></font><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"lexxpavlov/pagebundle"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span> : <span class="hljs-string"><span class="hljs-string">"Symfony2 Page bundle with meta data, predefined form type and Sonata Admin service"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span> : <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span> : <span class="hljs-string"><span class="hljs-string">"symfony-bundle"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"homepage"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://github.com/lexxpavlov/PageBundle"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span> : <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"keywords"</span></span> : [<span class="hljs-string"><span class="hljs-string">"page"</span></span>, <span class="hljs-string"><span class="hljs-string">"page bundle"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"authors"</span></span> : [{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"Alexey Pavlov"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"email"</span></span> : <span class="hljs-string"><span class="hljs-string">"lexx.pavlov@gmail.com"</span></span> }], <span class="hljs-attr"><span class="hljs-attr">"require"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"php"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=5.3.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"symfony/symfony"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=2.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"stof/doctrine-extensions-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=1.1"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"suggest"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"egeloen/ckeditor-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"Allow use ckeditor field"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"autoload"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"psr-4"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"Lexxpavlov\\PageBundle\\"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"extra"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"branch-alias"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"dev-master"</span></span> : <span class="hljs-string"><span class="hljs-string">"1.0.x-dev"</span></span> } } }</code> </pre><br> ,      . <br><br> <b>name</b> ‚Äî  .        .          vendor. <br> <b>description</b> ‚Äî  .  ,     ,   Packagist-  ,    . <br> <b>version</b> ‚Äî   .  ,   ,    . <br> <b>type</b> ‚Äî  .        Symfony,    ¬´symfony-bundle¬ª. <br> <b>homepage</b> ‚Äî     .      ,          . <br> <b>license</b> ‚Äî ,     .     MIT ‚Äî      . ( <a href="http://choosealicense.com/">   </a> ) <br> <b>keywords</b> ‚Äî   ,  ,   . <br> <b>authors</b> ‚Äî   . <br> <b>require</b> ‚Äî  ,    .     php,  ,     ,       . Composer     ,    ,     ,     . <br> <b>suggest</b> ‚Äî     ().    ,       ,     .        'ckeditor',    IvoryCKEditorBundle,      suggests,   , ,     .          composer-. <br> <b>autoload</b> ‚Äî    .      PSR-4,    .   PSR-0  ,         ,      ‚Äî       vendor/lexxpavlov/pagebundle. <br> <b>extra</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- additional package parameters. </font><font style="vertical-align: inherit;">In this case, the branch-alias parameter is used, which in Packagist creates a new version of the package called dev-master, which usually points to the master branch of the code. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minimum-stability</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - (not used in the example above) Indicates which dependency branches can be used. </font><font style="vertical-align: inherit;">If not specified, only the stable versions will be installed. </font><font style="vertical-align: inherit;">Possible values: dev, alpha, beta, RC and stable. </font><font style="vertical-align: inherit;">You can </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read more here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You also need to create the readme.md file with the bundle documentation. </font><font style="vertical-align: inherit;">This text file format Markdown allows you to quickly and easily write documentation with text markup and code snippets. </font><font style="vertical-align: inherit;">Description of the Markdown format can be read </font></font><a href="https://guides.github.com/features/mastering-markdown/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , or see the </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">description markup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> of our bundle. </font></font><br><br><h2>  3.2.      </h2><br>     Git,        .        -  ,      : <br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /path/to/project/src/Lexxpavlov/PageBundle $ git init $ git add . -A $ git commit -m <span class="hljs-string"><span class="hljs-string">"Init commit"</span></span></code> </pre><br>  ,          ,     ,          ,          .          ,          symlink. <br><br><h2>  3.3.    Github </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go to Github to </font></font><a href="https://github.com/new"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">create a new repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> page </font><font style="vertical-align: inherit;">and give the name of the new repository (PageBundle). </font><font style="vertical-align: inherit;">You can set a brief description of the package, which will be displayed at the top of the main page of the repository immediately below.</font></font> Important!<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Make sure that the </font><font style="vertical-align: inherit;">‚ÄúInitialize this repository with a README‚Äù checkbox is </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">not</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> checked, and the creation of the .gitignore and license file is disabled (the word NONE is displayed in the corresponding drop-down lists). </font><font style="vertical-align: inherit;">Next, go to the newly created (so far empty) repository and copy the path to it into the buffer (the Copy to clipboard button in the HTTPS clone URL section at the bottom of the right menu). </font><font style="vertical-align: inherit;">We execute lines in the console:</font></font><br><pre> <code class="bash hljs">$ git remote add origin remote https://github.com/yourusername/YourBundle.git $ git push origin master</code> </pre><br>  Done!<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Go to the package page and admire your files! </font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 4. Publishing a bundle </font></font></h1><br><h2>  4.1.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Using a bundle without registering with Packagist </font></font></h2><br>       composer,    ,    .      composer.json ,      ,  : <br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">...</span></span>] <span class="hljs-string"><span class="hljs-string">"require"</span></span> : { [...] <span class="hljs-string"><span class="hljs-string">"lexxpavlov/pagebundle"</span></span> : <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> }, <span class="hljs-string"><span class="hljs-string">"repositories"</span></span> : [{ <span class="hljs-string"><span class="hljs-string">"type"</span></span> : <span class="hljs-string"><span class="hljs-string">"vcs"</span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span> : <span class="hljs-string"><span class="hljs-string">"https://github.com/lexxpavlov/PageBundle.git"</span></span> }], [...]</code> </pre><br>        , ,    ,     Packagist.          ‚Äî    master- .          Packagist. <br><br><h2>  4.2.    Packagist </h2><br>   Packagist    ,         .       ,    ,    ,      .           .   ,    1.0.0  v1.0.0. (      <a href="https://packagist.org/about"></a> .)               ,     1.0.0.     ,    ,      . <br>  ,     ,   composer.json: <br><pre> <code class="bash hljs">$ git tag 1.0.0 $ git push origin --tags</code> </pre><br>         . <a href="https://packagist.org/register/"></a>  Packagist.org (     Github)      Submit package.          Check.    ,    Submit.   ! <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The package will be placed in the Packagist.org package archive. </font><font style="vertical-align: inherit;">You can see the package page with the fields that were extracted from the composer.json file and the package management buttons. </font><font style="vertical-align: inherit;">You will also see a warning that the package is not auto-updating. </font><font style="vertical-align: inherit;">An auto-update package is a githab configuration that automatically informs Packagist about updating the repository, and it will re-browse the repository in search of new code versions or update information in the composer.json file. </font><font style="vertical-align: inherit;">To install autoupdate, go to the </font></font><a href="https://packagist.org/profile/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profile</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> page </font><a href="https://packagist.org/profile/"><font style="vertical-align: inherit;">on Packagist</font></a><font style="vertical-align: inherit;"> and follow the instructions there. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now to use the bundle, just add the name of the package to the composer.json file of your project:</font></font><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">...</span></span>] <span class="hljs-string"><span class="hljs-string">"require"</span></span> : { [...] <span class="hljs-string"><span class="hljs-string">"lexxpavlov/pagebundle"</span></span> : <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span> }, [...]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or execute the command to add a package to the console (in the project folder): </font></font><br><pre> <code class="bash hljs">$ php composer.phar require lexxpavlov/pagebundle</code> </pre><br><br><h1>  Conclusion </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We created a package for the composer package manager, which contains the bundle we wrote for the symfony2 framework. </font><font style="vertical-align: inherit;">If we use it in several projects, when changing a package, we can get a new version of the code for all projects with a simple ‚Äúcomposer update‚Äù command. </font><font style="vertical-align: inherit;">Also, other programmers can use your package for their projects, and repay you with bug reports and pull requests. </font></font><br><br> <a href="https://github.com/lexxpavlov/PageBundle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bundle repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (a slightly modified version of the bundle was proposed in the article in order not to increase the article even more) </font></font><br> <a href="https://packagist.org/packages/lexxpavlov/pagebundle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Packagist bundle page. Materials</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> used and useful links:</font></font><br><ol><li> <a href="http://stackoverflow.com/questions/21523481/symfony2-creating-own-vendor-bundle-project-and-git-strategy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StackOverflow question about creating your own bundle</font></font></a> </li><li> <a href="http://symfony-gu.ru/documentation/ru/html/book/page_creation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creating pages in Symfony2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a detailed description of the process of creating bundles, controllers and templates</font></font></li><li> <a href="http://devacademy.ru/posts/opredelenie-i-proverka-parametrov-konfiguratsii-dlya-bandla-v-symfony-2/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Translation of Config component documentation</font></font></a> </li><li> <a href="https://packagist.org/about">About Packagist</a> ‚Äî   Packagist      </li><li> <a href="http://choosealicense.com/">Choose a license</a> ‚Äî        Github.com </li></ol></div><p>Source: <a href="https://habr.com/ru/post/248055/">https://habr.com/ru/post/248055/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248041/index.html">Once again (I hope the last one) about double-checked locking</a></li>
<li><a href="../248043/index.html">An approximate comparison of numbers in Haskell</a></li>
<li><a href="../248047/index.html">HP ProLiant ML350 Gen9 - server with insane extensibility</a></li>
<li><a href="../248051/index.html">Doomsday QA</a></li>
<li><a href="../248053/index.html">3CXPhone for Android and iOS in Unified Communications style</a></li>
<li><a href="../248057/index.html">Without cuts. The first month of kubish.ru cashback service in Russia</a></li>
<li><a href="../248061/index.html">Sea battle for 25 ms</a></li>
<li><a href="../248063/index.html">Extractions from ‚ÄúMental hospitals in the hands of patients‚Äù</a></li>
<li><a href="../248065/index.html">Hosting in Kazakhstan or how to break Jackpot</a></li>
<li><a href="../248069/index.html">Overview of some MOOC Coursera in computer science</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>