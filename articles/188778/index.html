<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Custom Tree v2 jQuery plugin</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The other day I decided to go back to sawing one of my old Open Source project. 
 In the process of deliberation I decided that the previous component...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Custom Tree v2 jQuery plugin</h1><div class="post__text post__text-html js-mediator-article">  The other day I decided to go back to sawing one of my old Open Source project. <br>  In the process of deliberation I decided that the previous <a href="http://habrahabr.ru/post/142603/">component with the tree</a> in its current form does not suit me anymore. <br><br>  I wanted something more event driven, with a clear and simple API. <br><br>  Now decided that it is already ready for Public. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="https://github.com/wentout/CustomTree2">Take, use</a> . <br>  Or look at <a href="http://wentout.github.io/CustomTree2/">example as part of GH-pages</a> . <br><br>  Under the cut a short translation of the brief API documentation. <br><br>  <b>UPD</b> : in the comments my code for <b>drag and drop</b> organization. <br><a name="habracut"></a><br><br>  It is executed as a jQuery plugin. <br><br>  <b>An example config, i.e.</b>  <b>of what is transmitted when you "create" a tree:</b> <br><br><pre><code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#tree_content'</span></span>).customTree({ <span class="hljs-attr"><span class="hljs-attr">root</span></span> : <span class="hljs-string"><span class="hljs-string">'top'</span></span>, <span class="hljs-attr"><span class="hljs-attr">init</span></span> : { <span class="hljs-attr"><span class="hljs-attr">callback</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">controller, tree</span></span></span><span class="hljs-function">) </span></span>{ info(<span class="hljs-string"><span class="hljs-string">'Init callback.'</span></span>); } }, <span class="hljs-comment"><span class="hljs-comment">// for leaf callbacks handlers : { added : function (leaf, controller, tree) { }, loaded : function (leaf, controller, tree) { }, parsed : function (leaf, controller, tree) { }, open : function (leaf, controller, tree) { }, close : function (leaf, controller, tree) { }, hover : function (leaf, controller, tree) { }, unhover : function (leaf, controller, tree) { }, focus : function (leaf, controller, tree) { }, beforeblur : function (callback, leaf, controller, tree) { }, blur : function (leaf, controller, tree) { }, deleted : function (leaf, controller, tree) { }, dblclick : function (leaf, controller, tree) { } }, listeners : { // click, dblclick, contextmenu up the element Label contextmenu : function (leaf, controller, tree, event) { }, dblclick : function (leaf, controller, tree, event) { } }, storeLoaded : false, focusParentOnClose : true, // focusByDblClick: true, // blurFromContainerClick : false, // blurFromContainerDblClick : false, labelsBreak : { by : 50, expandOnHover : false, expandOnSelect : true }, loader : function (path, callback) { // ... your code for nodes loading } });</span></span></code> </pre> <br><br>  As part of the code, a strict agreement on the parameters of the node that comes to Parsing \ Rendering is used, so I give <b>an example of a single node (leaf):</b> <br><br><pre> <code class="javascript hljs">{ <span class="hljs-comment"><span class="hljs-comment">// ‚Äì       , 'unique_naming_string' : { // ‚Äì ,   , text : 'string', // ‚Äì ,   ,    leaf , folder : [true || false], // ‚Äì ,   ,   ""  open : [true || false] //       ,     } }</span></span></code> </pre><br><br>  <b>Explanations {</b> <br><br><ul><li>  <b>root</b> - the name for the root path of the node <br></li><li>  <b>init</b> - boot options <br></li></ul><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ,      root init : { //     null delay : null, //     root     //    ,  preloader    preloader : 'preloader', // function (controller, tree)     callback : null, // jQuery ,     "" root method : 'fadeIn', //  true (default),      delay auto : true, //  ,   focus   focus : null }</span></span></code> </pre><br><br>  <b>handlers (leaf, controller, tree)</b> - preset event handlers. <br><br>  Everyone accepts the current node, controller, and tree object. <br><br>  But <b>beforeblur also</b> accepts callback as the first parameter. <br><br>  If you, for example, need to check whether the current node can be blur. <br>  If "yes", then this callback must be called. <br>  Otherwise, just do not call it, then blur will not happen. <br><br>  If blur was to be produced, because it was necessary to focus on another node, then if you do not call this callback, neither the current nor focus blur will be produced. <br><br>  Naturally, these callback manipulations for beforeblur will be possible only if you transmit to the config handler.beforeblur. <br><br>  <b>loader (path, callback)</b> - what the controller will refer to for loading leaf. <br><br>  Takes <b>['tree.root', 'leaf.name']</b> as the path. <br><br>  Must return JS Object! <br><br>  <b>listeners</b> are jQuery .on standards (callbacks for a text node element. <br>  Ie, if, say, you need a contextmenu or a custom click, then you need to use listeners. <br><br>  <b>theme</b> - CSS PREFIX_ for rendering classes <br><br>  <b>cls</b> - a set of CSS classes when rendering: <br><br><pre> <code class="javascript hljs">cls : { <span class="hljs-comment"><span class="hljs-comment">//  root root : 'tree_root', //  ,     control : 'tree_control', //  ,   ,  "" status : 'tree_leaf_status', //    text : 'tree_leaf_text', //  "" folder : 'folder', //    focus() selected : 'selected', //     hover : 'hover', //     loader : 'loader', //    open : 'open', //    container : 'container', //       supressLabelTextSelection : 'unselectable', supressTreeTextSelection : 'unselectable' }</span></span></code> </pre><br><br>  <b>html</b> - HTML tags for rendering: <br><br><pre> <code class="javascript hljs">html : { <span class="hljs-comment"><span class="hljs-comment">// root container tree : '&lt;UL&gt;', // leaf container leaf : '&lt;LI&gt;', // ,   children  children : '&lt;UL&gt;', //      +\- status heading : '&lt;DIV&gt;', //   +\- control : '&lt;SPAN&gt;', // ,   status : '&lt;SPAN&gt;', // ,   text : '&lt;SPAN&gt;', //   container : '&lt;DIV&gt;' }</span></span></code> </pre><br><br>  <b>control</b> - strings used for + \ -: <br><br><pre> <code class="javascript hljs">control : { <span class="hljs-attr"><span class="hljs-attr">close</span></span> : <span class="hljs-string"><span class="hljs-string">'+'</span></span>, <span class="hljs-attr"><span class="hljs-attr">open</span></span> : <span class="hljs-string"><span class="hljs-string">'‚Äì'</span></span> },</code> </pre><br><br>  <b>storeLoaded: true ||</b>  <b>false</b> - save the ‚Äúcollapsed‚Äù nodes, or reboot each time <br><br>  <b>focusParentOnClose: true ||</b>  <b>false</b> - select the parent element if its descendant had focus <br><br>  <b>focusByDblClick: true ||</b>  <b>false</b> - double-click to select <br><br>  <b>blurFromContainerClick: true ||</b>  <b>false</b> - blur when root is clicked <br><br>  <b>blurFromContainerDblClick: true ||</b>  <b>false</b> - blur when double-clicking root <br><br>  <b>labelsBreak:</b> - text caption of the node can be long, options for "trimming" if needed: <br><br><pre> <code class="javascript hljs">labelsBreak : { <span class="hljs-comment"><span class="hljs-comment">//        by : 0, //   str : '\n', //      expandAlways : false, //  ,  hover expandOnHover : false, //  ,  focused expandOnSelect : true }</span></span></code> </pre><br><br><h3>  Controller API </h3><br><ul><li>  <b>getPath (leaf)</b> - returns ARRAY URL for Leaf Object: ['top', 'leaf_name', 'child_name' ...] <br></li><li>  <b>refresh (leaf, callback, andOpen)</b> - reloads the transferred 'leaf', <br>  'callback' is used on completion, <br>  pass 'andOpen' if you need to expand the collapsed node <br></li><li>  <b>blur (leaf)</b> - <b>blur the leaf</b> <br></li><li>  <b>focus (leaf)</b> - make focus a node <br></li><li>  <b>x</b> - current config <br></li><li>  <b>x.current</b> - the current selected node <br></li><li>  <b>init</b> - if config.init.auto == false, there will be a function to call the init tree <br></li></ul><br><br>  I hope that someone will find this useful. </div><p>Source: <a href="https://habr.com/ru/post/188778/">https://habr.com/ru/post/188778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../188758/index.html">Parse anti-piracy law by bone</a></li>
<li><a href="../188760/index.html">Link, $ observe and $ watch functions in directives executed in the context of AngularJS</a></li>
<li><a href="../188766/index.html">The annual route of the Curiosity rover for 2 minutes from NASA (and yes, Curiosity has been on Mars for a year!)</a></li>
<li><a href="../188774/index.html">Logging and Confirming Incidents for Updates Installed with SCCM 2007</a></li>
<li><a href="../188776/index.html">Features of the gaming market in China - part 2</a></li>
<li><a href="../188780/index.html">Moto X. A controversial but interesting novelty from Motorola / Google</a></li>
<li><a href="../188782/index.html">Video review laptop Acer Aspire V5-572G</a></li>
<li><a href="../188784/index.html">‚ÄúAlready, more than 3 thousand stores operate at PrestaShop in Russia‚Äù - Bruno Leveque</a></li>
<li><a href="../188786/index.html">Joel Spolsky: Circle of Honor for Ask Patents</a></li>
<li><a href="../188790/index.html">Monitoring Hen's Production</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>