<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Popup with fading background with jQuery</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many of us have come across pop-up windows when the background gradually fades out. The user's gaze involuntarily focuses only on that part of the scr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Popup with fading background with jQuery</h1><div class="post__text post__text-html js-mediator-article"><img src="http://pic.ipicture.ru/uploads/090416/RvX4J24Alp.png" alt="image" align="left">  Many of us have come across pop-up windows when the background gradually fades out.  The user's gaze involuntarily focuses only on that part of the screen where something is required from this user.  Reasonably helpful, isn't it? <br><br>  Of course, I do not pretend to any novelty, and this note will be more useful for beginners with jQuery (which I myself am) than for people who have significant experience with this javascript framework. <br><br><a name="habracut"></a><h3>  Example </h3><br>  To post an example - I got an account on yandex.  I hope that they will not be banned if there are many views.  So, what we want to get in the end, you can see <a href="http://vladibakh.narod.ru/popup.html">here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Description </h3><br>  After clicking on a link on our website, a popup window is displayed to the user, requiring him to take some kind of action (for example, fill out and send the form).  At the same time, the rest of the page around this window fades out and hides behind a translucent dark background, visually moving away to the background.  The user enters data and sends the form, or rejects it, and then returns to the page where it was previously. <br><br><h3>  Implementation </h3><br>  First we need the latest version of the <a href="http://jquery.com/">jQuery</a> library (at the time of writing, version 1.3.2 is available). <br>  Next, we place two blocks at the beginning of our markup: <ul><li>  "Opaco" - it will be a dark layer that will hide the excess around the window; </li><li>  "Popup" - this will be the block into which we insert the necessary content. </li></ul><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="opaco"</font> <font color="#ff0000">class</font> <font color="#0000ff">="hidden"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="popup"</font> <font color="#ff0000">class</font> <font color="#0000ff">="hidden"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Next, we need to add the links and forms themselves, which will be hidden by default: <br><br>  <i>error form:</i> <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="user-actions"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#ff0000">class</font> <font color="#0000ff">="bug"</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="#"</font> <font color="#ff0000">onCLick</font> <font color="#0000ff">="showPopup('bug'); return false;"</font> <font color="#0000ff">&gt;</font>     ! <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="popup_bug"</font> <font color="#ff0000">class</font> <font color="#0000ff">="hidden"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="bug"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">action</font> <font color="#0000ff">="#"</font> <font color="#ff0000">class</font> <font color="#0000ff">="bug"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h3</font> <font color="#0000ff">&gt;</font> a  <font color="#0000ff">&lt;/</font> <font color="#800000">h3</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="form_error"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> ,   : <font color="#0000ff">&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="text"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font>  : <font color="#0000ff">&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">textarea</font> <font color="#ff0000">rows</font> <font color="#0000ff">="5"</font> <font color="#ff0000">cols</font> <font color="#0000ff">="30"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">textarea</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="closePopup(); return false;"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="closePopup(); return false;"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  For example, we assign an action to both buttons ‚Äî close the form (closePopup ()). <br><br>  <i>feedback form:</i> <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="user-actions"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#ff0000">class</font> <font color="#0000ff">="reference"</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="#"</font> <font color="#ff0000">onCLick</font> <font color="#0000ff">="showPopup('reference'); return false;"</font> <font color="#0000ff">&gt;</font>   ! <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="popup_reference"</font> <font color="#ff0000">class</font> <font color="#0000ff">="hidden"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="reference"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">action</font> <font color="#0000ff">="#"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h3</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">h3</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="form_error"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font>  : <font color="#0000ff">&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">textarea</font> <font color="#ff0000">rows</font> <font color="#0000ff">="5"</font> <font color="#ff0000">cols</font> <font color="#0000ff">="30"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">textarea</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="closePopup(); return false;"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="closePopup(); return false;"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  So, now you can proceed to the functions themselves display and close the pop-up window.  It is logical to start with the display: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//open pop-up</font> <br> <font color="#0000ff">function</font> showPopup(popup_type) <br> { <br> <font color="#008000">//when IE - fade immediately</font> <br> <font color="#0000ff">if</font> ($.browser.msie) <br> { <br> $( <font color="#A31515">'#opaco'</font> ).height($( <font color="#0000ff">document</font> ).height()).toggleClass( <font color="#A31515">'hidden'</font> ); <br> } <br> <font color="#0000ff">else</font> <br> <font color="#008000">//in all the rest browsers - fade slowly</font> <br> { <br> $( <font color="#A31515">'#opaco'</font> ).height($( <font color="#0000ff">document</font> ).height()).toggleClass( <font color="#A31515">'hidden'</font> ).fadeTo( <font color="#A31515">'slow'</font> , 0.7); <br> } <br> <br> $( <font color="#A31515">'#popup'</font> ) <br> .html($( <font color="#A31515">'#popup_'</font> + popup_type).html()) <br> .alignCenter() <br> .toggleClass( <font color="#A31515">'hidden'</font> ); <br> <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  The first part of the function processes the block with id = "opaco".  First of all, this block is assigned a height equal to the entire document, using the jquery method <a href="http://docs.jquery.com/CSS/height">height</a> .  It is necessary to darken even that part of the page, which is under the scroll.  And here we use two types of the method at once - if we don‚Äôt pass an argument, then we simply get the current height of the object (we have $ (document) .height () in the example), and if we pass the argument, then we assign it to the object we produce the action given the height (in our example, the object $ ('# opaco')). <br><br>  Now we are sure that the '#opaco' block covers the entire document and display it by removing the 'hidden' class ( <a href="http://docs.jquery.com/Attributes/toggleClass">toggleClass</a> ('hidden')). <br>  Depending on the browser - we do blackout: if IE - then there it will not be possible to do a smooth attenuation (and we don‚Äôt even try), but in all other cases, we gradually darken the block using the <a href="http://docs.jquery.com/Effects/fadeTo">fadeTo</a> ('slow', 0.7) method . <br><br>  The second half of the function processes the next block ‚Äî id = ‚Äúpopup‚Äù. <br>  First of all, we fill this block with the content we need, depending on what value is passed to the function. <br>  With the last action we display this block, again removing the class 'hidden'. <br><br>  But what we are doing in the middle is clear from the title that we align the block in the center.  Indeed, since we can have several different potential for displaying blocks on the page and all of them can be of different height and width depending on the content, for each block so that it is in the center of the screen - we need to apply different indents. <br><br>  alignCenter is a method defined by us, it is not in the standard jQuery package.  Determining your method is very simple: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//additional properties for jQuery object</font> <br> $( <font color="#0000ff">document</font> ).ready( <font color="#0000ff">function</font> (){ <br> <font color="#008000">//align element in the middle of the screen</font> <br> $.fn.alignCenter = <font color="#0000ff">function</font> () { <br> <font color="#008000">//get margin left</font> <br> <font color="#0000ff">var</font> marginLeft = Math.max(40, parseInt($(window).width()/2 - $( <font color="#0000ff">this</font> ).width()/2)) + <font color="#A31515">'px'</font> ; <br> <font color="#008000">//get margin top</font> <br> <font color="#0000ff">var</font> marginTop = Math.max(40, parseInt($(window).height()/2 - $( <font color="#0000ff">this</font> ).height()/2)) + <font color="#A31515">'px'</font> ; <br> <font color="#008000">//return updated element</font> <br> <font color="#0000ff">return</font> $( <font color="#0000ff">this</font> ).css({ <font color="#A31515">'margin-left'</font> :marginLeft, <font color="#A31515">'margin-top'</font> :marginTop}); <br> }; <br> });</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  First of all, it is necessary to determine it after the entire DOM document is loaded by the browser, for this we use the jQuery method <a href="http://docs.jquery.com/Tutorials:Introducing_%24(document).ready()">$ (document) .ready ()</a> . <br><br>  Inside our method, we first find the indent above and the indent on the left using a simple formula.  For this we need the screen size of the client and the size of our pop-up window.  A useful feature of jQuery here is the ability to access the object to which we are going to apply our method, through $ (this).  Thus, depending on the size of the pop-up block, we will dynamically calculate the necessary indents.  Just in case, if the pop-up block is very large or the screen size is very small - we set the minimum padding to 40px, so as not to leave the left edge of the screen. <br><br>  Well, in the end we need to apply these new indents, which we do through the <a href="http://docs.jquery.com/CSS/css">css</a> ({'margin-left': marginLeft, 'margin-top': marginTop}) method. <br><br>  With the mapping we finished, it remains for a small one - to close the window when the user finishes working with it: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//close pop-up box</font> <br> <font color="#0000ff">function</font> closePopup() <br> { <br> $( <font color="#A31515">'#opaco'</font> ).toggleClass( <font color="#A31515">'hidden'</font> ).removeAttr( <font color="#A31515">'style'</font> ); <br> $( <font color="#A31515">'#popup'</font> ).toggleClass( <font color="#A31515">'hidden'</font> ); <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  First we add the class 'hidden' to both blocks, hiding them.  Additionally, we still have to remove the style attribute from the block with id = "opaco", since  The fadeTo and height methods that we used earlier are implemented by adding exactly this attribute to the element. <br><br>  About CSS - it is worth noting that we hung z-index: 10 on the '#opaco' block so that it covers all other elements.  And on top of '#opaco' we will have a popup window, which we assigned to z-index: 11. <br><br>  I hope someone will be useful. <br><br>  <b>UPD</b> moved to jQuery Blog. <br><br>  <b>UPD2</b> at the <a href="http://habrahabr.ru/blogs/jquery/57466/">suggestion of</a> <a href="https://habrahabr.ru/users/auru/" class="user_link">Auru</a> made an indication of the popup independent jQuery method, the same example can be found <a href="http://vladibakh.narod.ru/example2/popup.html">here</a> . <br><br>  To do this, add the togglePopup () method: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$.fn.togglePopup = <font color="#0000ff">function</font> (){ <br> <font color="#008000">//detect whether popup is visible or not</font> <br> <font color="#0000ff">if</font> ($( <font color="#A31515">'#popup'</font> ).hasClass( <font color="#A31515">'hidden'</font> )) <br> { <br> <font color="#008000">//hidden - then display</font> <br> <font color="#008000">//when IE - fade immediately</font> <br> <font color="#0000ff">if</font> ($.browser.msie) <br> { <br> $( <font color="#A31515">'#opaco'</font> ).height($( <font color="#0000ff">document</font> ).height()).toggleClass( <font color="#A31515">'hidden'</font> ); <br> } <br> <font color="#0000ff">else</font> <br> <font color="#008000">//in all the rest browsers - fade slowly</font> <br> { <br> $( <font color="#A31515">'#opaco'</font> ).height($( <font color="#0000ff">document</font> ).height()).toggleClass( <font color="#A31515">'hidden'</font> ).fadeTo( <font color="#A31515">'slow'</font> , 0.7); <br> } <br> <br> $( <font color="#A31515">'#popup'</font> ) <br> .html($( <font color="#0000ff">this</font> ).html()) <br> .alignCenter() <br> .toggleClass( <font color="#A31515">'hidden'</font> ); <br> } <br> <font color="#0000ff">else</font> <br> { <br> <font color="#008000">//visible - then hide</font> <br> $( <font color="#A31515">'#opaco'</font> ).toggleClass( <font color="#A31515">'hidden'</font> ).removeAttr( <font color="#A31515">'style'</font> ); <br> $( <font color="#A31515">'#popup'</font> ).toggleClass( <font color="#A31515">'hidden'</font> ); <br> } <br> };</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  that is, in effect, transferred the showPopup and closePopup functions to this method. <br><br>  You can call this window by specifying the name of the block that we want to display and this method, for example: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="#"</font> <font color="#ff0000">onCLick</font> <font color="#0000ff">="$('#popup_bug').togglePopup(); return false;"</font> <font color="#0000ff">&gt;</font>     ! <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  clicking on the link will open the popup. <br><br>  And in the pop-up window itself, we will attach the exact same action to the close button, only in this case, the popup will close: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="$('#popup_bug').togglePopup(); return false;"</font> <font color="#0000ff">/&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  <b>UPD3</b> according to the <a href="http://habrahabr.ru/blogs/jquery/57466/">advice of</a> <a href="https://habrahabr.ru/users/dshster/" class="user_link">dshster</a> reworked a little calculation of the coordinates so that the block was centered in the center when the browser window was resized.  An example can be found <a href="http://vladibakh.narod.ru/example3/popup.html">here</a> . <br><br>  To do this in CSS properties '#popup' add: <br> <code><br> left:50%; <br> top:50%; <br></code> <br>  And in the alignCenter () method, we consider the negative margin as half the width of the block at the time of opening: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$.fn.alignCenter = <font color="#0000ff">function</font> () { <br> <font color="#008000">//get margin left</font> <br> <font color="#0000ff">var</font> marginLeft = - $( <font color="#0000ff">this</font> ).width()/2 + <font color="#A31515">'px'</font> ; <br> <font color="#008000">//get margin top</font> <br> <font color="#0000ff">var</font> marginTop = - $( <font color="#0000ff">this</font> ).height()/2 + <font color="#A31515">'px'</font> ; <br> <font color="#008000">//return updated element</font> <br> <font color="#0000ff">return</font> $( <font color="#0000ff">this</font> ).css({ <font color="#A31515">'margin-left'</font> :marginLeft, <font color="#A31515">'margin-top'</font> :marginTop}); <br> };</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  <b>UPD4</b> had a couple of comments, which is good when clicking on a dark background - you need to close the window.  I agree, it would be convenient.  Works <a href="http://vladibakh.narod.ru/example4/popup.html">here</a> . <br><br>  All we need for this is to display the togglePopup method on the click event on the '#opaco' block when the window is displayed, and to untie this action when the window is closed. <br><br>  It helps if you can bind handlers with a chain so that you do not have to look for the necessary DOM object once again.  Add an onclick event: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//when IE - fade immediately</font> <br> <font color="#0000ff">if</font> ($.browser.msie) <br> { <br> $( <font color="#A31515">'#opaco'</font> ).height($( <font color="#0000ff">document</font> ).height()).toggleClass( <font color="#A31515">'hidden'</font> ) <br> .click( <font color="#0000ff">function</font> (){$( <font color="#0000ff">this</font> ).togglePopup();}); <br> } <br> <font color="#0000ff">else</font> <br> <font color="#008000">//in all the rest browsers - fade slowly</font> <br> { <br> $( <font color="#A31515">'#opaco'</font> ).height($( <font color="#0000ff">document</font> ).height()).toggleClass( <font color="#A31515">'hidden'</font> ).fadeTo( <font color="#A31515">'slow'</font> , 0.7) <br> .click( <font color="#0000ff">function</font> (){$( <font color="#0000ff">this</font> ).togglePopup();}); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  and when closing - untie: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$( <font color="#A31515">'#opaco'</font> ).toggleClass( <font color="#A31515">'hidden'</font> ).removeAttr( <font color="#A31515">'style'</font> ).unbind( <font color="#A31515">'click'</font> );</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> </div><p>Source: <a href="https://habr.com/ru/post/57466/">https://habr.com/ru/post/57466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../57459/index.html">NASA compiled satellite collision report February 10</a></li>
<li><a href="../57460/index.html">StafferyOnline - the first resume creation service for IT specialists</a></li>
<li><a href="../57461/index.html">IMU 2009 - registration has begun</a></li>
<li><a href="../57462/index.html">Router Dlink Dir-320 + Samsung U200 = Internet</a></li>
<li><a href="../57465/index.html">Firefox 3.5 beta 4 coming out next week</a></li>
<li><a href="../57467/index.html">Indignant here</a></li>
<li><a href="../57469/index.html">Linux Vacation / Eastern Europe 2009: registration of applications for participation has begun</a></li>
<li><a href="../57470/index.html">Gaming industry preview clips for the first half of April</a></li>
<li><a href="../57473/index.html">Setup UAC in Windows 7</a></li>
<li><a href="../57475/index.html">Banner over Microsoft advertising company</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>