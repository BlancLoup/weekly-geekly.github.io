<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Linux kernel development held by email</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How would you lead the development of the largest open source project, in which about 15 thousand developers and 222 companies make more than 12 thous...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Linux kernel development held by email</h1><div class="post__text post__text-html js-mediator-article"><p>  How would you lead the development of the largest open source project, <a href="https://lwn.net/Articles/695993/">in which</a> about 15 thousand developers and 222 companies make more than 12 thousand changes between releases or 7/8 edits every hour?  What are the creator of the kernel Linus Torvalds, the <a href="https://usesthis.com/interviews/greg.kh/">stable maintainer</a> Greg Croat-Hartman (GKH) and other comrades in order to successfully coordinate the project and ensure the timely release of each new version? </p><br><img src="https://habrastorage.org/files/f45/75a/34d/f4575a34d45d487ab2f6375b385daeae.png"><br><p> This wonderful tool is a text-based email client: <code>Mutt</code> for GKH and <code>Alpine</code> for Linus Torvalds.  Andrew Morton, the third largest developer of the core, also uses the electronic control system to manage the <code>mm</code> branch. </p><blockquote>  <em>The development of the development of the new development tools for the development of the development team and the development of</em>  <em>It‚Äôs still a lot better than anything else.</em>  <a href="https://habr.com/ru/post/314084/"><sup>[one]</sup></a> </blockquote>  Let's try to figure out how this could happen.  What is the role of technology and personal factor?  Could a text email really be an ideal means of coordinating super-complex projects? <p></p><a name="habracut"></a><br><h2>  Long road to git </h2><br><p>  Recall how it all began.  On August 25, 1991, an unknown Finnish student wrote a letter to the <em>comp.os.minix</em> news group, in which he <a href="https://en.wikipedia.org/wiki/Linux_kernel">announced his work</a> on a free operating system and its soon completion.  In October of the same year, he posted version 0.0.2 on ftp in the Linux directory, notified the hackers about the comrades and it started ... </p><br><p>  From the very beginning, the development was carried out by a distributed team of enthusiasts.  At first, Linus Torvalds checked every patch, rewrote and installed it himself.  The team grew, the patches became more and more, the core grew and became more complicated.  I had to put the patches in a hurry, often without any changes.  In this situation, Linus made the only right decision - to <b>delegate and trust the work, to those who succeed</b> .  This process is well illustrated by a letter known as <em>Linus not scaling</em> , in which Linus complains about <del>  reboot </del>  overload and proposes to assign the maintainers of the various subsystems of the kernel. </p><blockquote>  <em>Linus doesn‚Äôt need to be scattered on the floor.</em>  <em>This is where the code gets dropped.</em>  <em>Patches that fix compile errors get dropped.</em>  <em>Code from subsystem maintainers that Linus designated.</em>  <em>It was warning-free.</em>  <em>It has been repeatedly resynced and re-diffused against the trees.</em>  <em>This is extremely frustrating to maintainers.</em>  <em>It is a huge source of unnecessary work.</em>  <em>The situation needs to be resolved.</em>  <em>Fast.</em> </blockquote>  Actually, the whole history of the development of the project fits into this scheme.  Linus less and less coded, more and more coordinated the work of the project, and so gradually from a hacker turned into an architect.  This did not happen without <a href="https://lwn.net/2002/0131/a/patch-penguin.php3">internal friction and roughness</a> , but the movement continued.  At the same time, the backbone of the senior developers was formed and the style of collaboration was shaped.  Since the email was the main tool of the joint work from the very beginning, everyone who was in the project, <b>adapted to send patches via email</b> and even recorded in the documentation how to do it correctly. <p></p><br><pre> <code class="hljs pgsql">-rw-r<span class="hljs-comment"><span class="hljs-comment">--r-- 1 root root 36604  11 2016 /usr/src/linux/Documentation/SubmittingPatches -rw-r--r-- 1 root root 11186  11 2016 /usr/src/linux/Documentation/email-clients.txt</span></span></code> </pre> <br><p>  Nevertheless, by 2000 it became clear that a version control system was needed.  <a href="http://spectrum.ieee.org/computing/software/linux-at-25-qa-with-linus-torvalds">The people began to grumble</a> that the development was inhibited because of the mechanical way Linus worked.  This was true, and then the team adopted <a href="https://en.wikipedia.org/wiki/BitKeeper">BitKeeper</a> , which at that time was a closed software product provided free of charge to open source developers.  To the pragmatic Linus, it was a damn, but the team had principled guys, not deaf to Richard Stallman's voice, ready to nail everything that even contains a closed code without getting tired.  Alan Cox - the programmer who wrote the first decent network stack for the kernel, was one of them. </p><br><p>  For a while, everything seemed to be going well, <code>BitKeeper</code> made life much easier for developers.  They didn‚Äôt have to worry anymore about who had the rights to which changes, each of them could work in their own tree of the source tree, the possibility of distributed mergers <a href="https://habr.com/ru/post/314084/"><sup>[2] of the</sup></a> source code yielded significant savings for everyone.  Implicitly, the crisis was brewing, which led to the creation of <code>Git</code> . </p><br><p>  Then the author of <a href="http://samba.org/">Samba</a> Tridge (Andrew Tridgell) wanted to do what he could do better than others - to carry out the reverse development <a href="https://habr.com/ru/post/314084/"><sup>[3] of</sup></a> <code>BitKeeper</code> , which, under the terms of the license, could not be done by any means.  The conflict broke out, Linus tried to extinguish it, but did not succeed in that.  And then he took it and in one day wrote <code>Git</code> .  What happened next - we all know: in such a delicate and conservative segment of software as VCS, <code>Git</code> managed to <a href="https://habrahabr.ru/post/269515/">overturn competitors in</a> just a few years. </p><br><h2>  The main advantage is the widest availability. </h2><br><p>  Recently, the maintainer of the stable Linux kernel branch, Greg Kroa-Hartman, speaking at one conference, <a href="https://kernel-recipes.org/en/2016/talks/patches-carved-into-stone-tablets/">laid out his arguments</a> for text-based email and against using collaborative development systems, source code inspections such as <code>GitHub</code> or <code>Gerrit</code> . </p><br><p>  Having listed the obvious advantages due to which <code>GitHub</code> gained immense popularity among developers, the speaker emphasized several times that it works fine for <a href="https://github.com/gregkh/usbutils" title="usbutils, Greg Kroa-Hartman project">small projects</a> , but for large <a href="https://github.com/gregkh/usbutils" title="usbutils, Greg Kroa-Hartman project">projects</a> it is not suitable, as it doesn‚Äôt scale well.  As proof of this thesis, he cited <a href="https://github.com/kubernetes/kubernetes">Kubernetes</a> , with 4,600 open applications and about 600 pull requests.  In the presentation, these figures were 10% lower. </p><br><img src="https://habrastorage.org/files/1f4/564/67f/1f456467f321406d98db9079030cd84b.png"><br><p><br>  Other GKH claims for Github: </p><br><ul><li>  Requires constant access to the Internet, but not all developers have access to it. </li><li>  Pull requests and mailings by themselves. </li><li>  Internal checks are difficult to implement. </li><li>  Claims to UI, painfully difficult to track bids. </li></ul><br><p>  However, the speaker made a reservation several times that some problems gradually find a solution, the service is constantly changing for the better.  Greg himself hosts <a href="https://github.com/gregkh/usbutils">usbutils</a> on Github. </p><br><p>  The rest of the joint development and inspection systems of the sources got a lot of nuts: the only argument for using <code>Gerrit</code> was the fact that he liked project managers.  Not surprisingly, text e-mail collected the most praise.  Theses for the email were as follows. </p><br><ol><li>  Simplicity </li><li>  Widest audience </li><li>  Scalability </li><li>  <b>Promotes community growth</b> </li><li>  Internal checks without problems </li><li>  Localization and translation of text </li><li>  Quick review of patches </li><li>  The ability to remotely check </li><li>  Lack of project manager </li></ol><br><p>  The first three points are in fact different facets of the same: <em>email is simple and accessible to everyone</em> .  Blind, and according to GKH, there are a number of cool, but blind programmers in the project, email is available and WWW is not.  Those who sit behind the corporate firewall, <code>git</code> unavailable, and with e-mail there are no problems.  Maintainers often travel, perform at the conference <del>  change passwords and turnout </del>  and it's easier for them to wait for an Internet connection, download and send letters, rather than find a time and place to check the status of applications in <code>Gerrit</code> .  Someone managed to travel a long time on a bicycle in Africa and still send patches on a schedule. </p><br><p>  The fourth point is also very important.  Every week or two in the field of view GKH appears recruit.  He is generally advised to join the mailing list and just spend a week in read-only mode to get an impression of what is happening and to get into the details.  This is a very good way to distinguish important topics from minor ones, to reveal the depth and detail of the problems discussed.  At the same time, if you send a newbie to read the forums somewhere there, then it may meet with misunderstanding and resentment. </p><br><p>  Let us now dwell in more detail on some of the disadvantages of using plaintext email as the main tool for managing and developing Linux. </p><br><h2>  I receive many letters </h2><br><p>  This is what <a href="http://www.kroah.com/log/linux/get_lots_of_email.html">Greg's blog entry was in</a> , in which he talks about workdays with email. </p><blockquote>  <em>Overall, in 24 hours I received 18,799,115 bytes (18Mb) of email in 2067 individual messages:</em> </blockquote>  Of these, at least 237 live letters to the newsletter, Greg reads them all. <blockquote>  <em>237 emails to mailing lists that I read everything that is posted.</em>  <em>This includes a number of openSUSE mailing lists, system linux-linux-usb, linux-pci, linux-usb linux-pci.</em> </blockquote>  Among all the maintainers, he has the largest load and the number of signed commits. <p></p><br><img src="https://habrastorage.org/files/ceb/18f/b4e/ceb18fb4e76940169df915e0c8ef04c8.png"><br><p><br>  Moreover, these numbers are constantly growing!  Apparently GKH scales well. </p><br><p>  How the <a href="http://elinux.org/Patch_Submission_HOWTO">model patch</a> should look like is written in <code>Documentation/SubmittingPatches</code> .  Any MIME and other nonsense, only plaintext.  <em>The patch should be contained in the body of the letter, and not be attached to it</em> . </p><br><pre> <code class="xml hljs">6) No MIME, no links, no compression, no attachments. Just plain text. ----------------------------------------------------------------------- Linus and other kernel developers need to be able to read and comment on the changes you are submitting. It is important for a kernel developer to be able to "quote" your changes, using standard e-mail tools, so that they may comment on specific portions of your code. For this reason, all patches should be submitted by e-mail "inline". WARNING: Be wary of your editor's word-wrap corrupting your patch, if you choose to cut-n-paste your patch. Do not attach the patch as a MIME attachment, compressed or not. Many popular e-mail applications will not always transmit a MIME attachment as plain text, making it impossible to comment on your code. A MIME attachment also takes Linus a bit more time to process, decreasing the likelihood of your MIME-attached change being accepted. Exception: If your mailer is mangling patches then someone may ask you to re-send them using MIME. See Documentation/email-clients.txt for hints about configuring your e-mail client so that it sends your patches untouched.</code> </pre> <br><p>  As if it is not difficult, but in fact, not all mail programs cope.  Among the main neosilatory <em>MS Outlook, Gmail (Web UI) and Lotus Notes</em> . </p><br><pre> <code class="diff hljs">(5:534)$ grep -A2 Lotus /usr/src/linux/Documentation/email-clients.txt Lotus Notes (GUI) Run away from it.</code> </pre> <br><p>  Companies that use them always have a dedicated Linux workstation to send patches. </p><br><p>  In addition, among the 16 rules, the format of the subject and content of the message are clearly defined. </p><br><pre> <code class="xml hljs">The canonical patch subject line is: Subject: [PATCH 001/123] subsystem: summary phrase The canonical patch message body contains the following: - A "from" line specifying the patch author (only needed if the person sending the patch is not the author). - An empty line. - The body of the explanation, line wrapped at 75 columns, which will be copied to the permanent changelog to describe this patch. - The "Signed-off-by:" lines, described above, which will also go in the changelog. - A marker line containing simply "---". - Any additional comments not suitable for the changelog. - The actual patch (diff output).</code> </pre> <br><p>  Often, <a href="http://yarchive.net/comp/linux/stupid_mail_clients.html">strange</a> letters happen with letters.  Linus complains that Dmitriy Torokhov‚Äôs <code>KMail</code> must be burned to hell, since it corrupts spaces and tabs, because of this copy-paste it gives out garbage. </p><blockquote>  <em>I can‚Äôt just cut out the whole line, because they aren‚Äôt tabs and spaces, they are some horrible abomination.</em> <br><br>  <em>It is true that it‚Äôs not a problem. ‚Äù\ \ 302 \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 240 '(' \ xC2 \ xA0 \ x20 '), ie, some utf-8 abomination.</em> </blockquote>  But <a href="https://plus.google.com/%2BLinusTorvalds/posts/DiG9qANf5PA">Linus reprimands</a> <code>GMail</code> <a href="https://plus.google.com/%2BLinusTorvalds/posts/DiG9qANf5PA">technical support</a> for the fact that their spambots are messed up in 20% of cases. <p></p><br><p>  There may be problems of mutual understanding between the programmer and the maintainer.  <a href="https://lwn.net/Articles/702906/">Comment on LWN in translation.</a> </p><blockquote>  <em>Checking patches in letters sucks compared to c push --force.</em>  <em>Will the maintainer grumble if I send one of the patches in processing v2 in the answer, or vice versa, will it grumble if I send the whole fresh v2 in one block instead?</em>  <em>Does he notice v2, in order to apply the one you need, because I can't change the status of my pull request.</em>  <em>As a maintainer, can I correctly apply the adjustment in the same situation?</em> </blockquote><p></p><br><h2>  Overall balance and conclusions </h2><br><p>  It is difficult to get rid of the impression that Linus and his comrades canonized their old habits of the 1990s.  This is a subjective factor, but it also rests on the objective factor.  The hackers who created the Linux kernel 25 years ago, thanks to which the open source community has gained material strength and moral leadership, <b>are able to create with great dedication in this way</b> .  If you take talented graduates <em>[MSU Baumanka MIT Berkeley your_loves_UZU]</em> and completely replace all <em>mainteners</em> with them, then in a year or two they will go to GitHub, or write something of their own and prove on the slides how much their productivity has increased.  Proof can be the presence of <a href="https://github.com/docker/docker">comparable large-scale projects</a> that quietly create without patches in the body of text letters.  Also, Google <a href="https://android-review.googlesource.com/">uses</a> <code>Gerrit</code> , for the development of Android. </p><br><p>  As a summary, I offer a <a href="https://lwn.net/Articles/702927/">comment on the LWN</a> . </p><blockquote>  <em>According to my thesis, in the 90s the open community had the best software tools for cooperation, and this is the reason that we have succeeded.</em>  <em>Then the proprietors caught up and overtook us.</em>  <em>We must invest in our toolkit again and update it, or at least adopt their best samples if we want to continue to succeed.</em> </blockquote><p></p><br><p>  And what does Habr think about this? </p><br><h3>  Used materials </h3><br><ol><li>  <a href="https://lwn.net/Articles/702177/">Why kernel development still uses email</a> </li><li>  <a href="https://www.linux.com/blog/10-years-git-interview-git-creator-linus-torvalds">10 Years Of Git: An Interview With Git Creator Linus Torvalds</a> </li><li>  <a href="https://github.com/gregkh/presentation-stone-tools/blob/master/stone-tools.pdf">Presentation Slides GKH</a> </li></ol><br><hr><br><ol><li><a name="cite_ref-1"></a>  <a href="https://habr.com/ru/post/314084/">‚Üë</a> <i>Why, with all the richness of the choice of "modern" development tools, such as: github, gerrit, etc., Linux kernel programmers got stuck in the 1990s with their dense rules for creating patches in the body of a simple text email message?</i>  <i>You will learn how the development of the kernel is carried out, why we rely on the ‚Äúancient‚Äù tools of labor and how they are so superior to all others.</i>  From the <a href="https://kernel-recipes.org/en/2016/talks/patches-carved-into-stone-tablets/">page of the announcement of the GKH performance,</a> </li><li><a name="cite_ref-2"></a>  <a href="https://habr.com/ru/post/314084/">‚Üë</a> Distributed merge. </li><li><a name="cite_ref-3"></a>  <a href="https://habr.com/ru/post/314084/">‚Üë</a> Reverse engineering. </li></ol></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/314084/">https://habr.com/ru/post/314084/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314074/index.html">3CX Phone System V15 SP3 released and integrated with Insightly CRM</a></li>
<li><a href="../314076/index.html">Checking an open source partner</a></li>
<li><a href="../314078/index.html">How Windows NT Became the ‚ÄúKiller‚Äù of Novell NetWare OS</a></li>
<li><a href="../314080/index.html">Experience using MassTransit 3.0</a></li>
<li><a href="../314082/index.html">Why once again fails the introduction of CRM</a></li>
<li><a href="../314086/index.html">Create interactive charts with R and Highcharts</a></li>
<li><a href="../314088/index.html">mgr-forms-react: Simple component for simple forms</a></li>
<li><a href="../314094/index.html">Paul Graham pushes the government: 95% of the world's excellent programmers are out of work, let them in</a></li>
<li><a href="../314096/index.html">Paul Graham thought about death and updated his todo list</a></li>
<li><a href="../314100/index.html">Software Cost Estimation: Dan Galloth and SEER-SEM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>