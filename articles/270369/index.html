<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using websocket in Extjs applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Websocket is probably the most serious and useful extension to the HTTP protocol since it appeared in the early nineties. Using websockets to communic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using websocket in Extjs applications</h1><div class="post__text post__text-html js-mediator-article">  Websocket is probably the most serious and useful extension to the HTTP protocol since it appeared in the early nineties.  Using websockets to communicate with the server is much more profitable than the usual AJAX.  Saving traffic in standard applications is significant, especially with the active exchange of client and server with small messages.  Also, the response time for data requests is significantly reduced.  The main obstacle to the widespread adoption of this technology for a long time was the fact that many proxy servers crookedly supported the enhanced version of the http protocol.  What led, at worst, to security problems ( <a href="http://www.opennet.ru/opennews/art.shtml%3Fnum%3D28944">proof</a> ).  Over the past couple of years, the situation with the support of webboxes has begun to improve and now, in my opinion, their time has come. <br><br>  This article describes the recipes for using web sockets in standard Extjs components (gridpanel, treepanel, combobox).  And, also, as a replacement for Ext.Ajax. <br><a name="habracut"></a><br><h2>  Disclaimer </h2><br>  Initially, the article was planned as a continuation to my previous post about the <a href="http://habrahabr.ru/post/269791/">Janusjs</a> system.  But, it seemed to me that this topic could be interesting in itself.  Therefore, the first part of the post will be about websockets, extjs and nodejs, in the second part I will describe the nuances of using websockets in the Janusjs system. <br><br>  The complete example code from this article can be found on <a href="https://github.com/Kolbaskin/extjs-wsproxy-example">Github</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  What is ready </h2><br>  The idea to make friends Extjs and Websocket came to the bright mind for a long time.  There is such a component: <a href="https://github.com/wilk/Ext.ux.data.proxy.WebSocket">Ext.ux.data.proxy.WebSocket</a> .  This component is made in the likeness of Ext.data.proxy.Ajax.  Those.  The web socket is used according to the standard AJAX scheme: the client sent a request to a specific URL, read the answer.  From here the main disadvantage of this implementation is that we need a separate socket for each component of the reading server.  Thus, many of the benefits of web sockets are lost.  If your application has only one table, then this implementation will fit perfectly.  For more complex tasks, something else is needed. <br><br>  When I wrote this article, I came across one more similar library: <a href="http://jwebsocket.org/">jWebSocket</a> .  Judging by the documentation, this is a serious development that deserves attention.  But here the server is built in Java. <br><br>  After weighing the complexity of adapting jWebSocket for Nodejs, I came to the conclusion that it is easier to modify <a href="https://github.com/wilk/Ext.ux.data.proxy.WebSocket">Ext.ux.data.proxy.WebSocket</a> . <br><br><h2>  How it works (theory) </h2><br>  The web socket provides a full duplex connection, in a client-server pair, both sides are equal.  Sending a message from the client to the server, there is no guarantee that the first packet coming from the server will be the answer to our request.  Therefore, it is necessary, somehow, to mark requests and search for the necessary ones in the stream of answers. <br><br>  The second difference from AJAX is that we do not have a URL in which we can encode what data is needed. <br><br>  Given all this, we outline a simple protocol for data exchange.  In the client's request, we will pass the name of the function to be run on the server and parameters for it. <br>  Request format: <br><pre><code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"event"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"opid"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"data"</span></span>: { &lt;data object&gt; } }</code> </pre> <br>  event - action identifier (create / read / update / delete); <br>  opid - operation identifier, random number.  By this code we will look for the right answer; <br>  data - additional request parameters.  For example, if this is a request from data.proxy, then there will be filtering, paging, sorting options. <br><br>  The format of the answer is exactly the same as the request. <br><br><h2>  Server </h2><br>  Let's start with the server side.  Add the required Node.js modules: <br><pre> <code class="bash hljs">npm i node-static websocket</code> </pre><br><br>  In order to avoid problems with cross-domain requests, we will create a combined server that will process the usual http requests and ws on the same port. <br>  Procurement for the web server: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"http"</span></span>) ,port = <span class="hljs-number"><span class="hljs-number">8008</span></span> <span class="hljs-comment"><span class="hljs-comment">//       ./static ,StaticServer = new(require('node-static').Server)(__dirname + '/static') ,WebSocketServer = require('websocket').server; //   http- var server = http.createServer(function(req, res) { //   http-    StaticServer.serv(req, res) }) //   server.listen(8008, function() { console.log((new Date()) + ' Server is listening on port 8008'); }); //  websocket  var wsServer = new WebSocketServer({ //    http- httpServer: server, //      , //       -  autoAcceptConnections: false }); //       - wsServer.on('request', function(request) { wsRequestListener(request) }); //     var wsRequestListener = function(request) { var conn; try { //   conn = request.accept('ws-my-protocol', request.origin); } catch(e) { /*  */} //    conn.on('message', function(message) { wsOnMessage(conn, message); }); //    conn.on('close', function(reasonCode, description) { wsOnClose(conn, reasonCode, description); }); } //   var wsOnMessage = function(conn, message) { } //    var wsOnClose = function(conn, reasonCode, description) { }</span></span></code> </pre><br><br>  Requests from the client will come in the form of a string containing JSON.  It needs to be translated into the object and call the appropriate method of the model. <br><br><pre> <code class="javascript hljs">... <span class="hljs-comment"><span class="hljs-comment">//   var wsOnMessage = function(conn, message) { var request; //       try { request = JSON.parse(message.utf8Data); } catch(e) { console.log('Error') return; } if(request &amp;&amp; request.data) { //             if(!!this[request.data.model] &amp;&amp; !!this[request.data.model][request.data.action]) { //          this[request.data.model][request.data.action](request.data, function(responseData) { //      , //       //    // scope -  -    (store) // opid -   responseData.scope = request.data.scope; if(request.opid) responseData.opid = request.opid //    conn.sendUTF(JSON.stringify({event: request.event, data: responseData})) }) } } } ...</span></span></code> </pre><br><br>  For simplicity, the model in the same file as the server and its only function will be to give an array of static data: <br><br><pre> <code class="javascript hljs">... <span class="hljs-comment"><span class="hljs-comment">//      gridDataModel = { //   // data -   (, ,   ..) // cb -  ,      read: function(data, cb) { cb({ list: [{ Author: 'Author1', Title: 'Title1', Manufacturer: 'Manufacturer1', ProductGroup: 'ProductGroup1', DetailPageURL: 'DetailPageURL1' },{ Author: 'Author2', Title: 'Title2', Manufacturer: 'Manufacturer2', ProductGroup: 'ProductGroup2', DetailPageURL: 'DetailPageURL2' }], total: 2 }) } } ...</span></span></code> </pre><br><br><h2>  Customer </h2><br>  From the standard extjs sample set, take the example of a simple table and replace the AJAX proxy in it with a modified WS-proxy: <br><pre> <code class="javascript hljs">Ext.Loader.setConfig({ <span class="hljs-attr"><span class="hljs-attr">enabled</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">paths</span></span>: { <span class="hljs-string"><span class="hljs-string">'Ext.ux'</span></span>: <span class="hljs-string"><span class="hljs-string">'src/ux'</span></span> } }); Ext.onReady(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    var protocol = location.protocol == 'https:'? 'wss':'ws'; //  - var WS = Ext.create('Ext.ux.WebSocket', { url: protocol + "://" + location.host + "/" , protocol: "ws-my-protocol", communicationType: 'event' }); var proxy = Ext.create('Ext.ux.data.proxy.WebSocket',{ //    store storeId: 'stor-1', //            websocket: WS, //       params: { model: 'gridDataModel', scope: 'stor-1' }, //    reader: { type: 'json', rootProperty: 'list', totalProperty: 'total', successProperty: 'success' }, simpleSortMode: true, filterParam: 'query', remoteFilter: true }); //  Ext.define('Book',{ extend: 'Ext.data.Model', fields: [ 'Author', 'Title', 'Manufacturer', 'ProductGroup', 'DetailPageURL' ] }); //  data store var store = Ext.create('Ext.data.Store', { id: 'stor-1', model: 'Book', proxy: proxy }); //  gridpanel Ext.create('Ext.grid.Panel', { title: 'Book List', renderTo: 'binding-example', store: store, bufferedRenderer: false, width: 580, height: 400, columns: [ {text: "Author", width: 120, dataIndex: 'Author', sortable: true}, {text: "Title", flex: 1, dataIndex: 'Title', sortable: true}, {text: "Manufacturer", width: 125, dataIndex: 'Manufacturer', sortable: true}, {text: "Product Group", width: 125, dataIndex: 'ProductGroup', sortable: true} ], forceFit: true, height:210, split: true, region: 'north' }); //       . //      0.1 var loadData = function() { if(WS.ws.readyState) { store.load(); } else { setTimeout(function() {loadData()}, 100) } } loadData() });</span></span></code> </pre><br><br>  In the simple example discussed above, the client script retrieves data from the server upon request.  Those.  we have a standard AJAX client-server interaction scheme, the only difference is in the method of receiving data.  But, in real applications, if we change the familiar XHR to the new-fashioned WS, I want to get something more.  For example, if one of the clients changed the data on the server, the rest should know about these changes.  For this purpose, the data.Story identifier is transmitted in the WS-proxy settings: when a signal is received from the server that the data has changed, WS-proxy should initiate the appropriate actions to display these changes in the UI. <br><br>  The most complete algorithms of client and server interaction via WS are implemented in the <a href="http://habrahabr.ru/post/269791/">Janusjs</a> system.  The following describes the features of using web sockets in this system (the example code is available on <a href="https://github.com/Kolbaskin/janus-example">Github</a> ). <br><br>  I will take as an example the example of the news module discussed in the <a href="http://habrahabr.ru/post/269791/">previous article</a> .  Let's add users the ability to leave comments to the news in the public part of the system.  When a new comment is received, the message ‚Äúreceived a new comment‚Äù should fly out in the admin panel with a button to switch to the moderation mode for this comment. <br><br>  To begin with, let's expand the news page template (protected / site / news / view / one.tpl): <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span> {name} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"date"</span></span></span><span class="hljs-tag">&gt;</span></span>: {[Ext.Date.format(new Date(values.date_start),'dmY')]}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span> {text} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tpl</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isCommentCreated"</span></span></span><span class="hljs-tag">&gt;</span></span>  . <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tpl</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tpl</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comments"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{text}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tpl</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textarea</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rows</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cols</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textarea</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  In the public controller of the news module (protected / site / news / controller / News.js) we add the method of displaying the news card: <br><pre> <code class="javascript hljs">Ext.define(<span class="hljs-string"><span class="hljs-string">'Crm.site.news.controller.News'</span></span>,{ <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-string"><span class="hljs-string">"Core.Controller"</span></span> ... ,<span class="hljs-attr"><span class="hljs-attr">showOne</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">params, cb</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> me = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ,out = {} <span class="hljs-comment"><span class="hljs-comment">//     ,commentsModel = Ext.create('Crm.modules.comments.model.CommentsModel', { scope: me }); [ function(next) { //      "comment" //    if(params.gpc.comment) { commentsModel.write({ pid: params.pageData.page, //   text: params.gpc.comment //   }, function() { next(true) //    }, {add: true}); //   --   } else next(false) //    } ,function(isCommentCreated, next) { out.isCommentCreated = isCommentCreated; //   //      commentsModel.getData({ filters: [{property: 'pid', value: params.pageData.page}] }, function(data) { out.comments = data.list; next() }) } ,function(next) { //    Ext.create('Crm.modules.news.model.NewsModel', { scope: me }).getData({ filters: [{property: '_id', value: params.pageData.page}] }, function(data) { if(data &amp;&amp; data.list &amp;&amp; data.list[0]) out = Ext.merge(out, data.list[0]) me.tplApply('.one', out, cb) }); } ].runEach() } ...</span></span></code> </pre><br><br>  On the video, how it works: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/9YDpgcYpwaQ%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgP9RlWqthP6PqO1BC0phkyNj2arg" frameborder="0" allowfullscreen=""></iframe><br><br>  To promptly notify the administrator of new comments, we will display a message.  When clicking on the button in this message, you need to open a comment editing card. <br><br>  Create a new controller in the comments module directory (static / admin / modules / comments / controller / Eventer.js): <br><pre> <code class="javascript hljs">Ext.define(<span class="hljs-string"><span class="hljs-string">'Crm.modules.comments.controller.Eventer'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-string"><span class="hljs-string">'Core.controller.Controller'</span></span>, <span class="hljs-attr"><span class="hljs-attr">autorun</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       // 1  --   ( ) // 2  --   ,    // 3 --   Core.ws.subscribe('eventer', 'Crm.modules.comments.model.CommentsModel', function(eventName, data) { // eventName --   (ins, upd, del  ..) if(eventName == 'ins' &amp;&amp; confirm(' .   ?')) location = '#!Crm-modules-comments-controller-Comments_' + data._id }) } });</span></span></code> </pre><br><br>  In principle, this is enough to implement the function we need, but Janus requires that all modules have their own models (this is necessary for the access rights distribution subsystem).  Therefore, create an empty model (static / admin / modules / comments / model / EventerModel.js): <br><pre> <code class="javascript hljs">Ext.define(<span class="hljs-string"><span class="hljs-string">'Crm.modules.comments.model.EventerModel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-string"><span class="hljs-string">"Core.data.DataModel"</span></span> })</code> </pre><br><br>  It remains to register our controller in the startup list for those user groups who will administer the comments.  Video how to do it and the result of the work: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/xW2TiTHyRQ0%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhIokN4p5BdQ4qHpYb8wu9wjm4Hmg" frameborder="0" allowfullscreen=""></iframe><br><br>  Another advantage of using WS is that now you can transfer some "heavy" functions to the client by unloading the server.  For example, when importing data from local files to a client, you can transfer parsing and data preparation from a file and send small portions of ready-made JSON objects to the server. <br><br><h2>  findings </h2><br>  Today, in my opinion, websockets is quite a suitable technology for widespread use.  Systems where WS is used are visually noticeably more responsive than AJAX analogues.  In addition, sockets add new features, in particular, make it easy to create systems that work in real time. </div><p>Source: <a href="https://habr.com/ru/post/270369/">https://habr.com/ru/post/270369/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270359/index.html">We force the php-fpm 5.6 service running through systemd to read global environment variables</a></li>
<li><a href="../270361/index.html">Animation of transitions between two fragments</a></li>
<li><a href="../270363/index.html">Game with a list of conditions</a></li>
<li><a href="../270365/index.html">Evaluation of test coverage on the project</a></li>
<li><a href="../270367/index.html">How I won the Beeline BigData Contest</a></li>
<li><a href="../270371/index.html">Error Handling in Rust</a></li>
<li><a href="../270373/index.html">Impact analysis on the example of corporate data warehouse infrastructure</a></li>
<li><a href="../270377/index.html">Magento 2.0 Release Candidate Released</a></li>
<li><a href="../270379/index.html">Half a Century to "Universal Machine Languages" (1966‚Äì2016): Past, Present, Future</a></li>
<li><a href="../270381/index.html">TvOS application development</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>