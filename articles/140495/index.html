<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Let's program the rosenblatt perceptron?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After a provocative article by Perceptron Rosenblatt - what is forgotten and invented by history? and one completely proving the absence of problems i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Let's program the rosenblatt perceptron?</h1><div class="post__text post__text-html js-mediator-article">  After a provocative article by <a href="http://habrahabr.ru/post/140301/">Perceptron Rosenblatt - what is forgotten and invented by history?</a>  and one completely proving the absence of problems in the Rosenblatt perceptron, and even vice versa showing some interesting sides and possibilities. <a href="http://habrahabr.ru/post/140387/">What is the role of the first ‚Äúrandom‚Äù layer in the Rosenblatt</a> perceptron?  And indeed, reliable information about him, except in the original, is not possible to find.  But even there it is quite difficult to describe how to program this perceptron.  I will not post the full code.  But let's try to go through a number of basics. <br><br>  Let's start ... oh yes, I warn you, I will not be telling classically, but somewhat modernized ... <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The code is in C #, but I think it‚Äôs better to treat it as a pseudocode.  But if someone did not understand something, ask - I will explain. <br><br>  And we begin with the sensors. <br><br><blockquote>  <font color="#0600FF">public</font> <font color="#FF0000">class</font> cSensor <br>  <font color="#000000">{</font> <br>  <font color="#0600FF">public</font> <font color="#0600FF">event</font> EventHandler ChangeState <font color="#008000">;</font> <br>  <font color="#0600FF">private</font> <font color="#FF0000">sbyte</font> state <font color="#008000">=</font> <font color="#FF0000">0</font> <font color="#008000">;</font> <br>  <font color="#0600FF">public</font> <font color="#FF0000">sbyte</font> State <br>  <font color="#000000">{</font> <br>  get <font color="#000000">{</font> <font color="#0600FF">return</font> state <font color="#008000">;</font>  <font color="#000000">}</font> <br>  set <br>  <font color="#000000">{</font> <br>  state <font color="#008000">=</font> value <font color="#008000">;</font> <br>  <font color="#0600FF">if</font> <font color="#000000">(</font> state <font color="#008000">==</font> <font color="#FF0000">1</font> <font color="#008000">&amp;&amp;</font> ChangeState <font color="#008000">! =</font> <font color="#0600FF">null</font> <font color="#000000">)</font> <br>  <font color="#000000">{</font> <br>  ChangeState <font color="#000000">(</font> <font color="#0600FF">this</font> , <font color="#008000">new</font> EventArgs <font color="#000000">(</font> <font color="#000000">)</font> <font color="#000000">)</font> <font color="#008000">;</font> <br>  <font color="#000000">}</font> <br>  <font color="#000000">}</font> <br>  <font color="#000000">}</font> <br>  <font color="#000000">}</font> <br></blockquote><br><br>  It's simple.  The sensor has a state of 0 or 1. As soon as the sensor receives a unit, it sends an event.  Next we have a synapse. <br><br><blockquote>  <font color="#0600FF">public</font> <font color="#FF0000">delegate</font> <font color="#0600FF">void</font> BackCommunication <font color="#000000">(</font> <font color="#FF0000">sbyte</font> Type <font color="#000000">)</font> <font color="#008000">;</font> <br>  <font color="#FF0000">class</font> cSinaps <br>  <font color="#000000">{</font> <br>  <font color="#0600FF">private</font> <font color="#FF0000">sbyte</font> type <font color="#008000">;</font> <br>  <font color="#0600FF">private</font> BackCommunication hBackCommunication <font color="#008000">;</font> <br>  <font color="#0600FF">public</font> cSinaps <font color="#000000">(</font> <font color="#FF0000">sbyte</font> tType, BackCommunication tBackCommunication <font color="#000000">)</font> <br>  <font color="#000000">{</font> <br>  type <font color="#008000">=</font> tType <font color="#008000">;</font> <br>  hBackCommunication <font color="#008000">=</font> tBackCommunication <font color="#008000">;</font> <br>  <font color="#000000">}</font> <br>  <font color="#0600FF">public</font> <font color="#0600FF">void</font> ChangeSensorState <font color="#000000">(</font> <font color="#FF0000">object</font> sourse, EventArgs e <font color="#000000">)</font> <br>  <font color="#000000">{</font> <br>  hBackCommunication <font color="#000000">(</font> type <font color="#000000">)</font> <font color="#008000">;</font> <br>  <font color="#000000">}</font> <br>  <font color="#000000">}</font> <br></blockquote><br><br>  It has the type - it will excite or inhibit the activity of the sensor.  And also the reaction to a change in the sensor (ChangeSensorState).  Now the actual A-element in the middle layer. <br><br><blockquote>  <font color="#0000ff">public</font> <font color="#0000ff">class</font> cAssociation <br>  <font color="#008000">{</font> <br>  <font color="#666666">// A-element activation level</font> <br>  <font color="#0000ff">public</font> <font color="#0000ff">int</font> ActivationLevel <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br>  <font color="#666666">// Synapses connected to this A-element</font> <br>  <font color="#0000ff">private</font> cSinaps <font color="#008000">[</font> <font color="#008000">]</font> oSinaps <font color="#008080">;</font> <br><br>  <font color="#0000ff">public</font> cAssociation <font color="#008000">(</font> cSensor <font color="#008000">[</font> <font color="#008000">]</font> sensorsField, <font color="#0000ff">int</font> SCount, Random RND <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">int</font> SinapsCount <font color="#000080">=</font> <font color="#0000dd">10</font> <font color="#008080">;</font> <br>  oSinaps <font color="#000080">=</font> <font color="#0000dd">new</font> cSinaps <font color="#008000">[</font> SinapsCount <font color="#008000">]</font> <font color="#008080">;</font> <br><br>  <font color="#0000ff">int</font> tSinapsNumber <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br>  <font color="#0000ff">int</font> tmpSensorNumber <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br>  sbyte tmpSensorType <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br><br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> j <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> j <font color="#000080">&lt;</font> SinapsCount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> j <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  tmpSensorNumber <font color="#000080">=</font> RND.  <font color="#007788">Next</font> <font color="#008000">(</font> SCount <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#0000ff">if</font> <font color="#008000">(</font> RND. <font color="#007788">Next</font> <font color="#008000">(</font> <font color="#0000dd">2</font> <font color="#008000">)</font> <font color="#000080">==</font> <font color="#0000dd">0</font> <font color="#008000">)</font> tmpSensorType <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font>  <font color="#0000ff">else</font> tmpSensorType <font color="#000080">=</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <br><br>  oSinaps <font color="#008000">[</font> tSinapsNumber <font color="#008000">]</font> <font color="#000080">=</font> <font color="#0000dd">new</font> cSinaps <font color="#008000">(</font> tmpSensorType, AssumeSinapsSignal <font color="#008000">)</font> <font color="#008080">;</font> <br><br>  sensorsField <font color="#008000">[</font> tmpSensorNumber <font color="#008000">]</font> .  <font color="#007788">ChangeState</font> <font color="#000040">+</font> <font color="#000080">=</font> <br>  <font color="#0000dd">new</font> EventHandler <font color="#008000">(</font> oSinaps <font color="#008000">[</font> tSinapsNumber <font color="#008000">]</font> . <font color="#007788">ChangeSensorState</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  tSinapsNumber <font color="#000040">++</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br><br>  <font color="#0000ff">void</font> AssumeSinapsSignal <font color="#008000">(</font> sbyte Type <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  ActivationLevel <font color="#000040">+</font> <font color="#000080">=</font> Type <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br></blockquote><br><br>  When creating an A-element, it is necessary to form synapses associated with it, let them be 10. Randomly decide with which sensor to connect it and what type of synapse it will be (stimulating or inhibiting).  And most importantly, we subscribe to the change in the value of the sensor in order to call at this moment AssumeSinapsSignal.  And there we increase the level of activation or decrease depending on the type of synapse attached. <br><br>  In general, everything, everything that was so difficultly told in <a href="http://habrahabr.ru/post/140387/">What is the role of the first "random" layer in the Rosenblatt perceptron</a> - we realized.  We have in the set of A-elements a guaranteed linear representation of any arbitrary problem. <br><br>  We now turn to learning the <i>method of correcting errors</i> in the second layer.  Initially, the general algorithm, I think is clear without words. <br><br><blockquote>  <font color="#0000ff">public</font> <font color="#0000ff">class</font> cNeironNet <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">public</font> cSensor <font color="#008000">[</font> <font color="#008000">]</font> SensorsField <font color="#008080">;</font>  <font color="#ff0000">/ * Touch field * /</font> <br>  <font color="#0000ff">public</font> cAssociation <font color="#008000">[</font> <font color="#008000">]</font> AssociationsFiled <font color="#008080">;</font>  <font color="#ff0000">/ * Associative field * /</font> <br>  <font color="#0000ff">int</font> ACount <font color="#008080">;</font> <br>  <font color="#0000ff">int</font> SCount <font color="#008080">;</font> <br>  <font color="#0000ff">public</font> ArrayList AHConnections <font color="#008080">;</font> <br>  Random RND <font color="#000080">=</font> <font color="#0000dd">new</font> Random <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> <br><br>  <font color="#0000ff">public</font> cNeironNet <font color="#008000">(</font> <font color="#0000ff">int</font> argSCount, <font color="#0000ff">int</font> argACount <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  ACount <font color="#000080">=</font> argACount <font color="#008080">;</font> <br>  SCount <font color="#000080">=</font> argSCount <font color="#008080">;</font> <br>  SensorsField <font color="#000080">=</font> <font color="#0000dd">new</font> cSensor <font color="#008000">[</font> SCount <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> SCount <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  SensorsField <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">=</font> <font color="#0000dd">new</font> cSensor <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  AssociationsFiled <font color="#000080">=</font> <font color="#0000dd">new</font> cAssociation <font color="#008000">[</font> ACount <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> ACount <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  AssociationsFiled <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">=</font> <font color="#0000dd">new</font> cAssociation <font color="#008000">(</font> SensorsField, SCount, RND <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br><br>  <font color="#ff0000">/ * Add a new sample from the training set to processing * /</font> <br>  <font color="#0000ff">public</font> ArrayList JoinStimul <font color="#008000">(</font> <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#008000">]</font> tPerception, <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#008000">]</font> tReaction <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> ACount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  AssociationsFiled <font color="#008000">[</font> i <font color="#008000">]</font> .  <font color="#007788">ActivationLevel</font> <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> SCount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  SensorsField <font color="#008000">[</font> i <font color="#008000">]</font> .  <font color="#007788">State</font> <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#666666">// Throw on the sensors obtained example</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> SCount <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  SensorsField <font color="#008000">[</font> i <font color="#008000">]</font> .  <font color="#007788">State</font> <font color="#000080">=</font> tPerception <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#666666">// Remember which A-elements were active in this example</font> <br>  AHConnections <font color="#000080">=</font> <font color="#0000dd">new</font> ArrayList <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> i <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> ACount <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">if</font> <font color="#008000">(</font> AssociationsFiled <font color="#008000">[</font> i <font color="#008000">]</font> . <font color="#007788">ActivationLevel</font> <font color="#000080">&gt;</font> <font color="#0000dd">0</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  AHConnections.  <font color="#007788">Add</font> <font color="#008000">(</font> i <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#666666">// Remember what the reaction should be for this example</font> <br>  SaveReaction <font color="#008000">(</font> tReaction <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#0000ff">return</font> AHConnections <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#ff0000">/ * When all the examples are added, the perceptron is called to learn them * /</font> <br>  <font color="#0000ff">private</font> <font color="#0000ff">void</font> Storing <font color="#008000">(</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#666666">// Do a lot of iterations</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> n <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> n <font color="#000080">&lt;</font> <font color="#0000dd">100000</font> <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> n <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#666666">// For each iteration, scroll through all the examples from the training set</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> StimulCount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#666666">// Activate the R-elements, i.e.</font>  <font color="#666666">counting outputs</font> <br>  RAktivization <font color="#008000">(</font> i <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#666666">// Find out if the perceptron was wrong or not, if we made a mistake we send for training</font> <br>  <font color="#0000ff">bool</font> e <font color="#000080">=</font> GetError <font color="#008000">(</font> i <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#0000ff">if</font> <font color="#008000">(</font> e <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  LearnedStimul <font color="#008000">(</font> i <font color="#008000">)</font> <font color="#008080">;</font> <br>  Error <font color="#000040">++</font> <font color="#008080">;</font>  <font color="#666666">// The number of errors, if at the end of the iteration = 0, then jump out of training.</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> </blockquote><br><br>  Activating R-elements is also simple.  Sum the weights from the active A-elements, and forward through the threshold (= 0). <br><br><blockquote>  <font color="#0000ff">private</font> <font color="#0000ff">void</font> RAktivization <font color="#008000">(</font> <font color="#0000ff">int</font> ReactionNumber <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#008000">]</font> Summa <font color="#000080">=</font> <font color="#0000dd">new</font> <font color="#0000ff">int</font> <font color="#008000">[</font> RCount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> j <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> j <font color="#000080">&lt;</font> RCount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> j <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> i <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> AHConnections <font color="#008000">[</font> ReactionNumber <font color="#008000">]</font> . <font color="#007788">Count</font> <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  Summa <font color="#008000">[</font> j <font color="#008000">]</font> <font color="#000040">+</font> <font color="#000080">=</font> Weight <font color="#008000">[</font> AHConnections <font color="#008000">[</font> ReactionNumber <font color="#008000">]</font> .  <font color="#007788">Value</font> <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#008000">]</font> .  <font color="#007788">Value</font> <font color="#008000">[</font> j <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> RCount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">if</font> <font color="#008000">(</font> Summa <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">&gt;</font> <font color="#0000dd">0</font> <font color="#008000">)</font> Reactions <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <br>  <font color="#0000ff">if</font> <font color="#008000">(</font> Summa <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">&lt;=</font> <font color="#0000dd">0</font> <font color="#008000">)</font> Reactions <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">=</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> </blockquote><br>  Check there is an error or not below. <br><br><blockquote>  <font color="#0000ff">private</font> <font color="#0000ff">int</font> GetError <font color="#008000">(</font> <font color="#0000ff">int</font> ReactionNumber <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">int</font> IsError <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> RCount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">if</font> <font color="#008000">(</font> Reactions <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">==</font> NecessaryReactions <font color="#008000">[</font> ReactionNumber <font color="#008000">]</font> . <font color="#007788">Value</font> <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  ReactionError <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#0000ff">else</font> <br>  <font color="#008000">{</font> <br>  IsError <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <br>  ReactionError <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">=</font> NecessaryReactions <font color="#008000">[</font> ReactionNumber <font color="#008000">]</font> .  <font color="#007788">Value</font> <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#0000ff">return</font> IsError <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br></blockquote><br><br>  Here we check the current reaction with the one that is, and prepare an array for learning about the reactionError reaction.  Now we‚Äôll focus on the last one - the actual learning. <br><br><blockquote>  <font color="#0000ff">private</font> <font color="#0000ff">void</font> LearnedStimul <font color="#008000">(</font> <font color="#0000ff">int</font> ReactionNumber <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> j <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> j <font color="#000080">&lt;</font> RCount <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> j <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> AHConnections <font color="#008000">[</font> ReactionNumber <font color="#008000">]</font> . <font color="#007788">Count</font> <font color="#000040">+</font> <font color="#0000dd">1</font> <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  Weight <font color="#008000">[</font> AHConnections <font color="#008000">[</font> ReactionNumber <font color="#008000">]</font> .  <font color="#007788">Value</font> <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#008000">]</font> .  <font color="#007788">Value</font> <font color="#008000">[</font> j <font color="#008000">]</font> <font color="#000040">+</font> <font color="#000080">=</font> ReactionError <font color="#008000">[</font> j <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br></blockquote><br><br>  So that is all. <br><br>  The only thing they ask me is: ‚Äúapparently, this algorithm of teaching correction with an error is also stuck as the algorithm of back propagation of error, if the weights are zero?‚Äù.  As you can see, here the training itself begins with zero weights.  There are not any mathematical formulas - elementary increments or decrements.  If the weight was 0, then if the error is corrected, it will become either +1 or -1, the weight can change the sign again after passing through zero, but it is physically impossible to get stuck at zero. <br><br>  <b>upd.</b> <br><br>  Below <a href="http://habrahabr.ru/users/retran/" class="user_link">retran</a> suggested using matrix and linq from functional programming to activate A-elements in place of my code in events according to a clearer OOP model. <br><br><blockquote> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Perceptron1 <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">public</font> <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#008000">]</font> <font color="#008000">[</font> <font color="#008000">]</font> SAMatrix <font color="#008000">{</font> get <font color="#008080">;</font>  <font color="#0000ff">private</font> set <font color="#008080">;</font>  <font color="#008000">}</font> <br>  <font color="#0000ff">public</font> Perceptron1 <font color="#008000">(</font> <font color="#0000ff">int</font> sensorsCount, <font color="#0000ff">int</font> associativeElementsCount <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  var random <font color="#000080">=</font> <font color="#0000dd">new</font> Random <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  SAMatrix <font color="#000080">=</font> <font color="#0000dd">new</font> <font color="#0000ff">int</font> <font color="#008000">[</font> associativeElementsCount <font color="#008000">]</font> <font color="#008000">[</font> <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> var i <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> associativeElementsCount <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  SAMatrix <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#000080">=</font> <font color="#0000dd">new</font> <font color="#0000ff">int</font> <font color="#008000">[</font> sensorsCount <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> var j <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> j <font color="#000080">&lt;</font> <font color="#0000dd">10</font> <font color="#008080">;</font> j <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  var sindex <font color="#000080">=</font> random.  <font color="#007788">Next</font> <font color="#008000">(</font> sensorsCount <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#0000ff">if</font> <font color="#008000">(</font> random. <font color="#007788">Next</font> <font color="#008000">(</font> <font color="#0000dd">2</font> <font color="#008000">)</font> <font color="#000080">==</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <br>  <font color="#0000ff">if</font> <font color="#008000">(</font> random. <font color="#007788">Next</font> <font color="#008000">(</font> <font color="#0000dd">2</font> <font color="#008000">)</font> <font color="#000080">==</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <br>  SAMatrix <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#008000">[</font> sindex <font color="#008000">]</font> <font color="#000040">+</font> <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <br>  <font color="#0000ff">else</font> <br>  SAMatrix <font color="#008000">[</font> i <font color="#008000">]</font> <font color="#008000">[</font> sindex <font color="#008000">]</font> <font color="#000040">-</font> <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  <font color="#0000ff">public</font> <font color="#0000ff">int</font> Activate <font color="#008000">(</font> <font color="#0000ff">int</font> i, <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#008000">]</font> inputs <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">return</font> <font color="#008000">(</font> SAMatrix <font color="#008000">[</font> i <font color="#008000">]</font> . <font color="#007788">Zip</font> <font color="#008000">(</font> inputs, <font color="#008000">(</font> w, input <font color="#008000">)</font> <font color="#000080">=&gt;</font> w <font color="#000040">*</font> input <font color="#008000">)</font> . <font color="#007788">Sum</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#000080">&gt;</font> <font color="#0000dd">0</font> <font color="#008080">?</font> <font color="#0000dd">1</font> <font color="#008080">:</font> <font color="#0000dd">0</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br></blockquote><br><br>  Yes, of course the code is much shorter.  But it‚Äôs less clear, it‚Äôs harder to make changes if the activation processes change.  But most importantly, <b>it works more than 100 times slower</b> .  So much for the charm of mathematical and functional programming :) <br><br>  We test it this way (although in my code there are several bugs above, but they are easy to fix, if someone does this, + most of them fixed and updated the code above): <br><br><blockquote>  Random random <font color="#000080">=</font> <font color="#0000dd">new</font> Random <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#008000">]</font> Input <font color="#000080">=</font> <font color="#0000dd">new</font> <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#0000dd">1000</font> <font color="#008000">]</font> <font color="#008080">;</font> <br>  <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#008000">]</font> AActiv <font color="#000080">=</font> <font color="#0000dd">new</font> <font color="#0000ff">int</font> <font color="#008000">[</font> <font color="#0000dd">900</font> <font color="#008000">]</font> <font color="#008080">;</font> <br><br>  TimeSpan BeginTime <font color="#000080">=</font> DateTime.  <font color="#007788">Now</font> .  <font color="#007788">TimeOfDay</font> <font color="#008080">;</font> <br>  Perceptron1 P1 <font color="#000080">=</font> <font color="#0000dd">new</font> Perceptron1 <font color="#008000">(</font> <font color="#0000dd">1000</font> , <font color="#0000dd">900</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> i <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> i <font color="#000080">&lt;</font> <font color="#0000dd">100</font> <font color="#008080">;</font> i <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> j <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> j <font color="#000080">&lt;</font> <font color="#0000dd">1000</font> <font color="#008080">;</font> j <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  Input <font color="#008000">[</font> j <font color="#008000">]</font> <font color="#000080">=</font> random.  <font color="#007788">Next</font> <font color="#008000">(</font> <font color="#0000dd">2</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#0000ff">for</font> <font color="#008000">(</font> <font color="#0000ff">int</font> j <font color="#000080">=</font> <font color="#0000dd">0</font> <font color="#008080">;</font> j <font color="#000080">&lt;</font> <font color="#0000dd">900</font> <font color="#008080">;</font> j <font color="#000040">++</font> <font color="#008000">)</font> <br>  <font color="#008000">{</font> <br>  AActiv <font color="#008000">[</font> j <font color="#008000">]</font> <font color="#000080">=</font> P1.  <font color="#007788">Activate</font> <font color="#008000">(</font> j, Input <font color="#008000">)</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <br>  TimeSpan locTime <font color="#000080">=</font> DateTime.  <font color="#007788">Now</font> .  <font color="#007788">TimeOfDay</font> <font color="#000040">-</font> BeginTime <font color="#008080">;</font> <br><br>  <font color="#666666">// TimeSpan BeginTime = DateTime.Now.TimeOfDay;</font> <br>  <font color="#666666">// Perceptron2 P2 = new Perceptron2 (1000, 900);</font> <br>  <font color="#666666">// for (int i = 0; i &lt;10000; i ++)</font> <br>  <font color="#666666">// {</font> <br>  <font color="#666666">// for (int j = 0; j &lt;1000; j ++)</font> <br>  <font color="#666666">// {</font> <br>  <font color="#666666">// Input [j] = random.Next (2);</font> <br>  <font color="#666666">//}</font> <br>  <font color="#666666">// P2.JoinStimul (Input);</font> <br>  <font color="#666666">//}</font> <br>  <font color="#666666">// TimeSpan locTime = DateTime.Now.TimeOfDay - BeginTime;</font> <br><br>  Console.  <font color="#007788">WriteLine</font> <font color="#008000">(</font> locTime. <font color="#007788">ToString</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <br>  Console.  <font color="#007788">ReadLine</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> <br></blockquote></div><p>Source: <a href="https://habr.com/ru/post/140495/">https://habr.com/ru/post/140495/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140486/index.html">Well, Herz'snim !!!</a></li>
<li><a href="../140487/index.html">Windows 8 Camp - how was it? Photos and recordings</a></li>
<li><a href="../140488/index.html">Xcode 4.3.2 released</a></li>
<li><a href="../140490/index.html">A bit of magic: how to take and make a call-center really effective</a></li>
<li><a href="../140492/index.html">Recipe for capistrano - import production base on the developer machine</a></li>
<li><a href="../140496/index.html">Mercurial: where to start implementation and why patches are needed</a></li>
<li><a href="../140497/index.html">Watson-as-a-service</a></li>
<li><a href="../140499/index.html">YouTube updated video editor</a></li>
<li><a href="../140500/index.html">Firefox Mobile 13.0a1 is now available for 58% of Android devices with ARMv6 processors</a></li>
<li><a href="../140501/index.html">Photoshop CS6 Beta</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>