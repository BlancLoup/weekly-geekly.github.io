<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of Multifactor Authentication in the Microsoft Azure Cloud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Microsoft (then Windows) security system of Azure has recently introduced new functionality ‚Äî multifactor authentication. WFP, of course, is neede...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of Multifactor Authentication in the Microsoft Azure Cloud</h1><div class="post__text post__text-html js-mediator-article">  The Microsoft (then Windows) security system of Azure has recently introduced new functionality ‚Äî multifactor authentication.  WFP, of course, is needed in order to build an additional protection contour around the account or cloud services of both Microsoft and third-party solutions or applications and services that use Microsoft Azure Active Directory as an authentication system.  Local infrastructure can also be protected ‚Äî for example, our Multifactor Authentication Server can be integrated into a RADIUS loop.  Interesting?  Under the cut - a description of the solution to the situation when we need to protect access to an Azure subscription not only with a login and password, and a little bit about where to go for more complex things. <br><a name="habracut"></a><br>  Multifactor Authentication Windows Azure provides an additional layer of authentication in addition to user credentials.  At the same time, multifactor authentication can be used to protect access to both on-premise and cloud applications.  Possible options for multifactor authentication include: <br><br>  ‚Ä¢ mobile applications, <br>  ‚Ä¢ phone calls <br>  ‚Ä¢ text messages, <br><br>  Users can choose what is convenient for them, both independently and forcibly - the administrator can regulate it.  In the context of securing local applications, multifactor authentication can be used to protect remote access VPNs, RADIUS, and Web applications using a special SDK.  If the cloud application uses Active Directory Federation Services, then the developer can set up synchronization with Windows Server Active Directory or another LDAP directory.  As for other Microsoft services, multifactor authentication is useful for protecting access to Microsoft Azure, Microsoft Online Services, Office 365, and Dynamics CRM Online. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/a2e/52b/363/a2e52b363cc9001678d0f45fb3a7cf9b.png"><br><br>  Let's see how to prepare multifactor authentication in Windows Azure. <br><br>  What you need to repeat the demo: <br><br>  ‚Ä¢ Windows Azure subscription - enough trial: <a href="http://aka.ms/WATK-FreeTrial">free trial</a> <br>  ‚Ä¢ Tenant Windows Azure Active Directory <br><br>  First, create an MFA provider: on the Active Directory tab of the Azure Management Portal, go to the SUPPLIER'S MULTI-FACTOR AUTHENTICATION VERIFICATION page.  Click Create, and enter the data - the name of the supplier (logical), "on the enabled user" and select the directory to which you want to bind the supplier.  Now we will create a new user on the Users page - this is necessary in order to activate the MFA, since the MFA <b>does not work</b> for the Microsoft Account (organizational only). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/998/441/558/9984415582325c8ee98a3c33345226ac.png"><br><br>  Adding a user is a three-step process: type of user account ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/07e/d85/b17/07ed85b1776c88a5847db41f22396029.png"><br><br>  ... His roles in the organization and tenant (set the role of a global administrator and tick the option to enable multifactor authentication) ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/317/96c/c18/31796cc18084e051ec190a21ed123a87.png"><br><br>  ... and setting a temporary password. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/30b/885/ae1/30b885ae1f9d7dddbb488c364176742a.png"><br><br>  Create a new password and complete the configuration of the new user.  Under this user, we will log in later.  After creating a user, go to his page and enter a mobile phone - note that the country code is also indicated in the drop-down menu - you do not need to write it in the field. <br><br>  Excellent - the infrastructure tasks for our simple scenario are over.  Now we will try to exit the portal and log in again, but under a new user.  A new option will appear - Set it up now, which means that the tenant administrator has forced the use of MFA for our user. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b09/1aa/8e2/b091aa8e22b64cdd064c70b5449cd1c4.png"><br><br>  On the MFA configuration page for our user there are all the necessary fields - the choice of authentication type, phone number, and the choice between SMS and call. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ed/bea/7a7/1edbea7a785d0aa6fd8724d379e428bd.png"><br><br>  On the next page we will be prompted to verify the selected type of authentication.  In our case, a pleasant female voice on the phone will tell you what to click in order to go through the additional security loop.  Try logging into your Azure account with a new account - the experience is the same. <br>  Now let's look at more complex scenarios - using MFA for the catalog and On-Premise. <br>  In order to use MFA On-Premise ‚Äî for example, integrate with IIS, RADIUS, Windows auth, or even LDAP ‚Äî we need to download and install a Multi-Factor Authentication Server.  It is loaded, if you click on the MFA provider created earlier, go to manage this provider and click Server ||  Loading. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/36e/c13/514/36ec13514e2ed6620c1483b532a1a465.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bce/9d3/37d/bce9d337d987faea64c776e511389a32.png"><br><br>  While the server is loading, we also click ‚ÄúCreate credentials for activation‚Äù - they will be needed to activate the server after installation. <br>  Install and activate the server.  Please note - the password is valid 10 minutes after its creation, so do not delay the activation process. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ff/432/1c6/8ff4321c6da11811d655a0d99bbaab36.png"><br><br>  In the process of setting up the server, you will see many interesting options - for example, on the Applications tab you can configure which services and applications are protected by the MFA. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f9/e36/0d7/7f9e360d7c1daf03ea896f06f47cc14a.png"><br><br>  The MFA server is configured on the AD directory by default, but to reconfigure or add another directory is not a problem at all - just select Synchronization on the Directory Integration tab and click ADD, then configure synchronization and its frequency. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af0/558/89d/af055889d9f7ee0d8bb768cfed4812ab.png"><br><br>  Another typical corporate utility is the integration of MFA with RADIUS to protect VPN and other features like Microsoft Unified Access Gateway, TMG, or even RDG.  Configure integration on the RADIUS Authentication tab. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3f/2bf/db2/c3f2bfdb27e8e1c55ccd98f4b687f7a8.png"><br><br><h4>  Summary </h4><br>  We looked at the Windows Azure Active Directory feature - Multi-Factor Authentication.  The process of setting it up is much simpler compared to the period when it just came out, and now there are no special problems in configuring MFA both in the simplest scenarios such as providing an additional security layer for logging in to the Windows Azure subscription, and in the most complex corporate - integration with RADIUS.  About other scenarios - later. <br><br></div><p>Source: <a href="https://habr.com/ru/post/217685/">https://habr.com/ru/post/217685/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../217669/index.html">TACACS + on Linux with Active Directory authentication</a></li>
<li><a href="../217671/index.html">Mysterious announcement from IBM</a></li>
<li><a href="../217675/index.html">BAKU 898D soldering station overview</a></li>
<li><a href="../217679/index.html">Why do companies refuse top staff?</a></li>
<li><a href="../217683/index.html">Fun facts about data loss</a></li>
<li><a href="../217687/index.html">YotaPhone Idea Camp: together we are power!</a></li>
<li><a href="../217689/index.html">Ansible and Docker, why and why?</a></li>
<li><a href="../217691/index.html">Code sharing between WP7, WP8, Win8 platforms. The basics</a></li>
<li><a href="../217693/index.html">Trolling detector: how we increased productivity using a speech analyzer</a></li>
<li><a href="../217695/index.html">Current trends in the development of DDoS attacks and protection against them using DefensePro Radware</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>