<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We turn on FCoE on the Cisco Nexus 5000 switch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Briefly about technology FCoE 
 FCoE (Fiber Channel over Ethernet) is a key protocol for supporting a unified data center switching matrix that allows...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We turn on FCoE on the Cisco Nexus 5000 switch</h1><div class="post__text post__text-html js-mediator-article"> <b>Briefly about technology FCoE</b> <br>  FCoE (Fiber Channel over Ethernet) is a key protocol for supporting a unified data center switching matrix that allows you to consolidate the data center infrastructure, increase management efficiency, and increase infrastructure flexibility and performance.  Following the course on using Ethernet to unify connections in the data center, Cisco supports the FCoE protocol in its key products, including the switch for the Nexus 5000 data center networks and the new Unified Computing System (UCS), which combines computing and network resources to support virtualization.  Using the same physical environment to connect servers and storage area networks (SAN) (Storage Area Network) simplifies server and network infrastructure, as well as storage infrastructure. <br><br>  Fiber Channel over Ethernet (FCoE) technology is the next step in the evolution of consolidated storage area networks.  The standard specification was proposed to the American National Standards Institute (ANSI) National Standardization Committee (T11) by a community of leading IT companies, including IBM, Intel, Brocade, Cisco, EMC, Emulex, Nuova, QLogic, Sun Microsystems. <br><br>  This article describes how to enable FCoE on a Cisco Nexus 5000 switch. <br><a name="habracut"></a><br>  <b>FCoE Activation on Nexus 5000</b> <br>  Enabling and configuring FCoE on a Nexus 5000 switch is quite simple.  To do this, you must perform 3 main points: <br>  1. Actually enable FCoE; <br>  2. Map (‚Äúsnap‚Äù) a virtual SAN network (VSAN) with FCoE traffic in the VLAN; <br>  3. Create a virtual Fiber Channel (VFC) interface. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Step 1. Enable</b> <br>  To enable FCoE on the switch, just run the command: <br> <code>switch(config)# feature fcoe</code> <br> <br>  <b>Step 2. Mapping VSAN to VLAN</b> <br>  First you need to decide which VSAN we will use.  If we connect to an existing FC factory, for example, on a Cisco MDS switch, we need to make sure that the VSANs between the Nexus switches and the MDS are properly configured and see each other.  Otherwise, the data traffic from VSAN on the Nexus switch will not reach the devices in the other VSAN on the MDS side. <br>  I want to draw your attention to the fact that FCoE VSAN-to-VLAN mapping is a necessary step, if it is not performed, the FCoE on the interfaces will not rise (as you see later in this post).  Suppose that VSANs between switches are already configured and perform the following actions for VSAN mapping into a VLAN: <br> <code>switch(config)# vlan XXX <br> switch(config-vlan)# fcoe vsan YYY <br> switch(config-vlan)# exit</code> <br>  Replace XXX and YYY with the appropriate VLAN and VSAN numbers in your configuration. <br><br>  <b>Step 3. Create VFC Interfaces</b> <br>  Now we are ready to create virtual Fiber Channel (VFC) interfaces.  Each physical port on the Nexus switch through which FCoE traffic will have to have a corresponding VFC interface.  In short, we need to create a VFC interface with a number corresponding to the physical interface.  This is not a hard condition, but in this case it will be easier for us to manage the interfaces ourselves.  To create the VFC interface, execute the following commands: <br> <code>switch(config)# interface vfc XX <br> switch(config-if)# bind interface ethernet 1/XX <br> switch(config-if)# no shutdown <br> switch(config-if)# exit</code> <br> <br>  The interface has been created, but is still not working, to activate it, you need to add the interface we created to VSAN, which was configured earlier for FCoE operation in the corresponding VLAN.  If this is not done, the result of the command: <code>show interface vfc &lt;number</code> &gt; will be as follows: <br>  <b>vfcXX is down (VSAN not mapped to an FCoE enabled VLAN)</b> <br><br>  As mentioned above, to avoid this, you need to map (primapit) VSAN to the corresponding VLAN.  After successfully completing this procedure, it remains for us to only assign the VFC interface to the appropriate VSAN using the following commands: <br> <code>switch(config)# vsan database <br> switch(config-vsan-db)# vsan interface vfc switch(config-vsan-db)# exit <br> <br>   VFC          ,  : show flogi database. ,      FC-,      -     WWN- ,   FCoE,       .</code> </div><p>Source: <a href="https://habr.com/ru/post/159123/">https://habr.com/ru/post/159123/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159107/index.html">Simple release management with Git</a></li>
<li><a href="../159109/index.html">Phased array antenna</a></li>
<li><a href="../159113/index.html">Hibernation on PROXMOX2</a></li>
<li><a href="../159115/index.html">We improve labor productivity. Objective-c macros and literals</a></li>
<li><a href="../159121/index.html">We solder a ‚Äúsmart‚Äù car PSU on 5v with USB charging and automatic on / off</a></li>
<li><a href="../159127/index.html">Two simple tasks on Haskell (for beginners)</a></li>
<li><a href="../159129/index.html">Proper definition of the user's language</a></li>
<li><a href="../159131/index.html">Mysql PARTITION BY YEAR (date) / MONTH (date) / DAYOFWEEK (date)</a></li>
<li><a href="../159133/index.html">Configuring Asus RT-N56U Router to Access Pandora, Hulu and Other Resources</a></li>
<li><a href="../159135/index.html">Android 4.2 calendar is missing December</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>