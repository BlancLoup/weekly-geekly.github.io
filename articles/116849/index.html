<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Experience creating multitouch backgrounds</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, 
 I wanted to share the experience of creating my multitouch table. The idea is not new, but this is a miracle - 



 - costs about $ 10,000...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Experience creating multitouch backgrounds</h1><div class="post__text post__text-html js-mediator-article">  Good day, <br>  I wanted to share the experience of creating my multitouch table.  The idea is not new, but this is a miracle - <br><br><img src="https://habrastorage.org/storage/habraeffect/68/37/6837385b55a9739b89574e51be2db993.png" alt="image"><br><br>  - costs about $ 10,000 and this is without delivery to us. <br>  Under the cut, you can find out how it works and how to make such a table at home (carefully, a lot of pictures). <br><a name="habracut"></a><br>  First you need to say what tasks such a table should be able to perform: <br>  1) Simultaneous tracking of a large number of touches. <br>  2) High reaction rate. <br>  3) Otsutviye influence of touch recognition on the displayed image. <br>  4) A fairly simple interaction with the user system =, preferably compatible with the built-in Win7 multitouch. <br><habracut><br>  The main question was how to track touch points.  There are, of course, usb-screens that support multitouch, but their price is high, and of such size that it can be used as a table surface is not at all.  Therefore, it was decided to use an optical recognition system based on IR imaging in order to avoid interference with the displayed image. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Further, how it should work: <br><br><img src="https://habrastorage.org/storage/habraeffect/b8/0e/b80e3fd003ec76a1dced794ebaf6b1be.png" alt="image"><br><br>  The surface shown in the picture is acrylic glass, 2 cm thick, whose surface is covered with a diffusing film. <br>  What is it for?  <s>We use the effect of total internal reflection, in this case, in the case of touching the surface, the IR rays will pass at the interface of the surface at an angle greater than the critical (42.51 degrees for acrylic).</s>  <s>The effect of the effect of total internal reflection is interrupted, and the IR rays pass through the lower boundary of the surface, after which the camera installed below can register them.</s>  We use the effect similar to the way we see the faces of people from a lighted room outside the window at night: if the face comes closer, it can be clearly seen in the window, and in the distance it quickly disappears in the dark.  Diffusing film enhances this scattering effect of weak light and plays a crucial role.  Well lit items close to the film, because of the simple reflection of light back to the table.  ¬© spmbt <br><br><img src="https://habrastorage.org/storage/habraeffect/fe/04/fe0487b77593c5467a327d2561468939.png" alt="image"><br><br>  To register touches you need an IR camera.  Industrial IR cameras are very expensive, in order to turn an ordinary webcam into an infrared camera, you need to remove the IR filter from it.  And add a threshold filter that transmits only IR light, it can be made from the negative. <br><br><img src="https://habrastorage.org/storage/habraeffect/aa/e8/aae8fd0b4b51024c4ea72582a475b0e2.png" alt="image"><br><br>  I must say that the usual webcam does not work well, because  it will give low fps, I used the Sony PS Eye, which with custom firewood can give up to 120 fps. <br><br>  For IR illumination 4 infrared illuminators were purchased, originally used in systems of night video surveillance. <br><br><img src="https://habrastorage.org/storage/habraeffect/f9/33/f9339daf3308d2011dd94eadd8fb5fe0.png" alt="image"><br><br>  To reflect the image and reduce the depth of the table, a mirror is installed between the projector and the table top. <br><br>  As for software: <br><br>  1. Custom driver for the camera. <br>  2. CCV from <a href="http://nuigroup.com/">nuigroup.com</a> for video stream analysis. <br>  3. Different libraries for fastening to Win7. <br><br>  This is what the CCV output looks like. <br><br><img src="https://habrastorage.org/storage/habraeffect/57/12/5712ff1f1df75c71a23dc30468ad932b.png" alt="image"><br><br>  You can add your own filters to CCV or customize existing ones. <br><br><img src="https://habrastorage.org/storage/habraeffect/ae/4a/ae4abf1c521d217cf82e5d7ce771950e.png" alt="image"><br><br>  CCV can generate TUIO events to work with which there is a C # library <br><br>  Here is what was used to implement the system: <br><br>  1. A Tochiba tdp ex20 projector with a wide projection angle, with a ‚Äúhot mirror‚Äù installed on it, blocking IR radiation, to prevent interference with the recognition system (distance 0.72m, picture size 75x100cm, scale 4: 3, diagonal 125 '). <br>  2. Sony PlayStation Eye camera with an IR filter installed to prevent interference with visible projected radiation, the choice of camera is due to very high fps (up to 120 at low resolution) <br>  3. 2-4 IR panels for acrylic lighting on the table surface, frequency 850nm. <br>  4. Mirror for correct display of the image on the back side of the projection plane. <br>  5. Power supply for IR panels, PC for camera operation, image output and operation of MT applications. <br>  6. Aluminum frame, covered with thick wallpaper. <br>  7. <a href="http://nuigroup.com/">nuigroup.com</a> - a treasure trove of information on the topic. <br><br>  This is what my table looks like: <br><br><img src="https://habrastorage.org/storage/habraeffect/13/f2/13f2556ae6edb935dd8d772214aa4da0.png" alt="image"><br><br>  If someone wants to collect this at home - write advise where to buy the details. <br><br>  PS: in the MS Surface header.  An example of using such a table (video inspired me).  <a href="http://nuigroup.com/forums/viewthread/4401/">nuigroup.com/forums/viewthread/4401</a> </habracut></div><p>Source: <a href="https://habr.com/ru/post/116849/">https://habr.com/ru/post/116849/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116842/index.html">Govnokod: the enemy must know in person</a></li>
<li><a href="../116843/index.html">Larry Page became CEO of Google</a></li>
<li><a href="../116845/index.html">Your attitude to social networks?</a></li>
<li><a href="../116847/index.html">Write code from scratch or use an existing library?</a></li>
<li><a href="../116848/index.html">CPlase.com - the evolution of information dissemination on the Internet</a></li>
<li><a href="../116850/index.html">Which of these applications would you be interested to use with PostgreSQL instead of MS SQL?</a></li>
<li><a href="../116851/index.html">About the description of business processes</a></li>
<li><a href="../116852/index.html">Making the console a little more convenient.</a></li>
<li><a href="../116853/index.html">FlexClone - Dolly's Digital Sheep</a></li>
<li><a href="../116854/index.html">Anonymous decided to punish Sony for Geohot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>