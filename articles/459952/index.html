<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Some experience with backup & storage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Some time ago I plunged into the world of "harsh enterprise", namely in that area of ‚Äã‚Äãhis that is responsible for storing and backing up da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Some experience with backup & storage</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  Some time ago I plunged into the world of "harsh enterprise", namely in that area of ‚Äã‚Äãhis that is responsible for storing and backing up data.  More precisely, in her most.  And during this period I have accumulated several rules that I try to adhere to when designing or servicing solutions in this area.  Some have already outlived their own, with the development of technology, and some quite working.  And I decided to share them with you. <br><br>  There will be no rule 3-2-1, which is often mentioned without me, some kind of direct techniques for specific situations and other things in the same spirit.  Perhaps for most of those reading this will be the basics and platitudes.  This is just my humble experience and I hope it will be useful to anyone.  I ask under the cat. <br><a name="habracut"></a><br><h3>  Features of local "sizing" </h3><br>  Sooner or later there is a need to get some more terabytes and / or IOPS.  And then begins sizing.  Often meaningless and merciless.  Because it is extremely rare for someone to put in the sizing requirements of the RTO which are usually imposed on backups.  Although it seems like an obvious requirement for any hardware complex.  Those.  when sizing and forming requirements for new equipment for some reason, the requirements of the backup system are not taken into account, which will urgently restore something to you on hardware.  Sometimes something very big.  In general, some kind of performance margin and space is laid, but the very first data recovery shows that it is not enough for the life cycle that was defined for this equipment. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Over the past year, I have already seen a situation twice when a disk array on which restoration was performed was a bottleneck in data recovery.  The RTO fit, but the bell is alarming. <br><br><h3>  We have a solution on a cluster, why do you need backup? </h3><br>  It was this very ‚Äúenergetically‚Äù spoken phrase that I heard when communicating <br>  with the developer of one very useful software for one business.  The developer argued the uselessness of backup to restore the fact that the solution is deployed on the cluster and therefore will save the cluster if the node (or disk array) falls on the site.  In these cases, he will certainly save.  This is generally excellent when there are guys who think about fault tolerance even at the design stage. <br><br>  However, data loss is achieved not only by the failure of equipment on one site, and for some reason this developer did not want to understand for a long time.  As a consequence, the first version of the software was released to the DBMS community, the backup mechanics of which did not allow fulfilling either the requirements of the RTO / RPO or the SLA of the contracting organization. <br>  In general, I hear this phrase about the cluster quite often. <br><br><h3>  First, then this! </h3><br>  One of my biggest mistakes was viewing backup objects as independent.  Here is the DBMS, here is the software.  It is backed up like this, and it is like this.  First one, then another.  And one day we could not recover.  More precisely, we could, but in the few days that were spent to correct errors in the database.  And it was not I who eliminated them, for which I am especially ashamed.  Although we used a regular backup mechanism for this DBMS.  Already tested on other systems. <br><br>  From that moment on, I always poke my nose and shake the developer / owner of the system on how to properly create backup copies and restore.  For example, in one case, the only way to create a working backup was to completely stop the services on 5 servers, make a backup and start the services. <br><br><h3>  Dump our everything? </h3><br>  Often I come across solutions for DBMS such as MySQL and PostgreSQL.  And even more often I come across a situation where a banal dump base in / tmp is used as a backup method, and then to another medium.  At the same time, the systems where these DBMSs are used are rather critical to downtime in case of data loss, and are very loaded.  I am already silent about the volumes. <br><br>  For some reason, few people read the documentation for these products and do not know that there are alternative ways and solutions for creating backups of these DBMS.  <i>MySQL Enterprise Backup</i> for, respectively, MySQL and <i>pg_basebackup</i> ( <i>pg_start_backup, pg_stop_backup</i> ) in, respectively, PostgreSQL.  Or knows, but flew out of my head.  Although these solutions are not very difficult, and faster.  Faster backup, faster restore, faster test. <br><blockquote>  Please do not shoot the pianist. <br>  He is doing his best. <br>  Oscar Fingal O'Flahertie Wills Wilde </blockquote></div><p>Source: <a href="https://habr.com/ru/post/459952/">https://habr.com/ru/post/459952/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459928/index.html">The student's path to developing mobile applications</a></li>
<li><a href="../45993/index.html">Nokia N97: New Smartphone Company with Touchscreen and Sliding QWERTY Keyboard</a></li>
<li><a href="../459930/index.html">Automate imports to Python</a></li>
<li><a href="../459934/index.html">The digest of interesting materials for the mobile developer # 306 (July 8 - 14)</a></li>
<li><a href="../459936/index.html">9 more tricks to work with Visual Studio</a></li>
<li><a href="../459954/index.html">Why one of the largest IT companies joined CNCF - a fund developing cloud infrastructure</a></li>
<li><a href="../459956/index.html">Implantation in the absence of teeth, as a result of late appeals to the dentist</a></li>
<li><a href="../459958/index.html">Parsing tasks from the Hydra conference - load balancing and in-memory storage</a></li>
<li><a href="../45996/index.html">Password is not long enough</a></li>
<li><a href="../459964/index.html">8 simple UI techniques to make the design prototype dynamic, without resorting to animation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>