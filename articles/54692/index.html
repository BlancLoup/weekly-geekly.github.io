<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP: Parameters in context</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Problem: 

 It is required that several objects interacting with each other can control the logic of certain methods. 

 For example: each of the obje...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP: Parameters in context</h1><div class="post__text post__text-html js-mediator-article">  Problem: <br><br>  It is required that several objects interacting with each other can control the logic of certain methods. <br><br>  For example: each of the objects has a Data () method, which returns the data needed to display the object on the page (data for the template engine).  For example, the $ news object of the News class should return 5 latest news in a form acceptable to the template engine, for example, in the form of an array.  In turn, News :: Data () refers in turn to $ newsPost-&gt; Data () objects (to nested objects) to obtain data relating to a particular news item (title, date, etc.).  However, in some cases it is required that NewsPos√© :: Data () return not complete data, but only a title (for example, on the main page of the site), and in another case it is required that all data be returned, including links to ‚Äúnews on the topic‚Äù. <br><a name="habracut"></a><br>  Using several Data () methods (DataShort (), DataFull ()) would solve the problem, but I would like a more elegant solution. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The control script (say, the page constructor) ‚Äúknows‚Äù in what form NewsPost :: Data () should return data, but it cannot directly interact with objects of the NewsPost class, because this is the ‚Äúconcern‚Äù of the News class.  Consequently, all that the script can do is ‚Äúask‚Äù $ news ‚Äúask‚Äù $ newsPost to return the ‚Äúabbreviated‚Äù data. <br><br><blockquote><code><a href="http://s-c.me/1327/s"></a> <a href="http://s-c.me/1327/h"></a> <font color="black">Copy Source | Copy HTML $ <font color="#0000ff">data</font> = $news-&gt; <font color="#0000ff">Data</font> ( <font color="#A31515">'ask newsPost: return short data'</font> );</font></code> <ol> <li> <code><font color="black"><a href="http://s-c.me/1327/s"></a> <a href="http://s-c.me/1327/h"></a> Copy Source | Copy HTML $ <font color="#0000ff">data</font> = $news-&gt; <font color="#0000ff">Data</font> ( <font color="#A31515">'ask newsPost: return short data'</font> );</font></code> </li> </ol></blockquote><br><br>  then inside News :: Data () there will be something: <br><br><blockquote> <code><a href="http://s-c.me/1328/s"></a> <a href="http://s-c.me/1328/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#0000ff">public function</font> Data ( <font color="#cc6633">$ askWhat</font> ) </li><li>  { </li><li>  ... </li><li>  <font color="#cc6633">$ dataNews</font> = <font color="#cc6633">$ this</font> -&gt; newsPost-&gt; Data ( <font color="#008000">'return short data'</font> ); </li><li>  ... </li><li>  } </li></ol></blockquote><br><br>  perhaps NewsPost :: Data () is still accessing some objects, say NewsPostBody :: Data () for getting the article itself.  Then, having received the ‚Äúshort data‚Äù request on NewsPost :: Data (), you need to make a request with the ‚Äúbody short‚Äù parameter to the NewsPostBody :: Data () method.  It is not necessary for the ‚Äúmanaging script‚Äù to be aware of this, but it is impossible to block the ability to directly ‚Äúinstruct‚Äù the object of the NewsPostBody class to return the ‚Äúshort version‚Äù of the article.  That is something like: <br><br><blockquote> <code><a href="http://s-c.me/1329/s"></a> <a href="http://s-c.me/1329/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  $ <font color="#0000ff">data</font> = $ news-&gt; <font color="#0000ff">Data</font> ( <font color="#A31515">'ask NewsPostBody: return short article'</font> ); </li></ol></blockquote><br><br>  However, it is possible that you need to access the NewsPostBody :: Data () method with different parameters, and in one request.  For example, when News contains a ‚Äúsite news‚Äù, where NewsPostBody :: Data () should always return a ‚Äúuncircumcised‚Äù version.  That is something like: <br><br><blockquote> <code><a href="http://s-c.me/1330/s"></a> <a href="http://s-c.me/1330/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  $ <font color="#0000ff">data</font> = $ news-&gt; <font color="#0000ff">Data</font> ( <font color="#A31515">'ask NewsPostBody (main news only): return short article'</font> ); </li></ol></blockquote><br><br>  or: <br><br><blockquote> <code><a href="http://s-c.me/1331/s"></a> <a href="http://s-c.me/1331/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  $ <font color="#0000ff">data</font> = $ news-&gt; <font color="#0000ff">Data</font> ( <font color="#A31515">'return main news short body'</font> ); </li></ol></blockquote><br><br>  but then News :: Data () should do something like this: <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/f78/106/fbb/f78106fbbf9a0d9e6185d6e6cdb52b2e.png" alt="image"></a> <br><br>  or even more difficult when other parameters are passed to SiteNewsBody :: Data (), for example, 'return SEO friendly body'. <br><br>  Some technical requirements emerge: <br><br><ul><li>  managing component (team) </li><li>  addressee (to whom the management team is intended) </li><li>  specifying only the class of an object is not allowed; in addition, you must specify an "addressee" at the "business logic" level, or "context", since several values ‚Äã‚Äãof the same parameter are possible for the same class (possibly even an object) in different contexts. </li></ul><br><br>  Context :: Class :: Command <br><br>  Class, in principle, is also in the first place in the context of "context", so that you can use "nesting contexts": <br><br>  ContextInContextInContex :: Command <br><br>  You should also think about the extended use of the command control component and provide for the possibility of separating the argument from the actual ‚Äúcommand‚Äù, for example, ‚Äúbody_short = 250‚Äù, which may mean ‚Äúlimit the article to 250 characters‚Äù.  We have: <br><br>  ContextInContext :: Command [= Argument (s)]; <br><br><blockquote> <code><a href="http://s-c.me/1332/s"></a> <a href="http://s-c.me/1332/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  $ <font color="#0000ff">data</font> = $ news-&gt; <font color="#0000ff">Data</font> ( <font color="#0000ff">new Parameters</font> ( <font color="#A31515">'NewsBodyInMainNews: short = 250; NewsBodyInSiteNews: seo_frendly; short = 500; NewsBody: keepHtml'</font> )); </li></ol></blockquote><br><br>  Let's try to sketch the interface "live": <br><br><blockquote> <code><a href="http://s-c.me/1334/s"></a> <a href="http://s-c.me/1334/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#0000ff">function</font> News :: Data ( <font color="#cc6633">$ params</font> ) </li><li>  { </li><li>  <font color="#cc6633">$ newsData</font> = <font color="#0000ff">new</font> NewsData (); </li><li></li><li>  <font color="#696969">// add the necessary data with parameters in the context of 'SiteNews'</font> </li><li>  <font color="#696969">// parameter short = 500 and seo_freindly and keepHtml should be used</font> </li><li></li><li>  <font color="#cc6633">$ params</font> -&gt; useContext ( <font color="#008000">'SiteNews'</font> ); </li><li>  <font color="#cc6633">$ newsData</font> -&gt; add ( <font color="#cc6633">$ this</font> -&gt; getSiteNewsData ( <font color="#cc6633">$ params</font> )); </li><li>  <font color="#cc6633">$ params</font> -&gt; dontUseContext ( <font color="#008000">'SiteNews'</font> ); </li><li></li><li>  <font color="#696969">// add the necessary data with parameters in the context of 'MainNews'</font> </li><li>  <font color="#696969">// only short = 250 and keepHtml parameters should be used</font> </li><li></li><li>  <font color="#cc6633">$ params</font> -&gt; useContext ( <font color="#008000">'MainNews'</font> ); </li><li></li><li>  <font color="#cc6633">$ newsData</font> -&gt; add ( <font color="#cc6633">$ this</font> -&gt; getMainNewsData ( <font color="#cc6633">$ params</font> )); </li><li></li><li>  <font color="#cc6633">$ params</font> -&gt; dontUseContext ( <font color="#008000">'MainNews'</font> ); </li><li></li><li>  <font color="#0000ff">return</font> <font color="#cc6633">$ newsData</font> ; </li><li></li><li>  } </li><li></li><li>  ... </li><li></li><li>  <font color="#0000ff">function</font> NewsBody :: Data ( <font color="#cc6633">$ params</font> ) </li><li>  { </li><li>  <font color="#cc6633">$ newsBodyData</font> = <font color="#0000ff">new</font> NewsBodyData (); </li><li></li><li>  <font color="#cc6633">$ params</font> -&gt; useContext ( <font color="#008000">'NewsBody'</font> ); </li><li></li><li>  <font color="#cc6633">$ bodyLimit</font> = <font color="#cc6633">$ params</font> -&gt; get ( <font color="#008000">'short'</font> ); </li><li></li><li>  <font color="#cc6633">$ newsBodyData</font> -&gt; add ( <font color="#008000">'body'</font> , <font color="#cc6633">$ this</font> -&gt; getBody ( <font color="#cc6633">$ bodyLimit</font> )); </li><li></li><li>  <font color="#cc6633">$ params</font> -&gt; dontUseContext ( <font color="#008000">'NewsBody'</font> ); </li><li></li><li>  ... </li><li></li><li>  <font color="#0000ff">return</font> <font color="#cc6633">$ newsBodyData</font> ; </li><li>  } </li><li></li><li></li></ol></blockquote><br><br>  Almost everything is ready to start developing the class.  To summarize and highlight the main points in the future class: <br><br><ul><li>  The parameter value can be set in a certain ‚Äúcontext‚Äù, and the context can be ‚Äúnested‚Äù (NewsBodyInMainNewsInPage is not the same as NewsBodyInSiteNewsInPage); </li><li>  the get () method should return the value of the parameter in the current context specified in useContext (); </li><li>  the possibility of "combining" parameters (two Parameters class objects with the ability to control the overloading of values ‚Äã‚Äãfor the same parameters) </li><li>  the ability to set parameters as a string, of the form 'ContextInContext: param = value; param2' or by calling the set method ($ parameter, $ value, $ context) </li></ul><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e44/c62/dd7/e44c62dd7715a59287ba4c20aa5651fd.png" alt="image"><br><br>  You can begin to implement. <br><br>  <b>Ps.</b>  The topic was once <a href="http://anti-anti-life.livejournal.com/2008/06/16/">published by</a> me.  I have been using this pattern since then, without thinking whether it is a new ‚Äúbicycle‚Äù or not.  Perhaps someone will be useful.  I would be happy to discuss konno. </div><p>Source: <a href="https://habr.com/ru/post/54692/">https://habr.com/ru/post/54692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../54683/index.html">Creating gsmrozetka.ru</a></li>
<li><a href="../54686/index.html">Pods - create any type of content in wordpress</a></li>
<li><a href="../54688/index.html">ALT.NET, Peter, Thursday, March 19, 19-00, SoftJoys Computer Academy</a></li>
<li><a href="../54689/index.html">Yota router or wimax2wifi in 15 minutes. Option 2.</a></li>
<li><a href="../54690/index.html">Registration is now open for the 3rd free startup seminar.</a></li>
<li><a href="../54693/index.html">We work with MSSQL in linux</a></li>
<li><a href="../54696/index.html">50 monochrome designs of web sites</a></li>
<li><a href="../54700/index.html">Change Linux partitions, grub recovery</a></li>
<li><a href="../54703/index.html">Managing presentation - the right thing for any conference</a></li>
<li><a href="../54704/index.html">Kirgudu - Mac Keyboard Layout Switch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>