<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tutorial: assign a name to a process executed inside SOA SUITE</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perhaps you did not know, but the Moscow Exchange is a group of companies, and one of our largest and most important components is the National Settle...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tutorial: assign a name to a process executed inside SOA SUITE</h1><div class="post__text post__text-html js-mediator-article">  Perhaps you did not know, but the Moscow Exchange is a group of companies, and one of our largest and most important components is the National Settlement Depository (NSD).  Without NSD, the professional participants of the Russian and international market would not have clear and transparent settlement and depository services, which are so necessary in making transactions.  As befits an IT company, NSD, together with the Exchange, is constantly improving its internal IT architecture. <br><br>  Starting in 2014, the integration and transfer of the integration between internal systems to industrial middleware is carried out - the stack of Oracle Fusion Middleware products, in which Oracle SOA Suite occupies a central place.  This product is highly specialized and there are very few materials in Russian on it.  In the Exchange's blog, we plan to regularly talk about our findings and discoveries related to the implementation of SOA Suite.  You should not expect the appearance of a full-fledged course here, rather, it will be notes on various problematic topics for which we have not found clearly formulated recipes and now we want to share our results with other specialists.  We hope that in each article the reader will be able to find for himself something new and useful. <br><a name="habracut"></a><br><br>  In the latest version 12c of its SOA Suite product, Oracle has implemented a useful thing - in the Enterprise Manager dashboard, instead of a separate instance of composite applications, executable chains began to appear (business flow, as it is called in the official documentation).  But with a large number of simultaneously running applications, the problem of finding the right instance of a composite application or chain still remains. <br>  A typical solution in this situation is to use the name of the chain (Flow Name) in order to reflect in it information that allows you to uniquely link the chain to the data that it processes.  Usually these are identifiers, names, references of transmitted messages.  The control panel allows you to filter selections by name, including the standard LIKE SQL construct templates. <br>  To specify the name of the chain there is a function oraext: setFlowInstanceTitle ().  It can be used, for example, in Assign Activity, (Figure 1): <br><blockquote><pre> &lt;assign name = "AssignFlowName"&gt;
   &lt;copy&gt;
     &lt;from&gt; oraext: setFlowInstanceTitle (string ($ inputVariable.payload / client: name)) &lt;/ from&gt;
     &lt;to&gt; $ outputVariable.payload / client: name &lt;/ to&gt;
   &lt;/ copy&gt;
 &lt;/ assign&gt;
</pre></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Figure 1. Function to specify the name of the chain.</b> <br><img src="https://habrastorage.org/files/548/dae/1de/548dae1de5fd43a1afcba7c192620768.png" alt="image"><br><br>  The possibility of specifying a name for a single composite application (and not the entire chain) with the <b>ora: setCompositeInstanceTitle (</b> ) function also remains, but if you have the opportunity to name the chains, it is already completely uninteresting (and is not discussed in the article). <br>  Both of these functions, however, will work with the installed fix # 18310693 (included in the latest at the time of writing Patch # 20900599: SOA Bundle Patch 12.1.3.0.3).  If you have not yet updated your server, then only a call from Java Embedding will work: <br><blockquote><pre> &lt;extensionActivity&gt;
   &lt;bpelx: exec name = "JavaFlowName" language = "java"&gt;
     &lt;! [CDATA [setFlowInstanceTitle ((String) getVariableData ("titleVar"));]]&gt;
   &lt;/ bpelx: exec&gt;
 &lt;/ extensionActivity&gt;
</pre></blockquote><br>  The attached archive contains an example of a composite application with both versions of the name indication.  The string passed to the web service input is assigned as a chain name by both of the specified methods (for the Java Embedding variant, the <b>&lt;bpelx: skipCondition&gt; true () &lt;/ bpelx: skipCondition&gt; check box is set</b> ).  You can download the application to your server and experiment with the names using the test tools built into the Enterprise Manager (Figures 2, 3). <br><br>  <b>Figure 2. Calling a composite application in Enterprise Manager.</b> <br><img src="https://habrastorage.org/files/7df/892/383/7df8923839e441bf9a6d1b1b22934978.png" alt="image"><br><br>  <b>Figure 3. The chain with the specified name.</b> <br><img src="https://habrastorage.org/files/e22/55b/844/e2255b8442c24dab89b7aee30c5f3a5d.png" alt="image"><br><br>  If you pass a string longer than 100 characters, the composite application will fail with an error: <br>  <b>ORA-12899: value too large for column "DEV12C_SOAINFRA". "SCA_FLOW_INSTANCE". "TITLE" (actual: 101, maximum: 100)</b> <br>  (in this case, DEV12C is the prefix for the system diagrams specified during the installation of the SOA Suite). <br>  Yes, yes, all right, using the legal API can be an elementary way to disrupt the execution of the application - SOA Suite allocates a field of 100 characters for storing chain names.  And this case, unfortunately, is not the only one.  There are several scenarios for overflowing text fields, including when their values ‚Äã‚Äãare generated in a systemic way (independent of user input). <br>  A typical Oracle Support response to errors of this kind: Expand the field in the database.  Since some errors were known in the previous version 11g and successfully moved to version 12c, it is useless to try to solve them in a systematic way.  Therefore, to guarantee the stable operation of the server, it is necessary to install patches.  In our circuits, we: <br><ul><li>  Expanded the value of the problem field to 256 characters, because 100 characters are still very small. </li><li>  In all assignments, we additionally trim the text string with substring (): </li></ul><br><blockquote><pre> &lt;assign name = "AssignFlowName"&gt;
   &lt;copy&gt;
     &lt;from&gt; oraext: setFlowInstanceTitle (substring (string ($ inputVariable.payload / client: name), 1, 256)) &lt;/ from&gt;
     &lt;to&gt; $ outputVariable.payload / client: name &lt;/ to&gt;
   &lt;/ copy&gt;
 &lt;/ assign&gt;
</pre></blockquote><br><br>  The most reliable solution is to implement a special extension function for the SOA Suite, which will internally perform the necessary length control, and use only it.  Alexander Khoroshilov, head of integration, the integration systems development department at NSD, through which this publication appeared, will tell about this in one of his future articles. </div><p>Source: <a href="https://habr.com/ru/post/264303/">https://habr.com/ru/post/264303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../264293/index.html">How we overcame USB data transfer</a></li>
<li><a href="../264295/index.html">Secrets of testing Ethernet channels</a></li>
<li><a href="../264297/index.html">Vim in full: Testing with xUnit</a></li>
<li><a href="../264299/index.html">We assemble our OpenWRT on a Tp-Link TL-WR741ND v.4.25 router with vlan, openvpn, provider rotation and blackjack</a></li>
<li><a href="../264301/index.html">Authorization / User Registration via Telegram</a></li>
<li><a href="../264311/index.html">Using Intel SSSE3 instruction set to speed up the implementation of the DNN algorithm in speech recognition tasks performed on mobile devices</a></li>
<li><a href="../264313/index.html">How many wonderful discoveries are prepared by Office Microsoft</a></li>
<li><a href="../264315/index.html">OpenAdAdapter plugin for Unity3D</a></li>
<li><a href="../264319/index.html">Microsoft has released the first major update for Windows 10.</a></li>
<li><a href="../264321/index.html">Compiling iOS apps for Windows Store</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>