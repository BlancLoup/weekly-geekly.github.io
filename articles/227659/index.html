<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we provided communication "Sapsan" and "Allegro"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Construction of one of the positions in the Leningrad region 

 Sapsan travels from Moscow to St. Petersburg in approximately 4 hours, and Allegro fro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we provided communication "Sapsan" and "Allegro"</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/e75/dbb/119/e75dbb11946ddbfcb21f6723f00986ad.jpg"><br>  <i>Construction of one of the positions in the Leningrad region</i> <br><br>  Sapsan travels from Moscow to St. Petersburg in approximately 4 hours, and Allegro from St. Petersburg to Helsinki (Finland) takes 3.5 hours.  The train speed is about 200 km / h. <br><br>  Initially, the coverage on these routes was the same as on many other railways: reliable reception in large cities, the virtual absence of mobile communications, or random base stations on the path between them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>We had to build a continuous (seamless) coverage of the 3G / 2G mobile network</b> along the whole route of the Sapsan and Allegro trains.  I was responsible for the organizational and technical parts of this interesting project. <a name="habracut"></a><br><br><h4>  Technical solution </h4><br>  Having some experience of working with the Big Three operators, we approached them on this project, worked out options for joint cooperation, however, no mutual agreements were reached.  We needed to independently ‚Äúbuild up‚Äù, and somewhere to build in the ‚Äúopen field‚Äù from scratch the telecommunication infrastructure of 3G / 2G mobile communication along the railways. <br><br>  Coverage planning was carried out in such a way that each new base station on the highways, as far as possible, would also cover previously uncovered settlements.  Understandably, it didn't work out everywhere, but we tried to choose the location of future towers closer to the adjacent villages and villages, wherever it was possible to additionally provide people with modern mobile communications, rather than putting them in a ticker along the railways.  Thus, our coverage was designed with regard to providing 3G / 2G communications in all trains operated on the routes, including Sapsan with Allegro, and in long-distance trains, and in electric trains, as well as in adjacent settlements. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b33/82f/ba9/b3382fba9051f1902e0bf94895b881f3.jpg"><br>  <i>One of the constructed base stations on the highway in the Moscow region</i> <br><br>  It should be noted that, in contrast to the typical construction of positions, it required a more accurate placement of the chain of base stations.  One incorrect location of the tower, and on the railway track there will be a ‚Äúhole‚Äù in the surface, which you will not close then with any network optimization.  One lack of agreement with the landlord of the roof or land along the highway, and again there will be a ‚Äúhole‚Äù. <br><br>  Offsets along the route of planned points were possible, but minimal.  Subsequently, on the Moscow-Saint-Petersburg railway route, 650 km, and St. Petersburg-Vyborg, 160 km, we managed to reach an agreement with all the landlords on points, which indicated to us the planning.  By the way, the coating on the Allegro railway line was built up to the Finnish border, but later in the text, for the convenience of geo-referencing, the border town of Vyborg will be indicated. <br><br>  To ensure the covering of the tracks, both low roof positions and high-rise tower structures were designed, all for the sake of creating a continuous covering from all possible points.  To implement the tower part of the projected network, it was decided to turn to infrastructure operators, the Russian Towers and Link Development companies.  The organization of communication channels of the transport network for 3G / 2G base stations was planned on the basis of aerial radio relay lines (RRL). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e4/af4/c7b/5e4af4c7b2f3be8ef1e8039f4f167349.jpg"><br>  <i>Sapsan</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82c/75d/7bd/82c75d7bde1062675197114a3c07b754.jpg"><br>  <i>Allegro</i> <br><br><h4>  Network construction </h4><br>  Turning from theory to practice, in 2012 we began to implement the project.  Frequency requests for future 3G and 2G base stations have been filed with the regulator.  Began to purchase mobile equipment.  The drawing of plans and layouts for future positions has gone at full speed.  At the same time, the infrastructure operators obtained the approvals and prepared the documents necessary to start the construction of the tower positions according to our coordinates.  A large-scale development of virgin lands along the Sapsan and Allegro railways took place in the regions. <br><br>  In the course of the project, the mutual support of the companies among themselves was surprisingly manifested.  So building Gen.  the contractor of the tower infrastructure ‚ÄúEnergoPromResurs‚Äù on tractors was ‚Äúdragged‚Äù by our ‚ÄúGazelles‚Äù and containers, helping to overcome roadlessness and securing the delivery of ‚ÄúVimpelCom‚Äù equipment to the towers, despite the fact that we had no direct agreements.  Work in the fields and forests along the railway tracks advanced with a ‚Äútwinkle‚Äù, although it was not very easy to make our way to the railroad through impassable swamps and off-road.  Each rise of the new tower and its launch on the air was given with great difficulty. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11d/7fb/3bc/11d7fb3bcebd9963a2e7dd7bed505a2e.jpg"><br>  <i>Sinking equipment at a construction site in the Novgorod region</i> <br><br>  The end of 2012 was held in our four branches (and these are St. Petersburg, Novgorod, Tverskoy, and Moscow) in the struggle to fulfill the plan for launching the planned positions of the project on the air.  There was a severe frost, there were snowfalls, an emergency situation was declared in one of the regions, and somewhere our vehicles with base stations and antennas got stuck in the snow and could not get to the towers for a long time.  The winter that year was very snowy.  And despite this, on geographical maps of Sapsan and Allegro trains, like on a New Year's garland, points of new ‚Äúislands‚Äù of 3G / 2G coverage ‚Äúflashed‚Äù every day, improving coverage on railway tracks, and closing the ‚Äúhole‚Äù behind ‚Äú hole. "  We completed the plan for 2012 and without stopping, we proceeded on to new tense launches in the air of positions of the plan for 2013. <br><br>  In 2013, on the construction sites of new towers, the work on the project gained full speed and advanced more confidently, despite the fact that in the spring the winter roads began to be ‚Äúdelivered‚Äù, and somewhere there were no roads at all.  So, one of the towers on the highway for lifting at the optimum point was an opportunity to install only by helicopter, there were no access roads and there were prospects to build them.  We brought the equipment to this tower on autocars by rail, successfully overcoming all difficulties with launching on the air. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c99/6d6/829/c996d682926c54713f535fc2963347df.jpg"><br>  <i>Training before installing the tower by helicopter on the track in the Tver region</i> <br><br>  In the regions, our ‚Äúoffensive‚Äù along the routes was confidently controlled by the technical staff of the planning and construction departments of VimpelCom.  Colleagues clearly and methodically traveled to the fields and forests, and monitored the status of construction and launch on the air of each new tower. <br><br>  Gradually, the planned dates for the implementation of the infrastructure part of the project in 2013 leveled off in all four geographic areas, and the process of completion of construction began to resemble a coordinated clock mechanism.  So the Tver branch confidently launched the tower behind the tower, the Moscow region rapidly overtook colleagues, showing miracles in the speed of coordinating decisions, the Novgorod branch took the lead, finishing first, and waited for the other colleagues, the St. Petersburg branch and the Russian Towers decided with local residents question about the location of the last tower.  All were in their places, all "kept" the line, and everything was very responsible.  All laid out in full. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/876/f15/eca/876f15eca07f57650db070ecfd21b8da.jpg"><br>  <i>The rise of the tower on the highway Allegro, Leningrad region</i> <br><br>  Finally, the last towers rose over the Sapsan and Allegro railways.  We ‚Äúdressed‚Äù the remaining towers with antennas, and launched all 3G / 2G base stations on the air.  Thus, we have fully fulfilled our construction obligations.  Together with colleagues in the headquarters of those.  The directorates and in the regions we completed the construction part of the project and provided with mobile communication all 100% of the territory of the Moscow-Saint Petersburg railway route, 650 km, and the St. Petersburg-Vyborg railway route, 160 km.  The construction phase of the project was completed, and it was possible to proceed to the integrated network configuration phase. <br><br><h4>  Measurements and Settings </h4><br>  To assess the results of building a new infrastructure and test the speed of the subscriber‚Äôs Internet connections, an entire research project was organized.  During the analysis of the state of the network on the basis of construction it turned out that the standard configuration templates for mobile networks are not suitable here.  At first, it was not even possible to say with confidence what was happening with 3G and 2G subscriber services at a train speed of over 200 km / h.  The fact is that at speeds from 180 km / h the system network delays (having nothing to do with the Doppler effect, as they often think) begin to have a noticeable effect on the maximum speed of Internet connections. <br><br>  In addition, the 3G network on the routes behaved as ‚Äúinvisible‚Äù, ‚Äúdisappearing‚Äù and transferring our subscribers to the 2G network.  The 3G network in Sapsan and Allegro turned out to be very "capricious" in the settings.  It became clear that the 3G / 2G subscriber service settings on the Sapsan and Allegro railways need to be thoroughly understood.  The reason for the ‚Äúinvisibility‚Äù of the network in Sapsan was the metallization of the glass units of this ‚Äúarmored train‚Äù.  It was the metallized double-glazed windows of the Sapsan that particularly weakened the signals of the VimpelCom 3G network, and badly let them inside.  C Allegro - a similar story. <br><br>  We started to ‚Äúaccelerate‚Äù 3G subscriber service on highways, ‚Äúswap‚Äù the network under the metallized double-glazed windows and ‚Äúcrazy‚Äù speeds of trains moving over 200 km / h (on one of the tests we recorded a speed of even 240 km / h).  For information, Sapsan and Allegro rush past one of our towers on the highway in an average of 3 minutes, it is very fast, and almost all 810 km from Moscow to Vyborg.  The availability of high-speed service of Internet connections in the passenger compartments of the trains was achieved by painstaking selection of parameters at base stations and network controllers, working with an external, street signal. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2d/93b/38a/f2d93b38a5c52c6b54e793f8c1c5ae82.jpg"><br>  <i>Record drive test of 3G / 2G subscriber service in the Sapsan showroom</i> <br><br>  Together with colleagues, a measuring series of road tests was carried out on the routes of various trains on the routes Moscow - St. Petersburg and St. Petersburg - Vyborg.  And soon, the measurements of the behavior of the network‚Äôs eyes began to take shape in a single ‚Äúpicture‚Äù.  It should be noted that the project used exactly this network configuration principle: first, the 3G / 2G service of the constructed network was measured on the departures by subscriber modems and terminals at speeds above 200 km / h, and then monitored and adjusted by the network equipment.  The difficulty here was that in order to check the 3G / 2G subscriber service, it was necessary to constantly look for colleagues who could find time and command on the trains between the two capitals with measuring equipment.  The temporal capabilities of our engineers to drive on trains with drive tests were limited.  Each trip was on the ‚Äúweight of gold‚Äù: they were waiting for it, they were preparing for it, the results were discussed collectively, with the subsequent settings, something worked out right away, something had to be abandoned. <br><br>  According to the results of road measurements, a lot of infrastructure parameter settings were changed and ‚Äúre-styled‚Äù.  It looked like a solution to a large differential equation with many unknowns: it was extremely necessary to change the parameters of 3G / 2G base stations for high-speed trains.  As a result, we began to better understand the mobile speeds of subscribers moving in trains over 200 km / h.  After going through a lot of network parameters, we were able to balance and select the optimal settings, ‚Äúcloning‚Äù the experience of our branch colleagues in the sections of the railway tracks between them.  The principle of scaling up in a big company here came in handy. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c1b/b26/924/c1bb269241f196d9be88d54d9cbfb727.jpg"><br>  <i>Implemented infrastructure</i> <br><br>  Finally, 3G / 2G network coverage on the railways was optimized.  Replacing the antennas on the towers with narrowly directed high gains, and aligning the antenna beams strictly on the track, we were able to ‚Äúpunch‚Äù the double-glazed windows with a 3G signal, although the signal lost some of the power during attenuation in the windows.  Thus, we tried to set up and make a mobile network more universal for all trains: for Sapsan with Allegro, for regular long-distance trains, and for electric trains as well.  We ‚Äúdispersed‚Äù subscriber speeds on Sapsan and Allegro trains, starting from the optimization of the parameters of our street 3G / 2G network. <br><br><h4>  Results </h4><br>  The total length of our coverage of the Sapsan and Allegro railways is 810 km.  82 new 3G / 2G positions were additionally built on the railways and 46 3G positions were upgraded. <br><br>  The probability of providing voice service 2G is now 99% in the territory of the Sapsan (Moscow - St. Petersburg) and Allegro (St. Petersburg - Vyborg) routes, both inside high-speed trains and in all other trains.  Measurements of the average data transfer rate of the 3G service showed 2.2 Mbps in all trains without metallization of windows.  At the same time, the probability of providing 3G service in ordinary trains without metallization and in electric trains is also 99%. <br><br>  In the settlements adjacent to the routes, where we were able to put the towers optimally, the indicated Internet speeds are also achieved.  Thereby, a socially significant effect of the project was achieved: 3G / 2G service was improved in approximately 60 locations near the Sapsan highway, and in 15 points near the Allegro highway.  And as far as statistics from our base stations show, traffic in adjacent villages and villages is only increasing, local residents have ‚Äútasted‚Äù the Internet. <br><br>  Inside the Sapsan and Allegro trains, the 3G data service is also provided, although metallized double-glazed windows will to some extent reduce average speeds.  According to the measurement results, the current speeds of 3G Internet connections in such ‚Äúarmored trains‚Äù are 1.0 Mbit / s.  At the same time, the probability of providing a 3G service in such trains is 90%, and in the remaining 10% of cases, the subscriber is confidently ‚Äúpicked up‚Äù by the 2G network.  This was enough for me personally to download and show a cartoon to my little daughter on the road.  However, this is not the limit.  Network improvement work continues. <br><br>  Now built and optimized 3G / 2G networks on the studied railway tracks are in commercial operation and ‚Äúcollect‚Äù traffic.  The growth of voice traffic and data traffic exceeds the initial forecast, so we can safely expect that in the future the project will be self-sufficient. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8bb/245/c44/8bb245c445098494a6e37a2093fcdf9b.jpg"><br>  <i>A general 3G / 2G network coverage map on Sapsan and Allegro train routes, 810 km in length (autumn 2013)</i> <br><br>  In conclusion, I would like to thank all the colleagues who participated in the development, implementation and research of the project, branches and regional offices of VimpelCom, infrastructure operators and contractors.  Only thanks to the well-coordinated work of our colleagues, we were able to optimally reach out to mobile communications of the railway line of high-speed trains and the settlements adjacent to them.  We have invested in this project a piece of our soul, and for many of us he became a favorite. </div><p>Source: <a href="https://habr.com/ru/post/227659/">https://habr.com/ru/post/227659/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../227649/index.html">Gmail api</a></li>
<li><a href="../227651/index.html">The best mobile translator: by SMS and with real linguists from that side</a></li>
<li><a href="../227653/index.html">Start of construction in the village of programmers</a></li>
<li><a href="../227655/index.html">Tools of IT departments of large companies: how to get rid of chaos and count every penny</a></li>
<li><a href="../227657/index.html">Authorities in the Irkutsk region banned from using Google</a></li>
<li><a href="../227661/index.html">The State Duma is going to impose restrictions on payment systems</a></li>
<li><a href="../227665/index.html">Sourcebuster JS: JavaScript Site Sourcing Module</a></li>
<li><a href="../227667/index.html">Developing (soccer) games using MonoGame</a></li>
<li><a href="../227669/index.html">Mars rover Curiosity completed the main scientific mission</a></li>
<li><a href="../227671/index.html">We Are the Dwarves! - domestic tactical action on Kickstarter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>