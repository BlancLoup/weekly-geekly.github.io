<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Plugin for Smarty - Combine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The plugin allows you to put together several CSS or Javascript files together. 

 I agree that there are a lot of similar software solutions, for exa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Plugin for Smarty - Combine</h1><div class="post__text post__text-html js-mediator-article">  The plugin allows you to put together several CSS or Javascript files together. <br><br>  I agree that there are a lot of similar software solutions, for example, <a href="http://code.google.com/p/minify/">Minify</a> , <a href="http://yui.github.io/yuicompressor/">YUI Compressor,</a> or a <a href="https://developers.google.com/speed/pagespeed/service/CombineJavaScript">consultant</a> from the Pagespeed service from Google.  But for the <a href="http://ru.wikipedia.org/wiki/Smarty">Smarty</a> template engine I didn‚Äôt come across anything like that, and I decided to write my own and simpler one. <br><img src="https://habrastorage.org/getpro/habr/post_images/5e5/c9a/db2/5e5c9adb2c4e9de806c0ea6dca9acd1a.png" alt="Combine"><br>  The plugin works quite simply: when one of the included files changes, it creates a new output file and returns the path to it. <br><a name="habracut"></a><br>  The plugin allows you to solve 2 problems - modularity and control of updating files on the client side. <br>  The problem of modularity is that for relatively complex projects you have to connect a large number of different CSS and JS files.  All this leads to additional requests to the server.  Yes, front-end servers do an excellent job with this, but why make 10 requests when you can make one?  And if you want to reduce this number by the usual methods, you have to use various additional solutions or collect the file manually.  For me personally, the file after the first 1000 lines turns into a hellish mess, so I try to divide the code into several modules or fragments. <br>  The problem of controlling resource updates on the client side is no less important.  Surely, many people have come across an old version of CSS or JS file for some client, which caused an error due to a changed layout or API on the back-end.  And there are really a lot of pitfalls, because  caching depends on the browser and on the proxy, and may also depend on the provider (rarely, but some keep a transparent proxy).  The only 100% working way is to change the file name.  The rest may not work. <br><br>  The plugin has a list of three input parameters: <br><ol><li>  input, which is a simple array containing a list of paths to the files being glued together; </li><li>  output, which is the path to the output file; </li><li>  age, the time in seconds between checking for changes to one of the included files.  This parameter can be omitted, by default it is 3600 seconds. </li></ol><br>  I'll tell you why age is needed - input-output operations are one of the most problematic today.  Despite the appearance of SSD-drives, the access time to the file is still present and, if there are a lot of file accesses, there may be performance problems in the application.  Now this is all well cached, but why go to the cache when you can not do this?  Each developer himself has the right to regulate the frequency of checking for the relevance of files, but I would not recommend setting less than 3 seconds, since it is almost meaningless.  In my projects, I pass this parameter as a variable, which depends on the mode of operation of the site.  If the site is in debug mode, there are 5 seconds, otherwise - 3600. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Source </h5><br>  The code <a href="https://github.com/zoonman/smarty-plugins/blob/master/function.combine.php">is available</a> on github. <br><br><h5>  Connection pattern in pattern </h5><br>  Smarty 3 has the ability to create an array on the fly, so the code is given with this feature in mind.  For Smarty 2, the array must be passed through a separate variable. <br><br> <code>&lt;script type="text/javascript" <br> src="/{combine input=array('/js/core.js','/js/slideviewer.js') output='/js/big.js' age='30'}" &gt; <br></code> <br><br><br>  There are several nuances when using the plugin.  The path to the files should go from document_root, and the folder with the output file should allow writing and creating new files.  You cannot combine CSS and JS files at the same time. <br><br>  The plugin was tested with Smarty 2 and Smarty 3. Now it is used in the project with an attendance of about 4,000 people per day.  I did not observe any problems.  I would be grateful for bug reports and development suggestions. </div><p>Source: <a href="https://habr.com/ru/post/193398/">https://habr.com/ru/post/193398/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../193386/index.html">Coming soon: 5th generation microserver ETegro Hyperion ES200 G5</a></li>
<li><a href="../193390/index.html">MarsBoard is a modest RPi clone. Install and configure the system</a></li>
<li><a href="../193392/index.html">MultiFon - VoIP-dialer for MegaFon subscribers</a></li>
<li><a href="../193394/index.html">Reports and charts for travis-ci and drone.io</a></li>
<li><a href="../193396/index.html">Working with relational databases in Scala</a></li>
<li><a href="../193402/index.html">Steam officially announced the appearance of the "sharing" games</a></li>
<li><a href="../193406/index.html">[NES] Writing level editor for Prince of Persia. Epilogue. Dungeon</a></li>
<li><a href="../193412/index.html">Ten sensors and one grandmother in the service of progress</a></li>
<li><a href="../193414/index.html">Source codes of two versions of COIBs are available.</a></li>
<li><a href="../193416/index.html">Notebook ASUS X200CA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>