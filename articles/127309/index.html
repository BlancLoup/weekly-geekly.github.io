<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About creating an image KolibriOS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It all started with the news about the possible presentation of KolibriOS for Chaos Constructions-2011. It was published on the KolibriOS developer fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About creating an image KolibriOS</h1><div class="post__text post__text-html js-mediator-article">  It all started with the news about the possible presentation of KolibriOS for Chaos Constructions-2011.  It was published on the KolibriOS developer forum four months before the event. <br><br>  And so, at the beginning of August 2011, I had an idea to create an image for a virtual machine with this system (KolibriOS), various software and examples of files with which to work.  Actually, that's what I did. <br><br><a name="habracut"></a>  The first question I had is for which machine to create an image?  At first, I preferred the Bochs and QEMU emulators (with which I had already dealt), but for this work I decided to choose a virtual machine from VMware.  VMware Player seemed to me quite advanced with a clear interface. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/343/ab8/956/343ab895640b59fdc7e9e7c42a1f0e58.png"><br><br>  In order to create an image you need VMware Player not lower than version 3.0.  After creating an image of a virtual machine, a 1 GB virtual disk was created and connected, which is quite enough.  But then it was necessary to create and format the partition.  And there was a problem.  There are no utilities in KolibriOS yet to perform such actions.  Applied an image of a bootable DOS diskette.  And there - fdisk and format c: ... In principle, you can run a Hummingbird without a hard disk image - only a floppy disk image is needed, but I wanted something more serious. <br><br>  The first installation of the Hummingbird on a virtual hard drive was made using the GRUB4DOS bootloader.  Yes, unfortunately, again I had to resort to the help of a miracle diskette with DOS. <br><br>  Later, the native mtldr was used as a secondary loader.  For this virtual disk was connected as a disk to the host system.  The bootloader installer needs to be slightly modified - in the source code of inst.asm, uncomment two lines so that the bootloader can be installed not only on removable media (flash drives), but also on hard drives.  After recompiling the program, install the bootloader. <br><br><pre><code class="hljs pgsql">; Uncomment <span class="hljs-keyword"><span class="hljs-keyword">following</span></span> lines <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> allow hard drives ; cmp eax, <span class="hljs-number"><span class="hljs-number">3</span></span> ; DRIVE_FIXED ; jz @f</code> </pre> <br>  All you need to download a Hummingbird is to install a bootloader (as you can see, there are at least two options) and copy the floppy image to the root of the disk. <br><br>  As a floppy image, I chose the latest at the time "night" assembly.  KolibriOS latest release (0.7.7.0) took place in February 2010.  And nightly builds are created automatically - after making changes to SVN. <br><br>  The uninitiated in particular KolibriOS may not understand what it means to have a floppy disk image, because we are in the 21st century.  I will explain. <br><br>  From the user's point of view, this is just a container for system files.  The disk image uses the FAT12 file system.  You can work with the image both in * nix (mount), and in Windows (Winimage, plugins for Total Commander).  Transfer one file easier.  And from the developer's point of view, this is a legacy from the KolibriOS progenitor, the MenuetOS operating system.  Without it, it is difficult (but possible) to create ramdisk / rd / 1.  Disk in RAM is one of the features of ColibriOS. <br><br>  Let's return to the description of the process of creating an image for a virtual machine.  I did not use the unmodified KolibriOS night assembly.  First, the meaning of having a hard drive is lost.  Yes, all the programs that exist for Hummingbirds cannot be put into a floppy disk image, but most of them are very possible.  And secondly, since the purpose of the virtual machine image was to familiarize people with the operating system, I tried to make the layout of the programs more visual.  For this, the directory structure was changed and, if possible, the programs were moved from the ramdisk to the hard disk.  In addition, for remote applications, communications have been fixed (for example, so that they can be called from the main menu). <br><br><img src="https://habrastorage.org/storage2/2bf/439/4d0/2bf4394d027919f437cc4c65af45affa.png"><br><br>  So, on the ramdisk remained: the kernel, drivers, fonts, dynamically loaded libraries and programs for access to which absolute paths are used. <br><br>  The following directories were created on the hard drive: Demos, Develop, Docs, Education, Emulators, Games, Media, Network, Office, Other, Skins, System, Wallpapers.  Applications and other files were sorted by these directories, each application has its own directory. <br><br>  Most of all, there were 51 games. These are simple toys (tag, tic-tac-toe, snake, sapper, solitaire, tetris, lines, reversi, sea battle, checkers), and ported Doom. <br><br><img src="https://habrastorage.org/storage2/002/af8/74f/002af874f248cd7fd53d1839f0a06e57.png"><br><br>  It should be noted that in addition to games with a graphical interface, CBS has several console games - tag, chess and the simulator of artificial intelligence Eliza. <br><br>  Other categories of applications are not so rich in representatives. <br><br>  System programs include file managers KFAR, KFM and Eolite (analogs of FAR, Total Commander and Explorer respectively), information utility CPUID (analogue of CPU-Z), utility for testing the monitor Disptest (analogue of the Nokia monitor test), utility for getting information about hard HDD-Info disks, a screen magnifier and a virtual keyboard, as well as a simple Shell command interpreter. <br><br>  Applications for development are in the Develop directory.  These are Board debug board, Mtdbg debugger, Heed hex editor, utility for viewing cObj functions exported by dynamic libraries, KolibriOS main developer tool - FASM assembler, and interpreters with examples of their use - Brainfuck, Lua, Tinypy. <br><br><img src="https://habrastorage.org/storage2/b68/296/106/b68296106444fa9a1a0b57bc7dcbac0d.png"><br><br>  In the same directory you can find examples of programs for Kolibri OS, mainly tests of dynamic libraries. <br><br><img src="https://habrastorage.org/storage2/272/4b5/caf/2724b5caf55cce0017d70791b958f3b3.png"><br><br>  The Emulators catalog contains the DOSBox emulator, the NES FCEU emulator, the ZX Spectrum computer emulator, and the B3-34 programmable calculator simulator. <br><br><img src="https://habrastorage.org/storage2/bc0/e83/1cd/bc0e831cdb6473abe250abfadd55982b.png"><br><br>  The learning software is in the Education folder.  So far, there are only three programs here - the periodic table, an advanced typing tutor, and a map viewer (using the SASPlanet program cache).  Regarding the latter, I want to note that since the license of the cards is not all clear, there are only a few in the virtual machine image - just for reference. <br><br><img src="https://habrastorage.org/storage2/354/238/875/354238875dbfcd356c30ee5e602c1f6e.png"><br><br>  The Media catalog contains multimedia programs - audio and video players, viewers of graphic files and animation, fonts in various formats.  A video player without a sound driver will work very poorly, but nevertheless, in order to be able to try it, two video files are included in the image.  I want to pay special attention to the zSea graphic file viewer.  It has quite advanced capabilities, but is not included in the official system build.  Here I installed it as the default image viewer. <br><br>  With other software I suggest to familiarize yourself. <br><br>  What else is in the image?  Skins and wallpapers, for example.  The appearance of the system is quite easy to change.  But, in the process of working on the image, I still had difficulties with the appearance.  Although there are quite a few sets of icons, wallpapers and skins of windows, but it turned out to be a difficult task to find ones that fit well with each other. <br><br><img src="https://habrastorage.org/storage2/6f7/a68/a49/6f7a68a49eb8bb28fe067972e64e7bc6.png"><br><br>  The first version of the project participants did not like because of the use of the skin, which copies the MacOS X interface (there are with the location of the buttons both on the left and on the right), the second version was generally terrible because of the wallpaper.  The project participants offered dozens of their options, but I didn‚Äôt like any of them.  Therefore, the appearance of this assembly is not up to par. <br><br><img src="https://habrastorage.org/storage2/ccc/a4f/9f0/ccca4f9f00cf04189e6e11affa6261b9.png"><br><br>  By the way, to change the appearance of the system, you need to make changes in the file /rd/1/autorun.dat, save the desired skin as /rd/1/dafault.skn and save the ramdisk image to / hd0 / 1.  After any changes on the ramdisk (so that they are saved after the system is rebooted), you need to save it using the rdsave program. <br><br>  The system documentation is located in the Docs directory and is represented by the Docpak application and assembly as HTML files (which are viewed using the HTMLv program). <br><br>  So, having considered the contents of the image I want to say what the results of the assembly of this image. <br>  - The image of a virtual machine with KolibriOS was assembled to familiarize everyone with this system. <br>  - Received ideas about the number of programs for KolibriOS.  I took them from SVN, forum and other resources. <br>  - Identified weaknesses in the software (there are no programs for installing the system, splitting and formatting disks) and design (all the same few combining skins, wallpaper and icons). <br>  - Gained valuable experience. <br><br>  <b>Instead of conclusions.</b>  Unfortunately, the image on Chaos Constructions-2011 was successfully forgotten, but this is not the main thing.  In the time before this publication, the image was slightly updated, some errors were fixed (and, most likely, new ones were introduced).  You can download it (98 MB) from the ‚Äúpeople‚Äù: <a href="http://narod.ru/disk/36181467001/KolibriOS.zip.html">narod.ru/disk/36181467001/KolibriOS.zip.html</a> <br><br>  <b>Related Links:</b> <br>  KolibriOS website - <a href="http://kolibrios.org/">kolibrios.org</a> <br>  Wikis - <a href="http://wiki.kolibrios.org/wiki/Main_Page">wiki.kolibrios.org/wiki/Main_Page</a> <br>  Developer Forum - <a href="http://board.kolibrios.org/">board.kolibrios.org</a> <br>  The theme of the image on the developer forum - <a href="http://board.kolibrios.org/viewtopic.php%3Ff%3D4%26t%3D1819">board.kolibrios.org/viewtopic.php?f=4&amp;t=1819</a> <br>  "Night" builds - <a href="http://builds.kolibrios.org/">builds.kolibrios.org</a> </div><p>Source: <a href="https://habr.com/ru/post/127309/">https://habr.com/ru/post/127309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127298/index.html">When simply filtering request parameters is not enough or about the dangers of universality</a></li>
<li><a href="../127299/index.html">Russian Post starts asking questions</a></li>
<li><a href="../127301/index.html">Recommendations when leaving freelancing</a></li>
<li><a href="../127304/index.html">First look at Xataface - a system for building data-centric applications for PHP and MySQL</a></li>
<li><a href="../127308/index.html">Skype turned 8 years old</a></li>
<li><a href="../127310/index.html">The sun is not joking, or a couple of well-known, but unobvious facts</a></li>
<li><a href="../127314/index.html">How was hacked Vkontakte.ru</a></li>
<li><a href="../127315/index.html">Thousands of .psd-shek</a></li>
<li><a href="../127316/index.html">Have you ever thought about the origin of the standard wallpaper Windows XP?</a></li>
<li><a href="../127318/index.html">Oatmeal - How does it feel to play online games as an adult?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>