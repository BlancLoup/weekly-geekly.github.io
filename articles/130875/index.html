<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Build DebWRT on the example of Ubiquity RouterStation Pro</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, habreads. 
 I bring to your attention a small how-to on assembling and installing DebWRT on Ubiquity RouterStation Pro 
 A bit about DebWRT...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Build DebWRT on the example of Ubiquity RouterStation Pro</h1><div class="post__text post__text-html js-mediator-article">  Greetings, habreads. <br>  I bring to your attention a small how-to on assembling and installing DebWRT on <a href="http://wiki.ubnt.com/RouterStation_Pro">Ubiquity RouterStation Pro</a> <br>  A bit about DebWRT. <br>  As the author of the project himself writes on the <a href="http://debwrt.net/">site</a> : ‚ÄúDebWRT is a project to launch Debian GNU / Linux on embedded devices, such as wireless routers.  DebWRT combines two technologies: Debian and OpenWrt.  Debian is thousands of packages for various architectures and a great package manager, and OpenWrt is a kernel that perfectly supports embedded devices.  Combining these two technologies opens up a whole new world of opportunities. ‚Äù <br>  Thus, all the hardware that OpenWRT supports will support DebWRT, but after we have ‚Äúprepared‚Äù it. <br>  So let's get started ... <br><a name="habracut"></a><br>  During the "preparation" I needed the following ingredients: <br><ul><li>  Debian squeeze </li><li>  free space in / usr / src not less than 10GB </li><li>  tea with liver </li></ul>  # apt-get update <br>  # apt-get install build-essential sudo subversion debootstrap makedev libncurses5-dev glib1g-dev gawk flex unzip git-core <br>  #mkdir / usr / src / debwrt <br>  #chmod 777 / usr / src / debwrt <br><br>  It is necessary to collect not from under the root. <br>  #nano / etc / sudoers <br>  non-root-user ALL = (ALL) ALL <br><br>  We take away source OpenWRT DebWRT <br>  $ cd / usr / src <br>  $ svn checkout <a href="https://svn.debwrt.net/debwrt/trunk">svn.debwrt.net/debwrt/trunk</a> debwrt <br>  $ rm -rf /usr/src/debwrt/openwrt/.svn/ <br>  $ cd / usr / src / debwrt <br>  $ svn co svn: //svn.openwrt.org/openwrt/trunk openwrt <br>  $ / usr / src / debwrt / openwrt / scripts / feeds update -a 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      $ make menuconfig <br>  Choose the necessary system (in my case rspro) <br><ul><li>  Target System (Atheros AR71xx / AR7240 / AR913x) </li><li>  Subtarget (Generic) </li><li>  Target Profile (Ubiquiti RouterStation Pro) </li><li>  Debian Root Filesystem Configuration ---&gt; Use qemu to perform Debian second stage install on the host [disable] </li></ul>  Save and exit <br><br>  $ make openwrt / menuconfig <br>  In the Kernel Modules menu, we mark the drivers we need. <br>  Save and exit <br><br>  $ make openwrt / all V = 99 <br><h6>  first cup of tea </h6><br>  $ make debian / rootfs <br><h6>  second cup of tea </h6><br>  Next, you need to prepare a memory card and flash the device itself. This was already written <a href="http://habrahabr.ru/blogs/linux/113430/">here on</a> Habr√©. Only in our case, take the firmware from here: <br>  /usr/src/debwrt/bin/name-platform-angel-2.0-1-default/ - right there are modules and headers <br>  /usr/src/debwrt/build/rootfs-mips-angel-2.0-1/ - and this is the system itself and it needs to be copied to DEBWRT_ROOT <br><br>  After the firmware, insert the card, reboot the router and knock on 192.168.1.1 <br>  Login / Password - root / debwrt <br><br>  Now you need to perform the second stage of installation: <br>  -bash-4.1 # / debootstrap / debootstrap --second-stage <br>  -bash-4.1 # rm -rf / var / cache / apt / archives <br>  -bash-4.1 # mkdir -p / var / cache / apt / archives / partial <br>  -bash-4.1 # echo "deb <a href="http://ftp.debian.org/debian">ftp.debian.org/debian</a> squeeze main" &gt;&gt; / etc / apt / sources.list <br>  -bash-4.1 # reboot <br><br>  After the reboot, we go to the router and, if all the stages are successful, then we should see the standard Debian greeting and of course: <br><br>  # apt-get update <br><br>  PS The second stage can be performed on the computer.  To do this, you need to activate the item Use qemu to perform Debian second stage install on the host and install the packages necessary for qemu <br><br>  DebWRT project site: <a href="http://debwrt.net/">debwrt.net</a> <br>  DebWRT Wiki: <a href="http://dev.debwrt.net/wiki">dev.debwrt.net/wiki</a> <br>  DebWRT HCL: <a href="http://dev.debwrt.net/wiki/TableOfSupportedHardware">dev.debwrt.net/wiki/TableOfSupportedHardware</a> <br>  Thanks to the author of the amain project for advice and support and to <a href="http://habrahabr.ru/users/drunken/" class="user_link">drunken</a> habroman for reviewing </div><p>Source: <a href="https://habr.com/ru/post/130875/">https://habr.com/ru/post/130875/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../130869/index.html">WP7 social client. network "Vkontakte" open source</a></li>
<li><a href="../130870/index.html">Drupal Bundle Inherit - module for inheriting entity types</a></li>
<li><a href="../130871/index.html">About networks: a little bit of everything</a></li>
<li><a href="../130872/index.html">TV monitor</a></li>
<li><a href="../130873/index.html">Interpolation: draw smooth graphics with PHP and GD</a></li>
<li><a href="../130876/index.html">The hunt for bugs: Understanding the architecture of AI through the epic Fail</a></li>
<li><a href="../130877/index.html">Eliza</a></li>
<li><a href="../130878/index.html">Three puzzles mutant for ITshnikov</a></li>
<li><a href="../130881/index.html">Gmail updated again</a></li>
<li><a href="../130883/index.html">GitHub improves svn support</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>