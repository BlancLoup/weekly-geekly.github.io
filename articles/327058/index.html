<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Difficult lessons: five years with Node.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After five years of working with Node.js, I understood a lot. I have already shared some stories , but this time I want to talk about what knowledge w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Difficult lessons: five years with Node.js</h1><div class="post__text post__text-html js-mediator-article">  After five years of working with <a href="https://nodejs.org/">Node.js,</a> I understood a lot.  I have already <a href="https://blog.scottnonnenberg.com/the-dangerous-cliffs-of-node-js/">shared</a> <a href="https://blog.scottnonnenberg.com/enterprise-node-jsjavascript-difficulties/">some</a> <a href="https://blog.scottnonnenberg.com/private-node-js-modules-a-journey/">stories</a> , but this time I want to talk about what knowledge was given the hardest.  Bugs, problems, surprises and lessons that you can use in your own projects! <br><br><h1>  Basic concepts </h1><br>  Each new platform has its own <a href="https://blog.scottnonnenberg.com/node-js-is-not-magical/">tricks</a> , but at the moment these concepts are secondary to me.  Understanding your bug is a good way to guarantee learning.  Even if it is a little painful! <br><br><h3>  Classes </h3><br>  <i>When I first started working with Node.js, I wrote a <a href="https://scottnonnenberg.com/work/">scraper</a> .</i>  <i>Very quickly, I realized that if nothing is done, it will implement many requests in parallel.</i>  <i>That alone was an important discovery.</i>  <i>But since I had not yet fully mastered the <a href="https://blog.scottnonnenberg.com/n-for-node-js-nerp-stack-part-1/">power of the ecosystem</a> , I sat down and wrote my own concurrency limiter.</i>  <i>He worked and checked that no more than N requests were active at any one time.</i> <br><a name="habracut"></a><br>  <i>Later, I needed a second level of concurrency restrictions to make sure that we serve only N users at a time.</i>  <i>But when I introduced the second copy of the class, very strange problems began to appear.</i>  <i>Logs have lost their meaning.</i>  <i>In the end, I realized that the syntax of class properties in <a href="http://coffeescript.org/">CoffeeScript</a> does not provide a new array for each instance, but one common for all!</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Long using object-oriented programming languages, I'm used to classes.  But I did not fully understand the result of the hidden work of the constructs of the CoffeeScript language.  Study your tools well.  <a href="https://blog.scottnonnenberg.com/be-a-scientist-dev-productivity-tip-3/">Check all assumptions</a> . <br><br><h3>  NaN </h3><br>  <i>Once working on a contract, I implemented a sorting based on user parameters, which was to be used in a multi-stage production flow.</i>  <i>But we saw really strange behavior - the order did not remain the same.</i>  <i>Each time we sent the same set of user parameters, but the order of the elements changed!</i> <i><br><br></i>  <i>I was confused.</i>  <i>It was assumed that this is a deterministic procedure.</i>  <i>The same input data - the same output data.</i>  <i>A shallow investigation did not work, so I finally implemented detailed logging.</i>  <i>And here the <code>NaN</code> values ‚Äã‚Äãhave surfaced.</i>  <i>They appeared as a result of previous calculations and wreaked havoc on the sorting algorithm.</i>  <i>These values ‚Äã‚Äãare <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN">not equal to themselves or anything else</a> , so they broke down the <a href="https://cs.stackexchange.com/questions/19013/is-transitivity-required-for-a-sorting-algorithm">transitivity, which is necessary for sorting</a> .</i> <br><br>  Be careful with math operations in javascript.  It is better to have <a href="http://json-schema.org/">strong guarantees of the quality of the incoming data</a> , but you can also <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN">check the results of your calculations</a> . <br><br><h3>  Logic after callback </h3><br>  <i>While working on one of my Postgres-connected applications, I noticed strange behavior after a drop in tests.</i>  <i>If the initial test fell, then all other tests expired on timeout!</i>  <i>This did not happen very often, because my tests do not fall often, but it did happen.</i>  <i>And it began to bother.</i>  <i>I decided to figure it out.</i> <i><br><br></i>  <i>In my code, the Node <a href="https://github.com/brianc/node-postgres">pg</a> module was used, so I began to rummage through the <code>node_modules</code> directory and add logging.</i>  <i>I found that the <code>pg</code> module needed to do some internal cleanup after completing the request, which it did after calling the user-provided callback.</i>  <i>So if an exception was thrown, this code was skipped.</i>  <i>For this reason, <code>pg</code> was in poor condition and not ready for the next request.</i>  <i>I <a href="https://github.com/brianc/node-postgres/pull/282">sent a pull request</a> , which was <a href="">completely redone and added in version 1.0.2</a> .</i> <br><br>  Get in the habit of calling callbacks last.  It is also a good idea to precede them with a <code>return</code> .  Sometimes they cannot be put on the last line, but they should always be the last expression. <br><br><h1>  Architecture </h1><br>  Bugs may be in separate lines of code, but much more painful if the bug in the application architecture itself ... <br><br><h3>  Locking event loop </h3><br>  <i>Under the contract, I was asked to take a <a href="https://en.wikipedia.org/wiki/Single-page_application">one-page application</a> written in <a href="https://facebook.github.io/react/">React.js</a> and transfer it to the server.</i>  <i>After fixing a few parts, because of which it was supposed to render in the browser, everything worked.</i>  <i>But I was very afraid that <a href="https://blog.scottnonnenberg.com/breaking-the-node-js-event-loop/">synchronous work would put the Node.js server on its knees</a> , so I added a new position of data collection to our statistics collected from the server: how long does each page render?</i> <i><br><br></i>  <i>When the data began to arrive, it became clear that the situation was not good.</i>  <i>Everything was fine, but some of the pages were rendered over 400 ms.</i>  <i>Too, too long for a working server.</i>  <i><a href="https://blog.scottnonnenberg.com/static-site-generation-with-gatsby-js/">My</a> experience with <a href="https://blog.scottnonnenberg.com/static-site-generation-with-gatsby-js/">Gartsby</a> prepared me well for the next step: render static files.</i> <br><br>  Think carefully about what you want from your Node.js server.  Synchronous work is really bad news.  HTML rendering requires a lot of synchronous work, and this can slow down the process - not only with React.js, but also with lightweight tools like <a href="https://pugjs.org/">Jade / Pug</a> !  Even the phase of type checking on a large load <a href="https://github.com/graphql/graphql-js">GraphQL</a> can take a lot of synchronous time! <br><br>  Specifically for React.js, the <a href="https://github.com/FormidableLabs/rapscallion">Rapscallion</a> renderer from <a href="https://twitter.com/divmain">Dale Boustad</a> demonstrates a promising approach.  It splits all synchronous work to render the React component tree into a string.  <a href="https://github.com/redfin/react-server">Redfin react-server</a> is another, more heavy, attempt to solve this problem. <br><br><h3>  Implicit dependencies </h3><br>  <i>I was already actively working on a contract and implemented functions at a good speed.</i>  <i>But I was told that for the next function I can check with another Node.js application for reference and implementation assistance.</i> <i><br><br></i>  <i>I looked at <a href="https://blog.scottnonnenberg.com/e-for-express-nerp-stack-part-2/">the Express linking function</a> at the output point that was discussed.</i>  <i>And I found a whole bunch of links to <code>req.randomThing</code> and even some calls to <code>req.randomFunction()</code> .</i>  <i>Then I went to look at all the binding functions that I had already passed earlier in order to understand what was going on.</i> <br><br>  Make dependencies explicit, unless it is absolutely necessary to do otherwise.  For example, instead of adding local <code>req.messages</code> strings to <code>req.messages</code> , pass <code>req.locale</code> to <code>var getMessagesForLocale = require('./get_messages')</code> with direct access.  Now you will clearly see what your code depends on.  It works the other way - if you are a developer of <code>random_thing.js</code> , then definitely want to know which parts of the project use your code! <br><br><h3>  Data, APIs and Versions </h3><br>  <i>The client wanted me to add features to the Node.js API, which worked as a backend for a large number of installed native applications on tablets and smartphones.</i>  <i>I quickly discovered that I couldn‚Äôt just add a field, because application developers used defensive programming ‚Äî the first action of the application when retrieving data was to use a strict scheme.</i> <i><br><br></i>  <i>Considering such a check and the applications themselves, it became clear that two new types of versioning would be needed.</i>  <i>One for API clients so they can upgrade and access new features.</i>  <i>The second is for <a href="https://blog.scottnonnenberg.com/p-for-postgres-nerp-stack-part-4/">the data itself</a> , so that we are sure that all these new functions are implemented reliably on top of <a href="https://en.wikipedia.org/wiki/MongoDB">MongoDB</a> .</i>  <i>Being engaged in adding it to the application, I reflected on the topic of how to develop that first version.</i> <br><br>  There is something in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects">changeable JavaScript objects</a> that delights people in connection with <a href="https://en.wikipedia.org/wiki/Document-oriented_database">document-oriented DBMS</a> .  ‚ÄúI can create any object in my code, just let it save somewhere!‚Äù Unfortunately, these people seem to go away after writing the first version.  They do not think about the second, third or fourth versions.  I‚Äôm taught, so I use Postgres and from the first version I‚Äôm thinking about versioning. <br><br><h3>  Equipment </h3><br>  <i>As the main Node.js expert in a large contract project, the DevOps expert approached me to talk about working servers.</i>  <i>It took a long time to equip new machines in the data center, and he wanted to make sure that he had the right plan.</i>  <i>I appreciated it.</i> <i><br><br></i>  <i>I nodded when he said that one Node.js process would work on each server.</i>  <i>But I stopped nodding at the mention that each server has four physical cores.</i>  <i>I explained that only one core could be used on the server, and he shrugged his shoulders - only such servers were obtained.</i>  <i>They used to work as a .NET store, and they have standard solutions.</i>  <i>Soon after, we introduced the <a href="https://nodejs.org/api/cluster.html">cluster</a> .</i> <br><br>  It is difficult to understand what is happening, if you move from other platforms.  Node.js always runs in the same thread, while almost all other web server platforms scale to the server: just add kernels.  Use <code>cluster</code> , but <a href="https://medium.com/%40jongleberry/when-node-js-is-the-wrong-tool-for-the-job-6d3325fac85c">watch carefully</a> - this is not a magical solution. <br><br><h1>  Testing </h1><br>  I have already written a lot of JavaScript code and learned that <a href="https://blog.scottnonnenberg.com/node-js-is-not-magical/">testing is absolutely and completely necessary</a> .  It really is. <br><br><h3>  "Easy job" </h3><br>  <i>The client explained that their Node.js experts were gone and I‚Äôm replacing them.</i>  <i>The company had big plans for this project, which was the main topic of discussion before I started work.</i>  <i>Now the client has become more resolute: he realized that things did not matter.</i>  <i>But this time I wanted to do everything right.</i> <i><br><br></i>  <i>I was disappointed by the level of test coverage, but there were at least some tests.</i>  <i>And I was pleased that <a href="http://jshint.com/">JSHint is</a> already in place.</i>  <i>Just to be sure, I checked the current set of rules.</i>  <i>And I was surprised to find that the <a href="http://jshint.com/docs/options/">unused</a> option is not activated.</i>  <i>I turned it on and was shocked by the continuous stream of new errors.</i>  <i>I sat for several hours and simply deleted the code.</i> <br><br>  JavaScript programming is hard.  But we have the tools to make it more meaningful.  <a href="https://blog.scottnonnenberg.com/eslint-part-1-exploration/">Learn to use ESLint effectively</a> .  With small annotations, <a href="https://blog.scottnonnenberg.com/better-docs-and-static-analysis/">Flow</a> can help catch wrong function calls.  Lots of good with a minimum of effort. <br><br><h3>  Cleaning after the test </h3><br>  <i>Once I was asked to help the developer figure out why a test error occurs during the test run.</i>  <i>When we looked at the output from the <a href="https://mochajs.org/">mocha</a> , we did not see any error during this failure.</i>  <i>When we carefully studied the call stack, it became clear that the error was caused by code that was completely unrelated to this test.</i> <i><br><br></i>  <i>After a deeper study, it turned out that the previous test announced a successful completion, at the same time initiating a series of asynchronous operations.</i>  <i>The exceptions that came from that code <code>mocha</code> perceived by the <code>mocha</code> process level handler as coming from the current test.</i>  <i>Further study showed that mock-objects that also did not clean out were leaking into other tests.</i> <br><br>  If you use callbacks, then all tests should end with the <code>done()</code> method.  This is easy to check while viewing the code: if there is some nested function in the test, you should probably have <code>done()</code> .  Although, there is a small complexity here, because you cannot call <code>done</code> , which was not initially passed to the function.  One of those <a href="https://blog.scottnonnenberg.com/top-ten-pull-request-review-mistakes/">classic coding errors</a> .  Also use the <a href="http://sinonjs.org/releases/v1.17.7/sandbox/">sandbox</a> function in <a href="http://sinonjs.org/">Sinon</a> - it will help to make sure that everything has returned to its place at the end of your test. <br><br><h3>  Mutability </h3><br>  <i>In this project under this contract, the standard way of conducting tests was to conduct unit tests or integration tests separately.</i>  <i>At least in local development.</i>  <i>But <a href="https://jenkins.io/">Jenkins</a> does a full test, running both test suites together.</i>  <i>In one of the pull requests, I added a couple of new tests, and they caused a crash in Jenkins.</i>  <i>I was very surprised.</i>  <i>Tests normally completed locally!</i> <i><br><br></i>  <i>After some fruitless reflections, I turned on the detailed study mode.</i>  <i>I ran exactly the command that I knew that Jenkins used to run the tests.</i>  <i>It took some time, but the problem was able to reproduce.</i>  <i>My head was spinning while I was trying to figure out what is the difference between the runs.</i>  <i>There were no ideas.</i>  <i>Detailed logging comes to the rescue!</i>  <i>After two runs, I managed to discover some differences.</i>  <i>After several false starts, the correct logging was established and it became clear: unit tests changed some of the key application data that was used in the integration tests!</i> <br><br>  Bugs of this type are extremely difficult to track.  Although I am proud that I found this bug, but more and more I think about immutability.  The <a href="https://facebook.github.io/immutable-js/">Immutable.js</a> library <a href="https://facebook.github.io/immutable-js/">is</a> not bad, but you have to give up <a href="https://lodash.com/">lodash</a> .  A <a href="https://github.com/rtfeldman/seamless-immutable">seamless-immutable</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze">silently falls when you try to change something</a> (which then normally works in production). <br><br>  You can understand now why <a href="https://blog.scottnonnenberg.com/getting-started-with-elixir/">I am interested in Elixir</a> : all data in <a href="http://elixir-lang.org/">Elixir is</a> always immutable. <br><br><h1>  Ecosystem </h1><br>  To a large extent, the benefits of Node.js consist in the efficient use of a large ecosystem.  Choosing good dependencies and managing them correctly. <br><br><h3>  Dependencies and Versions </h3><br>  <i>I <a href="https://blog.scottnonnenberg.com/static-site-generation-with-gatsby-js/">use the</a> <code>webpack-static-site-generator</code> tool to generate <a href="https://blog.scottnonnenberg.com/this-blog-is-now-open-source/">my blog</a> .</i>  <i>As part of preparing my <a href="https://git-scm.com/">Git</a> repository for a public release, I deleted the <code>node_modules</code> directory and installed everything from scratch.</i>  <i>This usually works because I <a href="https://github.com/scottnonnenberg/blog/commit/9058f1d3bd7f29aeefd4beffe07d3c0135338416">use the exact version numbers</a> in <code>package.json</code> .</i>  <i>But not at this time.</i>  <i>And everything stopped working in the strangest way: without any meaningful error message.</i> <i><br><br></i>  <i>Since I sent a certain number of pull requests to Gatsby, I know the code base pretty well.</i>  <i>First, add a few key logging expressions.</i>  <i>And an error message appeared!</i>  <i>True, it was difficult to interpret.</i>  <i>Then I plunged into the <code>webpack-static-site-generator</code> and found that it uses the <a href="https://webpack.github.io/">Webpack</a> to create a large <code>bundle.js</code> with the code of the entire application, which is then passed to run under Node.js.</i>  <i>Madhouse!</i>  <i>And it was from there that the error came out - from the depth of this file, during the launch under Node.js.</i> <i><br><br></i>  <i>Now I quickly followed the trail.</i>  <i>A few minutes later I had a specific code snippet, which was issued along with the same error message.</i>  <i>The problem turned out to be in the dependencies of the new <a href="http://es6-features.org/">features of the ES6 language</a> in the case of launch under Node.js version 4!</i>  <i>It <a href="https://github.com/scottnonnenberg/blog/commit/f64e14acfabb64d0f5dfbcc42206eb2bb3057da4">turned</a> out that <a href="https://github.com/scottnonnenberg/blog/commit/f64e14acfabb64d0f5dfbcc42206eb2bb3057da4">this dependency has unlimited subdependency</a> , which pulls out too new version of <code>punycode</code> .</i> <br><br>  Capture all your dependency tree to specific versions with <a href="https://yarnpkg.com/">Yarn</a> .  If you cannot, fix direct dependencies on specific versions.  But know that the remaining loose versions of dependencies can lead to this situation. <br><br><h3>  Documentation and Versions </h3><br>  <i>On one of the projects I used <a href="https://github.com/caolan/async">Async.js</a> , especially the <a href="">filterLimit</a> function.</i>  <i>I had a list of paths, and I wanted to go to the file system to get the characteristics of the file, which would then determine whether the paths should remain on the list.</i>  <i>I wrote a method for the filter in a normal asynchronous manner, with the standard signature async <code>callback(err, result)</code> .</i>  <i>But nothing worked.</i> <i><br><br></i>  <i>I turned to the documentation, <a href="https://github.com/caolan/async/tree/1e6a63270a996a6052acaf6e79dd2e4fa4fc7cc9">which at that time was on the main page of the GitHub project</a> .</i>  <i>I looked at the description of <code>filterLimit</code> , and there was an expected signature: <code>callback(err, result)</code> .</i>  <i>I went back to the project and started <code>npm outdated</code> .</i>  <i>I had <code>v1.5.2</code> , and the last one was <code>v2.0.0-rc.1</code> .</i>  <i>I was not going to update it to this version, so I started <code>npm info async</code> to check if I had the latest version 1.x.</i>  <i>So it was.</i> <i><br><br></i>  <i>Still at a loss, I went back to the code and added extremely detailed logging.</i>  <i>Uselessly.</i>  <i>In the end, I went to the source Async.js on GitHub.</i>  <i>What makes this stupid feature?</i>  <i>And then I realized what had happened - in the <code>master</code> branch on GitHub was the code 2.x.</i>  <i>To see the documentation for my installed version <code>1.5.2</code> , it was necessary to look in the history.</i>  <i>When I did this, I found the correct <code>callback(result)</code> signature without the possibility of propagating errors.</i> <br><br>  Look very carefully at the version number of the documentation you are accessing.  It is easy to become lazy here, because the first available documentation often fits: the methods rarely change or you are already on the latest version.  But it is better to check twice. <br><br><h3>  What does not understand New Relic </h3><br>  <i>I was busy with Node.js server performance for the client, so I was given access to the monitoring tool: <a href="https://newrelic.com/">New Relic</a> .</i>  <i>Several years ago, New Relic had to use <a href="http://rubyonrails.org/">Rails</a> client applications for monitoring, and I also prepared for another client an analysis of the appropriateness of the New Relic / Node.js bundle, so I generally knew how the system worked and knew <a href="https://github.com/newrelic/node-newrelic">how it integrates with Express and asynchronous calls</a> .</i> <i><br><br></i>  <i>So I proceeded.</i>  <i>The system had surprisingly comprehensive traces of how incoming requests are handled: the work of the middleware Express and calls to other servers.</i>  <i>But I searched everywhere and could not find a key indicator for the processes: the state of the event cycle.</i>  <i>So I had to resort to a workaround: I manually sent the indicators from <a href="https://github.com/strml/node-toobusy">toobusy-js</a> to New Relic and created a new graph based on them.</i> <i><br><br></i>  <i>With this additional data, there was more confidence in the correctness of the analysis.</i>  <i>Of course, the jumps in terms of latency coincide with what New Rellic calls 'time spent in requests'.</i>  <i>I looked and anxiously found that the sum of the terms there did not coincide with the result.</i>  <i>The total time spent on the request, and its components - do not match.</i>  <i>Sometimes there is the category ‚ÄúOther‚Äù, which tries to correct the situation, in other cases it does not exist.</i> <br><br>  Do not use New Relic to monitor Node.js applications.  This tool has no idea about the event loop.  Its heaped-up 'average time spent' graphics is completely misleading - given a slow cycle of events, the selected endpoints will be those that postpone the cycle of events the most.  New Relic can determine the existence of a problem, but does not help to calculate its source. <br><br>  If you still need a reason not to use New Relic, here you are: <br><br><ol><li>  The default windows display <a href="https://www.dynatrace.com/blog/why-averages-suck-and-percentiles-are-great/">averages, a bad way of representing data from the real world</a> .  It is necessary to go further beyond the default windows in order to get intelligible graphics, like 95%.  But do not feel too comfortable, because you can‚Äôt add these intelligible graphics to your dashboards! </li><li>  He does not understand the use of <code>cluster</code> on the same machine.  If you manually send data like the lag time for an event cycle from <code>toobusy-js</code> , only one per second will win for the entire server.  Even if there are four workers. </li></ol><br><h1>  All clear! </h1><br>  <a href="https://en.wikipedia.org/wiki/Emotion_and_memory">Emotional events are remembered with the greatest clarity and accuracy</a> .  Therefore, each of these situations is reliably preserved in my memory.  You do not remember it as well as me.  Maybe if you imagine my struggle, it will help? <br><br>  Surprisingly, initially in this article I wanted to describe twice as many situations worth mentioning, many of which do not relate directly to Node.js.  So wait for more posts like this! </div><p>Source: <a href="https://habr.com/ru/post/327058/">https://habr.com/ru/post/327058/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327048/index.html">Analysis of communication from the Tor network to the infrastructure using the ELK stack</a></li>
<li><a href="../327050/index.html">Internal mechanisms of TCP, affecting the download speed: part 2</a></li>
<li><a href="../327052/index.html">Virtuality and overhead projector</a></li>
<li><a href="../327054/index.html">7Ps Framework: we structure meetings to make effective</a></li>
<li><a href="../327056/index.html">"The little things that we noticed": case IaaS-provider</a></li>
<li><a href="../327060/index.html">Clarive 6.8 has been released.</a></li>
<li><a href="../327062/index.html">Typography: font selection process</a></li>
<li><a href="../327064/index.html">Native American software designer tricks. Release 1</a></li>
<li><a href="../327066/index.html">Results of the second round of the Russian Code Cup 2017</a></li>
<li><a href="../327068/index.html">PHP 7 Virtual Machine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>