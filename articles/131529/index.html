<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We treat the transfer of time to jailbroken ios 4.x</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As is well known, and the cloud topics mentioned, yesterday there was a little y2k. Owners of official devices are not particularly worried about anyt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We treat the transfer of time to jailbroken ios 4.x</h1><div class="post__text post__text-html js-mediator-article"> As is well known, and the cloud topics mentioned, yesterday there was a little y2k.  Owners of official devices are not particularly worried about anything - updates for that and updates. <br>  But what do happy owners of overseas pipes, for which the words (untethered jailbreak) and unlock (unlock) - not just words? <br>  In fact, not so much - you need to update tzdata directly in the system and in ICU. <br><a name="habracut"></a><br>  <b>Warning: what you do with your device, you do at your own peril and risk.</b> <br><br>  How to update the timezone tables themselves, what it is and where to get it is already written <a href="http://habrahabr.ru/blogs/apple/130432/">in this topic</a> , so we further consider that the device has ssh and has already successfully said something like: <br> <code><a href=""></a> wget -O - www.mafet.ru/zoneinfo_2011k.tgz | tar xzf - -C /</code> <br> <br>  However, only UNIX utilities work directly with tzdata, and the beautiful SpringBoard (this service is responsible for drawing the clock) uses ICU - International Components for Unicode (international unicode components) for time conversion.  And for independence, this package includes its own copy of tzdata in a slightly different format.  It was precisely because of this duplication of data that many thought that the timezone update did not work - the date displayed the correct time, and the clock still showed as before. <br><br>  The icu data is in the traditional / usr / share / icu / icudt46l.dat (by the file name - in iOS 4.3.3 icu 4.6 is used under the little endian architecture).  Over him and we will conjure, after having dragged off on the computer: <br> <code>scp root@...:/usr/share/icu/icudt46l.dat ~</code> <br>  (it is assumed that there are workers and not sleeping wifi and sshd on the phone) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Next, we need the icu4c package, which you can take <a href="http://site.icu-project.org/download/46">on the icu-project website</a> and update the timezone <a href="http://source.icu-project.org/repos/icu/data/trunk/tzdata/icunew/2011k/44/le/">as 4 files from here</a> . <br><br>  Put in the container new versions of time zones: <br> <code>cd ~ <br> icupkg -a zoneinfo64.res icudt46l.dat <br> icupkg -a metaZones.res icudt46l.dat <br> icupkg -a timezoneTypes.res icudt46l.dat <br> icupkg -a windowsZones.res icudt46l.dat <br></code> <br>  and the patched file back to the phone: <br> <code>scp icudt46l.dat root@...:/usr/share/icu/icudt46l.dat.new</code> <br> <br>  The finish line - it remains only to replace icu.  Pre-restart the phone so that there are no downloaded applications in memory. <br> <code>ssh root@_ <br> cd /usr/share/icu/ <br> launchctl stop com.apple.SpringBoard <br> mv icudt46l.dat icudt46l.dat.bak <br> mv icudt46l.dat.new icudt46l.dat <br> launchctl stop com.apple.SpringBoard <br></code> <br>  It is advisable not to terminate the ssh session until you are sure that the SpringBoard is alive after this manipulation, in order to be able to change the file back.  The author took the substitution from the author only at the second attempt. <br><br>  Tested on iPhone4 with iOS 4.3.3 (the freshest with an untethered jailbreak at the moment), theoretically, the method will also fit other versions of the system, accurate to ICU version and the applied patch (which lie <a href="http://source.icu-project.org/repos/icu/data/trunk/tzdata/icunew/2011k/">side by side</a> ) <br><br>  <b>UPD</b> : For ios 4.3.3, I got <a href="">this icudt46l.dat</a> , in theory, the same version should be used in a fresh Lion <br>  For ios 3 they say <a href="http://narod.ru/disk/29905419001/icudt40l.dat.html">icudt40l.dat</a> is suitable from snow leopard, <br>  For ios 4.1 - <a href="http://narod.ru/disk/30160980001/icudt44l.zip.html">icudt44l.dat</a> </div><p>Source: <a href="https://habr.com/ru/post/131529/">https://habr.com/ru/post/131529/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131522/index.html">Miniconference Web and GIS 2011</a></li>
<li><a href="../131523/index.html">OtdamGolos. From 0 - 137 562 visitors in 10 days</a></li>
<li><a href="../131526/index.html">linkCharge: convenient invoicing in RuNet</a></li>
<li><a href="../131527/index.html">Loading vector icons via @ font-face: pros and cons</a></li>
<li><a href="../131528/index.html">Nokia Configuration Tool - Assistant to the Smart Admin</a></li>
<li><a href="../131530/index.html">Anonymous threatens mexican drug cartel</a></li>
<li><a href="../131531/index.html">October 31 - Especially for IT Park: Master class by famous Russian technological entrepreneur Sergey Belousov!</a></li>
<li><a href="../131534/index.html">Ruby 1.9.3 released</a></li>
<li><a href="../131535/index.html">Wrong time on FreeBSD is no big deal. UPD: And in PHP is not scary too</a></li>
<li><a href="../131538/index.html">The history of setting wireless IPTV over Wi-Fi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>