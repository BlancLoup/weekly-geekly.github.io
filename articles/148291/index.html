<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Taming the 14th Fox again: the correct default settings</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After upgrading to Firefox 14 (Windows), a good impression of the improvements was replaced by confusion, and then by awareness of the problem: the pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Taming the 14th Fox again: the correct default settings</h1><div class="post__text post__text-html js-mediator-article">  After upgrading to Firefox 14 (Windows), a good impression of the improvements was replaced by confusion, and then by awareness of the problem: the prefs.js settings file in defaults \ pref, which previously worked with all versions from 4th to 13th, stopped loading.  A variety of experiments were made - and all was unsuccessful: antiphishing, auto-update, and other bad taste signs were turned on. <br><a name="habracut"></a><br>  I search the string ‚Äúdefaults‚Äù for all files, there are a lot of files, but first attention falls on xul.dll.  I open it in Olly, looking for the same.  And now - I see curious details. <br><pre><code class="hljs erlang">... <span class="hljs-number"><span class="hljs-number">100196</span></span>C2 MOV ECX,xul.<span class="hljs-number"><span class="hljs-number">10</span></span>BE1CF0 ASCII <span class="hljs-string"><span class="hljs-string">"greprefs.js"</span></span> <span class="hljs-number"><span class="hljs-number">100196</span></span>D5 PUSH xul.<span class="hljs-number"><span class="hljs-number">10</span></span>BE1CFC ASCII <span class="hljs-string"><span class="hljs-string">"defaults/pref/*.js$"</span></span> <span class="hljs-number"><span class="hljs-number">10019744</span></span> PUSH xul.<span class="hljs-number"><span class="hljs-number">10</span></span>BB0D28 ASCII <span class="hljs-string"><span class="hljs-string">"PrfDef"</span></span> <span class="hljs-number"><span class="hljs-number">10019799</span></span> PUSH xul.<span class="hljs-number"><span class="hljs-number">10</span></span>BE1D10 ASCII <span class="hljs-string"><span class="hljs-string">"defaults/preferences/*.js$"</span></span> <span class="hljs-number"><span class="hljs-number">10019849</span></span> PUSH xul.<span class="hljs-number"><span class="hljs-number">10</span></span>BB0EF4 ASCII <span class="hljs-string"><span class="hljs-string">"PrefDL"</span></span> ...</code> </pre>  and another: <pre> <code class="hljs objectivec"><span class="hljs-number"><span class="hljs-number">1073043</span></span>C MOV EDI,xul<span class="hljs-number"><span class="hljs-number">.10</span></span>BE1B94 ASCII <span class="hljs-string"><span class="hljs-string">"defaults/preferences/*.(J|j)(S|s)$"</span></span></code> </pre> <br>  I try to create <b>preferences</b> directory in defaults and move my prefs.js there.  Running ... there are!  All settings are in place.  So: our js configuration file should be in <b>Mozilla Firefox \ defaults \ preferences</b> .  It is curious that defaults \ pref in the distribution kit is still there, but it seems that channel-prefs.js does not work there.  But not the essence, left as is.  Then I looked in Linux - it turns out that there already is a preferences directory (not prefs) in defaults already in the 10th Fox!  Here is the answer to the question of why Mozilla is breaking (already for the 2nd time) the usual, well-established order of things - for the sake of unity of the layout under different platforms. <br><br>  And here is my settings file, created on the basis of well-known recommendations, their critics and my own research.  And yes, I use the imglikeopera plugin against ads, some of the appropriate settings are for it. <br><pre> <code class="hljs pgsql"># Mozilla <span class="hljs-keyword"><span class="hljs-keyword">User</span></span> Preferences pref("browser.shell.checkDefaultBrowser", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("app.update.enabled", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("browser.cache.memory.max_entry_size", <span class="hljs-number"><span class="hljs-number">4096</span></span>); pref("browser.display.show_image_placeholders", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("browser.download.useDownloadDir", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("browser.feeds.showFirstRunUI", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("browser.places.importBookmarksHTML", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("browser.rights.3.shown", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("browser.safebrowsing.enabled", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("browser.safebrowsing.malware.enabled", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("browser.search.update", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("browser.sessionhistory.max_total_viewers", <span class="hljs-number"><span class="hljs-number">1</span></span>); pref("browser.startup.page", <span class="hljs-number"><span class="hljs-number">0</span></span>); pref("browser.tabs.animate", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("config.trim_on_minimize", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("content.notify.backoffcount", <span class="hljs-number"><span class="hljs-number">5</span></span>); pref("extensions.shownSelectionUI", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("extensions.update.enabled", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("extensions.update.notifyUser", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("extensions.pendingOperations", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("toolkit.telemetry.prompted", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("gfx.direct2d.force-enabled", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("layers.acceleration.force-enabled", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("imglikeopera.default.policy", <span class="hljs-number"><span class="hljs-number">1</span></span>); pref("imglikeopera.experimental.options", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("imglikeopera.expiration.time", <span class="hljs-number"><span class="hljs-number">604800</span></span>); pref("imglikeopera.flash.block", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("imglikeopera.policy.patterns", "yandex.net/ 1 yandex.st/lego/ 1 "); pref("imglikeopera.policy.switchModes", "1,2"); pref("intl.charsetmenu.browser.cache", "windows-1251, UTF-8"); pref("network.cookie.prefsMigrated", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("network.dns.disableIPv6", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("network.http.max-persistent-connections-per-server", <span class="hljs-number"><span class="hljs-number">8</span></span>); pref("network.http.pipelining", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("network.http.proxy.pipelining", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("privacy.sanitize.migrateFx3Prefs", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pref("privacy.sanitize.timeSpan", <span class="hljs-number"><span class="hljs-number">0</span></span>); pref("security.warn_entering_weak", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("security.warn_viewing_mixed", <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); pref("ui.submenuDelay", <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/148291/">https://habr.com/ru/post/148291/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148286/index.html">The largest DNS hoster Zerigo attacked</a></li>
<li><a href="../148287/index.html">XML serialization for deploying initial data in Cach√©. Part I</a></li>
<li><a href="../148288/index.html">Hosting on the edge of the world 2</a></li>
<li><a href="../148289/index.html">Sergey Belousov: We invest in those who want to solve some problem, and not to make money</a></li>
<li><a href="../148290/index.html">Single space to work with accounts in Dropbox, Google Drive and Box</a></li>
<li><a href="../148292/index.html">How to make a group of input convenient</a></li>
<li><a href="../148294/index.html">Japan supports copyright</a></li>
<li><a href="../148296/index.html">‚ÄúRunet today‚Äù, July 23, 2012. Experts release: Vitaly Myshlyaev, Denis Davydov</a></li>
<li><a href="../148299/index.html">Startup for startups</a></li>
<li><a href="../148301/index.html">Yandex plans to capture more than 20% of the Turkish market in 5 years</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>