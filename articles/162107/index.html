<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Browser performance for Android. Part 1: Calculations on pure javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello habrayuzer. Now I'm trying to write a game on html5 + PhoneGap, of course, the performance is not very happy. So I decided to test all the brows...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Browser performance for Android. Part 1: Calculations on pure javascript</h1><div class="post__text post__text-html js-mediator-article">  Hello habrayuzer.  Now I'm trying to write a game on html5 + PhoneGap, of course, the performance is not very happy.  So I decided to test all the browsers available for Android, including PhoneGap, for performance, this article will look at this cycle: <br><br>  1. Calculations on pure javascript. <br>  2. Rendering with DOM. <br>  3. Rendering using Canvas. <br>  4. Rendering using WebGL. <br><a name="habracut"></a><br>  Actually, in this part, we will measure computations in JavaScript, although this is not a very important indicator, but since the physics of modern toys requires large calculations, JS can cut through performance. <br>  And so we will multiply, extract the root and divide a million times, this is such a simple code: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">1000000</span></span>; i++) { tmp1 = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>.MAX_VALUE; tmp2 = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.sqrt(tmp1); tmp3 = tmp1 / tmp2; }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Full source:</b> <div class="spoiler_text"><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#mean</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">color</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#8b0000</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> iteration = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> sumTime = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> init = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> (</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.addEventListener(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'click'</span></span></span><span class="javascript">, onClick); }; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> onClick = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> (</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">e</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> i, tmp1, tmp2, tmp3, t1, t2, currentTime; t1 = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Date</span></span></span><span class="javascript">(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">for</span></span></span><span class="javascript"> (i = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">; i &lt;= </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1000000</span></span></span><span class="javascript">; i++) { tmp1 = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Math</span></span></span><span class="javascript">.random() * </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Number</span></span></span><span class="javascript">.MAX_VALUE; tmp2 = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Math</span></span></span><span class="javascript">.sqrt(tmp1); tmp3 = tmp1 / tmp2; } t2 = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Date</span></span></span><span class="javascript">(); currentTime = t2.getTime() - t1.getTime(); </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.body.innerHTML += </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'Time: '</span></span></span><span class="javascript"> + currentTime.toString() + </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">' ms &lt;br&gt;'</span></span></span><span class="javascript">; iteration++; sumTime += currentTime; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (iteration == </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10</span></span></span><span class="javascript">) { </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.body.innerHTML += </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'&lt;div id="mean"&gt;Mean:'</span></span></span><span class="javascript"> + (sumTime / iteration).toString() + </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'ms &lt;/div&gt;&lt;br&gt;'</span></span></span><span class="javascript">; iteration = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">; sumTime = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">; } }; </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.addEventListener(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"DOMContentLoaded"</span></span></span><span class="javascript">, init, </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Testing was conducted on a Samsung Galaxy Tab 2 P 5100 device. <br>  New versions of popular browsers for Android, as well as popular platforms such as PhoneGap and Adobe AIR, participated in the testing. <br><br>  <i><b>Look what happened:</b></i> <br><table border="1"><tbody><tr><td>  Browser <br></td><td>  Version <br></td><td>  Milliseconds <br></td></tr><tr><td>  Opera <br></td><td>  12.1.3 <br></td><td>  896 <br></td></tr><tr><td>  Firefox <br></td><td>  17.0 <br></td><td>  176 <br></td></tr><tr><td>  Chrome <br></td><td>  18.0 <br></td><td>  76 <br></td></tr><tr><td>  Android borwser <br></td><td></td><td>  161 <br></td></tr><tr><td>  Phonegap <br></td><td>  2.2.0 <br></td><td>  157 <br></td></tr><tr><td>  Adobe AIR <br></td><td>  3.5.0.60 <br></td><td>  158 <br></td></tr><tr><td>  Dolphin <br></td><td>  9.0.3 <br></td><td>  157 <br></td></tr></tbody></table><br>  <i><b>Now clearer:</b></i> <br><img src="http://habrastorage.org/storage2/81d/8f9/bd8/81d8f9bd86652f27ae325d27bb8db904.png" alt="Android browser performance chart"><br><br><h3>  Conclusion: </h3><br>  As you can see the opera hacked js performance at the root.  Next comes ff, then the standard android browser, almost the same performance in PhoneGap and Adobe AIR, which is not surprising because they use the same WebKit. <br>  Whoever doubted chrome in the first place, it turned out to be twice as fast as the standard browser, which doesn‚Äôt fit a bit in my head, because they both use WebKit. <br>  I agree that such a simple indicator is not very informative, and is unable to fully display how real games will behave in these browsers, but the first step has been taken, and then everything will be just more interesting. <br><br><h3>  Update: </h3><br>  At the request of the workers, Dolphin was added, as we see all the WebKit chap gives out almost the same figures. </div><p>Source: <a href="https://habr.com/ru/post/162107/">https://habr.com/ru/post/162107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../162095/index.html">Answers Minister of Communications to the questions of users: part 1</a></li>
<li><a href="../162097/index.html">Far Cry 3 video review</a></li>
<li><a href="../162101/index.html">This country can not be defeated. Post of Russia</a></li>
<li><a href="../162103/index.html">2013: Countdown to Rails 4</a></li>
<li><a href="../162105/index.html">Second order virtualization</a></li>
<li><a href="../162109/index.html">MegaCloud - alternative to Dropbox</a></li>
<li><a href="../162115/index.html">Revel - a high-performance web framework in the language of Go</a></li>
<li><a href="../162117/index.html">Channel One goes to HD</a></li>
<li><a href="../162121/index.html">How much does it cost to create an application or the whole truth about money</a></li>
<li><a href="../162123/index.html">Copyright history. Part 4: US and Libraries</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>