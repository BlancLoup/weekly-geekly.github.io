<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>KodiCMS - CMS on the Kohana framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, on Habr√© already for 6 years and only now decided to write my first post, although I am still not sure that this is a good idea. 

 Fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>KodiCMS - CMS on the Kohana framework</h1><div class="post__text post__text-html js-mediator-article">  Hello everyone, on Habr√© already for 6 years and only now decided to write my first post, although I am still not sure that this is a good idea. <br><br><h2>  Foreword </h2><br>  For more than 6 years I have been developing web applications, starting with <i>layout</i> , <i>javascript</i> , <i>php</i> , <i>python</i> , etc., in general, for all the time I went through all the stages of creating a website from design in photoshop and ending with creating a full-fledged website. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Decision on your bike </h3><br>  In 2012, I was tired of using third-party CMS, some had a poor API, others had problems with the flexibility of templates, in general, each system took a lot of time to develop modules and I had the idea to create my own bike, although it is even more hemorrhoids, but in it I I can do everything as I like, programmer. <br><br>  It was decided not to write from scratch, but to take as a basis the example of the implementation of modules from different CMS, which, it seemed to me, effectively cope with their task, as well as popular ready-made libraries, well, here is a list of what was included in the system: <br><ol><li>  WolfCMS (Modules: pages, templates, snippets, settings, plugins, users) </li><li>  FlexoCMS (javascript, loading pages) </li><li>  OpenConstructor (Datasource module, Hybrid data (analog information blocks in Bitrix), organization of templates, widgets) </li><li>  Kohana framework as core </li><li>  Twitter Bootstrap as UI </li><li>  FontAwesome </li><li>  Ace as a code editor </li><li>  elFinder as a file manager </li><li>  Select2 for drop-down lists </li><li>  Fancybox for popup windows </li><li>  jQuery UI </li><li>  Dropzone </li><li>  jQuery Nestable to sort the page tree </li><li>  Backbone (Used in the list of plugins and for parts of pages) </li><li>  RedactorJS (free version) as a text editor </li></ol><br><br>  <b>Well, a small list of difficulties that had to face for 2 years of developing the system alone:</b> <br><ul><li>  <b>Updating the kohana framework</b> to the latest versions and catching related bugs.  As a result, PSR-0 had to be abandoned, due to the difficulty of correcting the names of all classes and the names of their files.  It does not give me rest to this day. </li><li>  In 2014, the <b>third version of Twitter Bootstrap was released</b> , I took a long time to last, but I still collected my strength and spent a week updating the HTML code of all the site templates for the latest version, the same goes for all the Font-Awesome icons, which changed syntax.  This is all long and tedious. </li><li>  <b>Layout of templates</b> is the most <b>unloved</b> thing for me and in this connection the development of the system has sometimes been inhibited, since  Sometimes I had to force myself to impose HTML pages on the interface and write JavaScript for it. </li><li>  <b>The creative crisis</b> also visited me once in half a year and wanted to abandon the project. </li><li>  <b>Website creation for CMS.</b>  Due to the fact that I am developing one system, there is no extra money for the development of the OpenSource project and I had to force myself to make a website for my own system, which, as far as I remember, went through two designs for which $ 20 was spent and a lot time to write content, etc., which is already outdated ... I <i>completely forgot about translating the site into English, which I did as well, the translation is terrible and I try once again not to think about how bad it is, but this is better than nothing .</i> </li><li>  <b>Creating a demo site.</b>  The first version of the demo site was super simple, it showed only a small part of all the possibilities, and due to the lack of time to redo it, he lived a very long time.  This year a new version of the demo site was released, a template for $ 5 was also bought for it and most of the system features were implemented. </li><li>  System update.  Until now, the problem with updating the database system and structure has not been solved.  At the moment, this is partially resolved as follows. The Github API retrieves the system file tree and compares the size of each file, as well as comparing the local CMS version and the version number specified on the github, which helps the user to learn about the release of the new version, the database update module also produces monitoring changes in structure and in case of discrepancies helps to fix. </li><li>  Several silent videos were recorded that would help new users navigate the system. </li></ul><br><br><h3>  About the system </h3><br>  And now I want to introduce my OpenSource system to you - <b><a href="http://www.kodicms.ru/">KodiCMS</a></b> , which turned <b>2 years old</b> on August 15, during this time <b>2175 commits</b> were made, <b>250 issue was</b> closed, although many were created by me, work on the system continues today. <br><br> <a href=""><img src="https://habrastorage.org/files/ca8/dc5/43d/ca8dc543d0d640b5b3aa634b23275551.png"></a> <br><br><h5>  <b>Key features:</b> </h5><br><ul><li>  Kohana framework core </li><li>  Backend UI based on Twitter Bootstrap 3.2.0 and PixelAdmin themes </li><li>  Dashboard with the ability to create widgets </li><li>  Expansion with plugins </li><li>  Modularity </li><li>  Using Observer to extend basic functionality </li><li>  Handling erroneous URLs.  (If the visitor made a URL error, most likely he will not receive in response: Page not found) </li><li>  Widgets </li><li>  File manager elFinder </li><li>  Ace Visual Editor </li><li>  Differentiation of rights for users (ACL) </li><li>  Integration with soc.  by networks </li><li>  Mail Templates and Events for Email Notifications </li><li>  Running tasks on a schedule </li><li>  Installer </li><li>  REST API </li><li>  Caching (file, sqlite, apc, memcache, mongodb) </li><li>  Ability to select the session storage location (native, cookie, database) </li><li>  Creating your own sections (News, Articles, etc.) </li></ul><br><br>  Unfortunately, the bottleneck of the system is documentation, it is there, but it is very small (https://github.com/butschster/kodicms/wiki) and the creation of this laborious process, which I don‚Äôt have to pull, and the system‚Äôs capabilities know a lot.  :( <br><br><h4>  <b>System structure</b> </h4><br>  Developing a CMS, I tried to change the code of the kohana core as little as possible, or rather not even the system folder is not touched completely, some classes were expanded through modules and refined, but in fact it is Kohana version 3.3.2. <br>  The system is divided into modules and plug-ins, the original idea was to realize the connection of the modules to each other through Observer's, in practice 70% of the modules and plug-ins work through them, which allows you to safely disconnect part of the modules, I myself have not tried to do it, but I hope that it is. <br><br><h4>  <b>API</b> </h4><br>  The system has a full-fledged API that supports GET, POST, PUT, DELET requests via ajax and directly, has its own URl structure, access to it is allowed through the backend, or through the frontend with a unique key.  The API is also implemented through controllers and actions.  A little about him can be found <a href="https://github.com/butschster/kodicms/wiki/API">here</a> . <br><br>  Frontend works through the route, which is called the most recent, at the time of its call to the database, the pages are searched by url and the current page is output, all requests are cached by key and by tag. <br><br><h4>  <b>Caching</b> </h4><br>  CMS uses the kohana module - Cache for data caching.  All cache types support caching tags.  The system caches most requests: <br><ul><li>  Download page </li><li>  Configs </li><li>  Widgets </li><li>  Snipples </li><li>  User meta info </li><li>  Table structure in ORM </li></ul><br><br><h4>  <b>Plugins</b> </h4><br>  The system is expanded with plugins, but the plug-in for the system is the same module, only it is located in the plugins folder and is connected only after activation via the admin panel, but this is a full-featured kohana module, except that it has, in addition to the init.php file frontend.php and backend.php, in which you can include additional code that must be executed in a particular environment. <br><br> <a href=""><img src="https://habrastorage.org/files/28e/fe2/777/28efe277748d4070b77d4d1948afabf4.jpg"></a> <br><br>  In general, this is only the beginning, there are also Mail templates and events, task execution through the kohana module - Minion, but settings via the admin panel, hybrid data, dashboard, configs, user meta data, etc.  And I really want to tell everyone about it and show how it all works. <br><br>  For familiarization with the system there is a demo site: <a href="http://demo.kodicms.ru/">demo.kodicms.ru</a> , please do not break the site, because  others will not be able to see it. <br>  <a href="http://www.youtube.com/channel/UCgZ25N9C1F8uoTXZZK55mqQ">Youtube channel</a> <br>  Project repository: <a href="https://github.com/butschster/kodicms">github.com/butschster/kodicms</a> , the latest updates in the <b>dev</b> branch, there is also a <i>unittest</i> branch in which the first tests appear, but again not enough for all the time.  <b>Join the development;)</b> <br><br>  In general, test, use, send your ideas for development and improvement in any form, issue, pull-request, PM, skype, <a href="http://www.kodicms.ru/forum">forum</a> , comment <br><br>  Thanks for attention. <br><br>  Upd.  Thanks to Habrahabr for the company blog. </div><p>Source: <a href="https://habr.com/ru/post/240665/">https://habr.com/ru/post/240665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240651/index.html">Arduino at home, at work, in the car</a></li>
<li><a href="../240655/index.html">Viruses. Viruses? Viruses! Part 2</a></li>
<li><a href="../240657/index.html">Azure Website Testing in Production</a></li>
<li><a href="../240661/index.html">Lumia SensorCore SDK out of beta testing</a></li>
<li><a href="../240663/index.html">Buddhist information architecture (interview with Peter Morville)</a></li>
<li><a href="../240667/index.html">Lollipop for the whole Z-series!</a></li>
<li><a href="../240675/index.html">The court rejected a defense claim that the FBI illegally hacked Silk Road</a></li>
<li><a href="../240677/index.html">Indoor Weather Station on Arduino</a></li>
<li><a href="../240679/index.html">Our rake in preparing a hardcore conference</a></li>
<li><a href="../240681/index.html">My cards on leaflet.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>