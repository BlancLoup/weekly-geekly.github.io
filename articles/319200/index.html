<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Python: collections, part 2/4: indexing, slicing, sorting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Part 1  Part 2  Part 3  Part 4  This article is a continuation of my article " Python: collections, part 1: classification, general approaches and met...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Python: collections, part 2/4: indexing, slicing, sorting</h1><div class="post__text post__text-html js-mediator-article"><table><tbody><tr><th>  <a href="https://habrahabr.ru/post/319164/" title="Python: collections, part 1/4: classification, general approaches and methods, conversion">Part 1</a> </th><th>  Part 2 </th><th>  <a href="https://habrahabr.ru/post/319876/" title="Python: collections, part 3/4: combining collections, adding and removing items">Part 3</a> </th><th>  <a href="https://habrahabr.ru/post/320288/" title="Python: collections, part 4/4: All about expression-generators, list generators, sets and dictionaries">Part 4</a> </th></tr></tbody></table><img src="https://habrastorage.org/files/ef4/f9e/a20/ef4f9ea203604aadb56748e7305def0e.png" alt="image" width="250" align="left">  This article is a continuation of my article " <a href="https://habrahabr.ru/post/319164/">Python: collections, part 1: classification, general approaches and methods, conversion</a> ". <br><br>  In this article, we will continue to learn the general principles of working with standard collections (the collections module is not covered in it) Python. <br><br>  <b>For whom:</b> for Python learners who already have an initial understanding of the collections and work with them, who want to systematize and deepen their knowledge, put them into a coherent picture. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  TABLE OF CONTENTS: </h4><br><ol><li>  Indexing </li><li>  <a href="https://habr.com/ru/post/319200/">Slices</a> </li><li>  <a href="https://habr.com/ru/post/319200/">Sorting</a> </li></ol><a name="habracut"></a><br><h2>  1. Indexing </h2><br><h3>  1.1 Indexed Collections </h3><br>  Consider indexed collections (they are also called sequences - sequences) - a list (list), a tuple (tuple), a string (string). <br><br>  Under indexing is meant that the elements of the collection are arranged in a certain order, each element has its own index from 0 (that is, the first element has an index not 1 but 0) up to an index one less than the length of the collection (ie len (mycollection )-one). <br><br><h3>  1.2 Getting the value by index </h3><br>  For all indexed collections, you can get the value of an element by its index in square brackets.  Moreover, you can set a negative index, which means that we will find the element from the end, counting the reverse order. <br><br>  When specifying a negative index, the last element has index -1, the penultimate -2 and so on until the first element whose index is equal to the length of the collection with a negative sign, that is (-len (mycollection). <br><table><tbody><tr><th>  items </th><th>  a </th><th>  b </th><th>  c </th><th>  d </th><th>  e </th></tr><tr><th>  indexes </th><th>  0 (-5) </th><th>  14) </th><th>  2 (-3) </th><th>  3 (-2) </th><th>  4 (-1) </th></tr></tbody></table><pre><code class="python hljs">my_str = <span class="hljs-string"><span class="hljs-string">"abcde"</span></span> print(my_str[<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># a -   print(my_str[-1]) # e -   print(my_str[len(my_str)-1]) # e -       print(my_str[-2]) # d -  </span></span></code> </pre> <br>  Our collections can have several levels of nesting, like the list of lists in the example below.  To go deeper, a second pair of square brackets is placed, and so on. <br><br><pre> <code class="python hljs">my_2lvl_list = [[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>]] print(my_2lvl_list[<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># [1, 2, 3] -   ‚Äî    print(my_2lvl_list[0][0]) # 1 ‚Äî      print(my_2lvl_list[1][-1]) #  ‚Äî     </span></span></code> </pre><br><h3>  1.3 Changing the list item by index </h3><br>  Since the tuples and strings are immutable collections, we can only take elements by index, but not change them: <br><br><pre> <code class="python hljs">my_tuple = (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) print(my_tuple[<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># 1 my_tuple[0] = 100 # TypeError: 'tuple' object does not support item assignment</span></span></code> </pre><br>  But for the list, if taking an element by index is located on the left side of the expression, and then comes the assignment operator =, then we set the new value to the element with this index. <br><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>]] my_list[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">10</span></span> my_list[<span class="hljs-number"><span class="hljs-number">-1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">40</span></span> print(my_list) <span class="hljs-comment"><span class="hljs-comment"># [10, 2, 3, [40, 5]]</span></span></code> </pre><br>  UPD: Note: For such an assignment, the item must already exist in the list, you cannot thus add an item to a nonexistent index. <br><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] my_list[<span class="hljs-number"><span class="hljs-number">5</span></span>] = <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-comment"><span class="hljs-comment"># IndexError: list assignment index out of range</span></span></code> </pre><br><br><h2><a name="2"></a>  2 slices </h2><br><h3>  2.1 Slice Syntax </h3><br>  Very often, you need to get more than one element, and some of their set is limited to certain simple rules - for example, the first 5 or last three, or every second element - in such tasks, instead of iterating through the loop, it is much more convenient to use the so-called slice (slice slicing). <br><br>  It should be remembered that by taking an element by index or slice, we do not change the original collection, we simply copied a part of it for further use (for example, adding it to another collection, printing, some calculations).  Since the collection itself does not change - this applies to both mutable (list) and immutable (string, tuple) sequences. <br><br>  The slice syntax is similar to that for indexing, but in square brackets instead of a single value, 2-3 is indicated with a colon: <br><br><pre> <code class="python hljs">my_collection[start:stop:step] <span class="hljs-comment"><span class="hljs-comment"># ,   </span></span></code> </pre> <br><h4>  Features of the cut: </h4><br><ul><li>  Negative start and stop values ‚Äã‚Äãmean that it is necessary to count not from the beginning, but from the end of the collection. </li><li>  Negative step value - we iterate in the reverse order from right to left. </li><li>  If the start is not specified <b>[: stop: step]</b> - we start from the very edge of the collection, that is, from the first element (including it), if the step is positive or from the last element (including it), if the step is negative (and therefore the search goes from end to beginning ). </li><li>  If stop is not specified <b>[start :: step]</b> - go to the very edge of the collection, that is, to the last element (including it), if the step is positive or to the first element (including it), if the step is negative (and therefore the search goes from the end to the beginning). </li><li>  step = 1, that is, a sequential search from left to right is not necessary to specify - this is the default step value.  In this case, it suffices to specify <b>[start: stop]</b> </li><li>  You can even do this <b>[:]</b> - this means taking the entire collection </li><li>  <b>IMPORTANT</b> : <b><i>When cut, the first index is included in the sample, and the second is not!</i></b> <br>  That is, from the start, inclusive, to the stop, where the stop is not included in the result.  Mathematically, this could be written as [start, stop) or explained by the following rule: <br><pre> <code class="python hljs">[ &lt; &gt; : &lt;  &gt; : &lt;&gt; ]</code> </pre> <br>  Therefore, for example, mylist [:: - 1] is not identical to mylist [: 0: -1], since in the first case we will include all elements, and in the second we will go to 0 index, but we will not include it! </li></ul><br><h4>  Examples of slices in the form of a table: </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ef4/f9e/a20/ef4f9ea203604aadb56748e7305def0e.png" alt="image"></div><br><div class="spoiler">  <b class="spoiler_title">Code of examples from the table</b> <div class="spoiler_text"><pre> <code class="python hljs">col = <span class="hljs-string"><span class="hljs-string">'abcdefg'</span></span> print(col[:]) <span class="hljs-comment"><span class="hljs-comment"># abcdefg print(col[::-1]) # gfedcba print(col[::2]) # aceg print(col[1::2]) # bdf print(col[:1]) # a print(col[-1:]) # g print(col[3:4]) # d print(col[-3:]) # efg print(col[-3:1:-1]) # edc print(col[2:5]) # cde</span></span></code> </pre> </div></div><br><h3>  2.2.  Named slices </h3><br>  To get rid of the "magic constants", especially in the case when the same slice must be used repeatedly, you can set constants with named slices using the special function <b>slice ()</b> () <br><br>  Note: Non does not correspond to the omitted default value.  That is, [: 2] becomes slice (None, 2), and [1 :: 2] becomes slice (1, None, 2). <br><br><pre> <code class="python hljs">person = (<span class="hljs-string"><span class="hljs-string">'Alex'</span></span>, <span class="hljs-string"><span class="hljs-string">'Smith'</span></span>, <span class="hljs-string"><span class="hljs-string">"May"</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">1980</span></span>) NAME, BIRTHDAY = slice(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), slice(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) <span class="hljs-comment"><span class="hljs-comment">#     #         print(person[NAME]) # ('Alex', 'Smith') print(person[BIRTHDAY]) # ('May', 10, 1980)</span></span></code> </pre><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>] EVEN = slice(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) print(my_list[EVEN]) <span class="hljs-comment"><span class="hljs-comment"># [2, 4, 6]</span></span></code> </pre><br><h3>  2.3 Changing the list with a slice </h3><br>  The important point on which attention is not always focused is that with the help of a slice you can not only get a copy of the collection, but in the case of a list you can also change the values ‚Äã‚Äãof the elements, delete and add new ones. <br><br><h4>  We illustrate this with examples below: </h4><br><ul><li>  Even if we want to add one element, we need to pass an iterated object, otherwise there will be a TypeError error: can only assign an iterable <br><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] <span class="hljs-comment"><span class="hljs-comment"># my_list[1:2] = 20 # TypeError: can only assign an iterable my_list[1:2] = [20] #     print(my_list) # [1, 20, 3, 4, 5]</span></span></code> </pre><br></li><li>  You can use a slice to insert single elements, the code for the examples is below, but I do not recommend it, since this syntax is worse to read.  It is better to use the list methods .append () and .insert (): <br><br><div class="spoiler">  <b class="spoiler_title">Slice analogues .append () and insert ()</b> <div class="spoiler_text"><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] my_list[<span class="hljs-number"><span class="hljs-number">5</span></span>:] = [<span class="hljs-number"><span class="hljs-number">6</span></span>] <span class="hljs-comment"><span class="hljs-comment">#    ‚Äî   .append(6) print(my_list) # [1, 2, 3, 4, 5, 6] my_list[0:0] = [0] #    ‚Äî   .insert(0, 0) print(my_list) # [0, 1, 2, 3, 4, 5, 6] my_list[3:3] = [25] #    ‚Äî   .insert(3, 25) print(my_list) # [0, 1, 2, 25, 3, 4, 5, 6]</span></span></code> </pre></div></div><br></li><li>  You can change parts of the sequence - this application looks the most interesting, since it solves the problem simply and clearly. <br><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] my_list[<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>] = [<span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>] print(my_list) <span class="hljs-comment"><span class="hljs-comment"># [1, 20, 30, 4, 5] my_list[1:3] = [0] #        print(my_list) # [1, 0, 4, 5] my_list[2:] = [40, 50, 60] #      print(my_list) # [1, 0, 40, 50, 60]</span></span></code> </pre><br></li><li>  You can simply delete part of the sequence. <br><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] my_list[:<span class="hljs-number"><span class="hljs-number">2</span></span>] = [] <span class="hljs-comment"><span class="hljs-comment">#  del my_list[:2] print(my_list) # [3, 4, 5]</span></span></code> </pre></li></ul><br><h3>  2.4 Going beyond the index </h3><br>  Addressing by index is essentially a special case of a slice, when we refer to only one element, and not a range.  But there is a very important difference in handling the situation with the missing element with the desired index. <br><br>  Accessing a non-existent collection index causes an error: <br><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] print(my_list[<span class="hljs-number"><span class="hljs-number">-10</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># IndexError: list index out of range print(my_list[10]) # IndexError: list index out of range</span></span></code> </pre><br>  And if the cut boundaries extend beyond the boundaries of the collection, no error occurs: <br><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] print(my_list[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># [1, 2, 3, 4, 5] ‚Äî     print(my_list[10:100]) # [] -    ‚Äî    print(my_list[10:11]) # [] -  1   -  ,  </span></span></code> </pre><br><br>  <b>Note</b> : For those cases when the slice functional is not enough and more complex samples are required, you can use the syntax of expression-generators, which are discussed in <a href="https://habrahabr.ru/post/320288/">article 4 of the cycle</a> . <br><br><h2><a name="3"></a>  3 Sorting collection items </h2><br>  Sorting elements of the collection is an important and demanded function that is constantly encountered in ordinary tasks.  There are several features that are not always focused on, but which are very important. <br><br><h3>  3.1 <b>sorted</b> function () </h3><br>  We can use the sorted () function to list the sorted elements of any collection for further processing or output. <br><br><ul><li>  the function does not change the original collection, but returns a new list of its elements; <br></li><li>  regardless of the type of the original collection, the list (list) of its elements will be returned; <br></li><li>  since it does not change the original collection, it can be applied to immutable collections; <br></li><li>  Since when sorting returned items, it doesn‚Äôt matter to us whether the item had a certain index in the original collection, it can be applied to non-indexed collections; <br></li><li>  It has additional optional arguments: <br>  <b>reverse = true</b> - sort in reverse order <br>  <b>key = funcname</b> (starting with Python 2.4) - sorting using the special function funcname, it can be either a standard Python function, or a function that you have specially written for a given task and a lambda. </li></ul><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] my_list_sorted = sorted(my_list) print(my_list_sorted) <span class="hljs-comment"><span class="hljs-comment"># [1, 2, 3, 5, 7] my_set = {2, 5, 1, 7, 3} my_set_sorted = sorted(my_set, reverse=True) print(my_set_sorted) # [7, 5, 3, 2, 1]</span></span></code> </pre><br>  An example of sorting the list of strings by the length len () of each element: <br><br><pre> <code class="python hljs">my_files = [<span class="hljs-string"><span class="hljs-string">'somecat.jpg'</span></span>, <span class="hljs-string"><span class="hljs-string">'pc.png'</span></span>, <span class="hljs-string"><span class="hljs-string">'apple.bmp'</span></span>, <span class="hljs-string"><span class="hljs-string">'mydog.gif'</span></span>] my_files_sorted = sorted(my_files, key=len) print(my_files_sorted) <span class="hljs-comment"><span class="hljs-comment"># ['pc.png', 'apple.bmp', 'mydog.gif', 'somecat.jpg']</span></span></code> </pre><br><h3>  3.2 <b>reversed</b> () function </h3><br>  The reversed () function is used for sequences and works differently: <br><br><ul><li>  returns a list generator, not the list itself; <br></li><li>  if you want to get not a generator, but a ready list, you can wrap the result in list () or use the slice [:: -1] instead of reversed (); <br></li><li>  it <b>does not sort the</b> elements, but returns them in reverse order, that is, reads from the end of the list; <br></li><li>  from the previous paragraph, it is clear that if we have a non-indexed collection - we cannot derive its elements in the reverse order and this function does not apply to such collections - we get ‚ÄúTypeError: argument to reversed () must be a sequence‚Äù; <br></li><li>  does not allow the use of additional arguments - there will be an error "TypeError: reversed () does not take keyword arguments". </li></ul><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] my_list_sorted = reversed(my_list) print(my_list_sorted) <span class="hljs-comment"><span class="hljs-comment"># &lt;listreverseiterator object at 0x7f8982121450&gt; print(list(my_list_sorted)) # [3, 7, 1, 5, 2] print(my_list[::-1]) # [3, 7, 1, 5, 2] -      </span></span></code> </pre> <br><h3>  3.3 List methods.  <b>sort</b> () and.  <b>reverse</b> () </h3><br>  The list (and only it) has special methods .sort () and .reverse () which do the same thing as the corresponding sorted () and reversed () functions, but at the same time: <br><br><ul><li>  They change the original list itself, and do not generate a new one; <br></li><li>  Return None, not a new list; <br></li><li>  support the same additional arguments; <br></li><li>  they do not need to pass the list itself as the first parameter; moreover, if you do this - there will be an error - an incorrect number of arguments. </li></ul><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] my_list.sort() print(my_list) <span class="hljs-comment"><span class="hljs-comment"># [1, 2, 3, 5, 7]</span></span></code> </pre><br>  <b>Note: This is a</b> common mistake of beginners, which is not an error for the interpreter, but does not lead to the result that they want to get. <br><br><pre> <code class="python hljs">my_list = [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] my_list = my_list.sort() print(my_list) <span class="hljs-comment"><span class="hljs-comment"># None</span></span></code> </pre><br><h3>  3.4 Features of dictionary sorting </h3><br>  Sorting the dictionary has its own characteristics, due to the fact that the dictionary element is a pair of key: value. <br><br>  UPD: Also, do not forget that speaking of the sorting of the dictionary, we mean the sorting of the data obtained from the dictionary for output or save to an indexed collection.  Saving data in the standard dictionary itself will not work; they are in it, like other non-indexed collections, in random order. <br><br><ul><li>  sorted (my_dict) - when we pass a dictionary to the sorting function without calling its additional methods - only the keys are searched, the sorted list of keys is returned to us; </li><li>  sorted (my_dict. <b>keys</b> ()) - the same result as in the previous example, but spelled out more explicitly; </li><li>  sorted (my_dict. <b>items</b> ()) - returns a sorted list of tuples (key, value) sorted by key; </li><li>  sorted (my_dict. <b>values</b> ()) - returns a sorted list of values </li></ul><br><pre> <code class="python hljs">my_dict = {<span class="hljs-string"><span class="hljs-string">'a'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'f'</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'d'</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>} mysorted = sorted(my_dict) print(mysorted) <span class="hljs-comment"><span class="hljs-comment"># ['a', 'b', 'c', 'd', 'e', 'f'] mysorted = sorted(my_dict.items()) print(mysorted) # [('a', 1), ('b', 2), ('c', 3), ('d', 4), ('e', 5), ('f', 6)] mysorted = sorted(my_dict.values()) print(mysorted) # [1, 2, 3, 4, 5, 6]</span></span></code> </pre><br>  Separate difficulties can be caused by <b>sorting the dictionary</b> not by keys, but <b>by values</b> , if we do not just need a list of values, and it is to output pairs in the sort order by value. <br><br>  To solve this problem, as a special sorting function, you can pass the lambda function <b>lambda x: x [1]</b> which of the tuples obtained at each stage (key, value) will be taken to sort the second element of the tuple. <br><br><pre> <code class="python hljs">population = {<span class="hljs-string"><span class="hljs-string">"Shanghai"</span></span>: <span class="hljs-number"><span class="hljs-number">24256800</span></span>, <span class="hljs-string"><span class="hljs-string">"Karachi"</span></span>: <span class="hljs-number"><span class="hljs-number">23500000</span></span>, <span class="hljs-string"><span class="hljs-string">"Beijing"</span></span>: <span class="hljs-number"><span class="hljs-number">21516000</span></span>, <span class="hljs-string"><span class="hljs-string">"Delhi"</span></span>: <span class="hljs-number"><span class="hljs-number">16787941</span></span>} <span class="hljs-comment"><span class="hljs-comment">#    : population_sorted = sorted(population.items(), key=lambda x: x[1]) print(population_sorted) # [('Delhi', 16787941), ('Beijing', 21516000), ('Karachi', 23500000), ('Shanghai', 24256800)]</span></span></code> </pre><br><br><h3>  UPD by <a href="https://habr.com/en/users/shashkovs/" class="user_link">ShashkovS</a> : 3.5 Additional information on using the key parameter when sorting </h3><br>  Suppose we have a list of tuples of names of parts and their values. <br>  We need to sort it first by the name of the parts, and the same parts in descending price. <br><br><pre> <code class="python hljs">shop = [(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">1200</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">300</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">1500</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">12000</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">2000</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">2700</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepare_item</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(item)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (item[<span class="hljs-number"><span class="hljs-number">0</span></span>], -item[<span class="hljs-number"><span class="hljs-number">1</span></span>]) shop.sort(key=prepare_item)</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Sort result</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> det, price <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> shop: print(<span class="hljs-string"><span class="hljs-string">'{:&lt;10} : {:&gt;5}.'</span></span>.format(det, price)) <span class="hljs-comment"><span class="hljs-comment">#  : 1200. #  : 2000. #  : 100. #  : 12000. #  : 2700. #  : 1500. #  : 300. #  : 1000. #  : 200.</span></span></code> </pre></div></div><br>  Before comparing two elements of the list, the prepare_item function was applied to them, which changed the sign of the cost (the function is applied exactly once to each element. As a result, with the same first value, the sorting by the second occurred in the reverse order. <br><br>  In order not to produce utilitarian functions, instead of using a third-party function, the same effect can be achieved using the lambda function. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#      shop.sort(key=lambda x: (x[0], -x[1]))</span></span></code> </pre> <br>  Additional details and examples of using the key parameter: <br><ul><li>  <a href="https://wiki.python.org/moin/HowTo/Sorting">wiki.python.org/moin/HowTo/Sorting#Key_Functions</a> (in English). </li><li>  <a href="https://habrahabr.ru/post/319200/">habrahabr.ru/post/319200/#comment_10011882</a> - another comment with a detailed example of <a href="https://habr.com/en/users/shashkovs/" class="user_link">ShashkovS</a> to this article </li></ul><br><h3>  UPD by <a href="https://habr.com/en/users/shashkovs/" class="user_link">ShashkovS</a> : 3.6 Stability Sort </h3><br>  Suppose you need to sort the data first by column A in ascending order, then in column B in descending order, and finally in column C again in ascending order. <br><br>  If the data in column B is numeric, then using the appropriate function in the key, you can change the sign of the elements of B, which will lead to the desired result. <br>  And if all the data text?  There is such an opportunity. <br>  The fact is that sorting sorting in Python is stable (since Python 2.2), that is, it does not change the order of ‚Äúidentical‚Äù elements. <br><br>  Therefore, you can simply sort three times according to different keys: <br><pre> <code class="python hljs">data.sort(key=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[<span class="hljs-string"><span class="hljs-string">'C'</span></span>]) data.sort(key=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[<span class="hljs-string"><span class="hljs-string">'B'</span></span>], reverse=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) data.sort(key=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[<span class="hljs-string"><span class="hljs-string">''</span></span>])</code> </pre><br>  More information on sorting resilience and examples: <a href="https://wiki.python.org/moin/HowTo/Sorting">wiki.python.org/moin/HowTo/Sorting#Sort_Stability_and_Complex_Sorts</a> (in English). <table><tbody><tr><th>  <a href="https://habrahabr.ru/post/319164/" title="Python: collections, part 1/4: classification, general approaches and methods, conversion">Part 1</a> </th><th>  Part 2 </th><th>  <a href="https://habrahabr.ru/post/319876/" title="Python: collections, part 3/4: combining collections, adding and removing items">Part 3</a> </th><th>  <a href="https://habrahabr.ru/post/320288/" title="Python: collections, part 4/4: All about expression-generators, list generators, sets and dictionaries">Part 4</a> </th></tr></tbody></table><h4>  I invite you to discuss: </h4><br><ul><li>  If I somewhere made an inaccuracy or did not take into account something important - write in the comments, important comments will later be added to the article indicating your authorship. </li><li>  If some points are not clear and clarification is required - write your questions in the comments - or I or other readers will give an answer, and efficient questions with answers will be later added to the article. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/319200/">https://habr.com/ru/post/319200/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319186/index.html">Hackers attack MongoDB: the number of compromised systems has exceeded 27,000</a></li>
<li><a href="../319190/index.html">Atlassian buys Trello for $ 425 million</a></li>
<li><a href="../319194/index.html">Increase code performance: think first about data</a></li>
<li><a href="../319196/index.html">How does the language support service for 1237 Russian IT engineers work, and how does this differ from conventional translation?</a></li>
<li><a href="../319198/index.html">The history of the development of Tower Defense for VK and Android</a></li>
<li><a href="../319202/index.html">Pure Python Architecture: A Walkthrough. Part 2</a></li>
<li><a href="../319204/index.html">VulnHub: Parse the shortest quest DC416 Fortress</a></li>
<li><a href="../319208/index.html">Learn ActionBlock: or a short story about otherwise deadlock</a></li>
<li><a href="../319210/index.html">Bitrix Start Performance on Proxmox and Virtuozzo 7 & Virtuozzo Storage</a></li>
<li><a href="../319212/index.html">"IT infrastructure": Where we go with the "cloud" in 2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>