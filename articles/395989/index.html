<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Water leakage protection based on the Smart Home Plugmee system</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Technique will reach such perfection that a person can do without himself."  Stanislav Jerzy Lec 

 Part one. Leakage control 
 I will say right away...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Water leakage protection based on the Smart Home Plugmee system</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  "Technique will reach such perfection that a person can do without himself." </blockquote>  Stanislav Jerzy Lec <br><br><h4>  Part one.  Leakage control </h4><br>  I will say right away, I am not good at electronics and photography.  Therefore, all schemes and photos are made ‚Äúon the knee‚Äù.  But with a soul. <br><br><h4>  At first it was ... </h4><br>  The desire to translate into reality the smart home has always soared somewhere nearby.  But all the solutions out of the box, presented on the market "heavenly", seemed flawed.  Others frightened off the price.  And now, a few years ago, I had the opportunity to realize what I wanted to the full and for how much strength I have.  The combination of programming, artificial intelligence and a piece of iron still make the heart beat a little faster.  Smart home Plugmee fully implemented my need for programming and managing hardware.  We didn‚Äôt have to wield a soldering iron, the whole system works by radio. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  purpose </h4><br>  The first time I was faced with the consequences of a water ‚Äúelement‚Äù on the part of the victim without the ability to influence the situation, watching water dripping from the ceiling.  Then there were breaks of household filter connections after night pressure surges, siphon leaks under sinks and bathrooms, constant attempts of the washing machine to rebel and to capture the world with foam.  But now I learned to control what happens in my house. <br><br><h4>  And that's how it happened.  Components Used </h4><br><ol><li>  A couple of hours of free time </li><li>  <a href="http://plugmee.com/ru/%25D0%25BA%25D0%25BE%25D0%25BD%25D1%2582%25D1%2580%25D0%25BE%25D0%25BB%25D0%25BB%25D0%25B5%25D1%2580-%25D1%2583%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B3%25D0%25BE-%25D0%25B4%25D0%25BE%25D0%25BC%25D0%25B0-plugmee">Plugmee Smart Home Controller</a> </li><li>  System Management and Control Software - <a href="http://plugmee.com/ru/%25D0%25B2%25D0%25B5%25D0%25B1-%25D0%25BF%25D0%25B0%25D0%25BD%25D0%25B5%25D0%25BB%25D1%258C-plugmee/">Plugmee Web Panel</a> </li><li>  ¬Ω ‚Äù <a href="http://www.neptun-mcs.ru/catalog/parts/valves_1/krany_sharovye_s_elektroprivodom_bugatti_pro/kran_sharovyy_s_elektroprivodom_bugatti_pro_12v/">Bugatti Ball Valve</a> with 12V Electric Actuator </li><li>  Radio leakage sensor </li><li>  220V radio outlet </li><li>  Radio siren </li><li>  Two power supplies for 12V, power 2A and 0.5A </li><li>  Normally open relay for 12V auto </li><li>  Waterproof IP44 mounting box </li><li>  Wago terminals </li></ol><br><h4>  Scheme and principle of operation </h4><br>  The main component, an electric ball valve, is installed on the cold water inlet to the apartment.  It is powered by a 12V power supply that connects to the main wires.  To close the valve, the third control wire must be connected to the zero phase.  When the control wire is disconnected from ‚Äúzero‚Äù, the tap will open. <br><br>  The power supply unit on 12V 2A will be permanently connected to the 220V network and connected to the electric crane.  The zero phase is connected via controlled relay contacts to the control wire of an electric crane.  A radio outlet will also be connected to the 220V network, which, on a signal from the controller, will supply power to the additional 12V 0.5A power supply unit that controls the relay. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/961/124/133/96112413316513511cbb0cd7dbabca43.png" alt="image"><br><a name="habracut"></a><br><h4>  So let's get started </h4><br>  The basic control component of my system is a radio controlled socket.  You can buy it on Chinese websites, in supermarkets of electronics or construction.  I bought mine in the "Epicenter".  With them in the kit was a universal control panel that is suitable for all other outlets that will be in the house. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/4eb/1d9/f96/4eb1d9f9694a423d1f707bd0c964b4a1.png" alt="image"><br><br>  But to use the outlet to control the tap in this form would be unprofessional.  An external outlet on the wall in the bathroom, into which a radio outlet is inserted, from which a tee with two power supplies protrudes, does not meet the safety requirements!  I want my system to work even if a bucket of water is poured from above.  To do this, it must meet (at least) the level of protection IP44. <br><br>  We disassemble the radio outlet and pull out the control board: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7bc/cf2/cab/7bccf2cabe79d0f50c7b58e3b9af6569.png" alt="image"><br><br>  We apply the same vandalism to power supplies: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/194/76d/207/19476d207cbecaf1ad12d1a2d94ed110.png" alt="image"><br><br>  Now only constructive, I promise.  A new house for our devices will be a waterproof building wiring box.  It will contain all connections and contacts.  Boxes of this type can withstand quite serious conditions.  If you collect everything correctly, of course. <br><br>  Spend a little time re-soldering wires on all boards.  This will allow us to conveniently and securely connect all devices to each other. <br><br>  After that we collect the boards according to the scheme and put them in the box. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/777/37f/856/77737f85660aa036e81753e31591c2f9.png" alt="image"><br><br>  To fix the boards in the box, I used a thermo-gun.  Keeps well, but at any time you can easily disconnect any component. <br><br>  Using a punch and screws, fasten the box to the wall: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7d7/851/9f6/7d78519f60ff234c0934d04bd0474d48.png" alt="image"><br><br>  We start the wire from the electric crane in the box: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/5d8/b11/f7d/5d8b11f7d71e4db32758e7876f0a0d4a.png" alt="image"><br><br>  We connect to the necessary Wago terminals.  Once again, we visually check the correctness and reliability of the connection of all system components.  After that, you can connect 220V and close the box. <br><br>  At the control of the leakage there will be such a Chinese sensor: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/cd3/047/1ab/cd30471ab4be2fe90ed3d1a18fb8640d.png" alt="image"><br><br>  There are a large number of versions of such sensors.  At the price they too can differ essentially.  The <a href="http://plugmee.com/ru">Plugmee</a> system requires devices operating at 433.92 MHz.  I found 4 on aliexpress for $ 12.  I liked these sensors by the presence of a contact board (many simply have two wires sticking out) and an LED indication of battery discharge. <br><br>  Leakage sensors will be placed in areas of increased risk of an uncontrolled flow of water.  To begin, I decided to put 3 sensors: <br><br>  1. Near the reverse osmosis system, under the sink.  There he will be able to control several points at once, including the drain of the dishwasher. <br><br>  2. In the bathroom, in the cabinet of the riser, where there are filters and pass all the pipes. <br><br>  3. Next to the sink and washing machine. <br><br>  In the future, I plan to put a few more sensors: next to the shower tray tray and behind the suspended ceiling, in the place where the floor slab joints, from where the neighboring water was dripping.  But this is the next batch of sensors. <br><br><h4>  Let's move on to the program part. </h4><br>  As you already understood, I will use the <a href="http://plugmee.com/ru">Plugmee</a> platform for device management.  To work with various sensors and devices, the system contains quite convenient components in the form of a web panel, a list of devices and a rule.  This time I will not dwell on the web panel, but I would like to tell you in more detail about the rules and the list of devices. <br><br>  Choosing on the tab ‚ÄúDevices‚Äù we get to the page where all sensors and devices connected to the system are displayed.  Also here you can see and change their status, delete, rename or add a new device. <br><br>  The rules offer automation of the entire system.  They are of three types: event, in schedule, or in value.  Event rules will instantly respond to device status changes.  For example, the triggering of the leakage sensor and, as a result, the overlapping of water, the activation of the motion sensor and the activation of the siren. <br><br>  According to the schedule, it is possible to program switching on the nightlight for a child every day at 23-00 and switching off in the morning at 7-00, or any other event for a certain date or time, with repetitions of time or not.  Turn on the heater when the air temperature falls below a certain value will help the rules in value. <br><br>  Add devices to the system: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/8c2/f57/766/8c2f577666e5fbb184cb31d803cfa8c2.jpg" alt="image"><br><br>  There is!  You can test the performance of the siren and the outlet "without departing from the cash register." The crane closes long enough.  Full closure occurs in 15 seconds.  Someone can say that during this time enough water will flow out and be right.  But the main distinguishing feature of the crane from the valves is the independence of the installed position from the power supply.  In other words, if the crane is closed and something happens with the power supply (for example, a fault has occurred and the machine has triggered), then it will retain its state.  The valve, however, with the loss of power can go to the "default settings". <br><br>  You can use a normally-closed valve.  But in this case it will be difficult to take a bath if for some reason the lights are turned off (it happens sometimes).  Or then you need to think about the UPS for the valve ... <br><br>  Next, create a "Rules" that will handle events from the sensors and control devices. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/5ba/9e3/12e/5ba9e312ee124647815474615cec7acc.jpg" alt="image"><br><br>  Translated into an understandable language, this Rule will sound like this: if the sensor ‚Äúleakage kitchen‚Äù reports activation, then it is necessary: ‚Äã‚Äãturn on the device ‚Äúsocket valve bath‚Äù;  turn on the device ‚Äúsiren‚Äù;  send SMS to the user number;  send a notification to the user's phone. <br><br>  All is ready!  It's time to start the trials. <br><br>  I wonder how the system will respond to a real leak.  I did not have time to install the sensor for the machine in its place.  With him and check. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/bDVYoLOEjA4%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBC_k2RoAa0MMnHE08B2JS6Kvvrw" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Total </h4><br>  I like what happened: compact, neat and quite budget.  It's good that only cold water comes into my apartment, otherwise I would have to duplicate all the components.  It is also a pity that while making repairs I did not put the (electro) tap on the common riser.  In the case of emergency would not have to run into the basement and cut off the common pipe.  And in some cases it is impossible to do.  And the overlap of the riser is sometimes the only chance to influence the situation, even though it is not entirely legal. </div><p>Source: <a href="https://habr.com/ru/post/395989/">https://habr.com/ru/post/395989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../395977/index.html">The semi-annual AnTuTu rating has redeployed places in the 10th leading smartphone</a></li>
<li><a href="../395979/index.html">The future of aviation. Perspective projects of airplanes and helicopters</a></li>
<li><a href="../395983/index.html">Mozilla can get rich after selling Yahoo</a></li>
<li><a href="../395985/index.html">Seminars and hackathons on the ‚ÄúInternet of Things‚Äù: 6LoWPAN and LoRa technologies</a></li>
<li><a href="../395987/index.html">Netherlands Central Bank seeks protection against cyber attacks in transition to blockchain</a></li>
<li><a href="../395991/index.html">How did radio frequency service measure communication quality?</a></li>
<li><a href="../395993/index.html">Dallas police used a robot to kill a man</a></li>
<li><a href="../395995/index.html">The F-35 fighter became the star of the Farnborough Air Show 2016</a></li>
<li><a href="../395997/index.html">Computer facilities of the CMEA countries. Part one. GDR</a></li>
<li><a href="../395999/index.html">Flying cars and passenger drones, 11 modern projects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>