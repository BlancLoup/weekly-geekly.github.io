<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A practical example of using Backbone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article we will discuss the use of Backbone, and in particular, code examples working with the server. This should be a certain intermediate p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A practical example of using Backbone</h1><div class="post__text post__text-html js-mediator-article">  In this article we will discuss the use of Backbone, and in particular, code examples working with the server.  This should be a certain intermediate point in the wanderings of the seeker, because otherwise it is very difficult to start using it, and the probability of abandoning the idea of ‚Äã‚Äãtransition tends to unity. <br><br>  Why do we need this publication?  There have already been articles on the topic, but they affect only very superficially what is written in the documentation, although it would be necessary to show undocumented paths.  That's right: the backbone is not a comprehensive standalone library like Jquery, which you can‚Äôt touch or break.  This library is intended only to build an approximate structure;  we can sculpt from this material what we need.  Once again: there is no point in looking for ready-made patterns, the letter in the letter does not need to be reprinted; it will not help anyway.  You need to learn how to use the tool, and then rush into battle. <br><a name="habracut"></a><br>  So, you crossed the line habrakata.  My goal is not to explain the basic principles of the library, there were already plenty of articles: <br>  <a href="http://habrahabr.ru/blogs/javascript/129928/">habrahabr.ru/blogs/javascript/129928</a> <br>  <a href="http://habrahabr.ru/blogs/javascript/118782/">habrahabr.ru/blogs/javascript/118782</a> <br>  <a href="http://habrahabr.ru/blogs/webdev/123130/">habrahabr.ru/blogs/webdev/123130</a> <br><br>  I note that all three describe the standard use of Backbone, but very rarely do you really need, for example, to use a router.  Or you need to trite to contact the server - and how to do it?  Everyone refers to Backbone.sync, and for some reason nobody provides examples.  Consider the previous sentence one of the main reasons for writing this note.  If you do not agree with him - then you can not read. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's start.  We will write frontend editing notes.  Focus on the scripts, blatantly ignoring both the aesthetic wishes of users and the right of choice: I will test only in chrome.  Links to the example and the code in the archive will be given at the end. <br><br>  What do we need to get started?  Create an empty xhtml page with a standard structure, connect jquery, underscore, backbone (in that order).  At the end add a link to our script.  On the server side, we create a php file that will be responsible for reading / writing data (lies in the archive, app.php, I will not give the code, the script simply processes requests like? Method =). <br><br>  When the preparations are finished, let's start writing a script in js.  Create a container for storing models and log: <br><pre><code class="javascript hljs">app = { <span class="hljs-attr"><span class="hljs-attr">debug</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">log</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">obj</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.debug) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(obj); } }, <span class="hljs-attr"><span class="hljs-attr">models</span></span>: {} }</code> </pre> <br>  The function Backbone.sync is designed so that it is very easy to re-declare, without spoiling anything.  In addition, each model can have its own synchronization method (guess what it should be called?).  We will write a global function for our entire script.  Goals pursued by us: <br><ul><li>  Making Backbone work with our backend </li><li>  When receiving data by frontier, aukat to the log for checks </li><li>  Check data from the server to the error flag (is_error - set by our script) </li><li>  Simplify add / save (merge methods into one) </li><li>  Perform input verification </li><li>  Interrupt the old request with a new one (only for a model / method pair) </li></ul><br>  What happened with me (your implementation may differ): <br><pre> <code class="javascript hljs">Backbone.sync = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">method, model, options</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     var method = (method=='update'||method=='create')?'save':method; //    if(model.loading &amp;&amp; model.loading.method == method) { model.loading.xhr.abort(); } app.log('  "'+model.url(method)+'"'); var xhr = $.ajax({ type: 'POST', url: model.url(method), data: (model instanceof Backbone.Model)?model.toJSON():{}, success: function(ret) { //    if(ret.is_error) { app.log(' '); } else { app.log(' '); (function(data){ app.log('Backbone.sync  :', data); if(data.res) { //  - ,   model.trigger('load:res', data.res); } else { //  - ,   options.success(data.rows?data.rows:data); } model.trigger((method=='save')?'save':'load', data); })(ret.data); } }, error: function (req_obj, msg, error) { app.log(' '); }, dataType: 'json' }); //       model.loading = { method: method, xhr: xhr } };</span></span></code> </pre><br>  I'm a little deceitful.  If you call methods in the model like this: read list read, then the last read will not break the first one, but the article is not about that, so we put a huge bolt. <br><br>  Record Model Code: <br><pre> <code class="javascript hljs">app.models.note = (Backbone.Model.extend({ <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">method</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'./app.php?method='</span></span>+method; } })); app.models.Note = (Backbone.View.extend({ <span class="hljs-attr"><span class="hljs-attr">tagName</span></span>: <span class="hljs-string"><span class="hljs-string">'li'</span></span>, <span class="hljs-attr"><span class="hljs-attr">className</span></span>: <span class="hljs-string"><span class="hljs-string">'entity'</span></span>, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.model.toJSON(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> that = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el).html(<span class="hljs-string"><span class="hljs-string">''</span></span>).data(<span class="hljs-string"><span class="hljs-string">'rowId'</span></span>, data.id); $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el).append($(<span class="hljs-string"><span class="hljs-string">'&lt;input type="text" /&gt;'</span></span>).val(data.text)); $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el).append($(<span class="hljs-string"><span class="hljs-string">'&lt;button&gt;&lt;/button&gt;'</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ app.models.page.trigger(<span class="hljs-string"><span class="hljs-string">'post:save'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).closest(<span class="hljs-string"><span class="hljs-string">'li'</span></span>).data(<span class="hljs-string"><span class="hljs-string">'rowId'</span></span>), <span class="hljs-string"><span class="hljs-string">'text'</span></span>: $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).closest(<span class="hljs-string"><span class="hljs-string">'li'</span></span>).find(<span class="hljs-string"><span class="hljs-string">'input'</span></span>).val() }); })); $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el).append($(<span class="hljs-string"><span class="hljs-string">'&lt;button&gt;&lt;/button&gt;'</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!confirm(<span class="hljs-string"><span class="hljs-string">' ,     ?'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; app.models.notes.get($(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).closest(<span class="hljs-string"><span class="hljs-string">'li'</span></span>).data(<span class="hljs-string"><span class="hljs-string">'rowId'</span></span>)).destroy(); })); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } }));</code> </pre><br>  List of entries: <br><pre> <code class="javascript hljs">app.models.notes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> (Backbone.Collection.extend({ <span class="hljs-attr"><span class="hljs-attr">model</span></span>: app.models.note, <span class="hljs-attr"><span class="hljs-attr">initialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bind(<span class="hljs-string"><span class="hljs-string">'destroy'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.reload(); }, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }, <span class="hljs-attr"><span class="hljs-attr">reload</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> that = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = ({ <span class="hljs-attr"><span class="hljs-attr">error</span></span>:<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ app.log(<span class="hljs-string"><span class="hljs-string">'  !'</span></span>); that.trigger(<span class="hljs-string"><span class="hljs-string">'change'</span></span>); }, <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ app.log(<span class="hljs-string"><span class="hljs-string">' '</span></span>); that.trigger(<span class="hljs-string"><span class="hljs-string">'change'</span></span>); } }); app.log(<span class="hljs-string"><span class="hljs-string">' ...'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fetch(options); }, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">method</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'./app.php?method=list'</span></span>; } }));</code> </pre><br>  And last, the page model: <br><pre> <code class="javascript hljs">app.models.page = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> (Backbone.View.extend({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">el_list</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">notes</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">initialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bind(<span class="hljs-string"><span class="hljs-string">'page:load'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.pageLoad, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bind(<span class="hljs-string"><span class="hljs-string">'list:reload'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listReload, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bind(<span class="hljs-string"><span class="hljs-string">'post:save'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.postSave, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notes = app.models.notes; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notes.bind(<span class="hljs-string"><span class="hljs-string">'change'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onListChange, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notes.bind(<span class="hljs-string"><span class="hljs-string">'load:res'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onListChange, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }, <span class="hljs-attr"><span class="hljs-attr">pageLoad</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> that = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el = $(<span class="hljs-string"><span class="hljs-string">'.layout'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el_list = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.find(<span class="hljs-string"><span class="hljs-string">'.items-list'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   this.el.find('.title .refresh').bind('click', function(){ that.trigger('list:reload') }); //   this.el.find('.items-add-submit').bind('click', function(){ that.trigger('post:save', { id: false, text: $('.items-add-text').val() }); }); this.trigger('list:reload'); }, render: function(ret){ $(this.el_list).html(''); if(!ret) { app.log(' . : '+this.notes.length); _(this.notes.models).each(function(item){ this.appendItem(item); }, this); } else { app.log(' . : "'+ret+'"'); $(this.el_list).html('').append($('&lt;li class="res"&gt;&lt;/li&gt;').text(ret)); } return this; }, appendItem: function(item) { var view = new app.models.Note({ model: item }); $(this.el_list).append(view.render().el); }, onListChange: function(ret){ this.render(ret); }, postSave: function(obj){ var model = new app.models.note(); if(obj.id) { model.set({ id:obj.id }); } model.set({ text:obj.text }); model.save(); this.trigger('list:reload'); }, listReload: function(){ this.notes.reload(); } }));</span></span></code> </pre><br>  Forgot something ... Oh yeah, we start rendering: <br><pre> <code class="javascript hljs">$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ app.models.page.trigger(<span class="hljs-string"><span class="hljs-string">'page:load'</span></span>); });</code> </pre><br><br>  As you can see, everything is simple.  I intentionally gave the code in pieces, instead of chewing each function, since  The article is focused on a person at least a little familiar with js / backbone.  If this is not about you - I gave the links above, everything is described there in detail.  If there are difficulties in understanding or need additional explanations to the code - write. <br>  Code in action: <a href="http://yurov.me/art">yurov.me/art</a> <br>  All code in the archive: <a href="">yurov.me/art/art.tar.gz</a> <br><br>  Ps server code is oak, glitches are possible.  It is important to show the frontend.  If it does not work, you can try to run it locally or just browse the archive. <br><br>  PPS Comrade <a href="http://habrahabr.ru/users/owerq/" class="user_link">oWeRQ</a> put the code in order, I will update the article later (its code is much cleaner): <br>  <a href="http://owerq.dyndns.org/test/art/">owerq.dyndns.org/test/art</a> </div><p>Source: <a href="https://habr.com/ru/post/132728/">https://habr.com/ru/post/132728/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132721/index.html">Games, squeezed out of the NES maximum (part 3, final)</a></li>
<li><a href="../132723/index.html">Panasonic KX-TGP500 DECT</a></li>
<li><a href="../132725/index.html">Coin keeper. C # iPhone Application</a></li>
<li><a href="../132726/index.html">Manage a large group of hosts using http requests</a></li>
<li><a href="../132727/index.html">Materialized views as a means of controlling data integrity.</a></li>
<li><a href="../132729/index.html">Introduction to ASP.NET MVC 4 New Features</a></li>
<li><a href="../132730/index.html">Slowly but surely Cleverbot bypasses Suzette</a></li>
<li><a href="../132731/index.html">SMS templates for programmers</a></li>
<li><a href="../132733/index.html">Project Moonshot: 2800 servers in one rack</a></li>
<li><a href="../132734/index.html">‚ÄúWhite‚Äù hackers and CTF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>