<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wean the toxic practices of code review</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cod-review often generate controversy. While preparing the lecture ‚ÄúWe are disaccustomed to toxic behavior on code review‚Äù at the AlterConf conference...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wean the toxic practices of code review</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/a0/qy/ly/a0qylycy5x6znbawicj2tascun0.png" width="550"></div><br>  Cod-review often generate controversy.  While preparing the lecture <a href="https://alterconf.com/talks/unlearning-toxic-behaviors-code-review-culture">‚ÄúWe are disaccustomed to toxic behavior on code review‚Äù</a> at the <a href="https://alterconf.com/">AlterConf</a> conference <a href="https://alterconf.com/">,</a> I was ready to hear a lot of objections and criticism.  But she did not expect the community to support the idea so much.  I assumed resistance, but the community accepted me very favorably and with approval. <br><br>  I was asked to share the <a href="https://speakerdeck.com/sandyaaaa/unlearning-toxic-behaviors-in-a-code-review-culture">slides</a> , but now I thought that the slides themselves were of little help and were taken out of context: they lacked explanations.  Therefore, I decided to publish this article.  Later, the conference organizers posted a <a href="https://www.youtube.com/watch%3Fv%3DQIUwGa-MttQ">video</a> . <br><a name="habracut"></a><br>  Listed below are some types of unproductive code review behavior and recommendations on how to make the process more benign and eliminate toxicity.  All behavioral models are tested either by me or in a company I know.  In the past, I also had such sins. <br><br><h2>  Unproductive behavior number 1: the transfer of opinion as a fact </h2><br>  Do not make statements if you cannot refer to the documentation, formal recommendations, and code examples to support these statements.  People should know why they are asked to make changes, and the personal preferences of another developer are not a good enough argument. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Instead of saying: <br><br><blockquote>  This component should be made without a change of state (stateless). </blockquote><br>  ... better provide some context: <br><br><blockquote>  Since this component has no life cycle or state methods, it can be made stateless.  This will improve the performance and readability of the code.  * Here is some documentation. </blockquote><br>  The transfer of opinion as a fact often occurs when discussing style and syntax.  These are really important topics, but not for code review, because style and syntax have nothing to do with the problem that the developer initially resolves. <br><br>  Such discussions are better to lead separately and determine the style for the whole team.  Implement a <a href="http://www.jslint.com/">linter</a> and <a href="https://atom.io/packages/atom-beautify">automatic code fixes</a> .  Then you will refer to these recommendations for style, and not to your personal opinion. <br><br>  It is especially important not to give your opinion as a fact if you have a higher rank and authority in a team or company.  The developer has the impression that he has no choice but to obediently fulfill your requirements. <br><br><h2>  Unproductive behavior number 2: an avalanche of comments </h2><br>  When a person makes a mistake, chances are high that this error occurs in several places.  I noticed that reviewers sometimes indicate each of the cases instead of leaving one detailed note with links to useful resources. <br><br>  Consolidation of comments allows you to send the same message without suppressing the author.  An avalanche of <i>duplicated comments on one issue</i> looks like a nagging. <br><br>  Unproductive and overwhelming: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/574/c8f/be9/574c8fbe93c02b6e3d70ee4be85431c1.png"><br><br>  <i><font color="gray">Multiple comments for one recurring error (spaces at the end of the line)</font></i> <br><br>  More useful option: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/980/874/0a3/9808740a3535ebdbc9d1a54f6657155f.png"><br>  <i><font color="gray">Consolidated feedback</font></i> <br><br>  I can understand that it is sometimes useful to point out each place of an error, since the comment disappears when corrected in subsequent commits.  But if the error occurs many times, it is obvious that the developer did not know about a particular manual, and he should simply point out the right resources. <br><br><h2>  Unproductive behavior number 3: ask the engineers to solve other people's problems, "while they are here" </h2><br>  Do not ask developers to deal with problems that are not directly related to the changeset or the problem this code is trying to solve.  Even if a developer extends or modifies a dirty code with an abundance of bad practices, do not ask him to clean and fix this alien code. <br><br>  I do not propose depriving developers of responsibility for the code just because they did not write it initially.  In fact, it is not good to say something like "Alien code is not my problem."  It's just more appropriate to create a separate ticket and pull request to fix the dirty code.  Thus, you avoid a sharp increase in the volume of someone's work, solving the problem with technical debt. <br><br>  <b>TL; DR</b> : Do not ask the developer to fix the problems while they are here.  If the code does what is required in the ticket and does not introduce new problems into the code base, approve it and then create a ticket to clear the code base. <br><br><h2>  Unproductive Behavior # 4: Ask Condemning Questions </h2><br>  Avoid asking judgmental questions like this: <br><br><blockquote>  Why didn't you just ____? </blockquote><br>  This implies that some simple solution should be obvious.  This makes the developer defend himself. <br><br>  Often these condemning questions are merely veiled demands.  Instead, offer a recommendation (with documentation and links), omitting harsh words. <br><br><blockquote>  You can make ____ that has the advantage of ____. </blockquote><br><h2>  Unproductive behavior number 5: sarcasm </h2><br>  In the reviews there is no place for sarcasm.  As a rule, sarcastic comments do not provide context and effective feedback.  Instead, describe the problem in detail and provide recommendations, but leave aside caustic jokes. <br><br>  Unproductive: <br><br><blockquote>  Have you even tested this code before shipping? </blockquote><br>  Useful: <br><br><blockquote>  Failure occurs when entering a negative number.  Could you please do this? </blockquote><br>  Here <a href="https://techblog.workiva.com/tech-blog/we-are-ruthless-code-reviews">is another example of a comment in the code review</a> , which is neither funny nor useful: <br><br><blockquote>  We are not angry, we are merciless.  As you can see, I wrote ‚Äúbeep!‚Äù On the import of each file you touched.  I meant the following: ‚ÄúYour import violates our standard convention, which implies a certain order: first, the built-in modules, then third-party, and then the project level,‚Äù but this is too long a phrase to type it in each case. </blockquote><br>  In the given example, ‚Äúbeep!‚Äù Is not at all useful and not meaningful.  This is pedantic humor that does not help the author. <br><br><h2>  Unproductive behavior number 6: Emoji instead of describing the problem </h2><br>  When pointing out problems in the code, avoid emoticons with a thumb down or emoji with a nauseous little man.  It is as useless as sarcasm, for the same reasons.  Emoji is mysterious, easily misinterpreted.  People waste time trying to understand your thoughts. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d8/100/dfe/9d8100dfe4fdacbe8a0f8c4a3d6e4d68.png"><br>  <i><font color="gray">Do not use emoji to indicate coding problems.</font></i> <br><br>  <b>In any case, you should not have an emotional reaction to programming errors.</b> <br><br>  It is quite normal to use positive emoticons, such as ‚Äúthumb up‚Äù or ‚Äúhurray!‚Äù, But not to indicate problems, but as a tip on a good code. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/643/524/76d/64352476d084ac094f8311415a7b9aba.png"><br>  <i><font color="gray">Approving emoticons are great</font></i> <br><br><h2>  Unproductive behavior number 7: do not respond to all comments </h2><br>  The authors also contribute to the toxicity of the discussion.  If you combine the code without answering all the comments, it is surprising to the person: he tried to help you, and you make it clear that some of the reviews do not matter. <br><br>  If the comment is not relevant or you will not take action, just briefly explain why. <br><br>  Do not ignore colleagues. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/76a/3e1/290/76a3e12901700a88a9e4fa089735c5c6.png"><br>  <i><font color="gray">Combining code without responding to a comment</font></i> <br><br><h2>  Unproductive behavior number 8: ignoring toxic behavior, if it comes from the best professionals </h2><br>  Toxic behavior should not be ignored or underestimated solely because the developer is an excellent professional and extremely productive employee.  Although it does a fantastic job, it is important to keep in mind that its toxic behavior leads to stress and burnout of other developers. <br><br>  Experience with a person who exhibits toxic behavior: <br><br><blockquote> Others will find that working with this person is draining and demotivating.  They will do anything to avoid interacting with it, even if it adversely affects their ability to perform tasks.  Communication will be disrupted throughout the organization, and employees will start looking for job openings elsewhere.  While you are faced with the consequences of talent leaks and unsuccessful projects, this particular developer will continue to work calmly, as if nothing had happened.  - <a href="https://medium.com/%40jgefroh/toxic-developers-considered-harmful-f7ea1494d4c0">Joseph Gefro</a> </blockquote><br>  If you do not take steps to remedy the situation, there may be serious consequences: developers will be overloaded, attacked and demotivated.  They will be afraid of feedback, which should actually help them grow. <br><br>  I personally felt a great deal of anxiety whenever I received an email with comments on my pull-request from a former colleague (known for his toxic, low-helpful reviews).  Although toxic behavior at all affects differently, but definitely no one benefits from this toxicity. <br><br>  <b>Note</b> : I want to make it clear that if the developer could not resist and once showed this behavior, this does not make him ‚Äútoxic‚Äù.  We are talking about repeated insults and caustic comments. <br><br><h1>  Useful code review practices </h1><br>  Below are some recommendations that apply to any normal communication, although here we are talking in the context of programming and code review. <br><br><h2>  Useful Behavior # 1: Use Questions or Recommendations to Develop a Dialogue. </h2><br>  Never ask people to make corrections or ask condemning questions, because this prevents dialogue between you and the other person. <br><br><blockquote>  Why you just did not combine these transformations in the file with constants? </blockquote><br>  Formally, this is a question, but it does not create a dialogue between you and the interlocutor.  He just makes him defend himself.  Instead, ask what the interviewee thinks about your decision, for example: <br><br><blockquote>  What do you think of pulling these conversions into a constant file?  There are quite a few of them, so a separate file may well make sense at the moment. </blockquote><br>  ... or suggest a recommendation: <br><br><blockquote>  In this file, you have a lot of translation calls for the "function x".  It may make sense to create a separate file with its constants. </blockquote><br><h2>  Useful behavior number 2: to cooperate, not to hide </h2><br>  When you program together, you have to be near, ask questions, discuss and point to resources. <br><br><blockquote>  "... when you want to help or work together, you must fully participate, and not just interfere sometimes" - the <a href="https://www.recurse.com/manual">leadership of the</a> Recurse Center </blockquote><br><h2>  Useful behavior number 3: respond to every comment </h2><br>  If you, as an author, do not intend to use the advice of the reviewer, just make a note informing about it.  Do not ignore those who spend time to help you. <br><br>  For example: <br><br><blockquote>  Person A: - What do you think about creating an auxiliary function for this API call?  Everything else is good. <br><br>  Person B: - This line was not part of my changeset.  I will combine the code, create a separate ticket on GitHub and write it in the work plan for our group. </blockquote><br><h2>  Useful Behavior # 4: Know When It Is Better To Organize A Personal Meeting </h2><br>  After dozens of comments and proposed solutions, it should be clear that online communication has become unproductive for the issue at hand.  Send out a meeting invitation to all involved colleagues. <br><br>  Thus, the group will be able to quickly make a decision and apply it. <br><br><blockquote>  Problems that take hours and tons of comments can usually be solved in a few minutes of productive conversation.  - ‚ÄúNeat Java‚Äù </blockquote><br><h2>  Useful Behavior # 5: Take advantage of learning opportunities and don't brag </h2><br>  Before taking part in the review code, ask yourself: <br><br><blockquote>  Does your comment really help you learn or are you carping? </blockquote><br>  Think about your comments.  Remember that the purpose of the review code is to teach and help other developers grow.  This is not a tribune for speeches. <br><br><h2>  Useful behavior number 6: do not show surprise </h2><br>  Be careful not to show surprise if a person does not know something.  Do not grieve people that they "should already know" this information.  Conversely, feel free to admit that you lack experience on the topic - this is a great way to ask for help. <br><br>  For details, see the <a href="https://www.recurse.com/manual">‚ÄúDo not pretend to be surprised‚Äù</a> rule from the Recurse Center manual. <br><br><h2>  Useful behavior number 7: automate everything you can </h2><br>  There is little point in discussing errors that linters, Git hooks, or automated tests can catch.  This is a ton of extra comments that look like cavils.  People are not very good at identifying such errors, therefore, automation tools have been created. <br><br>  There are also tools to automatically run tests when adding new code.  They display warnings if a changeset violates one of the tests.  For example, TeamCity and Jenkins CI. <br><br>  Also, use Git hooks to run tests and linters on the new code.  They intercept a commit if they find bugs. <br><br>  <b>Let the tool indicate the problems so that people do not have to do it.</b> <br><br><h2>  Useful behavior number 8: do not adopt toxic behavior </h2><br>  No need to adopt the toxic behavior in their code review, because it is like revenge or some kind of hazing for new developers. <br><br>  Find colleagues who will support you. <br><br>  If you notice unproductive code review, try to inform a colleague, speak directly and honestly (if you feel safe in your position / company). <br><br><h2>  Useful behavior number 9: managers, carefully consider the candidates, listen to the team and apply their powers </h2><br>  Managers have great opportunities to create a positive and supportive atmosphere in the team. <br><br>  Let's rephrase the tips from the article <a href="https://medium.com/%40jgefroh/toxic-developers-considered-harmful-f7ea1494d4c0">"Harm Toxic Developers"</a> : <br><br><ul><li>  Prevent the appearance of toxic developers in the team.  When hiring pay attention not only to technical training.  Find out how the candidate collaborates and communicates.  Critically analyze his work and see how he reacts.  Make sure that every candidate improves the culture of the company, and does not just fit into it. <br></li><li>  When a toxic developer still got to the state or was inherited, ask each employee for an opinion about it in a personal conversation.  If the developer is toxic, it will pop up in reviews about him. <br></li><li>  Talk to the toxic developer.  Give specific examples of effective comments in code review.  Continually work with him, continuing to collect information in personal conversations with his colleagues and manager. <br></li><li>  Do not isolate a toxic developer.  (*) <br></li><li>  Repeat to staff about the need for a friendly environment. </li></ul><br>  (*) Although the article proposes isolating toxic developers, I find it important to encourage the toxic developer to cooperate with the team, but in healthier ways.  Isolation does not solve the problem.  If you give it a separate job, toxicity will decrease in the short term, but the developer will not give up his unproductive behavior.  He will only lose the podium to demonstrate it. <br><br><h2>  Useful behavior number 10: set the standard while the team is small and growing </h2><br>  Small teams are able to accept new ideas and implement them.  Even if you do not consider it necessary to set standards, because now there are no problems, but it is important to maintain good cooperation practices when replenishment comes. <br><br><h2>  Useful behavior number 11: understand that you can be part of the problem </h2><br>  To create a more supportive environment, it is important to be honest with yourself and reflect on any ineffective behavior. <br><br>  Being a junior, I noticed a mistake in someone's code several times and was happy, because I could leave a comment!  Now I understand that I used this opportunity to show off, not help.  You need to carefully evaluate your actions. <br><br>  I think that it is useful for everyone to take time for this difficult self-analysis. <br><br>  And the last ... <br><br><h2>  We are not talking about the content of the reviews, but only about the tone </h2><br>  I know that the reviews are important, and we are not fighting against them here.  I do not ask to compromise the quality of the code.  A well-meaning code review culture and high quality code should not be mutually exclusive. <br><br>  I just hope that people will take steps to provide constructive, effective feedback and create more favorable conditions in which developers feel comfortable, learn, grow and not be afraid to make mistakes.  We can all improve together. </div><p>Source: <a href="https://habr.com/ru/post/453968/">https://habr.com/ru/post/453968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../453952/index.html">‚ÄúRequest has matured‚Äù: Alexey Fedorov about the new conference on distributed systems</a></li>
<li><a href="../453956/index.html">DataArt Museum. Video Terminal ADM-3A. The car is heavy, reliable, killer</a></li>
<li><a href="../453960/index.html">Global DevOps Bootcamp 2019 in Moscow</a></li>
<li><a href="../453962/index.html">RxSwift and Korutin in Kotlin - optional on mobile development from AGIMA and GeekBrains</a></li>
<li><a href="../453964/index.html">OOP in R (part 1): S3 classes</a></li>
<li><a href="../453970/index.html">We write Reverse socks5 proxy on powershell. Part 2</a></li>
<li><a href="../453972/index.html">Archaeologists recreated a two-thousand-year-old pin using 3D printing and scanning</a></li>
<li><a href="../453974/index.html">Competition of ML-systems on linguistic material. How we learned to fill in the gaps</a></li>
<li><a href="../453976/index.html">Economic educational program for IT people</a></li>
<li><a href="../453978/index.html">MIT building 3D printer prints building in 14 hours</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>