<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>git rebase for beginners</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuing the article on what to say git, so that it does what you need and before the article how to create a PR in someone else's Open Source proje...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>git rebase for beginners</h1><div class="post__text post__text-html js-mediator-article">  Continuing the article on <a href="https://habrahabr.ru/post/337196/">what to say git, so that it does what you need</a> and before the article how to create a PR in someone else's Open Source project on GitHub, I think it would be useful to talk about what git rebase is. <br><a name="habracut"></a><br><blockquote>  I myself do not really understand this topic and do not like to use it, for the reasons stated below, so please comment, I will add as much as possible. <br></blockquote><br>  So git works with commits.  Each commit is a set of changes.  Each commit has a unique hash.  When merging branches through merge: <br><br><pre><code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta"># git merge </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"another_branch"</span></span></span></span></code> </pre> <br>  then all of the commit are saved - the comments of the commit are saved, its hash + as a rule one more artificial commit is added.  Moreover, the commits can alternate with each other.  This is not always convenient.  Let's say your committee decided to roll back - look in the general list where your committee is, and where your company is not very pleasant.  And in general - in the general history I want to see really important changes, and not ‚Äúoh, I forgot to put;‚Äù.  You can use rebase to merge several commits into one.  Although there is a squash &amp; commit button in the GitHub interface - this is when you create a pull request (PR) from one branch to another (usually from your working branch to the main one) and after going through all the formalities, you can click squash &amp; commit, update the comment and your changes will appear in the main branch as a single commit. <br><br><div class="spoiler">  <b class="spoiler_title">Other options to merge several comets into one</b> <div class="spoiler_text">  I used to do this <br> <code># git checkout master &amp;&amp; git pull &amp;&amp; git branch -b &lt;&gt; &amp;&amp; git merge &lt;&gt; --squash <br></code> <br>  Then I watched the changes in the IDE, did the pre-committee review, then comitated and pushed the server. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      From the pros - you can all the code, all the changes look in the IDE.  Sometimes it is more convenient than through the web UI, which is on GitHub. <br></div></div><br><br><blockquote>  Carefully rebase can change the hash of the commit and lead to merge conflicts, especially if several people work on one branch. <br></blockquote><br>  I want to write about two cases of using rebase: <br><br><ol><li>  When changes are included from one branch to another, not by merge, but by rebase: <br><br><pre> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta"># git rebase </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"another_branch"</span></span></span></span></code> </pre><br>  This allows your local commits to deliver after all commits that were added to the ‚Äúanother_branch‚Äù branch.  Your comit hashes will change. <br></li><li>  When you can edit a few of your comets with your hands - for example, glue them together, change the comment: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># git rebase -i {HEAD~_commit_count_|commit_hash}</span></span></code> </pre><br>  Note: it is worth <a href="https://git-scm.com/book/ru/v1/%25D0%259D%25D0%25B0%25D1%2581%25D1%2582%25D1%2580%25D0%25BE%25D0%25B9%25D0%25BA%25D0%25B0-Git-%25D0%259A%25D0%25BE%25D0%25BD%25D1%2584%25D0%25B8%25D0%25B3%25D1%2583%25D1%2580%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5-Git">setting up the editor</a> that will be used by git before invoking this command.  Personally, I prefer mcedit. <br></li></ol><br>  So, you did everything in your cozy little branch and decided to share this comit with the world, but the world only wants one comit from you.  `git rebase -i` launches the editor and offers to edit the commits (the order of the commits is top-down, unlike git log).  You can leave the commit as is, you can change the comment, you can stick together with the previous one.  As a rule, your first committee should be left as it is, and all others should be changed to <br>  <code>pick "commit_hash" "comment" ‚Üí fixup "commit_hash" "comment"</code> . <br><br>  In this case, all comments that were in fixup commits will be lost and the comment from the first commit will be used.  If you had expensive comments, you should use squash instead of fixup. <br><br>  But if the development process was long, then most likely you had to do the merge of the main branch.  And all your commits will mix up with common commits, and it will not be an easy task to glue yours with yours.  Therefore, before doing `git rebase -i &lt;&gt;` it is worth doing `git rebase`.  `git rebase` will put all your commits at the end of the list of all commits (which you can be sure of by running` git log`) and after that launch `git rebase -i &lt;HEAD ~ Your committee&gt; number, except for the first lines, replace ‚Üí ‚Üí fixup | squash} and voila - you have one commit. <br><br>  If in the process of editing the `git rebits -i &lt;&gt;` comit, you‚Äôve somehow messed up, then you shouldn‚Äôt press Control + C - you don‚Äôt care about exit code from the git editor.  He will just take the file and do it all.  Just delete or comment out all the lines in the file.  git will understand that you didn't want anything. <br><br>  After rebase manipulations, you will need to push with the -F option.  All this is because we are <s>rewriting</s> we change the history of the commits and git honestly warns us about this. <br> <code># git push -f</code> <br> <br><div class="spoiler">  <b class="spoiler_title">An example of using git rebase</b> <div class="spoiler_text">  After that I will write what I did.  Given - 2 branches - master and b1.  In the process of work, we made the commits: <br><br> <code>Initial commit -  master - 2fbbe67 <br> b1.1 -  b1 - 85eac43 <br> master after b1.1 -   b505f18 <br> b1.2 -  b1 - 2d7d4ea <br> +1 -  master - 8dcef6c <br></code> <br><br>  The commit in master and b1 were made independently.  I wrote in one list so that the order in which everything was done was clear.  Here is a list of commits in each brunch: <br><br> <code># git checkout master &amp;&amp; git log <br> 8dcef6c "+1" <br> b505f18 "master after b1.1" <br> 2fbbe67 "Initial commit" <br> <br> # git checkout b1 &amp;&amp; git log <br> 2d7d4ea "b1.2" <br> 85eac43 "b1.1" <br> 2fbbe67 "Initial commit" <br></code> <br><br>  Making git merge master in b1 <br><br> <code># git checkout b1 &amp;&amp; git merge master &amp;&amp; git log <br> 5383781 "Merge branch 'master' into b1" <br> 8dcef6c "+1" <br> 2d7d4ea "b1.2" <br> b505f18 "master after b1.1" <br> 85eac43 "b1.1" <br> 2fbbe67 "Initial commit" <br></code> <br><br>  Added new synthetic commit <br><br>  Now do a rebase <br><br> <code># git checkout b1 &amp;&amp; git rebase master &amp;&amp; git log <br> 7f18e47 "b1.2" <br> 6fb80cb "b1.1" <br> 8dcef6c "+1" <br> b505f18 "master after b1.1" <br> 2fbbe67 "Initial commit" <br></code> <br><br>  Please note that our local commits rose at the end of the list, the commit numbers have changed, the synthetic commit has disappeared. <br><br>  And finally, we glue our comets into one <br><br> <code># git rebase -i HEAD~2 <br></code> <br><br>  File was <br><br> <code>pick 6fb80cb b1.1 <br> pick 7f18e47 b1.2 <br></code> <br><br>  The file became after our editing <br><br> <code>pick 6fb80cb b1.1 <br> fixup 7f18e47 b1.2 <br></code> <br><br>  Happened <br><br> <code># git checkout b1 &amp;&amp; git log <br> 9062cd7 "b1.1" <br> 8dcef6c "+1" <br> b505f18 "master after b1.1" <br> 2fbbe67 "Initial commit" <br></code> <br>  So it goes <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/337302/">https://habr.com/ru/post/337302/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../337290/index.html">Fedora Linux is banned for distribution in the Crimea (and temporarily broken DNS)</a></li>
<li><a href="../337292/index.html">Custom properties</a></li>
<li><a href="../337294/index.html">About distinguishing objects by color</a></li>
<li><a href="../337298/index.html">In the wake of highloadcup: php vs node.js vs go, swoole vs workerman, splfixedarray vs array and more</a></li>
<li><a href="../337300/index.html">V8 internal mechanisms and fast work with object properties</a></li>
<li><a href="../337304/index.html">Ransomware hackers hacked more than 26,000 MongoDB servers</a></li>
<li><a href="../337306/index.html">Docker Basics in X hours and Y days</a></li>
<li><a href="../337308/index.html">Lannisters always pay their debts! (and technical too)</a></li>
<li><a href="../337310/index.html">Mathematical modeling of traffic flows</a></li>
<li><a href="../337312/index.html">11 free cyrillic fonts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>