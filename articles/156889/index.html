<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing LivestreetCMS on MODX Revolution from the package in 10 clicks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have written more than once about my modLivestreet module for a MODX Revolution + LivestreetCMS bundle (In this topic , the idea and implementation ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing LivestreetCMS on MODX Revolution from the package in 10 clicks</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/44f/caa/460/44fcaa460d4eb5b6383ce0647d396d0f.jpg" alt="image">  I have written more than once about my modLivestreet module for a MODX Revolution + LivestreetCMS bundle (In this <a href="http://habrahabr.ru/post/155063/">topic</a> , the idea and implementation with schemas, etc.) is detailed. <br>  After almost two weeks from the beginning of the development of the module, I came to the following conclusion: everything is too complicated.  The idea itself is simple: to fasten LivestreetCMS to MODX Revolution (which historically lacked modules for building blogs), in order to get a sort of social network with good functionality. <br><br>  I quickly added the first packet, and he completely provided the redirection of requests to Livestreet and the output of content to MODX.  But then I wanted to implement synchronous work with users of MODX- and LS-., Then something else ... In general, the functionality grew, the code also.  Problems manifested themselves in the difficulties of setting up this union.  If you can say no serious problems with MODX (in any case, you didn‚Äôt have to touch a single byte of the engine code), then everything turned out to be more difficult with Livestreet ... One way or another, you had to go into the code.  Of course, I understand that some things can be done by overloading classes in my plugin, but this is only a private solution to the problem.  Yes, and some moments do not overload, as for example the case with the Jevix class.  But these are not important details.  The main thing - setting up this whole thing requires a lot of manual work.  When I wrote the <a href="http://modxlivestreet.ru/blog/modx_plus_livestreet/17.html">manual</a> for installing and configuring the whole of this business, I was completely puzzled ... It seems not much, but still more than nothing. <a name="habracut"></a><br><br>  So anyway, yesterday I decided to change the policy.  I decided to build such a package for MODX, which already has a fully configured Livestreet, and installing which we already have a ready extension for social programs. <br>  Nevertheless, the module itself can also be used independently (for example, by changing the settings of Livestreet in the system settings for different contexts, you can get work with several Livestreet sites at once).  In general, the module is quite suitable for a bunch of already existing Livestreet sites (in this case, you will have to use manual settings in the manual). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So how is the installation going? <br>  1. <a href="https://sourceforge.net/projects/modlivestreet/">Downloading the</a> package for MODX Revolution (for synchronous work with users, a version not lower than 2.2.0 is required, if only content is given, then earlier versions can be used). <br>  2. Fill it in / core / packages / and install locally (sorry, until you are allowed into the MODX repository). <br><div class="spoiler">  <b class="spoiler_title">Who are interested in the pictures of the installation process, they are here</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/498/d3a/3c2/498d3a3c2b34a775c11c54214fe7d692.jpg"><br><br><img src="https://habrastorage.org/storage2/7ab/dce/90d/7abdce90d79f7f4dff2de06d252137fc.jpg"><br><br><img src="https://habrastorage.org/storage2/67b/d30/c0e/67bd30c0ee9459c97000d76d79521559.jpg"><br><br><img src="https://habrastorage.org/storage2/7fc/0ed/f2b/7fc0edf2bd684effa2e37db538066138.jpg"><br><br><img src="https://habrastorage.org/storage2/bc4/8db/128/bc48db1283a4a4413f103e5be63fc7b7.jpg"><br></div></div><br>  3. After the package is installed, simply insert the [[! ModLivestreet.run]] snippet into the starting document we need (with an empty template. Or create a template with this snippet), that's all. <br><div class="spoiler">  <b class="spoiler_title">For those who have never done this</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/be5/eb0/369/be5eb0369848ab64d4c0d68e5631da27.jpg"><br><br><img src="https://habrastorage.org/storage2/3da/d96/0d3/3dad960d35c94628d8f89628f1f0c58b.jpg"></div></div><br><br>  That's all :-) <br>  Go to the page, and see Livestreet :-) <br><img src="https://habrastorage.org/storage2/461/e27/bc7/461e27bc7e4600e8f6b34f1f44d528e3.jpg"><br><br>  In the future, this project will be developed in this direction (package with ready Livestreet).  It seems to me right.  Who needs to quickly and simply - is already there.  Do you want tuning?  The module itself is completely independent, without problems, finish to your Livestreet.  Useful <a href="http://modxlivestreet.ru/blog/modx_plus_livestreet/17.html">info</a> is on the <a href="http://modxlivestreet.ru/blog/modx_plus_livestreet/17.html">offsite</a> . <br><br>  And finally, a small FAQ. <br><br>  <b>And if I do not want Livestreet right on the main one to hang out?</b>  <b>If I want it to be somewhere in the / forum / section?</b> <br>  Just go into the MODX system settings (hereinafter the modLivestreet namespace), and change modLivestreet.url_prefix <b>/</b> to <b>/ forum /</b> (or whatever you need). <br>  Everything, this section will be for Livestreet basic.  Just do not forget to make the main page with the modLivestreet.run snippet for this section. <br><br>  <b>And if I want on a separate domain, such as forum.moysite.com?</b> <br>  Create a new context in MODX, have a main page with a modLivestreet.run snippet, attach a URL to this context in MODX and that's it.  If you want Livestreet links to lead to the domain forum., And Wayfinder, etc.  Formed links to the main site, then set the context for site_url - the main domain, and the modLivestreet.site_url setting specify the forum domain.  True, you still need to change the Wayfinder settings, so that it forms full URLs, but these are trifles and do not apply directly to the module. <br><br>  <b>Will MODX tags work if I insert them into Livestreet templates?</b> <br>  Yes, they will.  All Livestreet content is processed before output by the MODX parser. <br><br>  <b>But what about security?</b>  <b>And if someone writes MODX tags to the topic (snippet, system setting, etc.)?</b> <br>  Taki do not be afraid.  All security measures taken.  All requests to the server are cleaned, and the square brackets of the MODX tags are replaced with codes, so there is someone who writes something and sees exactly what he wrote. <br>  But there is one big BUT: if you linked Livestreet with MODX, then do not display it in its pure form without a bundle with MODX, since MODX performs tag cleaning, and if someone writes tags in LS, then they will be processed in MODX . <br>  Later the cleaner will be written on the side of Livestreet. <br><br>  <b>And what tips to optimize give?</b> <br>  The most important advice is to set up rewrite rules on your server.  In the basic configuration MODX completely banishes all the statics Livestreet through itself. <br><div class="spoiler">  <b class="spoiler_title">I have nginx and the rules are written like this</b> <div class="spoiler_text"><pre><code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> /templates/{ <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /www/site.ru/public_html; <span class="hljs-attribute"><span class="hljs-attribute">access_log</span></span> <span class="hljs-literal"><span class="hljs-literal">off</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">expires</span></span> <span class="hljs-number"><span class="hljs-number">30d</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> /uploads/{ <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /www/site.ru/public_html; <span class="hljs-attribute"><span class="hljs-attribute">access_log</span></span> <span class="hljs-literal"><span class="hljs-literal">off</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">expires</span></span> <span class="hljs-number"><span class="hljs-number">30d</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> ~/engine/.*\.js{ <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /www/site.ru/public_html; <span class="hljs-attribute"><span class="hljs-attribute">access_log</span></span> <span class="hljs-literal"><span class="hljs-literal">off</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">expires</span></span> <span class="hljs-number"><span class="hljs-number">30d</span></span>; }</code> </pre> </div></div>  That is, physically Livestreet can be completely outside of DOCUMENT_ROOT. <br>  In general, for sure you will understand. <br><br>  <b>And what is "Synchronous work with users"?</b> <br>  In MODX, its users, in Livestreet - its own.  In normal mode, Livestreet does independent work (the user is registered - he is only in Livestreet, he is logged in - he himself). <br>  In synchronous mode, everything works synchronously: registered - there is also in Livestreet, there is also in MODX (even if you created a user through the MODX admin panel), logged in - your Livestreet user and MODX logged in, where did the error occur?  - completion of the process both there and there (that is, if the password is incorrect for at least one user, none of them can enter). <br>  By default, synchronous mode is disabled.  You can enable it by changing the <b>modLivestreet.sync_users</b> setting <br>  By the way, in the installed Livestreet admin: <br>  login: admin <br>  pass: admin <br><br>  <b>But if ....?</b> <br>  All, all other questions in the comments. </div><p>Source: <a href="https://habr.com/ru/post/156889/">https://habr.com/ru/post/156889/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../156869/index.html">Microsoft in social networks</a></li>
<li><a href="../156873/index.html">Animated tag cloud on css3</a></li>
<li><a href="../156875/index.html">Meet the IntelliCommand (Visual Studio 2010/2012 extension)</a></li>
<li><a href="../156879/index.html">Internationalization of the local django project</a></li>
<li><a href="../156887/index.html">QEMU on FreeBSD-9.0-RELEASE-amd64</a></li>
<li><a href="../156891/index.html">About the arbitration court, EDS and international jurisdiction</a></li>
<li><a href="../156893/index.html">German copyright holders worried about analog hole</a></li>
<li><a href="../156895/index.html">The first experience in the study of malware under Microsoft Windows</a></li>
<li><a href="../156901/index.html">Russian AI Cup 2012</a></li>
<li><a href="../156903/index.html">Vector graphics on scattered curves</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>