<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Chef for everyday tasks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Every day, the system administrator is confronted with tasks that somehow have to be solved by a banal set of commands. Sometimes it comes to ridiculo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Chef for everyday tasks</h1><div class="post__text post__text-html js-mediator-article">  Every day, the system administrator is confronted with tasks that somehow have to be solved by a banal set of commands.  Sometimes it comes to ridiculous: <br><ul><li>  distribute the file on 100 servers </li><li>  distribute the package on 100 servers </li><li>  change line in file </li><li>  upgrade system </li><li>  add user </li><li>  restart services </li></ul><br>  etc., the infrastructure administrator makes his hands, alternately going to all the servers and executing a set of 1-10 commands.  Continuing to work this way, soon, the system administrator of a large system turns into a ‚Äúserver enikeyschik‚Äù. <br>  And there are two ways to solve this problem: to hire a junior employee and ‚Äúunload‚Äù all the dirty work for him, or to automate simple and not so much tasks. <br><br>  At the moment there are many systems that allow you to do this, but the most popular are <a href="https://www.chef.io/chef/">Chef</a> , <a href="https://puppetlabs.com/">Puppet</a> and <a href="http://www.ansible.com/home">Ansible</a> . <br>  This publication focuses on Chef and how to use it to automate everyday tasks on multiple servers. <br><a name="habracut"></a><br><h5>  Generally why chef? </h5><br>  Firstly, our customer uses it.  So, in order not to fence the zoo from the Deployers, Chef left.  Somewhere on Habr√© saw a good description of the differences between Chef and Puppet: <br><ul><li>  Chef - what do you want to get? </li><li>  Puppet - what do you want to do? </li></ul><br>  But after watching the video seminar ‚ÄúThe Road to the Clouds‚Äù, where Mikhail Shcherbakov from Mirantis talked about ‚ÄúNon-standard use of Puppet in deployment‚Äù, I somehow did not want to follow this ideology clearly.  Yes, and testing the chef-recipes that we made for deploying projects to the customer, suggested that you can use Chef as you like. <br><br>  Secondly, the language of the chef is closer to me, since  not long ago, I became acquainted with ruby, and the syntax of Chef‚Äôs manifests is what it uses. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Thirdly, chef-recipes can be distributed from the server centrally by simply calling " <i>knife bootstrap --run-list" recipe [somerecipe] "somehost, domain.lan</i> ".  This is really convenient. <br><br>  Well and fourthly, the chef has a normal client under Windows.  And sometimes without it anywhere. <br><br><h5>  Installation </h5><br>  I will continue to use Ubuntu as an example.  Only the server will be on Ubuntu, the clients will be on Ubuntu, CentOS and Windows. <br>  Take the installation package <a href="https://downloads.chef.io/chef-server/ubuntu/">here</a> . <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd ~; wget https://web-dl.packagecloud.io/chef/stable/packages/ubuntu/trusty/chef-server-core_12.1.2-1_amd64.deb # dpkg -i chef-server-core_12.1.2-1_amd64.deb</span></span></code> </pre> <br>  After installing the package, you should run the ‚Äúreconfiguration‚Äù, create a user and organization. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># chef-server-ctl reconfigure # chef-server-ctl user-create grey Sergey K grey@mydomain.lan superpassword123 --filename /etc/chef/grey.pem # chef-server-ctl org-create vst "VST Consulting, Inc." --association_user grey --filename /etc/chef/vst-validator.pem</span></span></code> </pre><br>  The mechanism of organizations allows you to organize a very convenient test site or to unite all customers on one server (oh, I do not advise). <br>  <a href="https://docs.chef.io/install_server.html">There</a> is information that I have described, plus information on how to install additional components, for example, a web interface. <br><br>  It is also worth tweaking some configs and creating the necessary directories: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cat /etc/chef/knife.rb current_dir = File.dirname(__FILE__) log_level :info log_location STDOUT node_name "grey" client_key "#{current_dir}/grey.pem" validation_client_name "vst-validator" validation_key "#{current_dir}/vst-validator.pem" chef_server_url "https://chef/organizations/vst" cookbook_path ['/root/chef-repo/cookbooks'] # ln -s /opt/opscode/embedded/bin/knife /usr/bin/knife # ln -s /etc/chef /root/.chef # git clone https://github.com/opscode/chef-repo.git # knife ssl fetch &amp;&amp; knife ssl check</span></span></code> </pre><br><h5>  Simple Kukbook </h5><br>  The most popular tool in Chef is cookbook `s.  It contains certain recipes. <br>  A recipe is a template for performing certain actions on a server with file templates, variables, etc.  for the realization of a certain working result.  As in cooking, our goal is to get a ‚Äúsoup‚Äù that is ready to eat. <br><br>  As an example, we will write a recipe for preparing some self-written daemon application in java, which, together with the configs, will need to be distributed to a number of servers. <br><br>  Create a blank: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd /root/chef-repo/cookbooks # knife cookbook create prog # cd prog; ls attributes CHANGELOG.md definitions files libraries metadata.rb providers README.md recipes resources templates</span></span></code> </pre><br>  In our project, we will use only the directories <i>attributes, recipes, templates</i> , as well as the file <i>metadata.rb</i> . <br>  Let's start from the end.  The <i>metadata.rb</i> file contains basic information about the recipe, its developer, its license and version, as well as dependencies and a list of supported OS. <br><br><div class="spoiler">  <b class="spoiler_title">Example</b> <div class="spoiler_text"><pre> <code class="ruby hljs">name <span class="hljs-string"><span class="hljs-string">'prog'</span></span> maintainer <span class="hljs-string"><span class="hljs-string">'vstconsulting'</span></span> maintainer_email <span class="hljs-string"><span class="hljs-string">'admin@vst.lan'</span></span> license <span class="hljs-string"><span class="hljs-string">'All rights reserved'</span></span> description <span class="hljs-string"><span class="hljs-string">'Installs/Configures Prog'</span></span> long_description IO.read(File.join(File.dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>), <span class="hljs-string"><span class="hljs-string">'README.md'</span></span>)) version <span class="hljs-string"><span class="hljs-string">'1.2.3'</span></span> <span class="hljs-comment"><span class="hljs-comment">#    %w{ ubuntu debian centos redhat fedora oracle windows}.each do |os| supports os end #  %w{ java }.each do |cb| depends cb end</span></span></code> </pre><br></div></div><br>  In our example, the dependence on the java recipe is indicated in order to avoid problems with its absence.  <a href="https://supermarket.chef.io/">There</a> are ready-made recipes, including java. <br><br>  Further, in the <i>recipes</i> directory we see the file <i>default.rb</i> .  We result in the following form: <br><br><div class="spoiler">  <b class="spoiler_title">view</b> <div class="spoiler_text"><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># # Cookbook Name:: Prog # Recipe:: default # # Copyright 2015, vstconsulting # # All rights reserved - Do Not Redistribute # #  jdk  1.7 node.override['java']['jdk_version'] = '7' include_recipe "java" #   case node['platform_family'] when 'debian' include_recipe 'prog::deb' when 'rhel' include_recipe 'prog::rhel' when 'windows' include_recipe 'prog::windows' else Chef::Application.fatal!('Attempted to install on an unsupported platform') end package_name = node['prog']['package'] remote_file 'prog' do path "#{Chef::Config[:file_cache_path]}/#{package_name}" source "http://domain.lan/packages/#{package_name}" mode 0644 end package 'prog' do source "#{Chef::Config[:file_cache_path]}/#{package_name}" end service 'prog' do action [:enable, :start] end template "#{node['prog']['conf_dir']}/main.conf" do source 'main.conf.erb' notifies :restart, 'service[prog]', :delayed end</span></span></code> </pre><br></div></div><br>  In order: <br><ul><li>  <i>node.override ['java'] ['jdk_version'] = '7'</i> means that for the <i>java</i> cookbook, we change the default value of the <i>jdk_version</i> attribute to '7'.  About the attributes will be discussed later. </li><li>  <i>include_recipe "java"</i> says that we must start the recipe default.rb from the java kookbook first.  Further preparation according to the recipe will be only after <u>successful</u> preparation according to the recipe java. </li><li>  Using the <i>case</i> construction and the standard attribute <i>platform_family,</i> we define the platform to be installed and call the corresponding recipe from the current cookbook.  By and large, in those recipes you can make all the manipulations with the installation and launch, but since  Most of the actions will be identical, we will there bring some parameters to the required form for a specific platform. </li><li>  <i>package_name = node ['prog'] ['package']</i> says that we declare a variable, which we will use in the future.  This variable contains the value of the attribute 'package' </li><li>  <i>The remote_file</i> construction allows us to load a file from an open source and save it in a directory with a cache. </li><li>  <i>service</i> design says that our service will be in autoload and started. </li><li>  <i>The template</i> construction saves the configuration template to the required directory and restarts the service. </li></ul><br>  In fact, I describe a universal recipe, with which you can install almost any package in almost any system. <br><br>  Next, we need to fix the attributes.  Attributes are a convenient mechanism in the cookbooks, which allows you to set as many parameters as you like from the outside.  In our example, 4 attributes will be used: <i>package, conf_dir, prog_name, cluster</i> . <br>  We give <i>attributes / default.rb</i> to the following form: <br><br><pre> <code class="ruby hljs">default[<span class="hljs-string"><span class="hljs-string">'prog'</span></span>][<span class="hljs-string"><span class="hljs-string">'prog_name'</span></span>] = <span class="hljs-string"><span class="hljs-string">'somejavademon'</span></span> default[<span class="hljs-string"><span class="hljs-string">'prog'</span></span>][<span class="hljs-string"><span class="hljs-string">'package'</span></span>] = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{node[</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'prog'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">][</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'prog_name'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">.deb"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> node[<span class="hljs-string"><span class="hljs-string">'platform_family'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">'debian'</span></span> default[<span class="hljs-string"><span class="hljs-string">'prog'</span></span>][<span class="hljs-string"><span class="hljs-string">'conf_dir'</span></span>] = <span class="hljs-string"><span class="hljs-string">"/etc/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{node[</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'prog'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">][</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'prog_name'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">/conf"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">'rhel'</span></span> default[<span class="hljs-string"><span class="hljs-string">'prog'</span></span>][<span class="hljs-string"><span class="hljs-string">'conf_dir'</span></span>] = <span class="hljs-string"><span class="hljs-string">"/etc/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{node[</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'prog'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">][</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'prog_name'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">/conf"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">'windows'</span></span> default[<span class="hljs-string"><span class="hljs-string">'prog'</span></span>][<span class="hljs-string"><span class="hljs-string">'conf_dir'</span></span>] = <span class="hljs-string"><span class="hljs-string">"C:/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{node[</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'prog'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">][</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'prog_name'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">/conf"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Chef::Application.fatal!(<span class="hljs-string"><span class="hljs-string">'Attempted to install on an unsupported platform'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  Thus, we set the basic attribute values, while taking into account that for different systems, the location of the configuration files will be in different places. <br><br>  Now, we need to create a configuration file template: <br><br><div class="spoiler">  <b class="spoiler_title">templates / default / main.conf.erb</b> <div class="spoiler_text"><pre> <code class="ruby hljs">cluster.<span class="hljs-symbol"><span class="hljs-symbol">name:</span></span> &lt;%= node[<span class="hljs-string"><span class="hljs-string">"prog"</span></span>][<span class="hljs-string"><span class="hljs-string">"cluster"</span></span>] %&gt; node.<span class="hljs-symbol"><span class="hljs-symbol">name:</span></span> &lt;%= node[<span class="hljs-string"><span class="hljs-string">'hostname'</span></span>] %&gt;</code> </pre><br></div></div><br>  I think after the foregoing it is clear how you can substitute the necessary attributes into the template.  You can even use cycles, but I will not focus on this. <br><br>  I did not mention, but additional recipes for templates should also be created: <br><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># cat recipes/deb node.override['prog']['package'] = "#{node['prog']['prog_name']}.deb" # cat recipes/rhel node.override['prog']['package'] = "#{node['prog']['prog_name']}.rpm" # cat recipes/windows node.override['prog']['package'] = "#{node['prog']['prog_name']}.msi"</span></span></code> </pre><br>  Yes, this is so simple. <br><br>  Upload our recipes to the server: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># knife cookbook upload --all</span></span></code> </pre><br><h5>  Environment </h5><br>  Now we will create an example of a simple environment from which our parameters will be taken. <br>  This is not necessary, but it will be very useful to understand how it works. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># export EDITOR=nano # knife environment create someserver -d "Environment for group of servers where somejavademon will work."</span></span></code> </pre><br>  A window of the specified EDITOR will open in which we will enter the following information: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"someserver"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Environment for group of servers where somejavademon will work."</span></span>, <span class="hljs-string"><span class="hljs-string">"cookbook_versions"</span></span>: { }, <span class="hljs-string"><span class="hljs-string">"json_class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Chef::Environment"</span></span>, <span class="hljs-string"><span class="hljs-string">"chef_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"environment"</span></span>, <span class="hljs-string"><span class="hljs-string">"default_attributes"</span></span>: { }, <span class="hljs-string"><span class="hljs-string">"override_attributes"</span></span>: { <span class="hljs-string"><span class="hljs-string">"prog"</span></span>: { <span class="hljs-string"><span class="hljs-string">"prog_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"somejavaserver"</span></span>, } } }</code> </pre><br>  Now this environment can be used on a number of hosts, where it will be installed exactly <i>somejavaserver</i> . <br><br><h5>  DEPLOY </h5><br>  Now we come to the most important thing: the distribution of our product across servers. <br><ul><li>  We have a recipe, which indicates what, how and where to install. </li><li>  We have an Env which indicates what specifically needs to be installed. </li><li>  We have a working server Chef, on which it all lies and it has access to all the necessary servers. </li><li>  We have 100 servers with a working domainname on Ubuntu, CentOS, on which all this needs to be installed. </li><li>  We have root / admin access via ssh to all necessary servers. </li></ul><br>  Now, to install the recipe we need on the server, we need to run: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># knife bootstrap --run-list "recipe[prog]" server1.domain.lan -E someserver -P rootpasswordfromnode</span></span></code> </pre><br>  Nothing prevents us from writing a script: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash for i in {1..100}; do knife bootstrap --run-list "recipe[prog]" server$i.domain.lan -E someserver -P rootpasswordfromnode done</span></span></code> </pre><br>  After some time (5 minutes / half hour / hour / day) all 100 servers will be in service in full readiness. <br>  In any case, installing a Chef server, writing a recipe and env, as well as deploy, will take less or as much time as manually installing the package on each server.  BUT!  If everything is ready with us, then re-installation will take much less time and even more effort.  The most important thing is that you do not need to do anything manually.  Just specify the list of servers, run the script and go read the new publications on Habr√©. <br><br><h5>  What else can you do? </h5><br>  This is quite a philosophical question. <br>  You can (and should) install <a href="https://github.com/chef/knife-windows">knife-windows</a> .  It's not difficult there, but if you have questions, I'm ready to help. <br>  You can download a bunch of ready-made recipes from the supermarket and deploy everything you want for the desired number of servers. <br>  You can write your own recipes for all occasions and reduce server maintenance to installing the OS (which is also quite well automated using PXE), equipment replacement and monitoring. <br>  You can connect Chef to OpenStack (if there is one) and deploy new servers and services in batches.  <a href="http://cloudinit.readthedocs.org/en/latest/topics/examples.html">Here</a> you can find out how to do it.  There is nothing difficult, especially if you have already dealt with Cloud Init and Chef. <br><br>  If I forgot to add something, then correct me, please, in the comments. <br><br>  I hope this publication will help someone to deal with Chef and routine work in the server or office. <br><br>  <b>UPD:</b> I decided to add an example <i>cloud-config</i> for OpenStack: <br><div class="spoiler">  <b class="spoiler_title"># cloud-config</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#cloud-config packages: - chef chef: install_type: "packages" force_install: false # Chef settings server_url: "https://chef-server.lan/organizations/organization_name" validation_name: "organization_name-validator" validation_key: | -----BEGIN RSA PRIVATE KEY----- .................................................. -----END RSA PRIVATE KEY----- run_list: - "recipe[somerecipe]" output: {all: '| tee -a /var/log/cloud-init-output.log'} runcmd: - service chef-client restart</span></span></code> </pre><br><br>  The VM after the start will install the chef-client, set it up to communicate with the chef-server. <br>  Restarting the client is necessary so that chef picks up the recipe right away, and not wait for some time.  For some reason, he was waiting for the next scheduled request without restarting. <br>  An example for Ubuntu.  On CentOS, you need to do a few more actions. <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/263341/">https://habr.com/ru/post/263341/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263327/index.html">ESET & Hacking Team malware</a></li>
<li><a href="../263329/index.html">I resent: the difference between 3D and virtual reality</a></li>
<li><a href="../263331/index.html">Why programming is easy</a></li>
<li><a href="../263333/index.html">Pussy: Refactoring. Part three or brushing roughness</a></li>
<li><a href="../263335/index.html">JRuby 9000 Release Released</a></li>
<li><a href="../263345/index.html">Magic of tensor algebra: Part 11 - Acceleration of a point of a body during free movement. Solid Corner Acceleration</a></li>
<li><a href="../263347/index.html">Winium.Desktop: Selenium for desktop applications under Windows</a></li>
<li><a href="../263349/index.html">Modern Internet with the eyes of the blind - Headers</a></li>
<li><a href="../263351/index.html">Seminar on cryptography and PGP Keysigning party</a></li>
<li><a href="../263353/index.html">Short notes: a bunch of Redmine + StatusCake</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>