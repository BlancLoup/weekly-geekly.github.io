<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As I took the data from the BLE-thermometer from Xiaomi</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Background: as one of my hobbies, I had a ‚Äúsmart home‚Äù. I want beautiful devices, but I still want freedom and privacy. Therefore, I am engaged in cro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As I took the data from the BLE-thermometer from Xiaomi</h1><div class="post__text post__text-html js-mediator-article">  Background: as one of my hobbies, I had a ‚Äúsmart home‚Äù.  I want beautiful devices, but I still want freedom and privacy.  Therefore, I am engaged in crossing Xiaomi uzhik with a hedgehog <a href="https://home-assistant.io/">Home Assistant</a> . <br><br>  To maintain comfortable conditions, we need to know what is happening at home in general.  In short, we need sensors.  Xiaomi has many different ones, but most of all I liked the square thermometer on electronic ink.  But it‚Äôs not at all clever, in the sense that it doesn‚Äôt provide any interfaces at all, except for the graphic one - neither WiFi, nor BLE, nor ZigBee.  But CR2032 batteries last for several years.  There is another version with bluetooth, but it is a little less elegant - a kind of thick pancake. <br><br>  And in the beginning of spring a new temperature / humidity sensor was announced, on electronic ink, with BLE, and even with a clock.  I don‚Äôt need a watch especially, but everything else immediately suppressed all rational arguments and the thermometer was ordered at one of the popular online stores, on preorder.  It went riding, and finally arrived. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/n2/62/pf/n262pfr57ulreqqa4i_vsvvacoa.jpeg"><br><br>  The sensor was added to the MiHome application without problems (I have an English-language interface everywhere, with the Russian version of MiHome, they say there were difficulties in translation).  Shows current values ‚Äã‚Äãand change history. <br><br>  But with the integration into the Home Assistant complexity has happened.  The existing component for the temperature sensor did not want to take any data from the device and complained about the wrong data format.  Well, nothing to do, we get a shovel and start digging. <br><br>  My first thought was to familiarize myself with the BLE protocol device, but after assessing the size of the documentation, it was decided to switch to the national custom method. <br><a name="habracut"></a><br><h2>  The first approach to the projectile </h2><br>  To begin with, open the terminal on ubunt and launch the bluetoothctl.  We see the following: <br><br><pre><code class="plaintext hljs">[NEW] Controller 00:1A:7D:DA:71:13 fett [default] [NEW] Device 3F:59:C8:80:70:BE LYWSD02 [NEW] Device 4C:65:A8:DC:0D:AF MJ_HT_V1</code> </pre> <br>  MJ_HT_V1 is an old temperature sensor, LYWSD02 is a new one.  The difference in the model naming format is somewhat alarming. <br><br>  Then we need to somehow read, and what data we can get at all.  Opened the <a href="https://github.com/ratcashdev/mitemp">mitemp</a> library <a href="https://github.com/ratcashdev/mitemp">sources</a> , which is used in Home Assistant to get data from the old sensor.  There I found that the library used blewrap, which, in turn, is a wrapper over two Python libraries to work with BLE.  So many layers to me to anything, we will use <a href="http://ianharvey.github.io/bluepy-doc/index.html">bluepy</a> .  There is documentation, there is not a lot of it and not a little, we read and write a script that goes through all the data fields that are on the device. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bluepy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> btle mac = <span class="hljs-string"><span class="hljs-string">'3F:59:C8:80:70:BE'</span></span> p = btle.Peripheral(mac) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> p.getServices(): print(<span class="hljs-string"><span class="hljs-string">'Service:'</span></span>, s.uuid) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s.getCharacteristics(): print(<span class="hljs-string"><span class="hljs-string">'\tCharacteristic:'</span></span>, c.uuid) print(<span class="hljs-string"><span class="hljs-string">'\t\t'</span></span>, c.propertiesToString()) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> c.supportsRead(): print(<span class="hljs-string"><span class="hljs-string">'\t\t'</span></span>, c.read())</code> </pre> <br>  In general, everything is simple - the BLE device provides a set of services, each of which consists of a set of characteristics.  Each characteristic can be of one of 8 types, for one characteristic it is possible to specify several types simultaneously.  Services and features are identified in two ways - an address in the form of HEX values ‚Äã‚Äãand a UUID.  With UUID I work somehow familiar. <br><br>  So, I counted all the characteristics for both sensors, looked at them and realized that devices from completely different manufacturers are being sold again under the Xiaomi brand.  Among the values ‚Äã‚Äãof the old sensor was found "Cleargrass Inc", and in the new - "miaomiaoce.com".  The structure of services and characteristics of these two sensors are also completely different, and the list of characteristics of the new sensor is twice as long.  It became clear that you need to write your own library to integrate with the sensor (no, of course I google first, maybe there is something useful at the request of LYWSD02, but I did not give anything sensible to Google). <br><br><h2>  How to get the data? </h2><br>  Among the available types of characteristics, besides READ, there is also WRITE and NOTIFY.  WRITE is for sending data to the device, and NOTIFY is for receiving data.  There is still WRITE NOTIFY at the same time - the device will send data only after they subscribe to it, sending the required byte with the WRITE command. <br><br>  Attempts to do something with my hands did not bring any result, the first line of despair was reached, but at that moment I read articles about crafts based on chips from Nordic Semiconductors and put the <a href="https://itunes.apple.com/us/app/nrf-connect/id1054362403">nRF Connect</a> program on a smartphone.  With it, I was able to subscribe to all the services provided by the device, saved the logs of the answers and began to try to understand what was in them. <br><br> <a href=""><img src="https://habrastorage.org/webt/gy/xz/ak/gyxzakm5oinigfzudk_u7zvs6tw.png"></a> <br><br>  These triple arrows activate the subscription. <br><br>  The peculiarity of the old sensor was that the data on temperature and humidity came in the form of a UTF string, while the new one gave up everything in binary form. <br><br><h2>  Subscribe to notifications </h2><br>  To receive data from the sensor, you need to send a subscription request.  In the mitemp library for this, two bytes were sent to the characteristic, but it is not clear where to get it. Then I looked at how the data structure for the old sensor in nRF Connect looks and noticed that the correct address was specified for the characteristic with the data as a kind of descriptor.  Then I began to read the documentation for bluepy again and I realized that the address of the descriptor can be easily obtained from the object characteristics.  It remains only to write a class with a callback method, which will receive data from the notification. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyDelegate</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(btle.DefaultDelegate)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleNotification</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, cHandle, data)</span></span></span><span class="hljs-function">:</span></span> print(data) mac_addr = <span class="hljs-string"><span class="hljs-string">'3F:59:C8:80:70:BE'</span></span> p = btle.Peripheral(mac_addr) p.setDelegate(MyDelegate()) uuid = <span class="hljs-string"><span class="hljs-string">'EBE0CCC1-7A0A-4B0C-8A1A-6FF2997DA3A6'</span></span> <span class="hljs-comment"><span class="hljs-comment">#    ,        ch = p.getCharacteristics(uuid=uuid)[0] #     desc = ch.getDescriptors(forUUID=0x2902)[0] #  ,         desc.write(0x01.to_bytes(2, byteorder="little"), withResponse=True) while True: p.waitForNotifications(5.0)</span></span></code> </pre> <br><h2>  Separate the wheat from the chaff </h2><br>  Fortunately, only three characteristics were labeled as WRITE NOTIFY, with the data coming at different frequencies and, uh ..., visual features. <br><br>  The first request sent immediately a large data dispenser, and then it stuck.  In this case, the first byte was a monotonically increasing number.  It appears that this is an accumulated history of averages. <br><br>  The second and third were sent periodically, but looking closer, I saw that one of them does not change, and in the data of the second only one byte changes.  Well, it means that this is the current time (I remind you that there is a clock in this thermometer. There should be a clock in any self-respecting device for a smart home). <br><br>  Suppose the third characteristic is useful data on temperature and humidity.  To confirm the hypothesis, a physical experiment was carried out - went up to the sensor and rudely breathed on it.  The display has dramatically increased data values, and in the terminal - the Baitics have changed.  Cheers, data somewhere nearby. <br><br><h2>  Parsing data </h2><br>  I usually work with textual data (get data via HTTP in the form of JSON / xml, put it in a file or in a database), so I didn‚Äôt really know how to approach a task.  Therefore, I began to try to transform the data in different ways that can be made from python.  I wrote such a function-converter and began to look at how it relates to the data on the sensor screen. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v)</span></span></span><span class="hljs-function">:</span></span> print([x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> v]) print(<span class="hljs-string"><span class="hljs-string">'{0:#x}'</span></span>.format(int.from_bytes(data, byteorder=<span class="hljs-string"><span class="hljs-string">'big'</span></span>))) print(<span class="hljs-string"><span class="hljs-string">'{0:#x}'</span></span>.format(int.from_bytes(data, byteorder=<span class="hljs-string"><span class="hljs-string">'little'</span></span>)))</code> </pre> <br>  Lines of varying degrees of incomprehensibility fell in the console, but the third byte was always a number, and this number coincided with the value of humidity.  To be sure, I once again breathed on the sensor - and the humidity values ‚Äã‚Äãon the screen and in the third byte changed the same way! <br><br>  Here I assumed that the temperature is stored in the first two bytes.  In order for the data to change - transferred the sensor to the heated towel rail in the bathroom.  But, no matter how hard I tried to transform the results, the necessary numbers did not work. <br><br><h2>  On the way to success </h2><br>  At this point, I once again looked at the <a href="https://www.banggood.com/Xiaomi-Mijia-BT4_0-Wireless-Smart-Electric-Digital-IndoorOutdoor-Hygrometer-Thermometer-Clock-Tools-Set-p-1447044.html">description of the sensor</a> and saw that there was a Swiss Sensirion sensor inside.  It was probably worth starting with this, but this is not our method.  A <a href="https://www.sensirion.com/en/environmental-sensors/humidity-sensors/">package of sensors</a> was found on the Swiss Sensirion website, and datasheets for them.  In the datasheet, among other things, a formula was found for converting bytes transmitted via the I2C bus into a number. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mo stretchy=&quot;false&quot;>[</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xB0;</mo></mrow><mi>C</mi><mo stretchy=&quot;false&quot;>]</mo><mo>=</mo><mo>&amp;#x2212;</mo><mn>45</mn><mo>+</mo><mn>175</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>S</mi><mi>T</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn><mo>&amp;#x2212;</mo><mn>1</mn></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="39.529ex" height="3.021ex" viewBox="0 -987.6 17019.5 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-5B" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-B0" x="983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-43" x="1483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-5D" x="2244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-3D" x="2800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-2212" x="3856" y="0"></use><g transform="translate(4635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-2B" x="5858" y="0"></use><g transform="translate(6859,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-63" x="8610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-64" x="9044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-6F" x="9567" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-74" x="10053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-66" x="10664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-72" x="11215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-61" x="11666" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-63" x="12196" y="0"></use><g transform="translate(12629,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-54" x="867" y="-213"></use></g><g transform="translate(13841,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-31" x="707" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-36" x="954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-2212" x="1677" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-31" x="2677" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mo stretchy="false">[</mo><mrow class="MJX-TeXAtom-ORD"><mo>¬∞</mo></mrow><mi>C</mi><mo stretchy="false">]</mo><mo>=</mo><mo>‚àí</mo><mn>45</mn><mo>+</mo><mn>175</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>S</mi><mi>T</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn><mo>‚àí</mo><mn>1</mn></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> T [¬∞ C] = -45 + 175 \ cdot \ frac {S_T} {2 ^ 16-1} </script></p><br><br>  But ... It turned out very strange values.  Something like -34.66, and I was obviously warmer.  From sadness and sadness, I even opened the sensor and checked if the sensor from Swiss Sensirion was true.  It turned out that it is true, but with the SHTC3 index, and a slightly different formula is needed for it. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mo stretchy=&quot;false&quot;>[</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xB0;</mo></mrow><mi>C</mi><mo stretchy=&quot;false&quot;>]</mo><mo>=</mo><mo>&amp;#x2212;</mo><mn>45</mn><mo>+</mo><mn>175</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>S</mi><mi>T</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.526ex" height="3.021ex" viewBox="0 -987.6 15296.1 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-5B" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-B0" x="983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-43" x="1483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-5D" x="2244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-3D" x="2800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-2212" x="3856" y="0"></use><g transform="translate(4635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-2B" x="5858" y="0"></use><g transform="translate(6859,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-63" x="8610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-64" x="9044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-6F" x="9567" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-74" x="10053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-66" x="10664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-72" x="11215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-61" x="11666" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-63" x="12196" y="0"></use><g transform="translate(12629,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMATHI-54" x="867" y="-213"></use></g><g transform="translate(13841,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-31" x="707" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/452558/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259&amp;usg=ALkJrhg7KSUu2JEQ2hfhwAFwjJtgWqHiew#MJMAIN-36" x="954" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mo stretchy="false">[</mo><mrow class="MJX-TeXAtom-ORD"><mo>¬∞</mo></mrow><mi>C</mi><mo stretchy="false">]</mo><mo>=</mo><mo>‚àí</mo><mn>45</mn><mo>+</mo><mn>175</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>S</mi><mi>T</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> T [¬∞ C] = -45 + 175 \ cdot \ frac {S_T} {2 ^ 16} </script></p><br><br>  However, all the same, the data after the conversion was not even close to real ones.  Then I became even more sad, opened the source code of the library for SHTC3 from Adafruit and began to try to adapt the transformation code from C ++ to python.  Deduced all in a label - the raw data, transformed sishny structure and result. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleNotification</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, cHandle, data)</span></span></span><span class="hljs-function">:</span></span> temp = data[:<span class="hljs-number"><span class="hljs-number">2</span></span>] humid = data[<span class="hljs-number"><span class="hljs-number">2</span></span>] unpacked = struct.unpack(<span class="hljs-string"><span class="hljs-string">'H'</span></span>, temp)[<span class="hljs-number"><span class="hljs-number">0</span></span>] print(data, unpacked, <span class="hljs-number"><span class="hljs-number">-45</span></span> + <span class="hljs-number"><span class="hljs-number">175</span></span> * unpacked / <span class="hljs-number"><span class="hljs-number">2</span></span> ** <span class="hljs-number"><span class="hljs-number">19</span></span>, sep=<span class="hljs-string"><span class="hljs-string">'\t'</span></span>)</code> </pre> <br>  Got something like this: <br><br><pre> <code class="plaintext hljs">b',\n2' 2604 -44.130821228027344 b'-\n2' 2605 -44.1304874420166 b'+\n2' 2603 -44.131155014038086 b',\n2' 2604 -44.130821228027344</code> </pre> <br>  Yes ... somehow cold ... But, wait, wait, what is this 2604?  This is it, 26.0 degrees on the screen!  To confirm the hypothesis, again took the sensor to the battery, checked - the values ‚Äã‚Äãare the same. <br><br>  As a result, we get the following data conversion code: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleNotification</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, cHandle, data)</span></span></span><span class="hljs-function">:</span></span> humid_bytes = data[<span class="hljs-number"><span class="hljs-number">2</span></span>] temp_bytes = data[:<span class="hljs-number"><span class="hljs-number">2</span></span>] humidity = humid_bytes temperature = struct.unpack(<span class="hljs-string"><span class="hljs-string">'H'</span></span>, temp_bytes)[<span class="hljs-number"><span class="hljs-number">0</span></span>] / <span class="hljs-number"><span class="hljs-number">100</span></span> print(temperature, humidity)</code> </pre><br><h2>  Epilogue </h2><br>  A couple of evenings went on operations to connect to the sensor and search for the right transformation algorithm.  I wanted to quit everything several times, but at the same time new ideas came along and I kept trying. <br><br>  Now the data is transferred to the Home Assistant, then you need to finish the integration code and maybe rewrite it from bluepy to bleak, since bleak uses async / await and is better suited for Home Assistant, written by aiohttp. <br><br><img src="https://habrastorage.org/webt/jm/eb/ij/jmebijgiosb2hpbfup3agswpsgu.png"><br><br><h3>  References: </h3><br><ul><li>  <a href="https://item.mi.com/product/9542.html">Sensor Page at mi.com</a> </li><li>  <a href="http://ianharvey.github.io/bluepy-doc/index.html">Bluepy documentation</a> </li><li>  <a href="https://www.sensirion.com/en/environmental-sensors/humidity-sensors/digital-humidity-sensor-shtc3-our-new-standard-for-consumer-electronics/">SHTC3 sensor</a> </li><li>  <a href="https://gist.github.com/h4/195dbc9f4deee5d642f1b534a7d048e5">Services and Specs MJ_HT_V1</a> </li><li>  <a href="https://gist.github.com/h4/485c733aff816db5ccce5028819d534a">Services and specifications LYWSD02</a> </li><li>  <a href="https://github.com/h4/LYWSD02-home-assistant">Repository with a draft version of integration in Home Assistant</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/452558/">https://habr.com/ru/post/452558/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452546/index.html">AirSelfie 2 Power Edition - Vyalik's camera. Or not?</a></li>
<li><a href="../452548/index.html">What are you ready for iPhone?</a></li>
<li><a href="../45255/index.html">Vision problems</a></li>
<li><a href="../452552/index.html">Cross-compiling Scala in the Gradle project</a></li>
<li><a href="../452556/index.html">The digest of fresh materials from the world of the frontend for the last week No. 365 (May 13 - 19, 2019)</a></li>
<li><a href="../45256/index.html">Some experience with freelancers</a></li>
<li><a href="../452560/index.html">PHP Digest number 156 (May 6 - 20, 2019)</a></li>
<li><a href="../452562/index.html">Writing clean and scalable javascript code: 12 tips</a></li>
<li><a href="../452564/index.html">Python 3 features worthy of being used</a></li>
<li><a href="../452566/index.html">Node.js for beginners: the basics of working with files</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>