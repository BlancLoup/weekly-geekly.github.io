<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a multilanguage blog using OctoberCMS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This first part of a series of articles on how to create a multilingual blog using OctoberCMS. 


- Part 1 
- Part 2 


 Support for multiple language...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a multilanguage blog using OctoberCMS</h1><div class="post__text post__text-html js-mediator-article"><p>  This first part of a series of articles on how to create a multilingual blog using OctoberCMS. </p><br><ul><li>  <a href="https://habrahabr.ru/post/305802/">Part 1</a> </li><li>  <a href="https://habrahabr.ru/post/307726/">Part 2</a> </li></ul><br><p>  Support for multiple languages ‚Äã‚Äãon the site can be a serious problem.  If you don‚Äôt use the right tools, development will take you a lot longer than developing a regular website. </p><br><p>  In the series of these tutorials I will tell you how to use OctoberCMS to develop such a site. </p><br><p><img src="https://habrastorage.org/files/6ca/cc7/214/6cacc721440549ff856738b51b40d867.png" alt="image"></p><br><a name="habracut"></a><br><p>  As a result, we get a fairly simple site, which will contain: </p><br><ul><li>  Homepage, with static content and latest blog posts. </li><li>  Different pages with static content </li><li>  Blog - includes blog posts and categories. </li><li>  Page to view full blog post </li><li>  Category View Page </li></ul><br><p>  For the finished site framework, we will take the theme and plugins from the OctoberCMS store: </p><br><ul><li>  <a href="http://octobercms.com/theme/responsiv-flat">Flat UI theme</a> - Flat UI theme that uses Twitter Bootstrap as a base.  This is currently the most downloaded theme in the store. </li><li>  <a href="http://octobercms.com/plugin/rainlab-translate">Translate plugin</a> - provides multilingual features for the site and plug-ins. </li><li>  <a href="http://octobercms.com/plugin/rainlab-pages">Static Pages plugin</a> - content management, navigation, site pages.  "Masthev" for customers who do not know how to program </li></ul><br><h3>  Preparing the working environment </h3><br><p>  The easiest way to install plugins and themes from the OctoberCMS store is to create an account at <a href="http://octobercms.com/">octobercms.com</a> .  Any plugin or theme that you add to yourself on octobercms.com will be automatically installed in your application during the update.  How to install the CMS itself - you can read <a href="https://habrahabr.ru/post/250415/">here</a> . </p><br><h3>  Translate plugin </h3><br><p>  With this plugin you can translate blog posts, text in templates, in general, any text on your site.  A full description of the possibilities of plug-ins deserves a separate post, in this article I will talk about the basic features. </p><br><p>  To switch the language on the site there are several solutions: </p><br><ol><li>  The desired language can be part of the URL (i.e. <a href="http://example.com/fr">http://example.com/fr</a> ) </li><li>  Visitors can select a language using the controls on the site. </li></ol><br><p>  We will use the second option. </p><br><p>  All strings that you output using the <a href="http://twig.sensiolabs.org/">Twig</a> _ (underscore) filter will automatically become "multilanguage."  You can translate them in the admin panel, in the <em>Settings</em> -&gt; <em>Translate Messages page</em> .  Example: </p><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>{{ ' '|_ }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  When the page is updated, the <code> </code> line <code> </code> automatically added to the Translate table of the Translate plugin, where you can translate the line into different languages. </p><br><p><img src="https://habrastorage.org/files/91c/b5a/b51/91cb5ab516794822aa654a1fc1991cb7.png" alt="image"></p><br><p>  If you want to publish or write something in another language, be it a blog post or just a text, then select the desired language directly in the editor. </p><br><p><img src="https://habrastorage.org/files/94b/22d/d33/94b22dd330354da78ee30a5a09c677e2.png" alt="image"></p><br><h3>  Clean the topic of excess (optional) </h3><br><p>  Despite the fact that you can write a topic yourself, it makes sense to take a finished topic as a basis, since it defines the basic structure of the site and helps you understand how OctoberCMS themes work.  Flat UI is a very flexible theme but contains many pages that are not needed for our project.  It can be fixed. </p><br><p>  Let's go to the catalog <code>pages</code> our topic.  From there, you can delete the <code>shop</code> and <code>portfolio</code> directories, the <code>ui-elements.htm</code> file, and all files in the <code>samples</code> directory, except <code>about.htm</code> .  Next, go to <code>partials</code> and delete the catalog <code>shop</code> which we also do not need. </p><br><h3>  Menu creation </h3><br><p>  There are several tools with which we can make a menu.  For example, you can use the <code>Static Pages</code> plugin, which has a visual tool for creating menus.  This is ideal for large sites where the navigation structure will evolve rapidly. </p><br><p>  Another option is to write the menu code manually right in the templates, as is done in our theme.  The main menu is defined in the <code>partials/nav.htm</code> . </p><br><p>  Open <code>partials/nav.html</code> in a text editor and delete everything above <code>&lt;nav id="layout-nav" ...</code>  Also remove <code>{{ nav.render_menu(links) }}</code> and the <code>Sign in</code> button. </p><br><p>  We cleaned the file from unnecessary, let's add menu items.  The menu uses bootstrap markup with October chips.  The filter <a href="http://octobercms.com/docs/markup/filter-page"><code>page</code></a> returns the url in the file path.  Of course, it is not necessary to use it, but it will be easier with it. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nav navbar-nav navbar-right"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ 'blog' == currentPage ? 'active' }}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ 'blog/blog'|page }}"</span></span></span><span class="hljs-tag">&gt;</span></span>Blog<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ 'about' == currentPage ? 'active' }}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ 'samples/about'|page }}"</span></span></span><span class="hljs-tag">&gt;</span></span>About<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Have we forgotten something?  Of course, you need to add more translations to the menu.  We will use the twig filter already familiar to us: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ 'blog/blog'|page }}"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ 'Blog'|_ }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ 'samples/about'|page }}"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ 'About'|_ }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>.</code> </pre> <br><p>  Is done.  Refresh the page and you will see your menu in English, and the <strong>Translate</strong> plugin has already added your lines to the list of translations. </p><br><h3>  home page of the site </h3><br><p>  The <strong>Flat UI</strong> theme contains a main page for itself, on which there is a lot of superfluous: registration form, recent tweets, many unnecessary blocks. </p><br><p>  registration form, recent tweets, many unnecessary blocks. </p><br><p>  To simplify its appearance, we will remove the excess from there.  Open <code>home.htm</code> in your text editor and delete the entire block with the <code>home-title</code> class and the div element with the <code>recent-tweets</code> . </p><br><p>  Now we will replace the <code>What we do</code> block with a block with content that we can change in the admin panel.  This opportunity gives us a plugin <strong>Static Pages</strong> .  Go to the <em>Pages</em> section in the October admin panel and select the <em>Content</em> item in the sidebar.  Click on the <code>Add</code> button and enter <code>home-intro</code> in the file name field.  Add any text to its contents and save the file.  We will return to it later. </p><br><p><img src="https://habrastorage.org/files/4e5/ed4/7ea/4e5ed47eadc3435e9214777188925e97.png" alt="image"></p><br><p>  Go back to <code>home.htm</code> and replace all the content inside the div with the class <code>col-sm-12</code> with a code with the <a href="http://octobercms.com/docs/markup/tag-content">content</a> tag: </p><br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-template-tag"><span class="xml"></span><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name">content</span></span></span><span class="hljs-template-tag"> "home-intro.htm" %}</span></span><span class="xml"></span><span class="xml"></span></code> </pre> <br><p>  Save the file and go to the main page of the site.  There you should see what we wrote in the file <code>home-intro.htm</code> . </p><br><h3>  Pages "About us" and "404" </h3><br><p>  These pages will contain only static translatable content, so the process of creating them essentially repeats our previous manipulations with the home page.  Create new files in <em>Pages</em> , remove unnecessary content from <code>samples/about.htm</code> and <code>404.htm</code> and replace it with the <code>content</code> construct with your newly created files. </p><br><h3>  Language switch </h3><br><p>  Now you need to make it possible to switch the language for site visitors.  <code>Translate</code> plugin contains <a href="http://octobercms.com/docs/cms/components">language switch component</a> and we can easily add it to our site.  Place it in the footer, right under the menu. </p><br><p>  Components can be added simply by manually registering them in the desired file, but it is much easier to do this with the help of drag and drop in the OctoberCMS admin area.  Open <code>default.htm</code> in admin panel.  Click on the <em>Components</em> tab in the sidebar, find the <code>Transalte</code> section, take it and move it to the <code>footer</code> in the HTML editor.  Is done.  Of course, you can add a style component to the component, but it works without it. </p><br><p><img src="https://habrastorage.org/files/ab4/675/536/ab467553623f4adeb809c58887d77f54.png" alt="image"></p><br><h3>  Adding new languages ‚Äã‚Äãand translatable strings </h3><br><p>  If we go to the site now, we will see that there is only one language in the switch.  You can add more by going to <em>Settings</em> ‚Üí <em>Translate</em> ‚Üí <em>Manage Languages</em> in the admin panel.  After adding languages, open the <em>Translate Messages</em> page. </p><br><p><img src="https://habrastorage.org/files/8c7/92e/acf/8c792eacf4644d23aa2fa27424bdec1b.png" alt="image"></p><br><p>  The left part displays all the translatable strings that the <em>Translate</em> plugin found on your site.  Also, there will be some standard lines from the <em>Flat UI</em> theme that can be removed. </p><br><p>  On the settings page, you can translate all strings that have been defined in the templates;  but what about content blocks?  It is very simple.  The content editor in the <code>Pages</code> plugin has a language switch in the upper right corner.  Select the desired language and enter text in another language. </p><br><p><img src="https://habrastorage.org/files/1e5/079/055/1e50790557bc4655b28c33df1fb30466.png" alt="image"></p><br><h3>  Conclusion </h3><br><p>  Of course, the site still contains text that has not been translated, but now you know what to do with it. </p><br><p>  Translated strings and content are just the tip of the iceberg.  Using the <em>Pages</em> plugin, you can create menus and multilingual pages that your customers can edit in WYSIWYG mode.  This will be covered in future articles. </p><br><p>  Here are a few articles and lessons where some plug-ins and features of October are discussed in more detail. </p><br><ul><li>  <a href="http://octobercms.com/blog/post/building-client-friendly-websites">Simple Website Management Video Tutorial for Your Customers</a> </li><li>  <a href="http://octobercms.com/blog/post/getting-started-static-pages"><em>Static Pages</em> Plugin Article</a> </li><li>  <a href="http://octobercms.com/blog/post/static-pages-content-blocks-and-placeholders">And another one</a> </li></ul><br><p>  In the second part of the article, we will add a multilingual blog to our site. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/305802/">https://habr.com/ru/post/305802/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305792/index.html">The digest of interesting materials for the mobile # 162 developer (July 11-17)</a></li>
<li><a href="../305794/index.html">Introduction to the concept of entropy and its many faces</a></li>
<li><a href="../305796/index.html">Learning OpenGL ES2 for Android Lesson ‚Ññ2. Creating triangles</a></li>
<li><a href="../305798/index.html">MVP on steroids: make the robot write the code for you</a></li>
<li><a href="../305800/index.html">STM32F405: flash 400kb in 10 seconds or a fast UART bootloader sharpened for USB-UART, less than 4 kilobytes in size</a></li>
<li><a href="../305808/index.html">PHP Digest number 88 - interesting news, materials and tools (June 13 - July 17, 2016)</a></li>
<li><a href="../305812/index.html">Honest MVC at React + Redux</a></li>
<li><a href="../305816/index.html">ITMO University Digest: Residents of our Accelerators</a></li>
<li><a href="../305818/index.html">Launch Angular2 with Visual Studio 2015</a></li>
<li><a href="../305822/index.html">What can we learn from PokemonGO?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>