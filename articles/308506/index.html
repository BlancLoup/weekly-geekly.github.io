<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building complex SCADA (bad example)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sometimes the developer can not always participate in the development of the project from scratch and is forced to work with what is, there is not alw...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building complex SCADA (bad example)</h1><div class="post__text post__text-html js-mediator-article">  Sometimes the developer can not always participate in the development of the project from scratch and is forced to work with what is, there is not always an adequate technical task, but the system must eventually come out supported. <br>  "Design, analysis of the resulting and the next iteration, until we achieve an acceptable result." <br>  This slogan is not applicable in the case when you do not even remotely represent the final result of the work.  Pledged equipment with a 2-fold margin does not withstand new requirements, and full processing is unacceptable due to the overhead of reassembly.  In the text there will be a couple of screenshots of the visualization and the FDB editor for the project (all of our internal products) ... <br><a name="habracut"></a><br>  The gloomy expert will say: ‚ÄúWhat kind of developer, if he does not understand the ultimate goal of his work ...‚Äù - just read the steps. <br><br><h5>  Act 1 "Technology" - (line cleaning product - it is also the ultimate goal) </h5><br>  <b>Characters:</b> <br>  - PLC - ICP-7188XA (icp das) (2 - 485 ports, 2 - 232 ports, 1 of them for communication with a PC); <br>  - DIO 4.3 I / O cards - minus 485 PLC port; <br>  - PDAT, PRKS sensor boards - minus 485 PLC port; <br>  - Frequency drive Delta - 3 pcs.  (RS485); <br>  - Scales Gelios (NPF) -3 pcs .; <br>  - MOXA cp132 expansion board - 2 ports; <br>  - Personal computer, Windows XP operating system SP3; <br>  <b>Restrictions - no more than 7 boards per port (64 channels each) with one exchange protocol</b> <br><br>  Controlled machines - 66, valves and valves 84. Also, position sensors and availability.  Machines, valves - on control boards, sensors on sensor boards. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Tasks:</b> <br><ul><li>  organize a sequential launch in the chosen direction, </li><li>  work out emergency situations </li><li>  organize weight accounting </li></ul><br>  We clarify the work of chastotnikov - just be able to adjust the frequency by the operator.  So you can not overload the PLC, and add to the upper level of this opportunity.  Expansion Board takes scales and chastotniki. <br>  Then everything is simple: we rivet the logic (functionally block diagrams - RoboPlant environment), we render. <br><br>  We get something like this: <br><br><img src="https://habrastorage.org/files/187/ce1/bc6/187ce1bc64b540adbf3d1a60eb111433.png" alt="image"><br><br>  <strong>We are testing</strong> <br>  We let in work.  Work cycle 1.01 sec. <br><br>  <b>Worked continuously 24 hours - checked.</b>  <b>Development from 0, no questions.</b>  <b>The solution, at least, is not bad.</b> <br><br><h5>  Act 2 "Technology" - (complicate) </h5><br>  Worked N time, decided to optimize production.  How? <br><br>  <b>Tasks:</b> <br><ul><li>  We tie the frequency drives to the performance of the scales, so that the scales are not idle </li><li>  Reduce consumption when idle - we will extinguish the line on the expiration of time (if the product is no longer than the specified time - effectively, even taking into account the starting currents) </li><li>  Add a few pieces of equipment to the PLC - organize delivery to manual lines: </li></ul><br><br>  It is not an option to start scales and chastotniki in the PLC - in any case, the operator should see WHAT happens to the line, <br>  autonomous adjustment of performance, or shutdown is unacceptable - in either case are accompanied by costs: high load on the warehouse or lack of product for the warehouse. <br><br>  Resolved - we bind to the upper level, we do the processing once a second - the performance is calculated over a longer interval (kg / h), changing the parameters faster than once a second is not necessary.  We check this solution in practice - it works. <br><br>  We add new cars, we rule logic, visualization. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c31/cb0/349/c31cb0349f034d6db8d98f7c9742b038.png" alt="image"></div><br>  We put the customer.  <b>Minus We are tied to a personal computer, its failure disables our buns from the game.</b>  <b>Not critical.</b>  Worked continuously 24 hours - checked.  Work cycle 1.35 sec. <br><br><h5>  Act 3 "Packing" - (product packaging line, the ultimate goal to link with the previous project) </h5><br>  The client worked with the system, estimated the performance gain, matured to a new line. <br><br>  <b>Characters:</b> <br>  - PLC - ICP-7188XA (icp das) (2 - 485 ports, 2 - 232 ports, 1 of them for communication with a PC); <br>  - DIO 4.3 I / O cards - minus 485 PLC port; <br>  - PDAT, PRKS sensor boards - minus 485 PLC port; <br>  - Scales Gelios (NPF) - 12 pcs .; <br>  - MOXA cp132 expansion board - 2 ports; <br>  - Personal Computer; <br><br>  <b>Tasks:</b> <br><ul><li>  organize a sequential launch in the chosen direction, </li><li>  work out emergency situations </li><li>  organize weight accounting </li><li>  use scales as metering devices </li><li>  organize interaction between 2 projects with common equipment </li></ul><br>  The number of machines 95, the number of valves 166, + 19 non-standard three-position valves.  <b>Problem: the grouping and the layout of the boards do not allow to get everything on one PLC - we organize another one - reassembly is more expensive.</b> <br><br>  One is responsible for the car, the second for the valve and valve. <br><br><img src="https://habrastorage.org/files/fa8/733/735/fa8733735f254434abaa6464504a97e8.png" alt="image"><br><br>  <b>The interaction between them through the PC is a failure solution and a major error.</b>  <b>Terms of work did not allow to establish interaction between the ICP directly.</b>  <b>We dig up ourselves even deeper connection with the "technology" through a PC.</b> <br><br>  We check the work as it should be 24 hours continuously - it goes. <br><br>  The next unpleasant moment - the scales were not at the beginning of the line but in the middle!  The failure of the technologist, the designer - it does not matter anymore - we work with what we have.  The length of the working lines and their capacity is different - in order to achieve a given weight on the scales, we still have machines with K product volume.  There is nothing to do - we introduce an amendment for each line, how much scales should not reach.  We test - it works with an accuracy of 200 kg.  by 6 tons for example 3.3% for the short line, 450 kg for 6 tons - 7.5% for the long line - the customer agrees.  Processing in the top level of SCADA.  Worked continuously 24 hours - checked. <br><br><h5>  Stable operation until first freeze </h5><br>  As <s>befits a</s> sistemnik after some time, he became thoughtful at the ‚ÄúPacking‚Äù work was suspended.  Local quickly sorted - restarted - works.  But the sediment remained. <br><br>  The system, and the system has already continued to consolidate and included another project from 2 PLCs, + one common PLC to the aspiration network + 1 PLC to the new packaging line. <br>  Total 7 relatively reliable PLCs working with each other through relatively unreliable PC intermediaries. <br>  From then until the replacement of the PLC group by one, a lot of nerves and forces were spent on support and modernization based on the intel atom NISE-105. <br><br>  Summary: <br>  For myself, I noted a few important points. <br><ul><li>  for projects that have the potential to lay the equipment, overlapping several similar projects.  Projects, not the number of equipment - should have enough memory and speed for logical binding. </li><li>  A bunch of projects, even a small one, should not go through such a weak link as a personal computer.  The operator can, out of boredom, bring a lot of <s>porn</s> videos and score poor man‚Äôs performance </li><li>  do not undertake to implement everything that the customer wants.  Even if it is possible, but pulls a string of weak links. </li><li>  the ultimate goal of the customer‚Äôs work is to solve tactical tasks; there was no transition to full automation of production in the enterprise‚Äôs strategy.  By solving current problems and strengthening positions in the market, the company has reached almost complete automation.  Without last </li></ul></div><p>Source: <a href="https://habr.com/ru/post/308506/">https://habr.com/ru/post/308506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308490/index.html">Unexpected behavior of the WinAPI function IsWow64Process ()</a></li>
<li><a href="../308494/index.html">How to give an adequate estimate of the time when uncertainty hits the head</a></li>
<li><a href="../308498/index.html">Air Berlin: Progressive Web App Implementation</a></li>
<li><a href="../308500/index.html">Navigator 2GIS: Extrapolation of the position of the car</a></li>
<li><a href="../308504/index.html">Over 9000: unobvious difficulties of working with counters of social buttons (+ task)</a></li>
<li><a href="../308508/index.html">Modern art on the screen of a hardware company engineer</a></li>
<li><a href="../308510/index.html">Microsoft offers free Windows Server 2016 Datacenter licenses for customers who refuse VMware</a></li>
<li><a href="../308512/index.html">Attackers use Twitter to manage malware for Android</a></li>
<li><a href="../308514/index.html">How to find out what kind of flowers to give to a girl, if only her head moves and she cannot speak?</a></li>
<li><a href="../308516/index.html">1 second loading acceleration gave a 10% conversion increase: case Staples</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>