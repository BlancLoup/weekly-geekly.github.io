<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Returning a Cisco router with a non-working CF or mini-flash card</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Somehow electricians needed to carry out planned work with shutting down the equipment of the organization. Under the plan for the night, the employee...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Returning a Cisco router with a non-working CF or mini-flash card</h1><div class="post__text post__text-html js-mediator-article">  Somehow electricians needed to carry out planned work with shutting down the equipment of the organization.  Under the plan for the night, the employees turn off the equipment, the electricians work at night, and in the morning the employees turn on everything and rejoice.  In the evening, turned off the server, network equipment and UPS.  In the morning everything was turned on and began to work quietly until exactly the moment when they did not understand that the Internet connection had not risen, and therefore the organization‚Äôs website was not accessible from the outside. <br><img src="https://habrastorage.org/web/590/304/756/5903047561fa4e5590a680d1dd7c95a4.jpg" alt="image"><br>  <i>(Cisco 1800 series)</i> <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Why remembered</b> <div class="spoiler_text">  I remembered this incident due to the fact that a similar situation occurred the other day with the Cisco 871-K9 test router. <br><br><img src="https://habrastorage.org/web/548/829/146/548829146f5048f3af1836ced86ceb06.jpg" alt="image"><br>  <i>(in this model cisco mini-flash memory module on the bottom left)</i> <br></div></div><br>  Check the availability of the router, pinging.  The router is unavailable.  We run to look at it in the server and see that the status LED is in order.  So you need to connect to the console. <br><br>  I didn‚Äôt want to unscrew the router from the server cabinet, so we threw 15-20 meters of twisted pair from the server to our office as an extension for the console wire. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Check</b> <div class="spoiler_text">  Take a couple of patchcords, console cable cisco and connect all this stuff with a pair of adapters. <br><br><img src="https://habrastorage.org/web/568/668/21c/56866821c6974f0cb1ecaa1dc5b2c735.jpg" alt="image"><br>  <i>(length of two patchcords with an adapter ~ 18.3m)</i> <br>  Works. <br></div></div><br>  Connect and see the <code><b>rommon 1 &gt;</b></code> invitation <code><b>rommon 1 &gt;</b></code> So the router could not find or download the firmware.  We were not ready for this and climbed to look for a suitable one, but a copy of the router configuration was found. <br><br>  At first we tried to <b>upload the</b> firmware via <b>xmodem</b> , but we were not impressed with the speeds so much that we immediately switched to downloading the firmware via tftp.  The tftpd and the router firmware file were installed on the computer on the network (in this example, let the address of this computer be 192.168.1.2).  The following commands were issued on the router via the console: <br><br> <code><b>IP_ADDRESS=192.168.1.200 <br> IP_SUBNET_MASK=255.255.255.0 <br> DEFAULT_GATEWAY=192.168.1.1 <br> TFTP_SERVER=192.168.1.2 <br> TFTP_FILE=c870-advipservicesk9-mz.124-24.T8.bin <br></b></code> <br>  <i>(I indicated the firmware of our test router in the name of the firmware file, since I checked everything on it)</i> <br><br>  And we give the <code><b>tftpdnld -r</b></code> command (the <b>-r</b> key is important if the memory card does not work <s>or some irresponsible types have taken it</s> , because it allows us to load the firmware file right into the router‚Äôs memory bypassing the memory card). <br><br>  If the startup configuration file (startup-config) was on the same memory card, then the next step is to fill in the configuration we have saved via tftp.  Or configure the router again from the console. <br><br> <code><b>Router#copy tftp: running-config</b></code> <br>  <i>(just in case, I note that Router # is already an IOS invitation, since the system should have booted)</i> <br>  We are prompted to specify the tftp host address, the source file name, and confirm the destination file name. <br><br>  The router worked as it should, we disconnected the improvised console patchcord and went slowly to look for a suitable memory card. </div><p>Source: <a href="https://habr.com/ru/post/335648/">https://habr.com/ru/post/335648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../335636/index.html">Warehouse management system using CQRS and Event Sourcing. Service layer</a></li>
<li><a href="../335638/index.html">The cost of real estate on heat maps</a></li>
<li><a href="../335642/index.html">Redesign Habrahabra and Hiktayms. Finish line</a></li>
<li><a href="../335644/index.html">Postgres 9.x Partitioning Using pg_pathman to optimize the insertion and pruning of partitions</a></li>
<li><a href="../335646/index.html">We are testing a new mechanism for synchronization of settings JetBrains IDEs</a></li>
<li><a href="../335650/index.html">What can chat bot</a></li>
<li><a href="../335652/index.html">Intel Optane SSD: features and benefits</a></li>
<li><a href="../335654/index.html">Datacenter: the stages of big life</a></li>
<li><a href="../335656/index.html">SpaceX will deliver the HPE supercomputer to the ISS. How does this speed up a mission to mars?</a></li>
<li><a href="../335658/index.html">Coco Framework - blockchain on a large scale</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>