<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Part 1. Installing and Configuring a Reputable DNS Server Based on the PowerDNS Solution // Basic Installation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 In this article I will describe the configuration of a reputable DNS server, based on the PowerDNS solution. PowerDNS is a high-performan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Part 1. Installing and Configuring a Reputable DNS Server Based on the PowerDNS Solution // Basic Installation</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br><br>  In this article I will describe the configuration of a reputable DNS server, based on the PowerDNS solution.  PowerDNS is a high-performance, open source, free DNS server. <br><br>  PowerDNS is a high-performance DNS server written in C ++ and licensed under the GPL license.  Development is carried out in the framework of support for Unix-systems;  Windows systems are no longer supported. <br>  The server was developed at the Dutch company PowerDNS.com by Bert Hubert and is maintained by the free software community. <br>  PowerDNS uses a flexible data storage / access architecture that can retrieve DNS information from any data source.  This includes files, BIND zone files (English), relational databases or LDAP directories. <br>  PowerDNS is configured by default to serve requests from the database. <br>  After the release of version 2.9.20, the software is distributed in the form of two components - (Authoritative Server) (authoritative DNS) and Recursor (recursive DNS).  Official website: <a href="https://www.powerdns.com/">www.powerdns.com</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  So, let's start with a clean CentOS operating system, downloaded from the official website <a href="https://www.centos.org/">www.centos.org</a> . <br>  My hardware configuration: <br>  HDD: 15Gb <br>  RAM: 16Gb <br>  CPU: 8 * 2.4GHz <br>  OS: CentOS 7 (x64) <br>  Distribution: CentOS-7-x86_64-Minimal-1503-01.iso <br><br>  My software version: <br>  PowerDNS authoritative v3.4.8 <br>  PowerDNS recursor v3.7.3 <br>  Poweradmin v2.1.7 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/daa/e8f/e19/daae8fe19d3ab224f3a104f987acd8bf.png" alt="image"><br><br>  1) Update the system and connect the repositories: <br><pre><code class="bash hljs">yum update -y yum clean all rpm -Uvh http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm</code> </pre> <br>  Checking: <br><pre> <code class="bash hljs">yum repolist</code> </pre><br><br>  2) Install various useful utilities <br><pre> <code class="bash hljs">yum install net-tools wget <span class="hljs-built_in"><span class="hljs-built_in">bind</span></span>-utils tcpdump unzip telnet traceroute -y</code> </pre><br><br>  3) Disable firewalld and install iptables <br><pre> <code class="bash hljs">systemctl stop firewalld systemctl <span class="hljs-built_in"><span class="hljs-built_in">disable</span></span> firewalld yum -y install iptables-services systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> iptables.service systemctl start iptables.service iptables -L -v -n</code> </pre><br>  Create firewall rules <br><pre> <code class="bash hljs">vi /etc/sysconfig/iptables</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Firewall rules</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># sample configuration for iptables service # you can edit this manually or use system-config-firewall # please do not ask us to add additional ports/services to this default configuration *filter :INPUT ACCEPT [0:0] :FORWARD ACCEPT [0:0] :OUTPUT ACCEPT [0:0] -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT -A INPUT -p icmp -j ACCEPT -A INPUT -i lo -j ACCEPT -A INPUT -i ens160 -j ACCEPT -A INPUT -i ens192 -p tcp -m state --state NEW --dport 53 -j ACCEPT -A INPUT -i ens192 -p udp -m state --state NEW --dport 53 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT -A INPUT -j REJECT --reject-with icmp-host-prohibited -A FORWARD -j REJECT --reject-with icmp-host-prohibited -P INPUT DROP COMMIT</span></span></code> </pre><br></div></div><br>  And restart iptables <br><pre> <code class="bash hljs">service iptables restart</code> </pre><br><br>  4) Create a folder with scripts to manage <br><pre> <code class="bash hljs">mkdir /script</code> </pre><br><pre> <code class="bash hljs">vi /script/reload.sh &lt;code&gt; service pdns restart service httpd restart &lt;/code&gt; chmod +x /script/*.sh</code> </pre><br><br>  5) Install the database.  For Centos 7, MariaDB is better suited. <br>  There are several options: <br>  - Local database without replication <br>  - SQL cluster. <br><br>  <b>Installing a local database without replication</b> <br>  Add a repository. <br><pre> <code class="bash hljs">sudo vi /etc/yum.repos.d/MariaDB.repo</code> </pre><br>  Insert the following lines into the file: <br><pre> <code class="bash hljs">[mariadb] name = MariaDB baseurl = http://yum.mariadb.org/10.0/centos7-amd64 gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB gpgcheck=1</code> </pre><br>  Install <br><pre> <code class="bash hljs">yum install MariaDB-client MariaDB-common MariaDB-compat MariaDB-devel MariaDB-server MariaDB-shared -y</code> </pre><br>  We start mysql <br><pre> <code class="bash hljs">sudo /etc/init.d/mysql start</code> </pre><br>  Then run the following command to protect the database server. <br><pre> <code class="bash hljs">sudo mysql_secure_installation</code> </pre><br>  Then select ‚ÄúY‚Äù (Yes) for the remaining prompts until you are finished. <br><pre> <code class="bash hljs">Enter current password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> root (enter <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> none): press Enter Set root password? Y New password: Type new root password Re-enter new password: Confirm the password Remove anonymous users? Y Disallow root login remotely? Y Remove <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> database and access to it? Y Reload privilege tables now? Y</code> </pre><br>  Last, you need to replace the default cnf.ini file in / etc / for MariaDB.  But first you need to go to: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/share/mysql</code> </pre><br>  And use one of the predefined cnf.ini configurations that are available (Huge, Medium and Small) in this folder. <br>  Back up the cnf.ini file: <br><pre> <code class="bash hljs">sudo mv /etc/cnf.ini /etc/cnf.ini.bak</code> </pre><br>  Then copy one of the preliminary configurations in MariaDB: <br><pre> <code class="bash hljs">sudo cp /usr/share/mysql/my-huge.cnf /etc/cnf.ini</code> </pre><br>  Restart MariaDB and add to autorun <br><pre> <code class="bash hljs">sudo /etc/init.d/mysql restart systemctl status mysql systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> mysql ss -tnlp | grep 3306 netstat -tap | grep mysql</code> </pre><br>  I need to create a user and so that he can connect from any computer for this: <br><pre> <code class="bash hljs">mysql -u root -p GRANT ALL PRIVILEGES ON *.* TO <span class="hljs-string"><span class="hljs-string">'imperituroard'</span></span>@<span class="hljs-string"><span class="hljs-string">'%'</span></span> IDENTIFIED BY <span class="hljs-string"><span class="hljs-string">'password'</span></span> WITH GRANT OPTION; <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span></code> </pre><br>  You can try to connect to the database, for example using the program Navicat Premium. <br><br>  <b>Also, as a database for PowerDNS, you can use the SQL cluster.</b> <br>  <a href="http://www.unixmen.com/setup-mariadb-galera-cluster-10-0-centos/">SQL cluster configuration</a> <br>  Cluster nodes are installed on the same servers as PowerDNS itself.  When a zone is changed on one server, the database is replicated, hence the zone is changed on another server. <br>  I installed the cluster like this: <br>  We add MariaDB repository as in the first part of the article and install the necessary packages. <br><pre> <code class="bash hljs">sudo setenforce 0 sudo yum -y install socat sudo yum -y install MariaDB-Galera-server MariaDB-client rsync galera sudo service mysql start sudo /usr/bin/mysql_secure_installation</code> </pre><br>  We create users <br><pre> <code class="bash hljs">mysql -u root -p &lt;<span class="hljs-built_in"><span class="hljs-built_in">source</span></span> lang=<span class="hljs-string"><span class="hljs-string">"sql"</span></span>&gt; DELETE FROM mysql.user WHERE user=<span class="hljs-string"><span class="hljs-string">''</span></span>; GRANT ALL ON *.* TO <span class="hljs-string"><span class="hljs-string">'root'</span></span>@<span class="hljs-string"><span class="hljs-string">'%'</span></span> IDENTIFIED BY <span class="hljs-string"><span class="hljs-string">'dbpassDw1yx78whxwF5sX'</span></span>; GRANT USAGE ON *.* to sst_user@<span class="hljs-string"><span class="hljs-string">'%'</span></span> IDENTIFIED BY <span class="hljs-string"><span class="hljs-string">'dbpassDw1yx78whxwF5sX'</span></span>; GRANT ALL PRIVILEGES on *.* to sst_user@<span class="hljs-string"><span class="hljs-string">'%'</span></span>; FLUSH PRIVILEGES; quit</code> </pre><br><br>  Configuring nodes <br><br>  First node: <br><pre> <code class="bash hljs">sudo service mysql stop sudo cat &gt;&gt; /etc/my.cnf.d/server.cnf &lt;&lt; EOF binlog_format=ROW default-storage-engine=innodb innodb_autoinc_lock_mode=2 innodb_locks_unsafe_for_binlog=1 query_cache_size=0 query_cache_type=0 <span class="hljs-built_in"><span class="hljs-built_in">bind</span></span>-address=0.0.0.0 datadir=/var/lib/mysql innodb_log_file_size=100M innodb_file_per_table innodb_flush_log_at_trx_commit=2 wsrep_provider=/usr/lib64/galera/libgalera_smm.so wsrep_cluster_address=<span class="hljs-string"><span class="hljs-string">"gcomm://172.24.184.177,172.24.184.178"</span></span> wsrep_cluster_name=<span class="hljs-string"><span class="hljs-string">'ard_cluster'</span></span> wsrep_node_address=<span class="hljs-string"><span class="hljs-string">'172.24.184.177'</span></span> wsrep_node_name=<span class="hljs-string"><span class="hljs-string">'db1'</span></span> wsrep_sst_method=rsync wsrep_sst_auth=sst_user:dbpassDw1yx78whxwF5sX EOF</code> </pre><br><br>  Second node: <br><pre> <code class="bash hljs">sudo service mysql stop sudo cat &gt;&gt; /etc/my.cnf.d/server.cnf &lt;&lt; EOF binlog_format=ROW default-storage-engine=innodb innodb_autoinc_lock_mode=2 innodb_locks_unsafe_for_binlog=1 query_cache_size=0 query_cache_type=0 <span class="hljs-built_in"><span class="hljs-built_in">bind</span></span>-address=0.0.0.0 datadir=/var/lib/mysql innodb_log_file_size=100M innodb_file_per_table innodb_flush_log_at_trx_commit=2 wsrep_provider=/usr/lib64/galera/libgalera_smm.so wsrep_cluster_address=<span class="hljs-string"><span class="hljs-string">"gcomm://172.24.184.177,172.24.184.178"</span></span> wsrep_cluster_name=<span class="hljs-string"><span class="hljs-string">'ard_cluster'</span></span> wsrep_node_address=<span class="hljs-string"><span class="hljs-string">'172.24.184.178'</span></span> wsrep_node_name=<span class="hljs-string"><span class="hljs-string">'db2'</span></span> wsrep_sst_method=rsync wsrep_sst_auth=sst_user:dbpassDw1yx78whxwF5sX EOF</code> </pre><br>  Run on primary node <br><pre> <code class="bash hljs">sudo /etc/init.d/mysql start --wsrep-new-cluster</code> </pre><br>  Run on the remaining nodes (secondary) <br><pre> <code class="bash hljs">sudo /etc/init.d/mysql start</code> </pre><br><br>  We check replication <br>  At each node, we look at the status of the cluster: <br><pre> <code class="bash hljs">mysql -u root -p -e <span class="hljs-string"><span class="hljs-string">"show status like 'wsrep%'"</span></span></code> </pre><br>  Create a test database on the first node <br><pre> <code class="bash hljs">mysql -u root -p -e <span class="hljs-string"><span class="hljs-string">'CREATE DATABASE clustertest;'</span></span> mysql -u root -p -e <span class="hljs-string"><span class="hljs-string">'CREATE TABLE clustertest.mycluster ( id INT NOT NULL AUTO_INCREMENT, name VARCHAR(50), ipaddress VARCHAR(20), PRIMARY KEY(id));'</span></span> mysql -u root -p -e <span class="hljs-string"><span class="hljs-string">'INSERT INTO clustertest.mycluster (name, ipaddress) VALUES ("db1", "172.24.184.177");'</span></span></code> </pre><br>  We check the presence of this database on each node <br><pre> <code class="bash hljs">mysql -u root -p -e <span class="hljs-string"><span class="hljs-string">'SELECT * FROM clustertest.mycluster;'</span></span></code> </pre><br>  On all nodes, time must be set correctly, this is mandatory.  Otherwise, you will encounter the fact that, with the SST node from the donor, the synchronized node will just wait for something, without any sign of activity. <br>  Install ntp: <br><pre> <code class="bash hljs">yum install ntp -y systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> ntpd.service service ntpd start</code> </pre><br>  You can also specify your ntp server in the /etc/ntp.conf file <br><br>  6) Create and configure a database for PowerDNS <br>  Described on the official website <a href="https://doc.powerdns.com/md/authoritative/howtos/">doc.powerdns.com</a> <br>  Create a pdns.sql file in / root and execute the command: <br><pre> <code class="bash hljs">mysql -u root -p &lt; /root/pdns.sql</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Contents of pdns.sql</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> powerdns <span class="hljs-built_in"><span class="hljs-built_in">character</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> utf8; <span class="hljs-keyword"><span class="hljs-keyword">GRANT</span></span> ALL <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> powerdns.* <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-string"><span class="hljs-string">'imperituroard'</span></span>@<span class="hljs-string"><span class="hljs-string">'localhost'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IDENTIFIED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-string"><span class="hljs-string">'password'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">FLUSH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PRIVILEGES</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> powerdns; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> domains ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> AUTO_INCREMENT, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">master</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">128</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, last_check <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, notified_serial <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">account</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">40</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">Engine</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNIQUE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> name_index <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> domains(<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">records</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> AUTO_INCREMENT, domain_id <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">content</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">64000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, ttl <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, prio <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, change_date <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, disabled TINYINT(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, ordername <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">BINARY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, auth TINYINT(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">Engine</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> nametype_index <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">records</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> domain_id <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">records</span></span>(domain_id); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> recordorder <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">records</span></span> (domain_id, ordername); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> supermasters ( ip <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, nameserver <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">account</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">40</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (ip, nameserver) ) <span class="hljs-keyword"><span class="hljs-keyword">Engine</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> comments ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> AUTO_INCREMENT, domain_id <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, modified_at <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">account</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">40</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">64000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">Engine</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> comments_domain_id_idx <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> comments (domain_id); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> comments_name_type_idx <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> comments (<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> comments_order_idx <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> comments (domain_id, modified_at); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> domainmetadata ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> AUTO_INCREMENT, domain_id <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, kind <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">32</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">content</span></span> <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">Engine</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> domainmetadata_idx <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> domainmetadata (domain_id, kind); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> cryptokeys ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> AUTO_INCREMENT, domain_id <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, flags <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, active <span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">content</span></span> <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">Engine</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> domainidindex <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> cryptokeys(domain_id); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> tsigkeys ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> AUTO_INCREMENT, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>), algorithm <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">50</span></span>), secret <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>), PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">Engine</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNIQUE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> namealgoindex <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tsigkeys(<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, algorithm);</code> </pre><br></div></div><br><br>  7) Set PowerDNS autoritative. <br>  Via epel repository <br><pre> <code class="bash hljs">yum install pdns pdns-backend-mysql pdns-tools pdns-backend-postgresql -y systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> pdns.service systemctl start pdns.service netstat -tap | grep pdns</code> </pre><br><br>  Via <a href="https://repo.powerdns.com/">powerdns repository</a> <br>  For version 4.0.0: <br><pre> <code class="bash hljs">yum -y install epel-release yum-plugin-priorities curl -o /etc/yum.repos.d/powerdns-auth-40.repo https://repo.powerdns.com/repo-files/centos-auth-40.repo yum install pdns</code> </pre><br><br>  Either from source <br>  PowerDNS <a href="https://github.com/PowerDNS/pdns">sources</a> can be found on github. <br>  Install the necessary programs to build from source and perform a preliminary configuration. <br><pre> <code class="bash hljs">yum install autoconf automake bison flex g++ git libboost-all-dev libtool make pkg-config ragel libmysqlclient-dev unzip yum groupinstall <span class="hljs-string"><span class="hljs-string">"Development Tools"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /etc/yum.repos.d/ wget http://download.opensuse.org/repositories/home:waziers/CentOS_CentOS-6/home:waziers.repo wget http://springdale.math.ias.edu/data/puias/unsupported/6/x86_64/ragel-6.6-2.puias6.x86_64.rpm rpm -i ragel-6.6-2.puias6.x86_64.rpm yum install -y LuaJIT LuaJIT-devel openssl-devel boost-devel sqlite-devel mysql mysql-devel wget https://github.com/PowerDNS/pdns/archive/master.zip unzip master.zip <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> pdns-master ./bootstrap</code> </pre><br>  Next, build and install PowerDNS.  You can also see the available options. <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/pdns-master ./configure --<span class="hljs-built_in"><span class="hljs-built_in">help</span></span> ./configure --with-luajit --with-lua --with-gnu-ld --with-sqlite3 --with-mysql-lib--with-mysql make make install</code> </pre><br><br>  8) Configure authoritative server configuration <br><pre> <code class="bash hljs">cp /etc/pdns/pdns.conf /etc/pdns/pdns.conf.bak vi /etc/pdns/pdns.conf</code> </pre><br><div class="spoiler">  <b class="spoiler_title">PowerDNS Authoritative Server Configuration File</b> <div class="spoiler_text"><pre> <code class="bash hljs">setuid=pdns setgid=pdns launch=gmysql gmysql-host=127.0.0.1 gmysql-user=imperituroard gmysql-password=password gmysql-dbname=powerdns gmysql-dnssec=yes <span class="hljs-comment"><span class="hljs-comment"># Autogenerated configuration file template ################################# # allow-axfr-ips Allow zonetransfers only to these subnets # allow-axfr-ips=0.0.0.0/0 ################################# # allow-dnsupdate-from A global setting to allow DNS updates from these IP ranges. # # allow-dnsupdate-from=127.0.0.0/8,::1 ################################# # allow-notify-from Allow AXFR NOTIFY from these IP ranges. If empty, drop all incoming notifies. # # allow-notify-from=0.0.0.0/0,::/0 ################################# # allow-recursion List of subnets that are allowed to recurse # allow-recursion=0.0.0.0/0 #lazy-recursion=yes #recursor=127.0.0.1:5354 recursor=134.17.0.3 #recursor=212.98.160.50 8.8.8.8 8.8.4.4 82.209.240.241 #recursor=8.8.4.4 #recursor=198.41.0.4 #recursor=192.228.79.201 #recursor=192.33.4.12 #recursor=199.7.91.13 #recursor=192.203.230.10 #recursor=192.5.5.241 #recursor=192.112.36.4 #recursor=128.63.2.53 #recursor=192.36.148.17 #recursor=192.58.128.30 #recursor=193.0.14.129 #recursor=199.7.83.42 #recursor=202.12.27.33 ################################# # also-notify When notifying a domain, also notify these nameservers # # also-notify= ################################# # any-to-tcp Answer ANY queries with tc=1, shunting to TCP # # any-to-tcp=no ################################# # cache-ttl Seconds to store packets in the PacketCache cache-ttl=20000 ################################# # carbon-interval Number of seconds between carbon (graphite) updates # # carbon-interval=30 ################################# # carbon-ourname If set, overrides our reported hostname for carbon stats # # carbon-ourname= ################################# # carbon-server If set, send metrics in carbon (graphite) format to this server # # carbon-server= ################################# # chroot If set, chroot to this directory for more security # # chroot= ################################# # config-dir Location of configuration directory (pdns.conf) # # config-dir=/usr/local/etc ################################# # config-name Name of this virtual configuration - will rename the binary image # # config-name= ################################# # control-console Debugging switch - don't use # control-console=no ################################# # daemon Operate as a daemon # #daemon=yes ################################# # default-ksk-algorithms Default KSK algorithms # # default-ksk-algorithms=rsasha256 ################################# # default-ksk-size Default KSK size (0 means default) # # default-ksk-size=0 ################################# # default-soa-mail mail address to insert in the SOA record if none set in the backend # # default-soa-mail= ################################# # default-soa-name name to insert in the SOA record if none set in the backend # default-soa-name=powerdnstest.tech.mts.by ################################# # default-ttl Seconds a result is valid if not set otherwise # default-ttl=3600 ################################# # default-zsk-algorithms Default ZSK algorithms # # default-zsk-algorithms=rsasha256 ################################# # default-zsk-size Default ZSK size (0 means default) # # default-zsk-size=0 ################################# # direct-dnskey Fetch DNSKEY RRs from backend during DNSKEY synthesis # # direct-dnskey=no ################################# # disable-axfr Disable zonetransfers but do allow TCP queries # # disable-axfr=no ################################# # disable-axfr-rectify Disable the rectify step during an outgoing AXFR. Only required for regression testing. # # disable-axfr-rectify=no ################################# # disable-tcp Do not listen to TCP queries # # disable-tcp=no ################################# # distributor-threads Default number of Distributor (backend) threads to start # # distributor-threads=3 ################################# # do-ipv6-additional-processing Do AAAA additional processing # # do-ipv6-additional-processing=yes ################################# # edns-subnet-processing If we should act on EDNS Subnet options # # edns-subnet-processing=no ################################# # entropy-source If set, read entropy from this file # # entropy-source=/dev/urandom ################################# # experimental-api-key REST API Static authentication key (required for API use) # # experimental-api-key= ################################# # experimental-api-readonly If the JSON API should disallow data modification # # experimental-api-readonly=no ################################# # experimental-dname-processing If we should support DNAME records # # experimental-dname-processing=no ################################# # experimental-dnsupdate Enable/Disable DNS update (RFC2136) support. Default is no. # # experimental-dnsupdate=no ################################# # experimental-json-interface If the webserver should serve JSON data # # experimental-json-interface=no ################################# # experimental-logfile Filename of the log file for JSON parser # # experimental-logfile=/var/log/pdns.log ################################# # forward-dnsupdate A global setting to allow DNS update packages that are for a Slave domain, to be forwarded to the master. # # forward-dnsupdate=yes ################################# # guardian Run within a guardian process # #guardian=no ################################# # include-dir Include *.conf files from this directory # # include-dir= ################################# # launch Which backends to launch and order to query them in # # launch= ################################# # load-modules Load this module - supply absolute or relative path # # load-modules= ################################# # local-address Local IP addresses to which we bind # # local-address=0.0.0.0 ################################# # local-address-nonexist-fail Fail to start if one or more of the local-address's do not exist on this server # # local-address-nonexist-fail=yes ################################# # local-ipv6 Local IP address to which we bind # # local-ipv6= ################################# # local-ipv6-nonexist-fail Fail to start if one or more of the local-ipv6 addresses do not exist on this server # # local-ipv6-nonexist-fail=yes ################################# # local-port The port on which we listen # # local-port=53 ################################# # log-dns-details If PDNS should log DNS non-erroneous details # # log-dns-details=no #log-dns-details=/var/log/pdns/pdns-details.log #log-failed-updates=/var/log/pdns/pdns-fail.log #logfile=/var/log/pdns/pdns.log ################################# # log-dns-queries If PDNS should log all incoming DNS queries # log-dns-queries=yes ################################# # logging-facility Log under a specific facility # logging-facility=0 ################################# # loglevel Amount of logging. Higher is more. Do not set below 3 # #logfile=/var/log/pdns/pdns.log #logfile=/etc/pdns/ loglevel=9 ################################# # lua-prequery-script Lua script with prequery handler # # lua-prequery-script= ################################# # master Act as a master # # master=no ################################# # max-cache-entries Maximum number of cache entries # # max-cache-entries=1000000 ################################# # max-ent-entries Maximum number of empty non-terminals in a zone # # max-ent-entries=100000 ################################# # max-nsec3-iterations Limit the number of NSEC3 hash iterations # # max-nsec3-iterations=500 ################################# # max-queue-length Maximum queuelength before considering situation lost # max-queue-length=5000 ################################# # max-signature-cache-entries Maximum number of signatures cache entries # # max-signature-cache-entries= ################################# ################################# # max-tcp-connections Maximum number of TCP connections # max-tcp-connections=20 ################################# # module-dir Default directory for modules # # module-dir=/usr/local/lib/pdns ################################# # negquery-cache-ttl Seconds to store negative query results in the QueryCache # # negquery-cache-ttl=60 ################################# # no-shuffle Set this to prevent random shuffling of answers - for regression testing # # no-shuffle=off ################################# # only-notify Only send AXFR NOTIFY to these IP addresses or netmasks # # only-notify=0.0.0.0/0,::/0 ################################# # out-of-zone-additional-processing Do out of zone additional processing # # out-of-zone-additional-processing=yes ################################# # overload-queue-length Maximum queuelength moving to packetcache only # # overload-queue-length=0 ################################# # pipebackend-abi-version Version of the pipe backend ABI # # pipebackend-abi-version=1 ################################# # prevent-self-notification Don't send notifications to what we think is ourself # # prevent-self-notification=yes ################################# # query-cache-ttl Seconds to store query results in the QueryCache # # query-cache-ttl=20 ################################# # query-local-address Source IP address for sending queries # # query-local-address=0.0.0.0 ################################# # query-local-address6 Source IPv6 address for sending queries # # query-local-address6=:: ################################# # query-logging Hint backends that queries should be logged # # query-logging=no ################################# # queue-limit Maximum number of milliseconds to queue a query # # queue-limit=1500 ################################# # receiver-threads Default number of receiver threads to start # # receiver-threads=1 ################################# # recursive-cache-ttl Seconds to store packets for recursive queries in the PacketCache # # recursive-cache-ttl=10 ################################# # recursor If recursion is desired, IP address of a recursing nameserver # # recursor=no ################################# # retrieval-threads Number of AXFR-retrieval threads for slave operation # # retrieval-threads=2 ################################# # reuseport Enable higher performance on compliant kernels by using SO_REUSEPORT allowing each receiver thread to open its own socket # # reuseport=no ################################# # security-poll-suffix Domain name from which to query security update notifications # # security-poll-suffix=secpoll.powerdns.com. ################################# # send-root-referral Send out old-fashioned root-referral instead of ServFail in case of no authority # # send-root-referral=no ################################# # server-id Returned when queried for 'server.id' TXT or NSID, defaults to hostname - disabled or custom # # server-id= ################################# # setgid If set, change group id to this gid for more security # # setgid= ################################# # setuid If set, change user id to this uid for more security # # setuid= ################################# # signing-threads Default number of signer threads to start # # # signing-threads=3 ################################# # slave Act as a slave # # slave=no ################################# # slave-cycle-interval Schedule slave freshness checks once every .. seconds # # slave-cycle-interval=60 ################################# # slave-renotify If we should send out notifications for slaved updates # # slave-renotify=no ################################# # soa-expire-default Default SOA expire # # soa-expire-default=604800 ################################# # soa-minimum-ttl Default SOA minimum ttl # # soa-minimum-ttl=3600 ################################# # soa-refresh-default Default SOA refresh # # soa-refresh-default=10800 ################################# # soa-retry-default Default SOA retry # # soa-retry-default=3600 ################################# # socket-dir Where the controlsocket will live # # socket-dir=/var/run ################################# # tcp-control-address If set, PowerDNS can be controlled over TCP on this address # # tcp-control-address= ################################# # tcp-control-port If set, PowerDNS can be controlled over TCP on this address # # tcp-control-port=53000 ################################# # tcp-control-range If set, remote control of PowerDNS is possible over these networks only # # tcp-control-range=127.0.0.0/8, 10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12, ::1/128, fe80::/10 ################################# # tcp-control-secret If set, PowerDNS can be controlled over TCP after passing this secret # # tcp-control-secret= ################################# # traceback-handler Enable the traceback handler (Linux only) # # traceback-handler=yes ################################# # trusted-notification-proxy IP address of incoming notification proxy # # trusted-notification-proxy= ################################# # udp-truncation-threshold Maximum UDP response size before we truncate # # udp-truncation-threshold=1680 ################################# # version-string PowerDNS version in packets - full, anonymous, powerdns or custom # # version-string=full ################################# # webserver Start a webserver for monitoring # # webserver=no ################################# # webserver-address IP Address of webserver to listen on # # webserver-address=127.0.0.1 ################################# # webserver-allow-from Webserver access is only allowed from these subnets # # webserver-allow-from=0.0.0.0/0,::/0 ################################# # webserver-password Password required for accessing the webserver # # webserver-password= ################################# # webserver-port Port of webserver to listen on # # webserver-port=8081 ################################# # webserver-print-arguments If the webserver should print arguments # # webserver-print-arguments=no</span></span></code> </pre><br></div></div><br>  Reboot <br><pre> <code class="bash hljs">service pdns restart</code> </pre><br>  Proce <br>  <a href="https://doc.powerdns.com/md/authoritative/settings/">PowerDNS authoritative v4.x configuration description</a> <br><br>  9) Set recursive DNS <br><pre> <code class="bash hljs">yum install pdns-recursor -y vi /etc/pdns-recursor/recursor.conf</code> </pre><br><pre> <code class="bash hljs">chkconfig pdns-recursor on service pdns-recursor start</code> </pre><br><br>  v4.0.0 Via powerdns repository <br><pre> <code class="bash hljs">curl -o /etc/yum.repos.d/powerdns-rec-40.repo https://repo.powerdns.com/repo-files/centos-rec-40.repo yum install pdns-recursor</code> </pre><br><br>  10) Installing the web admin interface <br>  Preparatory actions. <br><pre> <code class="bash hljs">yum -y install httpd php php-devel php-gd php-imap php-ldap php-mysql php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-mhash gettext -y chkconfig --levels 235 httpd on systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> httpd.service systemctl start httpd.service service httpd start yum -y install php-pear-DB php-pear-MDB2-Driver-mysql -y</code> </pre><br>  Configure apache <br><pre> <code class="bash hljs">vi /etc/httpd/conf/httpd.conf</code> </pre><br>  We open access to the web GUI <br><br><div class="spoiler">  <b class="spoiler_title">My apache configuration</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># # This is the main Apache HTTP server configuration file. It contains the # configuration directives that give the server its instructions. # See &lt;URL:http://httpd.apache.org/docs/2.4/&gt; for detailed information. # In particular, see # &lt;URL:http://httpd.apache.org/docs/2.4/mod/directives.html&gt; # for a discussion of each configuration directive. # # Do NOT simply read the instructions in here without understanding # what they do. They're here only as hints or reminders. If you are unsure # consult the online docs. You have been warned. # # Configuration and logfile names: If the filenames you specify for many # of the server's control files begin with "/" (or "drive:/" for Win32), the # server will use that explicit path. If the filenames do *not* begin # with "/", the value of ServerRoot is prepended -- so 'log/access_log' # with ServerRoot set to '/www' will be interpreted by the # server as '/www/log/access_log', where as '/log/access_log' will be # interpreted as '/log/access_log'. # # ServerRoot: The top of the directory tree under which the server's # configuration, error, and log files are kept. # # Do not add a slash at the end of the directory path. If you point # ServerRoot at a non-local disk, be sure to specify a local disk on the # Mutex directive, if file-based mutexes are used. If you wish to share the # same ServerRoot for multiple httpd daemons, you will need to change at # least PidFile. # ServerRoot "/etc/httpd" # # Listen: Allows you to bind Apache to specific IP addresses and/or # ports, instead of the default. See also the &lt;VirtualHost&gt; # directive. # # Change this to Listen on specific IP addresses as shown below to # prevent Apache from glomming onto all bound IP addresses. # #Listen 12.34.56.78:80 Listen 80 # # Dynamic Shared Object (DSO) Support # # To be able to use the functionality of a module which was built as a DSO you # have to place corresponding `LoadModule' lines at this location so the # directives contained in it are actually available _before_ they are used. # Statically compiled modules (those listed by `httpd -l') do not need # to be loaded here. # # Example: # LoadModule foo_module modules/mod_foo.so # Include conf.modules.d/*.conf # # If you wish httpd to run as a different user or group, you must run # httpd as root initially and it will switch. # # User/Group: The name (or #number) of the user/group to run httpd as. # It is usually good practice to create a dedicated user and group for # running httpd, as with most system services. # User apache Group apache # 'Main' server configuration # # The directives in this section set up the values used by the 'main' # server, which responds to any requests that aren't handled by a # &lt;VirtualHost&gt; definition. These values also provide defaults for # any &lt;VirtualHost&gt; containers you may define later in the file. # # All of these directives may appear inside &lt;VirtualHost&gt; containers, # in which case these default settings will be overridden for the # virtual host being defined. # # # ServerAdmin: Your address, where problems with the server should be # e-mailed. This address appears on some server-generated pages, such # as error documents. eg admin@your-domain.com # ServerAdmin root@localhost # # ServerName gives the name and port that the server uses to identify itself. # This can often be determined automatically, but we recommend you specify # it explicitly to prevent problems during startup. # # If your host doesn't have a registered DNS name, enter its IP address here. # #ServerName www.example.com:80 # # Deny access to the entirety of your server's filesystem. You must # explicitly permit access to web content directories in other # &lt;Directory&gt; blocks below. # &lt;Directory /&gt; AllowOverride none Require all denied &lt;/Directory&gt; # # Note that from this point forward you must specifically allow # particular features to be enabled - so if something's not working as # you might expect, make sure that you have specifically enabled it # below. # # # DocumentRoot: The directory out of which you will serve your # documents. By default, all requests are taken from this directory, but # symbolic links and aliases may be used to point to other locations. # DocumentRoot "/var/www/html" # # Relax access to content within /var/www. # &lt;Directory "/var/www"&gt; AllowOverride None # Allow open access: Require all granted &lt;/Directory&gt; # Further relax access to the default document root: &lt;Directory "/var/www/html"&gt; # # Possible values for the Options directive are "None", "All", # or any combination of: # Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews # # Note that "MultiViews" must be named *explicitly* --- "Options All" # doesn't give it to you. # # The Options directive is both complicated and important. Please see # http://httpd.apache.org/docs/2.4/mod/core.html#options # for more information. # Options Indexes FollowSymLinks # # AllowOverride controls what directives may be placed in .htaccess files. # It can be "All", "None", or any combination of the keywords: # Options FileInfo AuthConfig Limit # AllowOverride None # # Controls who can get stuff from this server. # Require all granted &lt;/Directory&gt; &lt;Directory "/var/www/html/powerdns/"&gt; Order deny,allow deny from all allow from 217.21.61.8 allow from 10.128.71.3 allow from 10.135.55.4 allow from 46.216.24.152 &lt;/Directory&gt; # # DirectoryIndex: sets the file that Apache will serve if a directory # is requested. # &lt;IfModule dir_module&gt; DirectoryIndex index.html &lt;/IfModule&gt; # # The following lines prevent .htaccess and .htpasswd files from being # viewed by Web clients. # &lt;Files ".ht*"&gt; Require all denied &lt;/Files&gt; # # ErrorLog: The location of the error log file. # If you do not specify an ErrorLog directive within a &lt;VirtualHost&gt; # container, error messages relating to that virtual host will be # logged here. If you *do* define an error logfile for a &lt;VirtualHost&gt; # container, that host's errors will be logged there and not here. # ErrorLog "logs/error_log" # # LogLevel: Control the number of messages logged to the error_log. # Possible values include: debug, info, notice, warn, error, crit, # alert, emerg. # LogLevel warn &lt;IfModule log_config_module&gt; # # The following directives define some format nicknames for use with # a CustomLog directive (see below). # LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined LogFormat "%h %l %u %t \"%r\" %&gt;s %b" common &lt;IfModule logio_module&gt; # You need to enable mod_logio.c to use %I and %O LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio &lt;/IfModule&gt; # # The location and format of the access logfile (Common Logfile Format). # If you do not define any access logfiles within a &lt;VirtualHost&gt; # container, they will be logged here. Contrariwise, if you *do* # define per-&lt;VirtualHost&gt; access logfiles, transactions will be # logged therein and *not* in this file. # #CustomLog "logs/access_log" common # # If you prefer a logfile with access, agent, and referer information # (Combined Logfile Format) you can use the following directive. # CustomLog "logs/access_log" combined &lt;/IfModule&gt; &lt;IfModule alias_module&gt; # # Redirect: Allows you to tell clients about documents that used to # exist in your server's namespace, but do not anymore. The client # will make a new request for the document at its new location. # Example: # Redirect permanent /foo http://www.example.com/bar # # Alias: Maps web paths into filesystem paths and is used to # access content that does not live under the DocumentRoot. # Example: # Alias /webpath /full/filesystem/path # # If you include a trailing / on /webpath then the server will # require it to be present in the URL. You will also likely # need to provide a &lt;Directory&gt; section to allow access to # the filesystem path. # # ScriptAlias: This controls which directories contain server scripts. # ScriptAliases are essentially the same as Aliases, except that # documents in the target directory are treated as applications and # run by the server when requested rather than as documents sent to the # client. The same rules about trailing "/" apply to ScriptAlias # directives as to Alias. # ScriptAlias /cgi-bin/ "/var/www/cgi-bin/" &lt;/IfModule&gt; # # "/var/www/cgi-bin" should be changed to whatever your ScriptAliased # CGI directory exists, if you have that configured. # &lt;Directory "/var/www/cgi-bin"&gt; AllowOverride None Options None Require all granted &lt;/Directory&gt; &lt;IfModule mime_module&gt; # # TypesConfig points to the file containing the list of mappings from # filename extension to MIME-type. # TypesConfig /etc/mime.types # # AddType allows you to add to or override the MIME configuration # file specified in TypesConfig for specific file types. # #AddType application/x-gzip .tgz # # AddEncoding allows you to have certain browsers uncompress # information on the fly. Note: Not all browsers support this. # #AddEncoding x-compress .Z #AddEncoding x-gzip .gz .tgz # # If the AddEncoding directives above are commented-out, then you # probably should define those extensions to indicate media types: # AddType application/x-compress .Z AddType application/x-gzip .gz .tgz # # AddHandler allows you to map certain file extensions to "handlers": # actions unrelated to filetype. These can be either built into the server # or added with the Action directive (see below) # # To use CGI scripts outside of ScriptAliased directories: # (You will also need to add "ExecCGI" to the "Options" directive.) # #AddHandler cgi-script .cgi # For type maps (negotiated resources): #AddHandler type-map var # # Filters allow you to process content before it is sent to the client. # # To parse .shtml files for server-side includes (SSI): # (You will also need to add "Includes" to the "Options" directive.) # AddType text/html .shtml AddOutputFilter INCLUDES .shtml &lt;/IfModule&gt; # # Specify a default charset for all content served; this enables # interpretation of all content as UTF-8 by default. To use the # default browser choice (ISO-8859-1), or to allow the META tags # in HTML content to override this choice, comment out this # directive: # AddDefaultCharset UTF-8 &lt;IfModule mime_magic_module&gt; # # The mod_mime_magic module allows the server to use various hints from the # contents of the file itself to determine its type. The MIMEMagicFile # directive tells the module where the hint definitions are located. # MIMEMagicFile conf/magic &lt;/IfModule&gt; # # Customizable error responses come in three flavors: # 1) plain text 2) local redirects 3) external redirects # # Some examples: #ErrorDocument 500 "The server made a boo boo." #ErrorDocument 404 /missing.html #ErrorDocument 404 "/cgi-bin/missing_handler.pl" #ErrorDocument 402 http://www.example.com/subscription_info.html # # # EnableMMAP and EnableSendfile: On systems that support it, # memory-mapping or the sendfile syscall may be used to deliver # files. This usually improves server performance, but must # be turned off when serving from networked-mounted # filesystems or if support for these functions is otherwise # broken on your system. # Defaults if commented: EnableMMAP On, EnableSendfile Off # #EnableMMAP off EnableSendfile on # Supplemental configuration # # Load config files in the "/etc/httpd/conf.d" directory, if any. IncludeOptional conf.d/*.conf</span></span></code> </pre><br></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Restart apache. </font></font><br><pre> <code class="bash hljs">service httpd restart</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11) Download the latest version of PowerAdmin from </font></font><a href="https://www.poweradmin.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.poweradmin.org</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I used version 2.1.7</font></font><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root wget -O poweradmin.zip https://github.com/poweradmin/poweradmin/archive/master.zip -c unzip poweradmin.zip -d /var/www/html/ mv /var/www/html/poweradmin* /var/www/html/poweradmin chown -R apache:apache /var/www/html/poweradmin/ cp /var/www/html/poweradmin/inc/config-me.inc.php /var/www/html/poweradmin/inc/config.inc.php vi /var/www/html/poweradmin/inc/config.inc.php</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this file, the lines change: </font><font style="vertical-align: inherit;">Change the Default session encryption key</font></font><br> <code>$db_host = 'localhost'; <br> $db_port = '3306'; <br> $db_user = 'imperituroard'; <br> $db_pass = 'password'; <br> $db_name = 'powerdns'; <br> $db_type = 'mysql'; <br></code> <br><font style="vertical-align: inherit;"></font><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$session_key</span></span> = <span class="hljs-string"><span class="hljs-string">'fg234v95ms@4n)kf!kje%7vh*eved'</span></span>;</code> </pre><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">My config.inc.php file</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs">&lt;?php /** * Sample configuration file with default values * * @package Poweradmin * @copyright 2007-2010 Rejo Zenger &lt;rejo@zenger.nl&gt; * @copyright 2010-2014 Poweradmin Development Team * @license http://opensource.org/licenses/GPL-3.0 GPL */ // NOTE: Do not edit this file, otherwise it<span class="hljs-string"><span class="hljs-string">'s very likely your changes // will be overwritten with an upgrade. // Instead, create the file "inc/config.inc.php" and set the variables you // want to set there. Your changes will override the defaults provided by us. // Better description of available configuration settings you can find here: // &lt;https://github.com/poweradmin/poweradmin/wiki/Configuration-File&gt; // Database settings $db_host = '</span></span>localhost<span class="hljs-string"><span class="hljs-string">'; $db_port = '</span></span>3306<span class="hljs-string"><span class="hljs-string">'; $db_user = '</span></span>imperituroard<span class="hljs-string"><span class="hljs-string">'; $db_pass = '</span></span>password<span class="hljs-string"><span class="hljs-string">'; $db_name = '</span></span>powerdns<span class="hljs-string"><span class="hljs-string">'; $db_type = '</span></span>mysql<span class="hljs-string"><span class="hljs-string">'; //$db_file = '</span></span><span class="hljs-string"><span class="hljs-string">'; # used only for SQLite, provide full path to database file //$db_debug = false; # show all SQL queries $db_layer = '</span></span>PDO<span class="hljs-string"><span class="hljs-string">'; # or MDB2 //$db_ssl_ca = '</span></span><span class="hljs-string"><span class="hljs-string">'; // Security settings // This should be changed upon install $session_key = '</span></span>fg234v95ms@4n)kf!kje%7vh*eved<span class="hljs-string"><span class="hljs-string">'; $password_encryption = '</span></span>md5<span class="hljs-string"><span class="hljs-string">'; // or md5salt // Interface settings $iface_lang = '</span></span>en_EN<span class="hljs-string"><span class="hljs-string">'; $iface_style = '</span></span>example<span class="hljs-string"><span class="hljs-string">'; $iface_rowamount = 50; $iface_expire = 1800; $iface_zonelist_serial = false; $iface_title = '</span></span>Poweradmin<span class="hljs-string"><span class="hljs-string">'; $iface_add_reverse_record = true; // Predefined DNS settings $dns_hostmaster = '</span></span><span class="hljs-string"><span class="hljs-string">'; $dns_ns1 = '</span></span><span class="hljs-string"><span class="hljs-string">'; $dns_ns2 = '</span></span><span class="hljs-string"><span class="hljs-string">'; $dns_ttl = 86400; $dns_fancy = false; $dns_strict_tld_check = false; $dns_top_level_tld_check = false; // Don'</span></span>t allow to create top level TLDs <span class="hljs-variable"><span class="hljs-variable">$dns_third_level_check</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; // Timezone settings // See &lt;http://www.php.net/manual/en/timezones.php&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>. //<span class="hljs-variable"><span class="hljs-variable">$timezone</span></span> = <span class="hljs-string"><span class="hljs-string">'UTC'</span></span>; // Logging settings // Syslog usage - writes authentication attempts to syslog // This facility could be used <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> combination with fail2ban to // ban IPs with <span class="hljs-built_in"><span class="hljs-built_in">break</span></span>-in attempts <span class="hljs-variable"><span class="hljs-variable">$syslog_use</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-variable"><span class="hljs-variable">$syslog_ident</span></span> = <span class="hljs-string"><span class="hljs-string">'poweradmin'</span></span>; // On Windows usually only LOG_USER is available <span class="hljs-variable"><span class="hljs-variable">$syslog_facility</span></span> = LOG_USER; // PowerDNSSEC settings <span class="hljs-variable"><span class="hljs-variable">$pdnssec_use</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-variable"><span class="hljs-variable">$pdnssec_command</span></span> = <span class="hljs-string"><span class="hljs-string">'/usr/bin/pdnssec'</span></span>; // LDAP settings <span class="hljs-variable"><span class="hljs-variable">$ldap_use</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-variable"><span class="hljs-variable">$ldap_debug</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-variable"><span class="hljs-variable">$ldap_uri</span></span> = <span class="hljs-string"><span class="hljs-string">'ldap://domaincontroller.example.com'</span></span>; <span class="hljs-variable"><span class="hljs-variable">$ldap_basedn</span></span> = <span class="hljs-string"><span class="hljs-string">'OU=Users,DC=example,DC=com'</span></span>; <span class="hljs-variable"><span class="hljs-variable">$ldap_binddn</span></span> = <span class="hljs-string"><span class="hljs-string">'GROUP\lookupuser'</span></span>; <span class="hljs-variable"><span class="hljs-variable">$ldap_bindpw</span></span> = <span class="hljs-string"><span class="hljs-string">'some_password'</span></span>; <span class="hljs-variable"><span class="hljs-variable">$ldap_user_attribute</span></span> = <span class="hljs-string"><span class="hljs-string">'sAMAccountName'</span></span>; <span class="hljs-variable"><span class="hljs-variable">$ldap_proto</span></span> = 3;</code> </pre><br></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Reboot </font></font><br><pre> <code class="bash hljs">service httpd restart service pdns restart</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12) Final configuration </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go to the address </font></font><a href="http://172.24.184.177/poweradmin/install/index.php"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">172.24.184.177/poweradmin/install/index.php</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Where 172.24.184.177 is the IP of your server. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And enter all the proposed data. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After the installation is complete, delete the / var / www / html / poweradmin / install folder and go to the web management interface </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at </font></font><a href="http://172.24.184.177/poweradmin/index.php"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">172.24.184.177/poweradmin/index.php.</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> When setting up, there are several features: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-when entering the server, where the database is located, you should enter localhost and not 127.0.0.1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- it is necessary to create a user with limited rights in the last step, otherwise the admin will have limited rights. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And this is how the web interface looks like (there is Russian language): </font></font><br><img src="http://i5.imageban.ru/out/2016/03/13/968587aab3882cdc6322e843221d0fea.jpg" alt="image"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13) Literature</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pdns daemon control </font></font><a href="https://doc.powerdns.com/3/authoritative/internals/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For v3.x </font></font></a> <br> <a href="https://doc.powerdns.com/md/authoritative/modes-of-operation/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description of interactions in the DNS hierarchy</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PS This article is the first part of my story. </font><font style="vertical-align: inherit;">In the next part I will tell you about further settings, to optimize performance, etc.</font></font></div><p>Source: <a href="https://habr.com/ru/post/278153/">https://habr.com/ru/post/278153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278125/index.html">Automation of business processes in CRM. Comparison of approaches</a></li>
<li><a href="../278127/index.html">Anniversary digest of interesting materials from the world of web development and IT for the last week No. 200 (February 22 - 28, 2016)</a></li>
<li><a href="../278129/index.html">Azure Backup Server - free DPM</a></li>
<li><a href="../278137/index.html">PHP Digest number 80 - interesting news, materials and tools (February 14 - 28, 2016)</a></li>
<li><a href="../278151/index.html">Pathfinding: A simple implementation of a funnel algorithm (Funnel Algorithm)</a></li>
<li><a href="../278159/index.html">Debian's RISC under QEMU</a></li>
<li><a href="../278163/index.html">CodingFuture + Puppet. Part III: Install Puppet Server (cfpuppetserver)</a></li>
<li><a href="../278165/index.html">Best practices Richard Siddeway Powershell in depth</a></li>
<li><a href="../278167/index.html">HTTP / 2: getting ready for the transition</a></li>
<li><a href="../278169/index.html">How to shoot yourself in Kotlin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>