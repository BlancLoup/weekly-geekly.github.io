<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Titanium Cloud Service: sending emails without calling the email dialog</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Titanium Cloud Service 

 Titanium Cloud Service - is a simple and convenient way to avoid creating a server for working with a mobile application, us...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Titanium Cloud Service: sending emails without calling the email dialog</h1><div class="post__text post__text-html js-mediator-article">  <b>Titanium Cloud Service</b> <br><br>  Titanium Cloud Service - is a simple and convenient way to avoid creating a server for working with a mobile application, using ready-made solutions from Appcelerator. <br><br><img src="https://habrastorage.org/storage2/4b1/2be/bd2/4b12bebd2e42568c093e3e66e1580e57.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Cloud Service supports the use of push notifications, sending e-mails, storing large amounts of photos and more. <br><br>  It should be noted that there are several <a href="http://www.appcelerator.com/plans-pricing/">tariff plans</a> for the Cloud, but to start the free version is more than enough.  This version provides such features as: 5 million Push Notifications, 5 million API calls, 20 gigabytes of free space on the server, 100 thousand e-mails per month, which, in my opinion, is very good. <br><br><a name="habracut"></a><br><br>  In addition, there are 2 versions of working with the Cloud - this is Production and Development, which is undoubtedly very convenient.  In this case, for example, when compiling an application on a device connected to a computer and using it, the application will be regarded as a development version, otherwise as a production. <br><br>  <b>Connecting to a project is easy.</b> <br><br>  In turn, connecting Cloud to the Titanium Studio project is elementary.  In the tiapp.xml file, you must set the Enable value for Cloud Services.  The necessary keys will be added to the project, which will also be displayed on the project page at <a href="https://cloud.appcelerator.com/">https://cloud.appcelerator.com</a> . <br><br>  <b>Data management</b> <br><br>  So, to work with a project, you need to configure it on the Cloud page.  All that will be needed are tabs: settings, email templates, and user creation in app management.  All actions must be duplicated in two versions of the project (production and development). <br><br>  What you need to send email is to work with SMTP Settings fields.  Here, the username is the email from which the email will be sent, and the password is the password from this email.  TLS must be set to true.  In this example, I will use gmail smtp address, which looks like this at smtp.gmail.com, you can use 587 port. <br><br>  Go to the email templates tab.  Here you create a message template that will be sent to the final recipient.  I will describe a small example: <br><br><pre><code class="javascript hljs">name: order (     ) subject: Order <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> app ( ) body: (  ) &lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Name: {{name}}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> Surname: {{surname}}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> {{order}} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  As you can see, in the body of the letter there are 3 variables that will be filled with data during the application. <br><br>  Finally, let's move on to the last step - creating a user.  The user is required to access the Cloud from the application and transfer specific information.  We press the Create user button and fill in the fields with the data that will be used in the application code, and specifically, the username and password will be needed. <br><br>  <b>Work with Titanium.Cloud API</b> <br><br>  Let's get to work with the API.  To begin with we will connect the necessary library in the code and make the user login, which was created in the Cloud a little higher. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Cloud = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'ti.cloud'</span></span>); Cloud.Users.login({ <span class="hljs-attr"><span class="hljs-attr">login</span></span> : <span class="hljs-string"><span class="hljs-string">'username'</span></span>, <span class="hljs-attr"><span class="hljs-attr">password</span></span> : <span class="hljs-string"><span class="hljs-string">'password'</span></span> }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.success) { ... } } });</code> </pre><br>  If the user login was successful, you should start uploading images to the server.  At this stage, you should save the image id in any variable, to further check this image for its processing by the server, since  this may take a different amount of time and it may happen that the program runs faster than the server. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentItem = Ti.Filesystem.getFile(pathToFile); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> blob = currentItem.read(); Cloud.Photos.create({ <span class="hljs-attr"><span class="hljs-attr">photo</span></span> : blob }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.success) { <span class="hljs-comment"><span class="hljs-comment">//      (   label) Cloud.onsendstream = function(e) { messageLabel.text = String.format(L('uploading_photo'), + (Math.floor(e.progress * 0.5 * 100) * 2) + '%'); }; var photo = e.photos[0]; id = photo.id; ... } else { alert(e.message); } });</span></span></code> </pre><br>  Now, directly, we will make a check on the image processing by the server and if everything is successful, we will move on to the function of sending an email. <br><br><pre> <code class="javascript hljs">Cloud.Photos.show({ <span class="hljs-attr"><span class="hljs-attr">photo_id</span></span> : id }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.success) { Cloud.ondatastream = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ messageLabel.text = L(<span class="hljs-string"><span class="hljs-string">'server_processes_data'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> photo = e.photos[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (photo.processed) { sendEmail(); } });</code> </pre><br>  Consider the function of sending letters.  Here, the template is the name on the Cloud page in the email templates tab, recipients is the recipient of the letter.  Name, surname and order are the variables described in the email templates template, respectively. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendEmail</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ Cloud.Emails.send({ <span class="hljs-attr"><span class="hljs-attr">template</span></span> : <span class="hljs-string"><span class="hljs-string">'order'</span></span>, <span class="hljs-attr"><span class="hljs-attr">recipients</span></span> : <span class="hljs-string"><span class="hljs-string">'someone@gmail.com'</span></span>, <span class="hljs-comment"><span class="hljs-comment">//to whom name : name, surname : surname, order : order }, function(e) { if (e.success) { ... } else { alert(e.message); } }); }</span></span></code> </pre><br>  Letters reach quickly, without any delay. <br><br>  Thus, Appcelerator Cloud is convenient for connecting to projects and for further use, and its free version has all the features to become familiar with and get started with this product. </div><p>Source: <a href="https://habr.com/ru/post/190144/">https://habr.com/ru/post/190144/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../190126/index.html">The Ruby project is a new LTE router: what's inside and how we designed it</a></li>
<li><a href="../190130/index.html">Email Security: Email Encryption</a></li>
<li><a href="../190132/index.html">I will give the library in good hands</a></li>
<li><a href="../190138/index.html">4G on the smartphone. Personal experience</a></li>
<li><a href="../190142/index.html">Meteor 0.6.5 released</a></li>
<li><a href="../190146/index.html">Tessel - JavaScript Programmable Microcontroller</a></li>
<li><a href="../190148/index.html">Scrambls - protection of your intellectual property and encryption in social networks</a></li>
<li><a href="../190150/index.html">Storage Systems: Savings and Optimization</a></li>
<li><a href="../190154/index.html">SIP URI and URL. Part 1 (URI, URL and URN)</a></li>
<li><a href="../190156/index.html">Not quite a standard approach to organizing access to a WiFi network (Cisco WLC -> FreeRadius -> PHP -> web page)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>