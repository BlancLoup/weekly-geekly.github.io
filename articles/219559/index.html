<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SmetaCloud - estimating online. Display and print large tables in the browser</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi Habr, I want to tell you about my new project for estimating online SmetaCloud. 

 Aims and Tasks 
 The main goal of the Estimated Cloud project is...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SmetaCloud - estimating online. Display and print large tables in the browser</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c79/ff8/97c/c79ff897c66c3f3093d3529b55b1020b.png" alt="image"></div><br><br>  Hi Habr, I want to tell you about my new project for estimating online SmetaCloud. <br><br><h1>  Aims and Tasks </h1><br>  The main goal of the Estimated Cloud project is to provide a convenient service for drawing up estimates and collaborating on documents using only a computer with Internet access. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Who is suitable for estimate </h1><br>  SmetaCloud is great for small construction organizations and individual entrepreneurs, who make up a small amount of construction documentation and use their prices for budgeting. <br><br><a name="habracut"></a><br><br><h1>  What SmetaCloud differs from competitors </h1><br>  There are many software packages on the market for budget programs that offer desktop solutions for budgeting, only a few developers suggest using terminal access, but this method is too expensive in terms of server resource consumption, which leads to a restriction on simultaneous use of the product. <br><br>  Architecturally, SmetaCloud is a unique solution on the market for budget programs and is completely written using web technologies. <br><br><h1>  What SmetaCloud is already able to do </h1><br>  SmetaCloud is in beta testing and now offers users the following features: <br><br><ul><li>  Creating documents with estimates </li><li>  Creation of tables with quotations (sections) of local budget </li><li>  Add, delete, edit local budget rates </li><li>  Maintain a personal database of user rates and add them to the estimates </li><li>  Print / Export Document to PDF </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/951/376/806/9513768065cdc21465684f19fb4de54b.png" alt="image"></div><br><br>  Edited in the browser document is fully consistent with what will be printed.  By the way, you can print the result directly from the browser using the button: <img src="https://habrastorage.org/getpro/habr/post_images/e50/b17/b22/e50b17b22e005c05d7c7f922fac0d0ad.png" alt="image"><br><br><h1>  What's inside? </h1><br>  Now I would like to share some of the technical details and difficulties that I had to face when developing the Estimated Cloud. <br><br>  Since the appearance of the document is a set of tables, the first difficulty was solving the problems related to performance.  As you know, the html <i>table</i> element is very heavy for the browser, and when the number of such elements becomes large, the responsiveness of the interface greatly deteriorates due to an increase in the time to <a href="http://www.phpied.com/rendering-repaint-reflowrelayout-restyle/">reflow</a> (recompiling). <br><br>  The second problem was the inability of browsers to correctly print tabular documents.  If the table row does not fit on the page, then it should be completely transferred to the next, and not be torn where it wants. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90b/38b/71f/90b38b71f97da740b4bbd4ccae4f0cc8.png" alt="image"></div><br><br>  To date, only Opera (before switching to webkit) supported the CSS rule: <br><br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">tr</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">page-break-inside</span></span>: avoid; }</code> </pre> <br><br>  The rest of browsers strictly adhere to the CSS2 specification and apply this rule only to block elements.  There are a lot of questions about solving this problem on SO, but browser developers are not in a hurry to solve it, this <a href="https://bugs.webkit.org/show_bug.cgi%3Fid%3D5097">bug has been</a> dragging on the webkit since 2005. <br><br>  Both of these problems had to be solved by a fairly well-known hack that works in all browsers, starting with IE8: <br><br><pre> <code class="hljs xml">.cloud-dt-thead, .cloud-dt-tfoot, .cloud-dt-rowgroup { page-break-inside: avoid; } .cloud-dt-cell { display: table-cell; } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcloud-dt-table‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcloud-dt-thead‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcloud-dt-tfoot‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcloud-dt-data‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcloud-dt-rowgroup‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcloud-dt-row‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcloud-dt-cell‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  When forming tables using this approach, two problems described above are solved at once.  For the browser, such a table becomes much ‚Äúeasier‚Äù, which makes it possible to use them in a large, but still reasonable amount on one page.  When printing such tables, there is no longer an unexpected line break somewhere in the middle, and a line or a whole block of lines is transferred to the next page if there is not enough space. <br><br>  The approach described above is used not only for the tables that form the structure of the estimated document, but also for ordinary tables, for example, the table of rates for the personal database. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/067/fa5/12e/067fa512ea7562bdf14affd7e6e1bb1e.png"><br><br>  I want to emphasize how important it is to monitor how the work with the DOM is implemented with a large number of elements on the page.  There are many ways to trigger a <a href="http://gent.ilcore.com/2011/03/how-not-to-trigger-layout-in-webkit.html">reflow</a> , which leads to poor responsiveness of the entire application interface.  Ideally, each user action should not take more than one reflow.  This also applies to the correct description of CSS selectors, since browsers read them in Arabic (right to left), then an incorrectly composed selector of the type: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.my-widget</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.my-widget-body</span></span> * { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span> }</code> </pre> <br><br>  can significantly reduce the speed of the <a href="http://css-tricks.com/efficiently-rendering-css/">web page</a> <br><br><h1>  Browser Support </h1><br><br>  Currently only webkit browsers are fully supported, but if you log in via IE8, you can also work a little. <br><br><h1>  Future plans </h1><br><br>  First I would like to get feedback and understand in which direction to move on, and then add new features and capabilities, including: <br><br><ul><li>  Add more types of documents (Certificate of Completion (COP-2), Certificate of Cost of Completed Works (COP-3) and, possibly, the creation of individual documents for specific user needs) </li><li>  Shared access to the document with the ability to edit multiple users </li><li>  Versioning of the document.  Undo / Redo to return and cancel actions </li><li>  Offline version with the ability to synchronize with the web version (using node-webkit) </li></ul><br><br>  <a href="http://www.smetacloud.ru/">www.smetacloud.ru</a> <br>  <a href="http://www.smetacloud.ru/demo">Demo version</a> <br>  <a href="http://www.smetacloud.ru/tutorial">User's manual</a> <br><br>  If you have questions, suggestions, or someone may want to join the project, write: support@smetacloud.ru </div><p>Source: <a href="https://habr.com/ru/post/219559/">https://habr.com/ru/post/219559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219541/index.html">Servers for STSS Flagman video surveillance</a></li>
<li><a href="../219543/index.html">Gramafon: a wifi router and music player in one</a></li>
<li><a href="../219545/index.html">7 tips to promote applications for Windows Store</a></li>
<li><a href="../219547/index.html">Boring article about checking OpenSSL</a></li>
<li><a href="../219549/index.html">Getting ready for Google I / O 2014</a></li>
<li><a href="../219563/index.html">Converse first-hand: 14 questions to developers</a></li>
<li><a href="../219565/index.html">Dart: the smallest laptop adapter</a></li>
<li><a href="../219567/index.html">Seven of the most interesting tasks of the RCC for all the years according to Andrei Stankevich</a></li>
<li><a href="../219569/index.html">Organization of team development of an Internet project (using Git and 1C-Bitrix)</a></li>
<li><a href="../219575/index.html">Java song</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>