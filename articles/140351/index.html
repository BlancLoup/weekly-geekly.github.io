<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Autoswitch layouts" in php-applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 Recently, I have been developing a system of chat rooms, so to say chat rooms 3.0. This idea came after he met with such an interesting a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Autoswitch layouts" in php-applications</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br><br>  Recently, I have been developing a system of chat rooms, so to say chat rooms 3.0.  This idea came after he met with such an interesting and convenient thing as a comet-server Realplexor from dkLab.  But now is not about that ... <br><br>  The main engine wrote, the chat works, users communicate, everything seems to be nothing, but there is one BUT!  Yet we are people and sometimes forget to switch the keyboard layout from English to Russian, it happens.  After writing the n-th number of words, we send the message and what we see - it was written in the wrong layout, and rarely anyone will want to rewrite this text, and readers will not want to translate all your scribbles.  And it was decided to come up with some very simple way to correct such messages. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And so, I sit watching a movie, second, third - and the thought comes, to collect a certain number of frequently encountered words of the Russian language.  I got into Wikipedia and surprisingly found there <a href="http://ru.wiktionary.org/wiki/%25D0%25A3%25D1%2587%25D0%25B0%25D1%2581%25D1%2582%25D0%25BD%25D0%25B8%25D0%25BA:Schwallex/%25D1%2587%25D0%25B0%25D1%2581%25D1%2582%25D0%25BE%25D1%2582%25D0%25B0">information</a> on a subject of interest to me. <br><br>  Only half of the work was done to create an algorithm for the work and write a function. <br><br>  <b>The algorithm is very simple:</b> <br><ol><li>  We translate a string to lower case </li><li>  Remove unnecessary characters </li><li>  We break it into words </li><li>  We are looking for matches of words found in Wikipedia, and remember their number </li><li>  If the number of matches is greater than or equal to the limit specified by us at which it is assumed that the sentence is not written in the correct layout, change the letters and symbols in the sentence to the correct ones. </li></ol><br><br>  Simply!  Is not it? <br><br>  <b>The function in php looks like this:</b> <br><br><pre><code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">orfFilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($string)</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*-               */</span></span> $countErrorWords = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> $countError = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*   ,       */</span></span> $errorWords = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'d'</span></span>, <span class="hljs-string"><span class="hljs-string">'yt'</span></span>, <span class="hljs-string"><span class="hljs-string">'jy'</span></span>, <span class="hljs-string"><span class="hljs-string">'yf'</span></span>, <span class="hljs-string"><span class="hljs-string">'z'</span></span>, <span class="hljs-string"><span class="hljs-string">'xnj'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>, <span class="hljs-string"><span class="hljs-string">'cj'</span></span>, <span class="hljs-string"><span class="hljs-string">'njn'</span></span>, <span class="hljs-string"><span class="hljs-string">',snm'</span></span>, <span class="hljs-string"><span class="hljs-string">'f'</span></span>, <span class="hljs-string"><span class="hljs-string">'dtcm'</span></span>, <span class="hljs-string"><span class="hljs-string">"'nj"</span></span>, <span class="hljs-string"><span class="hljs-string">'rfr'</span></span>, <span class="hljs-string"><span class="hljs-string">'jyf'</span></span>, <span class="hljs-string"><span class="hljs-string">'gj'</span></span>, <span class="hljs-string"><span class="hljs-string">'yj'</span></span>, <span class="hljs-string"><span class="hljs-string">'jyb'</span></span>, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'ns'</span></span>, <span class="hljs-string"><span class="hljs-string">'bp'</span></span>, <span class="hljs-string"><span class="hljs-string">'pf'</span></span>, <span class="hljs-string"><span class="hljs-string">'ds'</span></span>, <span class="hljs-string"><span class="hljs-string">'nfr'</span></span>, <span class="hljs-string"><span class="hljs-string">';t'</span></span>, <span class="hljs-string"><span class="hljs-string">'jn'</span></span>, <span class="hljs-string"><span class="hljs-string">'crfpfnm'</span></span>,<span class="hljs-string"><span class="hljs-string">"'njn"</span></span>, <span class="hljs-string"><span class="hljs-string">'rjnjhsq'</span></span>, <span class="hljs-string"><span class="hljs-string">'vjxm'</span></span>, <span class="hljs-string"><span class="hljs-string">'xtkjdtr'</span></span>, <span class="hljs-string"><span class="hljs-string">'j'</span></span>, <span class="hljs-string"><span class="hljs-string">'jlby'</span></span>, <span class="hljs-string"><span class="hljs-string">'tot'</span></span>, <span class="hljs-string"><span class="hljs-string">',s'</span></span>, <span class="hljs-string"><span class="hljs-string">'nfrjq'</span></span>, <span class="hljs-string"><span class="hljs-string">'njkmrj'</span></span>, <span class="hljs-string"><span class="hljs-string">'ct,z'</span></span>, <span class="hljs-string"><span class="hljs-string">'cdjt'</span></span>, <span class="hljs-string"><span class="hljs-string">'rfrjq'</span></span>, <span class="hljs-string"><span class="hljs-string">'rjulf'</span></span>, <span class="hljs-string"><span class="hljs-string">'e;t'</span></span>, <span class="hljs-string"><span class="hljs-string">'lkz'</span></span>, <span class="hljs-string"><span class="hljs-string">'djn'</span></span>, <span class="hljs-string"><span class="hljs-string">'rnj'</span></span>, <span class="hljs-string"><span class="hljs-string">'lf'</span></span>, <span class="hljs-string"><span class="hljs-string">'ujdjhbnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'ujl'</span></span>, <span class="hljs-string"><span class="hljs-string">'pyfnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'vjq'</span></span>, <span class="hljs-string"><span class="hljs-string">'lj'</span></span>, <span class="hljs-string"><span class="hljs-string">'bkb'</span></span>, <span class="hljs-string"><span class="hljs-string">'tckb'</span></span>, <span class="hljs-string"><span class="hljs-string">'dhtvz'</span></span>, <span class="hljs-string"><span class="hljs-string">'herf'</span></span>, <span class="hljs-string"><span class="hljs-string">'ytn'</span></span>, <span class="hljs-string"><span class="hljs-string">'cfvsq'</span></span>, <span class="hljs-string"><span class="hljs-string">'yb'</span></span>, <span class="hljs-string"><span class="hljs-string">'cnfnm'</span></span>, <span class="hljs-string"><span class="hljs-string">',jkmijq'</span></span>, <span class="hljs-string"><span class="hljs-string">'lf;t'</span></span>, <span class="hljs-string"><span class="hljs-string">'lheujq'</span></span>, <span class="hljs-string"><span class="hljs-string">'yfi'</span></span>, <span class="hljs-string"><span class="hljs-string">'cdjq'</span></span>, <span class="hljs-string"><span class="hljs-string">'ye'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjl'</span></span>, <span class="hljs-string"><span class="hljs-string">'ult'</span></span>, <span class="hljs-string"><span class="hljs-string">'ltkj'</span></span>, <span class="hljs-string"><span class="hljs-string">'tcnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'cfv'</span></span>, <span class="hljs-string"><span class="hljs-string">'hfp'</span></span>, <span class="hljs-string"><span class="hljs-string">'xnj,s'</span></span>, <span class="hljs-string"><span class="hljs-string">'ldf'</span></span>, <span class="hljs-string"><span class="hljs-string">'nfv'</span></span>, <span class="hljs-string"><span class="hljs-string">'xtv'</span></span>, <span class="hljs-string"><span class="hljs-string">'ukfp'</span></span>, <span class="hljs-string"><span class="hljs-string">';bpym'</span></span>, <span class="hljs-string"><span class="hljs-string">'gthdsq'</span></span>, <span class="hljs-string"><span class="hljs-string">'ltym'</span></span>, <span class="hljs-string"><span class="hljs-string">'nenf'</span></span>, <span class="hljs-string"><span class="hljs-string">'ybxnj'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjnjv'</span></span>, <span class="hljs-string"><span class="hljs-string">'jxtym'</span></span>, <span class="hljs-string"><span class="hljs-string">'[jntnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'kb'</span></span>, <span class="hljs-string"><span class="hljs-string">'ghb'</span></span>, <span class="hljs-string"><span class="hljs-string">'ujkjdf'</span></span>, <span class="hljs-string"><span class="hljs-string">'yflj'</span></span>, <span class="hljs-string"><span class="hljs-string">',tp'</span></span>, <span class="hljs-string"><span class="hljs-string">'dbltnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'blnb'</span></span>, <span class="hljs-string"><span class="hljs-string">'ntgthm'</span></span>, <span class="hljs-string"><span class="hljs-string">'nj;t'</span></span>, <span class="hljs-string"><span class="hljs-string">'cnjznm'</span></span>, <span class="hljs-string"><span class="hljs-string">'lheu'</span></span>, <span class="hljs-string"><span class="hljs-string">'ljv'</span></span>, <span class="hljs-string"><span class="hljs-string">'ctqxfc'</span></span>, <span class="hljs-string"><span class="hljs-string">'vj;yj'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjckt'</span></span>, <span class="hljs-string"><span class="hljs-string">'ckjdj'</span></span>, <span class="hljs-string"><span class="hljs-string">'pltcm'</span></span>, <span class="hljs-string"><span class="hljs-string">'levfnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'vtcnj'</span></span>, <span class="hljs-string"><span class="hljs-string">'cghjcbnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'xthtp'</span></span>, <span class="hljs-string"><span class="hljs-string">'kbwj'</span></span>, <span class="hljs-string"><span class="hljs-string">'njulf'</span></span>, <span class="hljs-string"><span class="hljs-string">'dtlm'</span></span>, <span class="hljs-string"><span class="hljs-string">'[jhjibq'</span></span>, <span class="hljs-string"><span class="hljs-string">'rf;lsq'</span></span>, <span class="hljs-string"><span class="hljs-string">'yjdsq'</span></span>, <span class="hljs-string"><span class="hljs-string">';bnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'ljk;ys'</span></span>, <span class="hljs-string"><span class="hljs-string">'cvjnhtnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjxtve'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjnjve'</span></span>, <span class="hljs-string"><span class="hljs-string">'cnjhjyf'</span></span>, <span class="hljs-string"><span class="hljs-string">'ghjcnj'</span></span>, <span class="hljs-string"><span class="hljs-string">'yjuf'</span></span>, <span class="hljs-string"><span class="hljs-string">'cbltnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjyznm'</span></span>, <span class="hljs-string"><span class="hljs-string">'bvtnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'rjytxysq'</span></span>, <span class="hljs-string"><span class="hljs-string">'ltkfnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'dlheu'</span></span>, <span class="hljs-string"><span class="hljs-string">'yfl'</span></span>, <span class="hljs-string"><span class="hljs-string">'dpznm'</span></span>, <span class="hljs-string"><span class="hljs-string">'ybrnj'</span></span>, <span class="hljs-string"><span class="hljs-string">'cltkfnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'ldthm'</span></span>, <span class="hljs-string"><span class="hljs-string">'gthtl'</span></span>, <span class="hljs-string"><span class="hljs-string">'ye;ysq'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjybvfnm'</span></span>, <span class="hljs-string"><span class="hljs-string">'rfpfnmcz'</span></span>, <span class="hljs-string"><span class="hljs-string">'hf,jnf'</span></span>, <span class="hljs-string"><span class="hljs-string">'nhb'</span></span>, <span class="hljs-string"><span class="hljs-string">'dfi'</span></span>, <span class="hljs-string"><span class="hljs-string">'e;'</span></span>, <span class="hljs-string"><span class="hljs-string">'ptvkz'</span></span>, <span class="hljs-string"><span class="hljs-string">'rjytw'</span></span>, <span class="hljs-string"><span class="hljs-string">'ytcrjkmrj'</span></span>, <span class="hljs-string"><span class="hljs-string">'xfc'</span></span>, <span class="hljs-string"><span class="hljs-string">'ujkjc'</span></span>, <span class="hljs-string"><span class="hljs-string">'ujhjl'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjcktlybq'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjrf'</span></span>, <span class="hljs-string"><span class="hljs-string">'[jhjij'</span></span>, <span class="hljs-string"><span class="hljs-string">'ghbdtn'</span></span>, <span class="hljs-string"><span class="hljs-string">'pljhjdj'</span></span>, <span class="hljs-string"><span class="hljs-string">'pljhjdf'</span></span>, <span class="hljs-string"><span class="hljs-string">'ntcn'</span></span>, <span class="hljs-string"><span class="hljs-string">'yjdjq'</span></span>, <span class="hljs-string"><span class="hljs-string">'jr'</span></span>, <span class="hljs-string"><span class="hljs-string">'tuj'</span></span>, <span class="hljs-string"><span class="hljs-string">'rjt'</span></span>, <span class="hljs-string"><span class="hljs-string">'kb,j'</span></span>, <span class="hljs-string"><span class="hljs-string">'xnjkb'</span></span>, <span class="hljs-string"><span class="hljs-string">'ndj.'</span></span>, <span class="hljs-string"><span class="hljs-string">'ndjz'</span></span>, <span class="hljs-string"><span class="hljs-string">'nen'</span></span>, <span class="hljs-string"><span class="hljs-string">'zcyj'</span></span>, <span class="hljs-string"><span class="hljs-string">'gjyznyj'</span></span>, <span class="hljs-string"><span class="hljs-string">'x`'</span></span>, <span class="hljs-string"><span class="hljs-string">'xt'</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> $delChar = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'!'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'?'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'/'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-comment"><span class="hljs-comment">/**/</span></span> $expectWord = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'.'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'/me'</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> $arrReplace = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'q'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'r'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'t'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'u'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'i'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'o'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'p'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'['</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">']'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'s'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'d'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'f'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'g'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'h'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'j'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'k'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'l'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">';'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">"'"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'z'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'v'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'n'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'m'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">','</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'.'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'/'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'.'</span></span>, <span class="hljs-string"><span class="hljs-string">'`'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'Q'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'W'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'E'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'R'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'T'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'Y'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'U'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'I'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'O'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'P'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'{'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'}'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'A'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'S'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'D'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'F'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'G'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'H'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'J'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'K'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'L'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">':'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'"'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'|'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-string"><span class="hljs-string">'Z'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'X'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'C'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'V'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'B'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'N'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'M'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'&gt;'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'?'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">','</span></span>, <span class="hljs-string"><span class="hljs-string">'~'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'@'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'"'</span></span>, <span class="hljs-string"><span class="hljs-string">'#'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'‚Ññ'</span></span>, <span class="hljs-string"><span class="hljs-string">'$'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">';'</span></span>, <span class="hljs-string"><span class="hljs-string">'^'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">':'</span></span>, <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'?'</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*      $arrReplace*/</span></span> $arrReplace2 = array_flip($arrReplace); <span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>($arrReplace2[<span class="hljs-string"><span class="hljs-string">'.'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>($arrReplace2[<span class="hljs-string"><span class="hljs-string">','</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>($arrReplace2[<span class="hljs-string"><span class="hljs-string">';'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>($arrReplace2[<span class="hljs-string"><span class="hljs-string">'"'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>($arrReplace2[<span class="hljs-string"><span class="hljs-string">'?'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>($arrReplace2[<span class="hljs-string"><span class="hljs-string">'/'</span></span>]); <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> $arrReplace = array_merge($arrReplace, $arrReplace2); <span class="hljs-comment"><span class="hljs-comment">/*   ,      ,    */</span></span> $string2 = strtr(trim(strtolower($string)), $delChar); $arrString = explode(<span class="hljs-string"><span class="hljs-string">" "</span></span>, $string2); <span class="hljs-comment"><span class="hljs-comment">/*         -*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($arrString <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $val){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (array_search($val, $errorWords)){ $countError++; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ($countError &gt;= $countErrorWords)?strtr(strtr($string ,$arrReplace),$expectWord):$string; }</code> </pre> <br><br>  <b>Conclusion</b> <br><br>  Yes, the method is not entirely accurate, or rather called a ‚Äúcrutch‚Äù, but very simple.  At the moment, for my needs, it is suitable. <br>  In the future, I would like to rewrite the definition of incorrect layouts by endings, etc. <br><br>  <s>If someone wants to see this approach, you can go to chat</s> <br><br>  I would be glad if someone helped. <br><br>  <b>UPD: a</b> man named Sergey Koryakin (sergekoriakin@gmail.com) threw me a couple of links to his translation of this function on JS - <a href="">two</a> <a href="">times</a> </div><p>Source: <a href="https://habr.com/ru/post/140351/">https://habr.com/ru/post/140351/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140346/index.html">Blog-based social network XenForo</a></li>
<li><a href="../140347/index.html">Installing Mercurial Server and Using SSH Authorization</a></li>
<li><a href="../140348/index.html">Car super-watch</a></li>
<li><a href="../140349/index.html">Broker Factor Revealed</a></li>
<li><a href="../140350/index.html">Development: proper timing</a></li>
<li><a href="../140352/index.html">We disassemble xlsx in PHP without ready libraries</a></li>
<li><a href="../140353/index.html">Difference permissions devices. Developer Tips</a></li>
<li><a href="../140354/index.html">Save file change history</a></li>
<li><a href="../140357/index.html">C ++ 11 User Literals</a></li>
<li><a href="../140358/index.html">Online Store Integration with Google Merchant</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>