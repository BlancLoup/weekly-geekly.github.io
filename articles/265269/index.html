<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Grokay * RxJava, Part One: The Basics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="* from the translator: I thought for a long time how to translate the verb ‚Äúto grok‚Äù into Russian. On the one hand, this word translates as ‚Äúunderstan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Grokay * RxJava, Part One: The Basics</h1><div class="post__text post__text-html js-mediator-article">  <i>* from the translator: I thought for a long time how to translate the verb ‚Äúto grok‚Äù into Russian.</i>  <i>On the one hand, this word translates as ‚Äúunderstand‚Äù or ‚Äúrealize‚Äù, and on the other hand, when translating Robert Heinlein‚Äôs novel ‚ÄúA Stranger in a Foreign Country‚Äù (in which this word was first born), translators made it Russian ‚Äú grokat ".</i>  <i>I did not read the novel, so I considered that this word had some semantic shades that were not transmitted by Russian analogues, and therefore in its translation used the same tracing from English.</i> <br><br>  <a href="https://github.com/ReactiveX/RxJava">RxJava</a> is, now, one of the hottest topics for discussion with Android programmers.  The only problem is that it is quite difficult to understand the very basics of it, if you have not encountered anything like it.  Functional reactive programming is quite difficult to understand, if you come from the imperative world, but as soon as you deal with it, you will understand how cool it is! <br>  I will try to give you some general idea of ‚Äã‚ÄãRxJava.  The goal of this series of articles is not to explain everything down to the last comma (I could hardly do it), but rather to interest you in RxJava and how it works. <br><a name="habracut"></a><br><h2>  The basics </h2><br>  The basic building blocks of the reactive code are <code>Observables</code> and <code>Subscribers</code> <sup>1</sup> .  <code>Observable</code> is the data source, and <code>Subscriber</code> is the consumer. <br>  <code>Observable</code> data generation always occurs in accordance with the same order of actions: <code>Observable</code> "radiates" a certain amount of data (including <code>Observable</code> may not emit anything), and completes its work, either successfully or with an error.  For each <code>Subscriber</code> subscribed to <code>Observable</code> , the <code>Subscriber.onNext()</code> method is called for each element of the data stream, after which <code>Subscriber.onComplete()</code> and <code>Subscriber.onError()</code> can be called. <br>  All this is very similar to the usual <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D0%25B1%25D0%25BB%25D1%258E%25D0%25B4%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">‚ÄúObserver‚Äù pattern</a> , but there is one important difference: <code>Observables</code> often do not begin to generate data until someone explicitly subscribes to them <sup>2</sup> .  In other words: if a tree falls and nobody is near, then the sound of its fall is <a href="https://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B2%25D1%2583%25D0%25BA_%25D0%25BF%25D0%25B0%25D0%25B4%25D0%25B0%25D1%258E%25D1%2589%25D0%25B5%25D0%25B3%25D0%25BE_%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25B0_%25D0%25B2_%25D0%25BB%25D0%25B5%25D1%2581%25D1%2583">not audible</a> . <br><br><h2>  Hello world! </h2><br>  Let's deal with a small example.  First, create a simple <code>Observable</code> : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="java hljs">Observable&lt;String&gt; myObservable = Observable.create( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Observable.OnSubscribe&lt;String&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Subscriber&lt;? </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">super</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String&gt; sub)</span></span></span><span class="hljs-function"> </span></span>{ sub.onNext(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>); sub.onCompleted(); } } );</code> </pre><br>  Our <code>Observable</code> spawns the string ‚ÄúHello, world!‚Äù, And ends its work.  Now we will create a <code>Subscriber</code> to accept the data and do something with it. <br><br><pre> <code class="java hljs">Subscriber&lt;String&gt; mySubscriber = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Subscriber&lt;String&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String s)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(s); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCompleted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Throwable e)</span></span></span><span class="hljs-function"> </span></span>{ } };</code> </pre><br>  All that <code>Subscriber</code> does is print the lines passed to it by <code>Observable</code> .  Now that we have <code>myObservable</code> and <code>mySubscriber</code> , we can link them together using the <code>subscribe()</code> method: <br><br><pre> <code class="java hljs">myObservable.subscribe(mySubscriber); <span class="hljs-comment"><span class="hljs-comment">//  "Hello, world!"</span></span></code> </pre><br>  As soon as we signed <code>mySubscriber</code> to <code>myObservable</code> , <code>myObservable</code> calls the <code>mySubscriber</code> <code>onNext()</code> and <code>onComplete()</code> methods of <code>onNext()</code> , and as a result, <code>mySubscriber</code> outputs ‚ÄúHello, world!‚Äù To the console and finishes its execution. <br><br><h2>  Simplify the code </h2><br>  Generally speaking, we wrote too much code for such a simple task as outputting ‚ÄúHello, world!‚Äù To the console.  I specifically wrote this code so that you could easily figure out what was happening.  There are many more rational ways to solve a similar problem in RxJava. <br>  First, let's simplify our <code>Observable</code> .  In RxJava, there are methods for creating <code>Observable</code> , suitable for solving the most typical tasks.  In our case, <code>Observable.just()</code> spawns one data element, and then completes its execution, just like our first version <sup>3</sup> : <br><br><pre> <code class="java hljs">Observable&lt;String&gt; myObservable = Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>);</code> </pre><br>  Next, let's simplify our <code>Subscriber</code> .  We are not interested in the <code>onCompleted()</code> and <code>onError()</code> methods, so we can use another base class to determine what to do in <code>onNext()</code> : <br><br><pre> <code class="java hljs">Action1&lt;String&gt; onNextAction = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Action1&lt;String&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String s)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(s); } };</code> </pre><br>  <code>Action</code> can be used to replace any part of <code>Subscriber</code> : <code>Observable.subscribe()</code> can accept one, two, or three <code>Action</code> parameters that will be executed instead of <code>onNext()</code> , <code>onError()</code> and <code>onCompete()</code> .  That is, we can replace our <code>Subscriber</code> like this: <br><br><pre> <code class="java hljs">myObservable.subscribe(onNextAction, onErrorAction, onCompleteAction);</code> </pre><br>  But, since we do not need <code>onError()</code> and <code>onCompete()</code> , we can simplify the code even more: <br><br><pre> <code class="java hljs">myObservable.subscribe(onNextAction); <span class="hljs-comment"><span class="hljs-comment">//  "Hello, world!"</span></span></code> </pre><br>  Now let's get rid of the variables by resorting to the chained method call: <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .subscribe(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Action1&lt;String&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String s)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(s); } });</code> </pre><br>  And finally, we can use lambdas from Java 8 to simplify the code even more: <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .subscribe(s -&gt; System.out.println(s));</code> </pre><br>  If you are writing under Android (and therefore cannot use Java 8), I <i>highly</i> recommend <a href="https://github.com/evant/gradle-retrolambda">retrolambda</a> , which will help simplify the very verbose code in some places. <br><br><h2>  Transformation </h2><br>  Let's try something new. <br>  For example, I want to add my signature to the ‚ÄúHello, world!‚Äù Output to the console.  How to do it?  First, we can change our <code>Observable</code> : <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world! -Dan"</span></span>) .subscribe(s -&gt; System.out.println(s));</code> </pre><br>  This may work if you have access to the source code in which your <code>Observable</code> is defined, but this will not always be the case - for example, when you use someone‚Äôs library.  Another problem: what if we use our <code>Observable</code> in many places, but we want to add a signature only <i>in some cases</i> ? <br>  You can try to rewrite <code>Subscriber</code> : <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .subscribe(s -&gt; System.out.println(s + <span class="hljs-string"><span class="hljs-string">" -Dan"</span></span>));</code> </pre><br>  This option is also unsuitable, but for other reasons: I want my subscribers to be as lightweight as possible, since I can run them in the main thread.  At a more conceptual level, subscribers must <i>respond</i> to the data arriving at them, not <i>change</i> them. <br>  It would be great if you could change ‚ÄúHello, world!‚Äù At some intermediate step. <br><br><h2>  Introduction to Operators </h2><br>  And such an intermediate step, designed to transform the data, is.  Names are operators, and they can be used between the <code>Observable</code> and <code>Subscriber</code> for data manipulation.  There are a lot of operators in RxJava, so for a start it will be better to focus on only a few. <br>  For our particular situation, the <code>map()</code> operator would be best suited for converting one data element to another: <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .map(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Func1&lt;String, String&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String s)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s + <span class="hljs-string"><span class="hljs-string">" -Dan"</span></span>; } }) .subscribe(s -&gt; System.out.println(s));</code> </pre><br>  And again, you can resort to lambda: <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .map(s -&gt; s + <span class="hljs-string"><span class="hljs-string">" -Dan"</span></span>) .subscribe(s -&gt; System.out.println(s));</code> </pre><br>  Cool, yeah?  Our <code>map()</code> operator, roughly speaking, is <code>Observable</code> , which transforms a data item into it.  We can create a chain of as many <code>map()</code> as we see fit to give the data the most convenient and simple form in order to facilitate the task to our <code>Subscriber</code> . <br><br><h2>  More about map () </h2><br>  An interesting property of <code>map()</code> is that it does not have to generate data of the same type as the original <code>Observable</code> . <br>  Suppose that our <code>Subscriber</code> should display not a generated text, but its hash: <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .map(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Func1&lt;String, Integer&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String s)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.hashCode(); } }) .subscribe(i -&gt; System.out.println(Integer.toString(i)));</code> </pre><br>  Interesting: we started with strings, and our <code>Subscriber</code> accepts Integer.  By the way, we again forgot about lambdas: <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .map(s -&gt; s.hashCode()) .subscribe(i -&gt; System.out.println(Integer.toString(i)));</code> </pre><br>  As I said earlier, we want our <code>Subscriber</code> do as little work as possible, so let's apply another <code>map()</code> to convert our hash back to <code>String</code> : <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .map(s -&gt; s.hashCode()) .map(i -&gt; Integer.toString(i)) .subscribe(s -&gt; System.out.println(s));</code> </pre><br>  Take a look at this - our <code>Observable</code> and <code>Subscriber</code> now look the same as at the very beginning!  We just added a few intermediate steps that transform our data.  We could even add the code again, adding my signature to the generated lines: <br><br><pre> <code class="java hljs">Observable.just(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>) .map(s -&gt; s + <span class="hljs-string"><span class="hljs-string">" -Dan"</span></span>) .map(s -&gt; s.hashCode()) .map(i -&gt; Integer.toString(i)) .subscribe(s -&gt; System.out.println(s));</code> </pre><br><h2>  So, what is next? </h2><br>  Now you probably think: ‚ÄúWell, as usual: they show a simple example, and they say that the technology is cool, because it allows you to solve this problem in two lines of code‚Äù.  I agree, an example is really simple.  But from it you can take a couple of useful ideas: <br><br><h3>  Idea # 1: <code>Observable</code> and <code>Subscriber</code> can do anything </h3><br>  Do not limit your imagination; <a href="http://www.zombo.com/">everything you want is</a> possible. <br>  Your <code>Observable</code> can be a database query, and <code>Subscriber</code> can display the results of a query.  <code>Observable</code> can also be a click on the screen, <code>Subscriber</code> can contain a reaction to this click.  <code>Observable</code> can be a stream of bytes received from the network, while a <code>Subscriber</code> can write this data to a storage device. <br>  This is a general-purpose framework that can handle almost any problem. <br><br><h3>  Idea # 2: <code>Observable</code> and <code>Subscriber</code> do not depend on intermediate steps between them </h3><br>  You can insert as many <code>map()</code> calls as you like between the <code>Observable</code> and the <code>Subscriber</code> subscribed to it.  The system is easily <b>composable</b> , and with its help it is very easy to manage the flow of data.  If the operators work with the correct input / output data, you can write a chain of transformations of infinite length <sup>4</sup> . <br><br>  Take a look at these key ideas together and you will see a system with great potential.  Now, however, we have only one <code>map()</code> operator, and you cannot write much with it.  In the second part of this article, we will look at the large number of operators available to you out of the box when you use RxJava. <br><br>  <a href="http://habrahabr.ru/post/265583/">Go to the second part.</a> <br><hr><br>  <sup>1</sup> <code>Subscriber</code> implements the <code>Observer</code> interface, and therefore the ‚Äúbasic building block‚Äù can be called the last, but in practice you will most often use <code>Subscriber</code> , because it has several additional useful methods, including <code>Subscriber.unsubscribe()</code> . <br>  <sup>2</sup> RxJava has ‚Äúhot‚Äù and ‚Äúcold‚Äù <code>Observables</code> .  The hot <code>Observable</code> spawns data all the time, even if no one subscribes to it.  Cold <code>Observable</code> , respectively, generates data only if it has at least one subscriber (it is the cold <code>Observables</code> that are used in the article).  For the initial stages of learning RxJava, this difference is not so important. <br>  <sup>3</sup> Strictly speaking, <code>Observable.just()</code> not a complete analog of our original code, but I will explain <i>why</i> this happens only in the third part of the article. <br>  <sup>4</sup> Okay, not so infinite, because at some point I will rest on the restrictions imposed by iron, but you understand what I wanted to say. </div><p>Source: <a href="https://habr.com/ru/post/265269/">https://habr.com/ru/post/265269/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../265257/index.html">Mmmm ... Marshmallow: what's new in the Android 6 and Android SDK</a></li>
<li><a href="../265259/index.html">Embed premium media content with HTML5</a></li>
<li><a href="../265261/index.html">12 best Android application development frameworks</a></li>
<li><a href="../265263/index.html">Setting up an environment to test changes in the Linux kernel</a></li>
<li><a href="../265265/index.html">YouTrack 6.5 - Bug Tracker for the whole team</a></li>
<li><a href="../265271/index.html">What technologies are most often used on hackathons</a></li>
<li><a href="../265273/index.html">I will not compare myself with other developers.</a></li>
<li><a href="../265275/index.html">SYSTIMAX against spaghetti. Or how cable cross VisiPatch 360 helps to organize the Category 6A cable system</a></li>
<li><a href="../265281/index.html">Principle: a prototyping tool that you should try.</a></li>
<li><a href="../265283/index.html">Microsoft added telemetry collection tool in Windows 7/8 / 8.1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>