<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Smart Cottage # 1. ITEAD's Sonoff Modules</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once, long ago, when I got involved in the topic of electronics development, the market for "smart-house" devices was empty. Empty for me. I wanted to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Smart Cottage # 1. ITEAD's Sonoff Modules</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/052/8e9/87a/0528e987a7e747428c82cea148fd6527.jpg"><br><br>  Once, long ago, when I got involved in the topic of electronics development, the market for "smart-house" devices was empty.  Empty for me.  I wanted to use the device at the same time, and quite inexpensive, and adequately functional.  Cheap devices on the 433rd radio channel were not suitable for this because of their simplicity.  They have no feedback, no encryption.  You can easily listen to the control commands on the air and do any dirty tricks with ‚Äúhis‚Äù smart home.  You can not be sure whether the device actually turned on as a result of the command sent.  Everything else had an inadequate price tag. <br><br>  Since then much water has flowed.  Dimmer development never reached the final.  It did not manage to eliminate all the problems with power supply - the wi-fi module is quite voracious and does not work stably enough in our switching circuit.  While the development was sluggish, the market was filled with LED lamps, which were not dimmable for the most part.  My understanding of the smart home has changed.  It seems that the dimmer in its format, as I thought, is not very necessary.  For the "smart home" should work itself, without switches.  The dollar exchange rate has changed, which has complicated the development of any electronic project, and the development of a dimmer has complicated considerably.  The device is not simple, its cost is high and it depends almost directly on the dollar.  Therefore, the dimmer project is still on pause.  Until better times.  Or for good. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      His decision was not all and was not, and the cottage was built.  If in the apartment "smart home" is still more "rattle", then outside the city automation can make life much more comfortable.  I regularly looked for possible solutions from other manufacturers.  And I did not find everything.  Until recently. <br><a name="habracut"></a><br><img src="https://habrastorage.org/files/ef9/8e6/214/ef98e621491243dcb37232d5e442040c.jpg"><br><br><h1>  Unexpected find </h1><br>  Wandering once again on the network and deciding to go to the site ITEAD, I found a very interesting update of the range.  Comrades began to produce low-cost, yes to be concealed - a penny (from $ 6 per module, $ 4.85 per share), a solution for managing power load.  Ready, in the case, with an adequate switching scheme, with feedback, with control through a mobile application, both locally and through the cloud.  Having wiped the drool from the desktop, I realized that the future was already here and finally there was a solution for automating my country house.  Cheap and kind of not even angry at all. <br><br><img src="https://habrastorage.org/files/70d/1b0/90c/70d1b090c6144115a3cb9b126e83e0ca.jpg"><br><br><h1>  Economy </h1><br>  I spent $ 32.71 on my first purchase.  I took two modules just with Wi-Fi for $ 4.85 (for the stock, later the price tag will rise to $ 6) and two with an additional 433 MHz interface on board for $ 7.20 (later they promise to raise it to $ 9.50).  Delivery China-Ekaterinburg cost $ 8.61, the total price tag for a parcel with delivery is $ 32.71. <br><br>  In rubles, 2,605.01 RUB was written off the card, that is, the dollar was roughly 80 and the cost of the modules, including delivery in rubles, was 550 for a simple model and 750 for a filpersperse.  With such pricing, if the manufacturer is not very temporary action, new modules - an absolute hit, which is unlikely to surpass anyone.  More information about the functionality of the modules will be slightly lower. <br><br><img src="https://habrastorage.org/files/30d/b0e/31a/30db0e31a8a44f0baeb773827407d256.jpg"><br><br><h1>  Delivery </h1><br>  At first I tried to order delivery to the Chinese address of the warehouse, which I use.  But the great and terrible PayPal said ‚Äúnevermind,‚Äù they say only to Russia you can pay for the delivery from my card.  If someone knows how to deal with this, please share in the comments or PM. <br><br>  I paid the parcel on February 26th.  She flew to me rather quickly, albeit with pickles, may Moscow readers forgive me.  The fact is that a special terminal for such Chinese packages has already been built at the airport in Yekaterinburg quite a while ago.  They say that they immediately flew to us, without wagging around our vast country.  But, no, this joy so far only on paper, apparently, remains. <br><br><div class="spoiler">  <b class="spoiler_title">How the parcel flew</b> <div class="spoiler_text">  02/29/2016 Received by Hong Kong Post <br>  03/01/2016 Getting ready to ship from Hong Kong <br>  03/02/2016 Departed from Hong Kong to the destination country <br>  03/08/2016 10:24 Arrived on the territory of the Russian Federation Domodedovo AOFP <br>  03/10/2016 11:26 Import MR LTs Vnukovo shop-1 <br>  03/10/2016 11:30 Transferred to customs MR LTS Vnukovo shop-1 <br>  03/10/2016 11:31 Released by customs MR LTS Vnukovo shop-1 <br>  03.11.2016 2:35 Left the place of international exchange MR LTs Vnukovo shop-1 <br>  03/14/2016 11:14 Dropped the sorting center Yekaterinburg MSC TSOPo <br>  03/14/2016 2:31 PM Arrived at the place of delivery Yekaterinburg 109 <br>  03/15/2016 12:49 Presentation to the addressee of Yekaterinburg 109 <br></div></div><br><img src="https://habrastorage.org/files/71d/12e/500/71d12e500ee74f2fa65fb5e843a8e0f7.jpg"><br><br><h1>  What's inside? </h1><br>  A neat package contained four neat boxes with modules.  I must say, the manufacturer is a little confused in the testimony.  The senior module is called differently on the box (Sonoff Pro) and on the label of the device itself (Sonoff RF).  It is also amusing to see on the site a photo of the module next to the remote control and a bright inscription here that ‚Äúthe remote control is not included in the kit‚Äù.  Childhood disease positioning is not critical.  The main thing is a high-quality device, but there is nothing to complain about. <br><br><img src="https://habrastorage.org/files/afd/425/f36/afd425f363ce4f31ba00463fb518a2bf.jpg"><br><br>  Cardboard box.  Fasteners included.  High-quality plastic case.  Neat PCB.  More than a suitable form factor for home automation or country house.  For an apartment, perhaps, the size is a bit too big.  A bunch of photos will tell about the quality better than any words. <br><br><img src="https://habrastorage.org/files/fae/3b5/8a8/fae3b58a82284235841c2730402c990d.jpg"><br><br><img src="https://habrastorage.org/files/8f8/d89/b3c/8f8d89b3c4e64d759467f46affc92e76.jpg"><br><br><img src="https://habrastorage.org/files/7e3/24d/300/7e324d3009c84ea9b08d4a2950aeffce.jpg"><br><br><img src="https://habrastorage.org/files/f7b/7e4/0c2/f7b7e40c26bc409aadbb2e6968206efe.jpg"><br><br><img src="https://habrastorage.org/files/766/f72/499/766f72499dc4438b8d813c459e1351fb.jpg"><br><br><img src="https://habrastorage.org/files/fba/7cf/814/fba7cf814ab84622ad6fe29f0b896e37.jpg"><br><br><img src="https://habrastorage.org/files/2e6/d0c/943/2e6d0c943f1847fca9faf882bb509808.jpg"><br><br><img src="https://habrastorage.org/files/a58/0a8/c9c/a580a8c9cdde45cc8a35314d04c17e71.jpg"><br><br><img src="https://habrastorage.org/files/022/8b2/17c/0228b217c79e4515bf7c4083a3bb8502.jpg"><br><br>  In this case, the manufacturer has where to strive.  If you really look at and find fault with it, then you can note that the modules have differently produced control buttons and LEDs from the depth of the case.  Of course, this is not critical. <br><br><img src="https://habrastorage.org/files/f21/298/b46/f21298b46b334b6197c9c8bc6fbc055c.jpg"><br><br><img src="https://habrastorage.org/files/c2d/9e3/181/c2d9e31818044ddc95420b6384780deb.jpg"><br><br><h1>  How it works? </h1><br>  Very simple, convenient, affordable.  On Android or Apple-smartphone, a proprietary application is installed.  It is searched in the app store for the not very relevant name "eWeLink".  I put only on android, and describe the behavior only on it, on iOS, the algorithm can be slightly different. <br><br>  Run the application.  We register in the system, indicating the phone number and the code that came by SMS.  Click "Add a device".  We include in the Sonoff network.  Long press its single control button before it flashes quickly.  The smartphone finds the module, offers to enter a name for it and specify the parameters of the wi-fi-network in which the module will work.  All set up is over. <br><br>  After that we have the ability to manage the device from the local wi-fi network.  If we are not in it, and the local wi-fi-network is connected to the Internet, then the cloud will be used without any switching and additional settings.  The application displays which switches are in contact, which are offline.  Switches on the connection can be controlled by turning them on and off.  The status of the switch on the screen changes only after the actual switching of the piece of iron.  Feedback is and works. <br><br>  The extended version of the module with the 433 MHz interface can be easily made friends with a cheap Chinese controller or PIR sensor.  When the module state is switched from the 433 MHz interface, the module state in the application instantly changes.  The same happens when the module is turned on and off locally by briefly pressing its control button. <br><br>  All connected devices are displayed in the app.  Devices can be shared between accounts.  For example, you can reward your spouse with the opportunity to control some small piece of your smart home with her smartphone. <br><br><h1>  How to apply? </h1><br>  I purchased four modules for the implementation of the ‚Äúminimum program‚Äù for the automation of my summer cottage.  Modules with only wi-fi on board will control convectors in a waiting room and in a warm room at home.  So I had the opportunity to include them in advance from the city, before leaving for the country.  My dream is to come to the already warm heated rooms.  Modules with an additional 433 MHz will be used to control the lighting on the site.  I want to turn on the light from the car at the entrance to the site, I want to turn off the light near the bath from the house, so as not to walk in the dark.  Additional radio interface will be needed for pairing with some cheap radio buttons.  Convectors will be comfortable enough to control only through the application, the light on the street wants to be additionally able to turn on and off the real switches. <br><br>  To properly connect these four modules, I bought a superbudget ‚Äúsmart home kit‚Äù consisting of: a) an old ASUS WL500Gp router with a burnt power supply (300 rubles), b) a new power supply for a router (100 rubles), c) 4G- a modem plugged into a USB router connector (400 rubles).  Total 800 rubles, we add to them spent on modules 2600, it turns out 3400 rubles.  For full control of four points via the Internet with feedback.  I think it‚Äôs just not realistic to invent a budget solution.  Even if you solder the modules yourself. <br><br>  The system is assembled in test mode in my office, openwrt is set up, work with a real 1.5kW convector has been tested and will be installed in the country soon.  Later, an arduinka with various useful sensors and a small web interface will be added to the router.  In the series of posts about ‚ÄúSmart Cottage‚Äù, I will show that it has finally become possible to actually assemble a convenient, functional, inexpensive set of ‚Äúsmart home‚Äù from the available simple components. </div><p>Source: <a href="https://habr.com/ru/post/368449/">https://habr.com/ru/post/368449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../368431/index.html">MouseBox: Computer inside mouse</a></li>
<li><a href="../368435/index.html">Tomorrow ‚ÄúDoomsday Clock‚Äù can change the position of the hands (UPD - moved two minutes ahead)</a></li>
<li><a href="../368437/index.html">Animated video of the rotation of an exoplanet around its star</a></li>
<li><a href="../368439/index.html">Earth and space with the ISS</a></li>
<li><a href="../368441/index.html">PayPal has blocked the accounts of residents of Crimea</a></li>
<li><a href="../368451/index.html">Developers say hello!</a></li>
<li><a href="../368453/index.html">Students from the University of Tokyo have created a robotic arm that wins a person in the game "Stone, Scissors, Paper" with one hundred percent probability</a></li>
<li><a href="../368455/index.html">Engineers have developed a metamaterial, giving a three-dimensional object a flat view.</a></li>
<li><a href="../368457/index.html">The development of SD cards: as the recording speed increased from 2 to 30 megabytes per second</a></li>
<li><a href="../368459/index.html">In the United States for the first time was fined $ 1,100 drone operator</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>