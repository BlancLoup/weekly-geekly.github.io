<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>jsForms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good evening, after writing the previous post, probably more than three weeks have passed, since then my direction has changed a bit, but MVC is a goo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>jsForms</h1><div class="post__text post__text-html js-mediator-article">  Good evening, after writing the previous post, probably more than three weeks have passed, since then my direction has changed a bit, but MVC is a good pattern, but now for js it is still too cumbersome.  We strive to choose more transparent and subtle solutions that would allow to see how everything works, which is why I like jQuery, it introduces the very minimum that allows you to abstract from the browser type, but it does not remove the feeling that you write exactly on js.  That's why when trying to implement the Document-View pattern on js, I wanted to make it as subtle and imperceptible as possible, and it seems to me that I managed to achieve the same light sensations that it was all the same js, it just expanded a little. <br>  As in WinForms, in jsForms everything is built on components.  So let's get started. <br><a name="habracut"></a><br><h1>  Component </h1>  The component consists of two parts: <br><ul><li>  Visual </li><li>  Functional </li></ul><br><h3>  Visual part </h3><br>  The visual part is a template that contains HTML markup, sets properties and events. <br>  The template is a js file having the following form: <br> <code>jsForms.Templates.ComponentType='HTML'; <br></code> <br><ul><li>  ComponentType - component type </li><li>  [HTML] - HTML code enclosed in quotes </li></ul><br>  <b>Important</b> - in HTML code, use the characters "&lt;" and "&gt;" to frame the tags, in other places use the "&amp; lt;"  and "&amp; gt;"  respectively. <br>  The HTML tag must be very strict, that is, all open tags must be closed and the order followed. <br>  The template should have only one root html tag. <br><h3>  Functional part </h3><br>  The functional part is also the js file, which contains the ‚Äúclass‚Äù, as well as the declaration of the properties and events of the component. <br>  The functional part is: <br> <code>jsForms.Components.ComponentType=&lt;br/&gt; <br> {&lt;br/&gt;[JavaScript]&lt;br/&gt;};&lt;br/&gt; <br></code> <br><ul><li>  ComponentType - component type </li><li>  [Javascript] - in general classic js </li></ul><br><h1>  Using jsForms </h1><br>  Let us examine all the examples. <br>  For example, the Template File for a button will look like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Templates.Button=' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="button"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="button-background"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="button-common button-w"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="button-common button-e"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">span</font> <font color="#ff0000">name</font> <font color="#0000ff">="text"</font> <font color="#ff0000">class</font> <font color="#0000ff">="button-text"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;' <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> ';</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><h4>  Component </h4><br>  To use other components in the template, use the tag: component <br>  In this case, a component whose template contains other components will be called a container. <br>  The component tag has a view <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">component</font> [ <font color="#ff0000">name</font> <font color="#0000ff">='ComponenName'</font> ][ <font color="#ff0000">id</font> <font color="#0000ff">='IdValue'</font> ][ <font color="#ff0000">class</font> <font color="#0000ff">='CSSClass'</font> ] <font color="#0000ff">&gt;</font> [Settings] <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><ul><li>  ComponentType - component type </li><li>  ComponenName - the name of the component, an optional parameter, will be described below. </li><li>  id - sets the same as for html tag, id property </li><li>  class - sets as for the html tag, the class property </li><li>  Setting - a set of tags, which will be discussed later </li></ul><br>  Let us consider an example of a dialog box that contains some text and two buttons. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Templates.InsertCSSDialog=' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> Test text <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;' <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> ';</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  But the question arises how to set the names of the buttons? <br>  To set the properties of the coponent is the properties tag. <br><h4>  Properties </h4><br>  The properties tag contains all the specified properties of the component, the enumeration is using the key tag <br>  The key tag has a view <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="PropertyName"</font> [ <font color="#ff0000">value</font> <font color="#0000ff">="PropertyValue"</font> ][ <font color="#ff0000">type</font> <font color="#0000ff">="object|string|int|float..."</font> ][ <font color="#ff0000">disable</font> ][ <font color="#ff0000">direct</font> ][ <font color="#ff0000">const</font> ] <font color="#0000ff">&gt;</font> [PropertyValue] <font color="#0000ff">&lt;/</font> <font color="#800000">key</font> <font color="#0000ff">&gt;</font> &lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><ul><li>  PropertyName - property name, required parameter </li><li>  PropertyValue - value, must be specified either in the value attribute, or inside the key tag, the attribute is priority </li><li>  type - value type, optional parameter </li><li>  disable - attribute indicates that the property will not be set </li><li>  direct - the attribute indicates that the property is set to bypass the set property; it is now ignored. </li><li>  const - attribute is reserved for future multi-language support. </li></ul><br><br>  So we can set the ‚ÄúText‚Äù to our buttons. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Templates.InsertCSSDialog=' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> Test text <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="Text"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Ok"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="Text"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Cancel"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;' <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> ';</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now we will pick up events for the buttons, for this we will use the events tag <br><h4>  Events </h4><br>  The events tag contains all the specified component events, the enumeration is using the key tag. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="EventName"</font> <font color="#ff0000">value</font> <font color="#0000ff">="EventCallback"</font> <font color="#0000ff">/&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><ul><li>  EventName - event name, required parameter </li><li>  EventCallback is the name of the method from the container "class" component. </li></ul><br><br>  Let's make changes to the functional part of our component by adding two methods there: bOk_Click, bCancel_Click <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Components.InsertCSSDialog=&lt;br&gt;{&lt;br&gt; <font color="#008000">//</font> &lt;br&gt; <font color="#008000">//  </font> &lt;br&gt; <font color="#008000">//</font> &lt;br&gt;    bOk_Click: <font color="#0000ff">function</font> ()&lt;br&gt;    {&lt;br&gt;        alert( <font color="#A31515">'OK'</font> );&lt;br&gt;    },&lt;br&gt;    bCancel_Click: <font color="#0000ff">function</font> ()&lt;br&gt;    {&lt;br&gt;        alert( <font color="#A31515">'Cancel'</font> );&lt;br&gt;    }&lt;br&gt; <font color="#008000">//</font> &lt;br&gt; <font color="#008000">//  </font> &lt;br&gt; <font color="#008000">//</font> &lt;br&gt;};</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  And change our template <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Templates.InsertCSSDialog=' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> Test text <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="Text"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Ok"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">events</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="onClick"</font> <font color="#ff0000">value</font> <font color="#0000ff">="bOk_Click"</font> <font color="#0000ff">/&gt;&lt;/</font> <font color="#800000">events</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="Text"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Cancel"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">events</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="onClick"</font> <font color="#ff0000">value</font> <font color="#0000ff">="bCancel_Click"</font> <font color="#0000ff">/&gt;&lt;/</font> <font color="#800000">events</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;' <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> ';</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Templates have another important property for us, they allow us to give each html tag and component names, <br>  which will be available in the "class".  In order to set the name you need to set the name attribute;  for all components that have <br>  this attribute is not set, the name of the form "_CX" is automatically generated when compiling, where X is a number, <br>  why it will need to be understood later.  How to use the names in the component code will be described below. <br>  The template allows you to make investments of some components in the other.  For example, let's create a MultiPanel component. <br>  Template: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Templates.MultiPanel=' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="MPanelTop"</font> <font color="#ff0000">name</font> <font color="#0000ff">="top"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="MPanelCenter"</font> <font color="#ff0000">name</font> <font color="#0000ff">="content"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="MPanelBottom"</font> <font color="#ff0000">name</font> <font color="#0000ff">="bottom"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;' <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> ';</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  "Class": <br> <code>jsForms.Components.MultiPanel={}; <br></code> <br><h4>  Content </h4><br>  Now we will change our dialog box - we will place the keys in the lower part of the panel, the text in the upper part, we will also add an input to the central one. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Templates.InsertCSSDialog=' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="MultiPanel"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">content</font> <font color="#ff0000">into</font> <font color="#0000ff">="top"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> Please enter css class name <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">name</font> <font color="#0000ff">="iStyleClassName"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">content</font> <font color="#ff0000">into</font> <font color="#0000ff">="bottom"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;                ' <font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="Text"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Ok"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;                ' <font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="Text"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Cancel"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;' <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> ';</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  As you can see from the example, using the content tag, we can place one component inside another. <br>  The content tag has a view <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">content</font> [ <font color="#ff0000">into</font> <font color="#0000ff">="ComponentName"</font> ] <font color="#0000ff">&gt;</font> [HTML|Component] <font color="#0000ff">&lt;/</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><ul><li>  into - indicates to which control the content will be added, the default is ‚Äúcontent‚Äù </li><li>  [HTML | Component] - any html code + components. </li></ul><br><br><h3>  Compiling </h3><br> <a href="http://imageshost.ru/"><img src="http://img3.imageshost.ru/imgs/082514ca0e35bad9af29d2908f710294/84f48dacb9fb516277e998f719f3e238.png"></a> <br>  The picture from the previous post, the essence remains the same, but the parsing mechanism itself has changed. <br>  At the first request of a component, the engine will check if the component has been compiled, if not, it will compile.  To do this, it will parse the template and make a js function based on it. <br>  When the function is called, the DOM model wrapped in jQuery will be created, and the basic functionality and functionality of the ‚Äúclass‚Äù of the component will be added to this object. The base functionality is the one defined by the Component component. All tags marked with the name attribute will be in the Components property. . <br>  That is, if you compile: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Templates.InsertCSSDialog=' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="test"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="MultiPanel"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">content</font> <font color="#ff0000">into</font> <font color="#0000ff">="top"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">name</font> <font color="#0000ff">="SimpleText"</font> <font color="#0000ff">&gt;</font> Please enter css class name <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> Unnamed div <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">name</font> <font color="#0000ff">="iStyleClassName"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;</font> <font color="#800000">content</font> <font color="#ff0000">into</font> <font color="#0000ff">="bottom"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;                ' <font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="Text"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Ok"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">type</font> <font color="#0000ff">="Button"</font> <font color="#ff0000">name</font> <font color="#0000ff">="bCancel"</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;                ' <font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">name</font> <font color="#0000ff">="Text"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Cancel"</font> <font color="#0000ff">/&gt;</font> '+&lt;br&gt;            ' <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;        ' <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;    ' <font color="#0000ff">&lt;/</font> <font color="#800000">content</font> <font color="#0000ff">&gt;</font> '+&lt;br&gt;' <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> ';</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  At the output we get an object containing: <br><ul><li>  Properties <br><ul><li>  _Type - component type </li><li>  _Name - tag name set in the name attribute or generated automatically. </li><li>  P or Properties - the default is an empty object designed to store the properties of a particular object. </li><li>  E or Events - the default is an empty object designed to store events of a specific object. </li><li>  C or Components - an object containing all the tags and components wrapped in jQuery, marked with the name attribute in our case <br>  C = { <ul><li>  Simpletext </li><li>  iStyleClassName </li><li>  bCancel </li></ul>  } </li></ul><br></li><li>  JQuery object methods <ul><li>  append </li><li>  appendTo </li><li>  show </li><li>  etc </li></ul></li><li>  Component methods <br><ul><li>  Init - initialization of the component, called by the user, after adding the component to the DOM </li><li>  _GetProperty (name) - get property </li><li>  _SetProperty (name, value) - set the property </li><li>  _SetEvent (name, obj, func) - set the event, you need to specify the object (obj) and the function it contains (func) </li><li>  _GetEvent (name) - get the structure {obj, func} </li><li>  _ExecEvent (name, arguments) - to execute the event, the argument must be one, but not mandatory. </li></ul></li><li>  The methods of the component itself. <br><ul><li>  bOk_Click () - user function </li><li>  bCancel_Click () - user function </li><li>  etc. </li></ul></li></ul><br>  You should also know that the DOM component object itself contains a reference to the object and stores it in the _OBJ property, i.e. <br>  document.getElementById ('test') ._ OBJ - will be equal to a specific object of the InsertCSSDialog class. <br>  For a simpler entry, it is better to use jsForms.GetObject (element), and to search upwards for a specific component type <br>  jsForms.GetObjectByType (element, foundType) <br><h3>  The implementation of the functional part </h3><br>  We now turn specifically to the writing of the functional part. <br>  I recommend using the ‚Äúchains‚Äù approach, which is very well implemented in jQuery; for this, at the end of each method, return a pointer to yourself [return this;  ]. <br>  Also use specifically allocated space for data, that is, this.P. &lt;PropertyName&gt; for storing properties. <br>  Give your methods and properties names with a capital letter - this will save you from overlapping jQuery methods, but still keep in mind the fact that the basic object is jQuery and its plugins, sometimes the names of the methods in plugins start with a capital letter, which can be patted you nerves) <br>  When the "overload" of the Init method, insert at the end a call to the base class [return jsForms.Components.Component.Init.call (this);], it is necessary to initialize the nested components. <br>  Remember that in this.C property you have jQuery content wrapping over tags and other components of the template, manipulate them. <br>  Let's add validation to our dialog box: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Components.InsertCSSDialog=&lt;br&gt;{ <font color="#008000">//  </font> &lt;br&gt;    bOk_Click: <font color="#0000ff">function</font> ()&lt;br&gt;    {&lt;br&gt; <font color="#0000ff">var</font> text = <font color="#0000ff">this</font> .C.iStyleClassName.val();&lt;br&gt; <font color="#0000ff">if</font> (text==undefined || $.trim(text)== <font color="#A31515">''</font> )&lt;br&gt;        {&lt;br&gt;            alert( <font color="#A31515">'Please enter css class name'</font> );&lt;br&gt; <font color="#0000ff">return</font> ;&lt;br&gt;        }&lt;br&gt;        alert( <font color="#A31515">'OK, class="'</font> +text+ <font color="#A31515">'");&lt;br&gt;    },&lt;br&gt;    bCancel_Click:function()&lt;br&gt;    {&lt;br&gt;        alert('</font> Cancel');&lt;br&gt;    },&lt;br&gt; <font color="#008000">//  </font> &lt;br&gt;};</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  If we want to add a property, event or container to our component, we need to declare it, for this it is easiest to call the jsForms.CreateCompileInfoByObject (objDeclaration) function, which takes a specially composed object as a parameter. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">objDeclaration={&lt;br&gt;{Name:&lt;ComponentType&gt;,&lt;br&gt;    Properties:{ <font color="#008000">// Property list</font> &lt;br&gt;         &lt;PropertyName1&gt;:{ Type:&lt;PropertyType&gt;&lt;,Values:{ <font color="#0000ff">object</font> }&gt;, Access:&lt;PropertyAccess&gt;,Description:&lt;String&gt;},&lt;br&gt;         &lt;PropertyName2&gt;:{ Type:&lt;PropertyType&gt;,Access:&lt;PropertyAccess&gt;},&lt;br&gt;         etc&lt;br&gt;         }&lt;br&gt;     Events:{&lt;br&gt;         &lt;EventName1&gt;:{Description:&lt;String&gt;},&lt;br&gt;         &lt;EventName2&gt;:{Description:&lt;String&gt;},&lt;br&gt;         &lt;EventName3&gt;:{Description:&lt;String&gt;},&lt;br&gt;         etc},&lt;br&gt;     Contents:&lt;br&gt;     {&lt;br&gt;         &lt;ContentName1&gt;:{Description:&lt;String&gt;},&lt;br&gt;         &lt;ContentName2&gt;:{Description:&lt;String&gt;},&lt;br&gt;         &lt;ContentName3&gt;:{Description:&lt;String&gt;},&lt;br&gt;         etc}&lt;br&gt; }&lt;br&gt;};</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><ul><li>  Description - description, optional. </li><li>  ContentName is the name of the container, in the template there should be a tag with the name attribute like that of the container. </li><li>  PropertyName - the name of the property, the register is important. </li><li>  PropertyType - the input data type of the property; if Object is selected, the input value will be executed via eval (...) and passed to the property </li><li>  PropertyAccess - access, if access is set to 'Direct', then the entry will be made via the _SetProperty method bypassing the property set-ra, otherwise the Set &lt;PropertyName&gt; method will be called and the value passed to it, the setter method must be defined. </li></ul><br>  PropertyType in ('Boolean', 'String', 'Object', 'Int', 'Float', 'Values', &lt;undefined&gt;) &lt;undefined&gt; - is default <br>  PropertyAccess in ('Direct', 'Set', 'Get', 'GetSet') 'GetSet' - is default <br>  Let's take a look at the key as an example of how to declare properties and events. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsForms.Components.Button = {&lt;br&gt;    Init: <font color="#0000ff">function</font> ()&lt;br&gt;    {&lt;br&gt; <font color="#008000">//     </font> &lt;br&gt; <font color="#008000">//   Init,       </font> &lt;br&gt; <font color="#008000">// </font> &lt;br&gt; <font color="#0000ff">return</font> <font color="#0000ff">this</font> .SetEnabled( <font color="#0000ff">true</font> );&lt;br&gt;    },&lt;br&gt;    eventClick : <font color="#0000ff">function</font> (e)&lt;br&gt;    {&lt;br&gt; <font color="#0000ff">if</font> (e.data) { <font color="#008000">//e.data    </font> &lt;br&gt; <font color="#0000ff">if</font> (e.data.P.Enabled) {&lt;br&gt;                e.data._ExecEvent( <font color="#A31515">'onClick'</font> );&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt;    },&lt;br&gt;    SetEnabled: <font color="#0000ff">function</font> (flag)&lt;br&gt;    {&lt;br&gt; <font color="#0000ff">if</font> ( <font color="#0000ff">this</font> .P.Enabled != flag) {&lt;br&gt; <font color="#0000ff">this</font> .P.Enabled = flag== <font color="#0000ff">true</font> ;&lt;br&gt; <font color="#0000ff">this</font> .attr( <font color="#A31515">'state'</font> , flag ? <font color="#A31515">'enabled'</font> : <font color="#A31515">'disabled'</font> );&lt;br&gt; <font color="#0000ff">if</font> (flag) {&lt;br&gt; <font color="#0000ff">this</font> .unbind( <font color="#A31515">'click'</font> ).bind( <font color="#A31515">'click'</font> , <font color="#0000ff">this</font> , <font color="#0000ff">this</font> .eventClick );&lt;br&gt;            }&lt;br&gt; <font color="#0000ff">else</font> {&lt;br&gt; <font color="#0000ff">this</font> .unbind( <font color="#A31515">'click'</font> );&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt; <font color="#0000ff">return</font> <font color="#0000ff">this</font> ;&lt;br&gt;    },&lt;br&gt;    GetEnabled: <font color="#0000ff">function</font> ()&lt;br&gt;    {&lt;br&gt; <font color="#0000ff">return</font> <font color="#0000ff">this</font> .P.Enabled;&lt;br&gt;    },&lt;br&gt;    GetText: <font color="#0000ff">function</font> ()&lt;br&gt;    {&lt;br&gt; <font color="#0000ff">return</font> <font color="#0000ff">this</font> .P.text;&lt;br&gt;    },&lt;br&gt;    SetText: <font color="#0000ff">function</font> (newText)&lt;br&gt;    {&lt;br&gt; <font color="#0000ff">if</font> ( <font color="#0000ff">this</font> .P.text != newText) {&lt;br&gt; <font color="#0000ff">this</font> .P.text = newText;&lt;br&gt; <font color="#0000ff">this</font> .C.text[0].innerHTML = newText;&lt;br&gt;        }&lt;br&gt; <font color="#0000ff">return</font> <font color="#0000ff">this</font> ;&lt;br&gt;    }&lt;br&gt;};&lt;br&gt; <font color="#008000">// -----------------------------------------------</font> &lt;br&gt; <font color="#008000">// Compilation INFO</font> &lt;br&gt; <font color="#008000">// -----------------------------------------------</font> &lt;br&gt;jsForms.CreateCompileInfoByObject(&lt;br&gt;{&lt;br&gt;    Name: <font color="#A31515">'Button'</font> ,&lt;br&gt;    Properties: {&lt;br&gt;        Enabled: {&lt;br&gt;            Type: <font color="#A31515">'Boolean'</font> ,&lt;br&gt;            Access: <font color="#A31515">'GETSET'</font> &lt;br&gt;        },&lt;br&gt;        Text: {}&lt;br&gt;    },&lt;br&gt;    Events: {&lt;br&gt;        onClick: {}&lt;br&gt;    }&lt;br&gt;});&lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><h3>  Insert components into the page </h3><br>  Let's now turn to the consideration of the process of using components on the page. <br>  To create a component, you must call the function jsForms.CreateComponent (compType) <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> button = jsForms.CreateComponent( <font color="#A31515">'Button'</font> );&lt;br&gt; <font color="#008000">// ""  ,           DOM&lt;br/&gt;</font> &lt;br&gt;button.hide().appendTo(...);&lt;br&gt; <font color="#008000">//   DOM   ,  Init()  &lt;br/&gt;</font> &lt;br&gt;button.Init().show();&lt;br&gt; <font color="#008000">//     ,      .&lt;br/&gt;</font> &lt;br&gt; <font color="#0000ff">var</font> button = jsForms.CreateComponent( <font color="#A31515">'Button'</font> ).hide().appendTo(...).Init().show();</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><h1>  Performance </h1><br>  To measure the performance, 2000 simple objects were created, each test was repeated 10 times. <br>  Test environment: <br>  WinXP Sp2, FireFox 3.0.4 + FireBug, CPU Intel Pentium Dual E2160@1.80GHz, 2Gb Mem <br> <a href="http://imageshost.ru/"><img src="http://img3.imageshost.ru/imgs/41fdb4d7ca43943e89d74ed8536ef86b/9de77369167749493b41b3ef958aa800.png"></a> <br>  As can be seen from the graphs, the results float, presumably this is due to the garbage collector, which occasionally slows down js. <br>  Detailed statistics: <br><ul><li>  jQuery (Template) <br>  Rt: 10 R: 2000, T: 1440 ms [min: 1315, max: 2333 ms] [min: 0.6575 avr: 0.7198, max: 1.1665 ms] delta = 1018 </li><li>  Manual DOM building <br>  Rt: 10 R: 2000, T: 340 ms [min: 330, max: 375 ms] [min: 0.1650 avr: 0.1701, max: 0.1875 ms] delta = 45 </li><li>  jsForms <br>  Rt: 10 R: 2000, T: 442 ms [min: 434, max: 457 ms] [min: 0.2170 avr: 0.2210, max: 0.2285 ms] delta = 23 </li></ul><br>  You can test <a href="http://www.jsforms.com/test.html">here</a> . <br><h1>  P.S. </h1><br>  The following components are currently implemented: <br><ul><li>  Button - "thick" key. </li><li>  ButtonDiv is a divi key, very light. </li><li>  Listbox </li><li>  Treeview </li><li>  TabControl </li><li>  Progressbar </li><li>  trifle </li></ul><br>  A living example of the work of this approach is the site, <a title="Editor" href="http://www.jsforms.com/jsForms_editor.html">component editor.</a> <br>  The whole site and the technology itself are available under GPL3, you can download it from the <a title="site" href="http://www.jsforms.com/">offsite</a> . <br>  The editor is in development, so I will welcome suggestions and criticism. <br>  Technology tested on: FF2 +, IE7, Safari, Chrome <br>  Who has IE6 at hand, sign off, thanks in advance. <br>  Also thanks to Habr, since many ideas were underlined from its pages. <br>  Thank. <br><br></div><p>Source: <a href="https://habr.com/ru/post/45361/">https://habr.com/ru/post/45361/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45345/index.html">Just add water: Zombobox.com</a></li>
<li><a href="../45346/index.html">Project bwpix - black and white pixelart</a></li>
<li><a href="../45347/index.html">Poppies Survival Guide. Part 1</a></li>
<li><a href="../45348/index.html">Start comparison on GetAFreelancer and oDesk</a></li>
<li><a href="../45358/index.html">Blog for crisis</a></li>
<li><a href="../45369/index.html">Americans in line for BlackBerry Storm</a></li>
<li><a href="../45370/index.html">HolyWar: ‚Äã‚ÄãTemplate engines. Do they need? Are they wealthy? Forum.</a></li>
<li><a href="../45372/index.html">Our VoIP startup Octopus</a></li>
<li><a href="../45373/index.html">HollyWar: ‚Äã‚ÄãTemplate engines. Do they need?</a></li>
<li><a href="../45374/index.html">WUD 2008: photo, video, presentation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>