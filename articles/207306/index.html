<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of data encryption in the clouds for Windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In connection with the recent unexpected joy of free TB on Mail.ru Cloud, which quickly gave way to disappointment after reading its license agreement...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of data encryption in the clouds for Windows</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/f96/76e/16a/f9676e16a1fa167cb033e440e6974555.png" alt="image" align="right">  In connection with the recent unexpected joy of free TB on Mail.ru Cloud, which quickly gave way to disappointment after reading its <a href="https://cloud.mail.ru/LA/">license agreement</a> , I decided to do a little research on how to encrypt data in the clouds for Windows and collect all the interesting options in one place. <br><br>  Input requirements are as follows: <br><ul><li>  Cloud client does not know how to synchronize files block by block. </li><li>  The encryption method should provide the ability to quickly access any file on the cloud to update or decrypt it without having to transfer large amounts of spurious data. </li></ul><br><a name="habracut"></a><br><br>  The selected requirements mark the possibility of using Truecrypt crypto containers and multi-file archives.  What options remain? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1)</b> The most obvious is proprietary programs, positioned as a means to encrypt data in the cloud.  For example, Boxcryptor, Cloudfogger and others like them.  All of them work on the same principle: file-encrypt data on your disk on a file, and then use their Dokan or Eldos CBFS libraries to create their virtual decrypted representation.  When working locally, files are transparently decrypted, and synchronized to the cloud encrypted. <br><br>  Disadvantages of this approach: <br><ul><li>  proprietary encryption software </li><li>  free versions of these services have some limitations </li><li>  subjectively: poor performance, especially when editing video.  Besides, I use TrueCrypt in the encryption mode of the entire disk, and such an overhead of "encryption in encryption" looks ridiculous. </li></ul><br><br>  <b>2)</b> The encfs port for Windows is <a href="http://members.ferrara.linux.it/freddy77/encfs.html">encfs4win</a> . <br>  In addition to open source, the advantage of this approach is that encf4win supports the <i>--reverse option</i> .  In reverse mode, as opposed to standard, local data remains intact, and only their display on the virtual disk is encrypted.  For encfs4win to work, the <a href="http://dokan-dev.net/en/download/">Dokan</a> version&gt; 0.6 library is <a href="http://dokan-dev.net/en/download/">required</a> . <br><br>  The mount point of the folder with your files on a virtual encrypted disk "X:" is created with the command: <br><pre><code class="hljs tex">encfs.exe --reverse D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Archive</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>X:</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/5f2/838/64f/5f283864fb4f5dd1f5b089c1b479f8c5.png"><br>  In expert mode settings you need to choose whether to encrypt file names, and also change the size of the encryption key from 192 to 256 bits.  After successful mounting, the configuration file ".encfs6.xml" will appear in the source folder, save it. <br>  Now you can start synchronization of the encrypted view of files on the "X:" drive with the cloud.  Symbolic links in the source folder seem to be handled correctly. <br><br>  To decrypt from the cloud on another computer, simply put in any folder the saved ".encfs6.xml" and mount it with the command: <br><pre> <code class="hljs tex">encfs.exe --reverse E:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">some</span></span></span></span>_folder<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>X:</code> </pre> <br>  Then any files copied from the cloud to the ‚ÄúX:‚Äù drive will be automatically decrypted in E: \ some_folder \ <br><br>  Disadvantages of the approach: <br><ul><li>  The incompleteness of the encfs4win port and the lack of a sane GUI. </li><li>  it is impossible to unmount the encrypted volume from the console correctly, only by 'Ctrl-Break'. </li><li>  in --reverse mode, encfs does not support "per file IV chaining", which weakens encryption.  I think it‚Äôs not scary for home reservations. </li></ul><br><br>  <b>3)</b> Local encryption in password-protected archives by file and their subsequent synchronization with the cloud.  For example, the <a href="http://stefanstools.sourceforge.net/CryptSync.html">CryptSync</a> utility can help automate this approach. <br><img src="https://habrastorage.org/getpro/habr/post_images/597/006/4d9/5970064d982ce73dc042fd8a53323439.png"><br><br>  The main disadvantage of this approach is the need to keep two copies of files on a local disk. <br><hr><br>  The above solutions give us only an encrypted representation of the data.  Further synchronization can be performed by your favorite webdav client, or by the official cloud client (with no webdav support).  Below are the all-in-one options. <br><hr><br>  <b>4)</b> <a href="http://www.duplicati.com/">Duplicati</a> is an open-source, cross-platform backup software.  Her killer feature is the possibility of full-value incremental backups directly to the cloud.  Google Drive, Skydrive, Amazon S3, Rackspace, Webdav, SFTP, FTP are supported.  You can choose to encrypt the built-in library SharpAESCrypt or GnuPG.  <a href="http://code.google.com/p/duplicati/wiki/DuplicatiBackground">More information about the internal structure of the program.</a> <br>  Among the many Duplicati buns, the ability to quickly restore a single file from the cloud is also important for us.  Backups when created are automatically split into blocks of 10 MB.  Therefore, when recovering a single file, you will need to transfer a limited number of blocks. <br><img src="https://habrastorage.org/getpro/habr/post_images/66b/e24/1c8/66be241c86ffc89e8622a4bd652fae9d.png"><br>  Among other things, Duplicati is fully configurable via the command line and supports portable mode. <br><br>  Disadvantages of using Duplicati: <br><ul><li>  Specific wizard-style GUI. </li><li>  The inability to update a separate file on the cloud, except by creating a new incremental iteration of the entire archive. </li><li>  It is inconvenient and long to restore single files from the GUI, especially after several incremental iterations and with a large block size. </li><li>  While the master password is not supported, all data on connections to cloud services is stored in the Sqllite database encrypted with the standard password ‚ÄúDuplicati_Key_42‚Äù. </li></ul><br><br>  <b>5)</b> Great webdav (and not only!) <a href="http://rei.to/carotdav_en.html">CarotDav</a> client.  Written on VB.NET and completely free to use and modify.  According to the developer‚Äôs website, source code can be provided upon request.  The list of implemented standards is impressive.  In addition to webdav-clouds, SkyDrive, Dropbox, GoogleDrive, Box, SugarSync and FTP (S) are supported.  There is a portable mode, the configuration can be protected by a master password. <br><br>  To start encryption in the settings of the new connection, enter the password and select the ‚ÄúEscape string‚Äù, the signature, on the basis of which CarotDav determines that the file in the cloud is encrypted and needs to be decrypted. <br><img src="https://habrastorage.org/getpro/habr/post_images/16a/703/bf8/16a703bf8073a25103cfe3f5cc185997.png" alt="image"><br>  Now all files uploaded through this connection will be automatically encrypted, and decrypted during downloading. <br><img src="https://habrastorage.org/getpro/habr/post_images/81c/541/b89/81c541b89b46e5f5479b65784fc1d91c.png" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/244/a9d/ade/244a9dadeeda17f6c2da9d1370aab09d.png" alt="image"><br><br><div class="spoiler">  <b class="spoiler_title">Tip!</b> <div class="spoiler_text">  To save the original modification date, CarotDav creates a CreationDate label for each PROPPATCH file stored on the webdav server.  Some clouds have an incomplete implementation of the webdav protocol, for them you need to check the ‚ÄúDon't update property‚Äù checkbox on the Advanced tab of the connection settings. </div></div><br><br>  Disadvantages: <br><ul><li>  errors are possible when working with some webdav clouds, the solution may be to increase the timeout of the connection. </li><li>  Cyrillic problems and very slow work with skydrive were noticed. </li><li>  single-panel interface and lack of command line support. </li></ul><br><hr><br><br>  Summary: <br>  Unfortunately, I did not find the ideal option.  For archiving projects with a large number of small files, I stopped at Duplicati.  To back up media files now I use CarotDav in the hope that Encfs4win will be brought to mind sooner or later. </div><p>Source: <a href="https://habr.com/ru/post/207306/">https://habr.com/ru/post/207306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../207290/index.html">Kingston HyperX 3K SH103S3B / 240 SSD Overview</a></li>
<li><a href="../207294/index.html">C ++ idioms. Type erasure</a></li>
<li><a href="../207296/index.html">Our sales leader 2013 - controller KUB-Micro / 60</a></li>
<li><a href="../207298/index.html">STARTTOSPEAK.COM - we start talking about the project!</a></li>
<li><a href="../207304/index.html">Registration on the site: from the beginning to the afternoon</a></li>
<li><a href="../207308/index.html">Instruction as a sequence of methods</a></li>
<li><a href="../207310/index.html">A passion for programming. Chapter 19. Right Now</a></li>
<li><a href="../207312/index.html">How we made new year cards with lifehacks</a></li>
<li><a href="../207314/index.html">Raspberry Pi: Encode H.264 live video</a></li>
<li><a href="../207316/index.html">Agile Board. How do we plan in Yandex. Pictures and how did we come to this?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>