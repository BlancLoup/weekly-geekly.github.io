<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>File line or activity on the file</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most developers are familiar with such a product as the code_swarm visualizer ( on google code ). At least one in three must have unloaded the log for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>File line or activity on the file</h1><div class="post__text post__text-html js-mediator-article">  Most developers are familiar with such a product as the <a href="https://github.com/rictic/code_swarm">code_swarm</a> visualizer ( <a href="http://code.google.com/p/codeswarm/">on google code</a> ).  At least one in three must have unloaded the log for him and created a video that visualizes the application development process, which shows the activity of programmers.  And of course, every second person has seen videos of this kind.  Virtually all of these videos were made in the context of the programmer-file relationship. <br>  This article will describe the process of forming a log in the slice of the file-string relationship, that is, the generated video will demonstrate the activity of working on the file. <br clear="left"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/006/047/c2c/006047c2c1de0b82ea979bf9a71b6678.jpg"></a> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/4d0/7f9/cb8/4d07f9cb8c8d2b13aa7808f24edc0bcf.jpg"></a> <br clear="left">  To whom it is interesting to ask under the cat. <br>  The article will be used: <ul><li>  <a href="http://git-scm.com/download">Git</a> - VCS </li><li>  <a href="https://github.com/rictic/code_swarm">code_swarm</a> is a repository history visualizer. </li><li>  <a href="http://code.google.com/p/gource/">gource</a> is a repository history visualizer. </li><li>  The linux environment emulator on Windows or UNIX OS (with git, the <a href="http://code.google.com/p/msysgit/">msysgit</a> emulator is already running for win) </li><li>  <a href="http://ru.wikipedia.org/wiki/MEncoder">MEncoder</a> - Free Video Encoder </li><li>  <a href="http://ru.wikipedia.org/wiki/FFmpeg">ffmpeg</a> - a program for converting video using various codecs. </li></ul><a name="habracut"></a>  At once I will clarify, the description of the process of generating the diff file will be for git, but the script can be altered if desired, but I will share my experience here. <br>  <a href="https://github.com/artzub/code_swarm-gource-my-conf">The finished working result is here</a> . <br><br><br><h1>  Log generation script for code_swarm </h1>  In order for code_swarm to analyze the history, it needs to be submitted in a certain format.  The file format is xml and it looks like this: <blockquote><ol><li> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">file_events</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">event</font> <font color="#ff0000">date</font> <font color="#0000ff">=""</font> <font color="#ff0000">author</font> <font color="#0000ff">=""</font> <font color="#ff0000">filename</font> <font color="#0000ff">=""</font> <font color="#ff0000">action</font> <font color="#0000ff">=""</font> <font color="#ff0000">comment</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">file_events</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">file_events</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">event</font> <font color="#ff0000">date</font> <font color="#0000ff">=""</font> <font color="#ff0000">author</font> <font color="#0000ff">=""</font> <font color="#ff0000">filename</font> <font color="#0000ff">=""</font> <font color="#ff0000">action</font> <font color="#0000ff">=""</font> <font color="#ff0000">comment</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">file_events</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">file_events</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">event</font> <font color="#ff0000">date</font> <font color="#0000ff">=""</font> <font color="#ff0000">author</font> <font color="#0000ff">=""</font> <font color="#ff0000">filename</font> <font color="#0000ff">=""</font> <font color="#ff0000">action</font> <font color="#0000ff">=""</font> <font color="#ff0000">comment</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">file_events</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">file_events</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">event</font> <font color="#ff0000">date</font> <font color="#0000ff">=""</font> <font color="#ff0000">author</font> <font color="#0000ff">=""</font> <font color="#ff0000">filename</font> <font color="#0000ff">=""</font> <font color="#ff0000">action</font> <font color="#0000ff">=""</font> <font color="#ff0000">comment</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">file_events</font> <font color="#0000ff">&gt;</font></font></code> </li> </ol></blockquote>  In fact, in code_swarm, you can display any statistics that changes over time and which has <b>an object</b> , which is something and the <b>subject</b> over which the action is performed.  In the classic case, when the log for code_swarm is unloaded, let's say a platform such as <a href="http://lib.custis.ru/ShowTeamWork">showteamwork</a> , the object is the programmer, the subject file.  In our case, the object will be the file and the subject line, which is added or deleted. <br>  We will take the data from the diff file, which for the most part looks like a classic file, but attached to it is also commits from the repository.  The file has the following form: <blockquote> <code><font color="black">1142998387000:John Resig&lt;br&gt;&amp;ajax/ajax.js&lt;br&gt;new file mode 100644&lt;br&gt; <font color="#00cc00">+// AJAX Plugin&lt;br&gt;+// Docs Here:&lt;br&gt;+// http://jquery.com/docs/ajax/&lt;br&gt;+if ( typeof XMLHttpRequest == 'undefined' &amp;&amp; typeof window.ActiveXObject == 'function') {&lt;br&gt;+var XMLHttpRequest = function() {&lt;br&gt;+return new ActiveXObject((navigator.userAgent.toLowerCase().indexOf('msie 5') = 0) ?&lt;br&gt;</font> <font color="#cc0000">-Microsoft.XMLHTTP : Msxml2.XMLHTTP);&lt;br&gt;-};&lt;br&gt;-}</font> &lt;br&gt; <font color="#00cc00">+.xml = function( type, url, data, ret ) {&lt;br&gt;+var xml = new XMLHttpRequest();&lt;br&gt;+if ( xml ) {&lt;br&gt;+xml.open(type || GET, url, true);&lt;br&gt;+if ( data )&lt;br&gt;+xml.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');&lt;br&gt;+if ( ret )&lt;br&gt;+xml.onreadystatechange = function() {&lt;br&gt;</font></font></code> </blockquote>  This file is unloaded by the command: <blockquote> <code><font color="black"><font color="#0000ff"><b>git</b></font> log -U0 --diff-filter=AMD --reverse --pretty= <font color="#A31515"><b>"%at000:%cn"</b></font> -10 | \&lt;br&gt; <font color="#0000ff"><b>grep</b></font> -v <font color="#A31515"><b>"^\(-\{3\}\|+\{3\}\) "</b></font> | \&lt;br&gt; <font color="#0000ff"><b>grep</b></font> -v <font color="#A31515"><b>"^[+-][   ]*$"</b></font> | \&lt;br&gt; <font color="#0000ff"><b>grep</b></font> -v <font color="#A31515"><b>"^[+-]$"</b></font> | \&lt;br&gt; <font color="#0000ff"><b>grep</b></font> -v <font color="#A31515"><b>"^[   ]*$"</b></font> | \&lt;br&gt; <font color="#0000ff"><b>sed</b></font> -e <font color="#A31515"><b>"s/diff .* b\//\&amp;/g"</b></font> \&lt;br&gt;    -e <font color="#A31515"><b>"s/^+[   ]\+/+/g"</b></font> \&lt;br&gt;    -e <font color="#A31515"><b>"s/^-[   ]\ <b>+</b> /-/g"</b></font> \&lt;br&gt;    -e <font color="#A31515"><b>"s/[   ]\+$//g"</b></font> \&lt;br&gt;    -e <font color="#A31515"><b>"s/^$//g"</b></font> \&lt;br&gt;    -e <font color="#A31515"><b>'s/\\/\\\\/g'</b></font> \&lt;br&gt;    -e <font color="#A31515"><b>"s/[\"\`&lt;&gt;$]//g"</b></font></font></code> </blockquote>  I think it is worth describing what and for what here: <ol><li>  <b>log</b> - show log </li><li>  <b>-U0</b> - add to the log also a diff change with the 0th number of context lines, only changed lines </li><li>  <b>--diff-filter = AMD</b> ‚Äî <b>show</b> only files with statuses A: added, M: changed, D: deleted. </li><li>  <b>--reverse</b> - reverse sorting by date. </li><li>  <b>--pretty = "% at000:% cn"</b> - <b>% at</b> log format ‚Äî date, <b>% cn ‚Äî</b> committer name. </li><li>  <b>-10</b> - only the last 10 commits. </li><li>  <b>grep</b> prohibits the display of lines that begin with 3 + or - with a space, all empty lines, all lines beginning with + or - but they are empty. </li><li>  <b>sed</b> convert strings: remove all unnecessary spaces after +/-, make strings safe for the shell. </li></ol>  And now the most interesting, there is a very useful utility for bash called <a href="http://ru.wikipedia.org/wiki/Awk">awk</a> - it is a language for parsing and processing the input stream.  In it all gusto.  I first implemented the idea on standard sed, cut and while, but the performance was terrible, but when I redid everything for Awk, the generation rate doubled if not tripled.  Actually, enough of the extra words, here is the script code completely (the <a href="https://github.com/artzub/code_swarm-gource-my-conf/blob/master/data/my/generator_logs/generatorlog">most current version of the file</a> ): <blockquote> <code><font color="black"><font color="#008000">#!/bin/sh</font> <font><br> <br></font> <font>generate</font> <font color="#804000"><b>()</b></font> <font>&nbsp;</font> <font color="#804000"><b>{</b></font> <font><br></font> <font color="#0000FF"><b>if</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>test</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>-t</b></font> <font>&nbsp;</font> <font color="#FF0000">1</font> <font color="#804000"><b>;</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>then</b></font> <font><br></font> <font color="#0000FF"><b>exec</b></font> <font>&nbsp;</font> <font color="#804000"><b>&gt;</b></font> <font color="#FF8040"><b>$logfile</b></font> <font><br></font> <font color="#0000FF"><b>fi</b></font> <font><br> <br></font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"&lt;?xml version=\"1.0\"?&gt;\n&lt;file_events&gt;"</font> <font><br></font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font color="#808080">"generating ..."</font> <font>&nbsp;</font> <font color="#804000"><b>&gt;&amp;</b></font> <font color="#FF0000">2</font> <font><br> <br></font> <font color="#0000FF"><b>awk</b></font> <font>&nbsp;</font> <font color="#804000"><b>-</b></font> <font>v</font> <font>&nbsp;</font> <font>typegen</font> <font color="#804000"><b>=</b></font> <font color="#FF8040"><b>$1</b></font> <font>&nbsp;</font> <font color="#808080">' <br> BEGIN { <br> split("\b\b\b\b\b. . . . . \b- \b\b- \b\b- \b\b- \b\b- \b= = = = =", st, " ") <br> ist=0 <br> _ord_init() <br> <br> typehash=0 <br> if( typegen == "ch_code") { <br> typehash=1 <br> } <br> else if( typegen == "crypt" ) { <br> typehash=2 <br> } <br> } <br> <br> function _ord_init(low, high, i, t) <br> { <br> low = sprintf("%c", 7) <br> if (low == "\a") { <br> low = 0 <br> high = 127 <br> } else if (sprintf("%c", 128 + 7) == "\a") { <br> low = 128 <br> high = 255 <br> } else { <br> low = 0 <br> high = 255 <br> } <br> <br> for (i = low; i &lt;= high; i++) { <br> t = sprintf("%c", i) <br> _ord_[t] = i <br> } <br> } <br> <br> function ord(str, c) { <br> c = substr(str, 1, 1); <br> return _ord_[c]; <br> } <br> <br> /^[0-9]/ { <br> sub(/:.*/, ""); <br> d=$0; <br> next; <br> } <br> /^&amp;/ { <br> sub(/&amp;/, ""); <br> f=$0 <br> substr($0, 2, length($0) - 1); <br> next; <br> } <br> /^\+/ { a="A"; } <br> /^-/ { a="D"; } <br> /^[\+-]/ { <br> sub(/[\+-]/, "") <br> str="" <br> if( typehash == 1) { <br> for(i=1; i&lt;length($0); i++){ <br> str = str "" ord(substr($0, i, 1)) <br> } <br> gsub(/32|16/, "/sd", str) <br> str = substr(str, 0, length(str)-2) "." substr(str, length(str)-1, 2); <br> } <br> else { <br> cmd="echo \"" $0 "\" | md5sum | cut -f1 -d \" \" | sed -e \"s@[32|16]@/sd@g;\" -e \"s/\\(..\\)\$/.\\1/\"" <br> if ( typehash == 2 ) <br> cmd="C:/Perl/bin/perl -e \"print crypt($ARGV[0], $ARGV[1])\" \"" $0 "\" \"1/5l58j/jk\"" <br> cmd | getline str; <br> close(cmd); <br> } <br> <br> if (str != "") <br> print "&lt;event date=\""d"\" author=\""f"\" filename=\""str"\" action=\""a"\"  comment=\"\"/&gt;" <br> <br> system("echo -ne \"" st[ist++] "\" &gt;&amp;2") <br> if (ist &gt; 16) ist=0 <br> } <br> '</font> <font>&nbsp;</font> <font color="#FF8040"><b>$gitdiff</b></font> <font><br> <br></font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font color="#804000"><b>-</b></font> <font>ne</font> <font>&nbsp;</font> <font color="#808080">"\b\b\b\b\b\b\b\b\b\b\b\bcompleted!"</font> <font>&nbsp;</font> <font color="#804000"><b>&gt;&amp;</b></font> <font color="#FF0000">2</font> <font><br></font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font color="#808080">"&lt;/file_events&gt;"</font> <font><br></font> <font color="#0000FF"><b>rm</b></font> <font>&nbsp;</font> <font color="#FF8040"><b>$gitdiff</b></font> <font><br></font> <font color="#804000"><b>}</b></font> <font><br> <br></font> <font>prepare_git</font> <font color="#804000"><b>()</b></font> <font>&nbsp;</font> <font color="#804000"><b>{</b></font> <font><br></font> <font>git</font> <font>&nbsp;</font> <font>log</font> <font>&nbsp;</font> <font color="#804000"><b>-</b></font> <font>U0</font> <font>&nbsp;</font> <font color="#804000"><b>--</b></font> <font>diff-filter</font> <font color="#804000"><b>=</b></font> <font>AMD</font> <font>&nbsp;</font> <font color="#804000"><b>--</b></font> <font>reverse</font> <font>&nbsp;</font> <font color="#804000"><b>--</b></font> <font>pretty</font> <font color="#804000"><b>=</b></font> <font color="#808080">"%at000:%cn"</font> <font>&nbsp;</font> <font color="#FF8040"><b>$1</b></font> <font>&nbsp;</font> <font color="#804000"><b>|</b></font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font color="#0000FF"><b>grep</b></font> <font>&nbsp;</font> <font color="#804000"><b>-</b></font> <font>v</font> <font>&nbsp;</font> <font color="#808080">"^\(-\{3\}\|+\{3\}\) "</font> <font>&nbsp;</font> <font color="#804000"><b>|</b></font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font color="#0000FF"><b>grep</b></font> <font>&nbsp;</font> <font color="#804000"><b>-</b></font> <font>v</font> <font>&nbsp;</font> <font color="#808080">"^[+-][     ]*$"</font> <font>&nbsp;</font> <font color="#804000"><b>|</b></font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font color="#0000FF"><b>grep</b></font> <font>&nbsp;</font> <font color="#804000"><b>-</b></font> <font>v</font> <font>&nbsp;</font> <font color="#808080">"^[+-]$"</font> <font>&nbsp;</font> <font color="#804000"><b>|</b></font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font color="#0000FF"><b>grep</b></font> <font>&nbsp;</font> <font color="#804000"><b>-</b></font> <font>v</font> <font>&nbsp;</font> <font color="#808080">"^[     ]*$"</font> <font>&nbsp;</font> <font color="#804000"><b>|</b></font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font color="#0000FF"><b>sed</b></font> <font>&nbsp;</font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"s/diff .* b\//\&amp;/g"</font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"s/^+[     ]\+/+/g"</font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"s/^-[   ]\+/-/g"</font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"s/[     ]\+$//g"</font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"s/^$//g"</font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">'s/\\/\\\\/g'</font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"s/[\"\`&lt;&gt;$]//g"</font> <font>&nbsp;</font> <font color="#804000"><b>&gt;</b></font> <font>&nbsp;</font> <font color="#FF8040"><b>$gitdiff</b></font> <font><br></font> <font color="#804000"><b>}</b></font> <font><br> <br></font> <font>fileaction</font> <font color="#804000"><b>=</b></font> <font color="#808080">"$(date +%j%H%M%s)"</font> <font><br> <br></font> <font>typehash</font> <font color="#804000"><b>=</b></font> <font>md5</font> <font><br></font> <font color="#804000"><b>[</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>-n</b></font> <font>&nbsp;</font> <font color="#808080">"$1"</font> <font>&nbsp;</font> <font color="#804000"><b>]</b></font> <font>&nbsp;</font> <font color="#804000"><b>&amp;&amp;</b></font> <font>&nbsp;</font> <font>typehash</font> <font color="#804000"><b>=</b></font> <font color="#FF8040"><b>$1</b></font> <font>&nbsp;</font> <font color="#804000"><b>||</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"     "</font> <font>&nbsp;</font> <font color="#804000"><b>+</b></font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font color="#808080">"  \n  :\n"</font> <font>&nbsp;</font> <font color="#804000"><b>+</b></font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font color="#808080">"\t\tmd5 ‚Äî -\n\t\tcrypt\n\t\tch_code\nusing: $0 crypt"</font> <font>&nbsp;</font> <font color="#804000"><b>&gt;&amp;</b></font> <font color="#FF0000">2</font> <font><br></font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font color="#808080">"  : "</font> <font color="#FF8040"><b>$typehash</b></font> <font>&nbsp;</font> <font color="#804000"><b>&gt;&amp;</b></font> <font color="#FF0000">2</font> <font><br> <br></font> <font color="#804000"><b>[</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>-n</b></font> <font>&nbsp;</font> <font color="#808080">"$2"</font> <font>&nbsp;</font> <font color="#804000"><b>]</b></font> <font>&nbsp;</font> <font color="#804000"><b>&amp;&amp;</b></font> <font>&nbsp;</font> <font>countcommit</font> <font color="#804000"><b>=</b></font> <font color="#FF8040"><b>$2</b></font> <font>&nbsp;</font> <font color="#804000"><b>||</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font>-e</font> <font>&nbsp;</font> <font color="#808080">"    \n"</font> <font>&nbsp;</font> <font color="#804000"><b>+</b></font> <font>&nbsp;</font> <font color="#804000"><b>\</b></font> <font><br></font> <font color="#808080">"git log --help\n:\t-&lt;n&gt;\n\t\tLimits the number of commits to show.\nusing: $0 crypt -10"</font> <font>&nbsp;</font> <font color="#804000"><b>&gt;&amp;</b></font> <font color="#FF0000">2</font> <font><br></font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font>-n</font> <font>&nbsp;</font> <font color="#808080">"  : "</font> <font>&nbsp;</font> <font color="#804000"><b>&gt;&amp;</b></font> <font color="#FF0000">2</font> <font><br></font> <font color="#804000"><b>[</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>-n</b></font> <font>&nbsp;</font> <font color="#808080">"$2"</font> <font>&nbsp;</font> <font color="#804000"><b>]</b></font> <font>&nbsp;</font> <font color="#804000"><b>&amp;&amp;</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font color="#FF8040"><b>$2</b></font> <font color="#808080">' '</font> <font>&nbsp;</font> <font color="#804000"><b>&gt;&amp;</b></font> <font color="#FF0000">2</font> <font>&nbsp;</font> <font color="#804000"><b>||</b></font> <font>&nbsp;</font> <font color="#0000FF"><b>echo</b></font> <font>&nbsp;</font> <font color="#808080">" "</font> <font>&nbsp;</font> <font color="#804000"><b>&gt;&amp;</b></font> <font color="#FF0000">2</font> <font><br> <br></font> <font>gitdiff</font> <font color="#804000"><b>=</b></font> <font color="#FF8040"><b>$fileaction</b></font> <font color="#808080">".temp"</font> <font><br></font> <font>logfile</font> <font color="#804000"><b>=</b></font> <font color="#FF8040"><b>$fileaction</b></font> <font color="#808080">"actions.xml"</font> <font><br> <br></font> <font>prepare_git</font> <font>&nbsp;</font> <font color="#FF8040"><b>$countcommit</b></font> <font><br></font> <font>generate</font> <font>&nbsp;</font> <font color="#FF8040"><b>$typehash</b></font></font> <br></code> </blockquote><br>  I will not explain in detail how the awk program works.  I can only say in general: <ul><li>  If the line starts with a number, it means that this is the time of the commit, we extract and remember this value and immediately go to the next line. </li><li>  If the line starts with the &amp; sign, the following characters are the file name, extract and go to the next line. </li><li>  If the line starts with the + sign, then the action is of type A, we continue the analysis of the line </li><li>  If the line starts with the sign -, then the action type D, continue the analysis of the line </li><li>  If the line starts with the sign - / +, then process the line and display it in STDOUT, go to the next line </li></ul>  In order for strings (subjects) to be digested by visualizers, they are converted in several ways: <ol><li>  <b>md5</b> - using the md5sum utility, then in the sum all the numbers 32 or 16 are replaced by / sd, and the dot character is added before the last two.  This is done so that a tree is built in the gource visualizer </li><li>  <b>crypt</b> - using the perl crypt function that encrypts the incoming by key and returns the result. </li><li>  <b>ch_code</b> - simply converts all characters to a digital value and replaces all numbers with 32 or 16 characters / sd. </li></ol>  The script can take 2 parameters: <ol><li>  type of string conversion - this parameter is responsible for string conversion, accepts the values ‚Äã‚Äãgiven above, without its indication, the <b>md5</b> type will be used by default. </li><li>  number of commits - this parameter is passed to the function of generation of diff, in order to limit the number of commits output, you need to transfer the following construct <b>-num</b> , where num is the number of commits.  If it is not, then all commits are taken. </li></ol>  Data output occurs in a file created automatically.  But if desired, the output can be done in any other file.  To start the activity log generation function from sh at any of your repositories, run the following command: <blockquote> <code>$ echo "{     } \$@" &gt; /bin/genlogcs</code> </blockquote>  Actually, by generating activity, everything. <br><br><br><h1>  Config for code_swarm </h1>  Now let's talk about the config for code_swarm. For starters, I have compiled code_swarm from sources, the resulting file can be <a href="https://github.com/artzub/code_swarm-gource-my-conf/tree/master/dist">downloaded from here</a> .  Put it in your own directory where code_swarm is located in the dist directory. <br>  Create a file called my.conf with the following contents: <blockquote> <code><font color="0000ff"><strong>#       </strong></font> <br> <font color="#2040a0">ColorAssign1</font> <font color="4444FF">=</font> <font color="#008000">"DigitLetter"</font> , <font color="#008000">".*[0-9][az]"</font> , <font color="#FF0000">43</font> , <font color="#FF0000">170</font> , <font color="#FF0000">215</font> , <font color="#FF0000">43</font> , <font color="#FF0000">170</font> , <font color="#FF0000">215</font> <br> <font color="0000ff"><strong>#      </strong></font> <br> <font color="#2040a0">ColorAssign2</font> <font color="4444FF">=</font> <font color="#008000">"LetterDigit"</font> , <font color="#008000">".*[az][0-9]"</font> , <font color="#FF0000">255</font> , <font color="#FF0000">134</font> , <font color="#FF0000">51</font> , <font color="#FF0000">255</font> , <font color="#FF0000">134</font> , <font color="#FF0000">51</font> <br> <font color="0000ff"><strong>#  </strong></font> <br> <font color="#2040a0">ColorAssign3</font> <font color="4444FF">=</font> <font color="#008000">"LetterLetter"</font> , <font color="#008000">".*[az][az]"</font> , <font color="#FF0000">43</font> , <font color="#FF0000">110</font> , <font color="#FF0000">214</font> , <font color="#FF0000">43</font> , <font color="#FF0000">110</font> , <font color="#FF0000">214</font> <br> <font color="0000ff"><strong>#  </strong></font> <br> <font color="#2040a0">ColorAssign4</font> <font color="4444FF">=</font> <font color="#008000">"DigitDigit"</font> , <font color="#008000">".*[0-9][0-9]"</font> , <font color="#FF0000">41</font> , <font color="#FF0000">242</font> , <font color="#FF0000">185</font> , <font color="#FF0000">41</font> , <font color="#FF0000">242</font> , <font color="#FF0000">185</font> <br> <br> <font color="#2040a0">Width</font> <font color="4444FF">=</font> <font color="#FF0000">1280</font> <br> <font color="#2040a0">Height</font> <font color="4444FF">=</font> <font color="#FF0000">720</font> <br> <font color="#2040a0">InputFile</font> <font color="4444FF">=</font> <font color="#2040a0">data</font> / <font color="#2040a0">my</font> / <font color="#2040a0">data</font> / <font color="#2040a0">actions</font> . <font color="#2040a0">xml</font> <br> <font color="#2040a0">PhysicsEngineConfigDir</font> <font color="4444FF">=</font> <font color="#2040a0">physics_engine</font> <br> <font color="#2040a0">PhysicsEngineSelection</font> <font color="4444FF">=</font> <font color="#2040a0">PhysicsEngineOrderly</font> <br> <font color="#2040a0">ParticleSpriteFile</font> <font color="4444FF">=</font> <font color="#2040a0">src</font> / <font color="#2040a0">particle</font> . <font color="#2040a0">png</font> <br> <font color="#2040a0">Font</font> <font color="4444FF">=</font> <font color="#2040a0">Helvetica</font> <br> <font color="#2040a0">FontSize</font> <font color="4444FF">=</font> <font color="#FF0000">16</font> <br> <font color="#2040a0">BoldFontSize</font> <font color="4444FF">=</font> <font color="#FF0000">16</font> <br> <font color="0000ff"><strong>#MillisecondsPerFrame=2254085</strong></font> <br> <font color="#2040a0">MaxThreads</font> <font color="4444FF">=</font> <font color="#FF0000">4</font> <br> <font color="#2040a0">Background</font> <font color="4444FF">=</font> <font color="#FF0000">0</font> , <font color="#FF0000">0</font> , <font color="#FF0000">0</font> <br> <font color="#2040a0">TakeSnapshots</font> <font color="4444FF">=</font> <strong>true</strong> <br> <font color="#2040a0">SnapshotLocation</font> <font color="4444FF">=</font> <font color="#2040a0">data</font> / <font color="#2040a0">my</font> / <font color="#2040a0">png</font> / <font color="#2040a0">cs</font> <font color="4444FF">-</font> #####. <font color="#2040a0">png</font> <br> <font color="#2040a0">DrawNamesSharp</font> <font color="4444FF">=</font> <strong>true</strong> <br> <font color="#2040a0">DrawNamesHalos</font> <font color="4444FF">=</font> <strong>true</strong> <br> <font color="#2040a0">DrawFilesSharp</font> <font color="4444FF">=</font> <strong>false</strong> <br> <font color="#2040a0">DrawFilesFuzzy</font> <font color="4444FF">=</font> <strong>true</strong> <br> <font color="#2040a0">DrawFilesJelly</font> <font color="4444FF">=</font> <strong>false</strong> <br> <font color="#2040a0">ShowLegend</font> <font color="4444FF">=</font> <strong>true</strong> <br> <font color="#2040a0">ShowHistory</font> <font color="4444FF">=</font> <strong>true</strong> <br> <font color="#2040a0">ShowDate</font> <font color="4444FF">=</font> <strong>true</strong> <br> <font color="#2040a0">ShowEdges</font> <font color="4444FF">=</font> <strong>false</strong> <br> <font color="#2040a0">ShowDebug</font> <font color="4444FF">=</font> <strong>false</strong> <br> <font color="#2040a0">EdgeLength</font> <font color="4444FF">=</font> <font color="#FF0000">36</font> <br> <font color="#2040a0">EdgeDecrement</font> <font color="4444FF">=</font> <font color="4444FF">-</font> <font color="#FF0000">2</font> <br> <font color="#2040a0">FileDecrement</font> <font color="4444FF">=</font> <font color="4444FF">-</font> <font color="#FF0000">1</font> <br> <font color="#2040a0">PersonDecrement</font> <font color="4444FF">=</font> <font color="4444FF">-</font> <font color="#FF0000">1</font> <br> <font color="#2040a0">FileSpeed</font> <font color="4444FF">=</font> <font color="#FF0000">7.0</font> <br> <font color="#2040a0">PersonSpeed</font> <font color="4444FF">=</font> <font color="#FF0000">2.0</font> <br> <font color="#2040a0">FileMass</font> <font color="4444FF">=</font> <font color="#FF0000">2.0</font> <br> <font color="#2040a0">PersonMass</font> <font color="4444FF">=</font> <font color="#FF0000">10.0</font> <br> <font color="#2040a0">EdgeLife</font> <font color="4444FF">=</font> <font color="#FF0000">250</font> <br> <font color="#2040a0">FileLife</font> <font color="4444FF">=</font> <font color="#FF0000">200</font> <br> <font color="#2040a0">PersonLife</font> <font color="4444FF">=</font> <font color="#FF0000">255</font> <br> <font color="#2040a0">HighlightPct</font> <font color="4444FF">=</font> <font color="#FF0000">5</font> <br> <font color="#2040a0">UseOpenGL</font> <font color="4444FF">=</font> <strong>false</strong> <br> <font color="#2040a0">ShowUserName</font> <font color="4444FF">=</font> <strong>true</strong> <br> <font color="#2040a0">IsInputSorted</font> <font color="4444FF">=</font> <strong>false</strong> <br></code> </blockquote>  This file is useful to us in the future. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br><h1>  Script for generating video activity visualization </h1>  So as not to explain for a long time what to create and where and what directory structure should be, I‚Äôll just say in the directory with code_swarm, in the data directory, create the my directory with the structure shown <a href="https://github.com/artzub/code_swarm-gource-my-conf/tree/master/data/my">here</a> .  You need to take the following: <ul><li>  <b>Data</b> directory with all content </li><li>  The <b>tools</b> directory with all the content </li><li>  The directory <b>generator_logs</b> , in which we put a script to generate an activity file for code_swarm.  Actually, he is there. </li><li>  The file <b>gen_log</b> , it will be discussed later, this file generates a log for gource from a log for code_swarm </li><li>  <b>my.config</b> , which is described above </li><li>  <b>sort_log</b> is a script to sort the log for gource </li><li>  <b>run.bat</b> , it will be discussed further </li></ul>  And we also need to <b>create</b> 2 <b>png</b> and <b>results</b> catalogs. <br><br><h4>  Script gen_log </h4>  Since it is interesting to see the result of working on files not only in code_swarm, but also in gource, I made a script that generates a log for it.  This script is called gen_log (the <a href="https://github.com/artzub/code_swarm-gource-my-conf/blob/master/data/my/gen_log">most current version of the file</a> ): <blockquote> <code><font color="black"><font color="#008000">#!/bin/sh</font> <br> uses <font color="#804000"><b>(){</b></font> <br> <font color="#0000FF"><b>echo</b></font> -e <font color="#808080">'using\n$0 file_codeswarm.xml'</font> <br> <font color="#804000"><b>}</b></font> <br> <br> generatelog <font color="#804000"><b>(){</b></font> <br> <font color="#0000FF"><b>echo</b></font> <font color="#808080">"genereting... "</font> <br> state <font color="#804000"><b>=(</b></font> <font color="#808080">"\\"</font> <font color="#808080">"|"</font> <font color="#808080">"/"</font> <font color="#808080">"‚Äî"</font> <font color="#804000"><b>)</b></font> <br> i <font color="#804000"><b>=</b></font> <font color="#FF0000">0</font> <br> <font color="#0000FF"><b>if</b></font> <font color="#804000"><b>[</b></font> <font color="#0000FF"><b>-f</b></font> <font color="#808080">"$1"</font> <font color="#804000"><b>];</b></font> <font color="#0000FF"><b>then</b></font> <br> result <font color="#804000"><b>=</b></font> <font color="#008080">${1%.*}</font> <font color="#808080">'.log'</font> <br> <font color="#0000FF"><b>echo</b></font> -n <font color="#804000"><b>&gt;</b></font> <font color="#FF8040"><b>$result</b></font> <br> <font color="#008000">#       event</font> <br> <font color="#0000FF"><b>grep</b></font> -e <font color="#808080">"event "</font> <font color="#FF8040"><b>$1</b></font> <font color="#804000"><b>|</b></font> <font color="#804000"><b>\</b></font> <br> <font color="#008000">#     </font> <br> <font color="#008000">#  &lt;event  /&gt;</font> <br> <font color="#0000FF"><b>sed</b></font> -e <font color="#808080">"s/^[    ]*//;s/^&lt;event //g;s|/&gt;$||g"</font> <font color="#804000"><b>|</b></font> <font color="#804000"><b>\</b></font> <br> <font color="#0000FF"><b>while</b></font> <font color="#0000FF"><b>read</b></font> line <br> <font color="#0000FF"><b>do</b></font> <br> date <font color="#804000"><b>=</b></font> <font color="#808080">""</font> <br> <font color="#008000"># ,  4 </font> <br> <font color="#0000FF"><b>eval</b></font> <font color="#FF8040"><b>$line</b></font> <font color="#804000"><b>;</b></font> <br> <font color="#008000">#    date,    </font> <br> <font color="#804000"><b>[</b></font> <font color="#0000FF"><b>-n</b></font> <font color="#808080">"$date"</font> <font color="#804000"><b>]</b></font> <font color="#804000"><b>&amp;&amp;</b></font> <font color="#804000"><b>[</b></font> <font color="#808080">"`echo -n $data | wc -c`"</font> <font color="#804000"><b>-</b></font> gt <font color="#808080">"10"</font> <font color="#804000"><b>]</b></font> <font color="#804000"><b>&amp;&amp;</b></font> date <font color="#804000"><b>=</b></font> <font color="#804040"><b>`echo $data | sed -e "s/^\(.\{10\}\).*/\1/"`</b></font> <br> <font color="#804000"><b>[</b></font> <font color="#0000FF"><b>-n</b></font> <font color="#808080">"$date"</font> <font color="#804000"><b>]</b></font> <font color="#804000"><b>&amp;&amp;</b></font> <font color="#0000FF"><b>echo</b></font> <font color="#808080">"$date|$author|$action|$filename"</font> <font color="#804000"><b>&gt;&gt;</b></font> <font color="#FF8040"><b>$result</b></font> <br> <font color="#008000">#  .</font> <br> <font color="#0000FF"><b>echo</b></font> <font color="#804000"><b>-</b></font> ne <font color="#808080">"\b${state[$i]}"</font> <br> <font color="#804000"><b>((</b></font> i <font color="#804000"><b>+=</b></font> <font color="#FF0000">1</font> <font color="#804000"><b>))</b></font> <br> <font color="#804000"><b>[[</b></font> <font color="#FF8040"><b>$i</b></font> <font color="#804000"><b>-</b></font> eq <font color="#FF0000">5</font> <font color="#804000"><b>]]</b></font> <font color="#804000"><b>&amp;&amp;</b></font> i <font color="#804000"><b>=</b></font> <font color="#FF0000">0</font> <br> <font color="#0000FF"><b>done</b></font> <br> <font color="#0000FF"><b>echo</b></font> <font color="#804000"><b>-</b></font> ne <font color="#808080">"\bcompleted!"</font> <br> <font color="#0000FF"><b>else</b></font> <br> <font color="#0000FF"><b>echo</b></font> -e <font color="#808080">"file log code_swarm not exsits!\n$1"</font> <br> <font color="#0000FF"><b>fi</b></font> <br> <font color="#804000"><b>}</b></font> <br> <br> <font color="#804000"><b>[</b></font> <font color="#0000FF"><b>-n</b></font> <font color="#808080">"$1"</font> <font color="#804000"><b>]</b></font> <font color="#804000"><b>&amp;&amp;</b></font> generatelog <font color="#FF8040"><b>$1</b></font> <font color="#804000"><b>||</b></font> uses</font></code> </blockquote>  This script uses the useful <b>eval</b> function.  It executes the text as if you typed it into the command line.  This approach is convenient in our case, since the input line has the following form: <blockquote> <code><font color="black"><font color="#ff0000">date</font> <font color="#0000ff">="1142998387000"</font> <font color="#ff0000">author</font> <font color="#0000ff">="ajax/ajax.js"</font> <font color="#ff0000">filename</font> <font color="#0000ff">="c9/sd/sd9db4/sd/sd/sdb945/sdb89a/sd/sd7/sd/sdfbfdf.04"</font> <font color="#ff0000">action</font> <font color="#0000ff">="A"</font> <font color="#ff0000">comment</font> <font color="#0000ff">=""</font></font></code> </blockquote>  As you understand, the system will process this line and we will have 5 variables <b>date</b> , <b>author</b> , <b>filename</b> , <b>action</b> , <b>comment</b> (thanks to <a href="https://habrahabr.ru/users/bliznezz/" class="user_link">bliznezz</a> ).  These variables are uploaded to a file with the following format: <blockquote> <code>date|author|action|filename</code> </blockquote>  <i>True with gource, you can already customize this format.</i>  <i>The file processing format is in the file <b>{gource_home} /data/gource.style</b></i> <br><br><h4>  Script run.bat </h4>  Now we will collect everything into a common file that will process the activity file generated by you using the genlogcs command, which you put in the {code_swarm_home} /data/my/data/actions.xml directory. <br>  Here is its contents (the <a href="">most current version of the file</a> ): <blockquote> <code><font color="black"><font color="#0000FF"><b>call</b></font> <font color="#0080FF">sh</font> gen_log ./data/actions.xml <br> <br> <font color="#0000FF"><b>call</b></font> <font color="#0080FF">sh</font> sort_log ./data/actions.log &gt; data\gource.log <br> <br> <font color="#0080FF">pushd</font> png <br> <font color="#0000FF"><b>del</b></font> *.png <br> <font color="#0080FF">popd</font> <br> <br> <font color="#0080FF">pushd</font> ..\.. <br> <font color="#0000FF"><b>call</b></font> <font color="#0080FF">run.bat</font> data\my\my.config <br> <font color="#0080FF">popd</font> <br> <br> <font color="#0080FF">pushd</font> png <br> <font color="#0000FF"><b>call</b></font> "..\tools\nt\mencoder" mf://*.png -mf fps=19:type=png -ovc x264 -x264encopts pass=1:bitrate=1000 -oac <font color="#0000FF"><b>copy</b></font> -audiofile "..\data\audio.wav" -o "..\results\result.avi" <br> <font color="#0080FF">popd</font> <br> <br> <font color="#0080FF">pushd</font> "tools\gource" <br> <font color="#0000FF"><b>call</b></font> <font color="#0080FF">gource.exe</font> --hide filenames,dirnames --user-scale 2 --output-framerate 25 --stop-position 1 --highlight-all-users --seconds-per-day 1 --output-ppm-stream "..\..\results\resultgource.ppm" "..\..\data\gource.log" <br> <font color="#0080FF">popd</font> <br> <br> <font color="#0080FF">pushd</font> "tools\nt" <br> <font color="#0000FF"><b>call</b></font> <font color="#0080FF">ffmpeg</font> -y -b 9000K -f image2pipe -vcodec ppm -i "..\..\results\resultgource.ppm" -fpre "..\ll.ffpreset" -i "..\..\results\resultgource.ppm" -vcodec libx264 "..\..\results\resultgource.avi" <br> <br> <font color="#0000FF"><b>call</b></font> <font color="#0080FF">mencoder</font> "..\..\results\resultgource.avi" -ovc x264 -x264encopts pass=1:bitrate=10000 -ofps 19 -speed 2 -o "..\..\results\resultgource.fps" <br> <br> <font color="#0000FF"><b>call</b></font> <font color="#0080FF">mencoder</font> "..\..\results\resultgource.fps" -ovc x264 -x264encopts pass=1:bitrate=10000 -oac <font color="#0000FF"><b>copy</b></font> -audiofile "..\..\data\audio.wav" -o "..\..\results\resultgource.avi" <br> <font color="#0080FF">popd</font> <br> <br> <font color="#0000FF"><b>del</b></font> results\resultgource.ppm <br> <font color="#0000FF"><b>del</b></font> results\resultgource.fps <br> <font color="#0000FF"><b>del</b></font> data\actions.log</font></code> </blockquote>  This script performs the following actions: <ol><li>  sorts it with <b>sort -k1 -t "|"</b>  , but since we are doing it under Windows, I put it in another file, and then it swears in Windows.  Sorting is necessary, as <b>gource</b> works correctly only with sorted data. </li><li>  Runs <b>code_swarm</b> with the config we described in my.config.  As a result, code_swarm generates a large number of <b>png</b> files. </li><li>  We convert png files into video using <b>mencoder</b> , while attaching a soundtrack, the duration of the video can be adjusted with the <b>-mf fps = 19: type = png</b> parameter, where 19 this should be the ratio between the png file count and the duration of the audio track in seconds.  But I don‚Äôt like it and for this I use a value acceptable to me. </li><li>  Then <b>gource</b> is <b>started</b> and unloads the result in ppm.  I warn the file will be very large in several gigabytes, so the way to upload is indicated considering this. </li><li>  Then we overtake this ppm file with the help of the <b>ffmpeg</b> utility into the avi file, but it turns out very large and long.  Accelerate with the help of mencoder to the same 19 fps.  And then run the <b>mencoder</b> again in order to attach a sound track to it.  As a result, we get a file of just a few 10 megabytes. </li></ol>  I looked at the video conversion in the <a href="http://lib.custis.ru/ShowTeamWork">showteamwork</a> framework.  After completing all the steps in the directory that you specified for the results of the work (in my case it is {code_swarm_home} / data / my / results), two video clips with visualized activity. <br><br><br><h1>  Execution result, with md5 generation type </h1>  Here are my results from the <a href="https://github.com/jquery/jquery">jquery</a> repository. <br><br><h4>  code_swarm </h4><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/eUj9EfFrSgE%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhiQ2dvyrv6YRutB7Z1AzHve-V16Kw" frameborder="0" allowfullscreen=""></iframe><br>  What does this mean (model "attraction"): <ul><li>  The object attracts subjects to itself. </li><li>  Objects repel each other </li><li>  Objects are attracted to each other if they use the same subject </li><li>  Subjects which are often used increases in size and in brightness. </li></ul>  Here the brightest objects are most likely curly braces that are often found in js scripts.  and as a rule the closing one happens in a line, md5sum is the same for all of them.  Also md5sum can be the same for several different lines.  But you can put up with it.  If you need the most objective picture, use the ch_code generation type. <br><br><h4>  gource </h4><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/7ebUSOITXJs%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhir0frviqC1AuEMTC1VqXpaAEHlOg" frameborder="0" allowfullscreen=""></iframe><br>  What does this mean (model "bees and honeycombs"): <ul><li>  Object - bee </li><li>  Subject - honeycomb </li><li>  Bees build honeycombs, Green beam - add, Red - delete. </li></ul>  An interesting picture is reminiscent of a fractal.  Each branch is as if the directory every leaf on the tree is a file. <br><br><br><h1>  Results </h1>  This article primarily emphasizes the fact that with the help of code_swarm and gource visualizers you can process any statistics that has variable time, the main thing is to submit these statistics to them in the right way. <br>  All this of course more like a game.  For me at least that's what it is.  Let's say that these things add variety to the work of the programmer. <br>  Make <a href="https://github.com/artzub/code_swarm-gource-my-conf">my turnip</a> clone <blockquote> <code>$ git clone git://github.com/artzub/code_swarm-gource-my-conf.git test</code> </blockquote>  and post your results to me very interesting. <br><br><br><h1>  Literature </h1><ul><li>  <a href="http://www.crossplatform.ru/documentation/awk/awk_bal_oglav.php">Effective awk programming</a> is a good awk material. </li><li>  <a href="http://citforum.ru/operating_systems/unixuser/index.shtml">UNIX OS user manual</a> </li><li>  <a href="http://linux.die.net/man/1/ffmpeg">man ffmpeg</a> </li><li>  <a href="http://www.mplayerhq.hu/DOCS/HTML/ru/mencoder.html">Basics of using MEncoder and other chapters</a> from <a href="http://www.mplayerhq.hu/DOCS/HTML/ru/index.html">MPlayer</a> documentation </li><li>  <a href="http://www.mplayerhq.hu/DOCS/HTML/ru/index.html">git log</a> - documentation for log upload </li><li>  <a href="http://habrahabr.ru/qa/5137/">How to deal with the error: couldn't commit memory for cygwin heap?</a> </li><li>  <a href="http://habrahabr.ru/qa/5070/">Awk parsing xml</a> </li><li>  <a href="http://habrahabr.ru/qa/4828/">Shell, replacing all characters in a string with their codes</a> </li></ul>  <b>upd:</b> Everyone is silent, but in the log generation script for code_swarm there is an error, or I do not even know a typo how to correctly say.  In the regular expression, <b>/ ^ + / error</b> since + must be escaped like this <b>/ ^ \ + /</b> .  Strange that in Windows everything fulfills launched under debian awk swore!  =) </div><p>Source: <a href="https://habr.com/ru/post/114630/">https://habr.com/ru/post/114630/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../114622/index.html">Simple protection against double cron jobs</a></li>
<li><a href="../114623/index.html">Holywar: iOS vs Android</a></li>
<li><a href="../114626/index.html">QIWI and Payoneer collaboration</a></li>
<li><a href="../114628/index.html">"Up!" - from heaven to earth</a></li>
<li><a href="../114629/index.html">OpenGL is easy!</a></li>
<li><a href="../114631/index.html">Stamp like</a></li>
<li><a href="../114633/index.html">Training non-standard actions: how to make work more productive</a></li>
<li><a href="../114637/index.html">Infographics: Where to spend the state budget?</a></li>
<li><a href="../114638/index.html">Venue</a></li>
<li><a href="../114641/index.html">The interdistrict prosecutor of the Preobrazhensky district of Moscow demands from the district court to recognize LiveJournal as an extremist site</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>