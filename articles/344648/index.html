<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Born to intercept traffic</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="New Internet providers appear literally every day, and on December 12, 2017 was no exception. A newcomer to the cross-domain routing ecosystem, AS3952...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Born to intercept traffic</h1><div class="post__text post__text-html js-mediator-article">  New Internet providers appear literally every day, and on December 12, 2017 was no exception.  A newcomer to the cross-domain routing ecosystem, <a href="https://radar.qrator.net/as39523">AS39523</a> (DV-LINK-AS), began to announce its own address space (one prefix), adding to it at the same time another 80 foreign prefixes belonging to both Russian and international content providers, such as Google, Facebook, Mail.ru, Vkontakte and many others. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d5/9a0/7f0/6d59a07f08a4d3a77543ecae50cb3f6c.png" alt="image"><br>  <i>The incident lasted more than 2 hours, starting at 4:44 UTC with a peak of 80 prefixes, ending at 7:19 with another peak around 7:04 UTC.</i> <br><a name="habracut"></a><br>  Because of the specific set of services that have experienced the impact of the incident, we can assume that static routes have flowed through BGP.  However, the main question is why these incorrect announcements have spread at all?  The fact that intercepted prefixes have spread to all corners of the Internet demonstrates the absence of any filters between <a href="https://radar.qrator.net/as39523/whois">AS39523</a> and its direct supplier AS31133 (Megaphone), and between AS31133 (Megafon) and the world's largest telecom operators, such as Level3 (AS3356), Cogent (AS174), Zayo (AS6461), Hurricane Electric (AS6939) and others. <br><br>  There are three most common reasons for the lack of incoming filters at the interfaces of operators of the client-supplier type: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Some transit operators cannot convince their customers to create correct route objects.  As the client pays money for the service, some Internet providers do not consider it obligatory to impose strict filters, and as a result we have exceptions. </li><li>  Another problem is that there is no authorization for AS-SET objects.  As a result, any ASN or AS-SET can be added to the AS-SET!  There are Internet providers that have thousands of prefixes in their AS-SET object, with just a couple dozen actually belonging to their client cone.  This situation is only getting worse closer to the core of the Internet, where large Tier2 networks may have AS-SET, bloated to hundreds of thousands of entries.  Instead of working with their clients to solve this problem, some Tier1 operators prefer to simply remove any filters for providers with too large AS-SET. </li><li>  Finally, some Internet providers believe that filters based on AS_PATH are inadequate and, accordingly, do not apply any filtering of prefixes at all. </li></ol><br>  It is easy to prove that all you need is to find a globally visible prefix without a route object.  For example, the network <a href="https://radar.qrator.net/as202925/graph">91.243.129.0/24</a> does not have any corresponding route-objects <a href="">in any database</a> , but at the same time it is calmly announced by Megaphone and its Tier1-Upstream. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/03d/e8a/78e/03de8a78ef937c69bbdd340b6e532589.jpg" alt="image"><br><br>  An example of IPv6 is also easy to find.  There is no route6 object for the 2a03: 34e0 :: / 32 network, as seen from <a href="http://irrexplorer.nlnog.net/search/2a03:34e0::/32">NLNOG's IRRExplorer</a> , but again, the prefix <a href="https://radar.qrator.net/as12695/graph">2a03: 34e0 :: / 32 is</a> distributed without difficulty.  From this we can conclude that there are no filters between AS12695 and AS31133 (Megaphone), or the filters do not work, and also that there are no filters between Megaphone and Hurricane Electric (AS6939). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d7/428/98c/9d742898c4f515b877eba7f4ac15bd0b.png" alt="image"><br><br>  This interception once again raised the problem of filtering prefixes at the joints of customers and suppliers.  Of course, you can blame all the blame on <a href="https://radar.qrator.net/as39523/whois">AS39523</a> , but without customized filters at the interfaces between transit operators, we are doomed to see such incidents again and again.  We strongly recommend all transit operators to double-check their filtering policies by at least implementing prefix-based BGP filters on all client connections. <br><br>  Just a week ago at the Moscow Peering Forum, Alexander Azimov, head of the Radar.Qrator project, presented a report on this topic - you can <a href="https://youtu.be/RSXeIvv4jt4%3Ft%3D10557">follow the link</a> to listen to the report and get more information about how the lack of filters becomes a security hole, allowing conduct successful MiTM attacks even on encrypted traffic. <br><br>  Special thanks to Job Snijders from NTT Communications for their help in preparing this publication. </div><p>Source: <a href="https://habr.com/ru/post/344648/">https://habr.com/ru/post/344648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344634/index.html">ATOL Online Online Cash Desk Service: API and CMS Integration</a></li>
<li><a href="../344638/index.html">Corona SDK - Crush Crush Game</a></li>
<li><a href="../344640/index.html">Mail for Good: how the community of programmers helps NGOs</a></li>
<li><a href="../344642/index.html">Something is wrong with the IDS signature</a></li>
<li><a href="../344644/index.html">Dynamic sound on destructible levels of Rainbow Six: Siege</a></li>
<li><a href="../344650/index.html">This is Sparta</a></li>
<li><a href="../344652/index.html">How to clean the onions, or why software development is out of control</a></li>
<li><a href="../344654/index.html">Building a business analysis process in projects for the development of BI-applications with advanced visualization</a></li>
<li><a href="../344656/index.html">Representing functions as a service - OpenFaaS</a></li>
<li><a href="../344658/index.html">Elixir for javistov. Part one</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>