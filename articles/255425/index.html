<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PODAM Java Objects for Unit Testing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 
 When unit-testing, you often come across the need to fill in complex objects in order to return them from the side of the plugs or vice ve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PODAM Java Objects for Unit Testing</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/bf3/fa5/0fd/bf3fa50fd60145ab9451b2fd5dd8d03c.jpg"><br><br>  Good day! <br>  When unit-testing, you often come across the need to fill in complex objects in order to return them from the side of the plugs or vice versa - to give them input to methods and tests.  Some developers ignore Java get-set conventions, and even if there are getters and setters, filling the object with a fairly complex structure sometimes requires more code than the test itself.  This is an anti-pattern <b><a href="http://qabok.com/tdd-patterns-and-anti-patterns/">Excessive Setup</a></b> , and I want to learn how to deal with it.  In this article I will tell you how to fill objects quickly and beautifully using the PODAM library, continuing the ideas of reasonable randomization of both the input data for the tests and the data returned by the stubs - I will show you with examples and search in the sources. <br>  So, in order not to think for a long time, but not to engage in the world of animals, we will generate a country. <a name="habracut"></a>  Primitive, but sufficient for demonstration. <br><br><h4>  1. Model </h4><br>  The country will consist of the name, national currency and cities. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Country</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Currency currency; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;City&gt; cities; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Country</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ setCities(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;City&gt;()); } <span class="hljs-comment"><span class="hljs-comment">//...  getters  setters }</span></span></code> </pre> <br>  Cities will consist of the name, the number of inhabitants and the list of streets: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">City</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> population; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Street&gt; streets; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">City</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } <span class="hljs-comment"><span class="hljs-comment">//...  getters  setters }</span></span></code> </pre><br>  Streets with titles <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Street</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Street</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } <span class="hljs-comment"><span class="hljs-comment">//...  getters  setters }</span></span></code> </pre><br>  and currency (for example, with enum generation, they certainly do not work with currencies like that :)) <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Currency { RUB, EUR, USD; }</code> </pre><br>  So, the model is ready. <br><br><h4>  2. Helper class for beautiful output </h4><br>  Before generating the country, I allow myself to deviate a little to one side and create my RecursiveToStringStyle instead of what Apache (commons-lang3-3.4.jar) has in order to display the data received by PODAM using ReflectionToStringBuilder. <br><div class="spoiler">  <b class="spoiler_title">Class RecursiveToStringStyle</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecursiveToStringStyle</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToStringStyle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> serialVersionUID = <span class="hljs-number"><span class="hljs-number">1L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> offset; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RecursiveToStringStyle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RecursiveToStringStyle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset)</span></span></span><span class="hljs-function"> </span></span>{ setUseShortClassName(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); setUseFieldNames(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); setUseIdentityHashCode(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset = offset; String off = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; offset; i++) off += <span class="hljs-string"><span class="hljs-string">"\t"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setContentStart(<span class="hljs-string"><span class="hljs-string">"["</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setFieldSeparator(SystemUtils.LINE_SEPARATOR + off + <span class="hljs-string"><span class="hljs-string">" "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setFieldSeparatorAtStart(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setContentEnd(SystemUtils.LINE_SEPARATOR + off + <span class="hljs-string"><span class="hljs-string">"]"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">appendDetail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(StringBuffer buffer, String fieldName, Collection&lt;?&gt; col)</span></span></span><span class="hljs-function"> </span></span>{ buffer.append(<span class="hljs-string"><span class="hljs-string">'['</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Object obj : col) { buffer.append(ReflectionToStringBuilder.toString(obj, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RecursiveToStringStyle(offset + <span class="hljs-number"><span class="hljs-number">1</span></span>))); buffer.append(<span class="hljs-string"><span class="hljs-string">','</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (buffer.charAt(buffer.length() - <span class="hljs-number"><span class="hljs-number">1</span></span>) == <span class="hljs-string"><span class="hljs-string">','</span></span>) buffer.setCharAt(buffer.length() - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">']'</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">appendDetail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(StringBuffer buffer, String fieldName, Object value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> String) { buffer.append(<span class="hljs-string"><span class="hljs-string">"\""</span></span> + value.toString() + <span class="hljs-string"><span class="hljs-string">"\""</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> BigDecimal) { buffer.append(value.getClass().getSimpleName() + <span class="hljs-string"><span class="hljs-string">"["</span></span> + value.toString() + <span class="hljs-string"><span class="hljs-string">"]"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> BigInteger) { buffer.append(value.getClass().getSimpleName() + <span class="hljs-string"><span class="hljs-string">"["</span></span> + value.toString() + <span class="hljs-string"><span class="hljs-string">"]"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!value.getClass().getName().startsWith(<span class="hljs-string"><span class="hljs-string">"java.lang."</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { buffer.append(ReflectionToStringBuilder.toString(value, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RecursiveToStringStyle(offset + <span class="hljs-number"><span class="hljs-number">1</span></span>))); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Throwable t) { } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.appendDetail(buffer, fieldName, value); } } }</code> </pre><br></div></div><br><br><h4>  3. Generation </h4><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountryCreatorSimple</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> PodamFactory factory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PodamFactoryImpl(); <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> Country myPojo = factory.manufacturePojo(Country.class); <span class="hljs-comment"><span class="hljs-comment">/** ""  */</span></span> System.out.println(ReflectionToStringBuilder.toString(myPojo,<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RecursiveToStringStyle())); } }</code> </pre><br>  That's all.  In myPojo is a full-fledged country - there are a lot of beeches, - so that those who wish can <br><div class="spoiler">  <b class="spoiler_title">expand the result</b> <div class="spoiler_text"><pre> <code class="java hljs">Country[ name=<span class="hljs-string"><span class="hljs-string">"2n_BNdJOpE"</span></span> currency=Currency[ name=<span class="hljs-string"><span class="hljs-string">"USD"</span></span> ordinal=<span class="hljs-number"><span class="hljs-number">2</span></span> ] cities=[City[ name=<span class="hljs-string"><span class="hljs-string">"7_BmoRTDab"</span></span> population=-<span class="hljs-number"><span class="hljs-number">1863637717</span></span> streets=[Street[ name=<span class="hljs-string"><span class="hljs-string">"XV_q7SPbvk"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"GkNGKj6B9J"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"y9GNakRAsW"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"Mwo09nQx0R"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"n4_EDMGNUR"</span></span> ]] ],City[ name=<span class="hljs-string"><span class="hljs-string">"1sifHwujvo"</span></span> population=<span class="hljs-number"><span class="hljs-number">1832262487</span></span> streets=[Street[ name=<span class="hljs-string"><span class="hljs-string">"xpZiJH2sce"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"ns8DRJDi4e"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"7Ijv_UVZrF"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"CYruDEhe2M"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"4HFzN0v5mc"</span></span> ]] ],City[ name=<span class="hljs-string"><span class="hljs-string">"qJlUWEPoxp"</span></span> population=<span class="hljs-number"><span class="hljs-number">1979728140</span></span> streets=[Street[ name=<span class="hljs-string"><span class="hljs-string">"_LbqmCPgWC"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"yS6jX8vRqI"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"yFysWkntdh"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"RvP93uJphY"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"WjARSGWfxB"</span></span> ]] ],City[ name=<span class="hljs-string"><span class="hljs-string">"W1J9mWpEFH"</span></span> population=<span class="hljs-number"><span class="hljs-number">493149274</span></span> streets=[Street[ name=<span class="hljs-string"><span class="hljs-string">"8bFRRbPmqO"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"ORJ4rP1i41"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"qD9XU0I0K2"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"I75Wt5cK9v"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"viT8t5FkPq"</span></span> ]] ],City[ name=<span class="hljs-string"><span class="hljs-string">"33cPIh6go9"</span></span> population=<span class="hljs-number"><span class="hljs-number">693664641</span></span> streets=[Street[ name=<span class="hljs-string"><span class="hljs-string">"kvPtj1GIL4"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"aVv1taDA0j"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"iQ6ZriwuZK"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"fcf6JICEQ9"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"1Pbdnc_7R6"</span></span> ]] ]] ]</code> </pre><br></div></div><br>  In our country with the strange name <i>‚Äú2n_BNdJOpE‚Äù</i> and the national currency USD, there are cities with no less strange names, sometimes a negative population, and streets that are terrible to say out loud.  This may be quite enough for many unit-testing options, but I decided to see how deep the rabbit hole is. <br><br><h4>  4. Own generation strategy </h4><br>  On the official website, they propose to implement the DataProviderStrategy interface, but there are 23 methods for each return type, for the size of the collection, etc.  Perhaps, there are those who would like to and someone will even need to, but for the demonstration I wanted to find something simpler - I looked into the source code in search of what strategy was actually used in the previous paragraph - it turned out to be RandomDataProviderStrategy, but it is public final class.  But inherited from AbstractRandomDataProviderStrategy - BINGO. <br>  Getting to create your own strategy. <br><br>  We want, for example: <br>  1. One or two cities in our country - no more.  And the result looks cumbersome :) <br>  Overlapping <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNumberOfCollectionElements</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;?&gt; type)</span></span></span></span></code> </pre><br>  2. We want normal names of cities and streets - these will be two enum, with static methods returning random elements to us. <br>  Plus overlap <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStringValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AttributeMetadata attributeMetadata)</span></span></span></span></code> </pre><br>  3. We want the population - not negative, but, for example, from a million to 10 million. <br>  Overlapping <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInteger</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AttributeMetadata attributeMetadata)</span></span></span></span></code> </pre><br><br>  We will use the fact that AttributeMetadata contains two important methods: <br><br><pre> <code class="java hljs">attributeMetadata.getAttributeName() <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> attributeMetadata.getPojoClass() <span class="hljs-comment"><span class="hljs-comment">/** ,     */</span></span></code> </pre><br><br>  Carried on (the choice of cities is random, the choice of streets - googled a certain number of streets in Paris - sorry for formatting enum - but did not want to vertically): <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountryDataProviderStrategy</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractRandomDataProviderStrategy</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(System.currentTimeMillis()); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CountryDataProviderStrategy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStringValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AttributeMetadata attributeMetadata)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *   name,        ,  * ,   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"name"</span></span>.equals(attributeMetadata.getAttributeName())) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Street.class.equals(attributeMetadata.getPojoClass())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Streets.randomStreet(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (City.class.equals(attributeMetadata.getPojoClass())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Cities.randomCity(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Country.class.equals(attributeMetadata.getPojoClass())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Podam States of Mockitia"</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.getStringValue(attributeMetadata); }; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNumberOfCollectionElements</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;?&gt; type)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *   ,    1  2.   ,  *   1  10 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (City.class.getName().equals(type.getName())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + random.nextInt(<span class="hljs-number"><span class="hljs-number">2</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Street.class.getName().equals(type.getName())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + random.nextInt(<span class="hljs-number"><span class="hljs-number">10</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.getNumberOfCollectionElements(type); }; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInteger</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AttributeMetadata attributeMetadata)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (City.class.equals(attributeMetadata.getPojoClass())) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"population"</span></span>.equals(attributeMetadata.getAttributeName())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1_000_000</span></span> + random.nextInt(<span class="hljs-number"><span class="hljs-number">9_000_000</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.getInteger(attributeMetadata); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Cities { MOSCOW, SAINT_PETERSBURG, LONDON, NEW_YORK, SHANGHAI, KARACHI, BEIJING, DELHI, PARIS, NAIROBI; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Cities&gt; values = Collections.unmodifiableList(Arrays.asList(values())); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size = values.size(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randomCity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> values.get(random.nextInt(size)).toString(); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Streets { RUE_ABEL, RUE_AMPERE, AVENUE_PAUL_APPELL, BOULEVARD_ARAGO, JARDINS_ARAGO, SQUARE_ARAGO, RUE_ANTOINE_ARNAULD, SQUARE_ANTOINE_ARNAULD, RUE_BERNOULLI, RUE_BEZOUT, RUE_BIOT, RUE_BORDA, SQUARE_BOREL, RUE_CHARLES_BOSSUT, RUE_DE_BROGLIE, RUE_BUFFON, AVENUE_CARNOT, BOULEVARD_CARNOT, VILLA_SADI_CARNOT, RUE_CASSINI, RUE_CAUCHY, RUE_MICHEL_CHASLES, RUE_NICOLAS_CHUQUET, RUE_CLAIRAUT, RUE_CLAPEYRON, RUE_CONDORCET, RUE_CORIOLIS, RUE_COURNOT, RUE_GASTON_DARBOUX, RUE_DELAMBRE, SQUARE_DELAMBRE, RUE_DEPARCIEUX, RUE_DE_PRONY, RUE_DESARGUES, RUE_DESCARTES, RUE_ESCLANGON, RUE_EULER; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Streets&gt; values = Collections.unmodifiableList(Arrays.asList(values())); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size = values.size(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randomStreet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> values.get(random.nextInt(size)).toString(); } } }</code> JARDINS_ARAGO, SQUARE_ARAGO, RUE_ANTOINE_ARNAULD, SQUARE_ANTOINE_ARNAULD, RUE_BERNOULLI, RUE_BEZOUT, RUE_BIOT, RUE_BORDA, SQUARE_BOREL, RUE_CHARLES_BOSSUT, RUE_DE_BROGLIE, RUE_BUFFON, AVENUE_CARNOT, BOULEVARD_CARNOT, VILLA_SADI_CARNOT, RUE_CASSINI, RUE_CAUCHY, RUE_MICHEL_CHASLES, RUE_NICOLAS_CHUQUET, RUE_CLAIRAUT, RUE_CLAPEYRON, <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountryDataProviderStrategy</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractRandomDataProviderStrategy</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(System.currentTimeMillis()); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CountryDataProviderStrategy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStringValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AttributeMetadata attributeMetadata)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *   name,        ,  * ,   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"name"</span></span>.equals(attributeMetadata.getAttributeName())) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Street.class.equals(attributeMetadata.getPojoClass())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Streets.randomStreet(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (City.class.equals(attributeMetadata.getPojoClass())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Cities.randomCity(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Country.class.equals(attributeMetadata.getPojoClass())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Podam States of Mockitia"</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.getStringValue(attributeMetadata); }; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNumberOfCollectionElements</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;?&gt; type)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *   ,    1  2.   ,  *   1  10 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (City.class.getName().equals(type.getName())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + random.nextInt(<span class="hljs-number"><span class="hljs-number">2</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Street.class.getName().equals(type.getName())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + random.nextInt(<span class="hljs-number"><span class="hljs-number">10</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.getNumberOfCollectionElements(type); }; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInteger</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AttributeMetadata attributeMetadata)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (City.class.equals(attributeMetadata.getPojoClass())) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"population"</span></span>.equals(attributeMetadata.getAttributeName())) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1_000_000</span></span> + random.nextInt(<span class="hljs-number"><span class="hljs-number">9_000_000</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.getInteger(attributeMetadata); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Cities { MOSCOW, SAINT_PETERSBURG, LONDON, NEW_YORK, SHANGHAI, KARACHI, BEIJING, DELHI, PARIS, NAIROBI; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Cities&gt; values = Collections.unmodifiableList(Arrays.asList(values())); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size = values.size(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randomCity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> values.get(random.nextInt(size)).toString(); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Streets { RUE_ABEL, RUE_AMPERE, AVENUE_PAUL_APPELL, BOULEVARD_ARAGO, JARDINS_ARAGO, SQUARE_ARAGO, RUE_ANTOINE_ARNAULD, SQUARE_ANTOINE_ARNAULD, RUE_BERNOULLI, RUE_BEZOUT, RUE_BIOT, RUE_BORDA, SQUARE_BOREL, RUE_CHARLES_BOSSUT, RUE_DE_BROGLIE, RUE_BUFFON, AVENUE_CARNOT, BOULEVARD_CARNOT, VILLA_SADI_CARNOT, RUE_CASSINI, RUE_CAUCHY, RUE_MICHEL_CHASLES, RUE_NICOLAS_CHUQUET, RUE_CLAIRAUT, RUE_CLAPEYRON, RUE_CONDORCET, RUE_CORIOLIS, RUE_COURNOT, RUE_GASTON_DARBOUX, RUE_DELAMBRE, SQUARE_DELAMBRE, RUE_DEPARCIEUX, RUE_DE_PRONY, RUE_DESARGUES, RUE_DESCARTES, RUE_ESCLANGON, RUE_EULER; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Streets&gt; values = Collections.unmodifiableList(Arrays.asList(values())); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size = values.size(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randomStreet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> values.get(random.nextInt(size)).toString(); } } }</code> </pre><br>  Putting it all together and run the generation: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountryCreatotWithStrategy</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**     */</span></span> DataProviderStrategy strategy = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CountryDataProviderStrategy(); <span class="hljs-comment"><span class="hljs-comment">/**       */</span></span> PodamFactory factory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PodamFactoryImpl(strategy); <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> Country myPojo = factory.manufacturePojo(Country.class); <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> System.out.println(ReflectionToStringBuilder.toString(myPojo,<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RecursiveToStringStyle())); } }</code> </pre><br>  The result is much nicer than using the full random: <br><br><pre> <code class="java hljs">Country[ name=<span class="hljs-string"><span class="hljs-string">"Podam States of Mockitia"</span></span> currency=Currency[ name=<span class="hljs-string"><span class="hljs-string">"RUB"</span></span> ordinal=<span class="hljs-number"><span class="hljs-number">0</span></span> ] cities=[City[ name=<span class="hljs-string"><span class="hljs-string">"NAIROBI"</span></span> population=<span class="hljs-number"><span class="hljs-number">9563403</span></span> streets=[Street[ name=<span class="hljs-string"><span class="hljs-string">"RUE_BORDA"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"RUE_DE_PRONY"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"SQUARE_ANTOINE_ARNAULD"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"RUE_CASSINI"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"RUE_DE_PRONY"</span></span> ]] ],City[ name=<span class="hljs-string"><span class="hljs-string">"PARIS"</span></span> population=<span class="hljs-number"><span class="hljs-number">7602177</span></span> streets=[Street[ name=<span class="hljs-string"><span class="hljs-string">"RUE_DESCARTES"</span></span> ],Street[ name=<span class="hljs-string"><span class="hljs-string">"RUE_CHARLES_BOSSUT"</span></span> ]] ]] ]</code> </pre><br><br><h4>  5. Conclusion </h4><br>  1. In fact, you can annotate @PodamStrategyValue to supply the fields themselves.  To do this, you will need to implement the AttributeStrategy interface, thereby creating strategies for attributes.  You can still have a lot of wonderful things, but this is for those who are interested in all this miracle - there are many tutorials on the <a href="http://home.btconnect.com/jemosagile//projects/podam/index.html">official website</a> . <br><br>  2. Some may say that it is easier to plant specific values ‚Äã‚Äãinto an object, no matter how difficult it is - I will not agree and I will not argue, so I immediately warn you about refusing to give comments on this topic - PODAM uses reflection, and this is access to fields with limited visibility and even constants (though I didn‚Äôt try through PODAM, but take reflection of constants), and this opens up great opportunities not only for generating, but also for breaking, which is indispensable for automating negative testing. <br><br>  3. The goal was to defeat the <b><a href="http://qabok.com/tdd-patterns-and-anti-patterns/">Excessive Setup</a></b> anti-pattern.  I think this is partly possible.  And in combination with Mockito, about which much has already been written, unit-testing (as well as blind pieces of the functional) becomes a sheer pleasure. <br><br>  4. Of course, a <a href="https://bitbucket.org/franciscosuarez/podamexample/downloads">link to a git turnip</a> with what is described above. </div><p>Source: <a href="https://habr.com/ru/post/255425/">https://habr.com/ru/post/255425/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255413/index.html">GitHub announces storage for large files (LFS)</a></li>
<li><a href="../255415/index.html">We are switching from STM32 to the Russian K1986BE92QI microcontroller. System Timer (SysTick)</a></li>
<li><a href="../255417/index.html">Research android virus</a></li>
<li><a href="../255419/index.html">Configuring volume replication in Windows Server vNext</a></li>
<li><a href="../255423/index.html">Motion Blur Effect with SVG</a></li>
<li><a href="../255427/index.html">Features of working with virtual disks VirtualBox</a></li>
<li><a href="../255429/index.html">Hello, SaaS | PR and marketing Dental Cloud</a></li>
<li><a href="../255433/index.html">OSSIM - we deploy a comprehensive open source security management system</a></li>
<li><a href="../255435/index.html">Google removed scandalous photo to avoid ban</a></li>
<li><a href="../255437/index.html">Use the built-in firewall in InfoboxCloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>