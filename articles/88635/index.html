<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating non-standard database items for nanoCAD SPDS using wall panels as an example (part 2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue the publication on the creation of non-standard elements. 



 Part one here 

 Creating a sketch 
 Following the concept of nanoCAD SPDS ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating non-standard database items for nanoCAD SPDS using wall panels as an example (part 2)</h1><div class="post__text post__text-html js-mediator-article">  We continue the publication on the creation of non-standard elements. <br><br><a name="habracut"></a><br><br>  <a href="http://habrahabr.ru/company/nanosoft/blog/88435/">Part one here</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Creating a sketch </h2><br>  Following the concept of nanoCAD SPDS and our task setting, there was no point in developing four different sketches for each brand of the panel, since switching between them in the dialogue would not lead to tracking the properties of the selected brand.  Therefore, for all the options should develop a single sketch and learn how to manage it from the dialog box.  In <i>fig.</i>  <i>4</i> shows an example of a panel sketch. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea8/6cb/fb7/ea86cbfb7c44436b1d4ff628ee50ad02.png" alt="nanoCAD SPDS"><br><br>  <i>Fig.</i>  <i>4. Sketch for wall panel</i> <br><br>  As can be seen from the figure, almost all sizes are constants.  The total length is defined as the variable ‚ÄúLength_panel‚Äù and will be assigned in the program by the specified values ‚Äã‚Äãin the script.  The circle crossed out by two segments represents the insertion point of the panel on the drawing.  It is precisely positioned according to the layout requirements for the plates in the drawing.  To control the thumbnail from the dialog box, you must assign variables to the graphic elements through which this control will be exercised.  For our version, it comes down not to a change in the size of the plate, but to a change in the visibility of the individual graphic elements of the sketch.  Let us explain this with a concrete example.  <i>Fig.</i>  <i>5</i> represents all four options (brands) of panels;  they differ only in shortening from different sides, the other dimensions remain unchanged. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a67/705/331/a67705331e04d7692c85f5c85291687c.png" alt="nanoCAD SPDS"><br><br>  <i>Fig.</i>  <i>5. An example of the display in terms of options brands H-101</i> <br><br>  Auxiliary red lines are drawn to visually determine the dimensions of the panels.  The right indicates the brand of panels (in brackets - the brand of concrete).  When you install the sign of the carrier panel appears hatching.  Thus, the whole task comes down to setting variables that would be responsible for showing or hiding individual fragments of a sketch in a dialog box, depending on the brand selected.  This allows us to do with the only and necessary design for the database object, which is the four brands of the panel.  Consider the parameter of one extreme left segment of the sketch.  The dialog box for defining parameters is shown in <i>fig.</i>  <i>6</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/97d/3d8/b33/97d3d8b3353c5731333e7a2cae326618.png" alt="nanoCAD SPDS"><br><br>  <i>Fig.</i>  <i>6. Properties of the graphic primitive for the sketch</i> <br><br>  The <i>Display</i> field contains the variable ‚Äúleft_pl‚Äù, which is assigned a value in the dialog.  When the value is ‚Äú1‚Äù, the segment is displayed in the sketch, and if the value is ‚Äú0‚Äù, it is not.  Depending on the specific situation, each sketch primitive is assigned one or several variables that are responsible for displaying this primitive under certain conditions.  For more complex cases, additional parameters can be specified in this window ‚Äî for example, line type, hatching parameters, and so on.  For the segment defining the axis of symmetry, the ‚ÄúWork object‚Äù parameter is set, which hides the axis in the drawing.  For different versions of the panels, their sketches and their drawing algorithms were developed, but in any case, one sketch is created for each database object.  Now let's see how variables are managed in the dialog box. <br><br><h2>  Dialog box with object variables </h2><br>  The work of a form or dialog box is controlled by a script, that is, in fact, the program code on which the database object is running.  In the simplest cases, it is formed automatically using the Script Wizard.  With this tool, the user goes through a step-by-step procedure for determining all the necessary variables and many other properties of the object.  <i>Fig.</i>  <i>7</i> shows an example of the Script Wizard dialog box at the step of defining variables.  In the left window displays a list of variables.  The properties of the active variable pointed to by the cursor are shown in the center, and the script text is generated at the bottom. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/168/08c/2cf/16808c2cfd1d447bf393fee31e7482b3.png" alt="nanoCAD SPDS"><br><br>  <i>Fig.</i>  <i>7. Script Wizard window on variable properties step</i> <br><br>  Having passed all stages, the user receives the finished object.  In the Object Wizard window, the assigned variables needed to build the object are visible.  In <i>fig.</i>  <i>8 the</i> display of table variables is activated, the properties of which are assigned when moving through the rows of the table.  In other words, when we switch between the names of the panel brands in the dialog window, all the corresponding panel properties in the given row of the table change. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9fb/1d5/af3/9fb1d5af3bffe1e9dac4da8e23f7e10d.png" alt="nanoCAD SPDS"><br><br>  <i>Fig.</i>  <i>8. Object wizard window with table variables.</i> <br><br>  This is the solution non-standard, which is usually not used in simple objects.  Other variables can be open and protected, they are assigned in the text of the script.  If a variable has the same value regardless of the panel's brand, you can assign it a constant value.  For a panel, this may be, for example, a method of exterior finishing or belonging to an album of drawings.  We will see these properties later in the specification, but they are also assigned in the script, and are stored in the object in the drawing.  For our non-standard case, the Script Wizard can help form variables, but not a dialog box.  In the general case, you can write the script yourself from the very beginning, without a Wizard, but it is much easier to make a blank and then correct it in text mode. <br><br>  For placing an extended set of controls in a dialog box ‚Äî for example, drop-down lists, variable tables, switches, etc.  - Custom form is required.  Unlike the standard form, which is generated using a script without user intervention, a user form is created using the Form Editor.  An example of the window of this Editor is shown in <i>Fig.</i>  <i>9</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/23e/e3c/ab5/23ee3cab58d548ff0d7094555c016f21.png" alt="nanoCAD SPDS"><br><br>  <i>Fig.</i>  <i>9. Shape Editor Window for Wall Panel</i> <br><br>  The form editor is very similar to many editors from object programming languages.  With the help of toolbars located in the upper part, added controls.  The desired position from the Variables window can be dragged onto the form field, while selecting the type of control to which this variable will be assigned.  By activating the stamped element, you can control it through the element properties window.  To replace the standard form when calling an object from the user base, you need to write an additional command in the script and comment out the call to the standard form.  We will omit purely technical details, noting that solving more complex tasks when creating non-trivial objects requires (in terms of their behavior and description) some intervention in the text of the script.  Thus, we have described the necessary variables and defined them in the process of inserting an element into the drawing.  All values ‚Äã‚Äãare stored in the object and can be changed at any time by double-clicking through the dialog box.  This gives the work some flexibility when it is required to make changes to the nanoCAD DPS database object without redrawing. <br><br>  Now our item is ready for use in the project.  But it is not enough just to put the panel on the plan.  It is necessary to put down the marking and enter it into the specification.  These problems will be solved in the final third part of our publication. <br><br>  Alexey Tsvetkov, Tsvetkov@nanocad.ru <br><br>  <a href="http://habrahabr.ru/company/nanosoft/blog/89063/">Part three</a> </div><p>Source: <a href="https://habr.com/ru/post/88635/">https://habr.com/ru/post/88635/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../88628/index.html">RBS World Pay hackers arrested. Will extradite?</a></li>
<li><a href="../88629/index.html">Trove4j: high-performance collections</a></li>
<li><a href="../88632/index.html">How many hours a day do you sleep during the work week?</a></li>
<li><a href="../88633/index.html">Sandisk has released a 32 Gb microSDHC card</a></li>
<li><a href="../88634/index.html">Integrating Twig Template Engine into Symfony 1.4</a></li>
<li><a href="../88636/index.html">Billing and acts online</a></li>
<li><a href="../88637/index.html">#msk_tkts</a></li>
<li><a href="../88638/index.html">Bill Gates and Toshiba will work on a nuclear reactor</a></li>
<li><a href="../88639/index.html">Opera Mini Browser sent to Apple iPhone AppStore</a></li>
<li><a href="../88641/index.html">SMS fraud and Beeline</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>