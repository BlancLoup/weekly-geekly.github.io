<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to bypass the main difficulties in porting CAD applications to nanoCAD?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the end of October 2014, the 10th anniversary conference ‚ÄúSoftware Development, CEE-SECR-2014‚Äù was held in Moscow, where our report on the creation...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to bypass the main difficulties in porting CAD applications to nanoCAD?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/017/09a/e4b/01709ae4b5d4475982eab0d9fab9678e.png"><br><br>  At the end of October 2014, the 10th anniversary conference ‚ÄúSoftware Development, CEE-SECR-2014‚Äù was held in Moscow, where our report on the creation of cross-CAD software was presented.  The report consisted of a historical review, a story about the experience of porting CAD applications to nanoCAD and an analysis of the main difficulties in porting.  In this article we will not dwell on the first two parts of the report - the entry was published at the end of the article, and we will take a closer look at the third part, which was finalized as a result of the discussion of the report on the sidelines of the conference. <br><br>  When in 2008 we started developing nanoCAD, we already had more than two dozen AutoCAD applications.  Works on porting applications were conducted in parallel with the development of a new CAD system, the requirements of the applications largely determined the direction of development.  As a result of porting, applications have become cross-CAD-platform, have earned in nanoCAD and have not lost the opportunity to work in AutoCAD. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the process of porting our own applications, as well as in the process of communicating with developers of third-party applications within the nanoCAD Developers Club, we found several repetitive patterns that hinder effective porting: <br><a name="habracut"></a><br><ol><li>  Waiting for API to ‚Äúgrow‚Äù </li><li>  Unwillingness to use a workaround solution that works in all systems </li><li>  Use of side effects </li></ol><br><h3>  Template 1. Waiting for API to ‚Äúgrow‚Äù </h3><br>  Periodically, we are faced with the fact that after the first unsuccessful attempt to port an existing application, the developer disappears, at best, by writing: ‚ÄúI will wait until you finish the API‚Äù, without telling exactly what did not work out.  Fortunately, not everyone does this, and with each release of nanoCAD, we publish a <a href="http://forum.nanocad.ru/index.php%3Fshowforum%3D114">list of API improvements</a> requested by members of the nanoCAD Developers Club through the Club‚Äôs bug tracker. <br><br>  Our experience shows that all applications basically use the same API functions, but each application has its own specific needs.  This situation is shown schematically in the figure, where the central part is the commonly used API, and the ‚Äúpaths‚Äù are specific needs.  The diagram shows that the implementation of specific functions for one application in nanoCAD, as a rule, does not lead to the appearance of specific functions needed by another application. <br><br><img src="https://habrastorage.org/files/92a/200/dbf/92a200dbf9b14accbb3856f4b7f5aa57.png"><br><br>  From here it becomes clear why the ‚ÄúLet's wait until the API grows‚Äù approach does not work: if we do not know about the existence of a compatibility problem, it will not be fixed. <br><br><img src="https://habrastorage.org/files/0f9/209/d17/0f9209d171934b2ea97c264d5a8008ea.png"><br><br>  Solution: Sign up for <a href="http://developer.nanocad.ru/">the Developer Club</a> and create tasks for revision in the bugtracker. <br><br><h3>  Pattern 2. Unwillingness to use a workaround solution that works in all systems. </h3><br><img src="https://habrastorage.org/files/601/b1c/0d0/601b1c0d01f84585b56b9c2b2a233777.png"><br>  <a href="">Original image</a> <br><br>  Strictly speaking, this pattern is a special case of pattern 1, but it is so common that it makes sense to consider it separately. <br><br>  Often there is a workaround that works in all CAD platforms.  In this case, the request for refinement is likely to be postponed, since it is obvious that other problems with no workarounds have higher priority. <br><br>  Solution: Is there a workaround?  Use it! <br><br><h3>  Pattern 3. Using side effects </h3><br><img src="https://habrastorage.org/files/810/25e/f17/81025ef17db045449c191793a947e9ea.png"><br>  <a href="http://hiero.ru/2184958">Original image</a> <br><br>  Side effects in different CAD platforms are different. <br><br>  Abstract example: It is found that the print function can multiply numbers.  You should not use it for multiplication, in another platform this effect may not be. <br><br>  Life example: In ObjectARX, after closing an object using the pEntity-&gt; close () method, you can call some methods of an already closed pEntity object.  This is contrary to the ObjectARX documentation, but it works.  In nanoCAD, after calling pEntity () -&gt; close (), the object is destroyed and subsequent calls lead to a crash.  If the application is aligned with the documentation, it starts to work in both platforms. <br><br>  Solution: No side effects!  Use the functionality for its intended purpose. <br><br><h3>  findings </h3><br>  Small applications that use the commonly used part of the API can be ported to nanoCAD with minimal or no changes. <br><br>  Porting a complex application often requires both refinement of the missing functionality on the part of the platform, and making changes to the application.  These changes, as a rule, are refactoring and do not lead to loss of compatibility with AutoCAD.  As a result, the resulting application is built from the same source code for both nanoCAD and AutoCAD. <br><br>  The developer club bugtracker is a way to influence the development of the nanoCAD API.  The more developers will vote for a particular API function, the sooner it will be implemented. <br><br><h3>  Report recording and presentation </h3><br><iframe src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/111055691&amp;xid=17259,15700002,15700019,15700186,15700191,15700253&amp;usg=ALkJrhgrmc5ThbbU5MNV0BHo808e_DTG0A" width="560" height="315" frameborder="0" title="20141023BI Collect cannot be cloned. Cross platform CAD software" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br><br><div class="slideshow"><iframe src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.slideshare.net/slideshow/embed_code/41467249&amp;xid=17259,15700002,15700019,15700186,15700191,15700253&amp;usg=ALkJrhgT8wczoiFdBmvspdW95zV7WThDxg" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></div><br>  Link to the presentation: <a href="http://www.slideshare.net/islobodin/ceesecr2014-41467249">www.slideshare.net/islobodin/ceesecr2014-41467249</a> . <br><br>  You can also discuss the article on our <a href="http://forum.nanocad.ru/index.php%3Fshowforum%3D146">forum</a> . <br><br>  PS In addition to the last slide, we cannot but share a link to the article <a href="http://isicad.ru/ru/articles.php%3Farticle_num%3D17471">‚ÄúCAD in the USSR, or Kievnauchfilm Presents‚Äù</a> , which would have necessarily entered the presentation if it had been published before the report. </div><p>Source: <a href="https://habr.com/ru/post/248753/">https://habr.com/ru/post/248753/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248735/index.html">Defining voice mail when calling</a></li>
<li><a href="../248737/index.html">Horizontal websocket scaling in Ruby</a></li>
<li><a href="../248741/index.html">Data tidying: Preparing Data Sets for Case-Based Analysis</a></li>
<li><a href="../248745/index.html">Lectures Technopark. 1 semester Web technologies</a></li>
<li><a href="../248747/index.html">Testing with Microsoft tools - field experience</a></li>
<li><a href="../248755/index.html">GPU Particles using Compute and Geometry Shaders</a></li>
<li><a href="../248761/index.html">Browser-in-browser will make the site much safer.</a></li>
<li><a href="../248765/index.html">Microsoft has joined the Student Developer Pack and some other GitHub Education news.</a></li>
<li><a href="../248767/index.html">The digest of interesting materials for the mobile developer # 87 (on January 19-25)</a></li>
<li><a href="../248769/index.html">Wordpress</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>