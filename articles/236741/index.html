<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bookmarklet: Analysis of Essential Moments, Part Three, Backup</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In continuation of the two previous publications about the first initiating and second loading parts of the bookmarklet, for completeness, we will con...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bookmarklet: Analysis of Essential Moments, Part Three, Backup</h1><div class="post__text post__text-html js-mediator-article">  In continuation of the two previous publications about the <a href="http://habrahabr.ru/company/theonlypage/blog/234427/">first initiating</a> and <a href="http://habrahabr.ru/company/theonlypage/blog/236315/">second loading</a> parts of the bookmarklet, for completeness, we will consider the <i>third reserve</i> part of the bookmarklet. <br><br>  Recall, in short, the logic of the "tricked" bookmarklet: <br><ol><li>  By clicking on the link saved in the browser‚Äôs bookmarks, a small (up to 2000 characters) javscript code is called to be executed, the main task of which is to organize the loading of the javascript code of the bookmarklet performing the main work </li><li>  The main part of the bookmarklet after loading will do all the work. </li><li>  If the <i>main part of the</i> bookmarklet cannot be loaded, the main part of the work is performed by the <i>reserve part of the</i> bookmarklet, as a rule, in a reduced form. </li></ol><br><a name="habracut"></a><br>  For clarity, we will illustrate the material in question, referring to the work of the bookmarklet of the web service <a href="http://www.theonlypage.com/">TheOnlyPage</a> .  Detailed information on how to install this bookmarklet can be obtained in <a href="http://help.theonlypage.com/ru_bookmarklet.html">the web service help system</a> . <br><br>  The main part of useful information about the <i>backup part of the</i> bookmarklet was given in the publication about the <a href="http://habrahabr.ru/company/theonlypage/blog/234427/">first initiating part of the bookmarklet</a> , where it was indicated that: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1) The <i>reserve part of the</i> bookmarklet is put into operation in case of an error of loading the <i>loaded part of the</i> bookmarklet using the design <br><br><pre><code class="javascript hljs">script.addEventListener(<span class="hljs-string"><span class="hljs-string">'error'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   ‚Äì   //     ... // ... javscript-: script });</span></span></code> </pre> <br><br>  2) The function - the error handler performs 2 actions: <br><ul><li>  Defines parameters for transfer to the backup part of the bookmarklet. </li><li>  Causes the backup part of the bookmarklet. </li></ul><br><br>  For the user, the graphical interface of the <i>loadable</i> and <i>backup</i> versions of the bookmarklet can be made very similar. <br><br>  The form for <b>creating a bookmark, note, or html fragment</b> in the <i>loaded</i> version of <a href="http://www.theonlypage.com/">TheOnlyPage</a> bookmarklet looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/366/4f4/4c5/3664f44c5a9656b5f0db491570c2f5ef.png" alt="image"><br><br>  A similar form to <b>create a bookmark, note, or html fragment</b> in the <i>backup</i> version of the <a href="http://www.theonlypage.com/">TheOnlyPage</a> bookmarklet: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bcc/3de/538/bcc3de5381c95e6b046728cd87ff29a0.png" alt="image"><br><br>  As you can see almost the same.  <b>There are</b> <b>three differences</b> in the work with the graphical interface of the <i>downloadable</i> and <i>backup</i> parts of the bookmarklet: <br><br>  <b><i>The first difference</i></b> is that the graphical interface of the <i>loaded</i> part of the bookmarklet ‚Äúpops up‚Äù above the current document.  While the graphical interface of the <i>backup</i> part of the bookmarklet is displayed on a separate page that loads: <br><ol><li>  or instead of the current document being processed; </li><li>  either in a separate pop-up browser window; </li></ol><br>  in any case, the display of the <i>backup</i> option is less obvious as the user leaves the current processed page. <br><br>  <b><i>The second difference</i></b> is that the <i>downloadable part of the</i> booklet, since it receives data, being embedded in the current page, can process a large amount of data on the current web page.  <i>The backup version of the</i> bookmarklet only processes data that it receives in the address bar <sup>*</sup> .  What data can be transmitted and their number is limited to a maximum size of 2000 characters of the <i>initiating part of the</i> bookmarklet. <br><br>  For example, the <i>downloadable part of the</i> bookmarklet <a href="http://www.theonlypage.com/">TheOnlyPage</a> calculates the most "visible" visual element on the screen, which is impossible to accommodate 2000 characters and, accordingly, this feature is not available in the <i>backup part of the</i> bookmarklet. <br><br>  <b><i>The third difference</i></b> is that the <i>downloadable part of the</i> bookmark can receive data throughout the work with the current document, and the <i>backup version of the</i> bookmarklet receives all the data at the beginning of the work through the address line parameters <sup>*</sup> <br><br>  <b>The main points</b> regarding the <i>reserve part of the</i> bookmarklet were discussed in the publication about the <a href="http://habrahabr.ru/company/theonlypage/blog/234427/">first initiating part of the bookmarklet</a> . <br><br>  Here we can note another <b>important point</b> regarding the completion of work with the <i>backup part of the</i> bookmarklet.  This termination should return the user to the current web page whose data was being processed. <br><br>  So, when working with the bookmarklet of the web service <a href="http://www.theonlypage.com/">TheOnlyPage</a> , if you call the <i>backup version of the</i> bookmarklet and then press the <b>Create</b> buttons to create a bookmark, note or html fragment or <b>Cancel</b> to finish the bookmarklet without saving the results, you end up working with the bookmarklet. <br><br>  At the same time, instead of the page of the <i>backup version of the</i> bookmarklet, the current page with which we worked is loaded into the current browser window, which can be implemented with the following javascript code: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// url -    - window.location.replace(url);</span></span></code> </pre><br>  Of course, in order to return to the current web page in the <i>backup part of the</i> bookmarklet, the address of this page must be among other parameters <i>of the</i> bookmarklet <i>backup part</i> transmitted. <br><br><hr><br>  <sup>*</sup> Read more about the transfer of parameters from the <b>current document</b> to the <i>backup part of the</i> bookmarklet in the publication about the <a href="http://habrahabr.ru/company/theonlypage/blog/234427/">first initiating part of the bookmarklet.</a> </div><p>Source: <a href="https://habr.com/ru/post/236741/">https://habr.com/ru/post/236741/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../236729/index.html">Google will give students the opportunity to work for free with a Chromebook for 4 days</a></li>
<li><a href="../236731/index.html">In Hamburg, presented drone to deliver goods by sea: a robotic barge with an electric motor</a></li>
<li><a href="../236733/index.html">"If it has already managed" or "what should be a Pop-up"</a></li>
<li><a href="../236737/index.html">The digest of interesting materials for mobile developer # 70 (September 8-14)</a></li>
<li><a href="../236739/index.html">What do you use for IM on smartphones?</a></li>
<li><a href="../236743/index.html">Development and debugging of UEFI-drivers on Intel Galileo, part one, introductory</a></li>
<li><a href="../236745/index.html">MugenMvvmToolkit - cross-platform MVVM framework</a></li>
<li><a href="../236747/index.html">Thoughts on the virtual-real game (survey)</a></li>
<li><a href="../236749/index.html">The Hive: A Little War, A Deep Strategy, A Strange GameDev</a></li>
<li><a href="../236753/index.html">Flask Mega-Tutorial, Part 13: Date and Time</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>