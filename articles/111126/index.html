<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WPF animations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 Greetings to you, dear habrayuzer! Today I want to tell you about animation in WPF. About her, of course, wrote earlier on Habr√©, but I wil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WPF animations</h1><div class="post__text post__text-html js-mediator-article"><h4>  Foreword </h4><br>  Greetings to you, dear habrayuzer!  Today I want to tell you about animation in WPF.  About her, of course, wrote earlier on Habr√©, but I will try to tell you more.  My post will rather be more theoretical, however, I hope you will benefit from it. <br>  Animation in WPF is different from everything you've seen before with its clarity and simplicity.  Previously, you had to manually redraw the scene by timer, of course, writing a fairly large amount of code.  Now you can create an animation in a XAML file without writing a single line of C # code (or any other .Net language).  Of course, there was an opportunity to create an animation in the code, but we'll talk about it later.  Animation in WPF does not redraw an element, but changes its properties at regular intervals (by default, about 60 times per second, unless you change it in Storyboard).  This allows it to remain itself, for example, if you animate a button, then during the animation it will remain a ‚Äúbutton‚Äù, i.e.  you can click on it and make various manipulations on it. <br><br>  A lot of code, examples and images under the cut ... <br><a name="habracut"></a><br><br><h4>  Architecture </h4><br>  All animations in WPF are in the <u>System.Windows.Media.Animation namespace</u> .  All animation classes start with an animated type name, for example <b>DoubleAnimation</b> animates <b>Double</b> properties. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Animations are divided into three categories: <br>  1. Animations using linear interpolation ( <b><i>Property Type</i> Animation</b> ) <br>  2. Animations using keyframes ( <b><i>Property</i> Type UsingKeyFrames</b> ) <br>  3. Animations using the path ( <b><i>Type</i> UsingPath Properties</b> ) <br><br>  All animations are inherited from <b><i>Type Property</i> AnimationBase</b> .  In this namespace, there are animation classes for most BCL types. <br>  First, let's look at the simplest animation in XAML: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Button</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Button.Triggers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">EventTrigger</font> <font color="#ff0000">RoutedEvent</font> <font color="#0000ff">="Button.Click"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">BeginStoryboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Storyboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ThicknessAnimation</font> <br> <font color="#ff0000">From</font> <font color="#0000ff">="0"</font> <br> <font color="#ff0000">To</font> <font color="#0000ff">="200"</font> <br> <font color="#ff0000">Duration</font> <font color="#0000ff">="0:0:5"</font> <br> <font color="#ff0000">Storyboard</font> . <font color="#ff0000">TargetProperty</font> <br> <font color="#0000ff">="Margin"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Storyboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">BeginStoryboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">EventTrigger</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Button.Triggers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Button</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Consider each class in more detail: <br>  ‚Ä¢ ThicknessAnimation - the animation itself. <br>  ‚Ä¢ Storyboard - ‚Äútimeline‚Äù.  We will talk about it later. <br>  ‚Ä¢ BeginStoryboard - ‚Äúwrapper‚Äù for Storyboard, which starts the animation. <br>  ‚Ä¢ EventTrigger - event trigger. <br><br>  After pressing the button, we see that it has decreased: <br><img src="https://habrastorage.org/storage/habraeffect/34/f7/34f7492b20f826c7e35062e4ea41f7ca.png"><br>  Left before pressing, right after. <br><br>  <a href="http://samples.msdn.microsoft.com/Silverlight/SampleBrowser/index.htm">Similar example on MSDN.</a>  The object tag, unfortunately, habraparser does not skip. <br><br>  Animation can also be run when the dependency property changes: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Button</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Button.Style</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Style</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Style.Triggers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Trigger</font> <font color="#ff0000">Property</font> <font color="#0000ff">="Button.IsPressed"</font> <br> <font color="#ff0000">Value</font> <font color="#0000ff">="True"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Trigger.EnterActions</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">BeginStoryboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Storyboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ThicknessAnimation</font> <br> <font color="#ff0000">From</font> <font color="#0000ff">="0"</font> <font color="#ff0000">To</font> <font color="#0000ff">="200"</font> <br> <font color="#ff0000">Duration</font> <font color="#0000ff">="0:0:5"</font> <br> <font color="#ff0000">Storyboard</font> . <font color="#ff0000">TargetProperty</font> <br> <font color="#0000ff">="Margin"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Storyboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">BeginStoryboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Trigger.EnterActions</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Trigger</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Style.Triggers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Style</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Button.Style</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Button</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  However, in this case, it will give the same result. <br><br><h4>  More fine tuning </h4><br><h5>  Storyboard.TargetProperty Property </h5><br>  This attachment property sets the target property for the animation.  In this case, we apply the animation to the <b>Margin</b> property. <br><br><h5>  Storyboard.TargetName property </h5><br>  This attachment property sets the name of the target element within the scope of XAML.  Used if we want to apply animation to another element in XAML. <br><br><h5>  Storyboard.Target property </h5><br>  This attachment property specifies the target element to which we want to apply the animation.  Usually used when creating animations in code.  <a href="http://samples.msdn.microsoft.com/Silverlight/SampleBrowser/index.htm">An example on MSDN.</a> <br><br><h5>  Property From </h5><br>  This property sets the initial value, i.e.  this value will be used at the start.  However, this property can be omitted, and then the current value will be used as the initial value.  This allows, without waiting for the end of one animation, to launch another, and at the same time there will be no ‚Äújerk‚Äù.  If you are animating the <b>Width</b> and <b>Height</b> properties, then check that the property value is not equal to <b>Double.NaN</b> . <br><br><h5>  To property </h5><br>  This property sets the final value.  It can also be omitted, and the value that the property took before the animations will be used.  For example, you can make an extension animation when you hover the cursor on a button, and when you leave the cursor, make an animation without the To property, then when you leave, the button will ‚Äúnarrow‚Äù to its original size. <br><br><h5>  By property </h5><br>  This property sets the value by which the final property changes.  Simply put, when assigning a value to the <b>By</b> property, the <b>To</b> property takes the value <b>From</b> + <b>By</b> .  This is done to facilitate the use of animations in XAML. <br><br>  The By property is not implemented by all classes.  Basically, this property is present in numerical animations. <br><br><h5>  IsAdditive property </h5><br>  This property allows you to make the values <b>From</b> and <b>To</b> relative.  Roughly speaking, if this property has the value True, then the initial value will be equal to the ‚Äúcurrent value + <b>From</b> ‚Äù, and the final value to the ‚Äúcurrent value + <b>To</b> ‚Äù. <br><br><h5>  Duration property </h5><br>  This property sets the duration of the animation.  Note - the type of this property is not <b>TimeSpan</b> , but <b>Duration</b> .  Why does it take time then?  Because there is an implicit cast to <b>TimeSpan</b> .  ‚ÄúBut then why do we need <b>Duration</b> ?‚Äù You say.  Then, that Duration can also be set to <b>Duration.Automatic</b> (equivalent to 1 second) and <b>Duration.Forever</b> (the animation does nothing). <br><br><h5>  BeginTime property </h5><br>  This property sets the delay before the animation starts.  I think everything is obvious here.  <a href="http://samples.msdn.microsoft.com/Silverlight/SampleBrowser/index.htm">An example on MSDN.</a> <br><br><h5>  SpeedRatio property </h5><br>  This property sets the speed of the animation.  Its initial value is 1D.  When it increases, the speed will increase accordingly, and when it decreases, slow down.  For example, if this property is assigned to 2D, then the speed will double. <br><br><h5>  AccelerationRatio and DecelerationRatio properties </h5><br>  These properties set the acceleration or deceleration time.  Its value is indicated as a percentage.  For example, if the <b>AccelerationRatio</b> property is set to 0.5, then half of its time the animation will accelerate.  Or if you assign <b>AccelerationRatio</b> and <b>DecelerationRatio</b> 0.25 to the properties, with a total duration of 4 seconds, then everything will happen like this: <br>  1. Acceleration of animation for 1 second <br>  2. Constant speed for 2 seconds <br>  3. Slow down animation for 1 second <br><br>  The value of these properties cannot be greater than 1 or less than 0. <br><br><h5>  AutoReverse property </h5><br>  If this property is True, then at the end of the animation it will be restarted in the opposite direction.  Those.  if the button is increased, it will decrease. <br><br>  BeginTime is applied only at the very beginning of the animation, in the opposite direction there will be no delay. <br><br><h4>  Types of animations </h4><br>  Now consider each view in more detail: <br><br><h5>  Linear animation </h5><br>  Everything is simple here - it animates a property from one value to another, using the linear interpolation function.  Everything we considered earlier was linear animation. <br><br><h5>  Animation using keyframes </h5><br>  This animation animates the property by keyframes.  If you dealt with 3D animation, then you will understand me. <br>  Animation of keyframes is similar to regular animation, with only one condition - the final values ‚Äã‚Äãcan be greater than 1. <br>  Consider this XAML snippet: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Border</font> <font color="#ff0000">Background</font> <font color="#0000ff">="White"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Border.Triggers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">EventTrigger</font> <font color="#ff0000">RoutedEvent</font> <font color="#0000ff">="Border.MouseDown"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">EventTrigger.Actions</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">BeginStoryboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Storyboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ColorAnimationUsingKeyFrames</font> <br> <font color="#ff0000">Storyboard</font> . <font color="#ff0000">TargetProperty</font> <br> <font color="#0000ff">="(Border.Background). <br> (SolidColorBrush.Color)"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">LinearColorKeyFrame</font> <br> <font color="#ff0000">KeyTime</font> <font color="#0000ff">="0:0:2"</font> <br> <font color="#ff0000">Value</font> <font color="#0000ff">="Blue"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">LinearColorKeyFrame</font> <br> <font color="#ff0000">KeyTime</font> <font color="#0000ff">="0:0:4"</font> <br> <font color="#ff0000">Value</font> <font color="#0000ff">="Red"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">LinearColorKeyFrame</font> <br> <font color="#ff0000">KeyTime</font> <font color="#0000ff">="0:0:6"</font> <br> <font color="#ff0000">Value</font> <font color="#0000ff">="Green"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ColorAnimationUsingKeyFrames</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Storyboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">BeginStoryboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">EventTrigger.Actions</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">EventTrigger</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Border.Triggers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Border</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  <b>ColorAnimationUsingKeyFrames</b> - color animation using keyframes. <br>  <b>LinearColorKeyFrame</b> - keyframes of color animation with interpolation. <br>  We have 3 keys.  Now let's imagine the animation itself, so to say ‚Äúframe it‚Äù :): <br><img src="https://habrastorage.org/storage/habraeffect/28/a5/28a5f4b31002c63fc78a73de82d0542f.png" alt="image"><br><br>  There are four types of key frames: <br>  1. <b>Linear KeyFrame <i>Property Type</i></b> - a keyframe using linear interpolation. <br>  2. <b>Discrete <i>Type The</i> KeyFrame <i>property</i></b> is a keyframe without interpolation.  Used when you need to drastically change the value of a property.  The only kind of keyframes for <b>ObjectAnimationUsingKeyFrames</b> . <br>  3. <b>Spline KeyFrame <i>Property Type</i></b> - keyframe with interpolation along a Bezier curve.  The points of the curve are set by the KeySpline property.  The rest is similar to <b>LinearKeyFrame</b> (type <b>omitted</b> for simplicity). <br>  4. <b>Easing the KeyFrame Property <i>Type</i></b> is similar to <b>LinearKeyFrame</b> , it only allows using the smoothness function.  The <b>EasingFunction</b> property accepts an object of type <b>EasingFunctionBase</b> , which is a function of smoothness.  See all available smoothness features here.  <a href="http://samples.msdn.microsoft.com/Silverlight/SampleBrowser/index.htm">Gallery of smoothness features on MSDN.</a> <br><br>  Each keyframe has two properties: <br>  ‚Ä¢ <b>KeyTime</b> - sets the time when the property will take the target value. <br>  ‚Ä¢ <b>Value</b> - target value of the frame.  Depends on the type of animation. <br><br><h5>  Path Based Animation </h5><br>  Path-based animation uses the <b>PathGeometry</b> object to set the value. <br>  Let's take a closer look at this XAML snippet: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">PathGeometry</font> <font color="#ff0000">x:Key</font> <font color="#0000ff">="path"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">PathFigure</font> <font color="#ff0000">IsClosed</font> <font color="#0000ff">="True"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ArcSegment</font> <font color="#ff0000">Point</font> <font color="#0000ff">="1,0"</font> <br> <font color="#ff0000">Size</font> <font color="#0000ff">="50,25"</font> <br> <font color="#ff0000">IsLargeArc</font> <font color="#0000ff">="True"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">PathFigure</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">PathGeometry</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Storyboard</font> <font color="#ff0000">x:Key</font> <font color="#0000ff">="storyboard"</font> <br> <font color="#ff0000">Storyboard</font> . <font color="#ff0000">TargetName</font> <font color="#0000ff">="rect"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">DoubleAnimationUsingPath</font> <br> <font color="#ff0000">Storyboard</font> . <font color="#ff0000">TargetProperty</font> <font color="#0000ff">="(Canvas.Left)"</font> <br> <font color="#ff0000">PathGeometry</font> <font color="#0000ff">="{StaticResource path}"</font> <br> <font color="#ff0000">Source</font> <font color="#0000ff">="X"</font> <font color="#ff0000">Duration</font> <font color="#0000ff">="0:0:5"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">DoubleAnimationUsingPath</font> <br> <font color="#ff0000">Storyboard</font> . <font color="#ff0000">TargetProperty</font> <font color="#0000ff">="(Canvas.Top)"</font> <br> <font color="#ff0000">PathGeometry</font> <font color="#0000ff">="{StaticResource path}"</font> <br> <font color="#ff0000">Source</font> <font color="#0000ff">="Y"</font> <font color="#ff0000">Duration</font> <font color="#0000ff">="0:0:5"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Storyboard</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Canvas</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Path</font> <font color="#ff0000">Data</font> <font color="#0000ff">="{StaticResource path}"</font> <br> <font color="#ff0000">StrokeThickness</font> <font color="#0000ff">="2"</font> <font color="#ff0000">Stroke</font> <font color="#0000ff">="Black"</font> <br> <font color="#ff0000">Canvas</font> . <font color="#ff0000">Left</font> <font color="#0000ff">="50"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Rectangle</font> <font color="#ff0000">x:Name</font> <font color="#0000ff">="rect"</font> <font color="#ff0000">Stroke</font> <font color="#0000ff">="Black"</font> <br> <font color="#ff0000">StrokeThickness</font> <font color="#0000ff">="2"</font> <font color="#ff0000">Width</font> <font color="#0000ff">="10"</font> <br> <font color="#ff0000">Height</font> <font color="#0000ff">="10"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Rectangle.RenderTransform</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">TranslateTransform</font> <font color="#ff0000">X</font> <font color="#0000ff">="45"</font> <font color="#ff0000">Y</font> <font color="#0000ff">="-5"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Rectangle.RenderTransform</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Rectangle</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Canvas</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  All the same, only path based animation is used.  The <b>PathGeometry</b> property sets the <b>PathGeometry</b> object containing the path geometry.  The <b>Source</b> property sets its output value, such as the X or Y coordinate. <br><img src="https://habrastorage.org/storage/habraeffect/95/67/956730d4c186eb8b4f9e270ecf4024f3.png"><br>  Final result <br><br>  <a href="http://samples.msdn.microsoft.com/Silverlight/SampleBrowser/index.htm">An example on MSDN.</a>  An example, of course, is about managing animation playback, but this is the only example I found that uses path-based animation. <br><br><h4>  Storyboard - what kind of beast is this? </h4><br>  You have already noticed that I often use <b>Storyboard</b> .  I think it was obvious to you that this is not an animation.  This class allows you to group multiple animations (because it is inherited from the <b>TimelineGroup</b> ).  We can say that this is a container for animations.  It is very convenient in that it allows you to manage them all at once, i.e.  using for example the <b>Begin ()</b> method, run 10 animations at once.  Of course, for single animations it is not necessary at all.  However, as I wrote above, the <b>BeginStoryboard.Storyboard</b> property is of type <b>Storyboard</b> , so to use it you need to ‚Äúwrap‚Äù the animation. <br><br><h4>  Creating animation in code </h4><br>  Everything is simple here, if you understand XAML.  If you want to apply an animation to a single element, it is enough to create it and call the <b>BeginAnimation ()</b> method on the final element. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ThicknessAnimation(); animation.From = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thickness(<span class="hljs-number"><span class="hljs-number">20</span></span>); animation.To = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thickness(<span class="hljs-number"><span class="hljs-number">100</span></span>); animation.Duration = TimeSpan.FromSeconds(<span class="hljs-number"><span class="hljs-number">5</span></span>); button.BeginAnimation(MarginProperty, animation);</code> </pre> <br><br>  You can also manually set the target element and property for the animation using the attached <b>Storyboard.Target</b> and <b>Storyboard.TargetProperty</b> properties I wrote about above. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animation1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ThicknessAnimation(); animation1.From = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thickness(<span class="hljs-number"><span class="hljs-number">5</span></span>); animation1.To = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thickness(<span class="hljs-number"><span class="hljs-number">25</span></span>); animation1.Duration = TimeSpan.FromSeconds(<span class="hljs-number"><span class="hljs-number">5</span></span>); Storyboard.SetTarget(animation1, button1); Storyboard.SetTargetProperty(animation1, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PropertyPath(MarginProperty)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animation2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ThicknessAnimation(); animation2.From = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thickness(<span class="hljs-number"><span class="hljs-number">5</span></span>); animation2.To = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thickness(<span class="hljs-number"><span class="hljs-number">25</span></span>); animation2.Duration = TimeSpan.FromSeconds(<span class="hljs-number"><span class="hljs-number">5</span></span>); Storyboard.SetTarget(animation2, button2); Storyboard.SetTargetProperty(animation2, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PropertyPath(MarginProperty)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> storyboard = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Storyboard(); storyboard.Children = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TimelineCollection {animation1, animation2}; storyboard.Begin();</code> </pre> <br><br>  PS Taking advantage of the moment, I want to congratulate you on the past New Year! <br>  PSS Markup code is ‚Äúcompressed‚Äù to improve readability on mobile devices (I often read the Habra myself from my WP7). </div><p>Source: <a href="https://habr.com/ru/post/111126/">https://habr.com/ru/post/111126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111120/index.html">10 years of practice. Part 1: building a program</a></li>
<li><a href="../111121/index.html">PPA for LibreOffice</a></li>
<li><a href="../111122/index.html">BitTorrent users become more than 100 million people</a></li>
<li><a href="../111124/index.html">Growing programs</a></li>
<li><a href="../111125/index.html">Thoughts on OOP</a></li>
<li><a href="../111127/index.html">The most popular non-standard topic for Chrome now and in Google Mail</a></li>
<li><a href="../111129/index.html">New Year's silicon</a></li>
<li><a href="../111130/index.html">Aspect-oriented programming. Postsharp</a></li>
<li><a href="../111131/index.html">CGI programming in assembler?!? - Easy!</a></li>
<li><a href="../111134/index.html">An example of using DSL (Domain Specific Languages) in a real project</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>