<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Phase AC load control with FLProg</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A free day was issued and I finally decided to try out the high-speed counter unit in the delay line mode. This mode was created mainly for the implem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Phase AC load control with FLProg</h1><div class="post__text post__text-html js-mediator-article">  A free day was issued and I finally decided to try out the high-speed counter unit in the delay line mode.  This mode was created mainly for the implementation of phase load control, but so far I have not had time to roll it in real use.  I think it's time. <br>  I made the block binding according to this scheme: <br><img src="https://habrastorage.org/files/98a/e3a/284/98ae3a2844ad438fb724c12fd981ef90.PNG"><br><a name="habracut"></a><br>  On the PC814 optocoupler assembled zero detector.  Since the block operates on interrupts, only the controller inputs to which hardware interrupts bind can serve as the input of the zero detector.  In the case of UNO, these are inputs D2 and D3. <br>  On optosimistor MOC3023 assembled triac control unit.  To control this unit, you can select any free digital output of the controller. <br>  Project outline <br><img src="https://habrastorage.org/files/ea2/3f3/f63/ea23f3f6341245cd883b191cdd29946b.PNG"><br><br>  Res - Analog input.  At the input is a variable resistor. <br>  SCT2 block - Speed ‚Äã‚Äãcounter block.  (Element library -&gt; Counters -&gt; SpeedCounter) <br><br><div class="spoiler">  <b class="spoiler_title">Block settings:</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/e76/25f/f63/e7625ff638144acfb53d2e92849c756c.PNG"><br><img src="https://habrastorage.org/files/1a3/28b/dd1/1a328bdd17444dceab0a24ef7c771064.PNG"><br><img src="https://habrastorage.org/files/593/885/df1/593885df1a8e437d86bc1d0dab7c9dbb.PNG"><br><img src="https://habrastorage.org/files/000/748/572/000748572b8e40e9a5436a57d11b883f.PNG"><br><img src="https://habrastorage.org/files/623/c66/a09/623c66a09e65462c8985941cee5cc594.PNG"><br></div></div><br>  Since all optocouplers are different - it is necessary to configure the Scale unit.  To do this, we are currently modernizing the project. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/faa/416/ba9/faa416ba98b04e8abfc3d639746e9377.PNG"><br><br>  Now the value of the delay once a second will be displayed in Com-port.  What is it for?  Since the leading edge of the pulse from the zero detector comes a little before the true moment of the sine wave transition through 0 (at the moment when the optocoupler LED goes out), we need to determine this time to set it as 100% of the power at the load.  Here are the settings for the Scale block. <br><img src="https://habrastorage.org/files/875/f11/a3c/875f11a3c6904d26be160bad998d1053.PNG"><br><br>  Fill the program into the controller and launch the monitor of the comport.  When the variable resistor is rotated, the lamp will either light or flicker. That's how it looks. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/421R7gUSLWo%3Ffeature%3Doembed&amp;xid=17259,15700002,15700023,15700186,15700191,15700253&amp;usg=ALkJrhjwSX_9Q7_mXcQSqMKh_q66ff9THA" frameborder="0" allowfullscreen=""></iframe><br>  We achieve uniform maximum burning.  The value obtained through the comport write.  This value will be entered in the field "Lower limit of output value" Scale.  Now we will rebuild the second border.  Change the values ‚Äã‚Äãin the Scale block again. <br><img src="https://habrastorage.org/files/ec4/070/dad/ec4070dada4841df9c8bc69780f4fc55.PNG"><br>  The duration of the half-cycle mains voltage is 10,000 microseconds.  But we have a pulse shifted 1102 microseconds earlier.  Accordingly, in order to establish a full power zero, the maximum delay should be increased by as much.  You can of course just put 11102, but it's better to check.  Fill the program into the controller and launch the monitor of the comport.  We achieve the moment of transition from flickering burning to full extinction.  We write the value from the comport.  Here's what it looks like. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/KWBauN1tELE%3Ffeature%3Doembed&amp;xid=17259,15700002,15700023,15700186,15700191,15700253&amp;usg=ALkJrhgWCOuMmvD-BnEaVt8JwFe_RoXpmg" frameborder="0" allowfullscreen=""></iframe><br>  Well, now you can use the obtained values.  Fill the block Scale <br><img src="https://habrastorage.org/files/8e3/6b6/f59/8e36b6f5936f4b6aa73ba258a9a13252.PNG"><br>  Well, that's what happened <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/QgtuHO-vt14%3Ffeature%3Doembed&amp;xid=17259,15700002,15700023,15700186,15700191,15700253&amp;usg=ALkJrhjm6ijAsnyCIWNhIKVxo4s5o6dMMg" frameborder="0" allowfullscreen=""></iframe><br><br>  Now it is possible to remove the generator and data transmission blocks of the comport, and to supply the Scale input the required regulating value.  Pay attention to the field ‚ÄúUpper limit of input value‚Äù of the Scale block, you must enter the value of the regulating value corresponding to 0 power at the load, and in the field ‚ÄúLower limit of the input value‚Äù value corresponding to 100% of the power. </div><p>Source: <a href="https://habr.com/ru/post/253067/">https://habr.com/ru/post/253067/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253047/index.html">Perl 6 / Rakudo Sequences</a></li>
<li><a href="../253049/index.html">Two points</a></li>
<li><a href="../253051/index.html">Creating objects inherited from null on Node.js</a></li>
<li><a href="../253053/index.html">Computer graphics, online course</a></li>
<li><a href="../253063/index.html">Our experience using AWS at launch</a></li>
<li><a href="../253069/index.html">Old school, hardcore, AY-3-8912. "Iron" chiptune with sequential input</a></li>
<li><a href="../253073/index.html">Protection from listening to conversations - we build secure SIP telephony with our own hands</a></li>
<li><a href="../253075/index.html">Goodbye MongoDB Hello PostgreSQL</a></li>
<li><a href="../253077/index.html">Metaperators X and Z in Perl 6</a></li>
<li><a href="../253079/index.html">Create a fully automatic farm.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>