<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unconfirmed transaction, or return cryptocurrency from non-existence</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="By the will of fate, I happened to deal with cryptocurrencies. Not that I work closely with them, but sometimes I send coins and get them. Let's just ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unconfirmed transaction, or return cryptocurrency from non-existence</h1><div class="post__text post__text-html js-mediator-article">  By the will of fate, I happened to deal with cryptocurrencies.  Not that I work closely with them, but sometimes I send coins and get them.  Let's just say, gradually probing a new sphere from the inside. <br><br>  Then one day misfortune happened.  I sent the kryptomonetki, and they did not reach the recipient.  Actually, a post about how the funds returned.  Well, reflections and tips on the current situation for dessert.  Immediately, I note that the following does not apply to any particular currency, but to most forks (if not all). <a name="habracut"></a><br><br>  To begin with, the post is riddled with guesses about what is happening.  Somewhere I might be wrong.  Objective corrections and additions are welcome. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A little about the terminology. <br><ul><li>  I will call the wallet file wallet.dat. </li><li>  The public key (the address to which funds are transferred, for example) is sometimes more convenient to call the wallet, but, in order to avoid confusion, let it be just an account number. </li><li>  Commission - Transaction Fee.  I think that it‚Äôs not quite correct to call this thing a commission, but this is the most familiar and non-hearing option, so let it be a commission. </li><li>  Transaction size - the size of the data block, which contains all the information about the transaction. </li></ul><br>  I initially approached this cryptocurrency kitchen as a typical user - without really delving into the system.  Installed, launched, works - and all right.  Sometimes when trying to send funds somewhere, a client would give a message like ‚Äú <i>The transaction size is too large, you can‚Äôt just take it and send it.</i>  <i>But you can add a commission in the amount of N, and then everything will be fine</i> ‚Äù- I agreed with the addition of the commission, and everything was really good. <br><br>  It would seem that if I am asked to pay extra when it is needed, then I will pay when asked (if the commission will arrange).  This was the main mistake. <br><br>  I make another transfer for an amount much larger than usual.  The funds go off the account, there were no offers to pay the commission and ... Nothing.  The funds are not received by the beneficiary, the transaction status is ‚Äú0 / Not confirmed‚Äù.  And I observed such a picture for more than a week, passing along the way and re-reading the Internet in search of information on solving a similar problem.  And I looked for a specific cryptocurrency, and in general for all - a lot of problems, there is no solution. <br><br>  And, actually, what is this commission?  The idea is that transactions can take place without commission, but only if certain conditions are met: <br><ul><li>  The size of the transaction must not exceed a certain value. </li><li>  The transferred amount must be greater than a certain threshold. </li><li>  The transaction must have sufficient priority. </li></ul><br>  If the first two points are more or less clear (I didn‚Äôt give specific values, I suppose they can vary from fork to fork), then in the third one there is a snag.  Roughly speaking, when creating a transaction enters the queue, sorted by priority.  When generating the next block, it includes transactions with a commission (which is a reward to the one who found the block), as well as transactions without a commission with the highest priority. <br><br>  The priority itself directly depends on the amount of funds transferred and on the number of their confirmations (the longer this money was in your account, the greater should be the priority, in fact) and vice versa depends on the size of the transaction.  Thus, in the case of an unsuccessful set of circumstances, a transaction without a commission can be in a frozen unconfirmed state, which I encountered. <br><br>  The search for a solution showed that this is a relatively frequent problem for cryptocurrencies.  Unfortunately, all the tips were reduced to the following and often did not help: <br><ul><li>  Wait a day or two, your transaction will be included in the next block. </li><li>  Wait a day or two, the client program will get tired of waiting, and she herself will cancel the transaction. </li><li>  Download the entire block chain again. </li><li>  Run the client with some magic key (-rescan / -reindex / -salvagewallet). </li></ul><br>  I waited more than a week.  No transaction was included in any block.  Even after repeated shipments via sendrawtransaction.  The blockchain said that he knew nothing about that transaction, and those funds were on the bill, they had not gone anywhere.  And only the client stood his ground: ‚ÄúI sent the transaction, then as you wish.  I will not allow to dispose of the money already spent. ‚Äù <br><br>  So what is the essence of the problem?  The transaction did not fall into the block and no longer falls.  The purse stores information that the transaction was in general, therefore, the funds that should have been sent with it are not available for use.  Perhaps, after some time, the transaction will be canceled, on this account I have several assumptions: <br><ul><li>  Depends on the currency, somewhere quickly canceled, somewhere you need to wait a long time. </li><li>  Bug specific client. </li><li>  Cancellation information is incorrect. </li></ul><br>  In any case, a week is quite a long time.  If during this time did not pass by itself, then there is reason to believe that it will not pass. <br><br>  As a normal person, after everything had already broken, I finally went to read manuals.  Attempting to repeat the transaction with the inclusion of the commission has failed.  But endless jumps on the links between the forums (there was nothing worthwhile in issuing Google) brought me to a certain post, where a practical hint was found.  Unfortunately, now I can‚Äôt find this post, I don‚Äôt even know what the forum was.  I guess some okolobitkunovy. <br><br>  The solution will be described by the example of the client most common for forks, known as the Satoshi Client.  As far as I understand, it is applicable to other clients, but, perhaps, with its own nuances. <br><br>  Despite the simplicity and obviousness of the decision, very few people come to it, judging by the multipage branches of the forums.  Funds in the account are blocked by the wallet, and all that is required is to access the account outside the current wallet. <br><br>  So, if the transaction is frozen and has no confirmation: <br><ol><li>  Be patient.  Do not immediately raise a panic.  Wait a couple of days, and suddenly the truth itself will pass. </li><li>  Make sure the transaction is frozen.  Go to Block Explorer (usually googled by the query ‚Äúblockchain% namecryptocurrency%‚Äù) and check that they know nothing about the frozen transaction, but there is actually money in the account. </li><li>  Go to the debug console (Help - Debug Window - Console) </li><li>  If the wallet is encrypted (is it encrypted?), Then you first need to get access using the <i>walletpassphrase &lt;passphrase&gt;</i> command. </li><li>  Now you need to get a private key from the desired account.  <i>dumpprivkey &lt;address&gt;</i> .  Instead of &lt;address&gt;, you need to substitute the public account number on which the blocked funds lie.  In response, get the private key of the account.  It needs to be copied somewhere, it is still needed.  If funds for a transaction were taken from several accounts, then you need to import them all.  And yes, never keep private keys in a place accessible to anyone.  Knowing the key gives you full access to the corresponding account. <br>  Also note that each command in the debugging console is answered.  It may be empty, but it is always there.  Later it will be clear what I mean. </li><li>  Close the client and delete the wallet.  The location of the wallet (wallet.dat) depends on the specific client and OS.  Naturally, you shouldn‚Äôt delete it completely, it is better to rename or move it to a safe place. </li><li>  Start the client again.  A new wallet will be created.  It is necessary to import the previously obtained key (s) into it.  Go to the debug console and write <i>importprivkey &lt;privkey&gt;</i> .  Imports can be made long enough.  Allow it to complete - wait for the response to the command. </li><li>  In the new wallet there should be an account with its real state.  For reliability, you can restart the client with the -rescan key, but I guess this is already superfluous.  Previously blocked funds are again available for sending, send them again, this time do not forget to include the commission.  ( <i>there are important additions to this item in upd3</i> ) </li><li>  If other used and important accounts remain on the old wallet, you can return to it again. </li></ol><br>  In such a simple way, it was possible to return cryptomonettes.  Although I already began to think that they are completely lost.  In general, do not expect a miracle, before using a new client, make sure that the commission is always included.  The recommended commission size, I think, is better to look for on resources dedicated to the cryptocurrency used. <br><br>  <b>Upd: The</b> need for the described operation depends on the client used (and since many cryptocurrencies have one client, it depends on the currencies used).  It seems that in some cases the transaction information is not written to the wallet file, but only to the local block chain.  In this situation, deleting an existing chain or launching a client with keys can help. <br><br>  <b>Upd2: To</b> significantly simplify the described process of transferring accounts to a new wallet, use the -salwagewallet switch, already mentioned earlier.  When you start a client with this key, a new wallet.dat is created, into which all accounts from the old one are imported, and the transaction history for it is taken from the chain of blocks (thanks for the description thanks to <a href="http://habrahabr.ru/users/grich/" class="user_link">grich</a> ).  Unfortunately, the launch with this key is not implemented in all clients. <br><br>  <b>Upd3:</b> If, after importing, you don‚Äôt transfer the entire amount on the account, then a part of the funds (change from the used outlets) will be transferred to another account of the new wallet.  Keep this in mind if you plan to return to your old wallet: <br><ul><li>  Having imported the account into a new wallet, transfer all funds from it to another account, return to the old wallet and then dispose of the returned funds. </li><li>  After completing the transaction from the new wallet, determine to which account the change fell, and import this account into the old wallet. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/209778/">https://habr.com/ru/post/209778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209758/index.html">Scaling is simple. Part Three - Strategies</a></li>
<li><a href="../209768/index.html">Steve Wozniak: Actually, the film was basically a lie about me.</a></li>
<li><a href="../209772/index.html">China introduced its own national operating system</a></li>
<li><a href="../209774/index.html">The interplanetary probe "Rosette", aimed at the study of the comet 67P / CG Churyumov-Gerasimenko, came out of hibernation after 2.5 years</a></li>
<li><a href="../209776/index.html">The brain processes images in 13 milliseconds.</a></li>
<li><a href="../209780/index.html">jQuery Events from the inside</a></li>
<li><a href="../209782/index.html">Attracting users to the mobile game</a></li>
<li><a href="../209784/index.html">IBM invests $ 1.2 billion in global cloud computing</a></li>
<li><a href="../209786/index.html">Results of CES 2014: Samsung Smart Home - the smart home of the future</a></li>
<li><a href="../209788/index.html">Several uses of Sublime Text 3 that you could use</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>