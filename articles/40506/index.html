<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We play in the country and some JavaScript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Somewhere a couple of weeks ago, I was wandering through the vast expanses of the Internet and came across such an interesting ‚Äúgame‚Äù link . Through t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We play in the country and some JavaScript</h1><div class="post__text post__text-html js-mediator-article">  Somewhere a couple of weeks ago, I was wandering through the vast expanses of the Internet and came across such an interesting ‚Äúgame‚Äù <a href="http://fishki.net/fun/remit_countries.html">link</a> .  Through this page, you can check how many countries you are in a position to remember the respected% username%. But for one moment I was essentially alerted and puzzled. <a name="habracut"></a><habracut>  The first country that came to my mind was Canada, it was successfully added to the list of countries that I remembered.  Then a few more.  When I entered Australia, the script clearly failed.  Nothing happened.  "Australia" is so funny in the text box for entering countries.  I questioned the writing of the country and climbed into the wiki to clarify.  But there was no mistake in writing.  Isn't it David David Blaine?  But climbed into FireBug discovered the following interesting thing <br><blockquote>  <font color="black"><font color="#0000ff">var</font> countries = <font color="#0000ff">new</font> Array ( <font color="#A31515">'Australia'</font> , <font color="#A31515">'Austria'</font> , <font color="#A31515">'Azerbaijan'</font> , ...);</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// function of checking whether the entered word is a country</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">function</font> isCountry ¬©</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt;countries.length; i ++) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (c.toLowerCase () == countries [i] .toLowerCase ())</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> i;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">false</font> ;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// directly check itself</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">if</font> (i = isCountry (v))</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">found.innerHTML + = countries [i] + <font color="#A31515">','</font> ;</font> <font color="black"><br></font>  <font color="black">countC ++;</font> <font color="black"><br></font>  <font color="black">countries.splice (i, 1);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (countC == 0) count.innerHTML = <font color="#A31515">'You remembered ALL countries !!!'</font></font>  <font color="black">;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">else</font> count.innerHTML = <font color="#A31515">'Remains'</font> + countries.length;</font> <font color="black"><br></font>  <font color="black">t.value = <font color="#A31515">"</font> ;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  so "Australia" in the array of countries with the index "0".  The isCountry function will work out normally and return the index of Australia's entry - 0. <br>  The following function outputting the found countries to the block, when checking the condition if (i = isCountry (v)), will receive i = 0 <br>  that is, if (0) and as a result, the version with Australia will be ‚Äúconsidered false‚Äù.  In JS, as in PHP, false is equivalent to 0. <br>  If we recall such a course as ‚Äúsoftware testing‚Äù, then the program works most critically at the limits of the allowable interval, and when drawing up test options, it is necessary to take into account, first of all, extreme options. <br>  Thanks also to everyone who read this line up.  And now let me suggest a solution to the same problem, but using Jquery 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  <font color="black"><font color="#0000ff">var</font> countries = <font color="#0000ff">new</font> Array ( <font color="#A31515">'Australia'</font> , <font color="#A31515">'Austria'</font> , ... <font color="#A31515">'Japan'</font> );</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> count = 0;</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// function that searches the array by value (analog php function)</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">function</font> array_search (needle, haystack, strict) {</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// successful</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">//</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">// + original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> strict = !! strict;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">var</font> key <font color="#0000ff">in</font> haystack) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> ((strict &amp;&amp; haystack [key] .toLowerCase () === needle) || (! strict &amp;&amp; haystack [key] .toLowerCase () == needle)) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> key;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">false</font> ;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// timer variables</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> minutes = 4;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> seconds = 59;</font> <font color="black"><br><br></font>  <font color="black">$ ( <font color="#0000ff">document</font> ) .ready ( <font color="#0000ff">function</font> () {</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// start the timer</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> timer = window.setInterval ( <font color="#0000ff">function</font> ()</font> <font color="black"><br></font>  <font color="black">{ <font color="#0000ff">var</font> timeStr = <font color="#A31515">''</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (seconds &lt;0) minutes--;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (minutes &lt;= 0 &amp;&amp; seconds &lt;= 0)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">$ ( <font color="#A31515">'#result'</font> ) .empty (). append ( <font color="#A31515">‚ÄúYou remembered the‚Äú</font> + count + <font color="#A31515">‚Äúcountries‚Äù</font> );</font> <font color="black"><br></font>  <font color="black">$ ( <font color="#A31515">'#clock'</font> ) .empty (). val ();</font> <font color="black"><br></font>  <font color="black">window.clearInterval (timer);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (seconds == -1) {</font> <font color="black"><br></font>  <font color="black">seconds = 59;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">timeStr + = <font color="#A31515">"0"</font> + minutes;</font> <font color="black"><br></font>  <font color="black">timeStr + = ((seconds &lt;10)? <font color="#A31515">": 0"</font> : <font color="#A31515">":"</font> ) + seconds;</font> <font color="black"><br></font>  <font color="black">$ ( <font color="#A31515">'#clock'</font> ) .empty (). val (timeStr);</font> <font color="black"><br></font>  <font color="black">seconds--;</font> <font color="black"><br></font>  <font color="black">}, 1000);</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">// direct verification entered on the country</font></font> <font color="black"><br></font>  <font color="black">$ ( <font color="#A31515">'#text'</font> ) .keyup ( <font color="#0000ff">function</font> () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> result = array_search ($ ( <font color="#A31515">'#text'</font> ) .val (). toLowerCase (), countries);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (result! == <font color="#0000ff">false</font> ) {</font> <font color="black"><br></font>  <font color="black">count ++;</font> <font color="black"><br></font>  <font color="black">seconds + = 3;</font> <font color="black"><br></font>  <font color="black">$ ( <font color="#A31515">'#found'</font> ) .append (countries [result] + <font color="#A31515">","</font> );</font> <font color="black"><br></font>  <font color="black">$ ( <font color="#A31515">'#again'</font> ) .show ();</font> <font color="black"><br></font>  <font color="black">countries.splice (result, 1);</font> <font color="black"><br></font>  <font color="black">$ ( <font color="#A31515">'#text'</font> ) .val ( <font color="#A31515">""</font> );</font> <font color="black"><br></font>  <font color="black">$ ( <font color="#A31515">'#count'</font> ) .empty (). append ( <font color="#A31515">"Left:"</font> + countries.length);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">});</font> <font color="black"><br><br><br></font>  <font color="black">});</font> <font color="black"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  In general, everything is the same, but on Jquery.  It looks nicer and clearer.  Australia‚Äôs zero-index problem could be solved in two ways by introducing a fictitious zero element into the list of countries (but why keep redundant data, and this is more like patching rather than eliminating an error) or act differently.  As was said above, 0 and false in JS are equivalent (and the functions <a href="http://www.w3schools.com/jsref/jsref_isNaN.asp">IsNaN</a> and <a href="http://www.w3schools.com/jsref/jsref_isFinite.asp">IsFinite</a> do not distinguish between them. Recall a construction of the form === which not only checks for a match of values, but also a coincidence of <b>types</b> <br>  thus array_search () also returns the entry of a particular element. <br><br><blockquote>  <font color="black"><font color="#0000ff">var</font> result = array_search ($ ( <font color="#A31515">'#text'</font> ) .val (). toLowerCase (), countries);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (result! == <font color="#0000ff">false</font> )</font> <font color="gray">* <a href="http://source.virtser.net/"><font color="gray">Source code highlighter</font></a> .</font> </blockquote><br>  for Australia, 0 is returned, but 0 is different in type, from false, and thus the code block responsible for the output of the found countries will work in the normal mode.  =) <br><br>  Thanks to all.  I hope this article even helped you something, or made you think about it.  And this is my PPNH, do not judge strictly, I'm still not a magician, I'm just learning <br>  Long could not lay out, what he wrote, lacked karma </habracut></div><p>Source: <a href="https://habr.com/ru/post/40506/">https://habr.com/ru/post/40506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../40499/index.html">Prompt local WiKi / Notepad ^ 2 / Blog for OS X :-)</a></li>
<li><a href="../40500/index.html">Intel has released a dual-core Atom processor</a></li>
<li><a href="../40503/index.html">Curves on Google Maps</a></li>
<li><a href="../405033/index.html">Laser engraving as a business. Equipment capabilities for 30 thousand rubles</a></li>
<li><a href="../40504/index.html">Crash dumps and KeCapturePersistentThreadState</a></li>
<li><a href="../40508/index.html">Ten small programs, without which it is uncomfortable to live</a></li>
<li><a href="../40511/index.html">University 2.0 and development of a complex of services for students and teachers</a></li>
<li><a href="../40515/index.html">About fla-source</a></li>
<li><a href="../40517/index.html">Malware is actively advertised in Google AdSense and Yandex.Direct.</a></li>
<li><a href="../40519/index.html">Ukrainian meeting of web developers and startups!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>