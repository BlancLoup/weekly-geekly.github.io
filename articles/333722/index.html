<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Current activity around MIPSfpga and not only</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are several events and topics that I would like to share with the community. In an amicable way, you can write a separate article for each one, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Current activity around MIPSfpga and not only</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/175/c12/d9b/175c12d9bef643c5b5ff5f59f2f30e4e.png" alt="KDPV"></p><br><p>  There are several events and topics that I would like to share with the community.  In an amicable way, you can write a separate article for each one, but the general lack of time makes it a bit tricky.  Our current topics: </p><br><ul><li>  MIPSfpga 2.0 release; </li><li>  processor schoolMIPS and Summer School for Young Programmers in Novosibirsk; </li><li>  School-seminar on digital design and computer architecture in Tomsk; </li><li>  Launch of the vanilla Linux kernel on MIPSfpga-plus; </li><li>  support for Altera MAX10 ADC in MIPSfpga-plus; </li><li>  logo MIPSfpga-plus. </li></ul><br><p>  If you are not indifferent to the MIPSfpga-plus topic, then at the end there is a small survey on what I should write (or not write) the following article.  Your choice will help me navigate and prioritize.  <strong>Welcome</strong> ! </p><a name="habracut"></a><br><h3 id="reliz-mipsfpga-20">  MIPSfpga 2.0 release </h3><br><p>  Two years after the first release of MIPSfpga, Imagination Technologies released the second version of the package: MIPSfpga 2.0 [ <a href="https://www.imgtec.com/news/press-release/imagination-announces-mipsfpga-2-0-a-comprehensive-set-of-materials-for-teaching-cpu-architecture/">L1</a> ]. <br>  What you should pay attention to: </p><br><ul><li>  As before, MIPSfpga is presented not only as the source code of an industrial processor core under an academic license, but also as a set of educational materials, which also includes documentation and laboratory work.  And this is wonderful, because the book ‚ÄúDigital circuit design and computer architecture‚Äù (H &amp; H) [ <a href="https://habrahabr.ru/post/259505/">L2</a> ], which was recently translated into Russian, gives us a very high-quality and accessible set of theory and practice presented on the example of the MIPS architecture; </li><li>  At the recently held Toronto Symposium [ <a href="https://www.ncsu.edu/wcae/ISCA2017/FinalProgram.html">L3</a> ], Sarah Harris (one of the H &amp; H authors) presented a collective article [ <a href="https://www.ncsu.edu/wcae/ISCA2017/papers/chaver.pdf">L14</a> ], which provides a detailed description of MIPSfpga 2.0, as well as an analysis of the spread of the educational initiative of Imagination Technologies for universities. <del>  And (wow!) My name is even mentioned there because of the activity in the MIPSfpga-plus project. </del></li><li>  if the first release was mainly focused on how to assemble a system on a chip (SoC) based on MIPSfpga, then the second focus is shifted to the work of the processor itself: </li></ul><br><div class="spoiler">  <b class="spoiler_title">List of laboratory works</b> <div class="spoiler_text"><p>  1 Create a Project in Vivado or Quartus-II <br>  2 Learn how to compile, debug and run C programs <br>  3 Learn MIPS Assembly Programming system <br>  4 More C Programming Practice (optional) <br>  5 Expand the system to add 7-segment displays <br>  6 Expand the system to add a counter <br>  7 Expand the system to add a buzzer <br>  8 Expand the SPI-Light Sensor <br>  9 Expand the system to add a SPI-LCD <br>  10 Interact with peripherals using interrupts <br>  11 Build a DMA engine for transfers between peripherals <br>  12 Build a Data Encryption Standard (DES) engine <br>  13 Learn how to use the Performance Counters <br>  14 Execution of ADD and other arithmetic instruction <br>  15 Execution of instructions and other logic instructions <br>  16 Execution of LW and other related instructions <br>  17 Execution of BEQ and other related instructions <br>  18 Learn how the Hazard Unit is implemented <br>  19 Learn how to use the CorExtend interface. <br>  20 Introduction to the caches available in MIPSfpga <br>  21 Analyze the $ and implement new configurations <br>  22 Cache Controller: Analyze a cache hit and miss <br>  23 Cache Controller: Analyze D $ management policies <br>  24 Cache Controller: Analyze the Store and Fill Buffers <br>  25 Implement an Instruction Scratchpad RAM </p></div></div><br><ul><li>  the kernel itself, according to preliminary information, has not undergone any special changes, it is all the same MIPS microAptiv UP, on the basis of which, for example, Microchip PIC32MZ is built; </li><li>  orientation to Xilinx remained unchanged when building SoC in laboratory work.  So, the general scheme used in the laboratory work of SoC is as follows, which somewhat limits the launch on Altera-based boards: <br><img src="https://habrastorage.org/web/d47/f4a/ebc/d47f4aebc22948649d4051a9d4aa0937.png" alt="MIPSfpga Linux SoC"></li></ul><br><p>  If we take into account that the company Digilent artificially restricts the supply of its motherboards for Xilinx without FPGA to Russia and Ukraine, the picture is not very pleasant.  But here we are come to the rescue by MIPSfpga-plus - opensource project for building SoC based on MIPSfpga with platform-independent peripherals [ <a href="https://github.com/MIPSfpga/mipsfpga-plus">L4</a> ].  For correct interaction with MIPSfpga 2.0 it may have to be slightly modified. </p><br><h3 id="schoolmips-i-letnyaya-shkola-yunyh-programmistov">  schoolMIPS and Summer School for Young Programmers </h3><br><p>  The Summer School for Young Programmers has opened in Novosibirsk today [ <a href="http://school.iis.nsk.su/">L5</a> ].  The school curriculum involves the division into workshops [ <a href="http://school.iis.nsk.su/lshyup-2017/masterskie-6">L6</a> ], one of which is focused on teaching Verilog and microchip architecture.  The guys will be a <a href="https://habrahabr.ru/users/yuripanchul/" class="user_link">teacher</a> , Yuri Panchul <a href="https://habrahabr.ru/users/yuripanchul/" class="user_link">YuriPanchul</a> , who specifically flew from the States for this business. </p><br><div class="spoiler">  <b class="spoiler_title">Chip Architects Workshop</b> <div class="spoiler_text"><p>  Master: Yuri Panchul </p><br><p>  Digital hardware, from logic elements to its own processor </p><br><p>  Want to learn how to design chips in modern devices - from the phone to the spacecraft?  The last 25 years have been doing this using the logic code synthesis methodology in hardware description languages.  This technology we will learn in our workshop and is applicable for the design of their own devices. </p><br><p>  We will start with the three key building blocks of digital electronics - the logic element, the clock signal and the D-flip-flop, the memory for one bit of information.  For clarity, we will master them in the old-fashioned way, connecting the chips with a small degree of integration on the breadboard. </p><br><p>  Then we will repeat the constructed schemes in the language of hardware description SystemVerilog and model them on a simulator program.  But how can we translate them into microchips?  After all, ordering a commercial microcircuit in a factory is very expensive?  Fortunately, there are ‚Äútunable‚Äù programmable logic integrated circuits (FPGAs), the boards with which we will use for our classes. </p><br><p>  In addition to exercises with arithmetic blocks and finite automata, we will try to build a simple processor similar in microarchitecture to a Mongoose-V processor inside the New Horizons spacecraft, which flew past Pluto a year ago. </p><br><p>  At the same time, we will learn a little programming in assembly language, the concept of interrupts, compare our processor with industrial microcontrollers and embedded microprocessors, right up to the EyeQ5 microprocessor for a self-propelled car, which is scheduled for release in 2020. </p></div></div><br><p>  This is cool, and I, frankly, I envy these schoolchildren a little - in my childhood this was not the case. <br>  Especially for this event, we wrote a small processor MIPS-architecture: schoolMIPS [ <a href="https://github.com/MIPSfpga/schoolMIPS">L7</a> ], which is planned to be used in the educational process.  It is built by simplifying the Sarah Harris processor, described in H &amp; H [ <a href="https://habrahabr.ru/post/259505/">L2</a> ].  Key Features: </p><br><ul><li>  Verilog hardware description language; </li><li>  a subset of the MIPS architecture with instruction memory, with general-purpose registers, but without data memory; </li><li>  single cycle microarchitecture; </li><li>  minimum set of instructions, initially sufficient to calculate the Fibonacci number and integer square root in an iterative way; </li><li>  Simplified for teaching microarchitecture and code; </li><li>  compilation of programs carried out by the MIPS toolchain. </li></ul><br><p>  Included is a small instruction and slides describing the construction of the processor core in the style similar to H &amp; H [ <a href="https://habrahabr.ru/post/259505/">L2</a> ]. <br>  In addition to writing the processor, a fairly large-scale translation into Russian of various educational materials was made.  I will not touch on this topic, because  I did not participate, I believe that Yuri <a href="https://habrahabr.ru/users/yuripanchul/" class="user_link">YuriPanchul</a> will write more about this in the future. </p><br><h3 id="shkola-seminar-po-cifrovomu-dizaynu-i-kompyuternoy-arhitekture-v-tomske">  School-workshop on digital design and computer architecture in Tomsk </h3><br><p>  From September 18 to September 22, a School-Workshop on digital design and computer architecture in the era of systems on a chip (SoC) and Internet technologies (IoT) will take place on the basis of Tomsk State University.  The preliminary school program and the list of participants are published on the website [ <a href="http://apr.tsu.ru/workshop/">L8</a> ].  Your humble servant will also perform there: I plan to tell you about AHB-Lite, connect peripherals to MIPSfpga, work with SDRAM is from the stage.  And informally we can discuss Linux, connecting the debugger and any code I brought to MIPSfpga-plus.  Come! </p><br><h3 id="zapusk-linux-na-mipsfpga-plus">  Running Linux on MIPSfpga-plus </h3><br><p> Laboratory work MIPSfpga describes the launch of Linux on the SoC, built using Xilinx-specific peripheral modules.  Coupled with the problem already mentioned above with access to the boards, this created some difficulties.  The necessary minimum for running Linux are: MMU (available as part of MIPS fpga), sufficient memory and UART.  At the same time, most of the work on porting the system has already been done by Imagination Technologies, the corresponding code is included in the main branch of the kernel [ <a href="https://github.com/torvalds/linux/tree/master/arch/mips/xilfpga">L9</a> ].  Just a week ago, I managed to run Linux on Terasic DE10-Lite and I wouldn‚Äôt say that the patch needed for this was very difficult. <br>  Key Features: </p><br><ul><li>  system configuration: FPGA Altera MAX10, SDRAM 64Mb, MIPSfpga-plus, UART16550; </li><li>  The kernel is loaded into memory with EJTAG [ <a href="https://habrahabr.ru/post/322442/">L10</a> ]; </li><li>  mmc / sdcard is not yet supported, so it‚Äôs not possible to talk about booting from a memory card.  On the other hand, in MIPSfpga labs, booting from a flash drive is also not a question. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Boot log</b> <div class="spoiler_text"><pre><code class="hljs vhdl">Linux version <span class="hljs-number"><span class="hljs-number">4.12</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>+ (stas@ubuntu) (gcc version <span class="hljs-number"><span class="hljs-number">4.9</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span> (Codescape GNU Tools <span class="hljs-number"><span class="hljs-number">2016.05</span></span>-<span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MIPS MTI Linux) ) #<span class="hljs-number"><span class="hljs-number">67</span></span> Wed Jul <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span> MSK <span class="hljs-number"><span class="hljs-number">2017</span></span> CPU0 revision <span class="hljs-keyword"><span class="hljs-keyword">is</span></span>: <span class="hljs-number"><span class="hljs-number">00019e60</span></span> (MIPS M14KEc) MIPS: machine <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> terasic,de10lite Determined physical RAM <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>: memory: <span class="hljs-number"><span class="hljs-number">04000000</span></span> @ <span class="hljs-number"><span class="hljs-number">00000000</span></span> (usable) Initrd <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> found <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> empty - disabling initrd Primary instruction cache <span class="hljs-number"><span class="hljs-number">4</span></span>kB, VIPT, <span class="hljs-number"><span class="hljs-number">2</span></span>-way, linesize <span class="hljs-number"><span class="hljs-number">16</span></span> bytes. Primary data cache <span class="hljs-number"><span class="hljs-number">4</span></span>kB, <span class="hljs-number"><span class="hljs-number">2</span></span>-way, VIPT, no aliases, linesize <span class="hljs-number"><span class="hljs-number">16</span></span> bytes Zone ranges: Normal [mem <span class="hljs-number"><span class="hljs-number">0</span></span>x0000000000000000-<span class="hljs-number"><span class="hljs-number">0</span></span>x0000000003ffffff] Movable zone start <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> each node Early memory node ranges node <span class="hljs-number"><span class="hljs-number">0</span></span>: [mem <span class="hljs-number"><span class="hljs-number">0</span></span>x0000000000000000-<span class="hljs-number"><span class="hljs-number">0</span></span>x0000000003ffffff] Initmem setup node <span class="hljs-number"><span class="hljs-number">0</span></span> [mem <span class="hljs-number"><span class="hljs-number">0</span></span>x0000000000000000-<span class="hljs-number"><span class="hljs-number">0</span></span>x0000000003ffffff] Built <span class="hljs-number"><span class="hljs-number">1</span></span> zonelists <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Zone order, mobility grouping <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>. Total pages: <span class="hljs-number"><span class="hljs-number">16256</span></span> Kernel command <span class="hljs-literal"><span class="hljs-literal">line</span></span>: console=ttyS0,<span class="hljs-number"><span class="hljs-number">115200</span></span> PID hash table entries: <span class="hljs-number"><span class="hljs-number">256</span></span> (order: -<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1024</span></span> bytes) Dentry cache hash table entries: <span class="hljs-number"><span class="hljs-number">8192</span></span> (order: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">32768</span></span> bytes) Inode-cache hash table entries: <span class="hljs-number"><span class="hljs-number">4096</span></span> (order: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">16384</span></span> bytes) Memory: <span class="hljs-number"><span class="hljs-number">60512</span></span>K/<span class="hljs-number"><span class="hljs-number">65536</span></span>K available (<span class="hljs-number"><span class="hljs-number">1827</span></span>K kernel code, <span class="hljs-number"><span class="hljs-number">97</span></span>K rwdata, <span class="hljs-number"><span class="hljs-number">320</span></span>K rodata, <span class="hljs-number"><span class="hljs-number">948</span></span>K init, <span class="hljs-number"><span class="hljs-number">184</span></span>K bss, <span class="hljs-number"><span class="hljs-number">5024</span></span>K reserved , <span class="hljs-number"><span class="hljs-number">0</span></span>K cma-reserved) NR_IRQS:<span class="hljs-number"><span class="hljs-number">8</span></span> clocksource: MIPS: mask: <span class="hljs-number"><span class="hljs-number">0</span></span>xffffffff max_cycles: <span class="hljs-number"><span class="hljs-number">0</span></span>xffffffff, max_idle_ns: <span class="hljs-number"><span class="hljs-number">38225208935</span></span> ns sched_clock: <span class="hljs-number"><span class="hljs-number">32</span></span> bits at <span class="hljs-number"><span class="hljs-number">50</span></span>MHz, resolution <span class="hljs-number"><span class="hljs-number">20</span></span>ns, wraps every <span class="hljs-number"><span class="hljs-number">42949672950</span></span>ns Console: colour dummy device <span class="hljs-number"><span class="hljs-number">80</span></span>x25 Calibrating delay <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>... <span class="hljs-number"><span class="hljs-number">10.81</span></span> BogoMIPS (lpj=<span class="hljs-number"><span class="hljs-number">21632</span></span>) pid_max: <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-number"><span class="hljs-number">32768</span></span> minimum: <span class="hljs-number"><span class="hljs-number">301</span></span> Mount-cache hash table entries: <span class="hljs-number"><span class="hljs-number">1024</span></span> (order: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">4096</span></span> bytes) Mountpoint-cache hash table entries: <span class="hljs-number"><span class="hljs-number">1024</span></span> (order: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">4096</span></span> bytes) devtmpfs: initialized clocksource: jiffies: mask: <span class="hljs-number"><span class="hljs-number">0</span></span>xffffffff max_cycles: <span class="hljs-number"><span class="hljs-number">0</span></span>xffffffff, max_idle_ns: <span class="hljs-number"><span class="hljs-number">7645041785100000</span></span> ns futex hash table entries: <span class="hljs-number"><span class="hljs-number">256</span></span> (order: -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3072</span></span> bytes) clocksource: Switched <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> clocksource MIPS random: fast init done workingset: timestamp_bits=<span class="hljs-number"><span class="hljs-number">30</span></span> max_order=<span class="hljs-number"><span class="hljs-number">14</span></span> bucket_order=<span class="hljs-number"><span class="hljs-number">0</span></span> Serial: <span class="hljs-number"><span class="hljs-number">8250</span></span>/<span class="hljs-number"><span class="hljs-number">16550</span></span> driver, <span class="hljs-number"><span class="hljs-number">4</span></span> ports, IRQ sharing disabled console [ttyS0] disabled b0400000.serial: ttyS0 at MMIO <span class="hljs-number"><span class="hljs-number">0</span></span>xb0401000 (irq = <span class="hljs-number"><span class="hljs-number">0</span></span>, base_baud = <span class="hljs-number"><span class="hljs-number">3125000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> a <span class="hljs-number"><span class="hljs-number">16550</span></span>A console [ttyS0] enabled Freeing unused kernel memory: <span class="hljs-number"><span class="hljs-number">948</span></span>K This <span class="hljs-keyword"><span class="hljs-keyword">architecture</span></span> does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> have kernel memory protection. mount: mounting devpts <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> /dev/pts failed: No such device mount: mounting tmpfs <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> /dev/shm failed: Invalid argument mount: mounting tmpfs <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> /tmp failed: Invalid argument mount: mounting tmpfs <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> /run failed: Invalid argument Starting logging: OK Initializing random number generator... done. Starting network: ip: socket: <span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> implemented ip: socket: <span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> implemented FAIL Welcome <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> MIPSfpga mipsfpga login: root Jan <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span> login[<span class="hljs-number"><span class="hljs-number">43</span></span>]: root login <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'console</span></span>' # uname -a Linux mipsfpga <span class="hljs-number"><span class="hljs-number">4.12</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>+ #<span class="hljs-number"><span class="hljs-number">67</span></span> Wed Jul <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span> MSK <span class="hljs-number"><span class="hljs-number">2017</span></span> mips GNU/Linux # free -m total used free <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> buffers cached Mem: <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">56</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> -/+ buffers/cache: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">59</span></span> Swap: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> </div></div><br><p>  In the near future I plan to prepare a small HOWTO on how to reproduce these results.  And I‚Äôll probably write a big article after adding a module to MIPSfpga-plus for working with mmc / sdcard, finishing the bootloader and debugging everything that is needed for an autonomous launch.  If someone needs "right now" - let me know. </p><br><h3 id="mipsfpga-plus-i-acp-altera-max10">  MIPSfpga-plus and Altera MAX10 ADC </h3><br><p>  In June, I completed work on integrating the ADC, which is on board the Altera MAX10, into MIPSfpga-plus.  The corresponding code is added to the main branch of the project [ <a href="">L11</a> ], with documentation [ <a href="https://github.com/MIPSfpga/mipsfpga-plus/blob/master/documentation/peripherals/20170612_MFP_ADC%2520for%2520Altera%2520MAX10.pdf">L12</a> ] and an example [ <a href="">L13</a> ].  The module, in fact, is a converter between the AHB-Lite bus and Avalon-ST, made taking into account the specifics of a particular ADC.  It is very simple in architecture - I tried to make its program interface as similar as possible to the Atmel ATmega88 microcontroller ADC. <br>  Of course, there were no pitfalls, as there are 2 ADC channels available on the Terasic DE10-Lite FPGA (with independent sets of inputs on each), while wiring these inputs the second channel turned out to be entirely grounded, so  parallel operation of channels on the DE10-Lite is impossible: </p><br><p><img src="https://habrastorage.org/web/233/e2f/d1d/233e2fd1dc8749a38df60c835ec5e8b4.png" alt="Terasic DE10-Lite ADC pins"></p><br><p>  I would like to believe that MIPSfpga-plus will be used a little more often in academic projects where before it was necessary to use a microcontroller or a MAX10 + NIOS-II configuration for the sake of the integrated ADC. <br>  Again, is a separate article needed, where work with ADCs is detailed?  Or, in order to understand, is it enough for you to refer to the source code of the module, example, and documentation already given by me? </p><br><h3 id="logotip-mipsfpga-plus">  MIPSfpga-plus logo </h3><br><p>  Do you think the MIPSfpga-plus project is ripe enough for it to have its own recognizable logo?  I probably spent more than a dozen hours on him, I already want him to be associated with some positive picture.  For some reason, only Big Uh from the cartoon of the same name comes to mind (see KDPV), it is possible that because of his confederate, which is well associated with the originally educational orientation of the project.  And in principle, this character is to me deeply likable. <br>  What do you think about this topic?  Maybe you can offer some alternative option or, suddenly, among the readers there is an artist who can portray a "cartoon character, remotely resembling the Big Ear, but not to the degree of confusion"? </p><br><h3 id="blagodarnosti">  Thanks </h3><br><p>  The author is grateful to the team of translators from David Harris and Sarah Harris ‚ÄúDigital Circuit Design and Computer Architecture‚Äù [ <a href="https://habrahabr.ru/post/259505/">L2</a> ], from Imagination Technologies [ <a href="https://www.imgtec.com/news/press-release/imagination-announces-mipsfpga-2-0-a-comprehensive-set-of-materials-for-teaching-cpu-architecture/">L1</a> ] for their academic license for modern processor core and educational materials, as well as personally to Yuri <a href="https://habrahabr.ru/users/yuripanchul/" class="user_link">Panchul</a> for <a href="https://habrahabr.ru/users/yuripanchul/" class="user_link">YuriPanchul</a> for his work on promoting MIPSfpga.  Special thanks to Alexander Romanov (HSE, MIEM) [ <a href="https://www.hse.ru/staff/a.romanov">L15</a> ] for a sensible and scrupulous approach to the schoolMIPS micro-architecture, as well as to all participants of the Young Russian Chip Architects mailing list who took part in the discussion. </p><br><h3 id="ssylki">  Links </h3><br><p>  [L1] - <a href="https://www.imgtec.com/news/press-release/imagination-announces-mipsfpga-2-0-a-comprehensive-set-of-materials-for-teaching-cpu-architecture/">Press release on the release of MIPSfpga 2.0</a> ; <br>  [L2] - <a href="https://habrahabr.ru/post/259505/">Digital circuit design and computer architecture</a> ; <br>  [L3] - <a href="https://www.ncsu.edu/wcae/ISCA2017/FinalProgram.html">Workshop on Computer Architecture Education (Toronto)</a> ; <br>  [L4] - <a href="https://github.com/MIPSfpga/mipsfpga-plus">Project MIPSfpga-plus on github</a> ; <br>  [L5] - <a href="http://school.iis.nsk.su/">Summer School for Programmers (Novosibirsk)</a> ; <br>  [L6] - <a href="http://school.iis.nsk.su/lshyup-2017/masterskie-6">Summer School for Programmers (Novosibirsk).</a>  <a href="http://school.iis.nsk.su/lshyup-2017/masterskie-6">Curriculum</a> ; <br>  [L7] - <a href="https://github.com/MIPSfpga/schoolMIPS">SchoolMIPS project on github</a> ; <br>  [L8] - <a href="http://apr.tsu.ru/workshop/">Workshop on digital design and computer architecture (Tomsk)</a> ; <br>  [L9] - <a href="https://github.com/torvalds/linux/tree/master/arch/mips/xilfpga">MIPSfpga support in the Linux kernel</a> ; <br>  [L10] - <a href="https://habrahabr.ru/post/322442/">MIPSfpga and in-circuit debugging</a> ; <br>  [L11] - <a href="">MIPSfpga-plus.</a>  <a href="">Altera MAX10 ADC Support Module</a> ; <br>  [L12] - <a href="https://github.com/MIPSfpga/mipsfpga-plus/blob/master/documentation/peripherals/20170612_MFP_ADC%2520for%2520Altera%2520MAX10.pdf">MIPSfpga-plus.</a>  <a href="https://github.com/MIPSfpga/mipsfpga-plus/blob/master/documentation/peripherals/20170612_MFP_ADC%2520for%2520Altera%2520MAX10.pdf">Altera MAX10 ADC support module.</a>  <a href="https://github.com/MIPSfpga/mipsfpga-plus/blob/master/documentation/peripherals/20170612_MFP_ADC%2520for%2520Altera%2520MAX10.pdf">Documentation</a> ; <br>  [L13] - <a href="">MIPSfpga-plus.</a>  <a href="">Altera MAX10 ADC support module.</a>  <a href="">An example</a> ; <br>  [L14] - <a href="https://www.ncsu.edu/wcae/ISCA2017/papers/chaver.pdf">Practical experiences based on MIPSfpga</a> ; <br>  [L15] - <a href="https://www.hse.ru/staff/a.romanov">Alexander Romanov's profile on the HSE website</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/333722/">https://habr.com/ru/post/333722/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../333710/index.html">K-sort: a new algorithm that exceeds the pyramid when n <= 7 000 000</a></li>
<li><a href="../333712/index.html">What's new in Swift 4.0</a></li>
<li><a href="../333714/index.html">We do applications with search on Go</a></li>
<li><a href="../333716/index.html">Creating Angular 2+ components with the ability to switch themes</a></li>
<li><a href="../333718/index.html">Creating a GLSL smoke shader</a></li>
<li><a href="../333724/index.html">Currency exchange: fix the course for offline online. VTB24 experience</a></li>
<li><a href="../333728/index.html">Wolfram Summer School 2017: the story of the participant</a></li>
<li><a href="../333730/index.html">Step-by-step manual how to bring in equipment on which there is no notification of FSB</a></li>
<li><a href="../333732/index.html">IT Infrastructure Audit - How to Be a Newbie</a></li>
<li><a href="../333734/index.html">The selected UI framework is a mischief. Architectural Requirements - Profit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>