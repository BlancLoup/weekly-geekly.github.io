<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Chronicles Pentester</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Like several years ago, web applications are still the most attractive target for violators of all stripes. There is always enough space for sophistic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Chronicles Pentester</h1><div class="post__text post__text-html js-mediator-article">  Like several years ago, web applications are still the most attractive target for violators of all stripes.  There is always enough space for sophisticated SEOs, and for those who want to carry their thoughts to the masses by changing the content of the pages, and, of course, web applications are the primary target for overcoming the external perimeter of companies, both in penetration testing and in a harsh life. <br><br>  Everywhere, low security of web applications is due to many factors: from the quality of the developed code and the selected programming language to the configurations used on the web server side.  The fact that the security of web applications is kept apart from the general security strategy adds oil to the fire.  Managers of business units initiate business development processes, which in turn, one way or another, are based on web technologies.  At the same time, the information security management service in an average company closes its eyes to the fact that the acquired solution may contain vulnerabilities.  Moreover, from the experience of the work carried out, more than half of the information security departments in Russian companies do not even suspect who is responsible for the company's external, official website, not to mention who is involved in its security.  Because web applications and hack on the stream. <br><a name="habracut"></a><br>  Recently held pentest clearly confirms these arguments.  When a group of pentesters using vulnerabilities of web applications reached the execution of commands of the operating system, (besides the joy of their own superiority)) there was a well-founded feeling that we were not alone here. <br><br>  In one of the pentest on the customer's site, several critical vulnerabilities were found that in the future could allow to execute commands on the server.  However, they could not be used for a long time.  The seconds turned into minutes, the minutes took shape in hours, the goal was so close, but all efforts were unsuccessful.  Looking around, it was noticed that before us is only one of the sites of a large hosting.  Considering that the same malware was noticed on the pages of the site and its neighbors, it is logical to assume that the attacker before us would hardly have bothered with the vulnerabilities of our analyzed site.  Surely he was walking along the path of least resistance and was filled with neighbors.  But restrictions at pentest do not allow to repeat similar feats.  Meanwhile, the efforts were not in vain, and using the cascade of vulnerabilities, the customer‚Äôs site surrendered its defense.  Then, instead of the classical collection of information, it was necessary to find out how the malware hit the pages of this resource. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/8ec/062/e52/8ec062e52214ab6d2799997efb6c5385.png" alt="image"><br><br>  The following story reveals the use of zero-day vulnerabilities during pentest.  Before us is another of.  another customer's site on a completely secure content management system Joomla.  When surfing the surface, a vulnerable module gets into the eyes of which vulnerability information has not yet managed to infiltrate the public.  Information is also known that the other day a massive fill went through this module.  And as it is not strange, we already had it in our hands :)) Further, as in Hollywood films.  Enter target, launch, fill up, rejoice)) After that, you had to answer the question ‚Äúwho is here‚Äù?  And the answer was not long in coming.  As if shells with eval and base64 are very pale. <br><br>  The last story I want to tell about today is no less revealing than the rest.  It‚Äôs no joke, when on one of the external sites a well-known and beloved Russian bank has a backdoor installed in the language of our heavenly friends.  Moreover, the dates showed that the backdoor was flooded over a year ago and went unnoticed throughout this time!  The fact that the operating system on which the web server is located is part of the corporate Active Directory domain of the bank also adds sharpness to the entire history.  As it turned out later, the IS management service of the bank itself, for the whole time only one request was recorded, which actually established the backdoor, i.e.  just lucky this time.  By the way, the backdoor (ala web shell) under Tomcat really turned out to be quite sophisticated (added to the piggy bank), and it was installed to the word through defaults in the Tomcat administration interface. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e1e/62f/d45/e1e62fd45594804da332307ce078528f.png" alt="image"><br><br>  <b>So how to protect against such threats?</b> <br><br>  First, if you plan to deploy your site on an external hosting, ask the hosting provider what actions he takes to protect the sites of his clients.  On this subject, I recall another story.  We analyzed somehow the site, located in one of the regions of our vast country.  We fixed the SQL injection and began to unwind it, and, literally in half an hour, we see a message from the host in our address :) But the most remarkable thing in this story is that the hoster promptly provided a virtual patch for the vulnerability we found.  On the other hand, when choosing a hoster, you probably should not expect too much from him, but he should provide fundamental security mechanisms when providing his services. <br><br>  Second, use strong, unique passwords everywhere, especially on external web applications.  Access to the administration interfaces of the site provide only a trusted list of IP addresses.  By the way, these two simple rules, along with minimal privileges for a user who interacts with a database, helps to significantly reduce damage in the presence of a vulnerability such as the introduction of SQL statements. <br><br>  And finally, when defending against zero-day attacks, remember that the more defenses you provide, the higher the likelihood that you will save your site from such an affliction.  Probably from a targeted attack with stupid vulnerabilities in the application code will not work, but it is quite realistic to protect against mass attacks.  And this is not enough! <br><br>  So, what is required to protect the site from a zero-day attack while not resorting to analyzing its security with a fuzzing method or source code?  In my vision, at least the following should be realized: <br>  - strong passwords for the used identifiers in all interfaces (ftp, administration section, etc.). <br>  - all administration interfaces should be accessible only to trusted IP addresses;  optionally, the use of two-factor authentication wherever possible. <br>  - minimization of privileges in all components. <br>  - properly configured tables of access control (starting with the file system and ending with access control by means of the site management system, if it provides similar functionality). <br>  - secure configurations of the web server and its environment (for example, secure PHP configurations). <br>  - use of preventive control mechanisms (Web Application Firewall). <br>  - restriction of network access from the web application to any other components of the network;  hosting a web server in an isolated network environment (aka personalized DMZ). <br><br>  By adhering to the listed approaches you will significantly increase the security of your web application.  I wish you success in the constant battle of good with good on the other side :) </div><p>Source: <a href="https://habr.com/ru/post/128943/">https://habr.com/ru/post/128943/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128936/index.html">Zend_Form element for image selection</a></li>
<li><a href="../128937/index.html">Thumb Discrimination in Mobile Programs</a></li>
<li><a href="../128939/index.html">Miniature USB programmer for AVR microcontrollers</a></li>
<li><a href="../128941/index.html">How do social and social tools change?</a></li>
<li><a href="../128942/index.html">Chuck spared Groupon</a></li>
<li><a href="../128944/index.html">Are you interested in articles / translations of an article about "hacking" an interview with Google?</a></li>
<li><a href="../128945/index.html">ConfeT & QA Testers Online Conference</a></li>
<li><a href="../128948/index.html">Immersion into the scripts of the Unity3d game engine, part 2</a></li>
<li><a href="../128949/index.html">Facebook API: How to allow commenting on a wall post to everyone [upd: 09/25/2011]</a></li>
<li><a href="../128951/index.html">Validation messages in Russian in Rails 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>