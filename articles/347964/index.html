<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How does blocking access to pages that distribute prohibited content (now the RKN also checks the search engines)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Before proceeding to the description of the system that is responsible for access filtering by telecom operators, we note that now Roskomnadzor will a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How does blocking access to pages that distribute prohibited content (now the RKN also checks the search engines)</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/cloud4y/blog/347964/"><img src="https://habrastorage.org/webt/-z/8j/rq/-z8jrqsydmpzsgtqvpp8l1xrxri.png"></a> <br><br>  Before proceeding to the description of the system that is responsible for access filtering by telecom operators, we note that now Roskomnadzor will also control the work of search engines. <br><br>  At the beginning of the year, an order of control and a list of measures to comply with the requirements of search engine operators to stop issuing information about Internet resources, access to which is restricted in the Russian Federation, was approved. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://publication.pravo.gov.ru/Document/View/0001201801160014">The relevant order of</a> Roskomnadzor dated November 7, 2017 No. 229 is registered with the Ministry of Justice of Russia. <a name="habracut"></a><br><br>  The order was adopted as part of the implementation of the provisions of Article 15.8 of the Federal Law No. 149- dated July 27, 2006 ‚ÄúOn Information, Information Technologies and Information Protection‚Äù, which defines <b>responsibilities for owners of VPN services, ‚Äúanonymizers‚Äù and search engine operators to restrict access to information</b> , the dissemination of which is prohibited in Russia. <br><br>  Control measures are held at the location of the control body without interacting with search engine operators. <br><br><img src="https://habrastorage.org/webt/lz/wc/wc/lzwcwcaaytz_a3jdq8mrym4uxgw.png"><br>  <i>The information system is understood as the FGIS information resources of information and telecommunication networks, access to which is restricted.</i> <br><br>  According to the results of the event, an act is drawn up, which indicates, in particular, information about the software used to establish these facts, as well as information confirming that the specific page (s) of the site at the time of control was in the information system for more than a day. <br><br>  The act is sent to the operator of search engines through the information system.  In case of disagreement with the act, the operator has the right to submit his objections to the Roskomnadzor within three working days, which considers the objections also within three working days.  Based on the results of consideration of the objections of the operator, the head of the control body or his deputy decides to initiate an administrative offense case. <br><br><h3>  How the access filtering system is designed for telecom operators </h3><br>  In Russia, there are a number of laws that require telecom operators to filter access to pages that distribute prohibited content: <br><br><ul><li>  FZ 126 ‚ÄúOn Communications‚Äù, amendment to art.  46 - about the duty of the operator to limit access to information (FESEM). </li><li>  ‚ÄúUnified Register‚Äù - Resolution of the Government of the Russian Federation of October 26, 2012 N 1101 ‚ÄúOn the Unified Automated Information System‚Äú The Unified Register of Domain Names, Website Indexes in the Information and Telecommunication Network ‚ÄúInternet‚Äù and Network Addresses, which allow to identify sites in Information and Telecommunications the Internet, containing information whose distribution in the Russian Federation is prohibited ¬ª¬ª </li><li>  FZ 436 ‚ÄúOn the protection of children ...‚Äù, categorization of available information. </li><li>  Federal Law No. 3 ‚ÄúOn Police‚Äù, Article 13, Section 12 - on the elimination of the causes and conditions conducive to the realization of threats to the safety of citizens and public safety. </li><li>  Federal Law No. 187 ‚ÄúOn Amendments to Certain Legislative Acts of the Russian Federation on the Protection of Intellectual Rights in Information and Telecommunication Networks‚Äù (‚Äúanti-piracy law‚Äù). </li><li>  Fulfillment of decisions of the courts and instructions of the prosecution authorities. </li><li>  Federal Law of 28.07.2012 N 139- ‚ÄúOn Amendments to the Federal Law‚Äú On the Protection of Children from Information Harmful to their Health and Development ‚Äùand certain legislative acts of the Russian Federation‚Äù. </li><li>  Federal Law of July 27, 2006 No. 149- ‚ÄúOn Information, Information Technologies and Protection of Information‚Äù. </li></ul><br>  Requests from Roskomnadzor for blocking carry an updated list of requirements for the provider, each entry from such a request contains: <br><br><ul><li>  type of registry, according to which the restriction is made; </li><li>  the point in time from which the need to restrict access arises; </li><li>  type of emergency response (normal urgency - during the day, high urgency - immediate response); </li><li>  type of registry entry lock (by URL or domain name); </li><li>  registry hash code (changes with any change in the contents of the record); </li><li>  details of the decision on the need to restrict access; </li><li>  one or more site page indexes, access to which should be restricted (optional); </li><li>  one or more domain names (optional); </li><li>  one or more network addresses (optional); </li><li>  one or more ip-subnets (optional). </li></ul><br>  To effectively communicate information to the operators, an Information System for Roskomnadzor and Telecom Operators was created.  It is located along with regulations, instructions and instructions for operators on a specialized portal: <br><br>  <b><a href="http://vigruzki.rkn.gov.ru/">vigruzki.rkn.gov.ru</a></b> <br><br>  For its part, Roskomnadzor began issuing a client of the Auditor ‚ÄúAuditor‚Äù to check the operators.  Below is a little about the functionality of the agent. <br><br>  Algorithm for testing the availability of each URL by the Agent.  When checking the Agent must: <br><br><ul><li>  determine the IP addresses to which the network name of the checked site (domain) is converted or use the IP <b>addresses provided in the upload</b> ; </li><li>  for each IP address received from DNS servers, make an HTTP request for the URL being checked.  In the case of receiving a redirect from the checked site HTTP, the Agent must check the URL to which the redirection is performed.  At least 5 consecutive HTTP redirects are supported; </li><li>  if it is impossible to make an HTTP request (no TCP connection is established), the Agent must conclude that there is a blocking of the IP address entirely; </li><li>  in case of a successful HTTP request, the Agent must check the received response of the checked site using the HTTP response code, HTTP header, HTTP content (first received data up to 10 kb in size).  If the response received coincides with the stub page templates created in the control center, <b>a conclusion must be made that the URL being checked is blocked</b> ; </li><li>  during the verification of the URL, the Agent must verify the installation of the encrypted connection and mark the resource; </li><li>  in case there is no coincidence of the data received by the Agent with the templates of the blank pages or trusted pages of the redirect informing about the resource lock, the Agent must conclude that the URL is not blocked on the carrier SPD.  In this case, information about the data (HTTP response) received by the Agent is recorded in the report (file of the check log).  The system administrator has the ability to form a new page stub template from this entry to prevent subsequent false conclusions about the absence of a lock. </li></ul><br><div class="spoiler">  <b class="spoiler_title">A list of what the Agent must provide</b> <div class="spoiler_text"><ul><li>  communication with the control center for a complete list of URLs and blocking modes that need to be tested; </li><li>  communication with the control center to obtain data on verification modes.  Supported modes: full one-time check, full periodic with a given interval, selective one-time with a user-defined list of URLs, periodic with a specified interval check of a list of URLs (of a certain type of EP records); </li><li>  continuation of the implementation of specified verification procedures on the existing URL list, in case it is impossible to obtain a list of URLs from the control center, and storing the obtained results of the checks with subsequent transfer to the control center; </li><li>  full implementation of specified verification procedures on the existing URL lists, in case of impossibility to obtain information on verification modes from the control center, and storing the obtained test results with the subsequent transfer to the control center; </li><li>  checking the results of blocking in accordance with the established mode; </li><li>  Sending an audit report to the control center (verification log file); </li><li>  the ability to test the performance of the SPD operator, i.e.  check the availability of a list of known sites; </li><li>  the ability to verify the results of blocking using a proxy server; </li><li>  the possibility of remote software updates; </li><li>  the ability to conduct diagnostic procedures on the PDS (response time, packet flow path, file download speed from an external resource, determination of IP addresses for domain names, value of the speed of receiving information in the reverse communication channel in wired access networks, packet loss rate, average transmission delay time packages); </li><li>  scanning performance of at least 10 URLs per second, provided that the communication channel band is sufficient; </li><li>  the ability of the agent to repeatedly access the resource (up to 20 times), with a variable frequency from 1 time per second to 1 time per minute; </li><li>  the ability to create a random order of list entries transmitted for testing and setting the priority for a specific page of the site on the Internet. </li></ul><br></div></div><br>  In general, the structure looks like this: <br><br><img src="https://habrastorage.org/webt/su/ur/bk/suurbkltagwxo_-8ahlb4p27flu.jpeg"><br>  <i>Software and hardware-software solutions for filtering Internet traffic (DPI-solutions) allow operators to block traffic from users to sites from the RKN list.</i>  <i>Block them or not, it checks the client AC Examiner.</i>  <i>It is a list of RKN automatically checks the availability of the site.</i> <br><br>  An example of a monitoring protocol is available <a href="https://nag.ru/upload/article-files/20161108-0001monitoring_protocol_15.pdf">here</a> . <br><br>  Last year, Roskomnadzor began testing solutions for blocking, which the operator can use to implement this scheme by the operator.  I will quote from the results of such testing: <br><blockquote>  ‚ÄúThe positive conclusions of Roskomnadzor were received by specialized software solutions‚Äú UBIC ‚Äù,‚Äú EcoFilter ‚Äù,‚Äú SCAT DPI ‚Äù,‚Äú Tiksen-Blocking ‚Äù,‚Äú SkyDNS Zapret ISP ‚Äùand‚Äú Carbon Reductor DPI ‚Äù. <br><br>  The conclusion of Roskomnadzor was also obtained, confirming the possibility of using by operators of the ZapretService software as a means of restricting access to prohibited resources on the Internet.  The test results showed that when installed according to the ‚Äúbroken‚Äù connection scheme recommended by the manufacturer and the network operator‚Äôs network was correctly configured, the number of violations detected according to the Unified Register of Prohibited Information does not exceed 0.02%. <br><br>  Thus, telecom operators are given the opportunity to choose the most appropriate solution for them to restrict access to prohibited resources, including from the list of software products that have received a positive conclusion from Roskomnadzor. <br><br>  At the same time, during testing of the software product IdecoSelecta ISP, due to the lengthy procedure of its deployment and configuration, some operators were unable to proceed to the tests on time.  More than half of the telecom operators participating in the testing did not exceed a week for the test operation of Ideco Selecta ISP.  Considering the small amount of statistical data obtained and a small number of participants in the testing, Roskomnadzor in its official opinion indicated that it was impossible to obtain unambiguous conclusions about the effectiveness of the Ideco Selecta ISP product as a means of restricting access to prohibited resources on the Internet. ‚Äù </blockquote>  I will add that up to 27 telecom operators with different numbers of subscribers from different federal districts of the Russian Federation took part in testing each software product. <br><br>  The official conclusions on the results of testing can be found <a href="http://www.rkn.gov.ru/communication/p922/">here</a> .  In these conclusions almost zero technical information.  You can read about the product ‚ÄúIdeco Selecta ISP‚Äù to know how not to do it. <br><br>  This year, testing will continue and at the moment, judging by the news of Roskomnadzor, one product has already been taken and another 2 in the near future. <br><br><h3>  What if a lock occurred by mistake? </h3><br>  In conclusion, I would like to remind you that Roskomnadzor is ‚Äúnot mistaken,‚Äù which is confirmed by the Constitutional Court. <br><br>  <i>The resolution, which effectively removes responsibility from Roskomnadzor for the erroneous blocking of sites, was made as part of the consideration of the complaint to the Constitutional Court by the director of the Internet Publishers Association Vladimir Kharitonov.</i>  <i>It said that in December 2012, Roskomnadzor mistakenly blocked its online library digital-books.ru.</i>  <i>As Mr. Kharitonov explained, his resource was located on the same IP address as the rastamantales (.) Ru portal (now rastamantales (.) Com), which was the original object of blocking.</i>  <i>Vladimir Kharitonov tried to challenge the decision of Roskomnadzor in court, but in June 2013 the Tagansky District Court recognized the blockage as legal, and in September 2013, the decision was upheld by the Moscow City Court.</i> <br><br>  From the same place: <br><blockquote>  In Roskomnadzor "b" said that the decision of the COP are satisfied.  ‚ÄúThe Constitutional Court confirmed that Roskomnadzor is implementing the law.  If the operator does not have the technical ability to restrict access to a separate page of the site, and not to its network address, then it is the responsibility of the operator, ‚Äùthe spokesman said. </blockquote><br>  This question is also relevant for cloud providers and hosting companies, as similar incidents happened to them.  In June 2016, Amazon S3 cloud service was blocked in Russia, although only the 888poker poker room page located on its platform was added to the registry at the request of the Federal Tax Service.  Blocking the entire resource was linked to the fact that Amazon S3 uses the secure https protocol, which does not allow to block individual pages.  Only after Amazon itself deleted the page to which claims had arisen from the Russian authorities, the resource was excluded from the registry. </div><p>Source: <a href="https://habr.com/ru/post/347964/">https://habr.com/ru/post/347964/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347954/index.html">How we developed the technology to detect devices nearby</a></li>
<li><a href="../347956/index.html">An article about how we tried to apply modern neural network technologies to find helmets on people's heads</a></li>
<li><a href="../347958/index.html">The story of how not to let me steal credit card numbers and passwords from visitors to your sites</a></li>
<li><a href="../347960/index.html">I am a developer from 9 to 17 (and you can become one)</a></li>
<li><a href="../347962/index.html">Partial wow effects: magic with simple words</a></li>
<li><a href="../347966/index.html">How we set up a search using Elasticsearch and Logstash using MSSQL data</a></li>
<li><a href="../347968/index.html">Efficient data conversion using transducers</a></li>
<li><a href="../347972/index.html">You went to three fun words! New geocoding and what3words.com</a></li>
<li><a href="../347974/index.html">We are pumping a WebDriverAgent, or how to test iOS applications after a nuclear explosion. Decryption report</a></li>
<li><a href="../347976/index.html">Fire, water and copper pipes: how we created the new ATOL Opol POS-terminal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>