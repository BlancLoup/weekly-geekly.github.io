<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing an app translator for Gnome [python]</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 

 I once sat on a quiet evening, reading English-language sites. When it was necessary to translate a couple of phrases, I, as usual, opened...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing an app translator for Gnome [python]</h1><div class="post__text post__text-html js-mediator-article"><h1>  Foreword </h1><br><img src="http://img151.imageshack.us/img151/6042/imageh.png"><br>  I once sat on a quiet evening, reading English-language sites.  When it was necessary to translate a couple of phrases, I, as usual, opened a new tab, typed <a href="http://translate.google.ru/">translate.google.com</a> , copied, pasted text, clicked translate, read.  And after all, such a long sequence of actions has to be done every time there is a need to translate a text, a couple of phrases, or a whole paragraph.  Yes, you can use any client for translation, but the program window will have to be opened or retrieved from under other windows.  Yes, the sequence is shorter, but still long.  It would be great to shorten the sequence of actions to copy, click.  So the idea for the applet appeared.  His logic is: <br><ul><li>  The GTranslate button appears on the panel. </li><li>  If you need to translate the text, then copy it and click on the button </li><li>  Autodetect language </li></ul><br><a name="habracut"></a><br>  And I began to read various articles on writing applets, including those in <a href="http://habrahabr.ru/blogs/python/64317/">Habr√©</a> .  In all, gtk.Label () was used, but this is correct, those applets were used to display information.  Our applet will not display any information on the panel, it is just an intermediary between us and the dialog box with the translation.  Therefore, we will use gtk.Button ().  So let's get started! <br><br><h1>  Dialog window </h1><br><br>  Initially, the easygui.codebox element was used to display the text, but easygui is not in the standard package and I didn‚Äôt really want to put it in place.  It was decided to write your own simple control.  It had to have three controls: text in the initial language, text in the translated language (it should have been a textbox in order to be able to copy the translation) and, of course, a button labeled ‚ÄúOK‚Äù.  Thanks to <a href="http://www.pygtk.org/docs/pygtk/class-gdkwindow.html">these</a> <a href="http://www.moeraki.com/pygtktutorial/pygtk2tutorial/">two</a> tutors, a dialog box appeared. <br><img src="http://img200.imageshack.us/img200/9362/70982758.png" width="450"><br>  The code is, in general, understandable, slightly commented. <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">import pygtk <br> pygtk.require( <font color="#A31515">"2.0"</font> ) <br> import gtk <br> <br> <font color="#A31515">""</font> <font color="#A31515">"  !        =)"</font> <font color="#A31515">""</font> &lt;br/&gt; <br> #http: <font color="#008000">//www.pygtk.org/docs/pygtk/class-gdkwindow.html</font> &lt;br/&gt; <br> #http: <font color="#008000">//www.moeraki.com/pygtktutorial/pygtk2tutorial/</font> <br> <br> <font color="#A31515">""</font> <font color="#A31515">"       "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#0000ff">class</font> ShowTextDialog(): <br> def __init__(self): <br> self.default_window_name= <font color="#A31515">"GTranslate [Neon Mercury]"</font> <br> <br> self.window=gtk.Window(gtk.WINDOW_TOPLEVEL) <br> self.window.set_title(self.default_window_name) <br> self.window.connect( <font color="#A31515">"delete_event"</font> , self.delete_event) <br> self.window.set_border_width(10) <br> self.box=gtk.VBox() <br> self.window.add(self.box) <br> <br> <font color="#A31515">""</font> <font color="#A31515">" Label    "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> self.info=gtk.Label() <br> self.box.pack_start(self.info, True, False, 0) <br> <br> <font color="#A31515">""</font> <font color="#A31515">"        ,  "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> self.textview=gtk.TextView() <br> self.box.pack_start(self.textview, True, True, 0) <br> <br> self.button=gtk.Button( <font color="#A31515">"OK"</font> ) <br> self.button.connect( <font color="#A31515">"clicked"</font> , self.button_clicked) <br> self.box.pack_start(self.button, False, False, 0) <br> <br> self.info.show() <br> self.textview.show() <br> self.button.show() <br> self.box.show() <br> <br> self.window.move(100, 100) <br> self.window.resize(640, 480) <br> <br> <font color="#A31515">""</font> <font color="#A31515">"info -   label, textbox_info -   textview"</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#A31515">""</font> <font color="#A31515">" "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> def show(self, info, textbox_info, main_window_title= <font color="#A31515">"GTranslate [Neon Mercury]"</font> ): <br> info=self.process_text(info) <br> textbox_info=self.process_text(textbox_info) <br> self.info.set_text(info) <br> self.textview.get_buffer().set_text(textbox_info) <br> self.window.set_title(main_window_title) <br> self.window.show() <br> <br> def hide(self): <br> self.window.hide() <br> <br> def button_clicked(self, widget, data=None): <br> self.hide() <br> <br> <font color="#A31515">""</font> <font color="#A31515">"   ,   "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> def delete_event(self, widget, <font color="#0000ff">event</font> , data=None): <br> self.hide() <br> <br> <font color="#A31515">""</font> <font color="#A31515">" . Google    ,     65536  :)"</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#A31515">""</font> <font color="#A31515">"        ,      !"</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#A31515">""</font> <font color="#A31515">"  max_len     .      "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#A31515">""</font> <font color="#A31515">"max_len ,   ."</font> <font color="#A31515">""</font> &lt;br/&gt; <br> def process_text(self, text, max_len=160): <br> result= <font color="#A31515">""</font> &lt;br/&gt; <br> i=0 <br> <font color="#0000ff">for</font> <font color="#0000ff">char</font> <font color="#0000ff">in</font> text: <br> i+=1 <br> <font color="#0000ff">if</font> i&gt;max_len and <font color="#0000ff">char</font> == <font color="#A31515">" "</font> : <br> result+= <font color="#A31515">"\n"</font> &lt;br/&gt; <br> i=0 <br> <font color="#0000ff">else</font> : <br> <font color="#0000ff">if</font> <font color="#0000ff">char</font> == <font color="#A31515">"\n"</font> :&lt;br/&gt; <br> i=0 <br> result+= <font color="#0000ff">char</font> &lt;br/&gt; <br> <font color="#0000ff">return</font> result</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Library to translate </h1><br><br>  A separate library was also written to translate the text.  It is also very simple and has three functions.  The first replaces the most frequently used HTML mnemonics with their equivalent.  There are a lot of them, so I wrote a simple script that parsed Wikipedia and, in fact, wrote the whole function for me.  I will not post it on the habr, it is very long, everything will be in the source code.  The second function, which determines the source language of the text, is also simple.  We just take every character of the text.  If it is from the English alphabet, then we increase one counter, if from Russian, then another.  That is, we define the dominant language in the text and consider it as the source.  The third function is the translator.  It determines the source language, sends a request to Google and receives the translated text. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#A31515">""</font> <font color="#A31515">"    . - ."</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#A31515">""</font> <font color="#A31515">"   .   ,  . ."</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#A31515">""</font> <font color="#A31515">"  -   !"</font> <font color="#A31515">""</font> &lt;br/&gt; <br> def determine_languages(text): <br> en_chars_count=0 <br> ru_chars_count=0 <br> <font color="#0000ff">for</font> <font color="#0000ff">char</font> <font color="#0000ff">in</font> text: <br> <font color="#0000ff">if</font> ( <font color="#0000ff">char</font> &gt;= <font color="#A31515">"a"</font> and <font color="#0000ff">char</font> &lt;= <font color="#A31515">"z"</font> ) or ( <font color="#0000ff">char</font> &gt;= <font color="#A31515">"A"</font> and <font color="#0000ff">char</font> &lt;= <font color="#A31515">"Z"</font> ): <br> en_chars_count+=1 <br> elif ( <font color="#0000ff">char</font> &gt;= <font color="#A31515">""</font> and <font color="#0000ff">char</font> &lt;= <font color="#A31515">""</font> ) or ( <font color="#0000ff">char</font> &gt;= <font color="#A31515">""</font> and <font color="#0000ff">char</font> &lt;= <font color="#A31515">""</font> ): <br> ru_chars_count+=1 <br> source_lang= <font color="#A31515">"en"</font> &lt;br/&gt; <br> dest_lang= <font color="#A31515">"ru"</font> &lt;br/&gt; <br> <font color="#0000ff">if</font> ru_chars_count&gt;en_chars_count: <br> source_lang, dest_lang= <font color="#A31515">"ru"</font> , <font color="#A31515">"en"</font> &lt;br/&gt; <br> <font color="#0000ff">return</font> source_lang, dest_lang <br> <br> <font color="#A31515">""</font> <font color="#A31515">"    ."</font> <font color="#A31515">""</font> &lt;br/&gt; <br> def translate(text): <br> source_lang, dest_lang=determine_languages(text) <br> <font color="#0000ff">params</font> ={ <font color="#A31515">"ie"</font> : <font color="#A31515">"UTF-8"</font> , <font color="#A31515">"text"</font> :text, <br> <font color="#A31515">"sl"</font> :source_lang, <font color="#A31515">"tl"</font> :dest_lang} <br> <font color="#0000ff">params</font> =urllib.urlencode( <font color="#0000ff">params</font> ) <br> headers={ <font color="#A31515">"Content-Length"</font> : <font color="#A31515">"%d"</font> % len( <font color="#0000ff">params</font> )} <br> <br> connection=httplib.HTTPConnection( <font color="#A31515">"translate.google.ru"</font> ) <br> connection.request( <font color="#A31515">"POST"</font> , <font color="#A31515">"/translate_t"</font> , <font color="#0000ff">params</font> , headers) <br> response=connection.getresponse() <br> answer=response.read() <br> index=answer.find( <font color="#A31515">"id=result_box"</font> ) <br> <font color="#0000ff">if</font> index!=-1: <br> index+=24 <br> <font color="#A31515">""</font> <font color="#A31515">"       "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> translated_text=answer[index:answer.find( <font color="#A31515">"&lt;/div"</font> , index)] <br> translated_text=replace_html_mnemonics(translated_text) <br> translated_text=translated_text.decode( <font color="#A31515">"koi8-r"</font> ) <br> <font color="#0000ff">return</font> translated_text <br> <font color="#0000ff">else</font> : <br> <font color="#0000ff">return</font> <font color="#A31515">""</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><h1>  Applet </h1><br><br>  Well, here is the actual code of the applet itself: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">#!/usr/bin/python <br> # -*- coding: utf-8 -*- <br> import sys <br> import gtk <br> import gnomeapplet <br> <br> import NeonDialogs <br> <font color="#0000ff">from</font> GTranslateLib import translate <br> <br> <font color="#A31515">""</font> <font color="#A31515">"  !        =)"</font> <font color="#A31515">""</font> &lt;br/&gt; <br> #http: <font color="#008000">//www.citforum.ru/programming/python/gnome_applets/</font> <br> <br> <font color="#A31515">""</font> <font color="#A31515">"  "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#0000ff">class</font> GTranslate(gnomeapplet.Applet): <br> def __init__(self, applet, iid): <br> self.applet=applet <br> self.applet.set_name( <font color="#A31515">"GTranslate"</font> ) <br> self.box=gtk.HBox() <br> self.applet.add(self.box) <br> self.button=gtk.Button( <font color="#A31515">"GTranslate"</font> ) <br> self.box.add(self.button) <br> self.applet.show_all() <br> <br> self.button.connect( <font color="#A31515">"clicked"</font> , self.on_button) <br> self.dialog=NeonDialogs.ShowTextDialog() <br> <br> <font color="#A31515">""</font> <font color="#A31515">"         ,  "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#A31515">""</font> <font color="#A31515">"    ,      ."</font> <font color="#A31515">""</font> &lt;br/&gt; <br> def on_button(self, widget, data=None): <br> text=self.get_text_from_clipboard() <br> translated_text=translate(text) <br> self.dialog.show(text, translated_text) <br> <br> <font color="#A31515">""</font> <font color="#A31515">"     ...  ."</font> <font color="#A31515">""</font> &lt;br/&gt; <br> def on_ppm_about(self, <font color="#0000ff">event</font> , data=None): <br> gnome.ui.About( <font color="#A31515">"GTranslate"</font> , <font color="#A31515">"1.0"</font> , <font color="#A31515">"GPL General Public License"</font> , <br> <font color="#A31515">"           !"</font> , <br> [ <font color="#A31515">"Neon Mercury &lt;wishmaster2009@gmail.com&gt;"</font> ,]).show() <br> <br> <font color="#A31515">""</font> <font color="#A31515">"     .   clipboard     , "</font> <font color="#A31515">""</font> &lt;br/&gt; <br> <font color="#A31515">""</font> <font color="#A31515">" -   .   ."</font> <font color="#A31515">""</font> <br> def get_text_from_clipboard(self): <br> clipboard=gtk.Clipboard(display=gtk.gdk.display_get_default(), selection= <font color="#A31515">"CLIPBOARD"</font> ) <br> text=clipboard.wait_for_text() <br> clipboard.store() <br> <font color="#0000ff">return</font> text <br> <br> def applet_factory(applet, iid): <br> GTranslate(applet, iid) <br> <font color="#0000ff">return</font> True <br> <br> <font color="#A31515">""</font> <font color="#A31515">"   .     (  )."</font> <font color="#A31515">""</font> &lt;br/&gt; <br> def run_in_window(): <br> main_window=gtk.Window(gtk.WINDOW_TOPLEVEL) <br> main_window.set_title( <font color="#A31515">"GTranslate [debug mode]"</font> ) <br> main_window.connect( <font color="#A31515">"destroy"</font> , gtk.main_quit) <br> app=gnomeapplet.Applet() <br> applet_factory(app, None) <br> app.reparent(main_window) <br> main_window.show_all() <br> gtk.main() <br> <br> <font color="#A31515">""</font> <font color="#A31515">"  "</font> <font color="#A31515">""</font> <br> def run_in_panel(): <br> gnomeapplet.bonobo_factory( <font color="#A31515">"OAFIID:GTranslate_Factory"</font> , <br> GTranslate.__gtype__, <br> <font color="#A31515">"GTranslate"</font> , <font color="#A31515">"1.0"</font> , applet_factory) <br> <br> <font color="#A31515">""</font> <font color="#A31515">"   ,   run_in_panel()  run_in_window()"</font> <font color="#A31515">""</font> &lt;br/&gt; <br> run_in_panel()</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><h1>  .server file </h1><br><br>  If you wrote / copy the applet yourself, then below is the .server file for this applet. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">oaf_info</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_server</font> <font color="#ff0000">iid</font> <font color="#0000ff">="OAFIID:GTranslate_Factory"</font> <br> <font color="#ff0000">type</font> <font color="#0000ff">="exe"</font> <font color="#ff0000">location</font> <font color="#0000ff">=" <u>/home/neon/applets/GTranslate/GTranslate.py</u> "</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="repo_ids"</font> <font color="#ff0000">type</font> <font color="#0000ff">="stringv"</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">item</font> <font color="#ff0000">value</font> <font color="#0000ff">="IDL:Bonobo/GenericFactory:1.0"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">item</font> <font color="#ff0000">value</font> <font color="#0000ff">="IDL:Bonobo/Unknown:1.0"</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">oaf_attribute</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="name"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">="GTranslate factory"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="name-ru"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">=" GTranslate"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="description"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Factory of GTranslate"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="description-ru"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">=" GTranslate"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">oaf_server</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_server</font> <font color="#ff0000">iid</font> <font color="#0000ff">="OAFIID:GTranslate"</font> <br> <font color="#ff0000">type</font> <font color="#0000ff">="factory"</font> <font color="#ff0000">location</font> <font color="#0000ff">="OAFIID:GTranslate_Factory"</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="repo_ids"</font> <font color="#ff0000">type</font> <font color="#0000ff">="stringv"</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">item</font> <font color="#ff0000">value</font> <font color="#0000ff">="IDL:GNOME/Vertigo/PanelAppletShell:1.0"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">item</font> <font color="#ff0000">value</font> <font color="#0000ff">="IDL:Bonobo/Control:1.0"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">item</font> <font color="#ff0000">value</font> <font color="#0000ff">="IDL:Bonobo/Unknown:1.0"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">oaf_attribute</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="name"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">="GTranslate"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="name-ru"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">="GTranslate"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="description"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">="GTranslate service of text translation."</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="description-ru"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">="   GTranslate."</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="panel:category"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Accessories"</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;</font> <font color="#800000">oaf_attribute</font> <font color="#ff0000">name</font> <font color="#0000ff">="panel:icon"</font> <font color="#ff0000">type</font> <font color="#0000ff">="string"</font> <font color="#ff0000">value</font> <font color="#0000ff">=" <u>/home/neon/applets/GTranslate/GTranslate.png</u> "</font> <font color="#0000ff">/&gt;</font> &lt;br/&gt; <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">oaf_server</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br> <font color="#0000ff">&lt;/</font> <font color="#800000">oaf_info</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  One note: replace the highlighted lines with your own.  The first is the path to the main applet file (GTranslate.py).  The second is a picture of the applet (Optional, but beautiful).  Don't forget to make the GTranslate.py file executable. <br><br><h1>  Conclusion </h1><br><br>  <a href="http://narod.ru/disk/12254989000/GTranslate.tar.gz.html">Here is the (tar.gz)</a> ( <a href="http://narod.ru/disk/12254998000/GTranslateArchive.rar.html">rar</a> ) archive with the sources of the applet and the installation script.  To install the applet into the system, you must run the install.py file as root (to copy the files to / usr / lib / bonobo / servers /). <br><img src="http://img149.imageshack.us/img149/8290/screendau.png"><br>  Now for translation, just select the text and press the GTranslate button on the panel.  Good luck! <br><br>  <b>UPD:</b> Transferred to <a href="http://habrahabr.ru/blogs/PyGTK/">PyGTK</a> blog <br><br></div><p>Source: <a href="https://habr.com/ru/post/67668/">https://habr.com/ru/post/67668/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../67662/index.html">Aegis Padlock Hard Drive: A New Level of Security</a></li>
<li><a href="../67663/index.html">Distributed computing</a></li>
<li><a href="../67664/index.html">Increasing the editing window in Bitrix using JS and Greasemonkey</a></li>
<li><a href="../67665/index.html">The most expensive domains</a></li>
<li><a href="../67667/index.html">Funny clip on the MMORPG</a></li>
<li><a href="../67669/index.html">EBooks</a></li>
<li><a href="../67670/index.html">Transparent caching of images in Flash / Flex</a></li>
<li><a href="../67671/index.html">World Typography Trends</a></li>
<li><a href="../67672/index.html">Trust or not?</a></li>
<li><a href="../67673/index.html">Photo of Pegatron on ARM (i.MX51) and Asus Eee PC 1005HA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>