<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Django and Selenium Integration</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. 

 It's no secret that application testing is an important step in software development, and if you are developing web applications, then you j...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Django and Selenium Integration</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/cca8b458/cf2c2cab/8aac990b/0467c401.png"><br><br>  Hello. <br><br>  It's no secret that application testing is an important step in software development, and if you are developing web applications, then you just need to test the web interface.  Fortunately, for this purpose there is such a tool as <a href="http://seleniumhq.org/">Selenium</a> .  The well-known companies of <a href="http://habrahabr.ru/company/skbkontur/blog/128427/">SKB Kontur</a> and Yandex have already chosen it as a tool for the functional testing of their applications and services (Yandex talked about this at the recent YaC). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now to the point. <br>  In one of the projects I'm working on, we used <b>Selenium</b> starting from the first branch.  But time does not stand still, Selenium 2.0, based on the <a href="http://seleniumhq.org/docs/03_webdriver.html">webdriver</a> technology, <a href="http://seleniumhq.org/docs/03_webdriver.html">came out</a> , more functional, convenient, and correctly simulating browser events ( <a href="http://seleniumhq.org/docs/appendix_migrating_from_rc_to_webdriver.html">more about the advantages</a> ). <br><br>  In order not to engage in updating the old <b>Selenium</b> support code within our application (what if you have to do this more than once?), And also to try to do something useful for other developers, we decided to immediately bring the integration with Selenium into a separate library. <br><a name="habracut"></a><br>  Next, I will describe what we did and how to use this library. <br><br><h4>  Installation </h4><br>  You can get the library from <a href="https://github.com/dragoon/django-selenium">https://github.com/dragoon/django-selenium</a> or install via pip: <br><pre><code class="bash hljs">pip install django-selenium</code> </pre> <br><h4>  Opportunities </h4><br>  First of all, the library allows you to integrate with the <b>django</b> testing subsystem.  You can either simply specify in the settings to use TestRunner from the library: <br><pre> <code class="python hljs">TEST_RUNNER = <span class="hljs-string"><span class="hljs-string">'django_selenium.selenium_runner.SeleniumTestRunner'</span></span></code> </pre>  either inherit it and write your class. <br>  Behind the scenes, <b>SeleniumTestRunner</b> performs the following operations: <br><ul><li>  starts the server <b>selenium-server.jar</b> </li><li>  starts a test server instance with test <b>fixtures</b> </li></ul>  Next, in order to start writing Selenium tests, you need to create a <b>seltests.py</b> file in the application, similar to the usual <b>tests.py</b> .  Then you simply inherit the test class from <b>django_selenium.testcases.SeleniumTestCase</b> and write tests using Selenium commands to interact with the browser. <br><br><h5>  Standard driver extension </h5><br>  To facilitate the implementation of standard operations, an extended driver class has been written that interacts with the browser, <b>django_selenium.testcases.MyDriver</b> .  It contains such operations as open a url, log in to the site (standard django form), find an item by css selector, find an item and click, check for text on the page, get the alert text and others.  For details, please refer to the source code of the <b>MyDriver</b> class for <b>now</b> . <br><br><h5>  Replacing the test execution command </h5><br>  Finally, to replace the standard django test execution command with a command with selenium test support, you need to inherit the command class somewhere in your application as follows: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django_selenium.management.commands <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> test_selenium <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(test_selenium.Command)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *test_labels, **options)</span></span></span><span class="hljs-function">:</span></span> super(Command, self).handle(*test_labels, **options)</code> </pre>  The command supports two additional options: <ul><li>  <b>--selenium</b> - perform all tests, including Selenium tests </li><li>  <b>--selenium-only</b> - perform only Selenium tests </li></ul>  As in the case of a standard command, you can run Selenium tests for a specific application or only a specific test from an application. <br><br><h4>  Test application </h4><br>  To consolidate the above, I prepared a small django application containing one selenium test: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  selenium-server.jar wget http://selenium.googlecode.com/files/selenium-server-standalone-2.7.0.jar git clone git://github.com/dragoon/django-selenium-testapp.git cd django-selenium-testapp #      SELENIUM_PATH vi settings.py #   ./manage.py test --selenium-only ... ---------------------------------------------------------------------- Ran 1 test in 13.254s OK</span></span></code> </pre><br>  If everything went right, the following picture should be observed: <br><img src="https://habrastorage.org/storage1/645184cd/0b5a1717/7e0296d1/768b2894.png"><br><br>  As always, I will be glad to hear comments and suggestions for further refinement, opinions about how useful this library is, and of course I will be happy with any help for refinement from other githubbers. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/129107/">https://habr.com/ru/post/129107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../129101/index.html">Why WiMax and LTE use OFDM</a></li>
<li><a href="../129102/index.html">Site for launching a little-known product on the market</a></li>
<li><a href="../129103/index.html">Meeting with Opera staff in Moscow</a></li>
<li><a href="../129105/index.html">FreeRTOS: introduction</a></li>
<li><a href="../129106/index.html">Zoomify: Looking for the whole picture</a></li>
<li><a href="../129109/index.html">Dynamic applications with Ocsigen or Yob returns</a></li>
<li><a href="../129111/index.html">Daily Sales - aggregator of discount offers from Chinese online stores</a></li>
<li><a href="../129114/index.html">Cheap and fast usability testing</a></li>
<li><a href="../129117/index.html">Flood-it game automation</a></li>
<li><a href="../129118/index.html">Software spectrum analyzer on a conventional WiFi-card</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>