<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dynamic access control: how to work with assertions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article in this series, I briefed you a little bit and explained what dynamic access control is, how it differs from providing access ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dynamic access control: how to work with assertions</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/197/51f/140/19751f140c973ab2414cf12276ae6d27.jpg" align="right">  In the previous article in this series, I briefed you a little bit and explained what dynamic access control is, how it differs from providing access based on ACLs, its advantages, and also - in two words - o the most frequent scenarios, when it is appropriate to apply this functionality.  The article was a bit cumbersome, filled with purely theoretical material, and, indeed, difficult to read, since it contained no descriptions of any step-by-step procedures. <br>  Starting with this article, I will try to improve and tell you about how to begin acquaintance with this technology.  And, as can be seen from the title of the article itself, it should be nothing more than a statement (they, as I already wrote in the previous article, are also called applications, claims and other words that can be replaced with a <b>claim</b> ), which can be safely attributed to one of the main components of dynamic access control.  Now I will try to give as little as possible theoretical material and almost immediately go to the step by step procedure.  So, what can you learn from this relatively small article? <a name="habracut"></a><br>  And in this article I will tell you: <br><ul><li>  The fact that such statements and what will be of them benefit; </li><li>  You will learn about the types of statements; </li><li>  On conditional expressions and operators; </li><li>  And, most importantly, you'll learn how you can manage claims using the <b>Active Directory Administrative Center</b> and Windows PowerShell. </li></ul><br>  Well, in order not to drag out the introductory part of this article, let's move on to the first section, which is called: <br><h2>  What are statements and what will be their benefits? </h2><br>  I'm afraid to make a mistake, but, most likely, in our time there is no longer a user who has not at least once provided access to some of his public folder.  Especially for this purpose, even in the distant past of Windows NT, Microsoft introduced such a notion as identification into operating systems that has been firmly established for many years.  Everything is obvious here: as I mentioned in one of my articles, access to files and resources was based directly on security identifiers.  It turns out that access to public file resources was provided based on whether the user‚Äôs authentication was successfully completed according to his credentials.  Of course, in most cases, such credentials represented the account name and password, or the user's belonging to a specific group.  You all perfectly know the concept of identification and, I think, there is no point in dwelling on it once again. <br>  But practice shows that in some cases (there are quite a lot of such cases), due to membership in various groups, users may accidentally be given access to such resources, access to which they simply are not allowed.  To get rid of such cases, in the latest operating system from Microsoft was introduced a new concept, which is called, you guessed it, <b>assertion</b> .  Consider what it is. <br>  What is the majority of the population who hear a new or incomprehensible word now?  They drop in on Wikipedia.  What does it say about this?  ‚ÄúApproval in linguistics is a special form of sentence, which in an affirmative form puts forward a hypothesis about a certain phenomenon.‚Äù  Definitely not it. <br>  What else can you find?  ‚ÄúA logical statement is a statement formed from other statements with the help of logical connectives.‚Äù  Also not suitable.  "A statement in programming is a predicate placed in a program and indicating that the developer means this predicate in this place of the program is always true."  But still, it seems that all this is not what is meant in the current context. <br>  In fact, according to official terminology, <b>claims</b> are a trusted source of account information attempting to perform the authorization provided in the attributes of this account, which is stored in Active Directory Domain Services.  Various statements include many properties, such as the security identifier of the user himself or his computer, the unit in which the user can work, his room number, and the city in which he lives.  And you should pay attention to the fact that several statements can be stored in one record, which allows you to make dynamic access control policies flexible enough to satisfy almost any possible need. <br>  At this stage, you may have a completely logical question: what do these statements give us and what is the point?  With statements, you can restrict access to both files and folders.  And the most valuable thing in statements is that all created statements will be published directly in Active Directory.  And, as I mentioned in the previous article on this technology, for the full functioning of dynamic access control in general and assertions in particular, there are no restrictions regarding the functional level of the domain or forest of your organization. <br>  Since I talked in detail about the connection of Kerberos with statements in one of the articles on the Kerberos network authentication protocol, the link to which I gave in the previous article of this series, we will immediately proceed to a topic such as: <br><h2>  Types of Claims </h2><br>  According to the official definition, the type of assertion in Windows Server 2012 is the verification statement about the object with which it is associated.  As you have probably already guessed, the type of claim is based on the Active Directory attribute and serves to determine permissions when developing centralized access rules.  In the Windows Server 2012 operating system, you can use any of the following three types of statements: <br><ul><li>  <b>User claims</b> .  This type of assertion is associated with attribute values ‚Äã‚Äãthat relate to user accounts.  Naturally, domain controllers running the Windows Server 2012 operating system allow you to use for this type of claims the maximum number of user account attributes that are available in Active Directory; </li><li>  <b>Approvals devices</b> .  In turn, this type of claims is responsible for the information provided in the claims, which relates to devices that are represented in computer services in Active Directory Domain Services.  Naturally, this type of assertion also allows you to use most of the available attributes for this type of security principals; </li><li>  <b>Conversion assertions</b> .  The latter type of assertion is the assertion issued by the domain controller when using the assertion conversion policy.  As noted in the first article of this series, domain controllers running Windows Server 2012 allow you to convert outgoing statements from a trusted forest or to a trusting forest.  This type of assertion will be considered in a subsequent article on this technology. </li></ul><br><h2>  Conditional Expressions and Operators </h2><br><img src="https://habrastorage.org/storage2/bb3/45e/f9f/bb345ef9f6e3b0bc210c5ae1e039a1a6.jpg" align="left">  Slowly we will move on to the more interesting part.  More specifically, we will now consider conditional expressions that relate to the OS security subsystem, which appeared in the Windows Server 2012 operating system specifically so that you can implement assertion-based authorization support. <br>  What are these conditional expressions that relate to assertions?  In essence, these conditional expressions are Boolean or logical expressions, which, as a rule, include two operands separated by a special operator.  As a result of conditional expressions, there can always be only two values, and more precisely, these can be TRUE and FALSE.  Here you should also pay attention to the fact that ACE expressions are evaluated both in the case of authorization and during an access audit, therefore, the same expressions can be used in both the first and second cases. <br>  And what happens with these expressions?  I already wrote earlier that the LSA subsystem reads the required information from the PAC and creates access tokens.  After that, based on the information provided by the user, an access check is performed and, based on the permissions assigned in the security token, it is determined whether the end user is allowed or denied access to the resource.  This is all clear.  However, with the advent of claims in the Kerberos authentication information, in addition to the security principal‚Äôs SID, it also became possible to include additional information that can be found in these conditional expressions. <br>  The statements themselves are a collection of such entities as the type of statement and the name of the statement, and they must be separated by a period (you will see this below).  The first part, obviously, is used directly to determine the type of assertion, which, as we clarified in the previous section, can act as a <b>User</b> or <b>Device</b> .  Before mentioning an assertion type, the <b>@</b> symbol must be specified, followed by the type itself.  The part with the name of an assertion is simply a name that you can give to such an assertion when it is created. <br>  The left and right parts of an assertion expression must be compared by a special operator, and the right operand may be a literal value, which may be a fragment of the value of the left operand. <br>  In total, 13 operators can be identified, which, most likely, you should already be known for working with other software products.  I will not talk in detail about each such operator, but simply give their values.  This operator <b><i>is equal</i></b> ( <b><i>==</i></b> ), <b><i>not equal</i></b> ( <b><i>! =</i></b> ), <b><i>Greater than</i></b> ( <b><i>&gt;</i></b> ), <b><i>less than</i></b> ( <b><i>&lt;</i></b> ), <b><i>greater than or equal to</i></b> ( <b><i>&gt; =</i></b> ), <b><i>less than or equal to</i></b> ( <b><i>&lt;=</i></b> ), <b><i>not</i></b> ( <b><i>!</i></b> ), <b><i>And</i></b> ( <b><i>&amp;&amp;</i></b> ) , <b><i>or</i></b> ( <b><i>||</i></b> ), <b><i>contains</i></b> ( <b><i>Contains</i></b> ), that is, when using such an operator, the left operand must contain a fragment of the right operand;  <b><i>any of</i></b> ( <b><i>Any_Of</i></b> ), the purpose of which is somewhat similar to the previous statement, except that only a fragment of the value of the right-hand operand can act as a value;  <b><i>a member of a group</i></b> ( <b><i>MemberOf</i></b> ) is practically the same as it <b><i>contains</i></b> , only SID acts as an operand, as well as the operator of <b><i>any member of the group</i></b> ( <b><i>MemberOF_Any</i></b> ), which can also be compared with the operator of <b><i>any of</i></b> . <br>  Now let's try to consider an example of conditional expressions that can be used with assertions when implementing dynamic access control scripts.  For example, take the following expression: <br><pre> <b><i>
</i></b>  <b><i>@ User.Department == ‚ÄùMarketing‚Äù &amp;&amp; (@ User.Title == ‚ÄùFinancier‚Äù || @ User.Title == ‚ÄùMarketing‚Äù)</i></b> <b><i>
</i></b> </pre><br>  This expression can be divided into three parts, and each such part uses assertions, and the second and third parts, which are in brackets, will be processed simultaneously.  Now a little more detail and in parts. <br>  Based on the priorities of conditional expressions, the first should be executed expressions that are located in brackets.  Here in brackets you can find two operators: == and ||.  Again, if you look at priorities, the == operator should always be processed first.  Therefore, the expression is processed from left to right. <br>  Here, the type of user approval is <a href="http://habrahabr.ru/users/user/" class="user_link">User</a> .Title, which is responsible for the position of your employee.  So, we check whether the post of "Financier" is a user.  Suppose that our user is a marketer, which means that in the first expression the value is FALSE, that is, false.  However, between two expressions, we have the operator ||, which means a logical "OR".  This means that if the second expression is true, then the leftmost conditional expression will be checked. <br>  In our case, since the user is a marketer, the second conditional expression in parentheses will be TRUE, and this means that conditions can be checked further.  At this stage, we get the following expression: <br><pre> <b><i>
</i></b>  <b><i>@ User.Department == ‚ÄùMarketing‚Äù &amp;&amp; (FALSE || TRUE)</i></b> <b><i>
</i></b> </pre><br>  This means that the expression can be reduced even more, to: <br><pre> <b><i>
</i></b>  <b><i>@ User.Department == ‚ÄùMarketing‚Äù &amp;&amp; TRUE</i></b> <b><i>
</i></b> </pre><br>  After that, the leftmost conditional expression is checked.  Here, I think everything is clear.  It is checked whether the department of our user is <b>‚ÄúMarketing‚Äù</b> .  Since our user is a marketer, let's assume that his department is the marketing department, which means that the expression is true.  We get the following: <br><pre> <b><i>
</i></b>  <b><i>TRUE &amp;&amp; TRUE</i></b> <b><i>
</i></b> </pre><br>  Since the &amp;&amp; operator is a logical AND, this means that both conditions must be true.  In our case it is.  Therefore, the condition is true and access will be granted.  If FALSE figured here somewhere, then with the &amp;&amp; operator it would prevail, and ultimately we would get the result FALSE. <br>  In other words, we get an expression that is shown in the following illustration: <br><br><img src="https://habrastorage.org/storage2/056/ec4/92f/056ec492fb467aa681ee2a34c8fb76dd.png"><br>  <b>Fig.</b>  <b>1. An example of a conditional expression in the folder permission dialog box</b> <br>  QUESTION for the attentive reader: what is the following conditional expression, and how the check will be performed, if we consider that we are dealing with the same user, which was discussed above: <br><pre> <b><i>
</i></b>  <b><i>(@ User.Title == ‚ÄùAccountant‚Äù || @ User.Title == ‚ÄùFinancier‚Äù) ||</i></b>  <b><i>@ User.Department! = ‚ÄùSupport Service‚Äù</i></b> <b><i>
</i></b> </pre><br><h2>  And what are the objects of the statements themselves? </h2><br>  As you know, in the Active Directory schema you can find a description of all the objects you can work with in Active Directory Domain Services.  And the objects of dynamic access control technology are by no means an exception.  So far at this stage, I see no reason to describe all objects that have a particular relationship to the current technology, but simply note that there are 9 such objects (there are almost three times more attributes), but in the case with the statements considered at this stage , you can select only two objects, namely: <br><ul><li>  <b>msDS-ClaimTypePropertyBase</b> .  This Active Directory class is an abstract class object that is often used to predetermine common attributes for objects of the <b>msDS-ClaimType classes</b> , as well as <b>msDS-ResourceProperty</b> , which you will learn about in the next article.  Three attributes are associated with this object: <b><i>Enabled</i></b> (everything is clear without any explanation), <b><i>msDS-ClaimPossibleValues</i></b> (represents a string Unicode value that defines the expected value in the user interface. This value is usually stored in an XML file) and <b><i>msDS-ClaimsSharesPossibleValuesWith</i></b> ( takes the distinguished name of the msDS-ClaimType object and is used as an attribute that predetermines the msDS-ClaimPossibleValues ‚Äã‚Äãvalues ‚Äã‚Äãfor the msDS-ResourceProperty object); </li><li>  <b>msDS-ClaimType</b> .  But this Active Directory class is a structural class for objects used to represent assertions used by the organization‚Äôs security principals.  This object already includes a larger number of attributes, which include: <b><i>msDS-ClaimAttributeSource</i></b> (includes the distinguished name of the attribute definition scheme that is used as the source of the statement), <b><i>msDS-ClaimIsSingleValued</i></b> (a Boolean value that determines whether the statement contains or an assertion type has only one value), <b><i>msDS-ClaimIsValueSpaceRestricted</i></b> (again, includes a Boolean value that determines whether the current class object can take values ‚Äã‚Äãthat differ from the value defined in the msDS-ClaimPossibleValues ‚Äã‚Äãattribute), <b><i>msDS-Cla</i></b>  <b><i>imSource</i></b> (this attribute is responsible for the non-attribute source for the msDS-ClaimType object, an example of which is, say, a certificate), <b><i>msDS-ClaimSourceType</i></b> (the attribute responsible for the source of the approval type), <b><i>msDS-ClaimTypeAppliesToClass</i></b> (an attribute that defines the class scheme the security principal object to which the statement is issued), <b><i>msDS-ClaimValueType</i></b> (an attribute that binds unique values ‚Äã‚Äãas a long integer). </li></ul><br>  The objects of the <b>msDS-ClaimType class are</b> depicted in the following illustration: <br><br><img src="https://habrastorage.org/storage2/f40/8aa/9ac/f408aa9ac4f750fdf7118816d7b9ef4a.png"><br>  <b>Fig.</b>  <b>2. Objects of the msDS-ClaimType Class</b> <br><h2>  Claims Management </h2><br>  Due to the fact that in the latest server operating system from Microsoft, developers tried to devote directly to tools such as the <b>Active Directory Administrative Center</b> , as well as the Windows PowerShell command shell, you can manage your claim types using the first and second tools. facilities.  Since it would be unfair to consider only one tool, in the following sections I will show how to work with statements using these two tools of administration.  And we begin, naturally, with <br><h3>  Claims Management by Active Directory Central Administration Tools </h3><br>  In principle, the already purely theoretical part has dragged on for a long time, so without unnecessary preludes, I will probably get to the bottom.  So, to create a claim that will be used for subsequent centralized access policies using Active Directory Central Administration tools, you will need to perform the following steps: <br><ol><li>  On the domain controller, open the <b>Active Directory Administration Center</b> window, where in the list area, highlight the <b>Dynamic Access Control</b> node, and then select the <b>Claim Types</b> node ( <b>Dynamic Access Control</b> &gt; <b>Claim Types</b> ); </li><li>  In the displayed node, right-click in the details pane and from the context menu, select <b>New</b> and <b>Claim Type</b> ( <b>New</b> &gt; <b>Claim Type</b> ), as shown in the following illustration, or go to the dynamic tile on the home page of the Active Directory Administrative Center access control and in the Active Directory action group, select the first action, called creating an assertion type.  Both in the first and in the second case, the dialog box for creating a new type of statement will open. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/cfd/691/b39/cfd691b39f9f6b5cba277121de1018b2.png"><br>  <b>Fig.</b>  <b>3. Opening the dialog box to create a new type of approval</b> </li><li>  When the <b>‚ÄúCreate Approval Type‚Äù</b> dialog box appears in front of you, in the <b>Source Attribute</b> section, you can decide on the source attribute and additional configuration items on the basis of which your approval type will be created.  As you can see in the following illustration, the first thing that can catch your eye as soon as you open the current dialog box is the large <b>Source Attribute</b> list, which contains many different attributes, from which you can select the desired source attribute for your created approval.  Such a list is formed from a number of classes of objects, which include the classes <b>User</b> , <b>Computer</b> , <b>inetOrgPerson</b> , <b>ManagerServiceAccount</b> , <b>GroupManagerServiceAccount</b> , as well as auxiliary classes of objects.  When choosing attributes, be sure to note that only attributes with string values, including Unicode, Boolean values, integers, including large integers, as well as OID and SID strings appear in the current list.  Also, of course, this list will not display attributes that are not replicated, blocked attributes, and attributes that are not available on read-only domain controllers (that is, RODCs).  For example, in this case, the <b>department</b> attribute is selected, but note that before you select an attribute, prematurely plan the structure of your statements for subsequent centralized access policies. <br><br><img src="https://habrastorage.org/storage2/7bf/38b/17e/7bf38b17e1bba74a0b3db491ca3725ea.png"><br>  <b>Fig.</b>  <b>4. Section "Attribute source" created type of approval</b> </li><li>  In addition, this section of the approval type creation dialog box also provides other parameters, namely: <br><ul><li>  <b>Display Name</b> .  Represents a text field containing a unique display name that is assigned to the type of claim you created.  Such a name will figure to perform subsequent operations, so it will be best if you use readable and understandable names in the future as such a name.  Naturally, alphanumeric values ‚Äã‚Äãare available for the type of statement that is being created; </li><li>  <b>Description</b> ( <b>Description</b> ).  Represents a comment field for the type of claim you create.  The number of characters in this field is limited - 1024 characters.  Therefore, when adding your comments and goals for using the type of statement being created, you should be concise; </li><li>  <b>This type of statement can be issued for the following classes</b> ( <b>Claims of this type can be issued for the following classes</b> ).  A control element that allows you to choose whether an assertion will apply only to certain types of security principals (for example, only to users or only computers), or by checking both boxes, you can allow the current type of approval for both types of accounts to be used; </li><li>  <b>Assign a semantically identical type of statements from a trusting forest to an identifier in order to simplify the use of statements in a forest associated with a trust relationship</b> ( <b>Set ID to a semantically correct claim</b> ).  Represents a checkbox to define a method for creating an assertion type identifier.  If you do not set this flag, the Active Directory Administrative Center will assign this identifier automatically.  What does he look like?  This identifier begins with the lowercase letters <b>ad</b> , followed by a colon, two slashes, the letters <b>ext,</b> and another slash ( <b>ad: // ext /</b> ).  This is the standard beginning of the identifier.  After that, the administration center adds the name of the attribute you selected and after the colon is added in random order a value in hexadecimal format, which to some extent can remind you of a regular GUID.  That is, ultimately, the identifier in this example looks like this: <br>  <b>ad: // ext / department: 88d0094e632018a6</b> <br>  In turn, if you create an assertion type for forests that are linked by a trust relationship, then by default, metadata for each type of assertion will be unique for each forest, and as a result, domain controllers in the trusting forest will not be able to process assertions from the trusted forest.  For this reason, you need to make sure that the identifier of the type of statement being created will be semantically identical between trusted and trusted forests.  Therefore, this flag should be set only in the above case.  Of course, if you specify an identifier manually, then it must correspond to the naming context, which was mentioned a little earlier.  Be sure to remember how each identifier should begin, after ext / there should be no more than 32 characters, which should not contain special characters and end with a slash.  These are mandatory conditions.  And, of course, remember that such identifiers must be unique; </li><li>  <b>Protection from accidental deletion</b> ( <b>Protect from accidental deletion</b> ).  The checkbox, which, as in the case of operations you already know in Active Directory, protects the type of assertion being created from inadvertent deletion.  Despite the fact that by default, only administrators can create, change and delete assertion types by default, in some cases this option may come in handy. </li></ul></li><li>  The section called <b>‚Äú</b> <b>Suggested Values</b> <b>‚Äù</b> ( <b>Suggested Values</b> ) is responsible for predetermining selectable values ‚Äã‚Äãthat you can choose using the approval type in a conditional expression.  As you can see in the following illustration, here you can focus on the choice of the following values: <br><br><img src="https://habrastorage.org/storage2/039/8c6/ba1/0398c6ba19b27490f70cce5995708a6a.png"><br>  <b>Fig.</b>  <b>5. Section "Proposed Values" of the type of statement being created</b> <br><ul><li>  <b>No suggested values</b> ( <b>No values ‚Äã‚Äãare suggested</b> ).  Parameter that is set by default when creating any type of statement.  It assumes that you will not override the values ‚Äã‚Äãfor the types of statements, and such values ‚Äã‚Äãwill be typed manually when creating the conditional expressions themselves; </li><li>  <b>The following values ‚Äã‚Äãare suggested</b> ( <b>The following values ‚Äã‚Äãare suggested</b> ).  In this case, you can create one or several values ‚Äã‚Äãthat will be available for selection from the corresponding list during the subsequent creation of a conditional expression.  Therefore, to work with such values, you can use the <b>Add</b> , <b>Edit</b> and <b>Delete</b> buttons ( <b>Add</b> , <b>Edit</b> and <b>Remove</b> ), which can be found in the current section of the properties dialog box of the type of approval being created.  How exactly are such values ‚Äã‚Äãcreated? <br>  When you click the <b>"Add"</b> button <b>,</b> you will see the <b>"Add proposed value"</b> dialog box where you can find three text fields: " <b>Value</b> ", which is the recommended value in the corresponding text field of the conditional expression, <b>"Display Name"</b> ( <b>Display Name</b> ) - the name that will be responsible for the current value and will appear when choosing such a value, as well as ‚Äú <b>Description</b> ‚Äù ( <b>Description</b> ), which is responsible for an arbitrary description for such a value. <br>        : <br><br><img src="https://habrastorage.org/storage2/e27/984/534/e2798453456205b427ad8006354ad755.png"><br>  <b>Fig.</b> <b>6.     </b> </li></ul></li><li>           .  Is done. </li></ol><br>  ,     ,       :   .          ,         .      ,             ¬´ <b></b> ¬ª ( <b>Disable</b> ). <br><h3>    Windows PowerShell </h3><br>  PowerShell ,  , .      ,           Microsoft       ,   ,                   . <br>      ,       ,         ,     Active Directory  Windows PowerShell.    PowerShell,   , , ,     .  ,  ,      ,         Active Directory. <br>      ,       (     ),     ,      . : <br>     ,   <b>New-ADClaimType</b> .         21 ,       .         ,         .   : <br><pre> <b><i><font></font>
New-ADClaimType ‚ÄìAppliesToClasses:@('user') ‚ÄìDescription:‚Äù  division‚Äù -DisplayName:‚Äùdivision‚Äù ‚ÄìIssingkeValued:$true ‚ÄìServer:‚ÄùDC.biopharmaceutic.local‚Äù ‚ÄìProtectedFromAccedentialDeletion:$true ‚ÄìSourceAttribute:‚ÄùCN=Division,CN=Schema,CN=Configuration,DC=biopharmaceutic,DC=local‚Äù<font></font>
</i></b> </pre><br>       .  ,   <b>‚ÄìAppliesToClasses</b> :    @,           .      ,   .      ,      .     ,   <b>‚ÄìID</b>       , , <b><i>-ID:ad://ext/division:88d00962e3d07cd1</i></b> . <br>      ,            .      ,       <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">marketing specialist</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">accountant</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">financier</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><pre> <b><i><font></font>
New-ADClaimType -AppliesToClasses:@('user') -Description:" " -DisplayName:"title" -IsSingleValued:$true -Server:"DC.biopharmaceutic.local" -ProtectedFromAccidentalDeletion:$true -SourceAttribute:"CN=Title,CN=Schema,CN=Configuration,DC=biopharmaceutic,DC=local" -SuggestedValues:@((New-Object Microsoft.ActiveDirectory.Management.ADSuggestedValueEntry("", "", "   ")), (New-Object Microsoft.ActiveDirectory.Management.ADSuggestedValueEntry("", "", "   ")), (New-Object Microsoft.ActiveDirectory.Management.ADSuggestedValueEntry("", "", "   ")))<font></font>
</i></b> </pre><br>      ,    .     ,     .    <b><i>‚ÄìSuggestedValues</i></b> ,    ,    .   ,     .  ,      @   ,    <b><i>New-Object</i></b> ,     <b><i>Microsoft Active Directory Management ADSuggestedValueEntry</i></b>   ,      .              .    - . <br>    ,         .   ,  ,     .        <b>Set-ADClaimType</b> , ,   - <b>Enabled</b> . ,    : <br><pre> <b><i><font></font>
Set-ADClaimType -Identity "CN=ad://ext/division:88d00968ab6e025f,CN=Claim Types,CN=Claims Configuration,CN=Services,CN=Configuration,DC=biopharmaceutic,DC=local" -Enabled:$false<font></font>
</i></b> </pre><br>      ,    ‚Äì <b><i>Identity</i></b>           <b>distinguishedName</b>    .  ,  ,   . <br>     Windows PowerShell    : <br><br><img src="https://habrastorage.org/storage2/9ec/53f/132/9ec53f1329670b934210d2ddd8348f3e.png"><br>  <b>Fig.</b> <b>7. ,      </b> <br> ,         ,     Active Directory      ,       .     : <br><br><img src="https://habrastorage.org/storage2/73a/ddd/e50/73addde504a0e3106194706be1dc33ae.png"><br>  <b>Fig.</b> <b>8.    Active Directory</b> <br><h2>  So what is next? </h2><br>  ,       .     ,    ,    ,    ,      ,           ¬´ <b> </b> <b>Active Directory</b> ¬ª  Windows PowerShell. <br> ,            ,         , ,   . ,          . </div><p>Source: <a href="https://habr.com/ru/post/177575/">https://habr.com/ru/post/177575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177559/index.html">Manipulating URLs in JavaScript</a></li>
<li><a href="../177563/index.html">Crowdsourcing and UFO, what is common?</a></li>
<li><a href="../177567/index.html">Django report server</a></li>
<li><a href="../177569/index.html">I am writing a toy OS (more accessible about the scheduler)</a></li>
<li><a href="../177571/index.html">How to become a real analyst requirements. Part 1. Great analysts are born or become?</a></li>
<li><a href="../177577/index.html">256 Gb OCZ Vector SSD Drive Overview</a></li>
<li><a href="../177581/index.html">How to start writing tests in 10 steps of 10 minutes</a></li>
<li><a href="../177589/index.html">Fittestness Test</a></li>
<li><a href="../177595/index.html">DIY: dumbbells as a way to store DVDs</a></li>
<li><a href="../177597/index.html">Take part in the contest "Northern Lights"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>