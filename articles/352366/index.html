<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Smart face control: machine learning algorithms for efficient data caching on SSD</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article was presented at the SECR2017 conference, where it won the Bertrand Meyer award for the best research report. 

 In this material, Svetla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Smart face control: machine learning algorithms for efficient data caching on SSD</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/9t/6k/sr/9t6ksr60rwindv3bbvabikujj-4.jpeg"><br><br>  This article was presented at the SECR2017 conference, where it won the Bertrand Meyer award for the best research report. <br><br>  In this material, Svetlana Lazareva, the head of the research laboratory ‚ÄúRadics‚Äù, talks about a new algorithm for filling a parallel cache in the storage system, which is based on a machine learning algorithm. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VeA_8Tkh8zM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <a href="https://dl.acm.org/citation.cfm%3Fid%3D3166094%26picked%3Dprox%26CFID%3D849433272%26CFTOKEN%3D57448168">Original article</a> and <a href="http://2017.secr.ru/program/submitted-presentations/smart-face-control-machine-learning-algorithms-for-efficient-ssd-caching">presentation</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Hybrid systems </h2><br>  The main customer requirements for storage systems are the high I / O performance provided by solid-state drives (SSD) and the low cost per operation guaranteed by disk drives (HDD).  The reason for the differences between hard drives and solid-state drives lies in their internal work.  HDD to access a specific data block is required to move the head and rotate the magnetic disks, which in the case of many random requests leads to high costs, while the SSD has no mechanical parts and can serve both sequential and random requests with the same high speed. <br><br>  But the high performance of solid-state drives has reverse sides.  Firstly, it is a limited service life.  Secondly, this is the price, which per unit of capacity is noticeably higher than that of traditional HDDs.  For this reason, data storage systems built exclusively from SSDs are of limited distribution and are used for particularly loaded systems that have expensive data access times. <br><br>  Hybrid systems are a compromise between cheap but slow storage on HDD and productive, but expensive storage on SSD.  In such systems, solid-state drives play the role of additional cache (in addition to RAM) or tiring.  In <a href="https://habrahabr.ru/company/raidix/blog/328078/">this article,</a> we gave arguments on the choice of a particular technology. <br><br>  Using solid-state drives as cache devices in combination with a limited number of rewriting cycles can significantly speed up their wear due to the logic of traditional caching algorithms leading to intensive use of the cache.  Thus, hybrid storage systems require special caching algorithms, taking into account the features of the used cache device - SSD. <br><br>  The simplest implementation of the idea of ‚Äã‚Äãa hybrid array is a second-level cache (see Figure 1), when all requests after the RAM are on the SSD.  The basis of this approach is the property of temporal locality - the probability of requesting the same data is the higher, the smaller the last access time.  Thus, using SSD-cache, as a second-level cache, we would increase the amount of RAM.  But if the RAM is enough to handle temporary locality, then this method is not effective.  Another approach is to use SSD cache as a parallel (see Figure 2).  Those.  some requests go into RAM, some immediately into the SSD cache.  This is a more complex solution, aimed at the fact that different caches handle different locality.  And one of the most important moments of the implementation of the parallel level cache is the choice of SSD cache filling technique.  This article describes a new algorithm for filling a parallel cache ‚Äî face control, based on a machine learning algorithm. <br><br>  The proposed solution is based on the use of data from the history of requests to storage systems recorded over long periods of time.  The decision is based on two hypotheses: <br><br><ul><li>  Query histories describe typical storage load for at least a limited amount of time. </li><li>  Storage load retains some kind of internal structure that determines which blocks and with what frequency are requested. </li></ul><br>  While the first hypothesis is almost beyond doubt and remains an assumption, the second requires experimental verification. <br><br><img src="https://habrastorage.org/webt/yp/gz/qi/ypgzqihduwe9ctelxwul6gyh5yy.png"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">1. Second Level Cache</font></i> <br><br><img src="https://habrastorage.org/webt/ok/hf/kd/okhfkdzm_ftmssesplqawj9f3lu.png"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">2. Parallel cache</font></i> <br><br><h2>  Solution Architecture </h2><br>  The architecture of the proposed solution is presented in Fig.  3. All requests coming from customers, first go through the analyzer.  Its function is to detect sets of consecutive requests to the system. <br><br><img src="https://habrastorage.org/webt/gn/xo/6e/gnxo6ec4npkalgoa_-ient4wrsy.png"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">3. Solution architecture</font></i> <br><br>  Depending on the type, they are processed differently: <br><br><ul><li>  <b>Sequential write</b>  Requests of this type do not cause problems and are processed quickly, so the data they are accessing does not fall into the SSD cache. </li><li>  <b>Sequential reading</b> .  Requests of this type are processed quickly due to read-ahead algorithms, usually such requests are unique (ie, repeated sequential reading of the same data is unlikely), so such data is not necessary to be cached in the SSD. </li><li>  <b>Random entry</b> .  Such requests cause noticeable costs in both write-through and when injected into RAM, since  data when popping out of the cache will still require writing to hard drives.  Therefore, they immediately, bypassing the RAM, are sent to the SSD cache for writing, where they are stored log-structured and pushed out as consistently as possible for more efficient further writing to the array of hard drives. </li><li>  <b>Random reading</b> .  Data is cached in RAM or in SSD depending on the face control algorithm. </li></ul><br>  In this system, only random queries affect SSD wear.  Random write requests cannot be optimized.  Thus, the only way to increase the life of an SSD is to optimize the processing of requests such as random reading.  If you have a way to assess the potential effect of caching specific data, you can get rid of the need to cache ‚Äúunnecessary‚Äù data. <br><br>  Works that offer solutions to increase the service life of SSD in hybrid storage systems as a whole can be divided into two groups.  The first group considers the possibility of improving the efficiency of caching based on solid-state drives through the use of internal logic and technical features [5, 1].  Such algorithms are highly dependent on the specifics of specific devices and therefore will not be further illuminated. <br><br>  The works of the second group focus their attention on creating new caching algorithms.  The idea of ‚Äã‚Äãall is common: rarely used data should not fall into the cache.  This, firstly, reduces the number of entries in comparison with traditional algorithms and, secondly, increases the number of cache hits due to less clogging of the cache with few used blocks. <br><br><ul><li>  <b>LARC - Lazy Adaptive Replacement Cache</b> [4].  The algorithm uses simple logic: if a block was requested at least twice in a certain period of time, then it will probably be needed in the future and will be included in the SSD cache.  Candidate blocks are tracked using an additional LRU queue in memory.  The advantages of this algorithm include relatively low resource requirements. </li><li>  <b>WEC - Write-Efficient Caching Algorithm</b> [6].  Standard caching algorithms do not allow frequently used blocks to be continuously in the cache.  This algorithm is designed to allocate such blocks and ensure that the cache is in the cache for the time of active access to them.  This work also uses an additional cache queue, but with a more complex logic for determining candidate blocks. </li><li>  <b>Elastic Queue</b> [2].  Indicates a lack of all previously proposed caching algorithms: lack of adaptability to different loads.  It considers the work with the priority queue as a common basis, and the differences in the logic of assigning priorities and suggests a generalized improvement in the queue from this point of view. </li></ul><br>  At the root of the algorithms discussed above, there is a natural method in computer science - the development of algorithms, often of a heuristic nature, based on an analysis of existing conditions and assumptions.  This paper offers a fundamentally different approach, based on the fact that the workload to the storage system is self-similar.  Those.  By analyzing past queries, we can predict future behavior. <br><br><h2>  Machine learning algorithms </h2><br>  This task can be approached from two sides: using traditional methods of machine learning or representational learning.  The former first require data processing to extract relevant features from them, which are then used to train models.  Methods of the second approach can directly use the initial data that underwent minimal preprocessing.  But, as a rule, these methods are more complex. <br><br>  An example of a presentation training can serve as deep neural networks (see [3] for more details).  As a simple base model, you can try decision trees.  Signs on which training will be performed can be: <br><br><ul><li>  Mean Time Stack Time </li><li>  The ratio of the number of reads and records </li><li>  The ratio of the number of random and sequential queries that are calculated on fixed segments of the query history. </li></ul><br>  The presentation teaching methods are promising.  The available data are time series, which can be considered when choosing the appropriate algorithms.  The only group of algorithms that use the information about the sequential data structure in their calculations is recurrent neural networks [3].  Therefore, models of this type are the main candidates for solving the problem. <br><br><h3>  Data </h3><br>  Data is a history of queries to the storage system.  The following information is known about each request: <br><br><ul><li>  The time of the request; </li><li>  The logical address of the first block (logical block address - lba); </li><li>  Request size (len); </li><li>  Type of request - write or read; </li><li>  Type of request - sequential or random. </li></ul><br>  Experiments and data analysis were carried out on real loads received from different customers.  The file with the history of requests from customers in the future we call the log. <br>  To analyze the effectiveness of a particular caching algorithm, you must enter a metric.  Standard metrics such as the number of cache hits and the average access time to the data are not suitable, because  they do not take into account the intensity of use of the cache device.  Therefore, we will use Write Efficiency [6,2] as a metric of caching efficiency: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>W</mi><mi>E</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mi>u</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi><mspace width=&quot;mediummathspace&quot; /><mi>h</mi><mi>i</mi><mi>t</mi><mi>s</mi><mspace width=&quot;mediummathspace&quot; /><mi>t</mi><mi>o</mi><mspace width=&quot;mediummathspace&quot; /><mi>c</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>e</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mi>u</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi><mspace width=&quot;mediummathspace&quot; /><mi>r</mi><mi>e</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>s</mi><mspace width=&quot;mediummathspace&quot; /><mi>t</mi><mi>o</mi><mspace width=&quot;mediummathspace&quot; /><mi>c</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>e</mi></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="58.299ex" height="2.419ex" viewBox="0 -780.1 25100.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-57" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-45" x="1048" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMAIN-3D" x="2090" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-66" x="3397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-72" x="3947" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-61" x="4399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-63" x="4928" y="0"></use><g transform="translate(5362,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-75" x="600" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-6D" x="1173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-62" x="2051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-65" x="2481" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-72" x="2947" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-68" x="3621" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-69" x="4197" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-74" x="4543" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-73" x="4904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-74" x="5596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-6F" x="5957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-63" x="6665" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-61" x="7099" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-63" x="7628" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-68" x="8062" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-65" x="8638" y="0"></use></g><g transform="translate(14467,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-75" x="600" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-6D" x="1173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-62" x="2051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-65" x="2481" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-72" x="2947" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-72" x="3621" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-65" x="4072" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-63" x="4539" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-6F" x="4972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-72" x="5458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-64" x="5909" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-73" x="6433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-74" x="7124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-6F" x="7486" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-63" x="8194" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-61" x="8627" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-63" x="9157" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-68" x="9590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/raidix/blog/352366/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjBmQ2MwDRzd3sXApLeJGKSQCvI-g#MJMATHI-65" x="10167" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>W</mi><mi>E</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mi>u</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi><mspace width="mediummathspace"></mspace><mi>h</mi><mi>i</mi><mi>t</mi><mi>s</mi><mspace width="mediummathspace"></mspace><mi>t</mi><mi>o</mi><mspace width="mediummathspace"></mspace><mi>c</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>e</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mi>u</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi><mspace width="mediummathspace"></mspace><mi>r</mi><mi>e</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>s</mi><mspace width="mediummathspace"></mspace><mi>t</mi><mi>o</mi><mspace width="mediummathspace"></mspace><mi>c</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>e</mi></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> WE = \ frac {number \: hits \: to \: cache} {number \: records \: to \: cache} </script></p><br>  Query history is divided into blocks of successive queries.  Block size is denoted as blocksize.  For one query, the metric is calculated as follows: history looks for the closest windowsize queries and counts the number of queries to the same data as in the original.  For a block of request blocksize, the average value of the metric by block is calculated. <br><br>  Then the blocks are divided into two classes: ‚Äúgood‚Äù and ‚Äúbad‚Äù (see Fig. 4).  ‚ÄúBad‚Äù (red) means that it is not recommended to send a block of requests to the SSD cache (it is sent to the RAM), ‚Äúgood‚Äù (green), respectively, that this block of requests is sent to the SSD cache.  Those blocks whose coefficient WE is greater than the parameter m will be considered ‚Äúgood‚Äù.  The remaining blocks will be considered "bad." <br><br><img src="https://habrastorage.org/webt/4e/qh/th/4eqhthvigwldt9dj07dv11qkrpc.jpeg"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">4. Break logs into blocks</font></i> <br><br>  Calculating metrics for large windowsize values ‚Äã‚Äãcan take a significant amount of time.  Computational constraints are imposed on how far a block reuse can be calculated.  Two questions arise: <br><br><ul><li>  How to choose the windowsize option? </li><li>  Is reuse of blocks within windowsize a representative value for judging reuse of these blocks in general? </li></ul><br>  To answer them, the following experiment was conducted: <br><br><ol><li>  A random sample of requests was taken; </li><li>  It is estimated reuse of these blocks within the significantly larger windowsizemax; </li><li>  The Pearson correlation coefficient between the reuse of blocks within windowsizemax and windowsize is calculated, where windowsize is the different test values. </li></ol><br>  In fig.  5 shows the change in the correlation coefficient on the sample over time.  Table 1 presents the value of the correlation coefficient for the entire sample.  The result is significant (P-value is close to zero).  It can be interpreted as follows: blocks that are in demand in the next windowsize requests are also likely to be in demand in the next windowsizemax requests. <br><br><img src="https://habrastorage.org/webt/jg/zf/b0/jgzfb0pxcfm4sbjkiblkzj5fceu.jpeg"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">5. Dynamics of the correlation coefficient between windowsize and windowsizemax</font></i> <i><font color="#99999"><br></font></i>  <i><font color="#99999">Comment to fig.</font></i>  <i><font color="#99999">5. From top to bottom, windowsize: 100000, 10000, 30000, 3000. Sample size: 1,000,000 queries.</font></i>  <i><font color="#99999">The x-axis: the number of the running window of 1000 queries;</font></i>  <i><font color="#99999">y-axis: correlation coefficient value for a running window.</font></i> <br><br>  <i><font color="#99999">Table 1. Pearson correlation coefficient for different windowsize.</font></i> <br><table><tbody><tr><th>  windowsize </th><th>  3000 </th><th>  10,000 </th><th>  30,000 </th><th>  100,000 </th></tr><tr><td>  1,000,000 </td><td>  0.39 </td><td>  0.61 </td><td>  0.82 </td><td>  0.87 </td></tr></tbody></table><br>  Thus, to calculate the metric, a windowsize value of 100000 is taken. <br>  To build probabilistic models, the data set is standard [3, p.  120] was divided into three parts: <br><br><ul><li>  Training sample: 80%; </li><li>  Test sample: 10% (for the final testing of the model); </li><li>  Validation Sample: 10% (for selecting parameters and tracking the progress of the model during training, regardless of the training sample). </li></ul><br>  It is worth noting that in the case of models of deep learning, samples cannot be made random, since in such a case the temporary connections between requests will be destroyed. <br><br><h3>  Deep learning models </h3><br>  Building a deep learning model requires multiple decisions.  Provide a detailed explanation of each of them in this work is not possible.  Some of them are selected according to the recommendations in the literature [3] and original articles.  You can find detailed motivation and explanations in them. <br><br>  Common parameters: <br><br><ul><li>  The objective function is cross-entropy (the standard choice for the classification problem) [3+, p.  75]; </li><li>  Optimization algorithm - Adam [7]; </li><li>  The parameter initialization method is Glorot [8]; </li><li>  The regularization method is Dropout [9] with the parameter 0.5. </li></ul><br>  Parameters tested: <br><br><ul><li>  The number of recurrent layers of the neural network: 2, 3, 4; </li><li>  The number of output neurons in each lstm unit: 256, 512; </li><li>  The number of time steps of the recurrent neural network: 50,100; </li><li>  Block size (the number of requests in the block): 100, 300, 1000. </li></ul><br><h4>  Basic deep learning method - LSTM RNN </h4><br>  It was tested models of varying complexity.  For all, the result is negative.  The learning dynamics is shown in Fig.  6 <br><br><img src="https://habrastorage.org/webt/qg/8l/6s/qg8l6shr0drx71mcycgmcloddak.png"><br>  <i><font color="#99999">Figure 6. LSTM RNN.</font></i>  <i><font color="#99999">Change in loss function during training</font></i> <i><font color="#99999"><br><br></font></i>  <i><font color="#99999">Comment to fig.</font></i>  <i><font color="#99999">6. Red - training sample, green - test.</font></i>  <i><font color="#99999">Graph for the model of medium complexity with three recurrent layers.</font></i> <i><font color="#99999"><br></font></i> <br><h4>  Pre-training and LSTM RNN </h4><br>  Pre-training was tested on the query flow modeling problem (prediction of the next query).  The mean square error between the predicted value of lba and the present was used as the objective function.  The result is negative: the learning process on the secondary task does not converge.  The learning dynamics is shown in Fig.  7 <br><br><img src="https://habrastorage.org/webt/lb/xv/hb/lbxvhbuto7gnuc4p5tpdm-ili2c.png"><br>  <i><font color="#99999">Figure 7. Pre-training on the lba prediction problem of the next query. Change in mean square error over the course of training.</font></i> <i><font color="#99999"><br></font></i>  <i><font color="#99999">Comment to fig.</font></i>  <i><font color="#99999">7. Red - training sample, green - test.</font></i>  <i><font color="#99999">Graph for model with two recurrent layers.</font></i> <i><font color="#99999"><br></font></i> <br><h4>  HRNN </h4><br>  Were tested models for different sets of parameters, with two levels: the first for each block, the second for multiple blocks.  The result of the experiment is negative.  The learning dynamics is shown in Fig.  eight. <br><br><img src="https://habrastorage.org/webt/ig/qx/ew/igqxewpxghxm-tppbffkqdpqkdi.png"><br>  <i><font color="#99999">Figure 8. HRNN.</font></i>  <i><font color="#99999">Change in loss function value during training.</font></i> <i><font color="#99999"><br><br></font></i>  <i><font color="#99999">Comment to fig.</font></i>  <i><font color="#99999">8. Red - training sample, green - test.</font></i>  <i><font color="#99999">Graph for the model of medium complexity with two recurrent layers at the second level.</font></i> <i><font color="#99999"><br></font></i> <br>  As you can see, the neural networks did not give good results.  And we decided to try the traditional methods of machine learning. <br><br><h3>  Traditional methods of machine learning.  Attributes and signs. </h3><br><h4>  Frequency characteristics and derivatives of them </h4><br>  We introduce the following notation: <br><br><ul><li>  count_lba - the number of lba uses within a block; </li><li>  count_diff_lba - the frequency of the difference between the lba of the current query and the previous one; </li><li>  count_len - frequency of requests to blocks of a given length len; </li><li>  count_diff_len is the frequency of the differences between len current and previous queries. </li></ul><br>  Further, statistics are calculated for each attribute: moments: mean, standard deviation, coefficient of asymmetry, and coefficient of kurtosis. <br><br><h4>  Difference Characteristics and Derivatives from them </h4><br>  The difference between the lba of the current and the i-preceding block (let's call it diff_lba_i) can serve as the basis of the new feature.  Each such diff_lba_i difference is symmetrically distributed and has an average equal to zero.  Therefore, the differences between the diff_lba_i distributions for different i can be described using the singular, the standard deviation of this quantity.  Thus, for each block, a set of n std_diff_lba_i values ‚Äã‚Äãis obtained, where i = 1..10 (we call this set lba_interdiffs).  The hypothesis is that for good blocks of requests these values ‚Äã‚Äãwill differ less, in other words, they will be more concentrated than for bad blocks.  The concentration of values ‚Äã‚Äãcan be characterized using the mean and standard deviation.  The differences between them can be seen in Fig.  9.10, which shows that the hypothesis is confirmed. <br><br>  Similarly, signs are calculated for the lengths of the requested data. <br><br><img src="https://habrastorage.org/webt/uz/7y/-i/uz7y-iaf_smhqzmzwg387d21re0.png"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">9. Differences for classes between mean and standard deviations of the count_lba characteristic</font></i> <br><br><img src="https://habrastorage.org/webt/yy/4z/hh/yy4zhhincfmfylgisfvnas8npag.png"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">10. Differences for classes between mean and standard deviations of the lba_interdiffs feature</font></i> <br><h4>  Feature analysis </h4><br>  To analyze the differences between classes with respect to signs, we plotted boxplots.  For example, in fig.  9. Differences 1 and 2 moments of the count_lba feature are displayed, and in fig.  10 shows the differences between 1 and 2 points of the lba_interdiffs feature between classes. <br><br>  The span diagrams show that not a single sign shows sufficiently significant differences between the classes to be determined only on its basis.  At the same time, a combination of weak non-correlated signs may allow one to distinguish between classes of blocks. <br><br>  It is important to note that when calculating signs, it is required to take a large value of the blocksize parameter, since in small blocks of requests many signs turn to zero. <br><br><h4>  Decision tree ensembles </h4><br>  An example of traditional methods of machine learning are ensembles of decision trees.  One of its effective implementations is the XGBoost library [10], which has performed well in many data analysis contests. <br><br>  The dynamics of the learning process can be observed in Fig.  11. On the test sample, a classification error of about 3.2% is achieved.  In fig.  12 you can see the forecast model on the test sample. <br><br><img src="https://habrastorage.org/webt/7_/11/pn/7_11pn_ws8-02ubbnfy0tto8doo.png"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">11. XGBoost.</font></i>  <i><font color="#99999">Changing the classification accuracy during training.</font></i>  <i><font color="#99999">Red - training sample, green - test.</font></i> <br><br><img src="https://habrastorage.org/webt/pp/du/n3/ppdun3cxovw1nnnayyaffvrs2gs.png"><br>  <i><font color="#99999">Figure 12. XGBoost.</font></i>  <i><font color="#99999">Prediction of the model on a random test sample</font></i> <i><font color="#99999"><br></font></i>  <i><font color="#99999">Comment to fig.</font></i>  <i><font color="#99999">12. The color indicates the forecast model: red - poorly cached block, green - well cachable.</font></i>  <i><font color="#99999">The degree of color saturation is the probability derived by the model.</font></i>  <i><font color="#99999">X axis: the block number in the test set, y axis: the initial value of the metric.</font></i>  <i><font color="#99999">The dotted line is the barrier of the metric, according to which the blocks were divided into two classes for teaching the model.</font></i>  <i><font color="#99999">Error classification 3.2%.</font></i> <i><font color="#99999"><br></font></i> <br><h4>  Errors of one kind </h4><br>  In the task of caching, it is important not to make mistakes of the first kind, that is, false positive predictions.  In other words, it is better to skip a block suitable for caching than to write to the cache. <br><br>  unclaimed data.  To balance the likelihood of producing false positive and false negative forecasts, you can change the probability barrier, after which the forecast will be considered positive.  The dependence of these values ‚Äã‚Äãis shown in Fig.  13. <br><br><img src="https://habrastorage.org/webt/pa/_5/yd/pa_5ydlh1x5k8-vgl5um4d931tq.png"><br>  <i><font color="#99999">Fig.</font></i>  <i><font color="#99999">13. Dependence of the probability of issuing false positive and false negative forecasts depending on the probability barrier, after which the forecast is considered positive.</font></i> <i><font color="#99999"><br><br></font></i>  <i><font color="#99999">Comment to fig.</font></i>  <i><font color="#99999">13. The x-axis: the probability barrier, the y-axis: the probability of an error.</font></i>  <i><font color="#99999">The dashed line is the probability of making a false positive error, the solid line is the probability of making a false negative error.</font></i> <br><br><h2>  The final algorithm is face control. </h2><br>  We describe the final algorithm describing the SSD cache filling technique.  It consists of three parts: an algorithm that forms a training set of client logs, an algorithm that generates a prediction model (algorithm 2), and a final online algorithm that classifies incoming blocks of requests for ‚Äúgood‚Äù and ‚Äúbad‚Äù. <br><br><h3>  Algorithm 1. Formation of a training set </h3><br><ol><li>  The available sample is divided into blocks of size blocksize. </li><li>  For each block we consider the signs from clauses 3.3.1 and 3.3.2. </li><li>  For each block we consider the coefficient WE. </li><li>  For each block, using the coefficient WE, we determine the class of the block: bad or good. </li><li>  We make pairs (signs - class).  For the characteristics of one block, the class of the next block is assigned. </li></ol><br><h3>  Algorithm 2. Teacher </h3><br>  <b>Input:</b> list (signs-class) from algorithm 1. <br>  <b>Main loop:</b> XGBoost algorithm. <br>  <b>Exit:</b> predictor. <br><br><h3>  Algorithm.  Face control </h3><br>  <b>Input:</b> block of length request blocksize, m. <br>  <b>Main loop:</b> predictor from the teacher-algorithm. <br>  <b>Output:</b> If the block is defined as good, then the next block of requests goes to the SSD.  If the block is determined to be bad, then the next block of requests goes to RAM. If it was not possible to determine, then the requests from the next block go to the SSD if their frequency is greater than one (using the LRU method of the LARC algorithm). <br><br><h2>  Algorithm versus face control and popular SSD cache implementations </h2><br>  The face control algorithm was tested in a mathematical model, where it was compared with known implementations of the SSD cache.  The results are presented in Table 2. In the RAM, the LRU displacement algorithm is everywhere.  In the SSD cache of the LRU, LRFU, LARC displacement technique.  Hits is the number of hits in the millions.  The face control was implemented together with the LRFU crowding technique; it showed the best results in conjunction with the face control. <br><br>  As we can see, the implementation of face control significantly reduces the number of records on the SSD, thereby increasing the service life of the solid-state drive and, according to the WE metric, the face-control algorithm is the most effective. <br><br>  <i><font color="#99999">Table 2. Comparison of various implementations of SSD Cache</font></i> <br><table><tbody><tr><th></th><th>  Lru </th><th>  LRFU </th><th>  LARC </th><th>  Face control + LRFU </th></tr><tr><td>  RAM hits </td><td>  37 </td><td>  37 </td><td>  37 </td><td>  36.4 </td></tr><tr><td>  RRC hits </td><td>  8.9 </td><td>  eight </td><td>  8.2 </td><td>  eight </td></tr><tr><td>  HDD hits </td><td>  123.4 </td><td>  124.3 </td><td>  124.1 </td><td>  124.9 </td></tr><tr><td>  SSD writes </td><td>  10.8 </td><td>  12.1 </td><td>  3.1 </td><td>  1.8 </td></tr><tr><td>  WE </td><td>  0.8 </td><td>  0.66 </td><td>  2.64 </td><td>  4.44 </td></tr></tbody></table><br><h2>  Conclusion </h2><br>  Hybrid storage systems are in high demand on the market due to the optimal price of 1 gigabyte.  Higher performance is achieved through the use of solid-state drives as a buffer. <br><br>  But SSDs have a limited number of records - overwrites, so using standard techniques to implement the buffer is not economically viable, see Table 2, since SSDs wear out quickly and need to be replaced. <br><br>  The proposed algorithm increases the service life of SSD 6 times compared with the simplest LRU technology. <br><br>  The face control analyzes incoming requests using machine learning methods and does not allow ‚Äúunnecessary‚Äù data to the SSD cache, thereby improving the caching efficiency metric several times. <br><br>  In the future, it is planned to optimize the parameter blocksize and improve the crowding technique, as well as to try other combinations of the crowding technique in the SSD cache and RAM. <br><br><h2>  Bibliography </h2><br><ol><li>  Cache storage hybrid storage systems.  / Yongseok Oh, Jongmoo Choi, Donghee Lee, Sam H Noh // FAST.  ‚Äì‚Äì Vol.  12. ‚Äì‚Äì 2012. </li><li>  Elastic Queue: A Universal SSD Lifetime Extension Plug-in for Cache Replacement Algorithms / Yushi Liang, Yunpeng Chai, Ning Bao et al.  // Proceedings of the 9th ACM International on Systems and Storage Conference / ACM.  ‚Äì‚Äì 2016. ‚Äì‚Äì P. 5. </li><li>  Goodfellow Ian, Bengio Yoshua, Courville Aaron.  Deep Learning.  ‚Äì‚Äì 2016. ‚Äì‚Äì Book in preparation for MIT Press.  <a href="http://www.deeplearningbook.org/">URL</a> </li><li>  Improving flash-based disk cache with lazy adaptive replacement / Sai Huang, Qingsong Wei, Dan Feng et al.  // ACM Transactions on Storage (TOS).  ‚Äì‚Äì 2016. ‚Äì‚Äì Vol.  12, no.  2. ‚Äì‚Äì P. 8. </li><li>  Kgil Taeho, Roberts David, Mudge Trevor.  Improving NAND flash based disk caches // Computer Architecture, 2008. ISCA'08.  35th International Symposium on / IEEE.  ‚Äì‚Äì 2008. ‚Äì‚Äì P. 327‚Äì338. </li><li>  WEC: Improving Durability of SSD Cache Drivers by Caching Write Efficient Data / Yunpeng Chai, Zhihui Du, Xiao Qin, David A Bader // IEEE Transactions on Computers.  ‚Äì‚Äì 2015. ‚Äì‚Äì Vol.  64, no.  11. ‚Äì‚Äì P. 3304‚Äì 3316. </li><li>  Kingma Diederik, Ba Jimmy.  Adam: A method for stochastic optimization // arXiv preprint arXiv: 1412.6980.  ‚Äì‚Äì 2014. </li><li>  Glorot Xavier, Bengio Yoshua.  Understanding the difficulty of training deep feedforward neural networks.  // Aistats.  ‚Äì‚Äì Vol.  9. ‚Äì‚Äì 2010. ‚Äì‚Äì P. 249‚Äì256. </li><li>  Graves Alex.  Supervised sequence labeling // Supervised Sequence Labeling with Recurrent Neural Networks.  ‚Äì‚Äì Springer, 2012. ‚Äì‚Äì P. 5‚Äì 13. </li><li>  Chen Tianqi, Guestrin Carlos.  XGBoost: A Scalable Tree Boosting System // CoRR.  ‚Äì‚Äì 2016. ‚Äì‚Äì Vol.  abs / 1603.02754.  ‚Äì‚Äì <a href="http://arxiv.org/abs/1603.02754">URL</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/352366/">https://habr.com/ru/post/352366/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352352/index.html">Not by Dagger</a></li>
<li><a href="../352354/index.html">Fluttering bikes. What to do with state saving in Flutter?</a></li>
<li><a href="../352358/index.html">SecaaS as a type of cloud services and other standards of the GOST project ‚ÄúInformation protection when using cloud technologies‚Äù</a></li>
<li><a href="../352362/index.html">Pumping C # Performance with Federico Luis</a></li>
<li><a href="../352364/index.html">DotNext 2018 Piter program overview</a></li>
<li><a href="../352368/index.html">MEPhI invites to the information security competition</a></li>
<li><a href="../352372/index.html">"Computer, how is my build doing?" And other magic spells</a></li>
<li><a href="../352374/index.html">Multithreading on ships</a></li>
<li><a href="../352376/index.html">Now I see you: detecting fileless malware</a></li>
<li><a href="../352378/index.html">From point A to point Chief</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>