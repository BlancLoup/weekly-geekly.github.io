<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>I2P proxy on hosting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Now, some resources in i2p are slowly beginning to crawl, so the question arose about convenient access to this network. 
 You can put an i2p router o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>I2P proxy on hosting</h1><div class="post__text post__text-html js-mediator-article">  Now, some resources in i2p are slowly beginning to crawl, so the question arose about convenient access to this network. <br>  You can put an i2p router on your computer.  Who wants to provide access to the entire home network, raise the proxy on the home router. <br>  But my question was different.  I wanted to be able to access i2p from any computer without installing additional software, even at the cost of security - because I don‚Äôt need to hide, but just watch something.  If there is an opportunity to launch a remote desktop, then I‚Äôm from all Internet cafes and guests prefer to connect to the home server, and there is already my customized environment.  In the case of slow connections or closed ports, it becomes difficult to use RDP.  Therefore, the easiest and undemanding option is to raise the i2p router on the hosting and configure the http proxy. <br> <a href="http://xkcd.com/1269/"><img src="https://habrastorage.org/getpro/habr/post_images/310/b6f/baa/310b6fbaa0fef545089599f8ed898217.png" alt="image"></a> <br><a name="habracut"></a><br><h5>  Hosting </h5><br>  There are no special requirements, VDS or just a rented server - depending on the needs and financial capabilities.  If only there was a machine with root-access, which would draw java.  The OS is not critical, if you really want to, then you can also raise it on windows proxies.  But I did on Linux - cheaper and more familiar.  Iron - AMD Athlon 64 5600+ X2, 2 GB RAM.  But this is redundant, and I raised such a proxy on an inexpensive VDS with 256 RAM.  The truth did not work very quickly and the resources were occupied by a decent percentage. <br><br><h5>  Install i2p </h5><br>  OS - debian wheezy.  The choice of distribution does not play a role, just got used to debian for the last 15 years. <br>  First we add the i2p repository to sources.list: <br><pre><code class="bash hljs">deb http://deb.i2p2.no/ stable main deb-src http://deb.i2p2.no/ stable main</code> </pre> <br>  Download the repository key <a href="">www.i2p2.de/_static/debian-repo.pub</a> and add it to apt: <br><pre> <code class="hljs cs">apt-key <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> debian-repo.pub</code> </pre> <br>  We update the package database and install i2p and i2p-keyring package (repository key updates): <br><pre> <code class="bash hljs">apt-get update apt-get install i2p i2p-keyring</code> </pre> <br>  Dependencies (including java) will be pulled out automatically. <br><br>  You can <i>start ip2</i> simply by typing " <i>i2prouter start</i> " in the console or by a service at system startup.  Convenient, of course, service. <br>  We type " <i>dpkg-reconfigure i2p</i> " (on behalf of the root), to the question of starting the service, we answer "Yes".  Also at this step, you can set the size of the allocated memory, left 128MB and create a user to start the i2p-router. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For ubunt everything is configured in the same way, the command to add a repository is just different.  <a href="http://www.i2p2.de/debian.html">Here more</a> . <br>  For other distros, you need to install java (sunjava, openjdk), download the archive <a href="http://www.i2p2.de/download.html">from here</a> and run the console installer " <i>java -jar i2pinstall_.jar -console</i> ".  Running as a service remains on the user's conscience. <br><br><h5>  Basic i2p setup </h5><br>  As a lazy person, I prefer web interfaces rather than configuration files.  :) <br>  Initially, access to the web interface is allowed only from the local computer.  So we will make the first security hole - open access to the admin panel from any address.  But first you need to somehow get to her.  We take ssh and make a tunnel from port 7657 of hosting to port 7657 of our computer. <br><br><pre> <code class="hljs pgsql">C:\&gt;ssh <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>@_ -L7657:<span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>:<span class="hljs-number"><span class="hljs-number">7657</span></span> <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>@_<span class="hljs-string"><span class="hljs-string">'s password: Linux _ 3.2.0-4-amd64 #1 SMP Debian 3.2.51-1 x86_64 You have mail. Last login: Tue Dec 24 06:18:58 2013 _:~&gt;</span></span></code> </pre><br><br>  If we see the shell invitation, then the i2p-router admin panel becomes available via the link <a href="http://127.0.0.1:7657/">http://127.0.0.1:7657/</a> . <br>  First, on the <a href="http://127.0.0.1:7657/configui">UI tab,</a> we put English.  Because if something needs to be found, then it is easier to search by the English names of terms, and not by Russian.  For example, you can‚Äôt immediately guess that the ‚Äútransit traffic‚Äù is ‚Äúshare bandwidth‚Äù. <br><img src="https://habrastorage.org/getpro/habr/post_images/433/266/183/4332661836836e980ccde3a2d7d648d5.png" alt="image"><br>  <a href="http://127.0.0.1:7657/config">Bandwidth tab</a> - I set the IN - 512, OUT - 256 and 50% share (the same transit traffic through your server). <br>  Hosting with restrictions on traffic (albeit ten terabytes), but I do not want to spend a lot on outsiders, I also have my own needs.  Of course, anonymity suffers and, potentially, speed.  I want anonymity - share to 100%.  Speed ‚Äã‚Äãmust be adjusted depending on the channel of your server and your needs. <br><img src="https://habrastorage.org/getpro/habr/post_images/233/868/16e/23386816e1d1d7bdef6df14d2b0ce82b.png" alt="image"><br>  Next, set up the address book - go to <a href="http://127.0.0.1:7657/dns">http://127.0.0.1:7657/dns</a> , there is the <a href="http://127.0.0.1:7657/dns">Subscriptions</a> tab.  Initially, there is only <a href="http://www.i2p2.i2p/hosts.txt">www.i2p2.i2p / hosts.txt</a> , which is rarely updated. <br>  Add <br><pre> <code class="hljs coffeescript">http:<span class="hljs-regexp"><span class="hljs-regexp">//i</span></span>2host.i2p<span class="hljs-regexp"><span class="hljs-regexp">/cgi-bin/i2hostetag http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/stats.i2p/cgi-bin/newhosts.txt http:/</span></span>/<span class="hljs-literal"><span class="hljs-literal">no</span></span>.i2p/<span class="hljs-keyword"><span class="hljs-keyword">export</span></span>/alive-hosts.txt</code> </pre> <br>  Generally not necessarily all three, they can overlap, but I think it will not be worse.  If you want, you can still search for lists of resources in the network. <br><img src="https://habrastorage.org/getpro/habr/post_images/2fd/926/a7a/2fd926a7a88185771c9f51efa8503cf1.png" alt="image"><br><br><h5>  Access to admin from any computer </h5><br>  We are starting to add the first hole - we are accessing the admin panel from any host, without tunnels <br><ol><li>  <a href="http://127.0.0.1:7657/configclients">http://127.0.0.1:7657/configclients</a> , field " <i>I2P Router Console</i> ", click Edit and change <i>clientApp.0.args = 7657 <b>:: 1,127.0.0.1</b> ./webapps/</i> to <i>clientApp.0.args = 7657 <b>0.0.0.0</b> ./webapps/</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/b1a/9d7/e35/b1a9d7e3585a85412d7d7b6ca7c89321.png" alt="image"><br></li><li>  <a href="http://127.0.0.1:7657/configui">http://127.0.0.1:7657/configui</a> , below, under the list of languages, fields for entering the name and password for the admin panel. <br><img src="https://habrastorage.org/getpro/habr/post_images/36e/066/035/36e06603539209bd09c437cc99b17581.png" alt="image"></li><li>  Reboot the i2p router (for example, the Restart button on the left). <br><img src="https://habrastorage.org/getpro/habr/post_images/d4b/a4f/a55/d4ba4fa5553f1381ba3cdc047e641b4c.png" alt="image"></li></ol><br>  After that, the login to the admin should be available via the link <a href="http://127.0.0.1:7657/">http: // your_server: 7657</a> , the password should be requested at the entrance <br>  By the way, for order it is still possible to change the port to some other one, it does not protect against a directed attack, but it can from random running bots.  Although it would be better not to open access at all, but I am a lazy person and I don‚Äôt want to raise the ssh-tunnel every time I enter the settings.  And sometimes you have to go to restart the service. <br><br><h5>  Configure http proxy </h5><br>  We open access to the proxy from any IP.  Of course, the correct option is to simply drop the ssh tunnel on the desired port: <br><pre> <code class="hljs pgsql">C:\&gt;ssh <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>@_ -L4444:<span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>:<span class="hljs-number"><span class="hljs-number">4444</span></span> <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>@_<span class="hljs-string"><span class="hljs-string">'s password: Linux _ 3.2.0-4-amd64 #1 SMP Debian 3.2.51-1 x86_64 You have mail. Last login: Tue Dec 24 07:37:52 2013 _:~&gt;</span></span></code> </pre><br>  And in the browser settings set proxy 127.0.0.1:4444 <br><img src="https://habrastorage.org/getpro/habr/post_images/a18/054/6fc/a180546fc78d797c2b74ef4171b9240f.png" alt="image"><br><br>  But, as said above, all this is started not for the sake of security, but for the sake of convenience, so just open the port to the proxy. <br><ol><li>  Go to <a href="http://127.0.0.1:7657/i2ptunnelmgr">http: // your_server: 7657 / i2ptunnelmgr</a> , look for a tunnel called " <i>I2P HTTP Proxy</i> " there, go to its settings. <br><img src="https://habrastorage.org/getpro/habr/post_images/80f/d3f/950/80fd3f95051d885fb68349efdb9b8941.png" alt="image"></li><li>  In the point <i>Access Point - Reachable by</i> select 0.0.0.0 <br><img src="https://habrastorage.org/getpro/habr/post_images/4cc/107/90f/4cc10790fa7d3f873f92cadea9644ffc.png" alt="image"></li><li>  Then put the password.  The <i>Local Authorization</i> field, checkbox <i>Enable</i> , set the name and password and click <i>Save</i> . <br><img src="https://habrastorage.org/getpro/habr/post_images/741/3ac/f1f/7413acf1f673c0580a03448d3d474e7a.png" alt="image"></li></ol><br>  Restart the server, wait a couple of minutes until the tunnels rise. <br>  If necessary, you can configure https proxy in <a href="http://127.0.0.1:7657/i2ptunnelmgr">the same</a> way on <a href="http://127.0.0.1:7657/i2ptunnelmgr">the same page</a> . <br><br><h5>  Browser Setup </h5><br>  That's right - a separate browser with disabled scripts, flash and other silver light, in which in the settings all traffic is chased through an i2p-proxy, to which an encrypted tunnel is passed (see above). <br>  Wrong, but convenient - a script for the main browser, which automatically switches the proxy. <br><br>  The browser configuration script is in <i>/usr/share/doc/i2p-router/examples/scripts/i2pProxy.pac.gz</i> <br>  We unpack and put somewhere in the web server folder (do you also have a web server on the hosting? :)). <br>  If they were set up from the site with pens, then the script is in the <i>script / i2pProxy.pac folder</i> . <br>  We are looking for the line <code>var i2pProxy = "PROXY 127.0.0.1:4444"</code> in the file <code>var i2pProxy = "PROXY 127.0.0.1:4444"</code> ;  and change the IP address and port to yours. <br>  We save, in the browser we go to the proxy settings in the field ‚Äúautomatic configuration script‚Äù we register <code><a href=""></a> __/__i2pProxy.pac</code> <br> <img src="https://habrastorage.org/getpro/habr/post_images/146/1de/6fa/1461de6faf7cfa27e774f976950fcd41.png" alt="image"><br><br>  Everything.  You will go around the network as usual, but when accessing your i2p browser, it will automatically go through your i2p proxy, asking for a password. <br>  The solution is simple, platform-independent and does not require the installation of additional software.  It should work even on androids and other iOS, if the local browser supports proxy. <br><br>  But on my permanent computers, I prefer to switch access channels through the FoxyProxy plugin - I have more complex proxy selection rules than i2p / the rest of the Internet.  :) <br>  FoxyProxy for Firefox: <a href="https://addons.mozilla.org/en-US/firefox/addon/foxyproxy-standard/">addons.mozilla.org/en-US/firefox/addon/foxyproxy-standard</a> <br>  For chrome: <a href="https://chrome.google.com/webstore/detail/foxyproxy-standard/gcknhkkoolaabfmlnjonogaaifnjlfnp">chrome.google.com/webstore/detail/foxyproxy-standard/gcknhkkoolaabfmlnjonogaaifnjlfnp</a> <br>  For IE: <a href="">getfoxyproxy.org/downloads/FoxyProxy-Standard-IE-1.0.8.exe</a> (it did not work for me in IE11). <br><br><h5>  Conclusion </h5><br>  It turned out a convenient but insecure personal proxy for accessing the i2p network, which can be used from almost any place and from any OS.  But for personal security, you still need to encrypt the channel from your computer to the server ‚Äî either an ssh tunnel or vpn. </div><p>Source: <a href="https://habr.com/ru/post/207208/">https://habr.com/ru/post/207208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../207190/index.html">For designers and not only</a></li>
<li><a href="../207196/index.html">Search for black holes on a home computer</a></li>
<li><a href="../207198/index.html">Button. 100 years long story</a></li>
<li><a href="../207200/index.html">Do not postpone acquisitions in foreign online stores</a></li>
<li><a href="../207202/index.html">Yandex.Maps change API. Why we needed to break backward compatibility in a clusterer</a></li>
<li><a href="../207210/index.html">Dell VRTX: First Steps</a></li>
<li><a href="../207214/index.html">Implementation of the I2C interface based on the FT2232H chip (MPSSE mode)</a></li>
<li><a href="../207216/index.html">Qadars - a new banking Trojan with the ability to bypass two-factor authentication</a></li>
<li><a href="../207220/index.html">December distribution of servers: voting</a></li>
<li><a href="../207224/index.html">Is it possible to centrally manage language settings?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>