<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Java Application Interoperability with JGroups</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I want to talk about JGroups . This is a Java library for organizing group interaction between different Java processes. Applications using JGro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Java Application Interoperability with JGroups</h1><div class="post__text post__text-html js-mediator-article">  Today I want to talk about <a href="http://jgroups.org/">JGroups</a> .  This is a Java library for organizing group interaction between different Java processes.  Applications using JGroups can: <ul><li>  Create and destroy groups </li><li>  Join groups and leave them. </li><li>  Receive alerts for new group members </li><li>  Send messages to a specific process or all group processes. </li></ul>  The library is widely used, in particular, in the JBoss application server, in the OSCache cache and in the Infinispan Grid platform. <br><br>  Here I will limit myself to the initial information and describe the creation of a simple group chat in Java. <br><br><a name="habracut"></a><h2>  Beginning of work </h2><br>  So, first you need to download JGroups.  You can do this here: <a href="http://sourceforge.net/projects/javagroups/files/">http://sourceforge.net/projects/javagroups/files/</a> .  When writing this article, I used version <b>2.6.13.GA.</b>  Also, it requires Apache Commons Logging, or something to replace it (for example, jcl-over-slf4j).  Download here: <a href="http://commons.apache.org/downloads/download_logging.cgi">http://commons.apache.org/downloads/download_logging.cgi</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you are using Maven, you can add the JBoss repository: <br><br><blockquote><code><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> <font color="black">Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> <ol> <li> <code><font color="black"><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/3665/s"></a> <a href="http://s-c.me/3665/h"></a> Copy Source | Copy HTML <font color="#0000ff">&lt;</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> jboss <font color="#0000ff">&lt;/</font> <font color="#800000">name</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> http://repository.jboss.com/maven2 <font color="#0000ff">&lt;/</font> <font color="#800000">url</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> false <font color="#0000ff">&lt;/</font> <font color="#800000">enabled</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">snapshots</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">repository</font> <font color="#0000ff">&gt;</font></font></code> </li> </ol></blockquote>  and add depending: <br><br><blockquote> <code><a href="http://s-c.me/3666/s"></a> <a href="http://s-c.me/3666/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> jgroups <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jgroups <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> 2.6.13.GA <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> </li><li></li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> commons-logging <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> commons-logging <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> 1.1.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> </li></ol></blockquote><br>  You may need to configure the network interface to work with multicast.  In Linux, for this you need to add the corresponding route: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">add</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-net</span></span> 224<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">netmask</span></span> 240<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">dev</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lo</span></span></code> </pre> <br><br><h2>  Initialization </h2><br>  In order to create a channel, you need to create an object of the <a href="http://jgroups.org/javadoc/org/jgroups/JChannel.html">JChannel</a> class, passing configuration parameters to it in the constructor.  In the example in the configuration, I specify the address to be used for the channel.  A complete list of options can be found <a href="http://www.jgroups.org/manual/html/protlist.html">in the documentation</a> . <br><br><pre> <code class="hljs cs">JChannel channel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JChannel( <span class="hljs-string"><span class="hljs-string">"UDP(bind_addr=127.0.0.1)"</span></span> );</code> </pre> <br>  Now you can connect to the cluster by calling JChannel # connect ().  The name of the group is passed to it as a parameter, you can choose any one you like. <br><br><pre> <code class="hljs pgsql">channel.<span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>( "MyCluster" );</code> </pre> <br><h2>  Sending messages </h2><br>  Messages in JGroups are represented by the <a href="http://jgroups.org/javadoc/org/jgroups/Message.html">Message</a> class, which contains the sender's address, the recipient's address, and data.  Addresses are represented by objects of the <a href="http://jgroups.org/javadoc/org/jgroups/Address.html">Address</a> class, and data is any serializable objects or just an array of bytes.  For example, to create a message for the whole group containing a string, you can write: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Message( <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Some content"</span></span> )</code> </pre> <br>  Here, the first parameter is the receiver, then the sender, and then the content. <br><br>  To send a message you need to call the <b>JChannel # send</b> method and pass it a message as a parameter.  For example: <br><br><pre> <code class="hljs cs">channel.send( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Message( <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Some content"</span></span> ) )</code> </pre> <br><br><h2>  Message handling </h2><br>  Now you need to write code to handle messages coming to the application.  To do this, call the JChannel # setReceiver method, passing as an argument an object that implements the <a href="http://jgroups.org/javadoc/org/jgroups/Receiver.html">Receiver</a> interface.  For example, to simply print all received messages to print, just write the following code: <br><br><blockquote> <code><a href="http://s-c.me/3664/s"></a> <a href="http://s-c.me/3664/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  channel.setReceiver ( <font color="#0000ff">new</font> <font color="#2b91af">ReceiverAdapter</font> () { </li><li></li><li>  @Override </li><li>  <font color="#0000ff">public void</font> receive ( <font color="#2b91af">Message</font> m) { </li><li>  System.  <font color="#0000ff">out</font> .println (m.getObject ()); </li><li>  } </li><li></li><li>  }); </li></ol></blockquote>  Here, in order to reduce the amount of code, an object is inherited from the ReceiverAdapter class, which provides empty implementations of various Receiver interface methods.  As you can see from the example, the receive method is used to process the message, to which the message is passed as a parameter. <br><br><h2>  Simplest chat </h2><br>  Now you can collect the simplest chat.  It will send to the group the lines received from the console and print the received lines to the console.  Code example: <br><br><blockquote> <code><a href="http://s-c.me/3663/s"></a> <a href="http://s-c.me/3663/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  import java.io.  <font color="#2b91af">BufferedReader</font> ; </li><li>  import java.io.  <font color="#2b91af">InputStreamReader</font> ; </li><li></li><li>  import org.jgroups.  <font color="#2b91af">JChannel</font> ; </li><li>  import org.jgroups.  <font color="#2b91af">Message</font> ; </li><li>  import org.jgroups.  <font color="#2b91af">ReceiverAdapter</font> ; </li><li></li><li>  <font color="#0000ff">public class</font> <font color="#2b91af">SimplestChat</font> { </li><li></li><li>  <font color="#0000ff">public static void</font> main ( <font color="#2b91af">String</font> [] args) throws <font color="#2b91af">Exception</font> { </li><li>  <font color="#2b91af">JChannel</font> channel = <font color="#0000ff">new</font> <font color="#2b91af">JChannel</font> ( <font color="#A31515">"UDP (bind_addr = 127.0.0.1)"</font> ); </li><li>  channel.setReceiver ( <font color="#0000ff">new</font> <font color="#2b91af">ReceiverAdapter</font> () { </li><li></li><li>  @Override </li><li>  <font color="#0000ff">public void</font> receive ( <font color="#2b91af">Message</font> m) { </li><li>  System.  <font color="#0000ff">out</font> .println (m.getObject ()); </li><li>  } </li><li></li><li>  }); </li><li>  channel.connect ( <font color="#A31515">"MyCluster"</font> );  <font color="#008000">// Connect to the group</font> </li><li></li><li>  <font color="#008000">/ **</font> &lt;br/&gt; <font color="#008000">* Command processing loop from the console</font> &lt;br/&gt; <font color="#008000">* /</font> </li><li>  <font color="#2b91af">BufferedReader</font> <font color="#0000ff">in</font> = <font color="#0000ff">new</font> <font color="#2b91af">BufferedReader</font> ( <font color="#0000ff">new</font> <font color="#2b91af">InputStreamReader</font> (System. <font color="#0000ff">In</font> )); </li><li>  <font color="#0000ff">while</font> ( <font color="#0000ff">true</font> ) { </li><li></li><li>  <font color="#2b91af">String</font> line = <font color="#0000ff">in</font> .readLine (); </li><li></li><li>  <font color="#0000ff">if</font> (line.equalsIgnoreCase ( <font color="#A31515">"quit"</font> ) || line.equalsIgnoreCase ( <font color="#A31515">"exit"</font> )) { </li><li>  <font color="#0000ff">break</font> ; </li><li>  } </li><li></li><li>  channel.send ( <font color="#0000ff">new</font> <font color="#2b91af">Message</font> ( <font color="#0000ff">null</font> , <font color="#0000ff">null</font> , line)); </li><li>  } </li><li></li><li>  channel.close ();  <font color="#008000">// Disconnect from the group upon completion</font> </li><li>  } </li><li></li><li>  } </li></ol></blockquote>  When run, this code should output something like: <br><br><pre>   Nov 8, 2009 4:18:27 PM org.jgroups.JChannel init
   INFO: JGroups version: 2.6.13.GA
</pre><br><h2>  What's next? </h2><br>  Here I considered only creating a channel and sending messages to a group.  There are quite a few moments left: addressing, messages to a specific process and, most importantly, management of the group.  Those wishing to familiarize themselves with them can have a look at the JGroups documentation: <a href="http://jgroups.org/ug.html">http://jgroups.org/ug.html</a> . </div><p>Source: <a href="https://habr.com/ru/post/74660/">https://habr.com/ru/post/74660/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../74651/index.html">Discourse on the role of the state in the multimedia industry</a></li>
<li><a href="../74653/index.html">SQUID Proxy Automation</a></li>
<li><a href="../74654/index.html">ORM - evil or How I tried to cache Propel in symfony</a></li>
<li><a href="../74656/index.html">Babo Violent 2</a></li>
<li><a href="../74658/index.html">Reactive websites. We work on illustrations. Characters</a></li>
<li><a href="../74663/index.html">STL Filter - script for laconic STL errors</a></li>
<li><a href="../74666/index.html">What are the startups really</a></li>
<li><a href="../74667/index.html">We develop in the clouds (WPF, ASP.NET, PHP)</a></li>
<li><a href="../74669/index.html">Firefox Mobile has a logo</a></li>
<li><a href="../74670/index.html">Price for subscribers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>