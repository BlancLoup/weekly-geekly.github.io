<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Two languages, one Cup. Reflections on the RCC 2016 Rules</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr! Here is a small post about the ongoing Russian Code Cup 2016 , or rather, my thoughts on which one of the tasks of the warm-up round prom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Two languages, one Cup. Reflections on the RCC 2016 Rules</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/48d/ad8/57e/48dad857e62f4bea90438d3849b62798.png"><br><p>  Hello, Habr!  Here is a small post about the ongoing <strong>Russian Code Cup 2016</strong> , or rather, my thoughts on which one of the tasks of the warm-up round prompted me. </p><a name="habracut"></a><br><p>  Technical rules for the round are described in detail <a href="http://www.russiancodecup.ru/ru/rules/">here</a> .  I will not copy them all, I will highlight only two points: </p><br><ul><li>  You can send solutions in different languages ‚Äã‚Äã(Java, Python, C / C ++ / C ++ 11, C #, Perl, PHP, Ruby, D) </li><li>  All tasks have a limit on the time of execution of decisions </li></ul><br><p>  It's about the task <strong>"A" Secret code <a href="http://www.russiancodecup.ru/ru/championship/round/52/problem/A/">(direct link)</a> :</strong> </p><br><p>  <strong>Time limit of</strong> 2 seconds <br>  256 MB <strong>memory limit</strong> </p><br><h3>  Description </h3><br><p>  Marty is now in the past and wants to return home in 1985.  He had already fallen in love with his parents and found plutonium.  All that is left to do is turn on the time machine and hit the road.  Here Marty is waiting for another test.  To enable the time machine, you must enter the secret code.  Only Doc knows the secret code.  Marty is aware that all the characters that make up the code are different, and he also knows the number of characters.  While Marty waits for Doc to arrive, he tries to guess the code and enters various combinations of characters. </p><br><p>  Your task is to write a program that, for each request, Marty issues two numbers ‚Äî the number of valid characters that stand in their positions, and the number of characters that appear in the code, but they stand on the wrong positions. </p><br><h3>  Input Format </h3><br><p>  The first line contains the string s - the secret code.  The code consists of Latin capital letters and numbers, all the characters in the code are different. </p><br><p>  The second line contains a positive integer n (1 ‚â§ n ‚â§ 10 <sup>5</sup> ) - the number of Marty attempts. </p><br><p>  Each of the next n lines contains the next combination that Marty enters.  The combinations also consist of Latin capital letters and numbers.  The characters in each combination are different.  The length of each combination coincides with the length of the secret code. </p><br><h3>  Output format </h3><br><p>  For each request, Marty print two numbers a and b, where a is the number of correct, b is the number of characters that are found in the code, but are in the wrong positions. </p><br><h3>  Example </h3><br><p>  <strong>Input data:</strong> <br>  BACKTO1985 <br>  3 <br>  BACKTO1958 <br>  BACKON1985 <br>  TOYEAR1985 <br>  <strong>Output:</strong> <br>  8 2 <br>  8 1 <br>  4 3 </p><br><hr><br><h2>  Decision </h2><br><p>  The problem is not complicated.  Virtually no tricks to solve is required. </p><br><p>  Enumerate the combinations, comparing each with the secret code character-by-character.  The next pair of symbols has coincided - we increase <strong>a</strong> , otherwise we see if this symbol is present in the secret code (we are looking for a conditionally logarithmic time, having first decomposed the secret code into an associative array with key symbols).  If present, increment <strong>b</strong> . </p><br><p>  Here is a simple Ruby solution, (the code is exactly the one I sent during the round): </p><br><pre><code class="ruby hljs">input = STDIN.read.split(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>) code = input[<span class="hljs-number"><span class="hljs-number">0</span></span>] tries_count = (input[<span class="hljs-number"><span class="hljs-number">1</span></span>]).to_i tries = input[<span class="hljs-number"><span class="hljs-number">2</span></span>,tries_count] <span class="hljs-comment"><span class="hljs-comment">#puts code #puts tries_count #puts tries code_a = code.split(//) code_h = Hash[code_a.map {|x| [x, 1]}] #puts code_h tries.each do |t| total_right = 0 missed_right = 0 t.each_char.with_index do |c, i| if c == code[i] total_right += 1 else missed_right += 1 if code_h.has_key?(c) end end puts "#{total_right} #{missed_right}" end</span></span></code> </pre> <br><p>  What was my displeasure when I received in response to <strong>Time Limit Exceeded</strong> .  Moreover, the funny thing is that later, at the end of the round, I decided to send the same code again for the interest.  And he passed the test!  That is, most likely, performed on the verge of a time limit.  I decided to figure it out. </p><br><p>  Wrote an identical (as far as possible) solution in C ++: </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;map&gt; int main() { std::string code; std::getline(std::cin, code); std::string s_tries_count; std::getline(std::cin, s_tries_count); int tries_count = std::stoi(s_tries_count); std::string tries[tries_count]; for(int i = 0; i &lt; tries_count; i++) { std::getline(std::cin, tries[i]); }; std::map&lt;std::string, int&gt; code_h; for (char&amp; c : code) { std::string s(c, 1); code_h.insert(std::make_pair(s, 1)); } for (std::string t : tries) { int total_right = 0; int missed_right = 0; for (int i = 0; i &lt; t.length(); i++) { if (t[i] == code[i]) { total_right++; } else { std::string s(t[i], 1); if (code_h.count(s)) { missed_right++; } } } std::cout &lt;&lt; total_right &lt;&lt; " " &lt;&lt; missed_right &lt;&lt; std::endl; } return 0; }</span></span></span></span></code> </pre> <br><p>  Yes, the code is bad, not least because of these conversions from <code>char</code> to <code>string</code> , but I set the goal to repeat the solution in Ruby as much as possible. <br>  &lt;CaptainObseness&gt; <br>  So, the code in C ++ was executed much faster than in Ruby! <br>  &lt;/ CaptainObseness&gt; </p><br><p>  Shortly after the end of the round, test input data sets became available, and I downloaded test No. 17, where I received <strong>Time Limit Exceeded</strong> for the first time, it contained the code word OPYB4R7JNHVGEKC3I6285TU90ASMFXLZW1D and 94432 combinations. </p><br><h3>  Performance measurements </h3><br><p>  C ++ collected on g ++ 4.8.4 <br>  Script: </p><br><pre> <code class="bash hljs">g++ -x c++ -std=c++0x -O2 -o ./solution1.a solutions/solution1.cpp &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"solution1.cpp (with diff):"</span></span> &amp;&amp; time diff &lt;( cat data/output.txt ) &lt;( ./solution1.a &lt; data/input.txt ) &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"solution1.cpp (&gt; dev/null):"</span></span> &amp;&amp; time ./solution1.a &lt; data/input.txt &gt; /dev/null</code> </pre> <br><p>  Conclusion: </p><br><pre> <code class="hljs sql">solution1.cpp (<span class="hljs-keyword"><span class="hljs-keyword">with</span></span> diff): <span class="hljs-built_in"><span class="hljs-built_in">real</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m0<span class="hljs-number"><span class="hljs-number">.411</span></span>s <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m0<span class="hljs-number"><span class="hljs-number">.341</span></span>s <span class="hljs-keyword"><span class="hljs-keyword">sys</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m0<span class="hljs-number"><span class="hljs-number">.171</span></span>s solution1.cpp (&gt; dev/<span class="hljs-literal"><span class="hljs-literal">null</span></span>): <span class="hljs-built_in"><span class="hljs-built_in">real</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m0<span class="hljs-number"><span class="hljs-number">.347</span></span>s <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m0<span class="hljs-number"><span class="hljs-number">.319</span></span>s <span class="hljs-keyword"><span class="hljs-keyword">sys</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m0<span class="hljs-number"><span class="hljs-number">.028</span></span>s</code> </pre> <br><p>  Ruby version 1.9.3 <br>  Script: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Ruby base solution (with diff):"</span></span> &amp;&amp; time diff &lt;( cat data/output.txt ) &lt;( ruby solutions/solution1.rb &lt; data/input.txt ) &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Ruby base solution (&gt; dev/null):"</span></span> &amp;&amp; time ruby solutions/solution1.rb &lt; data/input.txt &gt; /dev/null</code> </pre> <br><p>  Conclusion: </p><br><pre> <code class="hljs sql">Ruby base solution (<span class="hljs-keyword"><span class="hljs-keyword">with</span></span> diff): <span class="hljs-built_in"><span class="hljs-built_in">real</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m1<span class="hljs-number"><span class="hljs-number">.422</span></span>s <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m1<span class="hljs-number"><span class="hljs-number">.416</span></span>s <span class="hljs-keyword"><span class="hljs-keyword">sys</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m0<span class="hljs-number"><span class="hljs-number">.009</span></span>s Ruby base solution (&gt; dev/<span class="hljs-literal"><span class="hljs-literal">null</span></span>): <span class="hljs-built_in"><span class="hljs-built_in">real</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m1<span class="hljs-number"><span class="hljs-number">.413</span></span>s <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m1<span class="hljs-number"><span class="hljs-number">.404</span></span>s <span class="hljs-keyword"><span class="hljs-keyword">sys</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>m0<span class="hljs-number"><span class="hljs-number">.008</span></span>s</code> </pre> <br><p>  As you can see, more than threefold difference in operating time, with, in general, a similar algorithm. <br>  The entire set (input / output data for test No. 17, cpp and rb sources, scripts for building and measuring performance (only * nix)) was written down <a href="https://github.com/augur/2016-RCC-Warmup-Task1">here on the githab</a> . </p><br><p>  You might think that I have not yet closed the <em>CaptainOht</em> tag, but here are the conclusions that I <em>put forward</em> for discussion: </p><br><ul><li>  The situation is absolutely fair for the real world, where <em>each language has its own tasks.</em> </li><li>  <em>However</em> , in olympiad programming, I consider this situation somewhat unfair </li><li>  In the championship, it‚Äôs as if the tools are laid out in front of us to choose from, they say, take any, a matter of taste;  in fact, one of the tools is noticeably more efficient than others </li><li>  Yes, of course, Ruby has a gain in speed and ease of writing code directly, when a solution in your head has already been found </li><li>  <em>But</em> , I bet, if you plant alongside equally competent Ruby and C ++ specialists, the first one, if they write the code faster, then only within the framework of statistical error </li><li>  By setting a rigid framework for the execution of the decision code, the organizers, in fact, make some languages ‚Äã‚Äã"more equal" than others, although it would seem that the goals of the Olympiad are <em>slightly</em> different </li><li>  What would I suggest from my bell tower?  Evaluate the computational complexity of solutions ( <strong>Big O</strong> )!  Watch how the speed of code execution changes with an increase in the amount of input data <strong>n</strong> .  And, for example, if the execution time grows more perceptibly faster than linear <strong>O (n log (n))</strong> , the decision to reject </li><li>  And yes, protection from cunning comrades with solutions in constant <strong>O</strong> will be needed <strong>(100500)</strong> </li></ul><br><p>  Thanks for attention!  It will be very interesting to know your opinions on the topic. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/282431/">https://habr.com/ru/post/282431/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282421/index.html">Receiving payment from international customers with Payoneer</a></li>
<li><a href="../282423/index.html">Extending Splunk functionality is just</a></li>
<li><a href="../282425/index.html">Frontend Dev Conf 2016: the heroes, events and surprises of the conference</a></li>
<li><a href="../282427/index.html">Native advertising returns: Native Admob, RecyclerView and briefly about the rules</a></li>
<li><a href="../282429/index.html">We are looking for a replacement for Digital Ocean among domestic hosting companies</a></li>
<li><a href="../282433/index.html">Recognition of DGA domains. And what if neural networks?</a></li>
<li><a href="../282435/index.html">"And how well everything began ...", or the benefits of O-notation, not only for the analysis of algorithms</a></li>
<li><a href="../282441/index.html">Mill Fighting - 1: Interpolation Splines</a></li>
<li><a href="../282443/index.html">MNP and Appearance API 1.0 - Voluntary Eating Cacti</a></li>
<li><a href="../282449/index.html">Silent revolution: the introduction of x86-architecture instead of RISC-machines for bank processing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>