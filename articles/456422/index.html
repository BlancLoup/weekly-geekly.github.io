<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The announcement of the new version of Styled Components v5: Fangs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are very happy to announce the new fifth version of styled-components ! The new version is fully backward compatible with the previous one, provide...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The announcement of the new version of Styled Components v5: Fangs</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/t7/ho/_g/t7ho_gajaxhs9fwsmm48zlsicz8.jpeg"></p><br><p>  We are very happy to announce the <em>new fifth version of styled-components</em> !  The new version is fully backward compatible with the previous one, provided React ^ 16.8 is used. </p><br><p>  Beta fifth version, you can try now: </p><br><pre><code class="plaintext hljs">npm install styled-components@beta</code> </pre> <br><p>  <em>Need a version of React that supports React.hooks, i.e.</em>  <em>react@^16.8 react-dom@^16.8 react-is@^16.8</em> </p><br><h3 id="a-teper-ob-izmeneniyah">  And now about the changes! </h3><br><h2 id="bystro-esche-bystree-styled-components">  Quickly.  Faster.  Styled-Components. </h2><br><p>  When we released the second version more than 2 years ago, we promised to focus on performance.  We have greatly accelerated the work of the library over several releases.  So, we got a tenfold increase in speed in version 3.1 and another 25% acceleration in version 4. </p><br><p>  By the fifth version, the styled-components library became even faster!  Comparing with version 4, we got: </p><br><ul><li>  <strong>19% smaller size of the</strong> minified code (16.2kB vs. 13.63kB min + gzip) Ô∏è </li><li>  <strong>18% faster initialization</strong> on the client side </li><li>  <strong>17% faster</strong> update of dynamic styles </li><li>  <strong>45%</strong> (!!!) faster <strong>server</strong> rendering </li></ul><a name="habracut"></a><br><p>  Styled-components was already one of the fastest CSS-in-JS libraries, but now it is even faster, but since the fifth version we have strengthened our position in the leaders: </p><br><p><img src="https://habrastorage.org/webt/yg/zq/gx/ygzqgxczwur1edavfmbzjzcny14.png"><br>  <em>Initialization of the component tree.</em>  <em>Less is better.</em> </p><br><p>  A significant increase in speed was achieved thanks to our new core.  It has not been changed for years, so we completely rewrote it with a focus on performance and accuracy (correctness). </p><br><p>  Despite extensive internal testing, there may still be some bugs that we will definitely fix.  We also ask the community for help in testing the beta version so that the release is as stable as possible. </p><br><p>  Try the library and tell if something has gone wrong: </p><br><pre> <code class="plaintext hljs">npm install styled-components@beta</code> </pre> <br><p>  If you use jest-styled-components, make sure you upgrade this library to beta. </p><br><h2 id="naglyadno-esche-naglyadnee-react-devtools">  Clearly.  More clearly.  React DevTools </h2><br><p>  Now all your stylized components work completely on React.hooks, so the tree structure is much more visual and simple. </p><br><p>  For example, the stylized <code>TagLine</code> component looks in React DevTools before the changes (v4): </p><br><pre> <code class="javascript hljs">&lt;TagLine&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">StyledComponent</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">forwardedRef</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{null}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Context.Consumer</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Context.Consumer</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">‚ÄùH2-sc-1izft7s-7‚Äù</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello world</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Context.Consumer</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Context.Consumer</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">StyledComponent</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">TagLine</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  And so - after the changes (v5) </p><br><pre> <code class="javascript hljs">&lt;TagLine&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">‚ÄùH2-sc-1izft7s-7‚Äù</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello world</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/TagLine&gt;</span></span></code> </pre> <br><p>  Clear enough?  Here is an example from a real application: <br> <a href=""><img src="https://habrastorage.org/webt/ai/f_/jb/aif_jbiwbldm8d7oqro4vfmt4no.jpeg" alt="Comparing the tree of React components in v4 and v5"></a> <br>  <em>Component tree in React DevTools for site styled-components.com.</em>  <em>The fourth version is on the left, the fifth is on the right.</em>  <em>Wow!</em>  <em>(Clickable)</em> </p><br><p>  <em>Huge hello to Jessica Franco and Alexander Nunberg for refactoring the code using React.Hooks.</em> </p><br><h2 id="novyy-esche-novee-stylesheetmanager">  New.  Even newer.  StyleSheetManager </h2><br><p>  <code>&lt;StyleSheetManager /&gt;</code> received a significant update in the fifth version, allowing our CSS parser (stylis) to expand with plugins. </p><br><p>  This can be used for various scenarios, for example, for the full and automatic support of Right-To-Left. </p><br><h2 id="rtl-support">  RTL support </h2><br><p>  With this plugin you can easily replace the left-to-right direction with the right-to-left direction: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { StyleSheetManager } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'styled-components'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> stylisRTLPlugin <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'stylis-rtl'</span></span>; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">StyleSheetManager</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stylisPlugins</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{[stylisRTLPlugin]}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">StyleSheetManager</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  This is all you need to do!  We are very happy and surprised by the opportunities that open with plugins.  Now you can give stylized components superpower! </p><br><h2 id="podderzhite-nas">  Support us </h2><br><p>  styled-components are widely used by the community.  Very wide.  The library has been downloaded 39 million times and is an addiction for hundreds of thousands of public repositories, not including many private ones that are not shown in GitHub statistics. </p><br><p>  Since the library is used extensively, we, the kernel team, take a serious responsibility for ourselves.  Unfortunately, the maintenance and support of the library is almost completely voluntary.  And we are very limited in resources to pay someone to organize or participate in conferences and summits. </p><br><p>  If you use the library at work, please consider supporting us on OpenCollective.  We would very much like to gather our team in the same room this year, and this support will help us implement our plans. </p><br><p>  The whole team hopes you enjoy the fifth version.  And, as always, stay stylish! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/456422/">https://habr.com/ru/post/456422/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456410/index.html">Use GIT when documenting</a></li>
<li><a href="../456412/index.html">A controversial innovation from Yandex - login to your account through a letter</a></li>
<li><a href="../456414/index.html">Protection against fires in data centers, or how data integrity is ensured</a></li>
<li><a href="../456416/index.html">The book "Agile for all"</a></li>
<li><a href="../456418/index.html">A brief history of cheating in video games</a></li>
<li><a href="../456424/index.html">Utreexo: compress UTXO Bitcoin set</a></li>
<li><a href="../456426/index.html">BASS - framework for automatic synthesis of antivirus signatures</a></li>
<li><a href="../456428/index.html">How to implement a BI-approach to data analysis: practical recommendations</a></li>
<li><a href="../456430/index.html">The eternal question of technical duty</a></li>
<li><a href="../456432/index.html">Security Week 25: Evernote Vulnerability and Hundreds of Hacked Online Stores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>