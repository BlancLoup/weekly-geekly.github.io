<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Machine learning in an investment company: we classify calls to technical support</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In theory, the use of machine learning (ML) helps to reduce human participation in processes and operations, reallocate resources and reduce costs. Ho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Machine learning in an investment company: we classify calls to technical support</h1><div class="post__text post__text-html js-mediator-article">  In theory, the use of machine learning (ML) helps to reduce human participation in processes and operations, reallocate resources and reduce costs.  How does it work in a particular company and field of activity?  As our experience shows, it works. <br><br>  At a certain stage of development, we at VTB Capital faced with the urgent need to reduce the time for processing requests for technical support.  After analyzing possible options, it was decided to apply ML technology to categorize calls from business users of Calypso, the company's key investment platform.  Fast processing of such requests is essential for high quality IT services.  To help in this task, we asked our key partners - the company <a href="https://habr.com/ru/company/epam_systems/">EPAM</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e28/f7d/526/e28f7d5263a91215e33aeb0cc3e1d77e.png"><br><a name="habracut"></a><br>  So, inquiries to the support service are received by e-mail and transformed into tickets in Jira.  Then, support specialists manually classify them, set priorities, add additional data (for example, from which department and location the request was received, to which functional block of the system it belongs) and designate the executors.  Total used about 10 categories of requests.  This, for example, may be a request to analyze any data and provide the author of the request with information, add a new user, etc.  Moreover, actions can be both standard and non-standard, so it is very important to immediately determine the type of request and assign execution to the right specialist. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It is important to note: ‚ÄúVTB Capital‚Äù wanted not only to develop an applied technological solution, but also to evaluate the capabilities of various tools and technologies on the market.  One task, two different approaches, two technological platforms and three and a half weeks: what was the result? <br><br><h2>  Prototype # 1: Technologies and Models </h2><br>  The basis for the development of the prototype was the approach proposed by the EPAM team, and historical data - about 10,000 tickets from Jira.  The focus was on 3 mandatory fields, which each such ticket contains: Issue Type (type of problem), Summary ("header" of the letter or subject line) and Description (description).  As part of the project, it was planned to solve the problem of analyzing text from the Summary and Description fields and automatically determine the type of query based on its results. <br><br>  It is the features of the text in these two fields of the ticket that became the main technical difficulty in analyzing data and developing ML models.  Thus, the Summary field may contain a fairly ‚Äúclean‚Äù text, but including specific words and terms (for example, <i>CWS reports not running).</i>  The Description field, on the contrary, is characterized by a ‚Äúdirtier‚Äù text with an abundance of special characters, symbols, backslashes and remnants of non-text elements: <br><br><blockquote>  <i>Dera colleagues,</i> <i><br></i>  <i>FX_Opt_delta_all and FX_Opt_delta_cash risk measures?</i> <i><br></i>  <i>! 01D39C59.62374C90_image001.png!</i>  ) </blockquote><br>  In addition, the text often combines several languages ‚Äã‚Äã(mainly, of course, Russian and English), there may be business terminology, runglish and programmer slang.  And of course, since requests are often written in a hurry, in both cases typos and spelling errors are not excluded. <br><br>  The technologies chosen by the EPAM team included Python 3.5 for prototype development, NLTK + Gensim + Re for text processing, Pandas + Sklearn for data analysis and model development, and Keras + Tensorflow as a deep learning framework and backend. <br><br>  Taking into account the possible features of the initial data, three representations were built for extracting features from the Summary field: at the level of symbols, combinations of symbols and individual words.  Each of the representations was used as an input to a recurrent neural network. <br><br>  In turn, as a representation for the Description field, service character statistics were chosen (important for text processing using exclamation marks, slashes, etc.) and average values ‚Äã‚Äãof strings after filtering service characters and garbage (for compact saving the text structure) , as well as the presentation at the level of words after filtering stop words.  Each representation acted as an entrance to the neural network: statistics in fully connected, line-by-line and word-level in recurrent. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c5d/221/c44/c5d221c4466592b74a3dca8896422c1f.jpg"><br><br>  In this scheme, a neural network consisting of a bidirectional GRU layer with a recurrent and regular dropout, pooling the hidden states of the recurrent network using the GlobalMaxPool1D layer and a fully connected (Dense) layer with a dropout was used as a recurrent network.  For each of the inputs, its own ‚Äúhead‚Äù of the neural network was built, and then they were combined through concatenation and locked to the target variable. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yb/j8/rz/ybj8rz-kwdlpkaryk7ubulu1sdo.jpeg"></div><br>  To obtain the final result, the combined neural network returned the probabilities that a particular query belongs to each of the types.  The data were divided into five blocks without intersections: the model was based on four of them and was tested on the fifth.  Since each request can be assigned only one type of request, the rule for making a decision was simple - according to the maximum probability value. <br><br><h2>  Prototype number 2: algorithms and principles of operation </h2><br>  The second prototype, for which the proposal prepared by the VTB Capital team, was taken as a base, is a Microsoft .NET Core application with Microsoft.ML libraries for implementing machine learning algorithms and the Atlassian.Net SDK for interacting with Jira via the REST API.  The basis for the construction of ML-models are also historical data - 50,000 Jira-tickets.  As in the first case, machine learning covered the Summary and Description fields.  Both fields were also ‚Äúcleared‚Äù before use.  Greetings, signatures, history of correspondence and non-text elements (for example, images) were deleted from the user's letter.  In addition, with the help of the Microsoft ML built-in functionality, stop words that have no meaning for processing and text analysis were cleaned out of the English text. <br><br>  Averaged Perceptron (binary classification) was chosen as the machine learning algorithm, which is complemented by the One Versus All method to provide multi-class classification <br><br><h2>  Evaluation of results </h2><br>  No ML model can (perhaps, so far) ensure 100% accuracy of the result. <br>  Prototype Algorithm ‚Ññ1 provides the share of correct classification (Accuracy), equal to 0.8003 of the total number of requests, or 80%.  At the same time, the value of a similar metric in a situation where it is assumed that the correct answer will be chosen by a person from the two presented by the solution reaches 0.901, or 90%.  Of course, there are cases where the developed solution works worse or cannot give the correct answer - as a rule, due to a very short set of words or the specificity of the information in the request itself.  Plays a role and is still not a large amount of the data used in the learning process.  According to preliminary estimates, an increase in the amount of information processed will make it possible to increase the classification accuracy by another 0.01‚Äì0.03 points. <br><br>  The results of the best model in the metrics of accuracy (Precision) and completeness (Recall) are evaluated as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/590/113/485/5901134851d1ef471b408b822f9fbece.png"><br><br>  If we evaluate the quality of the model as a whole for different types of queries using ROC-AUC curves, the results are as follows. <br><br>  <i>Requests for action (Action Request) and analysis of information (Analysis / Task Request)</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8cd/e6e/91c/8cde6e91c38a64200cc9b2f3aacd8282.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/676/f1f/422/676f1f42271c204c29f88f0b97117b2c.png"><br><br>  <i>Requests for Business Data Request and Change Request</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/02f/112/19c/02f11219cfed8c8d208451fd8300c928.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/253/b65/e65/253b65e654d1e8ccfd4fd82e56dee3a6.png"><br><br>  <i>Development Request and Inquiry Request</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fb/baa/dc6/1fbbaadc6b999322eeab9d5adbb43e50.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/65c/198/a17/65c198a179739383a644a0729e2b74b0.png"><br><br>  <i>Requests to create a new object (New Object Request) and add a new user (New User Request)</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef0/cb1/4ed/ef0cb14ede844161eb4864846ec7cdbc.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b7c/03b/d02/b7c03bd020031e48decf95b443acc302.png"><br><br>  <i>Production Request and Request Related to UAT / DEV Support (UAT / Dev Support Request)</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f5/ee9/88b/2f5ee988bab691e1f7e67bf169a1f0a5.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cde/011/ab0/cde011ab09ecf38bda207371821824d3.png"><br><br>  Examples of correct and erroneous classification for some types of queries are given below: <br><br>  <i>Request for Information (Inquiry Request)</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5fa/15d/3ad/5fa15d3add0120d38fe87c0aa6fe9e27.png"><br>  Change Request <br><br>  <b>Correct classification</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/54a/1c1/85c/54a1c185c2593817368c6c7df5854181.png"><br><br>  <b>Misclassification</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b14/ba6/4ae/b14ba64ae7a950fcf2b778607b1e7d9d.png"><br><br>  <i>Action request</i> <br><br>  <b>Correct classification</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/830/f31/bd7/830f31bd786c90325c3bee5dd66af9cd.png"><br><br>  <b>Misclassification</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/830/f31/bd7/830f31bd786c90325c3bee5dd66af9cd.png"><br><br>  <i>Production Issue</i> <br>  <b>Correct Classification</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7bd/41b/15f/7bd41b15fe79a94cfa7d4702ac245e5a.png"><br><br>  <b>Misclassification</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/80d/b28/1b7/80db281b7baa5306e16d4b2018a7dab2.png"><br><br>  The second prototype showed good results: ML approximately in 75% of cases correctly determines the type of query (Accuracy metric).  The opportunity to improve the indicator is connected with the improvement of the quality of the initial data, in particular, the elimination of cases when the same requests were assigned to different types. <br><br><h2>  Summing up </h2><br>  Each of the implemented prototypes showed its effectiveness, and now a combination of the two developed prototypes has been launched into pilot production at VTB Capital.  A small experiment with ML in less than a month and with minimal cost gave the company the opportunity to get acquainted with the machine learning toolkit and solve an important applied task of classifying user requests. <br><br>  The experience gained by the developers of EPAM and VTB Capital - in addition to applying for the further development of the implemented algorithms for processing user requests - can be reused in solving a variety of tasks related to streaming information processing.  Movement in small iterations and coverage of one process after another allows gradually mastering and combining various tools and technologies, choosing well-shown options and discarding less efficient ones.  This is interesting for the IT team and at the same time helps to get results that are important for management and business. </div><p>Source: <a href="https://habr.com/ru/post/455740/">https://habr.com/ru/post/455740/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455728/index.html">We make our almost Extended Floating Action Button</a></li>
<li><a href="../45573/index.html">Vista Bridge Library</a></li>
<li><a href="../455730/index.html">Install MacOS High Sierra, when only WiFi is at hand</a></li>
<li><a href="../455734/index.html">Habit do now</a></li>
<li><a href="../455738/index.html">How to earn a billion by monetizing your data?</a></li>
<li><a href="../455744/index.html">The maze landscape generation system with improved visual realism [Jinmo Kim]</a></li>
<li><a href="../455754/index.html">Tests of the drifting stratostat. Launch of Rogozin and LoRa into the stratosphere</a></li>
<li><a href="../455756/index.html">Is [favor] nd</a></li>
<li><a href="../455758/index.html">Growth Hacking in Retail Rocket: from hypothesis searching to testing methodology</a></li>
<li><a href="../45576/index.html">3D interface for information archive</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>