<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make friends with iOS typography</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It happens that the finished mobile product is different from what was originally in the layout. Of course, we all respect the dimensions and indents,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make friends with iOS typography</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/redmadrobot/blog/279981/"><img src="https://habrastorage.org/files/054/3a0/db5/0543a0db5d364fcb9ad81bc27a346e06.png"></a> <br><br>  It happens that the finished mobile product is different from what was originally in the layout.  Of course, we all respect the dimensions and indents, but this is not always enough.  Very often we forget (perhaps not accidentally) about the parameters of the text, so they will be discussed below. <br><br><a name="habracut"></a><br>  <b>What are we forgetting?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When creating a layout, the designer takes into account the correct arrangement of elements in it, which, however, does not describe in specific numerical expressions.  As a result, the developer doesn‚Äôt implement exactly the verified design, and the designer gets upset. <br><br><img src="https://habrastorage.org/files/31d/577/11a/31d57711a5764f2daa822f26e10cc4ba.jpg" height="280"><br><br>  Most often when aligning text, designers change the tracking and leading.  Let's understand what it is. <br><br>  <i>Tracking</i> - a uniform change in the distance between letters (inter-letter spaces).  In some systems, the concept of character spacing is used, which is the same; only the units of measurement differ, which will be discussed below.  It is usually used for thinning inscriptions, consisting entirely of uppercase letters. <br><br><img src="https://habrastorage.org/files/55a/9c7/b5a/55a9c7b5adbd4dae93e725719c1c1498.png"><br><br>  <i>The leading</i> is a line spacing, the distance between the base lines of adjacent lines.  In computer layout, this concept is usually called "line spacing." <br><br><img src="https://habrastorage.org/files/c3a/469/7df/c3a4697dfb724cafb81d516e8f2c1ea4.png" height="196"><br><br>  <b>What to do with it?</b> <br><br>  Suppose the designers gave us along with the map of the fonts also the values ‚Äã‚Äãof tracking and leading.  Then you can safely add them to our code. <br><br>  Apple provided us with a tool such as NSAttributedString for working with text.  It can be easily used inside standard components: UILabel, UITextView, UITextField. You just need to get a dictionary with parameters and initialize the string with it. <br>  For example, NSKernAttributeName is the key by which we indicate the tracking value, and NSFontAttributeName, as you might guess, is responsible for transferring the font in the parameter list. <br><br><pre><code class="scala hljs">let attributes = [<span class="hljs-type"><span class="hljs-type">NSFontAttributeName</span></span> : font, <span class="hljs-type"><span class="hljs-type">NSKernAttributeName</span></span> : tracking] let newAttributedText = <span class="hljs-type"><span class="hljs-type">NSAttributedString</span></span>(string: text, attributes: attributes)</code> </pre> <br>  The code looks very simple.  The difficulty lies in the tracking parameter. <br><br>  If your designer uses Sketch, then you are lucky.  There, this parameter is called character spacing, and its value is the same as what needs to be transferred to our dictionary.  Most likely, it still needs to be divided by 2 if layouts are made on a 2x scale. <br><br>  A little harder will have to those designers who work in Photoshop.  In order to obtain the required value, you need to use the following formula: <br><br>  tracking = fontSize * trackingPS / 1000 <br><br>  The formula seems to be magical, but in fact it has historical significance.  Tracking is measured in thousandths of a <a href="http://www.paratype.ru/help/term/terms.asp%3Fcode%3D117">round space</a> .  In turn, the round fancy is equal to the size of the pt.  And character spacing is measured at point.  Knowing this, it is easy to understand the origin of the formula. <br><br>  With leading things are different.  The value that designers gave us, even from Sketch, even from PS, will be the same.  But, unfortunately, we can not just take it and use it.  The fact is that the value that the designers gave us is the distance between the baselines.  We don‚Äôt have properties that would be responsible for this distance.  But there are a few that will help us get the picture, as on the layout.  One of them - lineSpacing, which we find in NSParagraphStyle - is the distance between the upper and lower boundaries of adjacent lines. <br><br>  This means that we need to carry out the following manipulation: <br><pre> <code class="scala hljs">let paragraphStyle = <span class="hljs-type"><span class="hljs-type">NSMutableParagraphStyle</span></span>() paragraphStyle.lineSpacing = lineSpacing - font.lineHeight</code> </pre><br>  Here you should pay attention to the fact that we use the font.lineHeight property, and not the font.pointSize.  As a rule, we do not set the lineSpacing value, and by default it is 0, but nevertheless, on the screen we see lines between which there is some distance (it depends on the font and on the size of the size).  The font.lineHeight property includes this distance.  According to the specification NSParagraphStyle - lineSpacing can have non-negative values.  At this point, you can notice the problem.  If suddenly the leading set by our designer is less than the height of the line, then nothing will happen.  lineSpacing will remain zero.  Of course, you can say that you do not need to reduce the standard leading, and calm down on this.  But you can solve this problem. <br><br>  You can use the heightMultiple property all in the same NSParagraphStyle.  We can give it a value less than 1, and this will allow us, if necessary, to reduce the height of the line defined by the font.  To do this, we also need to write a couple of lines of code: <br><pre> <code class="scala hljs">let paragraphStyle = <span class="hljs-type"><span class="hljs-type">NSMutableParagraphStyle</span></span>() let heightMultiple = lineHeight / font.lineHeight paragraphStyle.lineHeightMultiple = heightMultiple</code> </pre><br>  And then add the paragraphStyle parameter to our NSAttributedString with the key NSParagraphStyleAttributeName. <br><br>  <b>Simplify the process</b> <br><br>  I would also like to say a few words about the interaction with the designers.  There is a tool like <a href="https://zeplin.io/">Zeplin</a> .  This is a plugin for Sketch, which easily and naturally allows you to transfer all the data from designer to developer.  He is able to build a map of colors, fonts and a lot more. <br>  The most interesting thing for us now is that from Zeplin you can get all the text parameters without touching the designer. <br><br><img src="https://habrastorage.org/files/361/04d/e68/36104de683684d30ba78cf28edee319c.png"><br><br>  <b>Total</b> <br><br>  Now the incomprehensible words tracking and leading are not so scary and I want to believe that they will be used as calmly as the font, size and color.  And in the world there will be more happy users, designers and developers. </div><p>Source: <a href="https://habr.com/ru/post/280029/">https://habr.com/ru/post/280029/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280013/index.html">Sync.NET Meeting Announcement # 2</a></li>
<li><a href="../280019/index.html">Meet IntelliJ IDEA 2016.1</a></li>
<li><a href="../280023/index.html">Fascinating programming: learning Minecraft</a></li>
<li><a href="../280025/index.html">CityF contest: the battle between hackers and bezopasnik</a></li>
<li><a href="../280027/index.html">SPC and IDC</a></li>
<li><a href="../280031/index.html">Measuring the flow rate of liquids and gases</a></li>
<li><a href="../280033/index.html">Scale to 100 million users. Cache or not cache?</a></li>
<li><a href="../280035/index.html">New JavaScript framework released: DAAJS</a></li>
<li><a href="../280037/index.html">The dhcpclient and resolv.conf relationships in Linux</a></li>
<li><a href="../280039/index.html">One developer nearly broke the NPM package manager</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>