<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development for Docker. Local environment. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perhaps one of the most basic reasons why I like docker is that it eliminates the need to install various services on a computer. These include the Ap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development for Docker. Local environment. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Perhaps one of the most basic reasons why I like docker is that it eliminates the need to install various services on a computer.  These include the Apache or Nginx web server itself, databases and other components of the application infrastructure.  The entire infrastructure is written in the docker-compose.yml configuration file and is launched as a team with your application.  All that the developer working with the docker needs is, in fact, the docker himself and his favorite development environment and EVERYTHING! <br><a name="habracut"></a><br>  For completeness of the further narration, you still have to briefly tell you what docker is and its basic concepts. <br><br>  So, docker should be considered as some kind of virtualization and containerization system. <br>  One of the basic concepts of a docker is an image.  The image can be compared with a file (maybe even with an executable program file), which contains some information.  Docker can run the image.  The launched image is called a container.  Multiple containers of the same image may be running. <br><br>  So what is in the image? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There may be an operating system image.  For example, the image of ubuntu.  Maybe an image with a database, a web server and php and almost anything.  To start this knowledge will be enough for us. <br><br>  It is assumed that the reader has already installed docker itself and the docker-compose utility. <br><br>  Let's start the deployment of our environment from simple to more complex. <br><br><h2>  Lesson number 1.  Nginx installation </h2><br>  Let's try to install only one Nginx.  Create docker-compose.yml as follows: <br><br><pre><code class="plaintext hljs">version: '3.0' services: nginx: image: nginx ports: - 80:80</code> </pre> <br>  Next, execute the docker-compose up -d command in response should appear something like the following: <br><br><pre> <code class="plaintext hljs">Creating network "lesson1_default" with the default driver Creating lesson1_nginx_1 ... done</code> </pre><br>  Enter in the address bar of the browser <a href="http://localhost/">http: // localhost /</a> and our gaze should open the greeting "Welcome to nginx!".  If so, you're on the right track. <br><br>  What is going on here? <br><br>  To understand the structure of the compose file, I recommend referring to the <a href="https://docs.docker.com/compose/compose-file/">official documentation</a> , despite the fact that it is in English the best source of information.  The documentation describes all possible options that can be used. <br><br>  Let's analyze the submitted file: <br><br><ul><li>  version - At the beginning, the version of the compose file is declared.  Instead of 3.0, one could also specify 2.0.  Less is no longer supported.  The version depends on the options in the compose file that are available for use. </li><li>  services - service announcement </li><li>  nginx - the name of our service, is arbitrarily set at its discretion.  In this example, matches the image name. </li><li>  image: nginx - the name of the image used. </li><li>  ports - a directive announces port forwarding.  8080: 80 - this entry means that port 8080 of the container will correspond to port 8080 on the host machine on which the docker is running.  In the example from the file, port 80 in the container is connected to port 80 on your computer. </li></ul><br>  Let us analyze the image declaration in more detail, the directive image: nginx. <br><br>  The main repository of all images is <a href="https://hub.docker.com/">Docker Hub</a> there are many different ready-made images (You can collect your own, but more on that later).  Announced <a href="https://hub.docker.com/_/nginx">image of nginx</a> is one of them. <br><br>  As for the "forwarding" ports.  If you specify a 80:80 match, as in this example, then nginx will be available at localhost: 80 or just localhost.  If port 80 is already busy, you can specify 8080: 80.  Then the site will be available at localhost: 8080.  And accordingly, if you completely forgot to specify this ports directive, then the port will be available only inside the container and nginx will no longer be available through the browser. <br><br>  The container is running.  And how to work with him? <br><br>  The installation of the Web server assumes that we want to use it to receive and view the HTML pages of the site.  There is a question.  How can I transfer any html files to the container?  This will help us volumes <br><br><h3>  volumes </h3><br>  Let's take our docker-compose.yml to the following form: <br><br><pre> <code class="plaintext hljs">version: '3.0' services: nginx: image: nginx ports: - 80:80 volumes: - ./html:/usr/share/nginx/html</code> </pre><br>  A new directive appeared here called volumes, which says that the local ./html folder is being mounted into the container at / usr / share / nginx / html. <br><br>  When mounted, the folder at the specified address inside the container is replaced with the folder from the local computer. <br><br>  To make it work, we will create the html folder on the same level as the docker-compose.yml file and add the index.html file with free text to it.  For example, Hello from Docker! <br><br>  And do the re-creation of the container with the same command docker-compose up -d <br>  Docker performs the re-creation of the container. <br><br><pre> <code class="plaintext hljs">Recreating lesson1_nginx_1 ... done</code> </pre><br>  We check the result in the browser.  And see: Hello from Docker!  Everything worked out. <br><br>  It is important to note that the mounted folder is available for real-time changes.  Those.  if we change the text in the index.html file or add a new file to the folder, all these changes will immediately be available inside the container.  This important feature allows you to develop through docker.  We make changes on our computer to mounted files and folders and they are immediately displayed in the docker's container. <br><br>  <a href="https://habr.com/ru/post/460173/">Part 2 - Nginx + PHP + MySql + phpMyAdmin</a> </div><p>Source: <a href="https://habr.com/ru/post/459972/">https://habr.com/ru/post/459972/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45996/index.html">Password is not long enough</a></li>
<li><a href="../459964/index.html">8 simple UI techniques to make the design prototype dynamic, without resorting to animation</a></li>
<li><a href="../459968/index.html">What really happened to the missing Malaysian Boeing (part 3/3)</a></li>
<li><a href="../45997/index.html">Benefit from Habr?</a></li>
<li><a href="../459970/index.html">Promise.allSettled</a></li>
<li><a href="../459976/index.html">New build Nemesida WAF Free for NGINX</a></li>
<li><a href="../459978/index.html">Node.js developer tools. Remote procedure call on web sockets</a></li>
<li><a href="../459980/index.html">High tech Nigerian letters</a></li>
<li><a href="../459982/index.html">Roslyn Analyzers. How to write code quickly and accurately</a></li>
<li><a href="../459984/index.html">We create infrastructure as code with GitLab and Ansible</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>