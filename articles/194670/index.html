<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>And how many drones give milk? Reverse engineering techniques in sound design</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is an attempt to figure out whether it is possible to transfer the experience of reverse engineering in sound design by means of expressiv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>And how many drones give milk? Reverse engineering techniques in sound design</h1><div class="post__text post__text-html js-mediator-article">  The article is an attempt to figure out whether it is possible to transfer the experience of reverse engineering in sound design by means of expressiveness of the Russian language. <br><br>  Once, while reading music forums, I came across a <a href="http://sound.stackexchange.com/questions/18895/oblivion-drone-sound-design-wow">topic</a> discussing sound design in the Oblivion film.  People were interested in the process of creating the sounds of drones.  Since there are essentially no answers, after a few weeks, the topic did not appear, and there was only water in the <a href="http://vimeo.com/64213430">official video</a> , I decided to try to find the answer myself, using reverse engineering methods. <br><br>  The first scene with the participation of a drone (in the 12th minute of the film), which can be found on <a href="http://www.youtube.com/watch%3Fv%3DSWX0QlaQMKk">YouTube,</a> was chosen as a reference.  After several hours of work, I was able to get the following result: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/tMxwHRkBDTw%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhhcV5fzqTFPevsw4TlndOMZZj3uTQ" frameborder="0" allowfullscreen=""></iframe><br><a name="habracut"></a><br><h4>  Training </h4><br>  The whole development cycle can be divided into the following stages: <br><br><ol><li>  Find any additional information on the topic. <ul><li>  video from studios involved in film voice acting </li><li>  interview with creators </li><li>  discussions on specialized forums (what if someone already figured out everything and we reinvent the wheel) </li><li>  technical articles on related topics </li></ul></li><li>  Original analysis <ul><li>  visual analysis of the waveform, spectrogram, etc. </li><li>  making a list of all sounds used in the scene </li><li>  description of each sound in technical terms (timbre, spectrum, type of synthesis, layers, articulation) </li><li>  compiling a list of associations for each sound (objects, emotions) </li><li>  grouping of related sounds (to avoid repeated actions) </li></ul></li><li>  Selection of suitable tools <ul><li>  spectrum analyzer </li><li>  audio editor </li><li>  synthesizer </li></ul></li><li>  Synthesis <ul><li>  proper synthesis </li><li>  additional sound design </li></ul></li></ol><br><h4>  Original analysis </h4><br>  First of all, with the help of <a href="http://ffmpeg.org/">ffmpeg,</a> I cut out a 30-second reference scene from the movie and saved it as an audio file that I imported into the main host for convenient A / B comparison in the process.  Then, using <a href="http://sox.sourceforge.net/">SoX</a> , I made large-format (2000x2000 pixels) spectrograms of each audio channel.  Despite the fact that I spend most of my work with the spectrum in Adobe Audition, where there is a spectral editor, the SoX spectrograms allow you to quickly get an idea of ‚Äã‚Äãthe sound picture as a whole and the filling of each of the 6 channels of 5.1 sound. <br><br><img src="https://habrastorage.org/storage3/229/1a2/cb9/2291a2cb9b1fda77302cd12b93c4d017.png" alt="image"><br>  <i>Spectrogram of the original 5.1 sound scene in Adobe Audition</i> <br><br>  Since the episode I chose is rather static, the main sounds are in the center channel, which is confirmed by the spectrogram.  This greatly facilitates further work.  Using ffmpeg, I export the central channel and open it in the audio editor. <br><br><img src="https://habrastorage.org/storage3/cb3/c45/267/cb3c4526763f8b12c35f6b570ae09aa0.png" alt="image"><br>  <i>Wave and spectral modes of sound display of the central channel</i> <br><br>  As a rule, the mode of viewing the waveform helps in analyzing simple sounds, and the main information we can get with it is at what point the sounds appear, what is their amplitude and duration.  In the case of complex scenes in which there are background noise and multilayer elements, you can safely switch to the spectral mode. <br><br>  In a few words about the difference between the wave and spectral modes: in the wave mode, sound is represented in two-dimensional space XY, where X is the time axis, and Y is the amplitude of the wave oscillation in dB.  Spectral mode allows you to see sound in three-dimensional space XYZ, where X is time, Y is the frequency range in Hz, and Z is the intensity (loudness) of the signal, which is set in color, according to the principle: the louder the sound, the brighter the color. <br><br>  Let's sort the first 6 seconds of the scene.  So its spectrum looks like: <br><br><img src="https://habrastorage.org/storage3/a63/a44/564/a63a445647ce1ab9ae28efea8f8deb0d.png" alt="image"><br><br>  After carefully listening to the scene and studying the spectrogram, the following sound elements can be distinguished: <br><br><img src="https://habrastorage.org/storage3/c77/275/451/c7727545119e89dd25f0e5d7194b01e5.png" alt="image"><br><br>  We break them into logical groups: <br><br><img src="https://habrastorage.org/storage3/4aa/591/585/4aa591585ef1587ba49f5d325862043b.png" alt="image"><br><br>  We get the following list: <br><br><ol><li>  Dog's bark </li><li>  Drumroll </li><li>  HF drone activation sound </li><li>  The sound of the servo <br>  a.  High frequency noise (addition to 5a) <br>  b.  High frequency noise (addition to 5b) <br>  c.  The sound of fixing the servo mechanism (addition to 7) </li><li>  Signal <br>  a.  "Question" <br>  b.  "Answer" </li><li>  Low-frequency signal (addition to 7) </li><li>  Siren </li><li>  Engine sound </li><li>  Background broadband noise (environmental sounds, wind, sand, etc.) </li></ol><br>  This is our sound card.  Let me remind you that the map! = Territory.  In this case, this is my subjective vision of the sound content of the scene.  Another person may have a different map and group.  And there is nothing bad in it, it is important to understand that our further actions and the final result will depend on how believable and detailed we will draw the map. <br><br>  So, the map.  Barking dogs and drumming are not related to the drone, so we will immediately move on to point 3. <br><br><img src="https://habrastorage.org/storage3/9c8/347/a05/9c8347a053b43338d2f22b93712293b1.png" alt="image"><br>  <i>Spectrum sound activation drone</i> <br><br>  The spectrogram shows that the beginning of this sound fits in the range from 5,000 to 10,000 Hz and then goes linearly to the range from 6000 to 12,000 Hz.  This means that we can synthesize a static sound, with a spectrum, as at the beginning of the activation sound, and then, using automation, smoothly change the pitch to the state at the end of the activation sound.  The very sound of this element has tonal characteristics and in the spectrum, among the noise, there are individual strips of harmonics.  It can be assumed that initially it was a signal rich in harmonics (for example, a sawtooth wave), which was processed with a band-pass filter (with a passband of 5,000‚Äì10,000 Hz).  Let's try this process again. <br><br><h4>  Synthesis </h4><br>  Synthesizer U-HE Zebra is known among musicians and sound designers not only for its depressing appearance, but also for a very flexible modular organization, as well as a large number of unique effects that allow you to create sounds of almost any complexity.  Well-known sound designer Howard Scarr used Zebra to create sounds for "Inception", "The Dark Knight", "The Dark Knight Rises" and many other films. <br><br><img src="https://habrastorage.org/storage3/87b/2a6/a0d/87b2a6a0da4d93537caad99ed802ca2d.png" alt="image"><br>  <i>Synthesizer U-HE Zebra.</i>  <i>Preset sound activation drone</i> <br><br>  The preset logic in the screenshot above is simple: the OSC1 oscillator, which generates a sawtooth wave, applies the Wrap effect (to enrich the spectrum with additional harmonics and noise) and Bandworks (bandpass filter, which removes everything from the spectrum except the range of 5000-10000 Hz).  The pitch of OSC1 (Tune) varies in time with the MSEG1 envelope.  At the end of the chain, a cut filter (VCF1) cuts off frequencies above 10,000 Hz that Bandworks could not cope with, and also slightly compresses the sound with resonance (Res) and saturation (Drive).  The whole process of sound formation can be represented as a chain of modules: <br><br>  <b>OSC1</b> -&gt; Wrap -&gt; Bandworks &gt;&gt;&gt; <b>MSEG1</b> &gt;&gt;&gt; VCF1 -&gt; Res -&gt; Drive &gt;&gt;&gt; <b>Envelope 1</b> <br><br>  The last module in the list is the so-called.  <a href="https://ru.wikipedia.org/wiki/ADSR-%25D0%25BE%25D0%25B3%25D0%25B8%25D0%25B1%25D0%25B0%25D1%258E%25D1%2589%25D0%25B0%25D1%258F">The ADSR envelope</a> , which in our case controls the change in overall volume. <br><br>  As a result of this operation, we obtain: <br><br><img src="https://habrastorage.org/storage3/c48/9bf/1cb/c489bf1cbb24730534b80f9226739fd9.png" alt="image"><br>  <i>Comparison of the spectrum of the original (A) and synthesized (B) activation sounds</i> <br><br>  <a href="https://docs.google.com/file/d/0B4a-QpabQwskSUFLRmsxRXVxbjA/edit%3Fusp%3Dsharing">Download MP3 sample from Google Drive</a> <br>  <a href="http://d.pr/a/NLaV">Player</a> <br><br><h4>  Mechanism synthesis </h4><br>  The synthesis of servomechanisms is a separate topic and I will not discuss it in detail in this article, since in the original scene, recorded samples were most likely used to sound these elements.  I can only say that the sound of the operation of any mechanism consists of three phases: on, on, on, off.  The sound of <b>work</b> is a looped short fragment that repeats until the off phase occurs.  The repetition of a looped fragment with a frequency higher than 20 times per second outputs this (carrier) frequency (vibrations) to the region heard by a person.  What we hear in this situation is called the drone.  Drones, for example, include the sounds of working fans, engines of machines and machines, drills, electric razors, the buzz of insects, etc ... atonal (tonality is difficult or impossible to determine).  In the case of a flying drone in our scene, we are dealing with a working engine at the time of acceleration, that is, it is an atonal drone, the carrier frequency of which gradually rises.  In the screenshot with groups, this sound is marked with the number 8, and it is synthesized by the same principle as the previous element.  In the spectrogram, we select the place where all the harmonics are clearly visible, record their frequencies at this point in time and recreate it using one or more synthesizer oscillators.  Then automate the change in pitch, simulating acceleration.  Since in our scene the sound of the engine does not play a significant role, I did not begin to reproduce it in every detail, but quickly threw a preset for Zebra to demonstrate the idea itself: <br><br><img src="https://habrastorage.org/storage3/54f/f14/50c/54ff1450c9df618787ad0534282f2d46.png" alt="image"><br>  <i>Engine sound preset</i> <br><br><img src="https://habrastorage.org/storage3/1ed/f53/dce/1edf53dcedb4fa9223198b103f218fa5.png" alt="image"><br>  <i>Spectrogram of synthesized sound engine</i> <br><br>  <a href="https://docs.google.com/file/d/0B4a-QpabQwskTGpLQ3NNRVV1aFU/edit%3Fusp%3Dsharing">Download MP3 sample from Google Drive</a> <br>  <a href="http://d.pr/a/nYbe">Player</a> <br><br><h4>  Siren synthesis </h4><br>  Go ahead.  The tone of the siren stands out from the drone's sound palette primarily by the presence of character.  It does not look like the rest of the cold electronic tweeters and hooters.  This is a sound that clearly promises imminent trouble to the one who hears it, he hints, as it were, that <i>something seems to have gone wrong</i> (and this will be a disaster). <br><br><img src="https://habrastorage.org/storage3/1fa/a3b/831/1faa3b831a5d12288825194fab60ff6c.png" alt="image"><br>  <i>Spectrogram siren from the movie</i> <br><br>  This is a harmonic-rich sound; in the harmonics there is a slight vibration with a non-fixed frequency, which is characteristic of the sounds of nature.  A siren resembles a cry of a person or an animal, and in timbre it resembles something between the sounds A, U, U, which confirms the version that it is a live sound.  At first, I thought that the sound engineers who worked on the film probably read Philip Dick and, perhaps, decided to use the bleating sheep - a kind of Easter egg as the source of this sound.  But after searching for sheep on freesound.org, I came to the conclusion that their voices are too high and therefore you need to look for a bigger animal, but with similar voice characteristics.  The first <a href="http://www.freesound.org/people/felix.blume/sounds/163727/">sample of a mooing cow</a> turned out to be what I was looking for. <br><br>  Applying the effects of time stretch, distortion to this mooing and slightly correcting the pitch, we get the following: <br><br>  <a href="https://docs.google.com/file/d/0B4a-QpabQwskV3ZZLU5nR1NVR3c/edit%3Fusp%3Dsharing">Download MP3 sample from Google Drive</a> <br>  <a href="http://d.pr/a/x24V">Player</a> <br><br>  Add a low frequency signal (6) and reverb: <br><br>  <a href="https://docs.google.com/file/d/0B4a-QpabQwskX1hDbkJlVHRSeDg/edit%3Fusp%3Dsharing">Download MP3 sample from Google Drive</a> <br>  <a href="http://d.pr/a/Gu9X">Player</a> <br><br>  Let's compare the siren spectrum from the film and the final version of our cow: <br><br><img src="https://habrastorage.org/storage3/bcd/fd3/a6c/bcdfd3a6c3be4bd9ad6c644652e83020.png" alt="image"><br><br><h4>  Signal synthesis </h4><br>  All three elements 5a, 5b and 6 are intervals played by one or three similar instruments, in the timbre of which there are signs characteristic of <a href="https://ru.wikipedia.org/wiki/FM-%25D1%2581%25D0%25B8%25D0%25BD%25D1%2582%25D0%25B5%25D0%25B7">FM synthesis</a> .  The sound also resembles <a href="https://ru.wikipedia.org/wiki/DTMF">DTMF tones</a> .  These moments are determined without analyzing spectrograms, just by ear, like the intervals themselves: for 5a this is a triton up, for 5b it is a quint down, for 6th a quart up.  Further, experimenting with the FM oscillator in Zebra, we quickly get a similar sound. <br><br><img src="https://habrastorage.org/storage3/13d/fac/6bf/13dfac6bfc455dbe82c19869f6955716.png" alt="image"><br><br>  <a href="https://docs.google.com/file/d/0B4a-QpabQwska2xmclU5X2w4Z2M/edit%3Fusp%3Dsharing">Download MP3 sample from Google Drive</a> <br>  <a href="http://d.pr/a/Hgmj">Player</a> <br><br>  OSC1 oscillator generates a sine wave that sets the pitch.  The OSC2 and FMO1 oscillator are in dissonance with each other and with OSC1 (that is, their frequencies are not multiple of the OSC1 tone frequency), which as a result gives this tense sound, something like a siren or a police quack. <br><br><h4>  Background </h4><br>  Background noise is probably the most underrated by most people information component of the sound picture.  However, the same is true for the background in all other areas of life.  At one time, the emergence of such a genre as a landscape, was a revolution in painting, the pattern of the man in the street rushed at the sight of paintings, where there was no main character.  Today everyone knows what Mona Lisa looks like, but not everyone can remember what is depicted behind her, whether she is sitting at an open window or, perhaps, standing in a clean field.  And yet, if you remove the background completely, it immediately catches the eye.  The same story and sound background.  If not, the scene loses realism, atmosphere and meaning.  Sound events occur in ... "nowhere."  Therefore, in order to revive the sound of our scene, I selected an <a href="http://www.freesound.org/people/kangaroovindaloo/sounds/195221/">emotional background</a> suitable for her on freesound.org. <br><br>  The final version with all the whistles and beeps: <br><br>  <a href="https://docs.google.com/file/d/0B4a-QpabQwskMkxhYXltUzZELXM/edit%3Fusp%3Dsharing">Download MP3 sample from Google Drive</a> <br>  <a href="http://d.pr/a/OuPn">Player</a> <br><br><h4>  Finally </h4><br>  When I conceived this article, I planned to describe the process of creating all the sounds that are in the final version.  But judging by the amount of water I diluted here, even this paragraph was most likely reached by a few.  Hello!  Thank you for reading to the end. <br><br><h4>  Links </h4><br>  <a href="https://ru.wikipedia.org/wiki/FM-%25D1%2581%25D0%25B8%25D0%25BD%25D1%2582%25D0%25B5%25D0%25B7">FM synthesis (Wikipedia)</a> <br>  <a href="https://ru.wikipedia.org/wiki/DTMF">DTMF (Wikipedia)</a> <br>  <a href="https://ru.wikipedia.org/wiki/ADSR-%25D0%25BE%25D0%25B3%25D0%25B8%25D0%25B1%25D0%25B0%25D1%258E%25D1%2589%25D0%25B0%25D1%258F">ADSR envelope (Wikipedia)</a> <br>  <a href="http://www.freesound.org/people/felix.blume/sounds/163727/">Cow sample</a> <br>  <a href="http://www.freesound.org/people/kangaroovindaloo/sounds/195221/">Environmental sample</a> <br>  <a href="http://www.freesound.org/people/Sempoo/sounds/124032/">Samples of servomechanisms from the final version [1]</a> , <a href="http://www.freesound.org/people/pushkin/sounds/149305/">[2]</a> <br>  <a href="http://www.zorchmusic.com/hscarr/index.html">Howard scarr</a> <br>  <a href="http://www.u-he.com/cms/zebra">U-HE Zebra</a> </div><p>Source: <a href="https://habr.com/ru/post/194670/">https://habr.com/ru/post/194670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../194658/index.html">Reading Java configuration files: nProperty</a></li>
<li><a href="../194660/index.html">Articles from businessmen from Silicon Valley. Alexey Fedoseev: ‚ÄúA brave and new, but not very clear world (part 1)‚Äù</a></li>
<li><a href="../194662/index.html">Nintendo story led by Hiroshi Yamauchi</a></li>
<li><a href="../194664/index.html">Parse the x.509 certificate</a></li>
<li><a href="../194666/index.html">The digest of news from the world of mobile development in the last week ‚Ññ25 (September 16‚Äì22, 2013)</a></li>
<li><a href="../194674/index.html">Gravitational search. Gravitational search</a></li>
<li><a href="../194676/index.html">Your curious girl can unlock your Iphone 5s with your finger while you sleep</a></li>
<li><a href="../194678/index.html">NLPub Q & A</a></li>
<li><a href="../194682/index.html">Conference proceedings DEF CON 1993-2013</a></li>
<li><a href="../194686/index.html">Stephen Hawking: It is theoretically possible to copy brain information to a computer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>