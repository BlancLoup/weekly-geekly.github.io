<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Design Patterns in React</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Design patterns that have emerged and developed in the React ecosystem over its lifetime improve the readability and cleanliness of the code, and faci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Design Patterns in React</h1><div class="post__text post__text-html js-mediator-article"> Design patterns that have emerged and developed in the React ecosystem over its lifetime improve the readability and cleanliness of the code, and facilitate the reuse of components. <br><br>  The author of this material says that he began working with <a href="https://reactjs.org/">React</a> about three years ago.  At that time, there were no established practices, studying which and following which could improve the quality of their developments. <br> <a href="https://habrahabr.ru/company/ruvds/blog/349198/"><img src="https://habrastorage.org/webt/u3/8g/hi/u38ghiorb0sp_ni7bdzkmt9guqs.png"></a> <br>  It took the React community about two years to develop several ideas that have now become popular.  Here we can note the transition from <code>React.createClass</code> to <code>React.createClass</code> classes and to pure functional components, the rejection of mixins and the <a href="https://reactjs.org/blog/2016/04/07/react-v15.html">simplification of the API</a> .  Now, given that the number of React-developers is constantly growing, the fact that serious forces are being invested in the development of this project, one can observe the evolution of several interesting design patterns.  This template is dedicated to this material. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Conditional rendering</font> </h2><br>  Let's start with conditional rendering.  I have seen the following scenario in a variety of projects.  The point is that while working with React and JSX, developers still tend to reflect on these technologies in terms of HTML and JavaScript.  As a result, it is quite natural that the conditional logic is separated from the returned code. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> condition = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> innerContent = condition ? (   <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">font</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#3AC1EF"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Show me</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">font</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Description</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">This is always visible</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     { innerContent }   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); };</code> </pre> <br>  Similar constructions, in which, at the beginning of each function <code>render()</code> , there are conditional <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">ternary operators</a> , tend to quickly go out of control.  In order to understand whether an element will be displayed, you need to constantly look at the function code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Alternatively, you can try the following pattern that incorporates the features of the language. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> condition = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">This is always visible</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   {     condition &amp;&amp; (       </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">         </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">font</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#3AC1EF"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Show me</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">font</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">         </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Description</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">       </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     )   } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre> <br>  If the <code>condition</code> is <code>false</code> , then the system does not reach the calculation of the second operand of the <code>&amp;&amp;</code> operator.  If <code>true</code> , then the second operand, that is, the JSX code that we want to render, is returned. <br><br>  This allows the user interface logic to be mixed with the description of the interface elements using a declarative approach.  In this case, JSX should be perceived as if it is an integral part of the code.  In the end, we are talking about the usual JavaScript. <br><br><h2>  <font color="#3AC1EF">Passing properties down the component tree</font> </h2><br>  Our next design pattern is passing properties down through the component tree (passing down props).  When an application grows and develops, it turns out that it consists of small components that act as containers for other components.  As a result, large amounts of properties intended for the descendants of these components and not used by the parent components have to be passed through the components.  In such a situation, you can resort to destructuring properties, to the use of the extension operator. <br><br><pre> <code class="hljs xml">const Details = ( { name, language } ) =&gt; ( <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{ name } works with { language }<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> ); const Layout = ( { title, ...props } ) =&gt; ( <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>{ title }<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Details</span></span></span><span class="hljs-tag"> { </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span><span class="hljs-tag"> } /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> ); const App = () =&gt; ( <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span><span class="hljs-tag">   </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"I'm here to stay"</span></span></span><span class="hljs-tag">   </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JavaScript"</span></span></span><span class="hljs-tag">   </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Alex"</span></span></span><span class="hljs-tag"> /&gt;</span></span> );</code> </pre> <br>  In this example, you can change the properties required for <code>Details</code> and ensure that there are no references to these properties in several components. <br><br><h2>  <font color="#3AC1EF">Destructuring properties</font> </h2><br>  Let's talk about the pattern of destructuring properties (destructuring props).  Over time, the application changes, the same thing happens with components.  A component written a couple of years ago can use a state, but under current conditions it can be converted to a stateless component.  You can often see the opposite situation. <br><br>  Involving the possibility of destructuring properties, you can use a useful technique that I use to, in the long run, facilitate the work on the project.  Properties can be destructed for components of both types. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Details = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> { name, language } </span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{ name } works with { language }</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Details</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { name, language } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props;   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">       </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{ name } works with { language }</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>   ) } }</code> </pre> <br>  Notice that lines 2-4 and 11-13 (that is, the <code>&lt;div&gt;</code> tags) are identical.  This template makes it easy to transform components.  In addition, this approach limits the use of <code>this</code> inside the component. <br><br><h2>  <font color="#3AC1EF">Provider Template</font> </h2><br>  The ‚Äúprovider‚Äù design pattern refers to React capabilities that have appeared relatively recently.  Above, we analyzed an example in which properties should be sent to descendants of a certain component.  This operation is complicated with an increase in the number of components receiving properties.  How to be, if, say, properties should be transferred to fifteen components?  In such a situation it will be useful to use the API <a href="https://reactjs.org/docs/context.html">React Context</a> .  This is not to say that this React opportunity is useful in any situation, but then, when necessary, it turns out to be very useful. <br><br>  Here it must be said that the appearance of a new API in <code>Context</code> , containing the implementation of the ‚Äúprovider‚Äù design pattern, was <a href="https://twitter.com/acdlite/status/956390180637650944">announced</a> relatively recently.  This template should be familiar to those who use something like React Redux or Apollo.  In order to deal with the new API, using existing capabilities, you can experiment with <a href="https://codesandbox.io/s/rww6k3mq94">this code</a> . <br><br>  In the model we are considering, the component of the upper level is called the provider.  It writes some values ‚Äã‚Äãinto the context.  A descendant component, called a consumer, takes these values ‚Äã‚Äãfrom the context. <br><br>  While the syntax for working with the context looks a bit strange, however, in the next versions React is expected to implement this particular template. <br><br><h2>  <font color="#3AC1EF">Higher order components</font> </h2><br>  Talk about the ‚Äúhigher order component‚Äù pattern ( <a href="https://reactjs.org/docs/higher-order-components.html">High Order Component</a> , HOC) should start with the idea of ‚Äã‚Äãcode reuse.  Together with the rejection of the old factory function <code>React.createElement()</code> , the React team also refused to support <a href="https://reactjs.org/blog/2016/07/13/mixins-considered-harmful.html">mixins</a> .  They were, to some extent, the standard approach to the composition of components through the usual composition of objects.  Higher order components are now designed to meet the need to re-use the functionality of a variety of components. <br><br>  A higher order component is a function that accepts an input component and returns an extended or modified version of this component.  The fact that we here call ‚Äúhigher order components‚Äù has many names, I prefer to perceive them as decorators. <br><br>  If you use Redux, you will recognize a higher-order component in the <code>connect</code> function, which, when it accepts a component, adds certain properties to it. <br><br>  We implement a simple higher order component that can add properties to existing components. <br><br><pre> <code class="hljs coffeescript">const withProps = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( newProps )</span></span></span><span class="hljs-function"> =&gt;</span></span> ( WrappedComponent ) =&gt; { const ModifiedComponent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( ownProps )</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      &lt;WrappedComponent { ...ownProps } { ...newProps } <span class="hljs-regexp"><span class="hljs-regexp">/&gt; /</span></span>/   +   ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ModifiedComponent; }; const Details = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( { name, title, language } )</span></span></span><span class="hljs-function"> =&gt;</span></span> ( &lt;div&gt;   &lt;h1&gt;{ title }&lt;<span class="hljs-regexp"><span class="hljs-regexp">/h1&gt;   &lt;p&gt;{ name } works with { language }&lt;/p&gt; &lt;/div&gt; ); const newProps = { name: "Alex" }; /</span></span>/      const ModifiedDetails = withProps( newProps )( Details ); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>        const App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ( &lt;ModifiedDetails   title=<span class="hljs-string"><span class="hljs-string">"I'm here to stay"</span></span>   language=<span class="hljs-string"><span class="hljs-string">"JavaScript"</span></span> /&gt; );</code> </pre> <br>  If you like functional programming, then you will like working with higher-order components.  Here you can recall the <a href="https://github.com/acdlite/recompose">Recompose</a> - an excellent package, which gives the developer such higher-order components as <code>withProps</code> , <code>withContext</code> , <code>lifecycle</code> and so on. <br><br>  Let's look at an example of reuse of functionality. <br><br><pre> <code class="hljs php"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">withAuthentication</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(WrappedComponent)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ModifiedComponent = (props) =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!props.isAuthenticated) {     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &lt;Redirect to=<span class="hljs-string"><span class="hljs-string">"/login"</span></span> /&gt;;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (&lt;WrappedComponent { ...props } /&gt;); }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = (state) =&gt; ({   isAuthenticated: state.session.isAuthenticated }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> connect(mapStateToProps)(ModifiedComponent); }</code> </pre> <br>  Please note that <code>withAuthentication</code> can be used in situations where it is necessary to output data in the route that is not intended for other people's eyes.  This data will be available only to logged in users. <br><br>  Here is an example of <a href="https://en.wikipedia.org/wiki/Cross-cutting_concern">end-to-end functionality</a> and implemented in one place and suitable for reuse throughout the application. <br><br>  However, higher order components have disadvantages.  Each such component leads to the creation of an additional component React in DOM / vDOM.  This, as the application grows, can lead to potential performance problems. <br><br>  Some additional problems with higher order components are described in <a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce">this article</a> .  Here, in particular, it is proposed to replace higher-order components with a template, which we will now consider. <br><br><h2>  <font color="#3AC1EF">Template "render props"</font> </h2><br>  The ‚Äúrender props‚Äù template, or, as it is also called, ‚Äúfunction as a descendant‚Äù, allows you to achieve the same that is achievable with the help of higher order components.  These templates are interchangeable.  Comparing them, I can not give absolute preference to one of them.  Both templates are used to make the code cleaner and improve its reusability. <br><br>  In a nutshell, the idea of ‚Äã‚Äãusing the render props template is to transfer control of your render function to another component, which then returns control through the property that is the function.  Some prefer to use dynamic properties to achieve the same effect, some just use <code>this.props.children</code> . <br><br>  Perhaps it would be best to illustrate all this with an example. <br><br><pre> <code class="hljs javascript"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScrollPosition</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>( ) {   <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>( );   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">position</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> };   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updatePosition = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updatePosition.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } componentDidMount( ) {   <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"scroll"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updatePosition ); } updatePosition( ) {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState( { <span class="hljs-attr"><span class="hljs-attr">position</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.pageYOffset } ) } render( ) {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.children( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.position ) } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ScrollPosition</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     { ( position ) =&gt; (       </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">         </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello World</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">         </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">You are at { position }</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">       </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     ) }   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ScrollPosition</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre> <br>  Here, as a property, is used by <code>children</code> .  In the <code>&lt;ScrollPosition&gt;</code> component, we send a function that takes <code>position</code> as an argument. <br><br>  The render props template can be used in situations where you need some kind of reusable logic inside a component, while this component is not planned to be wrapped into a higher-order component.  Examples of using the render props template can be found in the <a href="https://github.com/chenglou/react-motion">React-Motion</a> library.  Here is <a href="https://codesandbox.io/s/myv3nywvp">an example of</a> creating a <code>Fetch</code> component, illustrating the use of asynchronous streams with the render props template. <br><br>  As a result, I would like to note that with the same component you can use several descendant functions.  Template render props gives the developer unlimited possibilities for composition and reuse of functionality. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  In this article, we looked at several React templates, some of which have existed for a long time, and some appeared relatively recently.  We believe that familiarity with templates is useful, as they offer the developer reliable methods for solving typical problems, the use of which saves time and improves the code. <br><br>  <b>Dear readers!</b>  What templates do you use in your React-based projects? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/349198/">https://habr.com/ru/post/349198/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349184/index.html">How to choose a PoE switch for projects of different scale. Examples from practice</a></li>
<li><a href="../349186/index.html">Comparison of the top 4 popular BI platforms. Which one to choose?</a></li>
<li><a href="../349192/index.html">Archiving and restoring indexes in Elasticsearch</a></li>
<li><a href="../349194/index.html">Three unusual examples of using the blockchain</a></li>
<li><a href="../349196/index.html">Make me think</a></li>
<li><a href="../349200/index.html">Veeam Academy: from basic knowledge of C # to team development in 2.5 months</a></li>
<li><a href="../349202/index.html">Installation of a certification authority in the enterprise. Part 3</a></li>
<li><a href="../349204/index.html">Modeling Dynamic Systems: An Introduction to GNU Octave</a></li>
<li><a href="../349206/index.html">Half of our employees work remotely. Tell us how we do it.</a></li>
<li><a href="../349208/index.html">Werewolf file: NES cartridge image and ZIP file in one</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>