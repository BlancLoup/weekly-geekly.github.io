<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Interaction of processes (applications) on WinApi</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Now on the Internet you can meet many Hello Worlds on WinApi, but when a novice asks how to add a couple of necessary functions to this Hello World, t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Interaction of processes (applications) on WinApi</h1><div class="post__text post__text-html js-mediator-article">  Now on the Internet you can meet many Hello Worlds on WinApi, but when a novice asks how to add a couple of necessary functions to this Hello World, they throw rotten apples on them and immediately send them to the notorious and powerful MSDN. <br><br>  In this article from a beginner to beginners, I will tell you how to build two simple applications that will interact with each other - one will take the parameters of a geometric progression as input and pass it to the second one, the second application will calculate the nth member of the progression, write it to a file and pass the answer to the first application. <br><br><img src="http://www.livespace.narod.ru/article/Image10.jpg" alt="image"><br><a name="habracut"></a><br>  So, let's go (Gagarin). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      With the fact that we need we have already decided in the introduction, we will develop in Visual Studio 2008, as it was the only one lying on the university server. <br><br>  We create a project with an empty Application A project, and in it we will create a wrapper to simplify the creation of a window (this wrapper will be needed in another project, and you may also need it in the future). <br><br><div class="spoiler">  <b class="spoiler_title">----------- kWnd.h --------------------</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;windows.h&gt; class kWnd { public: kWnd(LPCTSTR windowName, HINSTANCE hInst, int cmdShow, LRESULT(WINAPI *pWndProc)(HWND, UINT, WPARAM, LPARAM), LPCTSTR menuName = NULL, int x = CW_USEDEFAULT, int y = 0, int width = CW_USEDEFAULT, int height = 0, UINT classStyle = CS_HREDRAW | CS_VREDRAW, DWORD windowStyle = WS_OVERLAPPEDWINDOW, HWND hParent = NULL); HWND GetHWnd() {return hWnd;} protected: HWND hWnd; WNDCLASSEX wc; };</span></span></span></span></code> </pre> <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">----------- kWnd.cpp --------------------</b> <div class="spoiler_text"><pre> <code class="cpp hljs">KWnd.cpp <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"KWnd.h"</span></span></span><span class="hljs-meta"> kWnd::kWnd(LPCTSTR windowName, HINSTANCE hInst, int cmdShow, LRESULT (WINAPI *pWndProc)(HWND,UINT,WPARAM,LPARAM), LPCTSTR menuName, int x, int y, int width, int height, UINT classStyle, DWORD windowStyle, HWND hParent) { char szClassName[] = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"KWndClass"</span></span></span><span class="hljs-meta">; wc.cbSize = sizeof(wc); wc.style = classStyle; wc.lpfnWndProc = pWndProc; wc.cbClsExtra = 0; wc.cbWndExtra = 0; wc.hInstance = hInst; wc.hIcon = LoadIcon(NULL, IDI_APPLICATION); wc.hCursor = LoadCursor(NULL, IDC_ARROW); wc.hbrBackground = (HBRUSH)GetStockObject(WHITE_BRUSH); wc.lpszMenuName = menuName; wc.lpszClassName = szClassName; wc.hIconSm = LoadIcon(NULL, IDI_APPLICATION); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//    if (!RegisterClassEx(&amp;wc)) { char msg[100] = "Cannot register class: "; strcat(msg, szClassName); MessageBox(NULL, msg, "Error", MB_OK); return; } //   hWnd = CreateWindow(szClassName, windowName, windowStyle, x, y, width, height, hParent, (HMENU)NULL, hInst, NULL); if (!hWnd) { char text[100] = "Cannot create window: "; strcat(text, windowName); MessageBox(NULL, text, "Error", MB_OK); return; } //   ShowWindow(hWnd, cmdShow); }</span></span></span></span></code> </pre><br></div></div><br>  Although the article is for beginners, we will not dwell on the description of the process of creating a window, since there is plenty of this information on the Internet. <br><br>  Next, we need to add a dialog box to the resource file: <br><br>  Resource Files-&gt; Application A.rc -&gt; Add Resource-&gt; Dialog <br><br>  It should look something like this: <br><br><img src="http://alexander-kolenchits.koding.com/1.jpg" alt="image"><br><br>  Let's start coding. <br><br><div class="spoiler">  <b class="spoiler_title">Application A.cpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;windows.h&gt; #include &lt;stdio.h&gt; #include "resource.h" #include "kWnd.h" #define MYDISPLAY 1 char a1[100]; char razn[100]; char colvo[100]; int i; int n = 0; int summ = 0; typedef struct tagMYREC { char a1[100]; char razn[100]; char colvo[100]; char n[100]; char summ[100]; } MYREC; COPYDATASTRUCT MyCDS; MYREC MyRec; PCOPYDATASTRUCT pMyCDS; BOOL CALLBACK DialogProc(HWND, UINT, WPARAM, LPARAM); LRESULT CALLBACK WndProc(HWND, UINT, WPARAM, LPARAM); //======================================================================= int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow) { MSG msg; kWnd mainWnd("Application A", hInstance, nCmdShow, WndProc, MAKEINTRESOURCE(IDR_MENU1), 100, 100, 450, 150); while(GetMessage(&amp;msg, NULL, 0, 0)) { TranslateMessage(&amp;msg); DispatchMessage(&amp;msg); } return (msg.wParam); } //======================================================================= LRESULT CALLBACK WndProc(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam) { static HINSTANCE hInst; switch(uMsg) { case WM_CREATE: DialogBox(hInst, MAKEINTRESOURCE(IDD_DIALOG1), hWnd, DialogProc); break; default: return DefWindowProc(hWnd, uMsg, wParam, lParam); } return 0; } BOOL CALLBACK DialogProc(HWND hDlg, UINT uMsg, WPARAM wParam, LPARAM lParam) { HWND hwndServer; WIN32_FIND_DATA FindFileData; HANDLE hFile; switch(uMsg) { case WM_INITDIALOG: hwndServer = FindWindow(NULL, "Application B"); if(!hwndServer) { hFile = FindFirstFile("Application B.exe", &amp;FindFileData); WinExec("Application B.exe", 1); FindClose(hFile); } break; case WM_COPYDATA: pMyCDS = (PCOPYDATASTRUCT) lParam; SetDlgItemText(hDlg, IDC_EDIT4, (LPCSTR)((MYREC *)(pMyCDS-&gt;lpData))-&gt;n); SetDlgItemText(hDlg, IDC_EDIT5, (LPCSTR)((MYREC *)(pMyCDS-&gt;lpData))-&gt;summ); return true; case WM_COMMAND: switch(LOWORD(wParam)) { case IDEXIT: EndDialog(hDlg, 0); PostQuitMessage(0); case IDOK: GetDlgItemText(hDlg, IDC_EDIT1, MyRec.a1, 22); GetDlgItemText(hDlg, IDC_EDIT2, MyRec.razn, 22); GetDlgItemText(hDlg, IDC_EDIT3, MyRec.colvo, 22); hwndServer = FindWindow(NULL, "Application B"); if(!hwndServer) { MessageBox(hDlg, " !", "Application A", MB_OK); break; } MyCDS.dwData = MYDISPLAY; MyCDS.cbData = sizeof( MyRec ); MyCDS.lpData = &amp;MyRec; SendMessage( hwndServer, WM_COPYDATA, (WPARAM)(HWND) hDlg, (LPARAM) (LPVOID) &amp;MyCDS ); break; return TRUE; } } return FALSE; }</span></span></span></span></code> </pre><br></div></div><br><br>  Interesting and interesting moments will be considered separately. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tagMYREC</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> a1[<span class="hljs-number"><span class="hljs-number">100</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> razn[<span class="hljs-number"><span class="hljs-number">100</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> colvo[<span class="hljs-number"><span class="hljs-number">100</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> n[<span class="hljs-number"><span class="hljs-number">100</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> summ[<span class="hljs-number"><span class="hljs-number">100</span></span>]; } MYREC; COPYDATASTRUCT MyCDS; MYREC MyRec; PCOPYDATASTRUCT pMyCDS;</code> </pre><br><br>  Here we declare the data structure that we send and the necessary structures: <br><pre> <code class="cpp hljs"> COPYDATASTRUCT MyCDS -  ,     . MYREC MyRec -     . PCOPYDATASTRUCT pMyCDS -  (  ).</code> </pre><br><br>  Next comes a check whether the second application is running, if not, then the program starts it. <br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> WM_INITDIALOG: hwndServer = FindWindow(<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">"Application B"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!hwndServer) { hFile = FindFirstFile(<span class="hljs-string"><span class="hljs-string">"Application B.exe"</span></span>, &amp;FindFileData); WinExec(<span class="hljs-string"><span class="hljs-string">"Application B.exe"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); FindClose(hFile); }</code> </pre><br><br>  Next, we pack the data into our structure. <br><pre> <code class="cpp hljs"> GetDlgItemText(hDlg, IDC_EDIT1, MyRec.a1, <span class="hljs-number"><span class="hljs-number">22</span></span>); GetDlgItemText(hDlg, IDC_EDIT2, MyRec.razn, <span class="hljs-number"><span class="hljs-number">22</span></span>); GetDlgItemText(hDlg, IDC_EDIT3, MyRec.colvo, <span class="hljs-number"><span class="hljs-number">22</span></span>);</code> </pre><br><br>  Correctly fill the structure of the transmitted data and send it to another application: <br><pre> <code class="cpp hljs"> MyCDS.dwData = MYDISPLAY; <span class="hljs-comment"><span class="hljs-comment">//  MyCDS.cbData = sizeof( MyRec ); //    MyCDS.lpData = &amp;MyRec; //    SendMessage( hwndServer, WM_COPYDATA, //      //    (WPARAM)(HWND) hDlg, (LPARAM) (LPVOID) &amp;MyCDS ); //   COPYDATASTRUCT </span></span></code> </pre><br><br>  That's all - not any checks on whether the fields are filled in and whether they are filled correctly, we will not do in this article. <br><br>  Now let's proceed to Appendix B. The first two files, kWnd.h and kWnd.cpp, remain unchanged.  The application itself, we will build no longer on the basis of the dialog box, but on the basis of pure hardcore. <br><br><div class="spoiler">  <b class="spoiler_title">Application B.cpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;windows.h&gt; #include &lt;stdio.h&gt; #include "kWnd.h" #include "resource.h" #define MYDISPLAY 1 PCOPYDATASTRUCT pMyCDS; //    int i; int a1; int razn; int colvo; int n = 0; int summ = 0; char str[100], str1[100], str2[100], str3[100], str4[100]; //     DWORD dwSize; HANDLE File; //   typedef struct tagMYREC //   { char a1[100]; char razn[100]; char colvo[100]; char n[100]; char summ[100]; } MYREC; COPYDATASTRUCT MyCDS; MYREC MyRec; //=============== =================== LRESULT CALLBACK WndProc(HWND, UINT, WPARAM, LPARAM); //===================================================== int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd) { MSG msg; //   kWnd mainWnd("Application B", hInstance, nShowCmd, WndProc, NULL, 100, 100, 450, 220); while(GetMessage(&amp;msg, NULL, 0, 0)) { TranslateMessage(&amp;msg); DispatchMessage(&amp;msg); } return (msg.wParam); } //===================================================== LRESULT CALLBACK WndProc(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam) { static HINSTANCE hInst; HDC hdc; //   PAINTSTRUCT ps; //   //        HWND hwndServer; static HANDLE hThreadA; ThreadManager* pTm; WIN32_FIND_DATA FindFileData; HANDLE hFile; HWND edit; char buff[260]; switch(uMsg) { case WM_CREATE: hwndServer = FindWindow(NULL, "Application A"); if(!hwndServer) { hFile = FindFirstFile("Application A.exe", &amp;FindFileData); WinExec("Application B.exe", 1); FindClose(hFile); } edit = CreateWindow("EDIT","text.txt", //  WS_CHILD | WS_VISIBLE |WS_BORDER, 10, 10, 50, 20, hWnd, (HMENU) 123, (HINSTANCE) GetWindowLong(hWnd, GWL_HINSTANCE), NULL); break; case WM_PAINT: hdc = BeginPaint(hWnd, &amp;ps); TextOut(hdc, 100, 50, " :", sizeof(" :")); TextOut(hdc, 120, 80, str1, sizeof(str1)); TextOut(hdc, 120, 100, str2, sizeof(str2)); TextOut(hdc, 120, 120, str3, sizeof(str3)); TextOut(hdc, 50, 140, str4, sizeof(str4)); EndPaint(hWnd, &amp;ps); break; case WM_COPYDATA: pMyCDS = (PCOPYDATASTRUCT) lParam; //  n-    a1 = atol(((MYREC *)(pMyCDS-&gt;lpData))-&gt;a1); razn = atol(((MYREC *)(pMyCDS-&gt;lpData))-&gt;razn); colvo = atol(((MYREC *)(pMyCDS-&gt;lpData))-&gt;colvo); n = a1; summ = a1; for(int i = 0; i&lt;colvo-1; i++) { n = n * razn; summ = n + summ; } sprintf(((MYREC *)(pMyCDS-&gt;lpData))-&gt;n, "%d", n); sprintf(((MYREC *)(pMyCDS-&gt;lpData))-&gt;summ, "%d", summ); hwndServer = FindWindow(NULL, "Application A"); if(!hwndServer) { MessageBox(hWnd, " !", "Application B", MB_OK); break; } strcpy(MyRec.n, ((MYREC *)(pMyCDS-&gt;lpData))-&gt;n); strcpy(MyRec.summ, ((MYREC *)(pMyCDS-&gt;lpData))-&gt;summ); MyCDS.dwData = MYDISPLAY; MyCDS.cbData = sizeof( MyRec ); // size of data MyCDS.lpData = &amp;MyRec; // data structure SendMessage( hwndServer, WM_COPYDATA, (WPARAM)(HWND) hWnd, (LPARAM) (LPVOID) &amp;MyCDS ); sprintf(str1, "  : %s", ((MYREC *)(pMyCDS-&gt;lpData))-&gt;a1); sprintf(str2, " : %s", ((MYREC *)(pMyCDS-&gt;lpData))-&gt;razn); sprintf(str3, "   : %s", ((MYREC *)(pMyCDS-&gt;lpData))-&gt;colvo); //       edit = FindWindowEx(hWnd, NULL, "Edit", NULL); SendMessage(edit, WM_GETTEXT, (WPARAM)260, (LPARAM)buff); sprintf(str, "  = %s,  = %s, n = %s,   = %s,  = %s\n\r", ((MYREC *)(pMyCDS-&gt;lpData))-&gt;a1, ((MYREC *)(pMyCDS-&gt;lpData))-&gt;razn, ((MYREC *)(pMyCDS-&gt;lpData))-&gt;colvo, MyRec.n, MyRec.summ); //      File=CreateFile(buff, GENERIC_READ|GENERIC_WRITE, FILE_SHARE_READ|FILE_SHARE_WRITE,NULL,OPEN_ALWAYS,FILE_ATTRIBUTE_NORMAL,NULL); SetFilePointer(File, 0, 0, FILE_END); //     WriteFile(File,&amp;str,sizeof(str),&amp;dwSize,NULL); sprintf(str4, "   : %s", buff); InvalidateRect(hWnd, NULL, TRUE); break; case UM_THREAD_DONE: pTm = (ThreadManager*)wParam; sprintf(str1, "%s: count = %d", pTm-&gt;name, pTm-&gt;nValue); InvalidateRect(hWnd, NULL, FALSE); break; case WM_DESTROY: PostQuitMessage(0); break; default: return DefWindowProc(hWnd, uMsg, wParam, lParam); } return 0; } //=====================================================</span></span></span></span></code> </pre><br></div></div><br>  Vooot, this long file does all the hard work - accepts a message, calculates (in multithreaded mode (not surprised, it was one of the items of the task)), writes, sends back. <br><br>  Here from the interesting points worth noting the reception of data in the event: <br><pre> <code class="cpp hljs"> pMyCDS = (PCOPYDATASTRUCT) lParam; <span class="hljs-comment"><span class="hljs-comment">//      </span></span></code> </pre><br>  Further to the received data you can reach for example like this: <br><pre> <code class="cpp hljs"> a1 = atol(((MYREC *)(pMyCDS-&gt;lpData))-&gt;a1)</code> </pre><br><br>  The rest of the techniques of this file are not interesting and boring for us, then there follows a calculation of the progression and sending it by the same method to the first process. <br><br>  And that's what happened with us: <br><br><img src="http://alexander-kolenchits.koding.com/1.jpg" alt="image"><br><br><img src="http://alexander-kolenchits.koding.com/2.jpg" alt="image"><br><br>  I really hope that my article was useful to someone and I apologize very much to those who did not like it.  Waiting for comments on the code (govnokod). </div><p>Source: <a href="https://habr.com/ru/post/149299/">https://habr.com/ru/post/149299/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../149293/index.html">Analysis of the Wi-Fi signal allows you to monitor people who are on the other side</a></li>
<li><a href="../149295/index.html">In Steam officially announced the sale of software</a></li>
<li><a href="../149296/index.html">What is faster converts int to std :: string in c ++? Compiler settings for maximum speed</a></li>
<li><a href="../149297/index.html">Reader ithappens</a></li>
<li><a href="../149298/index.html">Creating Warcraft (Part 1)</a></li>
<li><a href="../149300/index.html">Steam will go beyond the gaming market</a></li>
<li><a href="../149301/index.html">Announcement. Online Workshop August 9: Infrastructure as a Service (IaaS) in Windows Azure</a></li>
<li><a href="../149302/index.html">Available methods to combat DDoS attacks for owners of vds / dedicated servers with Linux</a></li>
<li><a href="../149303/index.html">A practical example of the introduction of code inspection</a></li>
<li><a href="../149305/index.html">IT Compote # 17 Programming and Technology Podcast</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>