<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>$ mol_app_life: DIY God Simulator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, my name is Dmitry Karlovsky. Recently, I was dying and realized how much I love life. This is an ideal game for sociopaths, where you play the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>$ mol_app_life: DIY God Simulator</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello, my name is Dmitry Karlovsky.  Recently, I was dying and realized how much I love life.  This is an ideal game for sociopaths, where you play the role of God, with your hand unanimously deciding who to live, who to die, and who fallows form.  A new cell appears as a result of the intercourse of three other same-sex neighbors and dies being trampled by a crowd of more than three, left alone with themselves or in the company of only one.  Who would have thought that such simple laws would generate such a huge variety of gaming experience that they would play <a href="https://en.wikipedia.org/wiki/Conway%2527s_Game_of_Life">Life</a> 50 years after their wording. </p><br><p> <a href="http://mol.js.org/app/life/"><img src="https://habrastorage.org/webt/u6/e8/rr/u6e8rrxjuxqiolubhtnaxnk9so4.png" alt="Glider"><br></a> </p><br><p>  If you have not worked with $ mol yet, then it is recommended that you read the " <a href="https://habrahabr.ru/post/338804/">$ mol_app_calc: spreadsheet party</a> " manual, which is more friendly to beginners, before reading.  And if you have already mastered it, then you will learn: </p><br><ol><li>  How to work with the infinite life field. </li><li>  How to draw fast vector graphics. </li><li>  As in $ mol, it is easy and simple to combine control with a finger and drawing graphics. </li></ol><a name="habracut"></a><br><h1 id="vektornaya-grafika">  Vector graphics </h1><br><p>  $ mol was designed for compactness, code efficiency and ease of use.  This means that the application programmer needs only to indicate that where to render without thinking about optimizations, and the graphic modules themselves will figure out how to do it better.  The collection of <a href="https://github.com/eigenmethod/mol/tree/master/plot">$ mol_plot</a> modules is just such an implementation.  In the simplest case, you feed her a vector of numbers and a type of graph, and she herself arranges them as follows: </p><br><pre><code class="hljs perl">&lt;= Plot $mol_plot_pane graphs / &lt;= Trend $mol_plot_line series &lt;= trend / <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/me/yd/t8/meydt8moh3m-ihhj3ovvkgfjwvk.png" alt="Line graph"></p><br><p>  The following types are currently supported: linear, columnar, point, and potting.  Plus vertical and horizontal rulers.  In addition, if a special type of graphics allows you to combine several other types into one, which allows you to design new types of graphs, combining existing ones.  For example, we can construct a ‚ÄúRope type of a graph with a filling‚Äù: </p><br><pre> <code class="hljs perl">$my_plot_rope $mol_plot_group graphs / &lt;= Line $mol_plot_line &lt;= Dot $mol_plot_dot &lt;= Fill $mol_plot_fill</code> </pre> <br><p><img src="https://habrastorage.org/webt/6h/yb/h2/6hybh2ptb6fog0dndzziavtzn-e.png" alt="Rope chart"></p><br><p>  Of course, we can also draw several graphs for different vectors, while $ mol_plot_pane is able to give each graph a unique color starting from the base hue: </p><br><pre> <code class="hljs django"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Plot</span></span></span></span><span class="xml"><span class="hljs-tag"> $</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mol_plot_pane</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">hue_base</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">206</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">graphs</span></span></span></span><span class="xml"><span class="hljs-tag"> / &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Fact</span></span></span></span><span class="xml"><span class="hljs-tag"> $</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mol_plot_bar</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">series</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">fact</span></span></span></span><span class="xml"><span class="hljs-tag"> / </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1000</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">2000</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">4000</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">9000</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Plan</span></span></span></span><span class="xml"><span class="hljs-tag"> $</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mol_plot_line</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">series</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">plan</span></span></span></span><span class="xml"><span class="hljs-tag"> / </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1000</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">3000</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">5000</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">7000</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag"> \</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dashed</span></span></span></span></span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/hx/mh/cz/hxmhczodrfcitfmieganz7k4kku.png" alt="Plan fact"></p><br><p>  But that's not all, the types of graphs can return samples for the legend.  In this case, the samples, as well as the actual graphics, can be combined.  So you will never have bugs when one type of line is displayed on the chart, and another in the legend.  Just look at the legend automatically generated from the charts: </p><br><p> <a href="http://mol.js.org/app/demo/"><img src="https://habrastorage.org/webt/6y/b2/u0/6yb2u0hpypwytjutd4qw5f5urke.png" alt="Diagram with graphs of different styles"></a> </p><br><h1 id="skorost-grafiki">  Graphics speed </h1><br><p>  The implementation of graphs is not only very compact, but also very effective: </p><br><p>  <a href="http://mol.js.org/app/bench/"><strong>Benchmark rope diagrams</strong></a> <a href="http://mol.js.org/app/bench/"><br><img src="https://habrastorage.org/webt/ws/q0/xk/wsq0xkpt0rhuypvw3k8c9nqd8p8.png" alt="Results of benchmark rope diagrams"><br></a> </p><br><p>  <a href="http://mol.js.org/app/bench/"><strong>Benchmark bar graphs</strong></a> <a href="http://mol.js.org/app/bench/"><br><img src="https://habrastorage.org/webt/k0/-k/y8/k0-ky8qthu2sr7q3gydodoboc-m.png" alt="Benchmark bar chart results"><br></a> </p><br><p>  Such efficiency is achieved due to many factors: </p><br><ol><li>  Implementation is trite simpler and requires less overhead. </li><li>  <a href="https://habrahabr.ru/post/330466/">Reactive Programming is used</a> to effectively update states.  It is so efficient that you can easily change any aspect of real-time rendering with almost no load on the system.  For example: <a href="http://mol.js.org/app/demo/">graphic disco</a> . </li><li>  Points located visually indistinguishably close to each other collapse into one.  No matter how much data you put into rendering, it will not fail to put the system in multiple rendering of the same pixel. </li><li>  Points that fall outside the viewport are excluded from rendering.  Actual when panning huge amounts of data.  The less we render, the faster we render. </li><li>  Graphics are drawn with a minimum of SVG elements. </li></ol><br><p>  For the last point, there is even a separate benchmark, showing that a properly implemented SVG chart, with rendering an element through one path instead of a heap of line elements, is not much slower than manual rendering on canvas: </p><br><p>  <a href="http://mol.js.org/app/bench/"><strong>SVG vs Canvas</strong></a> <a href="http://mol.js.org/app/bench/"><br><img src="https://habrastorage.org/webt/xw/cm/kz/xwcmkzgk5oqevxxmsbqelgh74rs.png" alt="Results of comparing different rendering methods"><br></a> </p><br><h1 id="grafika-zhizni">  Life Graphics </h1><br><p>  We will need to draw points that are not arranged in order from left to right, but in arbitrary places.  To do this, we will specify not <code>series</code> , but <code>points_raw</code> , which returns not a vector of numbers, but a vector from the coordinates: </p><br><pre> <code class="hljs perl">$mol_app_life_map $mol_plot_pane gap <span class="hljs-number"><span class="hljs-number">0</span></span> graphs / &lt;= Points $mol_plot_dot threshold <span class="hljs-number"><span class="hljs-number">0</span></span> points_raw &lt;= points /</code> </pre> <br><p>  Please note that we have removed the indents of the graphics from the edge of the rendering area ( <code>gap</code> ) and the collapse of closely spaced points ( <code>threshold</code> ) as we do not need them. </p><br><p>  <code>$mol_plot_pane</code> has <code>shift</code> and <code>scale</code> properties allowing centrally changing the size and position of graphs.  Let's enter the <code>zoom</code> property, which will set the scaling factor, and <code>pan</code> which will be an alias for <code>shift</code> .  Both will be changeable. </p><br><pre> <code class="hljs django"><span class="xml"><span class="xml">$mol_app_life_map $mol_plot_pane gap 0 - pan?val / 0 0 zoom?val 16 scale / </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">zoom</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">zoom</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">shift</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">pan</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">graphs</span></span></span></span><span class="xml"><span class="hljs-tag"> / &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Points</span></span></span></span><span class="xml"><span class="hljs-tag"> $</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mol_plot_dot</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">threshold</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">diameter</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">zoom</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">points_raw</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">points</span></span></span></span><span class="xml"><span class="hljs-tag"> /</span></span></span></span></code> </pre> <br><p>  Please note that we have indicated the diameter of the points equal to the degree of approximation.  And by default, the degree of approximation is 16. So the entire field initially will have a 16-pixel grid in our cells which will contain 16-pixel circles. </p><br><h1 id="zum-i-panoramirovanie">  Zoom and pan </h1><br><p>  In $ mol there are special components that are not intended for self-rendering, but for adding functionality to others.  One of these plugins is <a href="https://github.com/eigenmethod/mol/edit/master/touch/">$ mol_touch</a> , which intercepts finger and mouse input events and implements various gestures.  We only need to change the size of the cells and move the field, so we add a plugin and proving the previously declared properties: </p><br><pre> <code class="hljs scala">plugins / &lt;= <span class="hljs-type"><span class="hljs-type">Touch</span></span> $mol_touch zoom?<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> &lt;=&gt; zoom?<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> - pan?<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> &lt;=&gt; pan?<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> -</code> </pre> <br><p>  That's all.  True.  Bilateral binding is just a wonderful thing.  You write a minimum of code, but at the same time everything is under your complete control.  When any nested component requests the value of a property or tries to write something into it, your function is called.  For example, let's set a minimum approximation level equal to one: </p><br><pre> <code class="hljs ruby">@ $mol_mem zoom( <span class="hljs-keyword"><span class="hljs-keyword">next</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.zoom() ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Math.max( <span class="hljs-number"><span class="hljs-number">1</span></span> , <span class="hljs-keyword"><span class="hljs-keyword">next</span></span> ) }</code> </pre> <br><p>  And as the default offset, let's set half the size of the rendering area so that the cell with coordinates <code>[0,0]</code> initially located in the center: </p><br><pre> <code class="hljs ruby">@ $mol_mem pan( <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>? : number[] ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">next</span></span> <span class="hljs-params"><span class="hljs-params">||</span></span> this.size_real().map( v =&gt; v / <span class="hljs-number"><span class="hljs-number">2</span></span> ) }</code> </pre> <br><h1 id="pravila-igry">  Rules of the game </h1><br><p>  It could be limited to a small field in the size of the screen, but we are not looking for easy ways, so our field will be infinite.  Well, as infinite ... toroidal, but very large: 64K * 64K = 4G cells. </p><br><p>  To calculate the state of each cell of such a huge field is too long an operation.  Note that the number of living cells is incomparably smaller than the dead ones.  This means that at each step it makes sense to update the state of only living cells and their immediate surroundings. </p><br><p>  To do this, we need a structure called <code>Set</code> for storing the coordinates of living cells.  But the trouble is that the coordinates of the cell are two numbers, and the key of the set can be only one primitive value (or an object reference, but this is actually also a primitive). </p><br><p>  We could serialize numbers into strings and concatenate them with the key.  But working with strings is not a quick operation.  The most effective is to combine 2 numbers into one using bit operations.  Bit operations in JS always result in numbers to a 32-bit representation.  So for each coordinate we will have as many as 16 bits - hence the limit on the field size of 4 gigaclets. </p><br><p>  Connecting numbers is very simple - we cut to 16 bits and combine them with different offsets: </p><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">key</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( a : number , b : number )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a &lt;&lt; <span class="hljs-number"><span class="hljs-number">16</span></span> | b &amp; <span class="hljs-number"><span class="hljs-number">0xFFFF</span></span> }</code> </pre> <br><p>  We also need to separate them and to iterate over the set to get the coordinates.  It is not difficult to get the higher number just by moving it with the filling with the high bit: </p><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x_of</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( key : number )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> key &gt;&gt; <span class="hljs-number"><span class="hljs-number">16</span></span> }</code> </pre> <br><p>  But to get a lower number it is not enough just to trim the high bits, because then the negative values ‚Äã‚Äãwill break, the high bits of which should be ones, not zeros.  You need to move the lower bits to the place of the elders, and then the task is reduced to the previous one: </p><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y_of</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( key : number )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> key &lt;&lt; <span class="hljs-number"><span class="hljs-number">16</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">16</span></span> }</code> </pre> <br><p>  Now we can create sets and add / remove coordinates from them: </p><br><pre> <code class="hljs sql">const state = new <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span>&lt;[ <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> , <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> ]&gt;() state.add( <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span> ) ) state.add( <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>( <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> ) ) state.delete( <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> ) ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( let <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> state ) { console.log( x_of( <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> ) , y_of( <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> ) ) }</code> </pre> <br><p>  Let's get the <code>state</code> reactive property that will keep the state of the universe at the current moment and let it form a multitude of living cells based on the <code>snapshot</code> serialized view through which it will be possible to establish the initial state from the outside: </p><br><pre> <code class="hljs javascript">@ $mol_mem state( next? : <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>&lt;number&gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> snapshot = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.snapshot() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( next ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> next <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>( snapshot.split( <span class="hljs-string"><span class="hljs-string">'~'</span></span> ).map( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>( v , <span class="hljs-number"><span class="hljs-number">16</span></span> ) ) ) }</code> </pre> <br><p>  Please note that we first read the current snapshot, and only then allow it to be overridden.  This is necessary so that even if we change the state, it would still be synchronized with the snapshot. </p><br><p>  In addition, let us provide the ability to reactively obtain from the component a snapshot of the current altered state: </p><br><pre> <code class="hljs cs">@ $<span class="hljs-function"><span class="hljs-function">mol_mem </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">snapshot_current</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ ... <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state() ].map( key =&gt; key.toString( <span class="hljs-number"><span class="hljs-number">16</span></span> ) ).<span class="hljs-keyword"><span class="hljs-keyword">join</span></span>( <span class="hljs-string"><span class="hljs-string">'~'</span></span> ) }</code> </pre> <br><p>  Do not forget to declare the communication properties in view.tree: </p><br><pre> <code class="hljs tex">snapshot <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>snapshot_current <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>- speed 0 population 0</code> </pre> <br><p>  At the same time, we declared the <code>speed</code> property that specifies the frequency of the world update and the <code>population</code> that allows to get the number of living cells at the moment.  The latter is easy to implement: </p><br><pre> <code class="hljs kotlin">@ $mol_mem population() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state().size }</code> </pre> <br><p>  Finally, the most interesting thing is to update the state at a given speed.  To do this, we will add the <code>future</code> property, which will read the state, on its basis, calculate the new and write back: </p><br><pre> <code class="hljs javascript">@ $mol_mem future( next? : <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>&lt;number&gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> prev = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> state = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>&lt;number&gt;() <span class="hljs-comment"><span class="hljs-comment">//  state   prev return this.state( state ) }</span></span></code> </pre> <br><p>  This property will be calculated once and for all, but we need to periodically, so we add to it a dependence on the current time with the desired frequency: </p><br><pre> <code class="hljs kotlin">@ $mol_mem future( next? : Set&lt;number&gt; ) { let prev = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.speed() ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prev <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$.$mol_state_time.now( <span class="hljs-number"><span class="hljs-number">1000</span></span> / <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.speed() ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> state = new Set&lt;number&gt;() <span class="hljs-comment"><span class="hljs-comment">//  state   prev return this.state( state ) }</span></span></code> </pre> <br><p>  Now it will be disabled every N milliseconds (from 16 to 1000), which will lead to the execution of the method and the updating of the state of the world.  By the way, here is the code for this update: </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> state = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>&lt;number&gt;() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> skip = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>&lt;number&gt;() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> alive <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> prev ) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ax = x_of( alive ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ay = y_of( alive ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> ny = ay - <span class="hljs-number"><span class="hljs-number">1</span></span> ; ny &lt;= ay + <span class="hljs-number"><span class="hljs-number">1</span></span> ; ++ny ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> nx = ax - <span class="hljs-number"><span class="hljs-number">1</span></span> ; nx &lt;= ax + <span class="hljs-number"><span class="hljs-number">1</span></span> ; ++nx ) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> nkey = key( nx , ny ) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( skip.has( nkey ) ) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> skip.add( nkey ) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y = <span class="hljs-number"><span class="hljs-number">-1</span></span> ; y &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span> ; ++y ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-number"><span class="hljs-number">-1</span></span> ; x &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span> ; ++x ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( !x &amp;&amp; !y ) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( prev.has( key( nx + x , ny + y ) ) ) ++sum } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( sum != <span class="hljs-number"><span class="hljs-number">3</span></span> &amp;&amp; ( !prev.has( nkey ) || sum !== <span class="hljs-number"><span class="hljs-number">2</span></span> ) ) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> state.add( nkey ) } }</code> </pre> <br><p>  There are already applied the main optimization.  Perhaps you can optimize it even more.  Dare! </p><br><p>  Finally, create a list of points for rendering: </p><br><pre> <code class="hljs markdown">points() { const points = [<span class="hljs-string"></span><span class="hljs-string"></span>] as number[][] for( let key of this.future().keys() ) { points.push([ x<span class="hljs-emphasis"><span class="hljs-emphasis">_of( key ) , y_</span></span>of( key ) ]) } return points }</code> </pre> <br><h1 id="bozhestvennaya-dlan">  Divine hand </h1><br><p>  To make the player not just a mute witness, but a ruler of destinies, we will subscribe to several pointer events: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">event</span></span> * ^ mousedown?<span class="hljs-keyword"><span class="hljs-keyword">event</span></span> &lt;=&gt; draw_start?<span class="hljs-keyword"><span class="hljs-keyword">event</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> mouseup?<span class="hljs-keyword"><span class="hljs-keyword">event</span></span> &lt;=&gt; draw_end?<span class="hljs-keyword"><span class="hljs-keyword">event</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span></code> </pre> <br><p>  Despite the name, they work with both the mouse and the finger.  Unfortunately, the <code>click</code> event will not work here, because it works even when panning, which we absolutely do not need.  Therefore, when the pointer is activated, we will memorize its current position: </p><br><pre> <code class="hljs cs">@ $<span class="hljs-function"><span class="hljs-function">mol_mem </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw_start_pos</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> next? : number[] </span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> next } draw_start( <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>? : MouseEvent ) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.draw_start_pos([ <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.pageX , <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.pageY ]) }</code> </pre> <br><p>  And by deactivating, check the displacement and, if it has not changed much, initiate the switching of the life and death of the cell that came to hand: </p><br><pre> <code class="hljs cs">draw_end( <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>? : MouseEvent ) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> start_pos = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.draw_start_pos() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pos = [ <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.pageX , <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.pageY ] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Math.abs( start_pos[<span class="hljs-number"><span class="hljs-number">0</span></span>] - pos[<span class="hljs-number"><span class="hljs-number">0</span></span>] ) &gt; <span class="hljs-number"><span class="hljs-number">4</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Math.abs( start_pos[<span class="hljs-number"><span class="hljs-number">1</span></span>] - pos[<span class="hljs-number"><span class="hljs-number">1</span></span>] ) &gt; <span class="hljs-number"><span class="hljs-number">4</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> zoom = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.zoom() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pan = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.pan() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cell = key( Math.round( ( <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.offsetX - pan[<span class="hljs-number"><span class="hljs-number">0</span></span>] ) / zoom ) , Math.round( ( <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.offsetY - pan[<span class="hljs-number"><span class="hljs-number">1</span></span>] ) / zoom ) , ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> state = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Set( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state() ) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( state.has( cell ) ) state.delete( cell ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> state.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>( cell ) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state( state ) }</code> </pre> <br><h1 id="interfeys-upravleniya">  Management interface </h1><br><p>  The game field <code>$mol_app_life_map</code> ready, you can start creating an application for managing it.  Presenting it from us will be a regular $ mol_page page, consisting of a cap and a playing field: </p><br><pre> <code class="hljs mel">$mol_app_life $mol_page title @ \Life of {population} cells sub / &lt;= Head - &lt;= Map $mol_app_life_map speed &lt;= speed - <span class="hljs-keyword"><span class="hljs-keyword">snapshot</span></span> &lt;= <span class="hljs-keyword"><span class="hljs-keyword">snapshot</span></span> \ snapshot_current =&gt; snapshot_current population =&gt; population</code> </pre> <br><p>  Here we set the field speed and basic snapshot, and draw the number of living cells and snepshot of the current state. </p><br><p>  In the header, we replace the placeholder with a specific number of living cells: </p><br><pre> <code class="hljs kotlin">title() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.title().replace( <span class="hljs-string"><span class="hljs-string">'{population}'</span></span> , `${ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.population() }` ) }</code> </pre> <br><p>  Base snapshot we take from the link: </p><br><pre> <code class="hljs kotlin">snapshot() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$.$mol_state_arg.value( <span class="hljs-string"><span class="hljs-string">'snapshot'</span></span> ) || <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.snapshot() }</code> </pre> <br><p>  At the same time we form a link to the current state of the world, the transition to which will add the current snapshot to the browser history: </p><br><pre> <code class="hljs kotlin">store_link() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$.$mol_state_arg.make_link({ snapshot : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.snapshot_current() }) }</code> </pre> <br><p>  We will display this link to the toolbar in the header with the speed switch: </p><br><pre> <code class="hljs django"><span class="xml"><span class="xml">tools / </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Store_link</span></span></span></span><span class="xml"><span class="hljs-tag"> $</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mol_link</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">uri</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">store_link?val</span></span></span></span><span class="xml"><span class="hljs-tag"> \ </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">hint</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">store_link_hint</span></span></span></span><span class="xml"><span class="hljs-tag"> @ \</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Store</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">snapshot</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">sub</span></span></span></span><span class="xml"><span class="hljs-tag"> / &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Stored</span></span></span></span><span class="xml"><span class="hljs-tag"> $</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mol_icon_stored</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Time</span></span></span></span><span class="xml"><span class="hljs-tag"> $</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mol_switch</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">?</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">val</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;=&gt;</span></span></span><span class="xml"> speed?val 0 options * 1 </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">time_slowest_label</span></span></span></span><span class="xml"><span class="hljs-tag"> @ \</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Slowest</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">5</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">time_slow_label</span></span></span></span><span class="xml"><span class="hljs-tag"> @ \</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Slow</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">25</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">time_fast_label</span></span></span></span><span class="xml"><span class="hljs-tag"> @ \</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Fast</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">60</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">time_fastest_label</span></span></span></span><span class="xml"><span class="hljs-tag"> @ \</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Fastest</span></span></span></span></span></span></code> </pre> <br><p>  If the link leads to the current snapshot, then we grab it: </p><br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[mol_app_life_store_link]</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[mol_link_current]</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: .<span class="hljs-number"><span class="hljs-number">5</span></span>; }</code> </pre> <br><p>  And the final touch - add localization: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"$mol_app_life_title"</span></span>: <span class="hljs-string"><span class="hljs-string">"  {population} "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$mol_app_life_store_link_hint"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$mol_app_life_time_slowest_label"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$mol_app_life_time_slow_label"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$mol_app_life_time_fast_label"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$mol_app_life_time_fastest_label"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }</code> </pre> <br><p>  A few more minor edits and the application is ready: </p><br><ul><li>  <a href="http://mol.js.org/app/life/">Open $ mol_app_life</a> </li><li>  <a href="https://github.com/eigenmethod/mol/tree/master/app/life">Full source codes</a> </li></ul><br><p>  <strong>Thanks to the Hubtrattesters in the comments for valuable feedback.</strong>  <strong>All bugs are already fixed.</strong> </p><br><h1 id="interesnye-kombinacii">  Interesting combinations </h1><br><p>  <a href="http://mol.js.org/app/life/"><strong>Glider Factory</strong></a> <a href="http://mol.js.org/app/life/"><br><img src="https://habrastorage.org/webt/sk/rx/uw/skrxuwcvieumpssl0dqziypd5ak.png" alt="Glider Factory"><br></a> </p><br><p>  <a href="http://mol.js.org/app/life/"><strong>Asphalt paver</strong></a> <a href="http://mol.js.org/app/life/"><br><img src="https://habrastorage.org/webt/-g/5-/5n/-g5-5n1xjac-xvqtxzzqz-qc0i4.png" alt="Paver at the start"><br></a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/342064/">https://habr.com/ru/post/342064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342052/index.html">Normal reset</a></li>
<li><a href="../342054/index.html">Why do we need algorithms and patterns</a></li>
<li><a href="../342056/index.html">Birds Detection with Azure ML Workbench</a></li>
<li><a href="../342058/index.html">We design microservice architecture taking into account failures</a></li>
<li><a href="../342060/index.html">Centralized backup of Mikrotik devices using a bash script</a></li>
<li><a href="../342066/index.html">Adaptive layout</a></li>
<li><a href="../342070/index.html">Cybersecurity Gap: Next Generation Training</a></li>
<li><a href="../342072/index.html">‚ÄúRussia, Institute, Department and Me‚Äù - the second part of an interview with Anatoly Abramovich Shalyto, Professor at ITMO University</a></li>
<li><a href="../342076/index.html">VoIP server for a small company (FreePBX 14, Asterisk 15, Ubuntu 16.04) part 3</a></li>
<li><a href="../342078/index.html">How to launch and promote your application based on the SAP Cloud Platform using Skolkovo and SAP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>