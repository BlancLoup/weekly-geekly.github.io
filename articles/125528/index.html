<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As the modern image codecs shake the sound. JPEG2000 vs MP3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this experiment, the popular JPEG2000 image compression format will be used for an unusual task, storing a sound file. 

 In general, the sound and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As the modern image codecs shake the sound. JPEG2000 vs MP3</h1><div class="post__text post__text-html js-mediator-article">  In this experiment, the popular JPEG2000 image compression format will be used for an unusual task, storing a sound file. <br><br>  In general, the sound and image are very similar.  If we represent the sound in a wave form, then we get a change in the sound signal over time.  Similarly, if we take one row of image pixels, we get the brightness change by distance. <br><br>  The greater the amplitude of the sound signal oscillations in time, the louder the sound.  An analogue for the image will be an increase in contrast. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The faster the sound changes, the more treble the sound will be.  Similarly, the rapid change in brightness in a row of pixels indicates a large number of details in images. <br><br>  Moreover, the sound signal, that the brightness of the pixels in the row change sufficiently smoothly so that the codec can use this property. <br><br><a name="habracut"></a>  One small problem remained.  The sound is a one-dimensional signal, and the image is two-dimensional.  You can imagine that a sound file is one long row of pixels, and an image is a lot of rows of pixels.  However, the neighboring ranks of the piskels are very similar. <br><br>  The analogue is for the sound wave - the main frequency.  And to it, in addition, there are still a bunch of harmonics that exactly fit into the length of the main wave.  If you cut the sound signal along the main wavelength and put it together, then the adjacent pieces will be similar to each other. <br><br>  For the experiment a half-minute sound file was prepared from my favorite song Ame Caleen - A demi-nue.  Writing in 16 bit mono format takes 2570 KB. <br><br>  The main frequency was experimentally determined for this file.  And then, as described above, the record is cut into pieces equal to the length of the period of this wave.  The result is an image file.  The pixel format is 16 bits in shades of gray.  That is fully consistent with the format of the sound sample.  The image size is 909x1448 pixels. <br><br><img src="https://habrastorage.org/storage1/a85b794f/2ba3f003/b1725aab/cceea3fa.png"><br><br>  It‚Äôs very convenient that JPEG2000 supports 16-bit / pixel grayscale.  ImageMagick was used for JPEG2000 compression.  ImageMagick allows you to compress the image slightly or strongly, thereby affecting the quality of the resulting sound recording.  The rival ImageMagick was chosen as a regular mp3 codec from the Adobe Audition package. <br><br>  The essence of the experiment was to select the codec parameters, get a jp2 file of the same size as mp3, and compare the quality of the resulting sound files. <br><br>  I wanted to evaluate how badly the quality will suffer with medium and strong compression.  By selecting the codec parameters, the source file was compressed up to 32KB for strong compression and up to 400KB for medium. <br><br>  With moderate compression, JPEG2000 adds a clearly audible noise signal to the sound.  The rest of the sound is very similar to the original.  With strong compression, JPEG2000 has a lot of distortion, clicks, dull sound, bottoms and tops are disgusting.  But what is interesting, in contrast to MP3 in similar conditions, through all the distortions the voice of the singer is heard much better. <br><br>  For strong JPEG2000 compression, an additional image transformation was performed (to stretch the sound quality): reducing the image size.  Reducing the width of the image is like reducing the sample rate for sound.  And reducing the height of the image - something like sound acceleration. <br><br>  Lossy JPEG2000 compression was also tested (i.e., compression is almost no distortion).  File jp2 shrank to 71% percent compared to the non-image.  Not bad, despite the fact that specialized lossless codecs (like FLAC and APE) are tight at the level of 40-50 %%. <br>  Another result.  JPEG XR lossless compression showed 81%. <br><br>  Below are the ImageMagick launch commands. <br><br>  Example for 400KB compression: <br>  convert -depth 16 -size 909x1448 wav.txt.gray -depth 16 -type Grayscale -define jp2: rate = 0.1565 tn.jp2 <br>  convert tn.jp2-type Grayscale tn3.gray <br><br>  For 32K compression: <br>  convert -depth 16 -size 909x1448 wav.txt.gray -depth 16 -type Grayscale -resize -454x924 -define jp2: rate = 0.0325 tn.jp2 <br>  convert tn.jp2 -type Grayscale -resize -909x1448 tn3.gray <br><br>  Below is a link to the file with the results.  It contains sound files received by JPEG2000 and mp3 codecs, and an example of a ‚Äúpicture with sound‚Äù. <br>  <a href="http://depositfiles.com/files/jmd4yfdf5">http://depositfiles.com/files/jmd4yfdf5</a> . </div><p>Source: <a href="https://habr.com/ru/post/125528/">https://habr.com/ru/post/125528/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../125520/index.html">Suggestion: give an invite to the author of a good article</a></li>
<li><a href="../125523/index.html">Now you can call directly from Gmail to more than 150 countries.</a></li>
<li><a href="../125524/index.html">Introduction to MVVM and KnockoutJS (video)</a></li>
<li><a href="../125525/index.html">Overview of the most popular mailing list services</a></li>
<li><a href="../125526/index.html">Stanford organizes a free online course on AI</a></li>
<li><a href="../125529/index.html">How Amazon App Store Deals Developers</a></li>
<li><a href="../125530/index.html">Nginx will receive full support for HTTP / 1.1 Keep-Alive connections with back-end</a></li>
<li><a href="../125533/index.html">Search for public transport in mobile 2GIS</a></li>
<li><a href="../125534/index.html">WordPress Theme Vulnerability</a></li>
<li><a href="../125539/index.html">As in PVS-Studio, we solved one engineering problem for several years.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>