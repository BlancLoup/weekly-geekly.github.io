<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What the Android DevOps-engineer head hurts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It so happened that the DevOps tools are usually illustrated with the example of a large-scale web service CI / CD. This was partly due to historical ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What the Android DevOps-engineer head hurts</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/59/d7/63/59d763b7cdeaf937143500.png"></p><br><p>  It so happened that the DevOps tools are usually illustrated with the example of a large-scale web service CI / CD.  This was partly due to historical reasons; partly, wonderful books like <a href="https://landing.google.com/sre/book.html">Google SRE Book</a> played their part. </p><br><p>  To hell with, let's look at something <strong>really new</strong> .  At <a href="https://mobiusconf.com/">Mobius 2017,</a> <strong>Jing Li</strong> from Viacom comes to us with the report <a href="https://mobiusconf.com/2017/msk/talks/rwduypffmy0cmeyksqwyy/">‚ÄúAndroid meets meets Docker‚Äù</a> . </p><br><p>  On the eve of the conference, we managed to find a few minutes in his busy schedule and ask a couple of questions.  In this interview, Jing talks about DevOps in mobile development, gives examples of tasks and gives specific recommendations for improving your DevOps process. </p><a name="habracut"></a><br><p>  <strong>- Hello.</strong>  <strong>Tell Habra about yourself.</strong>  <strong>Where do you work, what do you do?</strong> </p><br><p>  ‚ÄúI used to be a developer at Sony, Nokia, eBay and Viacom (they are the owners of MTV, Paramount Pictures and so on).  At the moment I am preparing for the next big adventure, relaxing at home and working on my open source projects ( <a href="https://github.com/thyrlian"></a>  <a href="https://github.com/thyrlian">https://github.com/thyrlian</a> ).  Information technologies are now developing very fast, every day you need to learn too many new things.  Therefore, after work, I try to engage in machine learning and virtual reality. </p><br><p>  <strong>- How did you get into mobile development?</strong>  <strong>Are you doing DevOps on an ongoing basis or was it a one-time job?</strong> </p><br><p>  - Just like children love to play on game consoles, I was addicted to a mobile phone since high school, when the grass was greener and the screens were monochrome.  It is clear that after graduating from university, I immediately took up mobile development.  In mobile development, DevOps happens every minute, especially when someone uploads changes to the code.  Just as in the usual development, DevOps requires a lot of work on writing code, the correct architecture and complex configurations.  Given the combination of these three aspects, it is difficult to say that this is some kind of one-off work.  This is an ongoing process, its progress in which can be monitored for many very specific signs: </p><br><ul><li>  <strong>Speed</strong> - your reaction time should be such that developers do not have to wait for a response for too long; </li><li>  <strong>Stability</strong> - no one wants to work with a collapsing system, this is a waste of time; </li><li>  <strong>Reliability</strong> - the results should be of sufficient quality and reliable, no false positives; </li><li>  <strong>Consistency</strong> - the results should not differ between several attempts to start, or between different machines; </li><li>  <strong>Flexibility</strong> - the use of modular systems allows you to write code once, and run it - everywhere (Jenkins, CircleCI, etc.); </li><li>  <strong>Unification</strong> - you need to get rid of language barriers and use one universal language to glue different parts of the system; </li><li>  <strong>Scalability</strong> - if possible, the parallel execution of tasks, you must choose the right ways to resolve engineering compromises; </li><li>  <strong>Reproducibility</strong> - never lose control of your version control system configurations. </li></ul><br><p>  I often see people over and over again pressing the ‚Äúrestart assembly‚Äù button in the hope that the assembly will turn green.  This is due to stability, reliability and consistency issues. </p><br><p>  <strong>- How exactly does DevOps on mobile platforms differ from what happens when developing web services (like Google) or desktop applications?</strong>  <strong>Is there anything special about it?</strong> </p><br><p>  - Tulchains for traditional development: backend, frontend, desktop - they are quite functional and run natively.  Mobile phones also need to choose between running on a computer or on a mobile platform.  Which, in turn, can be both a physical device and a simulator.  In addition to the environment, there are dependencies on various third-party services.  The most common part is publishing: Google Play, the App Store, or one of the publishing services like HockeyApp or Fabric.  For each of these services, there are console utilities that can be used in automation.  On the other hand, you can use tools like Fastlane.  Often you need to take care of side tasks.  One of the main tasks is design.  For example, you need to decide how to automatically import and convert designer resources in a simple way.  If the application works in several countries, you can meet the task of synchronizing localizations with collective translation services such as Crowdin or POEditor.  This is not the whole headache - for example, we wanted to monitor the performance of the application after publication.  Or how to get ratings and user reviews?  How to display in the form of graphs on a large monitor hanging on the wall?  All this data is obtained from external services; it is not easy to integrate them with each other. </p><br><p>  <strong>‚ÄúYou always have interesting stories in store.‚Äù</strong>  <strong>Tell me about any task that you had to <em>devapss</em> for a mobile platform?</strong>  <strong>Better something off-topic to keep intrigue.</strong> </p><br><p> - At a time when Google had not yet released Android 6.0 Marshmallow, the system during installation asked the user to provide the appropriate permissions.  If the new version of the application wanted extended rights, the application could not automatically update - first the system requested the user permission for this extended set of rights.  One day it happened in our team - we added some kind of library, which suddenly quietly added some additional permissions.  This instantly brought down the frequency of updates to our application.  It became clear that in Continuous Integration, you need to add a check that would signal changes in the list of permissions.  Unfortunately, there were no ready-made solutions at that moment.  The first thing that occurred to me was to write a unit test, which would check all this programmatically, but it did not work out such a test (you cannot get all the permissions).  The second attempt is to parse <code>AndroidManifest.xml</code> , and, of course, this idea was also doomed to failure, since the permissions of third-party libraries are in their own manifests and managed by the manifest collector.  Finally, I decided to analyze the generated APK, pull out the full list of permissions from it and then compare it with the previous, previously saved results ( <a href="https://github.com/thyrlian/NoNewPermissionForAndroid"></a>  <a href="https://github.com/thyrlian/NoNewPermissionForAndroid">https://github.com/thyrlian/NoNewPermissionForAndroid</a> ).  This approach worked great, but as you can see, it is not intuitive and requires additional work.  By the way, since Android Studio 3.0, the built-in APK Analyzer provides similar functionality out of the box ( <a href="https://developer.android.com/studio/build/apk-analyzer.html"></a>  <a href="https://developer.android.com/studio/build/apk-analyzer.html">https://developer.android.com/studio/build/apk-analyzer.html</a> ).  The ecosystem is getting better and better. </p><br><p>  <strong>- In Russia, there is a culture of highly specialized teams: a separate development, separate testing, etc.</strong>  <strong>Tell us, what tools should a sysadmin learn in order to better interact with mobile developers, to help them more effectively?</strong> </p><br><p>  - Mobile system developers seem wizards.  In the experience of my previous work, a good wizard in a mobile team looks like this: </p><br><ul><li>  He is not just a master console, he is also well versed in the project.  For example, Gradle is the de facto official build tool for Android, so it‚Äôs wise to choose Groovy as the main language for all build scripts.  But on iOS, CocoaPods and Fastlane are very popular, so Ruby should be chosen. </li><li>  System administrators will not be able to protect the peace of the team 24/7.  Team members themselves must understand how to break through typical assembly problems, especially through small but pressing problems.  When you do not need to constantly wait for someone who comes and solves your problem - not only efficiency, but also your job satisfaction grows. </li><li>  ‚ÄúMobile developers‚Äù are called ‚Äúmobile developers‚Äù because they are well-versed in mobile phones.  They do not have to be well versed in databases or anything else - in fact, they usually don‚Äôt understand.  But as soon as the mobile application starts communicating with the server via the API, if problems arise, all this needs to be debugged, and for the mobile developer this debugging is a big pain.  Do not even try to teach them complex SQL queries or how to bind logs with a huge command in the console.  It is better to arrange for them a small introductory course on the use of Kibana or Grafana, in which you yourself have invented frequently used queries. </li><li>  On the other hand, the admin must clearly know the needs of the mobile developer and understand the goal that he wants to achieve.  Maybe you've already set up Sonar rules for Java backends thousands of times, but these standard rules are not suitable for Android.  Android developers need their own special settings.  Before you give them a ready-made solution, carefully check that this solution is specially tailored for mobile development. </li></ul><br><p>  <strong>- What technologies should a developer learn in order to build a good infrastructure and the right DevOps process?</strong>  <strong>How to write mobile applications so that it is more convenient to <em>devopss</em> ?</strong> </p><br><p>  - You need to learn at least one scripting language, because in a typical build environment you cannot rely solely on Java / Objective-C.  The assembly functionality needs to be turned into modules, small fragments that not only simplify refactoring, but also make it easier to adapt to different conditions (for example, when switching from Jenkins pipelines to Cricle CI, or if you need to jump to Travis CI from Circle CI).  Mobile development is rapidly evolving, so you should not pledge to use only some specific third-party solutions, because they can become obsolete at any second.  Build on the official tools and public APIs from Apple and Google, and tools based on them.  And most importantly, think broadly, consider solutions that differ from their current configuration.  For example, if an Android developer suddenly wants to install some kind of new toolkit on your build environment (for example, on MacMini), try to analyze the consequences of this. </p><br><p>  <strong>- OK thanks!</strong>  <strong>See you at <a href="https://mobiusconf.com/">Mobius 2017!</a></strong> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/339500/">https://habr.com/ru/post/339500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339488/index.html">How to involve users in the gaming world: contests and interactivity in social networks. Cases of the Krasnodar studio Plarium</a></li>
<li><a href="../339490/index.html">Step-by-step instructions for creating an SMS web application using the SMS API from Infobip</a></li>
<li><a href="../339492/index.html">C / C ++ code optimization</a></li>
<li><a href="../339496/index.html">Fuel for AI: a selection of open datasets for machine learning</a></li>
<li><a href="../339498/index.html">Overview of one Russian RTOS, part 7. Means of data exchange between tasks</a></li>
<li><a href="../339502/index.html">Fintech track GenerationS - another chance for your fintech startup</a></li>
<li><a href="../339504/index.html">Generalized search for paths for AI in platformers</a></li>
<li><a href="../339506/index.html">OpenCV. Search for road signs using contour analysis in Android</a></li>
<li><a href="../339508/index.html">How to run docker-voting on Swarm, Kubernetes and Nomad</a></li>
<li><a href="../339510/index.html">As we scrum scaled</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>