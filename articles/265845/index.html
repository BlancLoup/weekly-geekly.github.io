<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RESTful API - big lie</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator: 
 For the first time I tried to translate an article of this size and IT subjects, I‚Äôm happy to read your comments and remarks. A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RESTful API - big lie</h1><div class="post__text post__text-html js-mediator-article">  <i>From the translator:</i> <br>  <i>For the first time I tried to translate an article of this size and IT subjects, I‚Äôm happy to read your comments and remarks.</i>  <i>As for the article itself: I disagree with the author at least because, in fact, it replaces REST with ... REST (!!!), but in a slightly different frame.</i>  <i>However, despite the fact that the article presents many obvious things, it seemed to me worthy of discussion at Habr√©.</i> <br><br>  <i><b>Why you should bury this popular technology</b></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d7f/2b7/0d0/d7f2b70d0b6dbc9bd236ba2478ecccc5.jpg" alt="image"><br><a name="habracut"></a><br><h4>  RESTful api is wonderful, right? </h4><br>  If over the past 10 years you have read the summary of web developers, then you will be forgiven for thinking that the RESTful API is a kind of divine talent that has come down to us from heaven.  REST API is used everywhere, even marketers constantly mention it in materials intended solely for management or staff. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So how good is the idea of ‚Äã‚Äãa REST API?  Before we deal with this issue, let's see where the roots grow from ... <br><br><h4>  Where does REST come from? </h4><br>  This technology became popular when it was described in detail and presented by <a href="https://en.wikipedia.org/wiki/Roy_Fielding">Roy Fielding</a> in his doctoral thesis under the name <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">Architectural Design</a> in 2000.  Roy is known for his contributions to the development of the web, especially HTTP. <br><br><h4>  So what is a RESTful API? </h4><br>  <a href="http://habrahabr.ru/post/38730/">REST</a> is a software architecture style for building distributed, scalable web services.  Roy advocated the use of standard HTTP methods so as to give a specific meaning to requests. <br><br>  Thus, these HTTP requests will have different meanings in REST: <br><ul><li>  GET / object / list </li><li>  POST / object / list </li><li>  PUT / object / list </li></ul><br>  There are only some types of queries above, but their entire list is: <i>CONNECT, DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT, TRACE</i> .  If you have not even heard of some of them - it does not matter, since there are methods that are almost never supported by any client or server application. <br><br>  Roy also argued that HTTP response codes would help in determining the meaning of the responses themselves.  There are about 38 response codes and below you can see a list of them.  Some of the names I have slightly reduced for convenience: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/967/d37/cd8/967d37cd859f6b26ad8dd259fd56f1eb.png" alt="image"><br><br>  So, one transaction on such an API will consist of at least the following: <br><ul><li>  <b>Request method</b> , for example, GET </li><li>  <b>The query path</b> , for example, / object / list </li><li>  <b>Request body</b> , for example, the form </li><li>  <b>Answer code</b> , for example, 200 OK </li><li>  <b>Answer body</b> , for example, JSON data </li></ul><br>  Many people reacted positively to this paradigm and began to use it in the development of web services using HTTP.  This is what we call the <b>RESTful API</b> . <br><br>  By the way, the transaction may be more complicated and we will discuss the reasons for this.  However, we omit those complicating factors that are associated with networks and caching, as these issues are relevant to other technologies. <br><br><h4>  Actually the RESTful API is pretty awful </h4><br>  REST is an excellent mechanism for many things, for example, such as receiving content, and it has served us faithfully for almost 20 years.  However, it is time to open your eyes and acknowledge that the concept of a RESTful API is one of the worst ideas ever developed in web development.  No, I do not argue, Roy is a great guy and, of course, he had a lot of cool ideas ... However, I'm not sure that the RESTful API is on their list. <br><br>  Soon we will look at another, more correct solution for building an API, but before doing so, we need to understand the 5 major problems of the RESTful API, which make it expensive, vulnerable to errors and inconvenient.  Let's start! <br><br><h4>  Problem # 1: There is still no general agreement on what the RESTful API is. </h4><br>  Hardly anyone thought about why this technology is called ‚ÄúRESTful‚Äù, and not ‚ÄúRESTpure‚Äù?  ( <i>comment of the translator: pure - clear, understandable</i> ) And because no one can decide what all the query methods, response codes, bodies, etc., are. <br><br>  For example, when should we use code <i>200 OK</i> ?  Can we use it to confirm successful record update, or should we use <i>201 Created</i> code?  Apparently, you need to use the code <i>250 Updated</i> , but it does not exist.  And yet, can anyone explain what the code <i>417 Expectation failed</i> ?  Anyone other than Roy, of course. <br><br>  The HTTP dictionary of methods and codes is too vague and incomplete to finally arrive at uniform definitions.  There is no one, if I am not mistaken, who has found a single, general order and urged the rest to observe it.  What is meant by <i>200 OK</i> in one company can denote completely different information in another, which makes the technology under discussion <b><i>unpredictable</i></b> . <br><br>  If this were the only problem, then I probably would have accepted it and continued to write the RESTful API to this day.  However, our list is just being revealed ... <br><br><h4>  Problem number 2: REST dictionary is not fully supported </h4><br>  Even if we had solved the first problem, we would have encountered the following practical one: most client and server applications do not support all response codes and, in fact, verbs, meaning HTTP methods.  For example, most browsers have limited support for PUT and DELETE. <br><br>  How do we cope with this?  One way is to insert a <i>verb</i> denoting the desired method in the form to be sent.  This means that in this case the request includes: <br><br><ul><li>  <b>HTTP request method</b> , for example, POST </li><li>  <b>The address of the request</b> , for example, / object / list </li><li>  <b><i>A method that we actually mean</i></b> , for example, DELETE </li><li>  <b>Request body</b> , for example, data from the form </li></ul><br>  The response code situation is no better.  Different browsers (and server applications too) often understand these codes differently.  For example, having received the code <i>307 Temporary redirect</i> , one browser may allow the user script to view this response and <i>cancel the action</i> before it is executed.  Another browser can simply simply forbid the script to do something.  In fact, the only codes that you should not be afraid to handle are <i>200 OK</i> and <i>500 Internal server error</i> .  In other cases, support for answers varies from ‚Äúpretty good‚Äù to ‚Äújust awful.‚Äù  That is why we often have to supplement the body of the response with <i><b>code that we actually meant</b></i> . <br><br>  Even if we could still agree on all of the above, and still magically fixed everything connected to the Internet, but not adapted to the REST software - we still run into another problem. <br><br><h4>  Problem number 3: The REST dictionary is not saturated enough </h4><br>  A dictionary consisting only of HTTP methods and response codes is too limited to effectively transmit and receive the various information needed by all applications.  Imagine that we have created an application from which we want to send a ‚Äúrender complete‚Äù response to the client.  Unfortunately, we cannot do this with the help of HTTP codes, because, firstly, <i>such a code does not exist</i> , and secondly, <i>we cannot create it, since HTTP is not extensible</i> .  Minute of frustration.  I think we will again have to insert <b><i>what we mean</i></b> in the body of the answer. <br><br>  Also, the problem is that we have more than one dictionary, we have three of them!  <i>Response codes</i> are numeric values ‚Äã‚Äã(200, 201, 500) that differ from the representation <i>of the request methods</i> (GET, POST, PUT, etc.), and <i>the response body</i> is in JSON format.  Performing REST transactions is like sending a letter in English to China and getting a Morse code from there.  All these difficulties are a major source of confusion and mistakes.  Here we go to the next global problem: debugging. <br><br><h4>  Problem number 4: RESTful API is very difficult to debug </h4><br>  If you have once worked with the REST API, then you probably know that it is almost impossible to debug.  In order to understand what happens during a transaction, we have to look at 7 places at once: <br><br><ul><li>  <b>HTTP request method</b> , for example, POST </li><li>  <b>The address of the request</b> , for example, / object / list </li><li>  <b><i>A method that we actually mean (in the request body)</i></b> , for example, DELETE </li><li>  <b>Actually, the request body</b> , for example, data from the form </li><li>  <b>Answer code</b> , for example, 200 OK </li><li>  <b><i>The code we meant (in the response body)</i></b> , for example, 206 Partial Content </li><li>  <b>Actually, the response body</b> </li></ul><br>  So now we have not only two very limited vocabulary, but also 7 different points where an error can be covered.  The only thing that could further aggravate the situation is if the REST technology were fully tied to one protocol and it would be impossible to use any other communication channel.  Actually, it is, and this is our next big problem! <br><br><h4>  Problem # 5: Typically, RESTful APIs are bound to the HTTP protocol </h4><br>  RESTful API breaks into one of the fundamental laws of good communication: the <i>content of the message must be completely independent of the transmission channel</i> .  Their mixing is the path to total confusion. <br><br>  Constant interweaving of the HTTP protocol and the transmitted information completely deprives us of the possibility of transferring the RESTful API to other communication channels.  Porting RESTfulAPI from HTTP to some other data transfer protocol requires completely disentangling and restructuring information from <b>seven</b> different points that we talked about earlier. <br><br>  Fortunately, there is a good solution that allows you to avoid or minimize all the problems of the RESTful API.  Meet <br><br><h4>  Step forward: JSON-pure API </h4><br>  <b>JSON-pure API</b> handles most of the problems we just covered. <br><br><ul><li>  Uses only one method for transmitting data - usually <i>POST</i> for HTTP and <i>SEND</i> when using Web Sockets </li><li>  The transfer mechanism and the contents of the request are completely independent.  All errors, warnings and data are transmitted in the request body, in JSON format. </li><li>  Only one response code is used to confirm successful transmission, usually it is <i>200 OK</i> </li><li>  The transmission mechanism and the content of the response are completely independent.  All errors, warnings and data are transmitted in the body of the response, in JSON format </li><li>  It's much easier to debug, because all the data is in one place in an easy-to-read JSON format. </li><li>  Easily transfer to any communication channel, such as <i>HTTP / S, WebSockets, XMPP, telnet, SFTP, SCP, or SSH</i> </li></ul><br>  JSON-pure API appeared as a result of the awareness of developers of the fact that the RESTful API is not particularly friendly to browsers and developers themselves.  Separating the message and transfer method makes the JSON-pure API fast, reliable, easy to use, port, and search for errors.  Today, if we need, for example, to use the Twitter API, then masochists will choose the RESTful API.  The rest will turn to JSON-pure API, or, as it is also called, ‚ÄúWeb API‚Äù. <br><br>  Over the past ten years, I was repeatedly asked to use RESTful instead of JSON-pure.  The last time I almost had to support the RESTful API was in 2011.  To my luck, the back-end team agreed to run the JSON-pure API in parallel with RESTful, simply transferring all of their methods and codes to JSON. <br>  A few months later, all my friends who had previously used RESTful switched to JSON-pure, realizing that this is much more convenient. <br><br>  <i>Original article:</i> <a href="http://mmikowski.github.io/the_lie/">mmikowski.github.io/</a> <br>  <i>Posted by:</i> <a href="http://mmikowski.github.io/about/">Michael S. Mikowski</a> </div><p>Source: <a href="https://habr.com/ru/post/265845/">https://habr.com/ru/post/265845/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../265833/index.html">GC in Go: priority on speed and simplicity</a></li>
<li><a href="../265835/index.html">IBM Cognos BI and QlikView, where to start curious?</a></li>
<li><a href="../265837/index.html">Urho3D Editor (Part 2)</a></li>
<li><a href="../265841/index.html">Deliver voice to mobile network: step 2 - Analog Digital Conversion</a></li>
<li><a href="../265843/index.html">Dagaz: Kicks to common sense (part 10)</a></li>
<li><a href="../265847/index.html">Using ES6 in AngularJs 1.x with Browserify + Babel build</a></li>
<li><a href="../265851/index.html">Cage with all amenities</a></li>
<li><a href="../265853/index.html">How to create forms for subscribing to email newsletter: Errors and solutions</a></li>
<li><a href="../265855/index.html">Bringing NetApp Storage Systems Out of a Cluster</a></li>
<li><a href="../265857/index.html">The Day of Knowledge! Conferences, courses, documentation and other resources for developers from Microsoft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>