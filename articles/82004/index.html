<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>No canvas</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perhaps it is better to transfer to ‚ÄúI am promoting‚Äù or ‚ÄúJavaScript‚Äù (suggestions are accepted). Or maybe you should leave it as it is. However... 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>No canvas</h1><div class="post__text post__text-html js-mediator-article">  <font color="#CCCCCC">Perhaps it is better to transfer to ‚ÄúI am promoting‚Äù or ‚ÄúJavaScript‚Äù (suggestions are accepted).</font>  <font color="#CCCCCC">Or maybe you should leave it as it is.</font>  <font color="#CCCCCC">However...</font> <br><br> <a href="http://zame-dev.org/projects/nocanvas/0000/"><img align="right" src="http://zame-dev.org/projects/nocanvas/0000/illust.png"></a>  3D with z-buffer, sub-pixel precision and Gouraud lighting in javascript?  Yes, anyone can do it <a href="http://zame-dev.org/projects/nocanvas/0000/">using canvas</a> ! <br><br>  It can be long and tasty to describe the benefits of canvas, but the article is not about that;  no less interesting <br>  See what the canvas is bad for. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  So what? </h4><br><ul><li>  It does not work in the Internet Explorer of one large well-known corporation: by emulating the canvas through VML, we cut off the most delicious pixel manipulations, and emulating pixel snacks on flash shamelessly slows down because somewhere in the depths of the ExternalInterface, developers from Adobe have inserted a pair sleep functions :) </li><li>  Only Google Chrome (aka Chromium) can provide sufficient speed for javascript execution.  In all other browsers, a delicious and sexy effect risks turning into a slide show. </li><li>  And finally, the most important thing - it is unsportsmanlike!  I am sure that as long as there are people writing sappers on bat files, tetris on sed and boyar dialects of C ++, programming for the sake of the programming process itself will interest the masses :) </li></ul><br>  I started a <a href="http://nocanvas.blogspot.com/">blog</a> in which I‚Äôm going to write regularly about creating various effects and javascript games that do not use canvas: <br><ul><li>  <strong>Once every two weeks</strong> I will write about any new effect; </li><li>  <strong>Once every two months</strong> I will tell you to do a playable demo of some kind of game (as usual, not using canvas); </li><li>  and, finally, <strong>every six months</strong> I will do the game (well, at least I will try very hard not to fail the deadlines) </li></ul><br><h4>  A small heretical article on the seed - how to make a 3D + z-buffer + subpixel + gouraud shading <em>using</em> canvas </h4><br><h5>  Step 0 </h5><br>  First of all, you need to take care of IE users by offering them support for the canvas tag in the form of a Chrome Frame: prescribe the <strong>meta</strong> , connect the google script, create the <strong>no-canvas</strong> block and edit the styles for the Google iframe (by default it appears in the center of the page) <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">http-equiv</font> <font color="#0000ff">="X-UA-Compatible"</font> <font color="#ff0000">content</font> <font color="#0000ff">="chrome=1"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">style</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/css"</font> <font color="#ff0000">media</font> <font color="#0000ff">="screen"</font> <font color="#0000ff">&gt;</font> &lt;br&gt;.chrome-install {&lt;br&gt; position: relative;&lt;br&gt; margin: 0;&lt;br&gt; padding: 0;&lt;br&gt; top: 0;&lt;br&gt; left: 0;&lt;br&gt;}&lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">style</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/javascript"</font> <font color="#ff0000">src</font> <font color="#0000ff">="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#ff0000">onload</font> <font color="#0000ff">="main()"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="no-canvas"</font> <font color="#ff0000">style</font> <font color="#0000ff">="display:none;"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">h2</font> <font color="#0000ff">&gt;</font> <font color="#ff0000">&amp;lt;</font> canvas <font color="#ff0000">&amp;gt;</font> support required. <font color="#0000ff">&lt;/</font> <font color="#800000">h2</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="chrome-install-placeholder"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="canvas-enabled"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">canvas</font> <font color="#ff0000">id</font> <font color="#0000ff">="canvas"</font> <font color="#ff0000">width</font> <font color="#0000ff">="384"</font> <font color="#ff0000">height</font> <font color="#0000ff">="384"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">canvas</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  The <strong>main</strong> function (init is called by timeout, because otherwise chrome (dev version) sometimes does not draw the background of the body to the end): <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> main()&lt;br&gt;{&lt;br&gt;  canvas = <font color="#0000ff">document</font> .getElementById( <font color="#A31515">'canvas'</font> );&lt;br&gt;&lt;br&gt; <font color="#0000ff">if</font> ( <font color="#0000ff">typeof</font> (canvas.getContext) == <font color="#A31515">'function'</font> )&lt;br&gt;  {&lt;br&gt;    ctx = canvas.getContext( <font color="#A31515">'2d'</font> );&lt;br&gt;    setTimeout(init, 100);&lt;br&gt;  }&lt;br&gt; <font color="#0000ff">else</font> &lt;br&gt;  {&lt;br&gt; <font color="#0000ff">document</font> .getElementById( <font color="#A31515">'canvas-enabled'</font> ).style.display = <font color="#A31515">'none'</font> ;&lt;br&gt; <font color="#0000ff">document</font> .getElementById( <font color="#A31515">'no-canvas'</font> ).style.display = <font color="#A31515">''</font> ;&lt;br&gt;&lt;br&gt;    CFInstall.check({&lt;br&gt;      node: <font color="#A31515">'chrome-install-placeholder'</font> ,&lt;br&gt;      className: <font color="#A31515">'chrome-install'</font> ,&lt;br&gt;      destination: window.location.href&lt;br&gt;    });&lt;br&gt;  }&lt;br&gt;}&lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><h5>  Step 1 </h5><br>  All rendering will be carried out in a 128x128 buffer, and then it will be output with a 3-fold increase (using <strong>putImageData</strong> ). <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> scr = [];&lt;br&gt; <font color="#0000ff">var</font> zbuf = [];&lt;br&gt; <font color="#0000ff">var</font> WDT = 128;&lt;br&gt; <font color="#0000ff">var</font> HGT = 128;&lt;br&gt;&lt;br&gt; <font color="#0000ff">function</font> blit()&lt;br&gt;{&lt;br&gt; <font color="#0000ff">var</font> cd = ctx.createImageData(canvas.width, canvas.height);&lt;br&gt; <font color="#0000ff">var</font> data = cd.data;&lt;br&gt; <font color="#0000ff">var</font> ind = 0;&lt;br&gt;&lt;br&gt; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> y = 0; y &lt; HGT; y++)&lt;br&gt;  {&lt;br&gt; <font color="#0000ff">var</font> line = scr[y];&lt;br&gt;&lt;br&gt; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> x = 0; x &lt; WDT; x++)&lt;br&gt;    {&lt;br&gt;      data[ind++] = line[x][0]; data[ind++] = line[x][1]; data[ind++] = line[x][2]; data[ind++] = 255;&lt;br&gt;....&lt;br&gt;  }&lt;br&gt;&lt;br&gt;  ctx.putImageData(cd, 0, 0);&lt;br&gt;}&lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><h5>  Step 2 </h5><br>  Imagine a shape as an object and write a cheat <strong>box</strong> function that will create cubes with normals right away: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">{&lt;br&gt;  points: [&lt;br&gt;    {x: point_x, y: point_y, z: point_z, n: { x: point_normal_x, y: point_normal_y, z: point_normal_z } },&lt;br&gt;    ....&lt;br&gt;  ],&lt;br&gt;  faces: [&lt;br&gt;    [point_1, point_2, point_3, { x: face_normal_x, y: face_normal_y, z: face_normal_z }],&lt;br&gt;    ....&lt;br&gt;  ],&lt;br&gt;  color: object_color,&lt;br&gt;  rot: [rot_x, rot_y, rot_z]&lt;br&gt;}&lt;br&gt;&lt;br&gt; <font color="#0000ff">function</font> box(size, cl, rot)&lt;br&gt;{&lt;br&gt; <font color="#0000ff">var</font> norm = 1 / Math.sqrt(3);&lt;br&gt;&lt;br&gt; <font color="#0000ff">return</font> {&lt;br&gt;    points: [&lt;br&gt;      { x: -size, y: size, z: -size, n: { x: -norm, y: norm, z: -norm } },&lt;br&gt;      ....&lt;br&gt;    ],&lt;br&gt;    faces: [&lt;br&gt;      [ 0, 1, 2, { x: 0, y: 1, z: 0 } ],&lt;br&gt;      ....&lt;br&gt;    ],&lt;br&gt;    color: cl,&lt;br&gt;    rot: rot&lt;br&gt;  };&lt;br&gt;}&lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><h5>  Step 3 </h5><br>  Perform all the black work - turn the object (along with the normals - this is faster than counting the normals again) and project it in 2D (I was too lazy to read the light level normally, so I used <em>the scientific method</em> <sup>tm</sup> to find the magic formula and magic coefficients 0.7 and 3) <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> project(pt, rm)&lt;br&gt;{&lt;br&gt; <font color="#0000ff">var</font> rot = {&lt;br&gt;    x: (pt.x*rm.oxx + pt.y*rm.oxy + pt.z*rm.oxz),&lt;br&gt;    y: (pt.x*rm.oyx + pt.y*rm.oyy + pt.z*rm.oyz),&lt;br&gt;    z: (pt.x*rm.ozx + pt.y*rm.ozy + pt.z*rm.ozz + ZPOS)&lt;br&gt;  };&lt;br&gt;&lt;br&gt; <font color="#0000ff">var</font> l = 1 - (Math.cos(pt.nx*rm.ozx + pt.ny*rm.ozy + pt.nz*rm.ozz) - 0.7) * 3;&lt;br&gt;  l = Math.max(0, Math.min(1, l));&lt;br&gt;&lt;br&gt; <font color="#0000ff">return</font> {&lt;br&gt;    x: ((WDT / 2) + rot.x * (WDT / 2 - 1) / rot.z),&lt;br&gt;    y: ((HGT / 2) + rot.y * (HGT / 2 - 1) / rot.z),&lt;br&gt;    z: rot.z,&lt;br&gt;    l: l&lt;br&gt;  };&lt;br&gt;}&lt;br&gt;&lt;br&gt; <font color="#0000ff">function</font> draw_object(obj)&lt;br&gt;{&lt;br&gt; <font color="#0000ff">var</font> ax = (tm * obj.rot[0]);&lt;br&gt; <font color="#0000ff">var</font> ay = (tm * obj.rot[1]);&lt;br&gt; <font color="#0000ff">var</font> az = (tm * obj.rot[2]);&lt;br&gt;&lt;br&gt; <font color="#0000ff">var</font> s1 = Math.sin(ax); <font color="#0000ff">var</font> s2 = Math.sin(ay); <font color="#0000ff">var</font> s3 = Math.sin(az);&lt;br&gt; <font color="#0000ff">var</font> c1 = Math.cos(ax); <font color="#0000ff">var</font> c2 = Math.cos(ay); <font color="#0000ff">var</font> c3 = Math.cos(az);&lt;br&gt;&lt;br&gt; <font color="#0000ff">var</font> rm = {&lt;br&gt;    oxx: (c2 * c1),&lt;br&gt;    oxy: (c2 * s1),&lt;br&gt;    ....&lt;br&gt;  };&lt;br&gt;&lt;br&gt; <font color="#0000ff">var</font> pr = [];&lt;br&gt;&lt;br&gt; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; obj.points.length; i++) {&lt;br&gt;    pr.push(project(obj.points[i], rm));&lt;br&gt;  }&lt;br&gt;&lt;br&gt; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; obj.faces.length; i++)&lt;br&gt;  {&lt;br&gt; <font color="#0000ff">var</font> face = obj.faces[i];&lt;br&gt; <font color="#0000ff">var</font> fz = (face[3].x*rm.ozx + face[3].y*rm.ozy + face[3].z*rm.ozz);&lt;br&gt;&lt;br&gt; <font color="#0000ff">if</font> (fz &lt;= 0) {&lt;br&gt;      triangle(pr[face[0]], pr[face[1]], pr[face[2]], obj.color);&lt;br&gt;    }&lt;br&gt;  }&lt;br&gt;}&lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><h5>  Step 4 </h5><br>  Let's write the procedure for drawing horizontal lines (not the most optimal) and triangles (also not a champion in speed): <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> hline(y, xl, xr, cl, ll, lr, zl, zr)&lt;br&gt;{&lt;br&gt; <font color="#008000">//    -     ,</font> &lt;br&gt; <font color="#008000">//    ,       </font> &lt;br&gt; <font color="#008000">//   </font> &lt;br&gt;  xl -= 0.5;&lt;br&gt;  xr += 0.5;&lt;br&gt;  ....&lt;br&gt;}&lt;br&gt;&lt;br&gt; <font color="#008000">// **     **</font> &lt;br&gt; <font color="#0000ff">function</font> triangle(a, b, c, cl)&lt;br&gt;{&lt;br&gt;  ....   ....&lt;br&gt;&lt;br&gt; <font color="#0000ff">var</font> dxl = (cx - ax) / (cy - ay);&lt;br&gt; <font color="#0000ff">var</font> dxr = (bx - ax) / (by - ay);&lt;br&gt;  ....&lt;br&gt; <font color="#0000ff">var</font> y = ay;&lt;br&gt;&lt;br&gt; <font color="#0000ff">while</font> (y &lt; by)&lt;br&gt;  {&lt;br&gt; <font color="#008000">// (y - ay) -   </font> &lt;br&gt; <font color="#008000">//      </font> &lt;br&gt;    xl = sx + dxl * (y - ay);&lt;br&gt;    xr = sx + dxr * (y - ay);&lt;br&gt;    ....&lt;br&gt;    hline(y, xl, xr, cl, ll, lr, zl, zr);&lt;br&gt;    y++;&lt;br&gt;  }&lt;br&gt;&lt;br&gt;  ....&lt;br&gt;}&lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><h5>  Step 5 </h5><br>  It remains to write the loop function and run it through setInterval. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> loop()&lt;br&gt;{&lt;br&gt;  tm = (( <font color="#0000ff">new</font> Date()).valueOf() - st) / 1.5;&lt;br&gt;&lt;br&gt;  draw_scene();&lt;br&gt;  blit();&lt;br&gt;}&lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><h5>  Epilogue </h5><br>  The full text of the script is available at <a href="http://zame-dev.org/projects/nocanvas/0000/index.html">http://zame-dev.org/projects/nocanvas/0000/index.html</a> (just look at the source code of the page) <br><br>  <a href="http://nocanvas.blogspot.com/">Read blog</a> @ <a href="http://feeds.feedburner.com/nocanvas">subscribe to RSS</a> <br></div><p>Source: <a href="https://habr.com/ru/post/82004/">https://habr.com/ru/post/82004/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../81994/index.html">AJAX loading. Wait‚Ä¶</a></li>
<li><a href="../81997/index.html">Russian players write an open letter in Nintendo</a></li>
<li><a href="../81998/index.html">iWish</a></li>
<li><a href="../82001/index.html">Client for Google Translate</a></li>
<li><a href="../82003/index.html">Run around the whole world without leaving the room</a></li>
<li><a href="../82005/index.html">Import entries from RSS to LiveJournal</a></li>
<li><a href="../82006/index.html">Changes in validation of the final version of ASP.NET MVC 2</a></li>
<li><a href="../82007/index.html">Use the Force, Luke! or How to see a stereogram without straining your eyes</a></li>
<li><a href="../82008/index.html">JQuery 1.4.1 released</a></li>
<li><a href="../82010/index.html">The deadline for registering a domain emspost.ru (EMS Russian Post)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>