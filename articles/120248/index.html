<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Offline Maps / Android Navigation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I want to talk about how creating a bright, kind, eternal opensource application, you can not only increase your karma, but also earn ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Offline Maps / Android Navigation</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/dd0/c04/e82/dd0c04e82663df94701a63ab52683d24.jpg" alt="OsmAnd screenshot" align="right"><br>  In this article I want to talk about how creating a <s>bright, kind, eternal</s> opensource application, you can not only increase your karma, but also earn some money. <br><br>  Just over a year ago, I had an Android phone and immediately the question arose before me what to use for traveling, navigation.  Anyway, but a phone with GPS and the Internet is very convenient, especially in unfamiliar places.  After reviewing all the then existing applications, I was a little disappointed.  One does not work without the Internet, the other does not support navigation, the third does not search for POI, the fourth does not have vector maps, etc.  There were, of course, <s>free</s> commercial analogues, but some have let the cards down, others have feedback, but still, when you pay, you want to get something, for which you pay. <br>  It should be noted that in search of applications, he opened a completely wonderful project <a href="http://www.openstreetmap.org/">OpenStreetMap</a> with excellent detail for Belarus.  Therefore, having collected all the forces and the desire to do something free, affordable and necessary, the <a href="http://osmand.googlecode.com/">OsmAnd</a> project was opened on googlecode. <br><a name="habracut"></a><br><br><h4>  Start </h4><br>  First of all, when you start a project, you need to decide why you start it.  Most opensource projects begin for themselves and for personal purposes.  In principle, this one was no exception: I didn‚Äôt have enough offline navigation, or at least navigation through offline maps.  Secondly, it is necessary to look at the existing analogues: as I said, I didn‚Äôt want to buy anything (it wasn‚Äôt worth it), but Navit didn‚Äôt come in from free and free.  The most difficult thing was to decide on such a voluminous project: navigators are written by large companies and they all work differently, for someone it is good, and for someone it is not very good.  As it turned out later, it was not for nothing that he was afraid: there are very complex algorithms in navigation applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  First version </h4><img src="https://habrastorage.org/getpro/habr/post_images/0ef/275/f8a/0ef275f8a3572e12bce371930bcd02f6.png" alt="OsmAnd icon" align="right"><br>  With the choice of methodology, there were no problems at all: Agile recently fashionable.  There is time - I work, I am interested - I do, I want - I communicate with users.  As many write, you need to start with something working, performing the main function.  Therefore, made the display, download raster maps and display POI.  What does this have to do with navigation?  But that was only the beginning. <br><br>  In general, creating an application for myself, I noted that sometimes I use maps not only for navigation, so at the very beginning I added selected points, search for vehicles, animated transitions between points and slide effects, in general everything that took a little time, but added some positive effect.  Having met a lot of support for the OSM community, I definitely decided that the application should help improve OSM maps, so I added OSM functionality to the bugs, editing the POI directly from Android and recording tracks. <br><br>  The first version, a month later, turned out to be quite fun: she knew how to display raster maps, like all similar ones, and do a bunch of additional things using offline data, search by address, search for transport, search for POI.  This application can be used for specific tasks, but by itself it was devoid of structure - it was difficult to understand what it can and what does not.  These are just the disadvantages of Agile - at every stage create maximum business value in a short time.  The solution was only one - refactoring. <br><br><h4>  First publication </h4><img src="https://habrastorage.org/getpro/habr/post_images/697/9f7/359/6979f735927c84fa5797f938868cffaa.png" alt="OsmAnd main screen screenshot" align="right"><br>  Honestly, the application was advertised in narrow circles of the OSM community (on the <a href="http://wiki.openstreetmap.org/wiki/Android">Android OSM Wiki</a> ), nothing was specifically conducted.  That is why, placing on the Android Market, it was difficult to expect a large number of downloads.  But I rejoiced in almost every one of them, feeling proud that I was doing something useful - I received a special feeling of satisfaction from positive comments.  Somewhere in 3 months the number of downloads reached 1000 and I seriously thought that the project had become famous and (!) It would not be so easy to quit.  It should be noted that all this time he was very attentive to criticism and corrected errors, added functions in a matter of days.  Unfortunately, (some!) People who download applications through the Market cannot understand the essence of opensource, flexibility, and they don‚Äôt read the description of the application at all, that it doesn‚Äôt know something.  What else can explain the assignment of a 1-star rating for the fact that there is no two-finger zoom or does not start at all?  Even then, the application had 40% of functions that 90% of users did not use, for example, loading maps on Android from WMS layers.  Specifically, the OsmAnd problem was that the map data should be prepared (POI, Address), and for this you need to run the OsmAndMapCreator desktop application.  At first, I didn‚Äôt even think about hosting, it's open source, for free, <s>what else is needed</s> , prepare the data and use it.  Of course, I understood how uncomfortable it is, but let the project develop, help, and not put a minus.  At the same time, I even thought about removing OsmAnd from the market.  In general, it was the wrong marketing move - to publish on the market is not quite thoughtful product, but really wanted to.  Therefore, it is still possible to find information on the Internet that something is not working, although everything has long been redone. <br><br><h4>  Project development </h4><img src="https://habrastorage.org/getpro/habr/post_images/b2e/c1a/d08/b2ec1ad084878feb6c2ca3f7b86fb9d0.png" alt="OsmAnd routing screenshot" align="right"><br>  Many people say that the beginning of the project is the most difficult, you have nothing, and you need to get something working - I will allow you to disagree.  In the beginning, you have an idea and a belief that it is working.  The most difficult thing, I think, is the end of the project - to leave is beautiful.  He did not come to me, but I can imagine: it will be necessary to find people to whom to transfer, to prepare documentation, etc.  Even the middle is much more complicated than the beginning, because the forces are running out, the amount of time for adding functions grows, technical debt is also, ambiguity of goals, and it just bothers you ... <br><br>  Only one thing saved me, I myself used the application and could not forgive myself why it worked so <s>crookedly</s> .  And I used voice navigation in Belarus, almost everywhere, although it demanded the Internet, but it worked.  Correcting all the absurdities and shifting the functions from the menu to A to B, every project accumulates fairly large features that allow you to bring the product to a new stage, but oh, how difficult it is to undertake them (especially if no one forces).  One such feature was vector rendering.  The advantages for the application are obvious: the relatively small size of the maps, the ability to manipulate layers, rendering, receiving information directly from the maps.  But from the point of view of development, this is a rather difficult task: implementation in the forehead did not work out in a certain way, it was too slow.  I had to type in the <s>books to</s> ask Google and find a way to store RTree, and to put all the data into your binary format so that it could be read from the disk faster.  Still, having invested hundreds of hours of development, it should be recognized that it is slow.  Especially for my old HTC Hero in a country like the Netherlands (osm pbf&gt; 450 MB).  Well, the implementation of offline routing is still in a deep endeavor.  I did not build illusions that it would be easy to realize, but I didn‚Äôt assume that the difficulties can be not only technical, but also creative. <br><br><h4>  Community </h4><img src="https://habrastorage.org/getpro/habr/post_images/9cf/ab7/7c3/9cfab77c3aefa072b46be631e0c7c7f5.png" alt="OsmAnd main screen screenshot" align="right"><br>  Sooner or later, creating a popular opensource project, you will have a community.  He must be very loving, but not pleased in everything, and the most important thing is to precisely determine people who may be useful in the future.  Regarding OsmAnd, the community, of course, exists and 5-6 people are very actively involved in mailing sheets, create bugs, comment on them, create offline data.  But (!) Is still 98% of the code, written by one person.  So, as it was rightly noticed, opensource projects are first of all an initiative of one person.  It seems to me that getting sick of an idea is much easier than infecting (well, only if it‚Äôs not bad). <br><br><h4>  Monetization </h4><br>  Probably, many have not read it already, but have added to this tasty morsel.  The donate button existed on the site for a long time, but did not make enough money to motivate the development.  Most likely, she expressed the love or compassion of individuals for this product.  Then the <a href="http://www.bidforfix.com/">BidForFix</a> button <a href="http://www.bidforfix.com/">appeared</a> , that is, users place bets on some features, and when the feature is ready (assumed), the programmer gets a reward as these bets.  As far as I saw the bets were made a lot, but none of them worked.  Most users bet on offline routing, which is still under development, but the amount there is relatively small - navigation is estimated at about $ 200-250 - I would give $ 500 to someone who does. <br><br>  The source code of the project has exceeded 30,000 lines (this is very approximate) and the number of problems became much more than the desire to correct them.  Fortunately, someone suggested a brilliant idea - to sell!  A little paraphrasing it, it turned out like this: everyone who wants to receive fresh updates from Market should donate 3 euro, who don‚Äôt have this money, can download the same free version, but from the site.  It is not strange, the idea works, people buy the version and enthusiasm is back. <br><br><h4>  current position </h4><img src="https://habrastorage.org/getpro/habr/post_images/847/400/bb6/847400bb6da4b6acc54788d72e315f23.png" alt="OsmAnd Yandex traffic screenshot" align="right"><br>  OsmAnd still has a main goal - to make opensource navigation at the level of commercial and better!  Already, OsmAnd is perfect for pedestrian, bicycle navigation and has quite unique features, such as GPX file navigation.  Of course, the application is not without problems - I think that more than half of users do not know how to use it most effectively, but work is underway to improve usability and the development of new functions.  In general, the future depends on you and on us.  If you have questions about the application or a desire to participate - write. <br><br><h4>  Interesting facts about OsmAnd </h4><ul><li>  OsmAnd participated in the Android Velcom contest with version 0.3, but did not even make it to the list of winners - <s>a</s> compass won. </li><li>  At first, the majority of users were from Belarus, probably due to the Life Huawei introduced then. </li><li>  Currently, the application is installed most of all by Germans, Russians and other Europeans. </li><li>  Many people are surprised that they cannot get a paid version from the developer and why I don‚Äôt have it - yes, because I always collect my version from code. </li><li>  OsmAnd moved to github as the main repository, but all resources are stored by googlecode, the source code is synchronized every day. </li><li>  Approximate <a href="http://code.google.com/p/osmand/wiki/FeaturesList">list</a> of application features in English </li></ul></div><p>Source: <a href="https://habr.com/ru/post/120248/">https://habr.com/ru/post/120248/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../120240/index.html">Client for Lenta.ru for Android</a></li>
<li><a href="../120244/index.html">Firefox 6 integrates a Workspace extension for previewing scripts</a></li>
<li><a href="../120245/index.html">CUPP Computing Introduces Hybrid Netbook</a></li>
<li><a href="../120246/index.html">Samsung in the photographic market</a></li>
<li><a href="../120247/index.html">Touchpad and keyboard from the handy device on Windows Mobile</a></li>
<li><a href="../120249/index.html">June 8 - Java developers meeting with Rendell Thomas</a></li>
<li><a href="../120252/index.html">HTML5 Presentation</a></li>
<li><a href="../120254/index.html">Microsoft does not consider cookiejacking a serious threat.</a></li>
<li><a href="../120257/index.html">Hacking keys for money - estimate based on the Bitcoin network</a></li>
<li><a href="../120258/index.html">Device for replacing news in WiFi traffic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>