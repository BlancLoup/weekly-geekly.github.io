<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Caching data on SSD using EnhanceIO</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, so-called have gained enormous popularity. solid state drives (Solid State Drives, SSD). For a simple user, they are of particular interest ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Caching data on SSD using EnhanceIO</h1><div class="post__text post__text-html js-mediator-article">  Recently, so-called have gained enormous popularity.  solid state drives (Solid State Drives, SSD).  For a simple user, they are of particular interest in that they can significantly expand the bottleneck of system performance, which rests on the speed of hard drives.  Consumer-grade SSDs in reading / writing speeds exceed hard drives by several times, and in some tasks even by an order of magnitude. <br><br>  Yes, the current SSDs are already ready to replace hard drives on desktops and laptops in full, but this is not acceptable for all users, and there are several reasons for this.  First of all, the very reliability raises questions.  Backups are usually saved here, the main thing is to make them in time.  The second reason is privacy related.  If on the HDD the use of <a href="http://en.wikipedia.org/wiki/Dm-crypt">LUKS</a> does not cause issues, then on the SSD the inclusion of TRIM <a href="https://wiki.archlinux.org/index.php/Dm-crypt_with_LUKS">reduces the security of information</a> .  Without TRIM, there are chances to squander the performance of disk operations. <br><br>  Another area of ‚Äã‚Äãuse for SSD is disk I / O caching.  Without jeopardizing the safety of information, you can significantly increase the speed of access to it.  Moreover, this is feasible without stopping the workstation or server, which prevents unwanted loss of time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For the Linux operating system, several data caching technologies for SSD are <a href="http://bcache.evilpiepirate.org/">presented</a> - <a href="http://bcache.evilpiepirate.org/">bcache</a> , <a href="http://www.stec-inc.com/product/ssdcache.php">EnhanceIO</a> , <a href="https://github.com/mingzhao/dm-cache">dm-cache</a> , etc.  Using them allows you to feel the performance gain of disk operations, while the reliability of the storage system will remain at the same level. <br><br>  In any case, the choice of technology remains for the end user (it all depends on the goal pursued), my task is to show in this article how data caching on SSD is organized using EnhanceIO. <br><br><a name="habracut"></a><br>  Why EnhanceIO?  Firstly, this technology is based on the developments of the <a href="https://github.com/facebook/flashcache/">flashcache</a> project tested on Facebook, which in itself already testifies to something.  Secondly, EnhanceIO allows you to enable and disable caching without stopping the system, and also connect the SSD to individual partitions or to the disk as a whole as a cache on the fly.  The disadvantages of EnhanceIO include the fact that the developments of this project are not yet included in the core, but it will not be difficult to assemble it yourself. <br><br>  Moreover, you can use either the <a href="http://pf.natalenko.name/">pf-kernel</a> patch (starting from version 3.8.1-pf), if you don‚Äôt want to go through the kernel source code with your hands, or download the finished <a href="http://pf.natalenko.name/binaries/">binary builds at all</a> and test EnhanceIO without running the compiler. <br><br>  However, the <a href="https://github.com/stec-inc/EnhanceIO">source code for the EnhanceIO project</a> is available on github.  From there we will pull it off: <br><br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git://github.com/stec-inc/EnhanceIO.git</code> </pre> <br>  There are several subdirectories and files in the EnhanceIO directory.  The CLI directory is a console utility for managing EnhanceIO.  In the Driver directory - the actual driver code (kernel module).  Developers placed the rules template for udev in the Documents directory; we need it in order for the cache to be automatically turned on when the corresponding devices appear. <br><br>  An experienced user can easily assemble the kernel on his own, while an ordinary user should either refer to the appropriate manual or skip this step using the ready-made pf-kernel builds for several distributions.  For those who decide to build the kernel themselves, it is recommended to read the Install.txt file - all you need to do is copy the directory with the module to the source kernel code tree and apply a small patch modifying the build system so that it sees this new module. .  If you have questions specifically on compiling the kernel, I am ready to answer them personally. <br><br>  In addition, developers recently added the ability to build EnhanceIO modules using dkms.  This makes it possible not to compile the kernel at all.  The required dkms.conf file is also located in the Driver / enhanceio subdirectory. <br><br>  All users will need to copy the eio_cli console utility to / usr / local / sbin from the CLI directory (and not to / sbin, so as not to clutter the system directories with out-of-batch files): <br><br><pre> <code class="bash hljs">cp CLI/eio_cli /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/sbin</code> </pre> <br>  fix the version of Python used (at least in Arch Linux), replacing the initial line in this file with <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python2.7</span></span></code> </pre> <br>  and then fix the permissions: <br><br><pre> <code class="bash hljs">chown root:root /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/sbin/eio_cli chmod 755 /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/sbin/eio_cli</code> </pre> <br>  Further manipulations were tested in the Arch Linux distribution, in other distributions, something may differ in details, but in general the actions will be the same. <br><br>  So, suppose that the hard disk appears to the system as a device / dev / sda, and SSD as a device / dev / sdb.  Copy the Documents / 94-Enhanceio.template file to /etc/udev/rules.d/94-enhanceio-sda.rules: <br><br><pre> <code class="bash hljs">cp Documents/94-Enhanceio.template /etc/udev/rules.d/94-enhanceio-sda.rules</code> </pre> <br>  and open it for editing: <br><br><pre> <code class="bash hljs">vim /etc/udev/rules.d/94-enhanceio-sda.rules</code> </pre> <br>  In this file you need to replace a few template inserts.  <code>&lt;cache_match_expr&gt;</code> replace with this: <br><br><pre> <code class="bash hljs">ENV{ID_SERIAL}==<span class="hljs-string"><span class="hljs-string">"&lt;ID SERIAL OF YOUR CACHE DEVICE&gt;"</span></span>, ENV{DEVTYPE}==<span class="hljs-string"><span class="hljs-string">"&lt;DEVICE TYPE OF YOUR CACHE DEVICE&gt;"</span></span></code> </pre> <br>  Here, in turn, you need to replace the inserts <pre> <code class="hljs 1c"><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> </pre> <code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   ,   ( )  .     ID_SERIAL  DM_UUID. <br> <br>      <code>&lt;source_match_expr&gt;</code> ,       , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  4096,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>        udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.        : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,    . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..       ,      HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>     udev        .  Arch Linux       /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO    ¬´      ¬ª, LRU ‚Äî   ¬´  ,     ¬ª. LRU       ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo  rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b 4096 -c sda</code> <br>      .   ,       , udev  ,  .    ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     .      ,   .  ssd_reads  ssd_writes        ‚Äî    .     ,      ,      . <br> <br> ,    .    .    ,          .     ,     ,   Device Mapper    . ,      ,     .           ,       fsck .      ,       EnhanceIO   ,   ,         SSD.  ,    ,           ,       .</code></code> <pre> <code class="hljs 1c"><code><code class="bash"><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> $ udevadm info --query=env --name=/dev/sda <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> </pre> <code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   ,   ( )  .     ID_SERIAL  DM_UUID. <br> <br>      <code>&lt;source_match_expr&gt;</code> ,       , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  4096,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>        udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.        : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,    . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..       ,      HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>     udev        .  Arch Linux       /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO    ¬´      ¬ª, LRU ‚Äî   ¬´  ,     ¬ª. LRU       ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo  rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b 4096 -c sda</code> <br>      .   ,       , udev  ,  .    ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     .      ,   .  ssd_reads  ssd_writes        ‚Äî    .     ,      ,      . <br> <br> ,    .    .    ,          .     ,     ,   Device Mapper    . ,      ,     .           ,       fsck .      ,       EnhanceIO   ,   ,         SSD.  ,    ,           ,       .</code></code> <pre> <code class="hljs 1c"><code><code><code class="bash"><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code></code> <ul> <code class="hljs 1c"><code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> <li> <code class="hljs 1c"><code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> </li> <code class="hljs 1c"><code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> <li> <code class="hljs 1c"><code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> </li> <code class="hljs 1c"><code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> <li> <code class="hljs 1c"><code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> </li> <code class="hljs 1c"><code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> </ul> <code class="hljs 1c"><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code> </pre> <code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   ,   ( )  .     ID_SERIAL  DM_UUID. <br> <br>      <code>&lt;source_match_expr&gt;</code> ,       , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  4096,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>        udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.        : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,    . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..       ,      HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>     udev        .  Arch Linux       /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO    ¬´      ¬ª, LRU ‚Äî   ¬´  ,     ¬ª. LRU       ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo  rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b 4096 -c sda</code> <br>      .   ,       , udev  ,  .    ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     .      ,   .  ssd_reads  ssd_writes        ‚Äî    .     ,      ,      . <br> <br> ,    .    .    ,          .     ,     ,   Device Mapper    . ,      ,     .           ,       fsck .      ,       EnhanceIO   ,   ,         SSD.  ,    ,           ,       .</code></code> <pre> <code class="hljs 1c"><code><code class="bash"><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> /usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> </pre> <code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   ,   ( )  .     ID_SERIAL  DM_UUID. <br> <br>      <code>&lt;source_match_expr&gt;</code> ,       , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  4096,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>        udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.        : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,    . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..       ,      HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>     udev        .  Arch Linux       /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO    ¬´      ¬ª, LRU ‚Äî   ¬´  ,     ¬ª. LRU       ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo  rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b 4096 -c sda</code> <br>      .   ,       , udev  ,  .    ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     .      ,   .  ssd_reads  ssd_writes        ‚Äî    .     ,      ,      . <br> <br> ,    .    .    ,          .     ,     ,   Device Mapper    . ,      ,     .           ,       fsck .      ,       EnhanceIO   ,   ,         SSD.  ,    ,           ,       .</code></code> <pre> <code class="hljs 1c"><code><code class="bash"><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )  .     ID_SERIAL  DM_UUID. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>&lt;source_match_expr&gt;</code> ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  <span class="hljs-number"><span class="hljs-number">4096</span></span>,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> udev        .  Arch Linux      <span class="hljs-type"><span class="hljs-type"></span></span> /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´      ¬ª, LRU ‚Äî <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ¬ª. LRU     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo <span class="hljs-keyword"><span class="hljs-keyword"></span></span> rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b <span class="hljs-number"><span class="hljs-number">4096</span></span> -c sda</code> <br>      .   ,       , udev  ,  . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ,    : <br> <br> cat /proc/enhanceio/sda/stats <br>   ssd_reads  ssd_writes.    ,   SSD     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,   . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ssd_reads  ssd_writes <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ‚Äî    .    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,      ,      . <br> <br> ,    .    .    ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,   Device Mapper    . ,      ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   .           ,       fsck .      ,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  EnhanceIO   ,   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       SSD.  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,           ,       .</code></code></code> </pre> <code><code><code class="bash">    SSD.    : <br> <br> $ udevadm info --query=env --name=/dev/sdb</code> <br>  ,     .   ,   ( )  .     ID_SERIAL  DM_UUID. <br> <br>      <code>&lt;source_match_expr&gt;</code> ,       , ..,   , /dev/sda: <br> <br> <code class="bash">$ udevadm info --query=env --name=/dev/sda</code> <br>    udev   <code>&lt;cache_name&gt;</code>  sda, <code>&lt;block_size&gt;</code> ‚Äî  4096,      /sbin/eio_cli   /usr/local/sbin/eio_cli. <br> <br>        udev    Documents/Persistence.txt. <br> <br>     .       <code><code class="bash">.        : <br> <br></code> ro (  Read Only) ‚Äî ,        HDD,         SSD,      SSD.    ,    . wt (  Write-Through) ‚Äî ,        HDD,    SSD.  ,     SSD      .   ,    . wb (  Write-Back) ‚Äî ,        SSD,        HDD.      SSD.  , ..       ,      HDD,       . <br> ,  ,   (   ),    Write-Through. <br> <br>     udev        .  Arch Linux       /etc/modules-load.d/boot.conf.   : <br> <br> enhanceio enhanceio_fifo enhanceio_lru</code> <br> FIFO  LRU ‚Äî         . FIFO    ¬´      ¬ª, LRU ‚Äî   ¬´  ,     ¬ª. LRU       ¬´ / ¬ª,   ,       FIFO.   FIFO  LRU    <a href="http://urss.ru/cgi-bin/db.pl%3Flang%3DRu%26blang%3Dru%26page%3DBook%26id%3D15756"> </a> ,     README.txt     EnhanceIO. <br> <br>          eio_cli  -p   lru, fifo  rand.       . <br> <br>   : <br> <br> <code class="bash">/usr/local/sbin/eio_cli create -d /dev/sda -s /dev/sdb -m wt -b 4096 -c sda</code> <br>      .   ,       , udev  ,  .    ,    : <br> <br> <code class="bash">cat /proc/enhanceio/sda/stats</code> <br>   ssd_reads  ssd_writes.    ,   SSD     .      ,   .  ssd_reads  ssd_writes        ‚Äî    .     ,      ,      . <br> <br> ,    .    .    ,          .     ,     ,   Device Mapper    . ,      ,     .           ,       fsck .      ,       EnhanceIO   ,   ,         SSD.  ,    ,           ,       .</code></code> </div><p>Source: <a href="https://habr.com/ru/post/169845/">https://habr.com/ru/post/169845/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169827/index.html">Safety Code: Null Safe Design Pattern</a></li>
<li><a href="../169829/index.html">IPv6 Address Space Allocation for ISP</a></li>
<li><a href="../169831/index.html">Is national security private?</a></li>
<li><a href="../169839/index.html">Technology expose Red October</a></li>
<li><a href="../169841/index.html">My democracy ends at the tip of your nose: co-editing in the cloud</a></li>
<li><a href="../169847/index.html">Choosing a Chinese tablet '2013</a></li>
<li><a href="../169851/index.html">We get Intel certificates for programming without leaving home</a></li>
<li><a href="../169857/index.html">SketchUp helped assess the speed of the Chelyabinsk phenomenon</a></li>
<li><a href="../169859/index.html">About charisma, bugs and big-eyed birds. The story of a bug tracker</a></li>
<li><a href="../169861/index.html">Creation of game animation on the example of Pudding Monsters</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>