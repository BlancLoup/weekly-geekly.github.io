<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Small useful things. How to make access from nagios / icinga to the host management interface through Google Chrome and MS IE browsers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 When working with nagios / icinga, sooner or later a situation arises when it is annoying to run separately each time into the host con...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Small useful things. How to make access from nagios / icinga to the host management interface through Google Chrome and MS IE browsers</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  When working with nagios / icinga, sooner or later a situation arises when it is annoying to run separately each time into the host control interface ‚Äî to click somewhere, to drive addresses and names with your hands (the login / password is sacred).  It would be best to have a link on hand in nagios / icinga for a detailed analysis of the source of anxiety and troubleshooting.  Googling the Internet on this topic did nothing, because the developers of nagios and icinga do not omit such ‚Äútrifles‚Äù, but the problem remains - we still want a convenient interface for the monitoring system. <br><a name="habracut"></a><br>  The ability to fasten management interfaces to nagios / icinga hosts, although through places not intended for this, still exists in this small article, I would like to share how this can be done. <br><br><h4>  Properly use Notes URL </h4><br>  In any configurator (for example, nagiosql or nconf) we have the Notes URL available, which is intended to take notes on the behavior of the host, but usually it is not used at all and we can use it for our purposes.  After filling it in, the daddy icon appears in the host display;  by pointing the mouse at it, we will be able to go to the host control interface. <br><br>  For different hosts, we may have different versions of the Notes URL, which will also behave differently in different browsers.  For example: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/af4/141/414/af4141414a8c5b305b96fb7266d35171.png"><br><br>  The easiest thing to do with http access is in our example ilo2 on the hp-srvr-blade10-hardware blade server (Hewlett-Packard bl460c g6).  By clicking on the folder icon, the ilo2 interface will open in the same window: <br><br><img src="https://habrastorage.org/storage2/366/d96/640/366d96640afb5bec1246d1a38a104ca9.png"><br><br>  Good?  Yes.  It is very convenient for printers and any other devices where the http management interface is the main one. <br><br>  And then a low voice is heard from the back row: ‚ÄúBut we would also have some kind of rdp connection ... It‚Äôs necessary to go to the Windows server ...‚Äù. <br><br>  And here everything is a bit more complicated. <br><br><h4>  RDP for Google Chrome </h4><br>  If you have Chrome, then under it in the Chrome store there is an excellent Chrome RDP extension.  This is a full-fledged rdp client that runs from a browser.  Perfectly supports the Russian keyboard, there are no significant differences from Microsoft RDP. <br><br>  But for our case, Chrome RDP will have two small spoons of tar: <br><ul><li>  He does not know how to open connections in the current nagios / icinga window (this is most likely a restriction of the parent application).  The problem is solved if you open the rdp-window by right-clicking on the host and opening the connection in a new tab.  Then everything will be fine and beautiful.  Various chrome extensions that allow you to open a clickable link in a new tab do not help. </li><li>  Chrome RDP client is paid.  It is inexpensive - about $ 5, the version, in fact, the trial version - works for exactly one month, and then the ‚ÄúDengi come on!‚Äù Window starts to be thrown out.  Each time, dragging a license from computer to computer (and monitoring systems often from unexpected locations) is not very good.  Buying and installing wherever possible is also wrong. </li></ul><br>  If the restrictions do not scare us, then install Chrome RDP, buy and register a license.  Copy-paste in Notes URL view sequence <br>  chrome-extension: //cbkkbcmdlboombapidmoeolnmdacpkch/nacl.html#$HOSTADDRESS$ <br>  Save the configuration in nagios / icinga;  now after clicking with the right button on the host and choosing to open the link in a new window, we will run the RDP client for this server. <br><br>  There are many RDP clients under hrome, but most of them go through the secondary server.  Either it should be deployed in the corporate network;  or, which is many times more dangerous, is someone's server on the Internet through which your passwords are transmitted.  We must always bear this in mind and not neglect the rules of elementary security. <br><br><h4>  RDP for MS Internet Explorer </h4><br>  To start the rdp client from MSIE, register the protocol as CustomURL.  There is a fairly detailed document in MSDN that describes this mechanism and the sequence of steps for manually registering a protocol: <a href="http://msdn.microsoft.com/en-us/library/aa767914(v%3Dvs.85).aspx">Registering an Application to a URI Scheme</a> <br><br>  Of course, you can do everything with your hands, but there is a small utility that simplifies this process and does not make mistakes when manually editing the registry.  We swing it <a href="http://customurl.codeplex.com/">from here</a> . <br><br>  A couple of installation moments: <br><ul><li>  Administrator rights are required;  by default, the program tries to copy itself to C: \ Windows \ System32. </li><li>  For everything to work on 64-bit Windows 7 / Windows Vista systems, you need to copy the utility in C: \ Windows \ SysWOW64 </li></ul><br>  Run it, click on the add protocol (Add) and enter something like this: <br><br><img src="https://habrastorage.org/storage2/255/f39/2c9/255f392c9919c4b7f8e943e755740851.png"><br><br>  where% Authority%, in this case, is the host + port combination.  If the port is non-standard, then you can manually specify everything -% Host%: 3888, for example. <br><br>  In the same way, you can register and ssh protocol, if for ideological reasons you do not want to use the http-interface.  This example is shown on <a href="http://customurl.codeplex.com/">the</a> utility <a href="http://customurl.codeplex.com/">website</a> . <br><br>  After all the manipulations performed, using MS IE, you can run the rdp client in one click and quickly manage the hosts from the nagios / icinga monitoring system. <br><br>  You can, of course, ask yourself, is it really necessary to get in touch with IE when we have lots of other great browsers?  It is necessary.  At least, again for two reasons: <br><br><ul><li>  For IE, the registration of a user protocol is made much easier (see above). </li><li>  IE like iron makers, like Hewlett-Packard.  HP iLO (especially old versions), honestly says that working with it is better through IE, and all other browsers are limited to those supported.  The management interface of HP EVA Onboard Administrator can display information with errors if it opens even through the latest Chrome or FF. </li></ul><br><br>  By the way, despite the presence of the registered CustomURL in the system, Chrome completely ignores them.  This problem was understood in Google Groups, but there is still no universal stable solution to the problem.  If someone knows how to run mstsc.exe from under Google Chrome - let me know. <br></div><p>Source: <a href="https://habr.com/ru/post/166645/">https://habr.com/ru/post/166645/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../166633/index.html">Performance Comparison: curl, php curl, php socket, python pycurl</a></li>
<li><a href="../166637/index.html">Instructions for forwarding ports on Juniper SRX</a></li>
<li><a href="../166639/index.html">Automatic configuration of virtual machines in the clouds using metadata</a></li>
<li><a href="../166641/index.html">Store ID in Cookie</a></li>
<li><a href="../166643/index.html">[Translation] What happened when Facebook blocked my account</a></li>
<li><a href="../166647/index.html">Adding your functionality to UMI.CMS using event handlers</a></li>
<li><a href="../166649/index.html">As I digitalized the film, and not only</a></li>
<li><a href="../166651/index.html">Matlab-bot, warm tube</a></li>
<li><a href="../166653/index.html">AJAX in CakePHP on jQuery and Prototype</a></li>
<li><a href="../166655/index.html">On Putin‚Äôs instructions, the FSB will create a system for preventing and eliminating computer attacks.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>