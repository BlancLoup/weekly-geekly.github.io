<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Comprehensive Automation with Ansible and OpenStack</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ansible solutions guarantee maximum flexibility. This allows the community to find new ways to use Ansible modules to automate frequently performed op...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Comprehensive Automation with Ansible and OpenStack</h1><div class="post__text post__text-html js-mediator-article">  Ansible solutions guarantee maximum flexibility.  This allows the community to find new ways to use Ansible modules to automate frequently performed operations at many levels, including in combination with OpenStack technologies. <br><br>  In this blog, we will discuss the many options for using Ansible, the most popular automation software (software), in conjunction with OpenStack, the most popular software for cloud infrastructure.  We will help you understand how and why you should use Ansible to make your life easier with the help of integrated automation (Full-Stack Automation), as we like to call it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/f9a/84d/778/f9a84d7784944e16b27e8bc33df3f30f.png" alt="image"></div><a name="habracut"></a><br>  First, let's discuss the levels of complex automation shown in the diagram above.  At the bottom of our equipment (servers, storage systems and network equipment).  Next comes the operating system (Linux or Windows).  On Linux, you can install OpenStack to abstract away from the physical resources of the data center and deploy the software version of the computing resources, network, and storage.  On top of OpenStack, tenant-specific services are needed to create the virtual machines on which applications will run.  Finally, you must manage the operating system (Linux or Windows) to deploy the applications and workloads that you really need (databases, web servers, mobile application servers, etc.).  If you use containers (for example, Docker or Rkt), you will package these applications in images that will then be deployed on top of the guest OS.  In addition, in some languages, the concept of application servers has appeared, which adds another layer (for example, J2EE). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Management capabilities provided by Ansible solutions </h3><br>  Ansible provides modules for managing each layer.  Even for network equipment, more precisely, if you approach this from a technical point of view, for a network operating system such as IOS or NXOS (see the <a href="http://docs.ansible.com/ansible/list_of_network_modules.html">full list of Ansible network modules</a> ). <br><br>  1. Standard interaction with the operating system: installing packages, changing or forcing the use of content or file access rights, managing services, creating and deleting users and groups of users, etc. <br><br><ul><li>  Linux and BSD via SSH (the first and most popular use case). </li><li>  <a href="https://www.ansible.com/windows">Windows via PowerShell</a> (since version 1.7). </li></ul><br>  2. Software for implementing the infrastructure as a service (IaaS) concept: install the IaaS software and related components (databases, load balancers, configuration files, services, and other supporting tools). <br><br><ul><li>  <a href="https://github.com/openstack/openstack-ansible">The</a> OpenStack-ansible <a href="https://github.com/openstack/openstack-ansible">installer</a> used in some OpenStack builds from other vendors.  Do not forget that the Red Hat OpenStack platform does not use Ansible, but Heat and Puppet.  In future releases, Ansible will be used to perform specific checks and assist operators in the process of installing updates and new versions. </li><li>  The <a href="http://docs.cloudstack.apache.org/en/latest/ansible.html">CloudStack</a> installer is also Ansible based project. </li></ul><br>  3. Virtual resources: configure resources, such as a virtual machine or an instance, by defining the size, access rights, content, security profile, network connection settings, etc. <br><br><ul><li>  OpenStack Ansible modules (starting with Ansible 2.0), such as <a href="http://docs.ansible.com/ansible/os_server_module.html">Nova</a> or <a href="http://docs.ansible.com/ansible/os_network_module.html">Neutron</a> .  They are based on the OpenStack Shade library, which is used by all CLI tools in OpenStack. </li><li>  These modules can also manage not so virtual network resources through <a href="https://docs.ansible.com/ansible/netconf_config_module.html">netconf</a> (starting with version 2.2). </li><li>  <a href="http://docs.ansible.com/ansible/vsphere_guest_module.html">VMware vSphere Ansible Modules</a> . </li><li>  <a href="http://docs.ansible.com/ansible/ovirt_module.html">RHV,</a> or oVirt, or <a href="http://docs.ansible.com/ansible/virt_module.html">libvirt</a> only for KVM. </li><li>  There are also modules for cloud service providers such as <a href="http://docs.ansible.com/ansible/ec2_module.html">Amazon</a> , <a href="http://docs.ansible.com/ansible/gce_module.html">Google Cloud</a> , <a href="http://docs.ansible.com/ansible/gce_module.html">Azure</a> and <a href="http://docs.ansible.com/ansible/digital_ocean_module.html">Digital Ocean</a> . </li></ul><br>  4. Guest OS: components are similar to those of the host OS.  But how do you know how many guests you have? <br><br><ul><li>  The <a href="http://docs.ansible.com/ansible/intro_dynamic_inventory.html">Ansible Dynamic Inventory</a> tool will dynamically query the IaaS level and VM in order to detect currently available instances.  This determines the hostname, IP address and security settings, that is, asset management becomes dynamic.  This feature will be especially useful for those who use Auto Scaling Groups in their cloud infrastructure, as the list of instances changes dramatically over time. </li></ul><br>  5. Container management module (optional). <br><br><ul><li>  <a href="">Docker</a> : Please note that the <a href="http://docs.ansible.com/ansible/docker_module.html">old</a> Docker <a href="http://docs.ansible.com/ansible/docker_module.html">module</a> in Ansible 2.1 will be replaced with a new own component. </li><li>  <a href="http://docs.ansible.com/ansible/kubernetes_module.html">Kubernetes.</a> </li><li>  <a href="http://docs.ansible.com/ansible/atomic_host_module.html">Atomic Host.</a> </li></ul><br><br>  6. Rented software: databases, web servers, load balancers, data processing modules, etc. <br><br><ul><li>  <a href="https://galaxy.ansible.com/">Ansible Galaxy</a> - a recipe repository (playbook) for deploying the most popular software, and this is the result of the joint work of thousands of community members. </li><li>  You can also manage a web infrastructure like <a href="http://docs.ansible.com/ansible/jboss_module.html">JBoss</a> , allowing Ansible to determine how the application will be deployed to the application server. </li></ul><br><h3>  Recommendations for installing the latest version of Ansible in a virtual Python environment </h3><br>  As you already understood, some functions are available only in the newest Ansible versions, for example 2.2.  However, your OS version may have an older version.  For example, in RHEL 7 or CentOS 7 you will find only Ansible 1.9. <br><br>  Given that Ansible is a command-line tool written in Python that does not prohibit the presence of multiple versions on the system, you may not need to strengthen the security in Ansible that your build offers, and you want to try out the latest version. <br><br>  However, as is the case with any other Python software, there are many dependencies; therefore, it is not recommended to use untested new libraries together with system libraries.  Libraries can be shared by other components of your system, and untested newer versions can disrupt other applications.  The easiest way is to install the latest version of Ansible with all dependencies in an isolated folder under your unprivileged account.  This will be a virtual Python environment ( <i><b>Python Virtual Environment</b></i> , virtualenv), and if you do it right, you can safely try out the latest Ansible modules for complex orchestration.  Of course, it is <i><b>not recommended to</b></i> apply this practice in a production environment.  This is nothing more than an exercise to help you improve your DevOps skills. <br><br>  <b>1. Install the required components (pip, virtualenv)</b> <br><br>  In this case, we only need one ‚Äúsystem-wide‚Äù Python library - virtualenvwrapper.  In addition, you should not execute the sudo pip install command, as this will replace the Python system libraries with newer unverified versions.  Trust in this case, we can only library virtualenvwrapper.  Virtual environments are an effective mechanism for installing and testing new Python modules in your <i>unprivileged user account</i> . <br><br><pre><code class="python hljs">$ sudo yum install python-pip $ sudo pip install virtualenvwrapper $ sudo yum install python-heatclient python-openstackclient python2-shade</code> </pre> <br>  In addition, if your account is different from sudoer, you can use the following commands. <br><br><pre> <code class="python hljs">wget https://bootstrap.pypa.io/get-pip.py python get-pip.py --user .local/bin/pip install virtualenvwrapper --user export PATH=$PATH:~/.local/bin <span class="hljs-comment"><span class="hljs-comment">#Remember to include this in your .bashrc</span></span></code> </pre> <br>  <b>2. Install a new virtual environment where we will deploy the latest version of Ansible</b> <br><br>  First, create a directory for storing virtual environments. <br><br><pre> <code class="python hljs">$ mkdir $HOME/.virtualenvs</code> </pre> <br>  Then add the following lines to your .bashrc file: <br><br>  <i><b>export WORKON_HOME = $ HOME / .virtualenvs</b></i> <i><b><br></b></i>  <i><b>source /usr/bin/virtualenvwrapper.sh</b></i> <br><br>  Now run the <i><b>source</b></i> command for this file. <br><br><pre> <code class="python hljs">$ source ~/.bashrc</code> </pre> <br>  At this stage, shell links are created, but only on the first launch.  Run the <b><i>workon</i></b> command to view the list of environments, it should not be empty.  Next, we will create a new <i><b>virtualenv</b></i> environment named <i><b>ansible2</b></i> , it will be activated automatically and get access to the default packages using RPM. <br><br><pre> <code class="python hljs">$ mkvirtualenv ansible2 --system-site-packages</code> </pre> <br>  Enter <i><b>deactivate</b></i> to exit virtualenv, and workon to re-enter. <br><br><pre> <code class="python hljs">$ deactivate $ workon ansible2</code> </pre> <br>  <b>3. Log in to the new virtualenv environment and install Ansible2 via PIP (as a regular user, without root-rights)</b> <br><br>  You will see that the prompt for entering the command in the shell has changed and the name virtualenv is shown in brackets. <br><br><pre> <code class="python hljs">(ansible2) $ pip install ansible</code> </pre> <br>  This command will install only the dependencies for Ansible 2 using your system-wide Python packages available in RPM (thanks to the system-site-packages flag we used earlier).  Alternatively, if you want to try out the development branch. <br><br><pre> <code class="python hljs">(ansible2) $ pip install git+git://github.com/ansible/ansible.git@devel</code> </pre> <br><pre> <code class="python hljs">(ansible2) $ ansible --version</code> </pre> <br>  If you need to remove virtualenv and all its dependencies, just enter the command rmvirtualenv ansible2. <br><br>  NOTE.  If the commands above did not work, make sure that the GCC and OpenSSL libraries are installed on your systems, since some Python dependencies use the latest cryptographic modules. <br><br>  <b>4. Install OpenStack Client Dependencies</b> <br><br>  The first command in the code snippet below ensures that you have the latest stable versions of the OpenStack API, however you can also use the pip install command to get the latest version of the command line tool (CLI).  The second team provides the latest version of the Python Shade library to connect to the latest versions of the OpenStack API using ansible, regardless of the specific CLI tool. <br><br><pre> <code class="python hljs">(ansible2) $ yum install python-openstackclient python-heatclient</code> </pre> <br><pre> <code class="python hljs">(ansible2) $ pip install shade --upgrade</code> </pre> <br>  <b>5. Test your deployment</b> <br><br><pre> <code class="python hljs">(ansible2) $ ansible -m ping localhost localhost | SUCCESS =&gt; { <span class="hljs-string"><span class="hljs-string">"changed"</span></span>: false, <span class="hljs-string"><span class="hljs-string">"ping"</span></span>: <span class="hljs-string"><span class="hljs-string">"pong"</span></span> }</code> </pre> <br>  NOTE.  You cannot run this version of ansible outside the virtual environment of virtualenv, so always run the workon ansible2 command before usi. <br><br><h3>  OpenStack Orchestration Using Ansible </h3><br>  Attentive readers will notice that using Ansible to orchestrate OpenStack, we seem to be ignoring the fact that Heat is the official orchestration module for this platform.  In fact, Ansible Playbook provides almost the same features as the <a href="http://docs.openstack.org/developer/heat/template_guide/hot_guide.html">HOT</a> template (HOT is the YAML-based syntax for Heat, <a href="https://aws.amazon.com/cloudformation/">AWS CloudFormation</a> reincarnation).  However, many DevOps professionals prefer not to waste time learning the new syntax, and they are already consolidating the entire process for their hybrid infrastructure. <br><br>  The Ansible team understands this, so it uses <a href="http://docs.openstack.org/infra/shade/">Shade</a> , the official library from the OpenStack project, to create interfaces for calling the OpenStack API.  At the time of this writing, Ansible 2.2 included modules for calling the following APIs. <br><br><ul><li>  Keystone: users, groups, roles, projects. </li><li>  Nova: servers, key pairs, groups, and security flags. </li><li>  Neutron: ports, network, subnets, routers, floating IP addresses. </li><li>  Ironic: knots, introspectives. </li><li>  Swift objects. </li><li>  Tom Cinder. </li><li>  Images Glance. </li></ul><br>  From the Ansible point of view, it is necessary to organize interaction with the server, where the system can load OpenStack credentials and create HTTP connections with various OpenStack APIs.  If this server is your machine (localhost), then Ansible will work locally, load Keystone credentials and initiate interaction with OpenStack. <br><br>  Let's take an example.  We will use Ansible OpenStack modules to connect to Nova and launch a small instance with the Cirros image.  First we‚Äôll upload the latest Cirros image, if you haven‚Äôt done so before.  We will use the existing SSH key of the current user.  You can <a href="">download</a> this playbook from this link on Github. <br><br><pre> <code class="python hljs">--- <span class="hljs-comment"><span class="hljs-comment"># Setup according to Blogpost "Full Stack automation with Ansible and OpenStack". Execute with "ansible-playbook ansible-openstack-blogpost.yml -c local -vv" # # # # # # - name: Execute the Blogpost demo tasks hosts: localhost tasks: - name: Download cirros image get_url: url: http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img dest: /tmp/cirros-0.3.4-x86_64-disk.img - name: Upload cirros image to openstack os_image: name: cirros container_format: bare disk_format: qcow2 state: present filename: /tmp/cirros-0.3.4-x86_64-disk.img - name: Create new keypair from current user's default SSH key os_keypair: state: present name: ansible_key public_key_file: "{{ '~' | expanduser }}/.ssh/id_rsa.pub" - name: Create the test network os_network: state: present name: testnet external: False shared: False #provider_network_type: vlan #provider_physical_network: datacentre register: testnet_network - name: Create the test subnet os_subnet: state: present network_name: "{{ testnet_network.id }}" name: testnet_sub ip_version: 4 cidr: 192.168.0.0/24 gateway_ip: 192.168.0.1 enable_dhcp: yes dns_nameservers: - 8.8.8.8 register: testnet_sub - name: Create the test router ignore_errors: yes #for some reasons, re-running this task gives errors os_router: state: present name: testnet_router network: nova external_fixed_ips: - subnet: nova interfaces: - testnet_sub - name: Create a new security group os_security_group: state: present name: secgr - name: Create a new security group allowing any ICMP os_security_group_rule: security_group: secgr protocol: icmp remote_ip_prefix: 0.0.0.0/0 - name: Create a new security group allowing any SSH connection os_security_group_rule: security_group: secgr protocol: tcp port_range_min: 22 port_range_max: 22 remote_ip_prefix: 0.0.0.0/0 - name: Create server instance os_server: state: present name: testServer image: cirros flavor: m1.small security_groups: secgr key_name: ansible_key nics: - net-id: "{{ testnet_network.id }}" register: testServer - name: Show Server's IP debug: var=testServer.openstack.public_v4</span></span></code> </pre><br>  After launch, we see the instance IP address.  We write it down.  Now you can use Ansible to connect to this instance via SSH.  It is assumed that the default Nova network supports connections from our workstation (in our case, through the network of the service provider). <br><br><h3>  Comparison with OpenStack Heat </h3><br>  Using Ansible instead of Heat has its advantages and disadvantages.  For example, when working with Ansible, you must track the resources you create and manually delete them (in reverse order) when they are no longer needed.  Especially difficult you will have with Neutron ports, floating IP addresses and routers.  But if it is Heat, then you simply remove the stack, and all created resources will be deleted automatically. <br><br>  Compare the above example with a similar (but not similar) Heat Template template, which can be <a href="">downloaded</a> from the following Github gist repository. <br><br><pre> <code class="python hljs">heat_template_version: <span class="hljs-number"><span class="hljs-number">2015</span></span><span class="hljs-number"><span class="hljs-number">-04</span></span><span class="hljs-number"><span class="hljs-number">-30</span></span> description: &gt; Node template. Launch <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-string"><span class="hljs-string">"openstack stack create --parameter public_network=nova --parameter ctrl_network=default --parameter secgroups=default --parameter image=cirros --parameter key=ansible_key --parameter flavor=m1.small --parameter name=myserver -t openstack-blogpost-heat.yaml testStack"</span></span> parameters: name: type: string description: Name of node key: type: string description: Name of keypair to assign to server secgroups: type: comma_delimited_list description: List of security group to assign to server image: type: string description: Name of image to use <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> servers flavor: type: string description: Flavor to use <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> server availability_zone: type: string description: Availability zone <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> server default: nova ctrl_network: type: string label: Private network name <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> ID description: Network to attach instance to. public_network: type: string label: Public network name <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> ID description: Network to attach instance to. resources: ctrl_port: type: OS::Neutron::Port properties: network: { get_param: ctrl_network } security_groups: { get_param: secgroups } floating_ip: type: OS::Neutron::FloatingIP properties: floating_network: { get_param: public_network } port_id: { get_resource: ctrl_port } instance: type: OS::Nova::Server properties: name: { get_param: name } image: { get_param: image } flavor: { get_param: flavor } availability_zone: { get_param: availability_zone } key_name: { get_param: key } networks: - port: { get_resource: ctrl_port }</code> </pre> <br><h3>  Using dynamic inventory in conjunction with OpenStack modules </h3><br>  Now let's see what happens if we create many instances, but forget to write down their IP addresses.  A great example of using <a href="http://docs.ansible.com/ansible/intro_dynamic_inventory.html">Dynamic Inventory for OpenStack</a> is analyzing the current state of our leased virtualized resources and getting all the IP addresses of servers so that we can, for example, check their kernel version.  For example, this is done transparently with the Ansible Tower solution, which will periodically take inventory and generate an updated list of OpenStack servers to be managed. <br><br>  Before performing these operations, make sure that you do not have outdated cloud.yaml files in the ~ / .config / openstack, / etc / openstack or / etc / ansible directory.  The Dynamic Inventory script will first search for environment variables (OS_ *), and then the listed files. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#ensure you are using latest ansible version $ workon ansible2 $ wget https://raw.githubusercontent.com/ansible/ansible/devel/contrib/inventory/openstack.py</span></span></code> </pre> <br><pre> <code class="python hljs">$ chmod +x openstack.py</code> </pre> <br><pre> <code class="python hljs">$ ansible -i openstack.py all -m ping</code> </pre> <br><pre> <code class="python hljs">bdef428a<span class="hljs-number"><span class="hljs-number">-10</span></span>fe<span class="hljs-number"><span class="hljs-number">-4</span></span>af7-ae70-c78a0aba7a42 | SUCCESS =&gt; { <span class="hljs-string"><span class="hljs-string">"changed"</span></span>: false, <span class="hljs-string"><span class="hljs-string">"ping"</span></span>: <span class="hljs-string"><span class="hljs-string">"pong"</span></span> } <span class="hljs-number"><span class="hljs-number">343</span></span>c6e76-b3f6<span class="hljs-number"><span class="hljs-number">-4e78</span></span>-ae59-a7cf31f8cc44 | SUCCESS =&gt; { <span class="hljs-string"><span class="hljs-string">"changed"</span></span>: false, <span class="hljs-string"><span class="hljs-string">"ping"</span></span>: <span class="hljs-string"><span class="hljs-string">"pong"</span></span> }</code> </pre> <br>  For interest, you can view all the information that the above inventory script returns, to do this, follow these steps. <br><br>  <b>$ ./openstack.py ‚Äìlist</b> <br><br><pre> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">""</span></span>: [ <span class="hljs-string"><span class="hljs-string">"777a3e02-a7e1-4bec-86b7-47ae7679d214"</span></span>, <span class="hljs-string"><span class="hljs-string">"bdef428a-10fe-4af7-ae70-c78a0aba7a42"</span></span>, <span class="hljs-string"><span class="hljs-string">"0a0c2f0e-4ac6-422d-8d9b-12b7a87daa72"</span></span>, <span class="hljs-string"><span class="hljs-string">"9d4ee5c0-b53d-4cdb-be0f-c77fece0a8b9"</span></span>, <span class="hljs-string"><span class="hljs-string">"343c6e76-b3f6-4e78-ae59-a7cf31f8cc44"</span></span> ], <span class="hljs-string"><span class="hljs-string">"_meta"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hostvars"</span></span>: { <span class="hljs-string"><span class="hljs-string">"0a0c2f0e-4ac6-422d-8d9b-12b7a87daa72"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ansible_ssh_host"</span></span>: <span class="hljs-string"><span class="hljs-string">"172.31.1.42"</span></span>, <span class="hljs-string"><span class="hljs-string">"openstack"</span></span>: { <span class="hljs-string"><span class="hljs-string">"HUMAN_ID"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"NAME_ATTR"</span></span>: <span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-DCF:diskConfig"</span></span>: <span class="hljs-string"><span class="hljs-string">"MANUAL"</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-EXT-AZ:availability_zone"</span></span>: <span class="hljs-string"><span class="hljs-string">"nova"</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-EXT-SRV-ATTR:host"</span></span>: <span class="hljs-string"><span class="hljs-string">"compute-0.localdomain"</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-EXT-SRV-ATTR:hypervisor_hostname"</span></span>: <span class="hljs-string"><span class="hljs-string">"compute-0.localdomain"</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-EXT-SRV-ATTR:instance_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"instance-000003e7"</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-EXT-STS:power_state"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-EXT-STS:task_state"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"OS-EXT-STS:vm_state"</span></span>: <span class="hljs-string"><span class="hljs-string">"active"</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-SRV-USG:launched_at"</span></span>: <span class="hljs-string"><span class="hljs-string">"2016-10-10T21:13:24.000000"</span></span>, <span class="hljs-string"><span class="hljs-string">"OS-SRV-USG:terminated_at"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"accessIPv4"</span></span>: <span class="hljs-string"><span class="hljs-string">"172.31.1.42"</span></span>, <span class="hljs-string"><span class="hljs-string">"accessIPv6"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, (....)</code> </pre> <br><h3>  Conclusion </h3><br>  Although Heat is very useful, some may prefer to learn Ansible to use this orchestration solution, as it suggests using a single language to define and automate the entire set of IT resources.  I hope this article was useful to you from a practical point of view.  We looked at the basic use of Ansible for running OpenStack resources.  If you are interested and want to evaluate the capabilities of Ansible and Ansible Tower, visit the <a href="https://www.ansible.com/openstack">resource</a> .  A good starting point would be to implement Heat to communicate with Ansible Tower via callbacks, as described in <a href="https://keithtenzer.com/2016/05/09/openstack-heat-and-ansible-automation-born-in-the-cloud/">another</a> blog post. <br><br>  In addition, if you want to learn more about the Red Hat OpenStack platform, then on our website you will find many valuable resources (including videos and <a href="https://www.redhat.com/en/technologies/linux-platforms/openstack-platform">official documents</a> ). </div><p>Source: <a href="https://habr.com/ru/post/329556/">https://habr.com/ru/post/329556/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329544/index.html">Start of big data project: 6 important issues</a></li>
<li><a href="../329546/index.html">To the question of constants</a></li>
<li><a href="../329550/index.html">Oddities of Generic Java Types</a></li>
<li><a href="../329552/index.html">Scrum in the real world. Overview of the meeting for scrum masters</a></li>
<li><a href="../329554/index.html">Open broadcast from the main conference hall of HolyJS 2017 Piter: Douglas Crockford, Lea Verou and someone else</a></li>
<li><a href="../329558/index.html">SambaCry critical vulnerability: how to protect</a></li>
<li><a href="../329560/index.html">Almost manifesto design thinking</a></li>
<li><a href="../329562/index.html">Skit, Core, rock'n'roll: how did DotNext 2017 Piter go</a></li>
<li><a href="../329564/index.html">Multichannel communication in ecommerce or how to complete the quest "abandoned basket"?</a></li>
<li><a href="../329566/index.html">Mobile Dimension has developed a "tablet for the consultants of the trading hall" by order of M.Video</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>