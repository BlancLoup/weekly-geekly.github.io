<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Filter for Habrahabr comments in the form of userscript: version 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago I wrote a simple userscript that allows you to filter comments on Habr√© by rating. And now came the 2nd version with new functionality, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Filter for Habrahabr comments in the form of userscript: version 2</h1><div class="post__text post__text-html js-mediator-article">  Some time ago I wrote a simple userscript that allows you to filter comments on Habr√© by rating.  And now came the 2nd version with new functionality, faster filtering and stable operation in Firefox and Chrome. <br><img src="https://habrastorage.org/files/003/2f2/7d8/0032f27d81f14180abfb82dbd2d35c72.png"><br><a name="habracut"></a><br>  <a href="http://habrahabr.ru/post/160125/">The first version of the script</a> was written entirely in jQuery, that is, even the filtering algorithm was based on the use of this library.  Naturally, the script did not work quickly, so I rewrote it completely. <br><br>  What's new: <br><ul><li>  rewritten filtering without using $ .each </li><li>  changed the method of calculating the average rating of comments </li><li>  number of displayed comments added </li><li>  instant filtering added </li><li>  Firefox and Chrome support </li><li>  unit tests added </li></ul><br>  <a href="https://github.com/ShpuntiK/HabrCommentsFilter">Repository</a> link <br><br>  The main filtering change is that jQuery is no longer used at all.  All comments are recorded 1 time in an array and further work does not depend on a third-party library.  For the sake of interest, I measured the filtering time on an article with 300+ comments: 0.2-0.5 seconds, which is much faster than the time of the previous implementation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Also now the form displays the number of comments shown, which in my opinion is more important than some abstract average rating, because the goal of the script is to limit the number of comments to some finite number.  Yes, I understand that the rating is not always an indicator and a well-written comment may be worth reading.  That is why the <b>script does not hide any comments</b> until you yourself enter the minimum rating for filtering.  It is also possible to open a hidden branch using the "Show Answers" button. <br><br>  Grunt is used to build a script from several files, and Karma and Jasmine are used for testing.  The script was tested in the latest versions of Firefox and Chrome, the installation for these browsers is described in the repository. <br><br>  That's basically all I wanted to tell you.  If you have any suggestions or questions - I will be glad to answer in the comments. <br><br>  <b>UPD: I</b> completely forgot to describe the filtering process.  So, if there is a comment in the branch with a suitable rating, then the entire branch is open to it, even if the parents are not suitable by rating.  At the same time, the button ‚ÄúShow answers‚Äù ‚Äã‚Äãis added to the last comment in the branch, so that if you want to read to the end you can do it.  Thus, comments are not cut from the chronology and the idea will not be lost just like that, you can also read all the comments in a thread or in a post. </div><p>Source: <a href="https://habr.com/ru/post/231239/">https://habr.com/ru/post/231239/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../231219/index.html">Installing OpenFOAM on Ubuntu 14.04</a></li>
<li><a href="../231225/index.html">How to become an independent game developer</a></li>
<li><a href="../231227/index.html">Attribute deprecated in C ++ 14</a></li>
<li><a href="../231229/index.html">Using the principles of psychology to increase the conversion of sites. Part 5: Face Effect</a></li>
<li><a href="../231235/index.html">How we created our own terminal network</a></li>
<li><a href="../231241/index.html">The digest of interesting materials from the world of web development and IT over the past few weeks, ‚Ññ117 (July 10 - 27, 2014)</a></li>
<li><a href="../231243/index.html">Linus Torvalds: GCC 4.9.0 "terminally broken"</a></li>
<li><a href="../231245/index.html">Useful and service information in the interface</a></li>
<li><a href="../231247/index.html">This is Science: Resilient quantum dot display</a></li>
<li><a href="../231249/index.html">Plastic, steel and two Teflon nozzles. New 3d ÊâìÂç∞Êú∫ from China</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>