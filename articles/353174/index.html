<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of ECMAScript 2016, 2017, and 2018 with examples</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is difficult to keep up with the innovations of different versions of ECMAScript, and even more difficult to find useful examples of their applicat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of ECMAScript 2016, 2017, and 2018 with examples</h1><div class="post__text post__text-html js-mediator-article">  It is difficult to keep up with the <a href="">innovations of</a> different versions of ECMAScript, and even more difficult to find useful examples of their application without digging through the mountains of information.  Therefore, today we publish the translation of the material, the author of which analyzed 18 new features of ECMAScript, including those that are already in the ES2016 and ES2017 standards, and also those that should appear in the ES2018 standard.  The author of this article promises that everyone who reads it will learn a lot of interesting and useful things about new features of JavaScript. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/353174/"><img src="https://habrastorage.org/webt/m8/55/gb/m855gbdmzocg6axivr2rnuhietu.png"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">ECMAScript 2016</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/13c/855/1cd/13c8551cd817dbe3486dd8fcce579d53.png"></div><br><h3>  <font color="#3AC1EF">‚ñç1.</font>  <font color="#3AC1EF">Array.prototype.includes ()</font> </h3><br>  The <code>includes</code> method is a simple method of objects of the <code>Array</code> type, which allows you to find out if there is a certain element in the array (it, unlike <code>indexOf</code> , is also suitable for working with <code>NaN</code> values). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/17f/eec/8de/17feec8de60cbc320da3e2198824669a.png"></div><br>  <i><font color="#999999">ECMAScript 2016 (ES7) - an example of using Array.prototype.includes ()</font></i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It is interesting that at first they wanted to call this method <code>contains</code> , but it turned out that this name was already used in Mootools, as a result, it was decided to use the name <code>includes</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç2.</font>  <font color="#3AC1EF">Infix exponentiation operator</font> </h3><br>  Mathematical operations, such as addition and subtraction, are implemented in JavaScript using infix operators, such as, respectively, ‚Äú <code>+</code> ‚Äù and ‚Äú <code>-</code> ‚Äù.  There is also an infix operator that has found wide application in programming, which is used for exponentiation.  Such an operator, looking like " <code>**</code> ", was introduced in ECMAScript 2016, it can serve as a replacement for <code>Math.pow()</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/931/0db/837/9310db8372650dbd08a5de26d94feaa1.png"></div><br>  <i><font color="#999999">ECMAScript 2016 (ES7) - use infix exponentiation operator</font></i> <br><br><h2>  <font color="#3AC1EF">ECMAScript 2017</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d45/8e9/a93/d458e9a93c6bd2b745291aa59de01337.png"></div><br><h3>  <font color="#3AC1EF">‚ñç1.</font>  <font color="#3AC1EF">Object.values ‚Äã‚Äã()</font> </h3><br>  The <code>Object.values()</code> method is a new function that is similar to <code>Object.keys()</code> , but returns all the values ‚Äã‚Äãof the object's own properties, excluding any values ‚Äã‚Äãin the prototype chain. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ba/fc7/d03/5bafc7d03b0059cadffa216bab2ecc23.png"></div><br>  <i><font color="#999999">ECMAScript 2017 (ES8) - using Object.values ‚Äã‚Äã()</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç2.</font>  <font color="#3AC1EF">Object.entries ()</font> </h3><br>  The <code>Object.entries()</code> method is similar to the <code>Object.keys()</code> method, but instead of returning only the keys, it returns both keys and values ‚Äã‚Äãas an array.  This simplifies the execution of operations involving the use of objects in cycles, or operations to convert ordinary objects into objects of type <code>Map</code> . <br><br>  Here is the first example of using this method. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e11/32d/0bf/e1132d0bf540920a78caf8523fcec5ef.png"></div><br>  <i><font color="#999999">ECMAScript 2017 (ES8) - using Object.entries () in loops</font></i> <br><br>  Here is a second example. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bf3/051/f3b/bf3051f3b31a90da567f6c56150a7e87.png"></div><br>  <i><font color="#999999">ECMAScript 2017 (ES8) - using Object.entries () to convert an object of type Object to an object of type Map</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç3.</font>  <font color="#3AC1EF">Addition of lines to the set length</font> </h3><br>  Objects of type <code>String</code> now have two new methods: <code>String.prototype.padStart()</code> and <code>String.prototype.padEnd()</code> .  They allow you to attach to the lines, at their beginning or end, a number of characters to supplement the lines to a given length. <br><br><pre> <code class="hljs pgsql"><span class="hljs-string"><span class="hljs-string">'someString'</span></span>.padStart(numberOfCharcters [,stringForPadding]); <span class="hljs-string"><span class="hljs-string">'5'</span></span>.padStart(<span class="hljs-number"><span class="hljs-number">10</span></span>) // <span class="hljs-string"><span class="hljs-string">'          5'</span></span> <span class="hljs-string"><span class="hljs-string">'5'</span></span>.padStart(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'=*'</span></span>) //<span class="hljs-string"><span class="hljs-string">'=*=*=*=*=5'</span></span> <span class="hljs-string"><span class="hljs-string">'5'</span></span>.padEnd(<span class="hljs-number"><span class="hljs-number">10</span></span>) // <span class="hljs-string"><span class="hljs-string">'5         '</span></span> <span class="hljs-string"><span class="hljs-string">'5'</span></span>.padEnd(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'=*'</span></span>) //<span class="hljs-string"><span class="hljs-string">'5=*=*=*=*='</span></span></code> </pre> <br>  This is convenient if you want to align the text, for example, when outputting to the console. <br><br><h4>  3.1 Example of working with padStart () </h4><br>  In the following example, we have a list of numbers of different lengths.  We want to add to the beginning of these numbers "0", and, thus, to make all of them consisting of 10 digits.  It is necessary to accurately display them on the screen.  In order to solve this problem, we can use the <code>padStart(10, '0')</code> command. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c1e/01e/acc/c1e01eacc220a387313ae3b43747d129.png"></div><br>  <i><font color="#999999">ECMAScript 2017 - an example of using padStart ()</font></i> <br><br><h4>  3.2 An example of working with padEnd () </h4><br>  The <code>padEnd()</code> method is very useful when displaying a set of lines of different lengths that need to be aligned along the right edge of the page. <br><br>  The following example shows how to use the <code>padEnd()</code> , <code>padStart()</code> , and <code>Object.entries()</code> to form strings that look good when displayed on the screen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/839/b40/ff2/839b40ff2cbf19c0feb815c74a9f96c5.png"></div><br>  <i><font color="#999999">ECMAScript 2017 - an example of using padEnd (), padStart () and Object.Entries ()</font></i> <br><br><h4>  3.3.  Using padStart () and padEnd () with emoticons and other double-byte characters </h4><br>  Emoticons and other two-byte characters are represented in Unicode encoding with sequences of several bytes.  Therefore, the <code>padStart()</code> and <code>padEnd()</code> methods do not work with them as expected. <br><br>  For example, suppose we want to make the length of the <code>heart</code> string equal to 10 characters by adding an emoticon <code>Ô∏è</code> to it.  The result, with the usual approach, will look like this: <br><br><pre> <code class="hljs pgsql">//   ,   <span class="hljs-number"><span class="hljs-number">5</span></span>    <span class="hljs-number"><span class="hljs-number">2</span></span> ,   ,  ,   ,   <span class="hljs-string"><span class="hljs-string">'heart'</span></span>.padStart(<span class="hljs-number"><span class="hljs-number">10</span></span>, "Ô∏è"); //    <span class="hljs-string"><span class="hljs-string">'Ô∏èÔ∏èheart'</span></span></code> </pre> <br>  The problem here is that the heart with which we want to add a string is represented by the two-byte code <code>'\u2764\uFE0F'</code> .  The word <code>heart</code> has a length of 5 characters and to supplement this line to length 10 we have only 5 free places.  As a result, JS adds two emoticons to the string, using the code <code>'\u2764\uFE0F'</code> , which occupies four free spaces, which gives two heart icons.  The last free space is filled with the first byte, the symbol with the code <code>'\u2764'</code> , which just gives the heart that looks different from the rest. <br><br>  <a href="https://encoder.internetwache.org/">Here</a> , by the way, is a page that can be used to work with Unicode characters. <br><br><h3>  <font color="#3AC1EF">‚ñç4.</font>  <font color="#3AC1EF">Object.getOwnPropertyDescriptors ()</font> </h3><br>  This method returns all information (including information about getters and setters) for all properties of a given object.  The main reason for adding this method is to allow small copies of objects to be created and to clone objects, creating new objects, while copying, among other things, getters and setters.  The <code>Object.assign()</code> method does not know how.  It allows you to make small copies of objects, but does not work with their getters and setters. <br><br>  The following examples show the difference between <code>Object.assign()</code> and <code>Object.getOwnPropertyDescriptors()</code> , and also demonstrate how to use <code>Object.defineProperties()</code> to copy the original <code>car</code> object to a new object, <code>ElectricCar</code> .  Here you can see that through the use of <code>Object.getOwnPropertyDescriptors()</code> , the <code>discount</code> function, which plays the role of both the getter and the setter, is also copied to the target object. <br><br>  So, until <code>Object.getOwnPropertyDescriptors()</code> copying objects looked like this.  Here you can see that when copying an object, data about getters and setters is lost. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aaa/734/454/aaa734454c7b8f07dc51369f2f8a5f29.png"></div><br>  <i><font color="#999999">Copying objects using Object.assign ()</font></i> <br><br>  Here's what the execution of the same operation looks like, but already using <code>Object.getOwnPropertyDescriptors()</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/620/932/073/620932073c05b89ec156acad55ee999b.png"></div><br>  <i><font color="#999999">ECMAScript 2017 (ES8) - using Object.getOwnPropertyDescriptors ()</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç5.</font>  <font color="#3AC1EF">Trailing commas in function parameters</font> </h3><br>  This is a small update that allows you to put a comma after the last parameter of the function.  Why do you need it?  For example, in order to help when working with tools like <code>git blame</code> , eliminating developers who make changes to the code from having to change (without much need in this case) the lines written by those who worked on this code before. <br><br>  The following example shows the problem of editing the code and its solution using a comma, which is located behind the last parameter of the function. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/87d/e49/1d6/87de491d6c558c064a48b85141453aee.png"></div><br>  <i><font color="#999999">ECMAScript 2017 (ES8) - a comma, set after the last parameter of the function, facilitates code editing</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç6.</font>  <font color="#3AC1EF">Async / Await design</font> </h3><br>  I would call this innovation the most important and the most useful.  Asynchronous functions allow you to get rid of the so-called ‚Äúhell callbacks‚Äù and improve the appearance and readability of the code. <br>  The <code>async</code> tells the JavaScript interpreter that the function declared with this keyword needs to be perceived in a special way.  The system pauses, reaching the <code>await</code> keyword in this function.  She considers that the expression after <code>await</code> returns a promise and waits for permission or rejection of this promise before continuing. <br><br>  In the following example, the <code>getAmount()</code> function calls two asynchronous functions, <code>getUser()</code> and <code>getBankBalance()</code> .  This can be done in promise, but using the async / await construction makes it easier and more elegant to solve this problem. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c91/5a2/db5/c915a2db5a2be32440a11889b93570d9.png"></div><br>  <i><font color="#999999">ECMAScript 2017 (ES 8) - a simple example of using the Async / Await construction</font></i> <br><br><h4>  6.1.  Asynchronous Functions and Promise Returns </h4><br>  If you expect a result from a function declared using the <code>async</code> , you will need to use the expression promis <code>.then()</code> to get this result. <br><br>  In the following example, we want to output the result to the console using the <code>console.log()</code> command, but this needs to be done outside the <code>doubleAndAdd()</code> function.  Therefore, we need to wait using <code>.then()</code> to transfer the result to <code>console.log()</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/029/08b/ec0/02908bec04d241e8d297ed822cdd8e1c.png"></div><br>  <i><font color="#999999">ECMAScript 2017 (ES 8) - demonstration of return promise with the async / await construct</font></i> <br><br><h4>  6.2.  Parallel function calls using async / await </h4><br>  In the previous example, we use the <code>await</code> keyword twice, each time waiting for the operation to complete for one second (total waiting time is 2 seconds).  Instead, we can parallelize the execution of tasks, since <code>a</code> and <code>b</code> are independent of each other.  This can be done using the <code>Promise.all()</code> construct. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/120/a4c/f19/120a4cf19613a1f7bf835822f90d8b35.png"></div><br>  <i><font color="#999999">ECMAScript 2017 (ES 8) - using Promise.all for parallel execution of await commands</font></i> <br><br><h4>  6.3.  Error handling when using async / await construction </h4><br>  There are various ways to handle errors when using the async / await construction. <br><br>  <b>Option 1:</b> use try / catch inside a function <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/136/b36/c06/136b36c06ab421603c42022bdbf11ee3.png"></div><br>  <i><font color="#999999">ECMAScript 2017 - use try / catch inside async / await construction</font></i> <br><br>  <b>Option 2:</b> use catch in each await expression <br><br>  Since each <code>await</code> expression returns a promise, you can catch errors in each such expression. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bad/b7d/b1e/badb7db1e6053681150fc6bcee50008b.png"></div><br>  <i><font color="#999999">ECMAScript 2017 - Use the catch construct with each await expression</font></i> <br><br>  <b>Option 3:</b> use the catch construct for the entire async / await function <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/009/a59/fd5/009a59fd56058ddb6db11d678a59fc2f.png"></div><br>  <i><font color="#999999">ECMAScript 2017 - interception of errors in the entire asynchronous function</font></i> <br><br><h2>  <font color="#3AC1EF">ECMAScript 2018</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b5c/904/c5a/b5c904c5adb4eb3a0cc44e7d95667c49.png"></div><br><br>  ECMAScript 2018 is now at the stage of final draft, the standard is expected in June-July 2018.  All features discussed below are at Stage-4 and will become part of ECMAScript 2018. <br><br><h3>  <font color="#3AC1EF">‚ñç1.</font>  <font color="#3AC1EF">Shared memory and atomic operations</font> </h3><br>  <a href="https://github.com/tc39/ecmascript_sharedmem">Shared memory</a> and atomic operations are a terrific, highly advanced feature affecting the core of JS engines. <br><br>  The main idea of ‚Äã‚Äãthis feature is to allow JS-developers to write high-performance parallel applications, to give them the ability to manage memory independently, without giving all the aspects of this task to the JS engine. <br><br>  This is implemented using a global object of a new type called <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer">SharedArrayBuffer</a> .  Its main task is to store data in a shared memory space.  As a result, such data can be shared between the main JS stream and web worker threads. <br><br>  Until now, if we needed to organize data exchange between the main thread and the web worker, we had to create copies of the data and send them using the <code>postMessage()</code> function.  Now everything will not be the same as before. <br><br>  By using <code>SharedArrayBuffer</code> different streams can access data almost instantly.  However, sharing memory from different streams can cause a race condition.  In order to avoid this state, a global <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics">Atomics</a> object is provided.  It provides various methods for blocking shared memory for the duration of operations with it from a particular thread.  It also provides methods for safely updating data in shared memory. <br><br>  Usually this feature is not recommended to be used directly, saying that it would be better to use libraries built on the basis of the <code>SharedArrayBuffer</code> .  However, such libraries have not yet been written. <br><br>  If you are interested in this topic - <a href="http://lucasfcosta.com/2017/04/30/JavaScript-From-Workers-to-Shared-Memory.html">here</a> , <a href="https://hacks.mozilla.org/category/code-cartoons/a-cartoon-intro-to-sharedarraybuffers/">here</a> and <a href="http://2ality.com/2017/01/shared-array-buffer.html">here</a> - some useful materials. <br><br><h3>  <font color="#3AC1EF">‚ñç2.</font>  <font color="#3AC1EF">Eliminate the limitations of tagged pattern strings</font> </h3><br>  To begin with, let's look at the concept of ‚Äútagged template string‚Äù (or ‚Äútagged template‚Äù) in order to better understand this new feature. <br><br>  In ES2015 + there is a feature called a tagged template that allows developers to customize string interpolation.  For example, with the standard approach, it looks like this. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f19/984/03c/f1998403ceeaacc70edf6f11c9eb2b54.png"></div><br>  <i><font color="#999999">Standard use of patterned strings</font></i> <br><br>  When using tagged templates, you can write a function that takes, as parameters, an invariable part of a string literal, for example, <code>[ 'Hello ', '!' ]</code>  <code>[ 'Hello ', '!' ]</code> and substitution variables, for example, <code>[ 'Raja']</code> .  For example, let it be a <code>greet</code> function.  Such a function can return what the developer needs. <br><br>  The following example shows how our own tag expression, a function, appends a greeting to a string based on the time of day (for example, ‚ÄúGood Morning!‚Äù Or ‚ÄúGood afternoon‚Äù) and returns the finished string. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae3/93f/50f/ae393f50f6455e3b2573ff97c3f892d3.png"></div><br>  <i><font color="#999999">An example of a tagged expression, a function that demonstrates custom string addition</font></i> <br><br>  After learning about tagged template strings, many people seek to use this feature in various fields, for example, to work with commands in a terminal or when creating a URL to execute HTTP requests.  However, there is one important limitation to consider.  It lies in the fact that ES2015 and ES2016 allow you to use only control sequences like <code>"\u" (unicode)</code> , <code>"\x"(hexadecimal)</code> , which form something that is understandable to the system, for example, <code>`\u00A9`</code> or <code>\u{2F804}</code> or <code>\xA9</code> . <br><br>  Therefore, if there is a tagged function, inside which rules from another area are used (for example, when working with a terminal), where you may need to use something like <code>\ubla123abla</code> that does not look like a correct code from the system‚Äôs point of view, an error message will appear. <br><br>  In ES2018, restrictions are relaxed.  Now you can use constructions that look like wrong control sequences, returning values ‚Äã‚Äãin the object, one property of which (‚Äúcooked‚Äù in our example) contains <code>undefined</code> , and the second (‚Äúraw‚Äù) contains what we need. <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myTagFunc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">"cooked"</span></span>: <span class="hljs-string"><span class="hljs-string">"undefined"</span></span>, <span class="hljs-string"><span class="hljs-string">"raw"</span></span>: str.raw[<span class="hljs-number"><span class="hljs-number">0</span></span>] } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = myTagFunc <span class="hljs-string"><span class="hljs-string">`hi \ubla123abla`</span></span>; <span class="hljs-comment"><span class="hljs-comment">// myTagFunc str // { cooked: "undefined", raw: "hi \\ubla123abla" }</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç3.</font>  <font color="#3AC1EF">DotAll regular expression flag</font> </h3><br>  Now, when using regular expressions, although it is believed that the dot character matches any single character, it does not match newline characters like <code>\n</code> <code>\r</code> <code>\f</code> and so on. <br><br>  For example, before this innovation, everything looked like this: <br><br><pre> <code class="hljs bash">/first.second/.<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>(<span class="hljs-string"><span class="hljs-string">'first\nsecond'</span></span>); //<span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> <br>  With this improvement, the dot now matches absolutely any character.  In order for the old regular expressions to continue to work as before, when creating regular expressions that follow the new rules, you need to use the <code>\s</code> flag. <br><br><pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/ECMAScript 2018 /first</span></span>.second/s.test(<span class="hljs-string"><span class="hljs-string">'first\nsecond'</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//true</span></span> -    /s</code> </pre> <br>  Here is the API of this <a href="https://github.com/tc39/proposal-regexp-dotall-flag">proposal</a> from the documentation. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/05a/991/de5/05a991de562adf06631e765ed21f766e.png"></div><br>  <i><font color="#999999">ECMAScript 2018 - now, thanks to the / s flag, you can make the dot in regular expressions match absolutely all characters, including \ n</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç4.</font>  <font color="#3AC1EF">Capturing Named Groups in Regular Expressions</font> </h3><br>  This enhancement is a useful regular expression feature that exists in other languages ‚Äã‚Äãlike Python and Java.  These are named groups.  This feature allows developers to write regular expressions with assignment of names (identifiers) in the format <code>(?&lt;name&gt;...)</code> for groups.  This name makes it easier to work with groups. <br><br><h4>  4.1.  Basic example of working with named groups </h4><br>  In the following example, we use the names <code>(?&lt;year&gt;)</code> , <code>(?&lt;month&gt;)</code> and <code>(?day)</code> to group the different parts of the date we work with using a regular expression.  The final object in this approach will contain the <code>groups</code> property, which will have the <code>year</code> , <code>month</code> and <code>day</code> properties with the corresponding values. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b51/7e1/a7c/b517e1a7c9f71a084979d5d889358d5a.png"></div><br>  <i><font color="#999999">ECMAScript 2018 - an example of working with named groups</font></i> <br><br><h4>  4.2.  Using named groups inside a regular expression </h4><br>  We can use constructions of the form <code>\k&lt;group name&gt;</code> to refer to groups within the regular expression itself.  This technique is demonstrated in the following example. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3c2/2c2/a67/3c22c2a674e0053413f2576b79ad79d3.png"></div><br>  <i><font color="#999999">ECMAScript 2018 - using named groups within a regular expression using the \ k &lt;group name&gt; construct</font></i> <br><br><h4>  4.3.  Using Named Groups in String.prototype.replace () </h4><br>  Now the ability to use named groups is built into the <code>replace()</code> string method.  This allows, for example, to organize a permutation of words in lines.  For example, here's how to change the string <code>"firstName, lastName"</code> to <code>"lastName, firstName"</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/634/ad6/74a/634ad674aa4fe22358a442b8b9d130fc.png"></div><br>  <i><font color="#999999">ECMAScript 2018 - using named regular expression groups in the string replace () method</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç5.</font>  <font color="#3AC1EF">Working with object properties using the rest operator</font> </h3><br>  The rest operator, which looks like three points, allows you to retrieve the properties of an object that have not yet been extracted from it. <br><br><h4>  5.1.  Retrieving from the object only the necessary properties </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/667/de5/550/667de555051c8aaf87fc6e6d3318e6d0.png"></div><br>  <i><font color="#999999">ECMAScript 2018 - Destructuring an Object Using the Rest Operator</font></i> <br><br><h4>  5.2.  Remove unwanted properties of objects </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6a/e0a/231/e6ae0a231ee1123b8cd4441a399678c8.png"></div><br>  <i><font color="#999999">ECMAScript 2018 - removing unnecessary properties of objects</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç6.</font>  <font color="#3AC1EF">Working with properties of objects using the spread operator</font> </h3><br>  The spread operator also looks like three points.  The difference between it and the rest operator is that it is used to create new objects. <br><br>  The spread operator is used on the right side of an expression with an assignment sign.  The rest operator is used on the left side of the expression. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9bc/958/ba4/9bc958ba401b65bb48fbff8e69ea82f5.png"></div><br>  <i><font color="#999999">ECMAScript 2018 - creating an object using the rest operator</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç7.</font>  <font color="#3AC1EF">Retrospective check in regular expressions</font> </h3><br>  A retrospective check in regular expressions allows you to find out if a certain string exists immediately before some other string. <br><br>  Now, in order to make a positive retrospective test, you can use a group of the form <code>(?&lt;=‚Ä¶)</code> (question mark, less sign and equal sign). <br><br>  Further, you can use a group of the form <code>(?&gt;!‚Ä¶)</code> (question mark, less sign, exclamation mark) to perform a negative retrospective check.  The search with this approach is continued only if there is no expression in brackets to the left of the current position in the text. <br><br>  Consider an example of a positive retrospective test.  Suppose we need to check whether the <code>#</code> character is <code>#</code> front of the word <code>winning</code> (that is, we are interested in the construction of the form <code>#winning</code> ), while we need the regular expression to return only the string "winning".  Here is how you can achieve this. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/419/21e/6aa/41921e6aadd6a6a718412be4ee30fbc9.png"></div><br>  <i><font color="#999999">ECMAScript 2018 - using the construct (? &lt;= ...) for positive retrospective verification</font></i> <br><br>  Consider an example of negative retrospective verification.  Suppose we need to extract from the string the numbers preceded by the <code>‚Ç¨</code> sign, but not the <code>$</code> sign.  Here's how to do it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b30/61a/896/b3061a8969f07e1ea4d5e725df8b61ce.png"></div><br>  <i><font color="#999999">EMAScript 2018 - using the construct (? &lt;! ...) for negative retrospective verification</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç8.</font>  <font color="#3AC1EF">Using Unicode escape sequences in regular expressions</font> </h3><br>  Previously, writing regular expressions to analyze Unicode characters was not easy.  Constructions of the form <code>\w</code> , <code>\W</code> , <code>\d</code> helped only in working with Latin characters and numbers.  And what about the characters of other languages, like Hindi or Greek? <br><br>  It is in such situations that the <a href="https://github.com/tc39/proposal-regexp-unicode-property-escapes">use of</a> Unicode escape sequences in regular expressions will be useful.  Unicode is known to have metadata for each character; this metadata is used to group or describe the characteristics of different characters. <br><br>    Unicode     ( ‚Äî ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä, , ,  )   <code>Script</code>   <code>Devanagari</code> ,     ,    <code>Script_Extensions</code> ,    .        <code>Script=Devanagari</code>     . <br><br> Unicode- <a href="https://en.wikipedia.org/wiki/Devanagari_%2528Unicode_block%2529">Devanagari</a>      , ,  , ,   . <br><br>   ECMAScript 2018     <code>\p{Script=Devanagari}</code>       .        . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e64/9e8/ad6/e649e8ad69ec69fc33dfea099649fb2a.png"></div><br> <i><font color="#999999">ECMAScript 2018 ‚Äî      Unicode-  </font></i> <br><br>  ,       <code>Script_Extensions</code> ( <code>Script</code> )   <code>Greek</code> .            <code>Script_Extensions=Greek</code>  <code>Script=Greek</code> . <br><br>      <code>\p{Script=Greek}</code>   . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/be1/55d/c2f/be155dc2f0b0cdad3d66fee623230cc0.png"></div><br> <i><font color="#999999">ECMAScript 2018 ‚Äî       </font></i> <br><br> ,   Unicode       <code>Emoji</code> , <code>Emoji_Component</code> , <code>Emoji_Presentation</code> , <code>Emoji_Modifier</code> ,  <code>Emoji_Modifier_Base</code>   <code>true</code> .     ,    <code>Emoji</code> . <br><br>  ,      <code>\p{Emoji}</code>  <code>\p{Emoji_Modifier}</code>     .   . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a5/a98/f8f/4a5a98f8f343a2387e9e8a4ad0f7b911.png"></div><br> <i><font color="#999999">ECMAScript 2018 ‚Äî   </font></i> <br><br> , ,     ,    P ( <code>\P</code> )   p ( <code>\p</code> )      . <br><br><h3> <font color="#3AC1EF">‚ñç9. Promise.prototype.finally()</font> </h3><br>  <code>finally()</code> ‚Äî     <code>Promise</code> .       ,        <code>resolve()</code>  <code>reject()</code>  ,    , ,   ,   .  <code>finally()</code>   - ,     . <br><br>     . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a0/3d0/a6e/0a03d0a6e483adbd0eabb26a14e72789.png"></div><br> <i><font color="#999999">ECMAScript 2018 ‚Äî  finally()    resolve()</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d16/c6d/ef5/d16c6def53efb28c9224973443c7c4d4.png"></div><br> <i><font color="#999999">ECMAScript 2018 ‚Äî  finally()    reject()</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bc0/d59/216/bc0d5921692596de5e7ec20f32074752.png"></div><br> <i><font color="#999999">ECMAScript 2018 ‚Äî  finally()   </font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36f/0d9/892/36f0d9892836841deabe2b82614a4693.png"></div><br> <i><font color="#999999">ECMAScript 2018 ‚Äî  finally()      catch()</font></i> <br><br><h3> <font color="#3AC1EF">‚ñç10.  </font> </h3><br>  ‚Äî    .      ,    . <br><br>          <code>for-await-of</code> ,     ,   (  ,  )  .    ,           . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/34d/5e2/d23/34d5e2d23151e19d0df4dc1272ff2d28.png"></div><br> <i><font color="#999999">ECMAScript 2018 ‚Äî    for-await-of</font></i> <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>       ES2016, ES2017  ES2018,         . ,   ,            JavaScript     . <br><br> <b> !</b>   ES2016, ES2017  ES2018    ? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/353174/">https://habr.com/ru/post/353174/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353164/index.html">Where does a quality strategy begin and why is it needed in product management?</a></li>
<li><a href="../353166/index.html">And we will have a real cosmonaut! On Imagine Cup 2018</a></li>
<li><a href="../353168/index.html">Store data in the cloud</a></li>
<li><a href="../353170/index.html">The book "Clean Architecture. The art of software development</a></li>
<li><a href="../353172/index.html">Three microservice stories, or MSA for Enterprise</a></li>
<li><a href="../353176/index.html">Fintech Digest: Rockefellers and Soros are invested in cryptocurrencies, the Central Bank is looking for the dissatisfied in social networks, Bitcoin is getting cheaper</a></li>
<li><a href="../353182/index.html">Features of using real x86 architecture registers</a></li>
<li><a href="../353184/index.html">[Peter] JUG.ru meeting with Dmitry Alexandrov - Java on GPU</a></li>
<li><a href="../353186/index.html">Creating a terminal system in UE4</a></li>
<li><a href="../353190/index.html">Video recordings of speeches on gamedev in the Lecture Hall of the Tower</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>