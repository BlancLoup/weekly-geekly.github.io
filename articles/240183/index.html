<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Small Hello World for a small microcontroller - at 24 bytes (and someone else's decision at 12 bytes)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The classic test program for most programmers on systems with at least some display is Hello World. This tradition was introduced by Kernigan and Ritc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Small Hello World for a small microcontroller - at 24 bytes (and someone else's decision at 12 bytes)</h1><div class="post__text post__text-html js-mediator-article">  The classic test program for most programmers on systems with at least some display is Hello World.  This tradition was introduced by Kernigan and Ritchie in <a href="https://ru.wikipedia.org/wiki/%25D0%25AF%25D0%25B7%25D1%258B%25D0%25BA_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F_%25D0%25A1%25D0%25B8_%2528%25D0%25BA%25D0%25BD%25D0%25B8%25D0%25B3%25D0%25B0%2529">1978.</a> <br><br>  For microcontrollers, a similar example has long been a program that flashes an LED.  In this article, I will show the result of an experiment to minimize such a program using the example of the Atmel ATTiny15 controller. <br><br><img src="http://habrastorage.org/files/699/e19/f3f/699e19f3fdef4fdbbaafd71d7a695a1a.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      UPD: In the comments resulted in a <a href="http://embedderslife.wordpress.com/2014/10/14/12-byte-blinking/">link to a record solution of 12 bytes</a> .  Bravo! <br>  UPD2: Through violence against the controller, managed to win another 2 bytes. <br>  UPD3: And <a href="http://habrahabr.ru/post/240517/">another solution</a> , with even more violence against the controller. <br>  UPD4: <a href="http://habrahabr.ru/post/240689/">Another option</a> is in one instruction (but the entire program memory is executed), as in variants 2 and 3. <br>  UPD5: <a href="https://habrahabr.ru/post/313786/">Option using the ability to issue a clock generator to one of the pins of the controller using the FUSE bit</a> <br><br><a name="habracut"></a><br><h4>  About controller </h4><br>  The controller features are small.  Clock frequency - 1.6 MHz from the internal generator.  There are only five free outputs that can be used without giving up the possibility of a hardware reset and flashing on SPI.  There are two timers and ADC.  Memory - 64 bytes EEPROM.  There is no RAM, only 32 general-purpose registers and a stack whose depth cannot be more than three.  AVR-GCC refuses to work with such a controller - offers to use the assembler. <br><br><img src="https://habrastorage.org/files/e6f/b47/070/e6fb47070cfb44c48bbd8d0a7e20526f.png" alt="image"><br><br><h4>  Tools </h4><br>  The operating system is Open Suse Linux 13.1.  Development environment - AVR Studio 4.12, <a href="http://easyelectronics.ru/avr-studio-v-linux.html">runs under Wine.</a>  Programmer - USBASP running AVRDUDE.  The programmer is directly connected to the controller, giving it power during the firmware and during the experiments. <br><br><h3>  Problem - the programmer keeps RESET </h3><br>  The controller reset signal is inverted - high level means normal operation, low - reset.  The RESET signal of almost all AVRs is connected through the first leg of the controller.  In addition to the ability to reset the controller, this signal plays a decisive role in the process of in-circuit programming, so it starts up the programmer.  By reconfiguring the FUSE bits, it is possible to turn this controller output into a general-purpose output ‚Äî the controller will no longer be reset by a signal from it, but it will not be programmed without a so-called high-voltage programmer. <br><br>  USBASP keeps a low level on this pin all the time, preventing the controller from working while the programmer is connected.  For ease of debugging, you need to either programmatically (by understanding the USBASP API), or by hardware to be able to pick up the RESET controller.  I chose the hardware option in the form of a switch, as the most easily achievable. <br><br><img src="https://habrastorage.org/files/757/cae/299/757cae2999794dba8ad06c4cb5b091b6.png" alt="image"><br><br><h3>  Blink LED </h3><br>  Even such a simple thing, as the issuance of rectangular pulses on a particular leg of the controller when working with an assembler turns into a fascinating search for the optimal solution.  The undoubted advantage is that the programmer does not depend on the whims of the operating system and the compiler, so he can control the equipment as he sees fit. <br><br>  The banal implementation of the delay consists in organizing a cycle of empty instructions in which the controller will rotate between the pin switchings.  This is a classic delay_ms, so beloved by arduinschiki.  There are two minuses here at least: a short minus - the controller will not be able to put to sleep, a long one - the controller will not be able to perform other tasks.  Indeed, any interruption will lead to the fact that the number of ticks carefully calculated for the delay will not provide it any more: the time spent by the controller in the handler will be added to the delay time.  You can, of course, provide a correction in the handler, and then a correction correction (if there is a branch with branches of different lengths in the handler) - you end up with a very complicated code, which is rather difficult to prove about the correctness of it. <br><br>  That is why any delays should be implemented on timers.  The ATTiny15 controller has two such timers.  Both timers can read up to 255, and then issue an interrupt request.  The clock source for the timers can be an external signal or a divider of the internal clock generator.  The divider allows you to get fractional frequencies from the clock - F / 1, F / 8, F / 64, F / 256, F / 1024.  By default, the controller operates at 1.6 MHz, if we use the divider by 1024, we get the timer increment frequency 1562.5 Hz.  Since the interrupt timer will be issued for every 256th increment, we will get an additional division by 256 and a total frequency of about 6 Hz.  It is quite acceptable for flashing LED. <br><br><h4>  The first version of the firmware - according to all the good rules </h4><br>  At the beginning of the firmware, all AVRs should have transition instructions to interrupt handlers.  This is very similar to the x86 state of affairs, but they do not store instructions at the beginning of memory, but addresses of handlers. <br><br>  ATTiny15 should have nine such instructions.  The first handler, for example, is the reset handler, in fact, the entry point to the firmware. <br><br><pre><code class="hljs pgsql">rjmp <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span> reti reti reti reti rjmp timer0 reti reti reti</code> </pre> <br><br>  In place of the missing handlers, there are return-from-interrupt instructions.  But they will never be called - the corresponding interruption is prohibited.  That is, these four pieces of <code>reti</code> after <code>rjmp reset</code> are needed only for <code>rjmp timer0</code> be in its place. <br><br>  The job of the program is to configure a predivider for a timer, <br><pre> <code class="hljs objectivec"> ldi r31,(<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;cs00 ) | (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;cs02) <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> tccr0,r31</code> </pre><br><br>  enable interrupt timer <br><pre> <code class="hljs objectivec">ldi r31,<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;toie0 <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> timsk,r31</code> </pre><br><br>  enable interrupt handling by the processor <br><pre> <code class="hljs">sei</code> </pre><br><br>  switching the pin 7 of the controller to the push-pull mode, <br><pre> <code class="hljs objectivec">ldi r31,<span class="hljs-number"><span class="hljs-number">0</span></span>b100 <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> ddrb,r31</code> </pre><br><br>  and hang in an infinite loop <br><pre> <code class="hljs"> lp: rjmp lp</code> </pre><br><br>  Interrupt processing consists of inverting the register and outputting this value to the controller's foot. <br><pre> <code class="hljs objectivec">timer0: com r31 <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> portb,r31 reti</code> </pre><br><br>  After the assembly, we received 40 bytes of machine code: <br><br><img src="http://habrastorage.org/files/38f/9a1/197/38f9a11970fb4fb98d10a1a96fb1f1e8.png" alt="image"><br><br><h3>  We reduce the program </h3><br>  The idea lies on the surface - since only reset and timer work from interrupts, the controller will never be on other cells of the interrupt table - we will borrow these cells with code: <br><br><pre> <code class="hljs ruby">.<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">"tn15def.inc"</span></span> /<span class="hljs-regexp"><span class="hljs-regexp">/       4  ldi r31,(1&lt;&lt;cs00 ) | (1&lt;&lt;cs02) out tccr0,r31 ldi r31,1&lt;&lt;toie0 out timsk,r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/        rjmp reset rjmp timer0 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  () reset: /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   sei /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    ,       /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       B ldi r31,0b100 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   B,  2 (  0)   push-pull /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/,  51 out ddrb,r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  lp: rjmp lp /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     0,     6 timer0: com r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  r31 out portb,r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    -   ,   reti /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  </span></span></code> </pre><br><br><img src="http://habrastorage.org/files/c29/f4f/e43/c29f4fe4311540f68c8e638640ccb782.png" alt="image"><br><br>  Got 26 bytes, can we? <br><br><h5>  We can! </h5><br>  Let's place the interrupt handler from the timer immediately in its place, getting rid of the transition and saving as much as two bytes: <br><br><pre> <code class="hljs pgsql">ldi r31,(<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;cs00 ) | (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;cs02) <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> tccr0,r31 ldi r31,<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;toie0 sbr timsk,toie0 //      <span class="hljs-number"><span class="hljs-number">0</span></span> rjmp <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span> //     <span class="hljs-number"><span class="hljs-number">0</span></span>,     <span class="hljs-number"><span class="hljs-number">6</span></span> com r31 //  r31 <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> portb,r31 //    -   ,   reti //   //  () <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: //   sei //    ,       //       B ldi r31,<span class="hljs-number"><span class="hljs-number">0</span></span>b100 //   B,  <span class="hljs-number"><span class="hljs-number">2</span></span> (  <span class="hljs-number"><span class="hljs-number">0</span></span>)   push-pull //,  <span class="hljs-number"><span class="hljs-number">51</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> ddrb,r31 //  lp: rjmp lp</code> </pre><br><br>  After the assembly, 24 bytes were obtained: <br><br><img src="http://habrastorage.org/files/699/e19/f3f/699e19f3fdef4fdbbaafd71d7a695a1a.png" alt="image"><br><br><h4>  Save a little energy at the cost of just six bytes. </h4><br>  Since the controller doesn‚Äôt do anything except handling the interrupt, it is worthwhile to put down the processor core, leaving the timer running.  This is done by the <code>SLEEP</code> instruction, which is controlled by the flags SE, SM1, SM0 of the MCUCR register.  The controller has several sleep modes, ranging from the deepest Power Down, in which the controller can wake up only the watchdog timer, reset or change the output state, and ending with the wait at which the core is stopped, but the timers, ADC and some other periphery work.  This is the mode that suits us, it is set if only the SE flag is on. <br><br>  It is important to remember that after waking up and handling an interrupt, the controller will try to execute the instruction following the SLEEP, which means that sleep should be looped: <br><br><pre> <code class="hljs ruby">.<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">"tn15def.inc"</span></span> /<span class="hljs-regexp"><span class="hljs-regexp">/  0 -    /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ -   1.6     1024 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    1024  /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     TCCR0   CS00  CS02 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/,  27,  9 ldi r31,(1&lt;&lt;cs00 ) | (1&lt;&lt;cs02) out tccr0,r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      0 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     TIMSK  TOIE0 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/,  20 ldi r31,1&lt;&lt;toie0 out timsk,r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      0 rjmp reset /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     0,     6 com r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  r31 out portb,r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    -   ,   reti /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  () reset: /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  MCUCR       ldi r31,(1&lt;&lt;SE) out mcucr,r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   sei /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    ,       /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       B ldi r31,0b100 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   B,  2 (  0)   push-pull /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/,  51 out ddrb,r31 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   lp: sleep rjmp lp</span></span></code> </pre><br><br><img src="http://habrastorage.org/files/9b5/1c9/0ad/9b51c90ad36244dca1395938d4491855.png" alt="image"><br><br>  Programming in assembler is the most time-consuming way to get programs optimized in size and speed of execution.  The most interesting task here is the development of such a compiler and a HLL, which would produce an optimized code (by some criterion) and proof that it is impossible to get the best code on this device. <br><br>  In the next article - a USART &lt;-&gt; 1wire converter based on the same controller. <br><br><h4>  Interesting to read </h4><br>  <a href="https://github.com/BG4444/ledSplash">Githaba project</a> ; <br>  <a href="http://www.inr.ac.ru/~info21/pdf/dijkstra.pdf">Edsger Dijkstra.</a>  <a href="http://www.inr.ac.ru/~info21/pdf/dijkstra.pdf">Selected articles</a> ; <br>  <a href="http://www.atmel.com/Images/doc1187.pdf">Datasheet on the controller</a> ; <br>  <a href="http://www.easyelectronics.ru/">Electronics for everyone</a> . <br><br>  UPD: In the comments resulted in a <a href="http://embedderslife.wordpress.com/2014/10/14/12-byte-blinking/">link to a record solution of 12 bytes</a> . <br>  In short, the idea is to use a watchdog timer and the fact that RON is not reset when resetting. <br><pre> <code class="hljs pgsql">LDI R16,(<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;WDE) | (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;WDP2) | (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;WDP1) <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> WDTCR,R16 <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> DDRB,R16 COM R17 <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> PORTB,R17 L: RJMP L</code> </pre><br><br>  Here you can of course cling to the fact that the frequency is not the same and the pulses go to three other outputs, but in size this is an undoubted record.  Congratulations! <br><br>  In conjunction with putting a controller to sleep, the watchdog timer is a powerful tool for realizing energy savings.  And with it you can use the deepest sleep - Power Down.  At the cost of an additional four bytes, we save a couple of microwatts: <br><br><pre> <code class="hljs pgsql"> LDI R16,(<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;WDE) | (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;WDP2) | (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;WDP1) <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> WDTCR,R16 ldi r16,(<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;SM1) | (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;SE) <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> mcucr,r16 <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> DDRB,R16 COM R17 <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> PORTB,R17 SLEEP</code> </pre><br><br>  And yes, you can do quite a bit of a swig - remove the final loop from the record, getting a solution of <b>10 bytes.</b> <br><br>  UPD: In the comments resulted in a <a href="http://embedderslife.wordpress.com/2014/10/14/12-byte-blinking/">link to a record solution of 12 bytes</a> .  Bravo! <br>  UPD2: Through violence against the controller, managed to win another 2 bytes. <br>  UPD3: And <a href="http://habrahabr.ru/post/240517/">another solution</a> , with even more violence against the controller. <br>  UPD4: <a href="http://habrahabr.ru/post/240689/">Another option</a> is in one instruction (but the entire program memory is executed), as in variants 2 and 3. </div><p>Source: <a href="https://habr.com/ru/post/240183/">https://habr.com/ru/post/240183/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240165/index.html">Introduction of modern DECT communication</a></li>
<li><a href="../240169/index.html">How I patch Zabbix</a></li>
<li><a href="../240177/index.html">Ten trends that change modern data centers</a></li>
<li><a href="../240179/index.html">We invite you to the seminar "Practice of choosing solutions to protect against zero-day threats and targeted attacks"</a></li>
<li><a href="../240181/index.html">Yandex post office: how we made a service analyzing the results of mailings in realtime</a></li>
<li><a href="../240185/index.html">Empowering Tween Animations in NGUI</a></li>
<li><a href="../240187/index.html">Official Symfony Best Practices Guide</a></li>
<li><a href="../240193/index.html">Where to find an incentive, or how we went to the Microsoft hackathon</a></li>
<li><a href="../240195/index.html">Geek competition: how we did it (part 1)</a></li>
<li><a href="../240197/index.html">How to speed up the container: we tune OpenVZ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>