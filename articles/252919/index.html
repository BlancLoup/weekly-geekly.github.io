<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Connect to Intel Edison via Android with Bluetooth LE (BLE)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Today let's talk about BLE, a low-power Bluetooth technology that has found application in both commercial and purely amateur products due t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Connect to Intel Edison via Android with Bluetooth LE (BLE)</h1><div class="post__text post__text-html js-mediator-article">  <b>Hi, Habr!</b>  Today let's talk about BLE, a low-power Bluetooth technology that has found application in both commercial and purely amateur products due to its low cost and equally low appetite for battery resources.  These factors make BLE an excellent choice for connecting a smartphone or tablet running Android with projects based on Intel development boards - Edison or Galileo. <br><br><img src="https://habrastorage.org/files/375/720/baa/375720baaef744dfb4dccf4c4d388653.jpg"><br><br>  The task of the article proposed below is to show how to write code for connecting hardware using the BLE protocol using the example of the Intel Edison platform and an Android device with Bluetooth version 4.0.  It uses only free software and inexpensive ‚Äúiron‚Äù components that are ready to go. <br><a name="habracut"></a><br>  Let's start, as expected, with the theory. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <font color="#0071c5">What is BLE?</font> </h2><br>  We get acquainted: technology BLE, it is Bluetooth LE;  full name - <b>Bluetooth Low Energy</b> (or Bluetooth Smart).  A wireless personal area network technology developed and distributed by the <b>Bluetooth Special Interest Group</b> ( <a href="https://www.bluetooth.org/">Bluetooth SIG</a> ).  The purpose of Bluetooth LE is to use in the fields of health and home entertainment, in sports and physical education, in cars. <br><br>  Bluetooth LE was first introduced in 2006 by Nokia, codenamed <b>Wibree</b> .  And in the Bluetooth standard, it appeared in 2010 in the Bluetooth 4.0 version. <br><br>  BLE allows devices to be content with significantly less energy than standard Bluetooth connections.  At the same time, it provides most of the usual functionality at a distance of approximately half as much as usual - about 15 meters.  Bluetooth LE devices can work for years without the need to change or recharge the battery.  Beacons, like <a href="http://www.estimote.com/">Estimote devices</a> , are already able to work on batteries up to 3 (three!) Years. <br><br><h2>  <font color="#0071c5">Iron</font> </h2><br>  The main character of the publication will be Intel Edison, although many things are applicable to Intel Galileo.  In our IoT project, we will use the physical sensors and controls of the Groed system from Seeed Studio.  Namely: <br><br><ul><li>  Intel Galileo Board with Arduino; </li><li>  Starter Kit Seeed Grove (Starter Kit Plus) for Intel IoT Edition for Galileo (second generation); </li><li>  Seeed Grove BLE; </li><li>  Android device with OS version 4.3 or higher (I used a Lenovo TAB S8-50 tablet); </li><li>  Computer with Windows 7 or 8 (I used the Dell XPS 12). </li></ul><br>  A few nuances of iron: <br><br><ol><li>  Although the Grove entry-level kit (Starter Kit) is designed for the Intel Galileo platform, it works quite well with Edison.  You can, of course, purchase Grove components separately, however, using a ready-made kit is a more economical way. </li><li>  The project used my Lenovo tablet on Android, however, any other device with Bluetooth 4.0 support, running under this OS version 4.3 or higher, should be suitable. </li><li>  Writing code for Intel Edison, an Android device (and writing this article) happened on a Dell XPS12 laptop.  Development on a Mac or Linux system is also possible. </li></ol><br><h2>  <font color="#0071c5">Soft</font> </h2><br>  I used several free programs - to play this example, you also have to put them: <br><br><ul><li>  <a href="https://communities.intel.com/docs/DOC-22226">Arduino IDE for Intel Galileo</a> </li><li>  <a href="https://developer.android.com/sdk/installing/studio.html">Android Studio</a> </li><li>  <a href="https://developer.android.com/sdk/index.html%3Fhl%3Di">Android SDK</a> </li></ul><br>  All the above software is available for Windows and Linux, but in the article we will understand the example of Windows. <br><br><h2>  <font color="#0071c5">Get acquainted closer with iron</font> </h2><br><h3>  <font color="#0071c5">Intel Edison</font> </h3><br>  Intel Edison is the first offer in a series of low-cost multipurpose computer platforms.  This platform is designed for simple and quick prototyping of IoT projects, while ensuring the creation of production products for the commercialization of the project. <br><br>  The ‚Äúheart‚Äù of the Intel Edison board is the Intel‚Äôs 22nm system-on-chip, which includes a dual-core Atom processor running at 500 MHz.  The tiny form factor of this SoC includes 40-pin GPIO interfaces, 1 GB of LPDDR3 class RAM, 4 GB on an eMMC drive, and a dual-function Wi-Fi + Bluetooth module.  Fills the platform with a full-fledged Linux kernel, and to squeeze all the juices (incorporated in Edison), you will need to write a low-level code for it. <br><br>  But Linux on Edison also contains the ability to run Linux programs on the Arduino facilities.  Simply put, this means the possibility of writing familiar Arduino-sketches and launching them on Edison.  This is what we are going to do. <br><br>  Learn more about the Edison system at <a href="http://www.intel.com/content/www/us/en/do-it-yourself/edison.html">the Intel site</a> . <br><br><h3>  <font color="#0071c5">¬ªArduino board</font> </h3><br>  The Arduino for Intel Galileo is designed for two purposes.  First, it is a larger prototyping platform ‚Äî with easy access to I / O interfaces.  And secondly, we have a computing platform that is fully compatible with Arduino.  In practice, this means that we can use standard Arduino expansion boards on Intel Edison (or on Intel Galileo). <br><br><img src="https://habrastorage.org/files/288/cf8/683/288cf8683a34498dad363b1eeb38b0b2.jpg"><br>  <i><font color="#999">Intel Edison installed in Arduino board</font></i> <br><br><h3>  <font color="#0071c5">¬ªGrove Starter Kit Plus</font> </h3><br>  The full name of this kit is ‚ÄúGrove Starter Kit Plus - Intel IoT Edition for Intel Galileo Gen 2 Developer Kit‚Äù.  Initially, the set was intended for the second generation Intel Galileo board - fortunately, the Arduino board is fully compatible with Intel Edison. <br><br>  The kit is designed to simplify prototyping and working with sensors, mechanisms and modules-shields.  Included is an Arduino-compatible module on standard 4-pin interfaces.  Interfaces are powered by I / O ports using the included cables.  Connecting cables to the sensors is thought out very conveniently: you can deal with the projects themselves, and not understand all these small wiring, constantly correct something, worry about the polarity of the connection, etc.  More information about the kit (and its purchase) is on <a href="http://www.seeedstudio.com/depot/Grove-starter-kit-plus-Intel-IoT-Edition-for-Intel-Galileo-Gen-2-p-1978.html">Seeed Studio</a> . <br><br>  By the way, the creator of the set of Grove, the company Seeed Studios, offers a collection of useful online resources.  I especially recommend exploring or downloading materials from the <a href="">Sketchbook for Beginners</a> series (English), and at least adding to your favorites the <a href="http://www.seeedstudio.com/wiki/index.php%3Ftitle%3DMain_Page">Grove Wiki</a> . <br><br><img src="https://habrastorage.org/files/46f/8ff/505/46f8ff505d18483da9772a0bdf1f235d.jpg"><br>  <i><font color="#999">Developer Kit "Grove Starter Kit Plus - Intel IoT Edition for Intel Galileo Gen 2"</font></i> <br><br><h3>  <font color="#0071c5">"Grove BLE (V1)</font> </h3><br>  We will use the Grove Bluetooth Low Energy v1 module, which is not included in the entry-level package, but the pin-to-pin option is compatible with the Grove module and connecting wires.  It is also a relatively inexpensive BLE module - at the time of this writing, I still could not find anything cheaper. <br><br>  The basis of the Grove BLE v1 shild is the standard for devices of this class, the <a href="http://www.ti.com/lit/ds/symlink/cc2540.pdf">CC2540</a> chip from Texas Instruments, the same microchip is used in some other products.  Therefore, if there is another BLE-module based on TI CC2540 on hand, the code sample can be adapted to it, moreover, with minimal effort. <br><br>  I note that the Intel Edison board already has a built-in wireless module that supports Wi-Fi and Bluetooth 4.0 / BLE, however, the Grove-BLE module at times simplifies both hardware and software settings.  Using the Grove module also means that the project is easily adaptable for the Intel Galileo platform. <br><br><img src="https://habrastorage.org/files/6d6/79e/e5f/6d679ee5f9bb469cb2dadc4736ace3ed.jpg"><br>  <i><font color="#999">Module Grove BLE V1</font></i> <br><br>  More information about the module Grove BLE v1 on <a href="http://www.seeedstudio.com/wiki/index.php%3Ftitle%3DGrove_BLE_v1%26uselang%3Den">the manufacturer's website</a> . <br><br><h2>  <font color="#0071c5">Debugging on Android devices</font> </h2><br>  BLE support in Android appeared from version 4.3 (API level 18).  Accordingly, to work with BLE, the Android version on the device must be at least 4.3.  Learn more about Android BLE <a href="https://developer.android.com/guide/topics/connectivity/bluetooth-le.html">here</a> . <br><br>  If you are taking the first steps in mastering Android development, then on a tablet / phone you first need to activate developer functions - they allow you to run and debug the code.  Activation of the developer mode is as follows: open the settings, scroll through the menu to the bottom, find the item ‚ÄúAbout device‚Äù and click on the version number of the build 7 (seven) times.  Now the inclusion of developer mode (Developer Options) is displayed in the bottom of the settings;  Do not forget to tick the ‚ÄúUSB debugging‚Äù checkbox.  Learn more about developer mode <a href="http://developer.android.com/tools/device.html">here</a> . <br><br><h2>  <font color="#0071c5">Installing software.</font>  <font color="#0071c5">Getting ready to code!</font> </h2><br><h3>  <font color="#0071c5">¬ªArduino IDE for Intel Galileo</font> </h3><br>  To deploy sketches to Intel Edison or Galileo, we will need to download a specially prepared version of the Arduino IDE.  At the time of this writing, the current version is 1.5.3, and the source is <a href="https://communities.intel.com/docs/DOC-22226">here</a> . <br><br><h3>  <font color="#0071c5">Intel Edison Drivers</font> </h3><br>  The link above also contains the drivers for Intel Edison: they also need to be downloaded and installed.  They are located at the bottom of the page, in the category ‚ÄúSoftware and drivers‚Äù - ‚ÄúDriver Software‚Äù.  Or here's a <a href="https://software.intel.com/en-us/articles/getting-started-with-the-intel-edison-board-on-windows">direct link</a> (at the time of writing, the driver version was 1.0.0) <br><br>  If you have additional questions, I highly recommend the ‚ÄúExcellent <a href="https://software.intel.com/en-us/iot/getting-started">Started Guide</a> ‚Äù written in excellent English. <br><br><h3>  <font color="#0071c5">Android Studio</font> </h3><br>  Android Studio is a new Java IDE for development on Android.  This package is based on <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> .  At the moment, the package has the status of a beta version, but it works quite stably, and the functionality is fully provided.  If you are confidently working on Andorid-development in the Eclipse environment for Java (or IntellliJ IDEA), then while working in Android Studio there should not be any particular difficulties or problems - it is enough to look at key points in the training materials. <br><br>  Thanks to the inclusion of the Android SDK for developers in Android Studio, the installation procedure is greatly simplified.  It comes down to downloading, unpacking the contents of the zip file and running the studio.exe installer from the Bin folder. <br><br>  About Android Studio is written more <a href="https://developer.android.com/sdk/installing/studio.html">here</a> . <br><br><h3>  <font color="#0071c5">Android SDK</font> </h3><br>  You may also need to download additional SDKs.  The most convenient way to do this is using the ‚ÄúSDK Manager‚Äù button on the Android Studio interface toolbar.  Configuring and configuring the Android SDK is a topic for a separate article, so we will not dwell on this.  Detailed information on additional SDRs is selected on <a href="https://developer.android.com/sdk/installing/adding-packages.html">this page</a> . <br><br>  If SDK-packages for Android are already installed in the system, the Android Studio platform allows you to specify the correct path to their location in the file system.  To access this menu in Android Studio, click on <i>Configure -&gt; Project Defaults -&gt; Project Structure</i> .  In the window that appears, you can register the path to the folder with the SDK. <br><br><img src="https://habrastorage.org/files/073/b89/c0c/073b89c0c8b9453c8076145408d9901a.png"><br>  <i><font color="#999">Specify the path to the SDK in Android Studio</font></i> <br><br><h2>  <font color="#0071c5">Testing Intel Edison</font> </h2><br>  Before starting to get acquainted with the capabilities of the board (below), I strongly recommend to make sure that the platform is able to correctly launch the Blink sketch sample.  The sketch is included in the Arduino IDE downloadable add-on;  Its location: <i>examples -&gt; 01.Basics -&gt; Blink (folder)</i> . <br><br>  Edison developers have prepared a <a href="https://communities.intel.com/community/makers/edison/getting-started">decent guidebook</a> for beginners. <br><br><h2>  <font color="#0071c5">Unfading Hello World for Android Verification Classics</font> </h2><br>  After installing Android Studio, make sure that the program allows you to create new projects and run them on your Android device. <br><br><ol><li>  We connect the Android device to the computer; </li><li>  Open Android Studio; </li><li>  Choose "New project ..."; </li><li>  Specify the name and path, 3 times click "Next" (API 15 / Blank Activity); </li><li>  Click "Finish" and wait until the project is created (the process can take seconds to 20+); </li><li>  We press the green Play icon in the toolbar; </li><li>  Choose our device and click "OK". </li></ol><br>  If everything was done correctly, then ‚ÄúHello world!‚Äù Will appear on the screen of the device: <br><br><img src="https://habrastorage.org/files/f70/9f9/fee/f709f9fee42d44878aa444f661fec82f.png"><br>  <i><font color="#999">Hello World Android Studio App</font></i> <br><br><h2>  <font color="#0071c5">How does BLE work?</font> </h2><br>  The principle of operation of BLE is already described in its title: Low Energy.  The protocol involves the transfer of data in short packets as needed, then - turning off the transmitter.  Low power consumption is partly achieved by applying precisely this principle.  Instead of the classic tandem in conventional Bluetooth, BLE devices communicate with each other only when they need to send or receive information. <br><br>  The BLE protocol is strictly structured according to the principle of its communication with other devices.  First, devices learn available services for sending / receiving data;  An integral part of these services is their characteristics (characteristics), which determine the type of data for future transmission.  Characteristics, for reasons of clarity, may have descriptors that help determine the type of data.  For example, let‚Äôs analyze a service called ‚ÄúHeart Rate Monitor‚Äù (heart rate monitor) - among its characteristics there are such as ‚Äúpulse measurement‚Äù. <br><br>  Most of the Bluetooth LE APIs allow you to search for local devices and determine the services, features and descriptors available in them. <br><br><h2>  <font color="#0071c5">Key terms and concepts for the BLE protocol</font> </h2><br>  I bring to your attention a brief overview of the key terms of the BLE protocol and its concepts.  Before starting work on the BLE project, you need to understand each of them. <br><br><h3>  <font color="#0071c5">¬ªGeneral Attribute Profile (GATT)</font> </h3><br>  The General Attribute Protocol (GATT) profile is a mandatory profile with general specifications for sending and receiving short portions of data known in Bluetooth Low Link called ‚Äúattributes‚Äù.  All current LE application profiles are based on GATT.  The Institute for Standardization and Protocol Development - Bluetooth Special Interest Group has already set several profiles for BLE devices.  These profiles are specifications that describe how to use and interact with devices. <br><br><h3>  <font color="#0071c5">¬ªAttribute Protocol (ATT)</font> </h3><br>  Attribute Protocol (ATT) is based on GATT.  ATT is an optimized protocol created exclusively for BLE devices.  The principle of ATT is to send as few bytes as possible.  Each attribute has a unique universal identifier, a <abbr title="Universally Unique Identifier">UUID</abbr> .  It is a standardized 128-bit string ID used to identify unique information.  The format of the attributes transmitted as ATT is of two types: characteristics and services: <br><br><h3>  <font color="#0071c5">¬ªCharacteristic</font> </h3><br>  The characteristic contains a unique parameter, as well as descriptors.  The number of descriptors can be zero, that is, it is not an obligatory part of the characteristic.  Descriptors describe the value of the characteristic. <br><br><h3>  <font color="#0071c5">¬ªDescriptors</font> </h3><br>  Descriptors are specific attributes that describe the value of a characteristic.  Descriptors can be in the form of clear descriptions in a completely human language, define units of measurement, and also set a number of acceptable values. <br><br><h3>  <font color="#0071c5">¬ªService (Service)</font> </h3><br>  Service is a set of characteristics.  A list of existing GATT-based profiles can be viewed <a href="https://developer.bluetooth.org/gatt/services/Pages/ServicesHome.aspx">here</a> . <br><br><h2>  <font color="#0071c5">Sending data from Android to Intel Edison</font> </h2><br><h3>  <font color="#0071c5">¬ªWhat we need</font> </h3><br>  The rest of this article assumes that the reader has a development system that is configured for both Intel Edison and Android.  I recommend to look at the list of the following stages of preliminary preparation, and if necessary, return to the previous parts of the article. <br><br><ul><li>  Installed IDE for Intel Arduino; </li><li>  Installed drivers for Intel Edison; </li><li>  Installed Android Studio package; </li><li>  Installed Android SDK; </li><li>  Ability to deploy and run Blink demo on Intel Edison; </li><li>  The ability to deploy and run an empty project ‚ÄúHello world‚Äù on Android. </li></ul><br><br><h2>  <font color="#0071c5">BLE on Android</font> </h2><br>  The finished project can be pulled from <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Android/BLEConnect">GitHub</a> , however, I recommend creating your own project by entering the code line by line, based on the link above. <br><br><h3>  <font color="#0071c5">¬ªCreate a new project</font> </h3><br>  Open Android Studio (or another IDE of your choice), create a new empty Android application and call it <b>BLEConnect</b> .  Make sure that the minimum level of the SDK is set to no less than on API 18: otherwise, using the BLE API will not work. <br><br><img src="https://habrastorage.org/files/366/d08/509/366d085095da477ea145948b6110b546.png"><br>  <i><font color="#999">Create a new Android application</font></i> <br><br>  Then add to the open file <b>AndroidManifest.xml</b> above the tag <pre> <code class="hljs 1c"><code>  : <br> <br> &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.BLUETOOTH"</span></span>/&gt; &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.BLUETOOTH_ADMIN"</span></span>/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    :    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,     ID <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  TextView. <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-type"><span class="hljs-type"></span></span> <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id <span class="hljs-keyword"><span class="hljs-keyword"></span></span> TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-built_in"><span class="hljs-built_in"></span></span> ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .        <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = <span class="hljs-string"><span class="hljs-string">"0000ffe1-0000-1000-8000-00805f9b34fb"</span></span> CHARACTERISTIC_RX = <span class="hljs-string"><span class="hljs-string">"0000ffe1-0000-1000-8000-00805f9b34fb"</span></span></code> <br> <font color="#0071c5">¬ª  Status helper</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>     TextView,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .      -   <code>statusUpdate</code> ‚Äì    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ,   .       UI,       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     () <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Bluetooth  ,   BLE   .   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>         .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .      ,    .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       .     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> /.   TI CC2540   Grove BLE     ID ¬´<span class="hljs-number"><span class="hljs-number">0000</span></span>ffe0-<span class="hljs-number"><span class="hljs-number">0000</span></span>-<span class="hljs-number"><span class="hljs-number">1000</span></span>-<span class="hljs-number"><span class="hljs-number">8000</span></span>-<span class="hljs-number"><span class="hljs-number">00805</span></span>f9b34fb¬ª.       . <br> <br>    .      (<span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>setValue</code>   .       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>         ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino   <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     Grove BLE  <span class="hljs-number"><span class="hljs-number">9600</span></span> ,    .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    .    AT-  Grove BLE <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª <span class="hljs-keyword"><span class="hljs-keyword"></span></span></font> <br>     ‚Äì              . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     <code>read()</code>   ,    <span class="hljs-built_in"><span class="hljs-built_in"></span></span>,   <code>print()</code>    . <br> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Edison   ,  <span class="hljs-number"><span class="hljs-number">9600</span></span>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ‚Äì       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª. <span class="hljs-keyword"><span class="hljs-keyword"></span></span> - <span class="hljs-keyword"><span class="hljs-keyword"></span></span> , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   <span class="hljs-number"><span class="hljs-number">5</span></span>,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>           <span class="hljs-keyword"><span class="hljs-keyword"></span></span> Android,   .        Android BLE  ,     UI     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br>   !</code> </pre> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> ¬ª  UI <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> ¬ª MainActivity <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <ol><li> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> </li> <li> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> </li> <li> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> </li> <li> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> </li> <li> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> </li> <li> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> </li> </ol> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h2> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br>  Class Level    <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h2> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <pre> <code class="hljs 1c"><code>  : <br> <br> &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.BLUETOOTH"</span></span>/&gt; &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.BLUETOOTH_ADMIN"</span></span>/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    :    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,     ID <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  TextView. <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-type"><span class="hljs-type"></span></span> <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id <span class="hljs-keyword"><span class="hljs-keyword"></span></span> TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-built_in"><span class="hljs-built_in"></span></span> ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .        <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = <span class="hljs-string"><span class="hljs-string">"0000ffe1-0000-1000-8000-00805f9b34fb"</span></span> CHARACTERISTIC_RX = <span class="hljs-string"><span class="hljs-string">"0000ffe1-0000-1000-8000-00805f9b34fb"</span></span></code> <br> <font color="#0071c5">¬ª  Status helper</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>     TextView,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .      -   <code>statusUpdate</code> ‚Äì    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ,   .       UI,       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     () <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Bluetooth  ,   BLE   .   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>         .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .      ,    .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       .     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> /.   TI CC2540   Grove BLE     ID ¬´<span class="hljs-number"><span class="hljs-number">0000</span></span>ffe0-<span class="hljs-number"><span class="hljs-number">0000</span></span>-<span class="hljs-number"><span class="hljs-number">1000</span></span>-<span class="hljs-number"><span class="hljs-number">8000</span></span>-<span class="hljs-number"><span class="hljs-number">00805</span></span>f9b34fb¬ª.       . <br> <br>    .      (<span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>setValue</code>   .       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>         ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino   <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     Grove BLE  <span class="hljs-number"><span class="hljs-number">9600</span></span> ,    .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    .    AT-  Grove BLE <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª <span class="hljs-keyword"><span class="hljs-keyword"></span></span></font> <br>     ‚Äì              . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     <code>read()</code>   ,    <span class="hljs-built_in"><span class="hljs-built_in"></span></span>,   <code>print()</code>    . <br> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Edison   ,  <span class="hljs-number"><span class="hljs-number">9600</span></span>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ‚Äì       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª. <span class="hljs-keyword"><span class="hljs-keyword"></span></span> - <span class="hljs-keyword"><span class="hljs-keyword"></span></span> , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   <span class="hljs-number"><span class="hljs-number">5</span></span>,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>           <span class="hljs-keyword"><span class="hljs-keyword"></span></span> Android,   .        Android BLE  ,     UI     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br>   !</code> </pre> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> ¬ª  Status helper <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> ¬ª   BLE- <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> ¬ª  BLE-  <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <pre> <code class="hljs 1c"><code>  : <br> <br> &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.BLUETOOTH"</span></span>/&gt; &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.BLUETOOTH_ADMIN"</span></span>/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    :    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,     ID <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  TextView. <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-type"><span class="hljs-type"></span></span> <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id <span class="hljs-keyword"><span class="hljs-keyword"></span></span> TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-built_in"><span class="hljs-built_in"></span></span> ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .        <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = <span class="hljs-string"><span class="hljs-string">"0000ffe1-0000-1000-8000-00805f9b34fb"</span></span> CHARACTERISTIC_RX = <span class="hljs-string"><span class="hljs-string">"0000ffe1-0000-1000-8000-00805f9b34fb"</span></span></code> <br> <font color="#0071c5">¬ª  Status helper</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>     TextView,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .      -   <code>statusUpdate</code> ‚Äì    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ,   .       UI,       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     () <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Bluetooth  ,   BLE   .   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>         .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .      ,    .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       .     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> /.   TI CC2540   Grove BLE     ID ¬´<span class="hljs-number"><span class="hljs-number">0000</span></span>ffe0-<span class="hljs-number"><span class="hljs-number">0000</span></span>-<span class="hljs-number"><span class="hljs-number">1000</span></span>-<span class="hljs-number"><span class="hljs-number">8000</span></span>-<span class="hljs-number"><span class="hljs-number">00805</span></span>f9b34fb¬ª.       . <br> <br>    .      (<span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>setValue</code>   .       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>         ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino   <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     Grove BLE  <span class="hljs-number"><span class="hljs-number">9600</span></span> ,    .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    .    AT-  Grove BLE <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª <span class="hljs-keyword"><span class="hljs-keyword"></span></span></font> <br>     ‚Äì              . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     <code>read()</code>   ,    <span class="hljs-built_in"><span class="hljs-built_in"></span></span>,   <code>print()</code>    . <br> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Edison   ,  <span class="hljs-number"><span class="hljs-number">9600</span></span>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ‚Äì       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª. <span class="hljs-keyword"><span class="hljs-keyword"></span></span> - <span class="hljs-keyword"><span class="hljs-keyword"></span></span> , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   <span class="hljs-number"><span class="hljs-number">5</span></span>,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>           <span class="hljs-keyword"><span class="hljs-keyword"></span></span> Android,   .        Android BLE  ,     UI     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br>   !</code> </pre> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> ¬ª    <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <pre> <code class="hljs 1c"><code>  : <br> <br> &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.BLUETOOTH"</span></span>/&gt; &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.BLUETOOTH_ADMIN"</span></span>/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    :    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ,     ID <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  TextView. <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-type"><span class="hljs-type"></span></span> <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id <span class="hljs-keyword"><span class="hljs-keyword"></span></span> TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-built_in"><span class="hljs-built_in"></span></span> ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .        <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = <span class="hljs-string"><span class="hljs-string">"0000ffe1-0000-1000-8000-00805f9b34fb"</span></span> CHARACTERISTIC_RX = <span class="hljs-string"><span class="hljs-string">"0000ffe1-0000-1000-8000-00805f9b34fb"</span></span></code> <br> <font color="#0071c5">¬ª  Status helper</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>     TextView,     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .      -   <code>statusUpdate</code> ‚Äì    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       ,   .       UI,       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     () <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Bluetooth  ,   BLE   .   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>         .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .      ,    .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       .     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> /.   TI CC2540   Grove BLE     ID ¬´<span class="hljs-number"><span class="hljs-number">0000</span></span>ffe0-<span class="hljs-number"><span class="hljs-number">0000</span></span>-<span class="hljs-number"><span class="hljs-number">1000</span></span>-<span class="hljs-number"><span class="hljs-number">8000</span></span>-<span class="hljs-number"><span class="hljs-number">00805</span></span>f9b34fb¬ª.       . <br> <br>    .      (<span class="hljs-keyword"><span class="hljs-keyword"></span></span>    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <code>setValue</code>   .       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>         ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino   <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     Grove BLE  <span class="hljs-number"><span class="hljs-number">9600</span></span> ,    .      <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    .    AT-  Grove BLE <span class="hljs-keyword"><span class="hljs-keyword"></span></span>       .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª <span class="hljs-keyword"><span class="hljs-keyword"></span></span></font> <br>     ‚Äì              . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     <code>read()</code>   ,    <span class="hljs-built_in"><span class="hljs-built_in"></span></span>,   <code>print()</code>    . <br> <br> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Edison   ,  <span class="hljs-number"><span class="hljs-number">9600</span></span>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).       <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ‚Äì       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª. <span class="hljs-keyword"><span class="hljs-keyword"></span></span> - <span class="hljs-keyword"><span class="hljs-keyword"></span></span> , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   <span class="hljs-number"><span class="hljs-number">5</span></span>,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>           <span class="hljs-keyword"><span class="hljs-keyword"></span></span> Android,   .        Android BLE  ,     UI     <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  . <br> <br>   !</code> </pre> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> ¬ª   <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h2> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br>  Intel Edison,  Grove   BLE <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h2> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h2> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br>    <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h2> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> ¬ª    <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h3> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> ¬ª  <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h3> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h2> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br>   <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h2> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> <h2> <code><font color="#0071c5"><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br>   <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</font></code> </h2> <code><code>  : <br> <br> &lt;uses-permission android:name="android.permission.BLUETOOTH"/&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/&gt;</code> <br> <font color="#0071c5">¬ª  UI</font> <br>     :     .   ,     ID   TextView.      <b>activity_main.xml</b>   layout,  TextView   id   <code>mainText</code> ‚Äì         . <br> <br> <img src="https://habrastorage.org/files/4b1/38e/6c1/4b138e6c12dd4db5967777d50f3f720f.png"> <br> <i><font color="#999"> id  TextView</font></i> <br> <br> <font color="#0071c5">¬ª MainActivity</font> <br>       MainActivity.    ,   ,  Android Studio        . -   : <br> ,    Android-  BLE;      BLE-;   Grove BLE    ;       ;       ;  ,     . <br>        ,     .      . <br> <br> <font color="#0071c5"> Class Level   </font> <br>     ,       BLE,      .          Grove BLE v1 ( TI CC2540 ‚Äì              )         ,  : <br> <br> <code>CHARACTERISTIC_TX = "0000ffe1-0000-1000-8000-00805f9b34fb" CHARACTERISTIC_RX = "0000ffe1-0000-1000-8000-00805f9b34fb"</code> <br> <font color="#0071c5">¬ª  Status helper</font> <br>         TextView,       .      -   <code>statusUpdate</code> ‚Äì           ,   .       UI,         . <br> <br> <font color="#0071c5">¬ª   BLE-</font> <br>      ()   Bluetooth  ,   BLE   .     Bluetooth (BluetoothManager)    <code>getSystemService</code> ,  ‚Äì  <code>getAdapter()</code> .   ‚Äì     <code>getDefaultAdapter</code>     Bluetooth Manager. <br> <br> <font color="#0071c5">¬ª  BLE- </font> <br>          .     Bluetooth-    <code>startLeScan</code> ,       . <br> <br> API   ,    ,  ,     <code>LeScanCallback</code>   .      ,    .             .             . <br> <br> <code>@Override public void onLeScan(final BluetoothDevice device, final int rssi, byte[] scanRecord) { ‚Ä¶ }</code> <br> <font color="#0071c5">¬ª   </font> <br>  BLE-        /.   TI CC2540   Grove BLE     ID ¬´0000ffe0-0000-1000-8000-00805f9b34fb¬ª.       . <br> <br>    .      (    ),   <code>BluetoothGattCallback</code> ,     <code>onConnectionStateChanged</code>  <code>onServicesDiscovered</code> . <br> <br>      <code>onConnectionStateChanged</code> ,     ,  <code>mBluetoothGatt.discoverServices()</code>   .          . <br> <br> <code>@Override public void onConnectionStateChange (BluetoothGatt gatt, int status, int newState) { ‚Ä¶ } @Override public void onServicesDiscovered (BluetoothGatt gatt, int status) { ‚Ä¶ }</code> <br>    ,   .      <a href="https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html"></a> . <br> <br> <font color="#0071c5">¬ª  </font> <br>  -   <code>sendMessage</code> .       UDID    <code>setValue</code>  . ,    BluetoothGatt    <code>writeCharacteristic</code> ,         . <br> <br>  <code>setValue</code>   .          ; ,    BLE-     ,    . <br> <br>    Intel Edison. <br> <br> <font color="#0071c5"> Intel Edison,  Grove   BLE</font> <br>     .          ,      Intel Edison    Arduino. <br> <br>    Grove,      ¬´¬ª       Arduino. ,   Grove BLE v1    UART. <br> <br> <img src="https://habrastorage.org/files/e15/3f3/6dc/e153f36dce264f59a6bb9ebe5d20e68a.jpg"> <br> <i><font color="#999">  Intel Edison    Grove Shield  BLE</font></i> <br> <br> <font color="#0071c5">  </font> <br>   ‚Äì       Android  Intel Edison.         ,         .    Serial Monitor,      (IDE) Arduino. <br> <br>       <a href="https://github.com/adrianstevens/Edison_to_Android_BLE/tree/master/Sketches/SimpleSerial">GitHub</a> . <br> <br>  IDE Intel Arduino    .     ¬´ <b>SimpleSerial</b> ¬ª.       Arduino ,  Intel Edison    .   ,      Edison,      Edison      Grove BLE.   UART      microUSB,      BLE    UART   Grove. <br> <br>        Intel Edison.     <code>setup()</code> ,     <code>loop()</code> .           . <br> <br> <font color="#0071c5">¬ª   </font> <br>      Grove BLE  9600 ,    .          .    AT-  Grove BLE        .       <code>setup()</code>  . <br> <br> ,     ¬´Serial¬ª ( microUSB- UART),   ‚Äì ¬´Serial1¬ª (UART,   Grove BLE). <br> <br> <font color="#0071c5">¬ª </font> <br>     ‚Äì              .      <code>read()</code>   ,    ,   <code>print()</code>    . <br> <br>   Edison   ,  9600    . <br> <br> <font color="#0071c5"> </font> <br>    Verify  IDE Arduino ( )    .    ,  Intel Edison       ( ).        ‚Äì         Android.  Serial Monitor  Arduino IDE (  ) ‚Äì      . <br> <br>   Android BLEConnect     Intel Edison.  Serial Monitor    ¬´Hello Grove BLE¬ª.  -  , ,  ,      Android.   ,   ,   . <br> <br>   GitHub  ,       Grove LCD. ,   Grove   5,   LCD-    I2C. <br> <br> <img src="https://habrastorage.org/files/5f9/6ca/7eb/5f96ca7eba3a4703b229a87147bd77c7.jpg"> <br> <i><font color="#999"> BLEConnect  </font></i> <br> <br> <img src="https://habrastorage.org/files/9fb/1cf/f9e/9fb1cff9e20144afa80eb7e8c3c97ba1.png"> <br> <i><font color="#999">Arduino IDE Serial Monitor  BLEConnect-</font></i> <br> <br> <font color="#0071c5"> </font> <br>            Android,   .        Android BLE  ,     UI         .         <a href="http://playground.arduino.cc/Code/Time">Arduino Time Library</a> ,          .        <a href="https://github.com/adrianstevens/Edison_to_Android_BLE"></a>  GitHub,     ‚Äì    . <br> <br>   !</code> </div><p>Source: <a href="https://habr.com/ru/post/252919/">https://habr.com/ru/post/252919/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252907/index.html">Looking for perfect monitoring</a></li>
<li><a href="../252909/index.html">Use Marionette.Region to create boot views</a></li>
<li><a href="../252911/index.html">Telegram attack for 2 ^ 64 operations, and why the supervillain doesn't need it</a></li>
<li><a href="../252915/index.html">Convenient monitoring of Syslog messages from network glands in Zabbix</a></li>
<li><a href="../252917/index.html">Mikrotik: configuring IPsec to automatically update the VPN server address</a></li>
<li><a href="../252921/index.html">How it works: the architecture of the tile backing of Sputnik maps</a></li>
<li><a href="../252923/index.html">In search of a solution: how to become Mr. Wolfe?</a></li>
<li><a href="../252925/index.html">Error in Delone condition test formula</a></li>
<li><a href="../252927/index.html">Device driver and what it eats</a></li>
<li><a href="../252929/index.html">Practical aspects of using DHCP relay + option82</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>