<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pebble My Data. ‚ÄúIf you want to do well, do it yourself!‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the main functions of a smart watch is displaying important information on the screen, it is the owner of the watch that is important, not the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pebble My Data. ‚ÄúIf you want to do well, do it yourself!‚Äù</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/932/391/7ce/9323917ce7a6ad1ae2b56f0a069e769e.png" align="right">  One of the main functions of a smart watch is displaying important information on the screen, it is the owner of the watch that is important, not the application developer.  For a very long time, I was looking for an application for <a href="https://getpebble.com/">Pebble</a> watches, which can be used to specify which information to show on the clock.  I wanted to see on the clock the status of my servers, data from the weather station, traffic jams in the city.  After a long search, I realized that what I am looking for does not exist and I have to do it myself.  This is how the application for <a href="https://apps.getpebble.com/applications/53b0607c94943f8e710001e2">Pebble My Data</a> smart watch appeared, which follows the link for JSON and shows the data on the watch screen.  Perhaps it can be useful not only for me.  You can find out about what a Pebble watch is in <a href="http://habrahabr.ru/post/174641/">this review</a> or in <a href="http://habrahabr.ru/company/madrobots/blog/227149/">this article</a> . <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Finding a solution</b> <div class="spoiler_text">  For the solution of my task for a long time, I used <a href="http://pebblecanvas.blogspot.ru/">Pebble Canvas</a> (the application allows you to very flexibly adjust the appearance of the clock screen) in conjunction with <a href="https://play.google.com/store/apps/details%3Fid%3Dnet.dinglisch.android.taskerm%26hl%3Dru">Tasker</a> .  Tasker on the phone took the text from my server and gave it to the Pebble Canvas for display on the clock.  It was a creepy construction that sometimes broke in rather unexpected places.  In addition, the Pebble Canvas still imposes a 40 character limit on the field value, which is clearly not enough to show all the necessary information in one field; you had to dodge and divide the information into different fields. <br><br>  Most recently, I discovered <a href="http://keanulee.com/pebblecards/">Pebble Cards</a> , in addition to the built-in services, the application can be set on an arbitrary URL where JSON is available with information to display on the clock.  In addition, it does not require a separate application on the phone (the so-called Companion App).  Thanks to the second version of the Pebble SDK, the telephone part, which actually handles the link for JSON, can be implemented in JavaScript and embedded in the official application of the <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.getpebble.android%26hl%3Dru">Pebble App</a> watch.  It seems that it is what I need, but after playing with the app for a couple of days I was disappointed, more than half of the clock screen is occupied (who would have thought) the clock with the date and for my information there is not much space that is displayed in a huge font.  This is probably useful, you do not need to peer to see the time and information, but I have a tolerable vision and therefore use so uneconomically precious screen space for me a real waste. <br><br>  Having eaten cacti, well-fed, dissatisfied, inspired by Pebble Cards, I once again remembered the sad rule ‚Äúif you want to do well, do it yourself‚Äù and wrote Pebble My Data. <br></div></div><br><h4>  application </h4><br>  <b>Caution: the</b> application does not contain any built-in services. To get something useful on the clock screen you need to have your own server / vps / hosting on which you have to program to send the JSON application with the necessary content. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The algorithm of the application is very simple: pick up JSON using the link specified in the settings, display the content and perform some additional actions if they are specified in JSON. <br><br><h5>  Key features </h5><br><ul><li>  Display on the clock screen text from JSON'a, obtained from the specified in the settings link </li><li>  Change the update interval </li><li>  Forced content update with buttons on the clock or shaking </li><li>  Adding GET parameters to the link depending on the button pressed on the clock (short and long clicks are different) </li><li>  Add current coordinates to the link (can be disabled) </li><li>  Enable vibration, backlight, change shift, change the behavior of the up / down buttons </li><li>  Server authentication (optional) </li><li>  Vibration in case of loss of communication with the phone (disconnectable) </li><li>  Display charge hours </li></ul><br>  Virtually all of this can be controlled from JSON. <br><br><h5>  JSON description </h5><br>  JSON example: <br> <code>{ "content": "Hello\nWorld!", "refresh": 300, "vibrate": 2, "font": 4, "theme": 0, "scroll": 1, "light": 1, "blink": 3, "updown": 1, "auth": "salt" }</code> <br> <table><tbody><tr><th>  Field </th><th>  Description (all fields are optional) </th></tr><tr><td>  <i>content</i> </td><td>  the text to be displayed on the clock screen is used to wrap the line using "\ n" </td></tr><tr><td>  <i>refresh</i> </td><td>  delay in seconds before the next update (update interval, default 300 seconds) </td></tr><tr><td>  <i>vibrate</i> </td><td>  rejoin for hours (1 - quickly, 2 - twice, 3 - long) </td></tr><tr><td>  <i>font</i> </td><td>  change the font (1 is the smallest ... 8 is the largest) </td></tr><tr><td>  <i>theme</i> </td><td>  change design (0 - dark, 1 - light) </td></tr><tr><td>  <i>scroll</i> </td><td>  0..100 - go to a specific point in the content (0 - start, 100 - end) </td></tr><tr><td>  <i>light</i> </td><td>  1 - turn on the clock light for a while </td></tr><tr><td>  <i>blink</i> </td><td>  blink content (number - the number of flashes) </td></tr><tr><td>  <i>updown</i> </td><td>  change the behavior of the up / down buttons (0 - scrolling content, 1 - use pin to update content) </td></tr><tr><td>  <i>auth</i> </td><td>  salt to generate authentication token </td></tr></tbody></table><br><h5>  Adding GET Parameters </h5><br>  If you enable the sending of GPS coordinates in the settings, then the <code>lat</code> and <code>lon</code> GET parameters will be added to the URL with each update.  It is possible, for example, on the server to calculate the time of sunrise / sunset in the place where the clock is now and to change the design depending on this. <br><br>  When you press the SELECT button on the clock, the application will follow JSON via the link with the GET parameter <code>select=1</code> with a short press and <code>select=2</code> with a long press.  If in the last update of JSON, the behavior of the up / down buttons has changed, then when you click on these buttons, the application will follow JSON with the parameters <code>up=1|2</code> or <code>down=1|2</code> .  Thanks to this feature, you can try to implement the server side menu.  If the update function is enabled by shaking the clock, the GET parameter <code>shake=1</code> will be added with this update. <br><br><h5>  Server authentication (optional) </h5><br>  For each request, the application sets the HTTP header <code><code>Pebble-Token: .       /,        - .      . <br> <br>   JSON'   ,        HTTP  Pebble-Auth: &lt;MD5(MD5(password)+salt)&gt; .        .            .      ,      .    ,   . <br> <br>  <br> <img src="https://habrastorage.org/getpro/habr/post_images/a2e/22a/ff0/a2e22aff09c583c0d7ddf8815a0cf6a6.png"> <img src="https://habrastorage.org/getpro/habr/post_images/3d9/98e/625/3d998e6255c81028852e54b96b229373.png"> <img src="https://habrastorage.org/getpro/habr/post_images/769/0b4/63a/7690b463a0b87f4a8aaf1feb50e2c76d.png"> <img src="https://habrastorage.org/getpro/habr/post_images/83c/6f0/a28/83c6f0a2828bdd19ce19df197ed17145.png"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9b4/0d0/005/9b40d000563e6391668bf260bc430234.png"></a> <br> <br>  <br> <a href="https://apps.getpebble.com/applications/53b0607c94943f8e710001e2">  Pebble App Store</a> <br> <a href="https://github.com/bahbka/pebble-my-data">    GitHub</a> <br> <a href="http://forums.getpebble.com/discussion/13590">  Pebble Forums</a> <br> <br>   ,  Pebble My Data      .</code></code> <code><code>Pebble-Token: .       /,        - .      . <br> <br>   JSON'   ,        HTTP  Pebble-Auth: &lt;MD5(MD5(password)+salt)&gt;</code> .        .            .      ,      .    ,   . <br> <br>  <br> <img src="https://habrastorage.org/getpro/habr/post_images/a2e/22a/ff0/a2e22aff09c583c0d7ddf8815a0cf6a6.png"> <img src="https://habrastorage.org/getpro/habr/post_images/3d9/98e/625/3d998e6255c81028852e54b96b229373.png"> <img src="https://habrastorage.org/getpro/habr/post_images/769/0b4/63a/7690b463a0b87f4a8aaf1feb50e2c76d.png"> <img src="https://habrastorage.org/getpro/habr/post_images/83c/6f0/a28/83c6f0a2828bdd19ce19df197ed17145.png"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9b4/0d0/005/9b40d000563e6391668bf260bc430234.png"></a> <br> <br>  <br> <a href="https://apps.getpebble.com/applications/53b0607c94943f8e710001e2">  Pebble App Store</a> <br> <a href="https://github.com/bahbka/pebble-my-data">    GitHub</a> <br> <a href="http://forums.getpebble.com/discussion/13590">  Pebble Forums</a> <br> <br>   ,  Pebble My Data      .</code> <h5> <code><code>Pebble-Token: .       /,        - .      . <br> <br>   JSON'   ,        HTTP  Pebble-Auth: &lt;MD5(MD5(password)+salt)&gt;</code> .        .            .      ,      .    ,   . <br> <br>  <br> <img src="https://habrastorage.org/getpro/habr/post_images/a2e/22a/ff0/a2e22aff09c583c0d7ddf8815a0cf6a6.png"> <img src="https://habrastorage.org/getpro/habr/post_images/3d9/98e/625/3d998e6255c81028852e54b96b229373.png"> <img src="https://habrastorage.org/getpro/habr/post_images/769/0b4/63a/7690b463a0b87f4a8aaf1feb50e2c76d.png"> <img src="https://habrastorage.org/getpro/habr/post_images/83c/6f0/a28/83c6f0a2828bdd19ce19df197ed17145.png"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9b4/0d0/005/9b40d000563e6391668bf260bc430234.png"></a> <br> <br>  <br> <a href="https://apps.getpebble.com/applications/53b0607c94943f8e710001e2">  Pebble App Store</a> <br> <a href="https://github.com/bahbka/pebble-my-data">    GitHub</a> <br> <a href="http://forums.getpebble.com/discussion/13590">  Pebble Forums</a> <br> <br>   ,  Pebble My Data      .</code> </h5> <code><code>Pebble-Token: .       /,        - .      . <br> <br>   JSON'   ,        HTTP  Pebble-Auth: &lt;MD5(MD5(password)+salt)&gt;</code> .        .            .      ,      .    ,   . <br> <br>  <br> <img src="https://habrastorage.org/getpro/habr/post_images/a2e/22a/ff0/a2e22aff09c583c0d7ddf8815a0cf6a6.png"> <img src="https://habrastorage.org/getpro/habr/post_images/3d9/98e/625/3d998e6255c81028852e54b96b229373.png"> <img src="https://habrastorage.org/getpro/habr/post_images/769/0b4/63a/7690b463a0b87f4a8aaf1feb50e2c76d.png"> <img src="https://habrastorage.org/getpro/habr/post_images/83c/6f0/a28/83c6f0a2828bdd19ce19df197ed17145.png"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9b4/0d0/005/9b40d000563e6391668bf260bc430234.png"></a> <br> <br>  <br> <a href="https://apps.getpebble.com/applications/53b0607c94943f8e710001e2">  Pebble App Store</a> <br> <a href="https://github.com/bahbka/pebble-my-data">    GitHub</a> <br> <a href="http://forums.getpebble.com/discussion/13590">  Pebble Forums</a> <br> <br>   ,  Pebble My Data      .</code> <h4> <code><code>Pebble-Token: .       /,        - .      . <br> <br>   JSON'   ,        HTTP  Pebble-Auth: &lt;MD5(MD5(password)+salt)&gt;</code> .        .            .      ,      .    ,   . <br> <br>  <br> <img src="https://habrastorage.org/getpro/habr/post_images/a2e/22a/ff0/a2e22aff09c583c0d7ddf8815a0cf6a6.png"> <img src="https://habrastorage.org/getpro/habr/post_images/3d9/98e/625/3d998e6255c81028852e54b96b229373.png"> <img src="https://habrastorage.org/getpro/habr/post_images/769/0b4/63a/7690b463a0b87f4a8aaf1feb50e2c76d.png"> <img src="https://habrastorage.org/getpro/habr/post_images/83c/6f0/a28/83c6f0a2828bdd19ce19df197ed17145.png"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9b4/0d0/005/9b40d000563e6391668bf260bc430234.png"></a> <br> <br>  <br> <a href="https://apps.getpebble.com/applications/53b0607c94943f8e710001e2">  Pebble App Store</a> <br> <a href="https://github.com/bahbka/pebble-my-data">    GitHub</a> <br> <a href="http://forums.getpebble.com/discussion/13590">  Pebble Forums</a> <br> <br>   ,  Pebble My Data      .</code> </h4> <code><code>Pebble-Token: .       /,        - .      . <br> <br>   JSON'   ,        HTTP  Pebble-Auth: &lt;MD5(MD5(password)+salt)&gt;</code> .        .            .      ,      .    ,   . <br> <br>  <br> <img src="https://habrastorage.org/getpro/habr/post_images/a2e/22a/ff0/a2e22aff09c583c0d7ddf8815a0cf6a6.png"> <img src="https://habrastorage.org/getpro/habr/post_images/3d9/98e/625/3d998e6255c81028852e54b96b229373.png"> <img src="https://habrastorage.org/getpro/habr/post_images/769/0b4/63a/7690b463a0b87f4a8aaf1feb50e2c76d.png"> <img src="https://habrastorage.org/getpro/habr/post_images/83c/6f0/a28/83c6f0a2828bdd19ce19df197ed17145.png"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9b4/0d0/005/9b40d000563e6391668bf260bc430234.png"></a> <br> <br>  <br> <a href="https://apps.getpebble.com/applications/53b0607c94943f8e710001e2">  Pebble App Store</a> <br> <a href="https://github.com/bahbka/pebble-my-data">    GitHub</a> <br> <a href="http://forums.getpebble.com/discussion/13590">  Pebble Forums</a> <br> <br>   ,  Pebble My Data      .</code> </div><p>Source: <a href="https://habr.com/ru/post/229491/">https://habr.com/ru/post/229491/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../229479/index.html">Analysis of tasks of the competition WAF Bypass on PHDays IV</a></li>
<li><a href="../229481/index.html">MiCoach Fit Smart: Adidas minimalistic fitness tracker</a></li>
<li><a href="../229485/index.html">Naumen became a partner of the conference PyCon Russia 2014</a></li>
<li><a href="../229487/index.html">Satya Nadella: we reinvent productivity</a></li>
<li><a href="../229489/index.html">How do DVRs in Russia: a report from the AdvoCam factory in the Vladimir region</a></li>
<li><a href="../229495/index.html">po.js is a super simple utility for i18n</a></li>
<li><a href="../229497/index.html">Welcome to GeekFest Night July 26</a></li>
<li><a href="../229499/index.html">Guaranteed and non-guaranteed channel: what to choose?</a></li>
<li><a href="../229501/index.html">What is grep and what it eats</a></li>
<li><a href="../229505/index.html">Panel discussion ‚ÄúWill the Internet destroy university education?‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>