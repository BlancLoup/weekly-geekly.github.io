<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Augmented reality glasses from the old Soviet calculator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Glasses of augmented reality is unreal cool thing! The truth is still difficult to say whether this is a necessary thing as a smartphone, or just an e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Augmented reality glasses from the old Soviet calculator</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/b21/094/997/b21094997d2b45dca48405658641d250.jpg"></div><br>  Glasses of augmented reality is unreal cool thing!  The truth is still difficult to say whether this is a necessary thing as a smartphone, or just an expensive toy.  Consider an interesting project of smart glasses for professional use, which facilitate the work of an electrician / electronics engineer.  Let's make it in the style of the good old DIY with arduines and 3d printers. <br><a name="habracut"></a><br>  Anyone who has practiced a little electronics knows what a multimeter is and how to use it.  Nothing too complicated - we take two probes, set the measurement mode, poke and look at the result on the display.  Despite the simplicity, in professional practice there are often cases when each hand is on the probe, and the measuring device simply has nowhere to go and you have to go in every possible way to attach it to anywhere.  This makes a huge inconvenience in the work, and with due clumsiness and high voltages also to bright fireworks. <br><br>  <a href="https://hackaday.io/awall99">Alain Mauer</a> thought, why not show the measurement result of a multimeter right before your eyes, using augmented reality technology like the one done in Google Glass. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/lkl6yVauCKg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  He developed his own project of smart glasses, based on the Arduino Pro Micro controller, a small display with a diagonal of 0.66 inches (1.68 cm), as well as a bluetooth module. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/c5b/5b4/8f5/c5b5b48f55d241f89d190bc05cc5f016.jpg"><br><br>  The device case is printed on a 3-d printer and all details are available for download <a href="https://hackaday.io/project/12211-arduino-glasses-a-hmd-for-multimeter">on the project page</a> . <br><br>  However, as you may have guessed from the title of the article, there will not be a description of the assembly of parts according to the finished instructions, instead I will show how I assembled this device from what I found in my heap of electronic junk.  And we start with a micro display. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9b6/b4d/010/9b6b4d0109704ed2b1a9eeddbfea895a.jpg"></div><br>  In principle, the Chinese comrades sell such screens quite inexpensively, but the circus with Black Friday at that time made it clear that it would take a very long time to wait. <br><br>  Therefore, having rummaged in the trash, I found the old Soviet calculator Electronics B3-21 with quite good miniature eight-segment indicators. <br><br><img src="https://habrastorage.org/files/e18/085/a32/e18085a32ce24cdda28ea7315d7e0db0.jpg"><br><br>  Stop!  Hold your righteous anger and take your hands off the keyboard.  I would not break such a rarity for the sake of indicators.  A couple of years ago, I saved three such copies from the garbage.  Two of them were more or less whole, I gave them to collectors.  The latter was only a pitiful remnant in the form of a board with indicators, while the calculator‚Äôs brains themselves were located on another part, which the barbarians, along with the corps, shared somewhere. <br><br><img src="https://habrastorage.org/files/d6a/a10/323/d6aa103234df410ebb26ed075cbd24d6.jpg"><br><br>  As can be seen from the photo, there were only three indicators in the calculator, and they were made in the DIP-14 package.  Each indicator has five characters with seven segments in each + another dot.  Carefully unsolder and plant on the breadboard.  The design of the size goes quite a bit more of the microdisplay from the original project. <br><br><img src="https://habrastorage.org/files/ad0/aed/503/ad0aed50382c45d39ce16765248433e3.jpg"><br><br>  Since there is no documentation on these indicators during the day with fire, we use a little trick to determine the pinout.  Many of the multimeters in dialing / resistance measurements give enough voltage to the test leads to make the LEDs glow a little, or there are such indicators.  Turning all the conclusions in turn, we find the necessary anodes (+) and cathodes (-).  The latter are labeled with the numbers responsible for each of the five characters. <br><br><img src="https://habrastorage.org/files/f27/34b/ee7/f2734bee7a484bfba5c52d0ef9a77bc7.gif"><br><br>  Thus, to control two such indicators, you need a microcontroller and only 18 of its ports.  Roll up the lip and use the 74HC595 shift registers.  Each of them has eight outputs, and only connects to the three ports of the controller.  The simplest network connection scheme: <br><br><img src="https://habrastorage.org/files/e9f/69b/9c3/e9f69b9c33ad4d2c882fbceac365e70a.gif"><br><br>  I added to the design of two such in small buildings.  The first controls the segments, and the second controls the characters.  There are more characters than register outputs, because the two extreme characters in the bottom row will not be used, which is basically not a problem, since I planned to display the measured value on the top line in the form of numbers, and for the lower unit of measurement, three characters would be enough. <br><br>  The code for displaying characters is a byte, each bit of which is responsible, in the case of the first register, for the segments being lit, and, in the case of the second, for the symbols being lit.  Such bytes are also often represented in hexadecimal notation. <br><br><div class="spoiler">  <b class="spoiler_title">Illustrative example for indicator segments</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/227/c69/f30/227c69f3011d409f8fcbccb5fc3952a0.gif"><br></div></div><br>  As a controller, I used the Chinese Arduino Nano.  It is a little more than the Micro version and is also excellent in the original case. <br><br>  We connect to arduinka and check the operation of indicators. <br><br><img src="https://habrastorage.org/files/6bc/9ad/701/6bc9ad70197f450881c88ce0a034f222.jpg"><br><br>  After a successful test, it is time to think about what this display will show. <br><br>  In the original project, the author used the OWON B35T ‚Äúsmart‚Äù multimeter, which has a built-in Bluetooth interface and can send measurement results on it. <br><br><img src="https://habrastorage.org/files/60c/a88/946/60ca8894609b43988140f25fc515e2fd.jpg"><br><br>  Instead of this slicker, we will pump the cheaper, battered in battles, the good old Mastech MS8250B, which nevertheless has a USB interface. <br><br><img src="https://habrastorage.org/files/6e6/6bf/cec/6e66bfcece4447fcb6ed98a3031b03cd.jpg"><br><br>  The reverse engineer has this device and we see that the interface is made on a separate board, which is optically isolated from the rest of the circuit.  And here they used not the notorious optocouplers, but the real infrared pairs of light and photodiodes.  The gap between them is such that you can certainly measure up to kilovolts without fear of burning your computer.  On the board, you can see the CP2102 chip, which is a UART ‚Üí USB converter, which is a great success, since any Arduinka knows the UART protocol from the cradle. <br><br><img src="https://habrastorage.org/files/e06/d2b/15b/e06d2b15b4a34c71a3b492ff00ac40e9.jpg"><br><br>  The principle of operation is simple and banal, the CP2102 chip is powered by USB, the IR LED lights up at the same time, which lets the multimeter know that it is connected to a computer, after which the latter begins to blink merrily with its LED in response, thus sending measurement data .  We connect this cartoon to the computer and use the ComPort Toolkit to see what it sends: <br><br><img src="https://habrastorage.org/files/cbc/80a/f22/cbc80af22ba64626ba699f3b13bb7221.jpg"><br><br>  Yes, it seems to be complete nonsense.  Obviously, the Chinese comrades did not use the standard speed of 9600. Armed with a logic analyzer (Saleae-logic compatible) and look at the signal in more detail.  The software from Saleae is so cool that it can automatically determine the speed of the UART along the length of the start bit. <br><br><img src="https://habrastorage.org/files/47b/0a8/09d/47b0a809df4d45eaa52ece79e3e0cd46.jpg"><br><br>  The analyzer clearly determined the speed in 2400. We set the correct speed in the terminal and look at the output by frantically clicking the multimeter modes to collect more different data. <br><br><img src="https://habrastorage.org/files/ff4/a76/b62/ff4a76b62cf8472696a38767f4507140.jpg"><br><br>  Well, some regularity has already appeared, although it is still not clear what he is sending. <br><br><div class="spoiler">  <b class="spoiler_title">hint</b> <div class="spoiler_text">  We draw attention to the senior digits of the numbers that make up the sequence 123456789ABCDE.  They do not change even when switching modes of the device, and therefore are purely controlling in nature.  The rest is data in some form. <br></div></div><br>  I measured several different resistances, making a table for comparison. <br><img src="https://habrastorage.org/files/81d/3b1/93b/81d3b193b0b5445aa2611ef22a0b9a9b.jpg"><br>  Having studied the table, I understood how the multimeter encodes the measurement data.  You can think about this problem yourself, for the impatient here is the solution: <br><div class="spoiler">  <b class="spoiler_title">decision</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/cfe/87f/ef5/cfe87fef5d69432eb94abc1dbb0f0edc.jpg"><br><br>  There is a hint in the first part of the article, since in the multimeter all the same segment symbols are used to designate numbers, then it sends bytes describing which segments are activated in hexadecimal form.  Older digits do not carry information, so we look at the younger and the same numbers in the measurement results.  From this table it becomes clear that 0, for example, is 7D, and 2 is 5B.  Thus, the transfer task is even more simplified.  It is enough to read the values ‚Äã‚Äãof the multimeter indicators and light ours in accordance. <br></div></div><br>  It remains only to shove a controller into the multimeter case, which will turn on the infrared LED, receive measurement data via the UART, and send them to the glasses.  In this case, purely to test the technology, I put a large arduinka in there, since the little ones suddenly <div class="spoiler">  <b class="spoiler_title">run out</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/2c1/670/a8b/2c1670a8b8fb426397630c4c35ae0866.gif"><br></div></div><br>  For the connection of the multimeter with glasses, I used cheap 433 MHz radio modules.  Alas, this is the worst solution that you can think of, but this is the only thing that was at hand. <br><br><img src="https://habrastorage.org/files/c22/5f7/d6b/c225f7d6bfa24261bf60d51b34b91c72.jpg"><br><br>  We assemble the display, controller, receiver and battery in a printed case <br><br><img src="https://habrastorage.org/files/b35/b5e/430/b35b5e430c294f57bf7ecd9d26932d1c.jpg"><br><br>  I had to work with the optical part.  Plastic mirror as the author in my area is not found.  To wield a glass cutter, I am not a master, because despite all the superstitions, I broke a small mirror and ground a suitable fragment to the desired shape under a stream of water. <br><br><img src="https://habrastorage.org/files/0ff/cfe/6be/0ffcfe6be3a14047a3211fb6cbaa2df2.jpg"><br><br>  At this stage, I advise you to return to the beginning of the article and refresh the design of the device.  The lens here plays a huge role - it focuses on the eye image from the display.  From its type and position depends on how the focus of the eyes will be clearly visible numbers.  Of course, I did not find the same lens, so I used the usual plastic one from a cheap monocular.  In my case, I placed it between the mirror and the indicators, finding the best position in terms of focus.  To make a reflector, I peeled the CD-ROM, wiped the data from it with a rag and just cut out a suitable piece.  After assembly, we get the coveted device. <br><br><img src="https://habrastorage.org/files/9a2/24c/1a2/9a224c1a24624c6e84db14b814dbcc05.jpg"><br><br>  Due to the fact that the wrong lens is used, as well as the fact that the indicators are larger than the display in size, only four characters on the upper line can be seen on the reflector, and the bottom line does not completely fall.  In the photo, the camera transmits colors too brightly, in fact the numbers are much more faded. <br><br><img src="https://habrastorage.org/files/bb4/25a/9e7/bb425a9e7c324a5d97d4da6914de8982.jpg"><br><br>  In general, the camera is quite problematic to take an image on the reflector, in addition, it always sees the numbers in focus, which of course is far from reality.  Connect a multimeter and see how it works. <br><br><img src="https://habrastorage.org/files/58b/5b1/a9b/58b5b1a9b8694edebe7566f8e86908cb.jpg"><br><br>  The camera is difficult to capture both lines, although the eye sees them.  Working with the resulting device looks like this: <br><br><img src="https://habrastorage.org/files/46d/5af/384/46d5af3843f64ac29edbb560c5710878.gif"><br><br>  The measurement result is 6.73 volts.  As you can see, the engineers of the USSR who developed these LED indicators for some reason put a dot in such a not very comfortable position, which, however, again can be considered luck, since in the multimeter the dot is completely to the left of the symbol.  Well, however, this is a matter of habit. <br><br><h3>  Results </h3><br>  The device in my performance of course came out pretty kolkhoz, but even in this form its use was fascinating.  Alas, the indicators from the old calculator turned out to be a mediocre version, since with normal lighting the numbers are almost invisible.  Radio modules also do not advise: the transmitter will land the battery quickly, and the connection will still be so-so.  Well, the main drawback, probably, of any augmented reality glasses is the focus.  In order to have the effect that the image is superimposed over the object where the gaze is directed, proper focusing must be maintained.  And the problem lies in the fact that the eye constantly changes it, from which all the "magic" is lost.  I hope that the manufacturers of such devices are working to solve this problem, and one day we will fully enjoy the benefits of augmented reality in professional activities. </div><p>Source: <a href="https://habr.com/ru/post/399077/">https://habr.com/ru/post/399077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../399067/index.html">Israeli developers were able to teach AI to defeat a man in Mortal Kombat</a></li>
<li><a href="../399069/index.html">Openbox products are another way to save money by buying expensive electronics.</a></li>
<li><a href="../399071/index.html">Unpack me completely: the first launch of the smart collar Mishiko</a></li>
<li><a href="../399073/index.html">How can a closed universe form? Continuation of the previous article</a></li>
<li><a href="../399075/index.html">At the Massachusetts Institute of Technology developed a roboskuter</a></li>
<li><a href="../399081/index.html">Rubetek: Creating comfort and safety by integrating devices</a></li>
<li><a href="../399083/index.html">Putin asked the government to think about introducing VAT on purchases in foreign online stores</a></li>
<li><a href="../399085/index.html">General Motors and IBM have developed a multimedia system with artificial intelligence for cars.</a></li>
<li><a href="../399087/index.html">TechnoLive: How to promote your game among thousands of competitors, Maxim Samoilenko</a></li>
<li><a href="../399089/index.html">New Robik Rubik's Cube Speed ‚Äã‚ÄãRecord</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>