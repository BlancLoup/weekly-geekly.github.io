<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reports about the battle of CI and CD, orchestration and secrets of OpenStack</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On September 27, we conducted the second Orcs here ‚Äômitap - about orchestration, automation and field application of CI / CD. In this post full video ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reports about the battle of CI and CD, orchestration and secrets of OpenStack</h1><div class="post__text post__text-html js-mediator-article"><p>  On September 27, we conducted the second  Orcs here ‚Äômitap - about orchestration, automation and field application of CI / CD.  In this post full video and timecode with important places from three reports. </p><br><p><img src="https://habrastorage.org/webt/ry/3q/ms/ry3qmsbm5-oqjab2sx9scsdaydu.jpeg"></p><br><p>  Topics are: </p><br><ul><li>  Environment as a Service - about the operation and configuration secrets of OpenStack </li><li>  Pod, Cloud and Two Smoking Hubs - about scaling Selenium farms </li><li>  CI vs CD: the arms race - about how CI and CD ‚Äúfought‚Äù Yandex.Money <a name="habracut"></a></li></ul><br><h2 id="environment-asaservice">  Environment as a Service </h2><br><p>  Alexander Prizov and Maxim Ogryzkov from Yandex.Money told about the features of operation and orchestration of high-loaded OpenStack installations for different types of test environment. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/wviXkhqyvMM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><div class="spoiler">  <b class="spoiler_title">Timecode with details</b> <div class="spoiler_text"><h4 id="onashem-podhode">  About our approach </h4><br><p>  0:20 - What is Environment as as Service? <br>  1:00 - How to prepare the infrastructure for change? <br>  1:30 - What to do with the old test benches? <br>  3:55 - Requirements for new test stands <br>  4:30 - Why did we choose OpenStack?  A little about Murano <br>  5:50 - About our approach to automating the creation of test patterns <br>  7:30 - Example of a declarative description of the calculations <br>  8:20 - About Jenkinks, Grafana, kibana and update tracking <br>  9:10 - What numbers did we get? </p><br><h4 id="openstack-ihighload">  OpenStack and highload </h4><br><p>  9:40 - What happened when we picked up 50 virtual machines at the same time? <br>  11:25 - You need to post cron tasks.  About the work of the scheduler </p><br><h4 id="neutron-ihighload">  Neutron and highload </h4><br><p>  13:45 - We use the dual stack.  What is it and why doesn‚Äôt NAT need there? <br>  15:33 - It happens that the functionality of the tool is not enough.  What can be done? <br>  18:00 - Many different services that affect the work of each other.  How to be? <br>  22:00 - Write the code as documentation.  How we found a setting that is not found anywhere <br>  23:35 - Solution ‚Äúno response to inactivity of the probe after 10 seconds, disconnecting‚Äù <br>  25:31 - How to adjust the size of the mac-table <br>  26:00 - How to enable rx-flow-hash <br>  26:37 - About global and personal safety rules </p></div></div><br><h2 id="pod-cloud-and-two-smoking-hubs">  Pod, Cloud and Two Smoking Hubs </h2><br><p>  Alexey Boyko from Wrike told how they saved time and money on scaling a Selenium farm by using Google Cloud Engine and Kubernetes. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YQBNMXVw3u8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><div class="spoiler">  <b class="spoiler_title">Timecode with details</b> <div class="spoiler_text"><h4 id="predystoriya">  Prehistory </h4><br><p>  0:15 - What is Wrike and where is Selenium <br>  2:20 - What did Wrike have when scaling came up? <br>  3:20 - Browser queues, Selenium Hub failures and slow regression packs <br>  4:50 - Scaling requirements and how to implement them <br>  7:30 - Why did you choose Google Cloud: kubernetes, short-lived nodes and savings? <br>  8:50 - Why chose kubernetes? </p><br><h4 id="proto-kak-smeshat-kokteyl-iztehnologiy">  How to mix technology cocktail </h4><br><p>  9:50 - About autoscaling and why? <br>  12:00 - How autoscaling works <br>  14:40 - Preemptible nodes - low price and dangerous restrictions <br>  18:00 - Why do I need a load balancer? <br>  19:00 - How it all works together.  TeamCity. <br>  21:00 - TeamCity role in the process <br>  21:30 - Detailed process description <br>  23:40 - What was the result? </p></div></div><br><h2 id="civs-cd-gonka-vooruzheniy">  CI vs CD: arms race </h2><br><h3 id="vasiliy-sozykin-eks-yandeksdengi-dmitriy-zinin-yandeksdengi">  Vasily Sozykin (ex-Yandex.Money), Dmitry Zinin (Yandex.Money) </h3><br><p>  We present the description of the report from the authors without changes. </p><br><blockquote>  War.  The essence of the war never changes, but the release cycle, automation and microservices - as much as you like. <br><br>  Start.  It used to be quietly living with releases once a month, but then this fragile world reeled. <br><br>  Chronicle.  When it became forty releases a day, the relationship of development and operation began to heat up.  This has resulted in arming the parties, new automation and optimization tools, and symmetrical responses. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Reboot.  The parties entered into a peace agreement, and the confrontation is in the past. <br><br>  Hostage of the war.  The civilian population from neighboring departments during the confrontation had not sweet. </blockquote><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sbHwxo-6x_c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  <em>At some moments, the microphone could not withstand the charisma of Basil, so a few seconds during the report became quiet.</em> </p><br><div class="spoiler">  <b class="spoiler_title">Timecode with details</b> <div class="spoiler_text"><p>  1:40 - On the role of regulators in automation of fintech <br>  3:10 - ‚ÄúRelease‚Äù, when there are few components and developers <br>  4:30 - Distribution of roles for releases </p><br><p>  6:40 - Nexus, Gradle, jacoco and a wet loot <br>  8:50 - Jenkins and two releases per day <br>  9:30 - Automation of integration and load testing.  Zone 21. <br>  10:15 - Release attendant.  Why is it needed? <br>  11:10 - Ansible Playbook for Releases </p><br><p>  12:20 - On the abolition of the "release committee".  Notification Automation <br>  13:30 - New distribution of roles at releases.  Two releases per week. </p><br><p>  14:30 - And two release masters.  And this is why? <br>  16:00 - 20 releases per day and our first bot. </p><br><p>  18:00 - Release on commit.  Every 30 minutes. <br>  19:00 - Multi-streaming from the CD </p><br><p>  20:30 - About CI and CD without people <br>  21:50 - About the future of releases even more without people <br>  24:00 - Conclusions - from the release once a month to the release every hour. </p></div></div><br><p>  That's all for today - come to our <a href="https://events.yandex.ru/">events</a> to hear everything live, and subscribe to the blog so as not to miss other reports on important topics. </p></div><p>Source: <a href="https://habr.com/ru/post/425695/">https://habr.com/ru/post/425695/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../425683/index.html">How we passed the Certified Kubernetes Administrator exam</a></li>
<li><a href="../425685/index.html">Part of the Minecraft game code was transferred to Open Source by Microsoft</a></li>
<li><a href="../425689/index.html">Report of the Club of Rome 2018, Chapter 2.10: ‚ÄúPerhaps we need a new era of Enlightenment‚Äù</a></li>
<li><a href="../425691/index.html">Conference DEFCON 20. How to fuck the bad guys (and the mafia) using a JavaScript botnet. Part 1</a></li>
<li><a href="../425693/index.html">Search VPS 5 years! 70 hosters give discounts from 10 to 80%</a></li>
<li><a href="../425697/index.html">KotlinConf 2018 - keyout and first videos</a></li>
<li><a href="../425701/index.html">IoT Security Week 38: vulnerabilities in MikroTik, D-Link and TP-Link routers</a></li>
<li><a href="../425703/index.html">Kafka in Wargaming: a blitz</a></li>
<li><a href="../425705/index.html">Replication from Percona Server for MySQL to PostgreSQL using the pg_chameleon tool</a></li>
<li><a href="../425707/index.html">Notification system from the console to Telegram</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>