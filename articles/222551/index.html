<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>You have a mistake here ... or about the practice of code inspections in mobile development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The practice of code review or, if translated into Russian, code inspections appeared long ago and has already been successfully integrated into the d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>You have a mistake here ... or about the practice of code inspections in mobile development</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/6bf/9d0/25c/6bf9d025cc0d9dc1eb01097352edd466.jpg" align="right">  The practice of code review or, if translated into Russian, code inspections appeared long ago and has already been successfully integrated into the development processes in many companies.  Teams of programmers from companies such as Google, Square, Amazon, actively use it, and they do not even have the thought of abandoning it.  At the same time, in a large number of companies, this practice is either not used at all, or is applied occasionally. <br><br>  The process of implementing code inspections in our team was started several years ago.  Before coming to the current state, various approaches, methods and tools were tested, a huge number of posts and books were re-read.  The greatest benefit to us was the study of the experience of other teams (both positive and negative).  This helped to determine the vector of development and be prepared for the emerging difficulties.  Now, I think, it is time to share our experience in implementing and using code inspections when developing applications. <br><a name="habracut"></a><br><br clear="all"><h1>  Why are code inspections important? </h1><br>  Anyone associated with software development will, without thinking, tell you that the cost of fixing defects in a product depends on the time they are detected.  The sooner we find a mistake, the cheaper it will be to get rid of it.  Therefore, it is obvious that any practice that allows reducing the number of errors in a product is of interest to all interested parties: programmers, managers, customers. <br><br clear="all">  At the same time, code inspection helps in training junior programmers.  By virtue of their inexperience, they make a fairly large number of errors in architecture, code, comments.  Therefore, it is very important from the first day to teach them to follow the established rules regarding writing new code and good tone of interaction with existing code. <br><br clear="all">  Programmers, reading the code that was written by their colleagues, inevitably become acquainted with him, and with the tasks that he must solve.  As a result, the command level of the code increases.  Developers are beginning to understand how application modules written by other people work.  The probability of duplication of the existing functionality (not the code!) Is reduced.  Reduced risks associated with leaving or temporary absence of a team member.  As a result, any developer is ready to perform even those tasks that affect not only his code. <br><br clear="all">  In the case when developers know that their code will be necessarily reviewed, they start to write it more responsibly: they carefully think over how to integrate functionality into the existing architecture, add a sufficient number of comments, etc. <br><br clear="all">  The arguments listed above are obvious, and usually no one argues with them.  But, in my opinion, the greatest attention in code inspections is represented by advantages that are of a long-term nature.  After all, they must be interested in the management team or the customer (in the case of customized development). <br><br clear="all">  First, if the code is not inspected, it is very easy to find yourself in a situation where the introduction of new functionality will cause serious problems for programmers.  In turn, the customer will wonder: why does it take so much time to add a little functionality?  The answer is quite simple - no one watched the quality of the application architecture, its code and the changes made to them. <br><br clear="all">  Secondly, in the code with low quality, it is difficult to navigate, which leads to the appearance of new errors, both in the places where old defects are corrected and when new functionality is added.  As a result, the release dates begin to move away.  Despite the best efforts of the testing team, releases still come with defects.  This, in turn, increases the load on the technical support service, which ultimately leads to dissatisfaction of users of the application. <br><br clear="all"><h1>  Why code inspections are still not conducted? </h1><br>  Programmers, because of the specifics of their profession, are very smart people and know how to count.  In particular, they very well consider their time and monitor their productivity.  According to their opinion, code inspection distracts from current tasks and reduces productivity.  Defects found during the code inspection are also of no particular interest to them, because they mainly represent a list of minor errors made by younger developers.  Moreover, this list is consistently repeated, and its discussion is a rather boring process for experienced developers.  Conducting an inspection code assumes that all defects found will be corrected.  However, there is a great unwillingness of programmers to make changes to the working code.  Also, if code inspections are rarely carried out, then the programmer to whom it was entrusted is simply lost in a huge amount of new code.  And for him it looks like a punishment.  These moments do not motivate the team to systematically conduct code inspections.  Programmers believe that the result obtained during the inspection code is not worth the effort.  This is a consequence of shortcomings in the approach to the inspection code and the unwillingness to correct them. <br><br clear="all">  It was previously mentioned that the customer should also be interested in conducting code inspections.  But, as practice shows, the application is primarily assessed for the declared functionality and test results.  Almost no one imposes requirements on the source code and, accordingly, no one checks it.  The issue of low quality code appears in two cases: <br><ul><li>  upon receipt of a project from another team; </li><li>  with a constant postponement of deadlines due to a large number of errors. </li></ul><br><br clear="all">  Unfortunately, it is already too late to change something in these cases, but there are several options for getting out of this situation.  The first, obvious, is to succumb to the programmers' persuasion to "rewrite everything".  However, there is a chance to confide in a weak team with unresolved processes and, at the exit, again to get another confusion of code.  The second is to analyze (inspect) the existing code and prepare a strategy for its reanimation.  This option is longer and requires tremendous efforts from designers and developers. <br><br><h1>  Types of code inspections </h1><br>  There are several types of code inspections [1]: <br><ul><li>  formal inspections (formal inspections); </li><li>  inspection over the shoulder (over-the-shoulder review); </li><li>  code inspection via e-mail (pass-around reviews); </li><li>  pair programming (pair-programming); </li><li>  code inspection using special tools (tool-assisted reviews). </li></ul><br>  In formal inspections, as a rule, the whole team is involved.  This type assumes that each programmer will analyze the source code and prepare its list of comments.  An integral part is a meeting at which there is a discussion of the found defects.  The result of the meeting should be a list of further actions of the team regarding the errors found. <br><br clear="all">  With pair programming, two developers solve together one problem behind one computer.  In the case of a shoulder inspection, the developer simply shows the code to his colleague. <br><br clear="all">  When inspecting with the help of e-mail, the changed code is automatically sent for analysis to another programmer. <br><br clear="all">  Code inspection with the help of special tools assumes the availability of utilities to assist in the analysis. <br clear="all">  They facilitate: <br><ul><li>  collection of changes made to the code; </li><li>  comparison of the current and previous code states; </li><li>  dialogue concerning a specific code; </li><li>  statistics collection; </li><li>  forcing the inspection code and the correction of defects found; </li><li>  etc. </li></ul><br><h1>  Our experience with code inspections </h1><br>  Mobile development began active development after the presentation of the first iPhone.  Due to the fact that this is quite a young area, programmers working in it are important to cooperate, adapt existing approaches from the web or desktop development, work on new ideas.  And here the practice of code inspections helps a lot. <br><br clear="all">  Our mobile development team has come a long way in implementing code inspections.  It all started with periodic formal inspections.  Now almost all types of code inspections are used.  Most of the same type of actions in the analysis of the code is automated, which allowed to seamlessly integrate this practice into the software development process. <br><br clear="all">  First of all, in addition to the formal code inspections, the verification of projects with static code analyzers was integrated.  For Android development, Pmd, Findbug, Checkstyle, Lint were used.  This allowed in automatic mode to find all the problems of the code associated with non-compliance with the coding style, incorrect use of the system API, errors in building the user interface, etc.  At first, the integration of data analyzers on the build server fully satisfied our needs.  However, over time, this approach has ceased to suit us for many reasons.  In particular, we did not like that: <br><ul><li>  each analyzer had to be set up separately, and when deciding to use a new analyzer, adding it to all projects was done manually; </li><li>  there was no convenient and centralized ability to manage the rules of analyzers (disable, add, edit); </li><li>  there was no possibility to ignore false positives without changing the code; </li><li>  it was impossible to somehow interact with the comments (for example, postpone their correction, comment, etc.); </li><li>  comments generated by different analyzers could not be combined into one report. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/c8b/fd8/7e8/c8bfd87e8d31991290c8378093ef1edf.png"><br>  <i>Results of project analysis using PMD (Jenkins plugin)</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/f4f/346/f70/f4f346f709d55e57f78a9f3353578a05.png"><br>  <i>Details of the defect found using PMD (Jenkins Plugin)</i> <br><br clear="all">  Soon we realized that it could not go on like this - the team grew, and each new programmer had to learn a fairly large amount of information about the existing development processes and utilized utilities.  Then it was decided to try the SonarQube platform [3], which is designed to continuously monitor the quality of the code.  Despite our doubts, the platform showed itself only on the good side.  She solved most of our problems with static code analyzers, added new metrics by which the status of the project can be monitored.  The management of the rules has become centralized, it has become possible to draw up plans for the correction of defects found, etc. <br><img src="https://habrastorage.org/getpro/habr/post_images/e11/b9e/9e3/e11b9e9e319740ec4faff8054477b2bb.png"><br>  <i>Results of the project analysis in SonarQube</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/1fe/d46/902/1fed46902fe2d282e933962c8e76065b.png"><br>  <i>Details of a defect found in SonarQube</i> <br><br clear="all">  Of course, static code analyzers help a lot, but you cannot rely on them completely.  They allow you to save formal code inspections from discussing obvious defects and point out suspicious places.  But to advise something, for example, in terms of application architecture, they can not. <br><br clear="all">  Conducting formal code inspections, even with the help of static analyzers, is too time consuming.  Therefore, on the one hand, if it is done frequently, the productivity of programmers will really decrease, on the other, if it is done rarely, the amount of code that needs to be inspected will increase.  According to the studies conducted, a large amount of code will only reduce the number of defects found [2]. <br><br clear="all">  In search of a solution that would be as effective as a formal code inspection, but did not take so much time, we came to the use of Atlassian Crucible [4].  In fact, this tool took over all the work on: <br><ul><li>  preparing code changes for verification; </li><li>  code navigation; </li><li>  dialogue on specific lines of code; </li><li>  inviting developers for inspection; </li><li>  tracking patches, according to colleagues; </li><li>  etc. </li></ul><br>  The most interesting feature that we actively use in Crucible is that now all changes in the code are tied to a specific task.  That is, it allows you to conduct code inspections for a specific task.  As a result, the comments of fellow programmers are more substantive in nature and really help to find and correct nontrivial errors. <br><img src="https://habrastorage.org/getpro/habr/post_images/4ad/09f/d6d/4ad09fd6de37d03383e4ce6acb0f84e0.png"><br>  <i>An example of a user screen when conducting an inspection code using Atlassian Crucible</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/3c0/905/10b/3c090510b806d5a3af162497798d8b78.png"><br>  <i>An example of an inspection code creation screen in Atlassian Crucible</i> <br><br clear="all">  Thus, in our team every commit made by the developer is checked on the build server with static analyzers.  All collected statistics are accumulated in SonarQube and used by all interested parties: programmers for self-checking and identifying problem areas, management for understanding the state of the project.  When the programmer finishes the task, he starts inspecting the code.  With Crucible, the changes associated with the completed task are highlighted and team members are invited.  When the code will arrange all the inspection code is completed.  As a result, each line of code is analyzed, and the entire team is now responsible for it. <br><br clear="all">  Although we proceeded to code inspections through special means, there was no complete rejection of formal inspections.  They are still held, but are more global in nature, because  They discuss issues related to the architecture of the application.  Formal inspections are conducted on a mandatory basis for all new projects that come to us. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  What we have? </h1><br>  Code inspections undoubtedly help in the development of high-quality applications both from the user‚Äôs side (the application does not fall, does not slow down, work with it is intuitive) and from the developers (excellent application architecture, no technical debt).  At the same time, each team of programmers is unique, and therefore usually requires a special approach to the introduction of any new practices.  In our case, there was support from both programmers and management, which made it possible to successfully integrate code inspection into development processes.  The result of this work was: <br><ul><li>  an increase in the number of defects detected and corrected prior to testing; </li><li>  reducing the time spent on the inspection code; </li><li>  reducing the time spent on testing the application; </li><li>  team interest in conducting code analysis; </li><li>  tracking the results of code inspections; </li><li>  Expansion of developers' knowledge of project code; </li><li>  faster exchange of experience between beginners and advanced developers; </li><li>  there is a reduction in comments placed on the code (due to the growth of the overall competence of the team); </li><li>  reducing the risk of delaying delivery; </li><li>  the emergence of metrics by which one can indirectly judge the status of projects. </li></ul><br><h1>  Eventually </h1><br>  It should be noted that code inspections are not the only practice that helps with software development.  The purpose of this article was to tell exactly about her, therefore no distractions to other ongoing processes were made.  In general, our team is satisfied with the result, but is not going to stop there.  We hope our experience will be useful to you. <br><br><h1>  Links </h1><br><ol><li>  Best Kept Secrets of Peer Code Review / J. Cohen, St.  Teleki, E. Brown </li><li>  11 Best Practices for Peer Code Review // <a href="http://smartbear.com/SmartBear/media/pdfs/11_Best_Practices_for_Peer_Code_Review.pdf">smartbear.com/SmartBear/media/pdfs/11_Best_Practices_for_Peer_Code_Review.pdf</a> </li><li>  Atlassian Crucible Overview - <a href="https://www.atlassian.com/software/crucible/overview">www.atlassian.com/software/crucible/overview</a> </li><li>  SonarQube - <a href="http://www.sonarqube.org/">www.sonarqube.org</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/222551/">https://habr.com/ru/post/222551/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../222541/index.html">Linux kernel vulnerability to get local root</a></li>
<li><a href="../222543/index.html">Internal cuisine of PyCon Russia and international relations</a></li>
<li><a href="../222545/index.html">PrettyTasks Widget for Android with support for offline work</a></li>
<li><a href="../222547/index.html">Supermen - is it soon?</a></li>
<li><a href="../222549/index.html">Future API in 2014</a></li>
<li><a href="../222553/index.html">Type construction in Scala</a></li>
<li><a href="../222557/index.html">No binding to the vendor! OpenShift Cartridge Standard support will appear on InfoboxCloud Jelastic platform</a></li>
<li><a href="../222559/index.html">Protection from DDoS attacks as a service by VimpelCom - and the story of the won tenders</a></li>
<li><a href="../222561/index.html">Report from the Silicon Valley Open Doors conference in Silicon Valley - meeting people</a></li>
<li><a href="../222563/index.html">Abnormal Programming in InterSystems Cach√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>