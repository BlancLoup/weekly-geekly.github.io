<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Satellite on the balcony</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently I read two articles on Habr√© about Explorer - 1 and Explorer - 2 . Wanted to share a similar project. 


 Background and formulation of the p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Satellite on the balcony</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/71a/e2f/a3b/71ae2fa3b4e44b3290226274310e9964.jpg"><br><br>  Recently I read two articles on Habr√© about <a href="http://habrahabr.ru/post/170683/">Explorer - 1</a> and <a href="http://habrahabr.ru/post/177435//">Explorer - 2</a> .  Wanted to share a similar project. <br><a name="habracut"></a><br><br><h4>  Background and formulation of the problem </h4><br>  I have been reading the Cosmos hub for a long time on a habre and every time I understand that I want to feel the same thing as the developers of Curiosity or Rosetta, to face the same difficulties as they, the main of which is remoteness.  My budget is more modest, so what are we going to do on the Arduino. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I took Explorer 1 as a basis, but I wanted to abandon the concept of hanging sensors and delve into the topic of remote control. <br><br>  So what should a satellite do: <br><br>  1) Actually, like any satellite, it must be able to receive and transmit data; <br>  2) Must have sensors; <br>  3) Must be autonomous. <br><br><h4>  Development </h4><br>  The role of the ground station served Arduino uno, and the satellite was the Arduino nano. <br><br>  The satellite is launched into orbit (balcony). <br><br>  I have a transmitter on the NRF24L01 + microcircuit.  It provides two-way communication in packets of 32 bytes. <br><br><img src="https://habrastorage.org/files/516/7a6/8b3/5167a68b383640edab8d6fc0e83f3d7b.jpg"><br><br>  The choice of sensors fell on the DHT22, BMP180 and BH1750FVI.  As you understood it will be a meteorological satellite. <br><br>  All sensors - DHT22 (humidity and temperature sensor), BMP180 (pressure and temperature sensor) and BH1750FVI (light sensor) - I bought at home, through Avito.  I still do not understand why no one uses it. <br><br><img src="https://habrastorage.org/files/a78/b24/577/a78b2457706c44d2bef8077a7e22dfe1.jpg"><img src="https://habrastorage.org/files/ab0/067/0de/ab00670ded7340acaf58436f301121b3.jpg"><img src="https://habrastorage.org/files/ecf/040/4a9/ecf0404a91ea4b4fa84d6da4d7c97d7d.jpg"><br><br>  Autonomy is achieved by using a Krone battery (9 volts).  I tried to make power from the solar battery through step up, like <a href="http://ww1.microchip.com/downloads/en/AppNotes/01047a.pdf">this</a> , but the panel lacked power. <br><br>  I did not bother with the quality of the code - I still do it on Arduino.  I will not give the code here, because it is ugly.  Anyone who wants to do something like that will find everything he needs, the benefit of the Internet, and so is littered with a bunch of examples for working with sensors. <br><br>  But the food I spread a special one: with filters and <div class="spoiler">  <b class="spoiler_title">current sensor, in the form of a resistor.</b> <div class="spoiler_text">  The power for the sensors (DHT22, BMP180 and BH1750FVI) is taken from the controller's foot so that it can be turned off if something goes wrong, and a 100 Ohm resistor is placed between the sensor ground and the controller ground so that some voltage drops across it when the sensors are working .  Arduin measures voltage, and with the help of Ohm's law, it is possible to calculate the current consumed by the sensors. </div></div><br>  I do not know why the filters when powered by batteries, but it sounds cool. <br><br>  <b>Control</b> <br>  I thought up the commands in such a way that the satellite could be debugged as if it were right on my desk and not on the balcony (open). <br><br>  Commands: <br><pre>    nop_sputnik // just send the answer
    reset_sputnik // hardware reset satellite
    test_i2c_sputnik // test the presence of i2c devices and return their address
    make_log // make a log in eeprom in case there is no energy left to transmit the packet

 Ananalog part:
    test_5_volt // test the voltage of the 5-volt line
    test_buttery_volt // test battery voltage
    test_current_sensors // check sensor supply current
    beep_sputnik // bibby through speaker

 Well, just in case:
    switch_off_termometr   
    switch_on_termometr 
    switch_off_pressue 
    switch_on_pressue 
    switch_off_humidity 
    switch_on_humidity 
</pre><br>  While collecting, I decided to add a squeaker as a system of interaction with the outside world. <br><br>  Having combined all this in a pile, I was very surprised when it all worked the first time.  But as it turned out, not for long .. but for now the satellite photo: <br><br><img src="https://habrastorage.org/files/2ca/e4f/f02/2cae4ff027734de4bcc05ba9e23961c0.jpg"><br><br>  And the receiver on the ground: <br><br><img src="https://habrastorage.org/files/032/e9d/4ce/032e9d4cebb1433d966e9d7eb861855e.jpg"><br><br>  I'm already in anticipation, connect the battery, the LEDs light up.  Everything works, the receiver polls the satellite every 10 seconds. <br><br>  I did it at night, sent the satellite to the balcony in a cardboard box, the receiver connected to the laptop and went to bed.  This action took place at the end of August, so do not be surprised by the warm weather, now we have -10. <br><br>  In the morning I immediately run to check the data and bummer. <br><div class="spoiler">  <b class="spoiler_title">last answer from satellite</b> <div class="spoiler_text">  humidity = 99.90 <br>  temp = 18.20 <br>  pressure = 57370 <br>  light = 0 <br>  data = 1 <br>  value = 623 <br></div></div><br><br>  The following graph shows the temperature overnight in degrees Celsius (information removed from the BMP180 sensor).  At some point (see chart) BMP180 stopped working: <br><br><img src="https://habrastorage.org/files/f3b/012/e4d/f3b012e4d0ae4733a5ad7e77167316dd.jpg"><br><br>  The graph below shows the pressure (in Pascals).  And yes ... I myself do not know what this peak is in the middle: <br><br><img src="https://habrastorage.org/files/798/b62/c3e/798b62c3e23548599be017929f63bcd8.jpg"><br><br>  Humidity (as a percentage) - (the humidity is 100% similar to the truth - it rained that night): <br><br><img src="https://habrastorage.org/files/c83/e73/2eb/c83e732eb97748429bbe78ce5d53b60b.jpg"><br><br>  As it was at night, the light sensor almost constantly showed 0, except for the time when the light was on in the room. <br><br><h4>  Analysis of the causes of failure </h4><br>  Only BMP180 refused (although I thought DHT22 would be cut out).  I2C bus, through which BMP180 and BH1750FVI were connected, <div class="spoiler">  <b class="spoiler_title">it seems worked.</b> <div class="spoiler_text">  BH1750FVI sent 0 (in order to send a byte storing 0 in itself, the sensor must push the data line to zero, but 0 on the line could occur due to an error or poor contact). </div></div>  In general, I am not sure of anything, but I think BMP180 is dead due to humidity. <br><br>  Initially, I did not specifically measure the current consumed by the satellite and was not very surprised when the battery went down after 1 hour and 43 minutes. <br><br>  In general - a <b>complete failure.</b> <br><br>  Next time I want to add sleep modes, do some kind of data auto-verification system, for example, with sharp jumps (like pressure value that night) or if it‚Äôs a long time - the sensor sends the same data (like a temperature sensor).  To treat this, I plan to reset the sensor.  And, in the distant future, perhaps, after passing the EGE, I will rewrite everything on pure C and make a full-fledged fee on Atmega8 or STM32 to work as part of a weather station. <br><br>  PS Tell me some program for processing large data arrays, but Excel is not very convenient. </div><p>Source: <a href="https://habr.com/ru/post/242487/">https://habr.com/ru/post/242487/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242475/index.html">Ubiquitous Supercomputing</a></li>
<li><a href="../242477/index.html">Tracking statistics in WoT using Arduino</a></li>
<li><a href="../242481/index.html">Increase the range of sensors weather stations Oregon Scientific</a></li>
<li><a href="../242483/index.html">New Office 365 as a developer platform for Windows, Android, iOS and Web</a></li>
<li><a href="../242485/index.html">Binary clock with alarm clock and timer on Arduino Uno</a></li>
<li><a href="../242489/index.html">Introverts in IT. How to use features of your character to achieve goals</a></li>
<li><a href="../242491/index.html">Practical holacracy. Cut circles and prepare roles</a></li>
<li><a href="../242493/index.html">How to protect your Windows server from POODLE SSLv3 vulnerability</a></li>
<li><a href="../242497/index.html">Step-by-step overview: a single MultiCAD.NET application in nanoCAD, AutoCAD, ZWCAD</a></li>
<li><a href="../242501/index.html">Snoop Dogg - Venture Investor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>