<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video analytics: face recognition, queue detector, search for objects on video</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The 42Ark Taiwanese company and the American manufacturer of smart cat feeders CatFi Box use surveillance cameras to detect the cat's face 

 In 1941,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video analytics: face recognition, queue detector, search for objects on video</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ab3/8f9/31a/ab38f931a6b1484b9c587a5de062d51d.jpg"><br>  <i>The 42Ark Taiwanese company and the American manufacturer of smart cat feeders CatFi Box use surveillance cameras to detect the cat's face</i> <br><br>  In 1941, the German electrical engineer Walter Bruch installed a CCTV system (Closed Circuit Television - closed-circuit television system) at the test site where Fau-2 missiles were tested.  This is the first known case of video surveillance in practice.  The operator had to constantly sit in front of the monitor.  This continued until 1951, until the first VTR (VideoTape Recorder) devices appeared, recording an image on a magnetic tape. <br><br>  Writing to the carrier did not save the operator from the need to participate in the process.  Identification of persons, determining the location of objects, even motion detection ‚Äî all these functions were performed by a person sitting in front of the monitor in real time or after an after-fact study of the video archive. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The wheel of progress is rolling further.  Video surveillance received a video clip that completely changed the process of working with the system.  Remember the <a href="https://geektimes.ru/post/278250/">story</a> about the cat and the neural network of deep learning?  Yes, this is also part of the video analytics, but tiny.  Today we will talk about technologies that are fundamentally changing the world of CCTV systems. <br><a name="habracut"></a><br>  <b>Queue detection and beta test</b> <br><img src="https://habrastorage.org/files/0c7/839/22b/0c783922b1de484dbd3484ec8059534a.jpg"><br>  <i>The first IP camera in the world Neteye 200, created in 1996 by Axis</i> <br><br>  Video surveillance was conceived as a security closed system, designed only to address security issues.  The limitations of analog video surveillance did not allow the equipment to be used in any other way.  The integration of video surveillance with digital systems has opened up the possibility of automatically obtaining various data by analyzing the sequence of images. <br><br>  The importance is difficult to overestimate: in the usual case, after 12 minutes of continuous observation, the operator begins to miss up to 45% of the events.  And up to 95% of potentially alarming events will be missed after 22 minutes of continuous observation (according to IMS Research, 2002). <br><br>  Complicated video analysis algorithms have appeared: counting visitors, counting conversions, statistics of cash transactions and much more.  In this system, the observation operator disappears - we leave the computer the opportunity to "look" and draw conclusions. <br><br>  The simplest example of smart video surveillance is motion detection.  It is not so important whether there is a built-in detector in the camera itself - if you install, for example, the <a href="https://ru.ivideon.com/programma-videonabljudenija/">Ivideon Server</a> software on a computer, then the motion detector will use software.  One detector is able to replace several video surveillance operators at once.  And already in the 2000s, the first video analytics systems began to appear, capable of recognizing objects and events in the frame. <br><br>  Ivideon is now in the development of several video analytics modules - since we <a href="https://habrahabr.ru/company/ivideon/blog/306714/">released OpenAPI</a> , things have gone faster due to integration with partners.  Some of the projects are still in closed testing, but something is already done.  First of all, this is <a href="https://geektimes.ru/company/ivideon/blog/285948/">integration with cash registers</a> to control cash transactions (for now, based on iiko and Shtrikh-M).  Secondly, a queue detector has been developed. <br><br>  We had an <a href="https://ru.ivideon.com/blog/ivideon-predstavil-novyij-intellektualnyij-videoschetchik-ivideon-counter/">Ivideon Counter</a> , which determined the number of customers in the room.  Analytics allowed to move away from special equipment towards cloud computing.  Now we do not need a specific camera - any surveillance camera with 1080p + resolution will do.  Now we want not just to count people, but to determine the queues.  Therefore, they are ready to any store, shopping center or office, where people walk and stand forming queues, to provide a free camera for the queue detection test.  <a href="">Write to us</a> to take part in the project. <br><br>  In addition, Ivideon works with face recognition technology. <br><br>  <b>Who recognizes and how</b> <br><img src="https://habrastorage.org/files/74f/568/736/74f5687364af4b3f982f9fad36abeb09.jpg"><br>  <i>DeepFace technology is tested by Facebook on the example of recognizing the emotional face of Sylvester Stallone</i> <br><br>  Apple, Facebook, Google, Intel, Microsoft and other technological giants are working on solutions in this area.  Video surveillance complexes with automatic recognition of passengers' faces are installed in 22 US airports.  In Australia, they are developing a biometric system for recognizing faces and fingerprints as part of a program designed to automate passport and customs control. <br><br><img src="https://habrastorage.org/files/beb/5f4/0e5/beb5f40e582d4730a10140d01e146c87.jpeg"><br><br>  Baidu, the largest Chinese Internet company, conducted a successful experiment to refuse tickets using face recognition technology with an accuracy of 99.77%, with a shooting and recognition duration of 0.6 seconds.  At the entrances to the park there are stands with tablets and special frames that shoot.  When a tourist comes to the park for the first time, the system photographs it in order to use the facial recognition feature of the photo in the future.  New images are compared with photos from the database - this is how the system determines whether a person has the right to visit. <br><br><img src="https://habrastorage.org/files/7ad/26f/375/7ad26f37537d4b40b4d776b10772ad22.jpg"><br><br>  In China, technology is generally very good.  In 2015, Alipay, an online payment platform operator that is part of the Alibaba holding, launched a payment verification system based on Face ++, a cloud-based face recognition platform created by Chinese startup Megvii.  The system is called Smile to Pay - it allows Alipay users to pay for online purchases by shooting selfies (Alipay identifies the owner by a smile).  UBER in China has begun to <a href="http://itc.ua/news/uber-vnedrit-v-kitae-sistemu-raspoznavaniya-lits-dlya-voditeley/">use</a> Face ++-based face recognition for drivers to counter fraud, identity theft and additional safety for passengers. <br><br>  But it is more interesting to look not at foreign solutions, but at services created in Russia.  These technologies are much closer to the end user (if he is from our country), you can get acquainted with them, in the future to unite for use in your own product.  There are a lot of face recognition companies around.  Recall a few that remain on hearing. <br><br><img src="https://habrastorage.org/files/35d/dc5/4b8/35ddc54b85ce4cbd9c246565302e1836.jpg"><br><br>  Vocord company, founded back in 1999, works with FaceControl 3D with synchronous images from stereo cameras, builds a 3D model of a face in a frame, and automatically searches for a match between the resulting model and models in an existing database.  In 2016, Vocord <a href="http://www.cnews.ru/news/line/2016-06-30_vokord_perevodit_sistemy_vocord_facecontrol">began to use</a> its own mathematical algorithm for face recognition, which is based on convolutional neural networks, thanks to which their algorithms now work with any surveillance camera.  The company claims that they can recognize the faces (in the size of 128x128 pixels) of people following in the stream.  At the end of 2016, the Vocord DeepVo1 algorithm showed the best results in global identification testing, correctly <a href="http://megaface.cs.washington.edu/results/facescrubresults.html">recognizing</a> 75.127% of individuals. <br><br><img src="https://habrastorage.org/files/b10/944/2f2/b109442f29884a92b744058ae794d844.jpg"><br><br>  Founded in 2012, VisionLabs won the largest technological competition in Russia and Eastern Europe, <a href="http://www.gotech.vc/">GoTech</a> , and was included in the list of finalists for the European program <a href="http://sk.ru/news/b/news/archive/2016/05/17/visionlabs-poluchila-vysshie-ocenki-ekspertov-challenge-up_2100_.aspx">Challenge UP!</a>  ¬ª, Designed to accelerate the market launch of solutions and services based on the Internet of Things concept, has attracted multimillion investments and is already introducing its products into the commercial sector.  Recently, Otkrytie Bank launched VisionLabs face recognition system to optimize customer service and waiting time for customers in the queue.  Well, it is worth reading a wonderful story, as the experts from CROC <a href="https://habrahabr.ru/company/croc/blog/308300/">caught the cat</a> with the help of VisionLabs. <br><br>  VisionLabs, which showed one of the best results in recognition and error level, also works with neural networks that reveal specific features of each face, such as eye section, nose shape, auricle relief, etc.  Their system Luna allows you to find all these features of the person on the photo in the archives.  Another solution of the company, Face Is, recognizing the customer‚Äôs face in the store, finds his profile in the CRM system, learns the purchase history and interests of the buyer from it, and sends a notification to the phone with a personal offer of a discount on his favorite product category. <br><br>  Startup Skillaz, engaged in automating the process of hiring employees, and VisionLabs are going to <a href="http://www.cnews.ru/news/top/2017-01-24_v_rossii_razrabatyvayut_programmukotoraya_sama">present</a> at the end of 2017 a computer recognition system that will evaluate the behavior of job seekers when hiring.  After analyzing the data, the system will draw conclusions about the professional qualities of a person and suitability for the position.  The full characteristics of the machine hire system are not disclosed by the company.  It is only known that the candidate‚Äôs interpersonal skills will be evaluated on the basis of his answers to a specific set of questions asked by the online-interview system.  The neural network will look for the relationship of the candidate's behavior in the picture from the video surveillance camera and the degree of expression of one or another competence. <br><br>  The grid, which is a doctor Lightman and Sherlock Holmes in one person, will take into account the candidate's mimicry, his gestures, as well as physiognomy.  It is worth noting that the method of determining the type of a person‚Äôs personality, his spiritual qualities, based on the analysis of external facial features and his expression, in modern psychological science is considered a classic example of pseudoscience.  How to cope with this contradiction in the new product is still unclear. <br><br><img src="https://habrastorage.org/files/5a0/39e/744/5a039e744a0e416894dfe7a8d9386de3.jpg"><br>  <i>Slide from the presentation NTechLab, depressing Salman Radaev</i> <br><br>  NTechLab started with an application that determined the breed of dogs from a photo.  Later, they wrote a FaceN algorithm, with which they participated in the international contest <a href="http://megaface.cs.washington.edu/">The MegaFace Benchmark</a> in the fall of 2015.  NTechLab won in two nominations out of four, bypassing the Google team (after a year, Vocord will win in the same competition, and NTechLab will shift to the 4th position).  Success allowed them to quickly implement the <a href="https://findface.ru/">FindFace</a> service, searching for people from photos on VKontakte.  But this is not the only way to apply technology.  At the Alfa Future People festival organized by Alfa-Bank, with the help of FindFace, visitors could find their photos among hundreds of others by sending a selfie to a chat bot. <br><br>  In addition, NTechLab <a href="https://lenta.ru/news/2017/02/09/ntechlab/">showed a system</a> capable of real-time recognition of gender, age and emotions, using an image from a video camera.  The system is able to assess the audience's response in real time, so that you can determine the emotions that visitors experience during presentations or broadcasts of advertising messages.  All NTechLab projects are built on self-learning neural networks. <br><br>  <b>Ivideon's path to video analytics</b> <br><img src="https://habrastorage.org/files/337/7e9/625/3377e9625d0144298c8f9553c831d499.jpg"><br><br>  Face recognition is one of the most difficult tasks in the field of video analytics.  On the one hand, everything seems to be clear and has been used for a long time.  On the other hand, identification solutions in a crowd of people are still very expensive and do not provide absolute accuracy. <br>  In 2012, Ivideon began working with video analysis algorithms.  That year we launched applications for iOS and Android, entered foreign markets, launched decentralized CDN networks with servers in the USA, the Netherlands, Germany, Korea, Russia, Ukraine, Kazakhstan and became the only international video surveillance service that works equally well all over the world.  In general, it seemed that making analytics with blackjack and recognition would be simple and fast ... we were young, the grass seemed greener, and the air was sweet and weary. <br><br>  [ <i>At that time, we considered the classical algorithms.</i>  <i>First you need to detect and localize the faces in the image: use the <a href="https://habrahabr.ru/post/198338/">Haar cascades</a> , search for regions with a skin-like texture, etc.</i>  <i>Suppose we need to find the first person and accompany only him in the video stream.</i>  <i>Here you can use the <a href="https://habrahabr.ru/post/169055/">algorithm of Lucas-Canada</a> .</i>  <i>We find the face by the algorithm and then define the characteristic points in it.</i>  <i>We accompany the points with the help of the algorithm of Lucas-Canada;</i>  <i>after their disappearance we believe that the face has disappeared from sight.</i>  <i>Having received the characteristic features of the face, we will be able to compare it with the features embedded in the database.</i> <i><br><br></i>  <i>To smooth the trajectory of the object (person), as well as to predict its position in the next frame, we use <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B8%25D0%25BB%25D1%258C%25D1%2582%25D1%2580_%25D0%259A%25D0%25B0%25D0%25BB%25D0%25BC%25D0%25B0%25D0%25BD%25D0%25B0">the Kalman filter</a> .</i>  <i>Here it should be noted that the Kalman filter is designed for linear motion models.</i>  <i>For nonlinear, the <a href="https://habrahabr.ru/post/152553/">Particle Filter</a> algorithm is used (as an option Particle Filter + <a href="http://compression.ru/video/seminar/slides/2011_meanshift_video_segmentation.pdf">Mean Shift</a> algorithm).</i> <i><br><br></i>  <i>You can also use the background subtraction algorithms: a <a href="https://code.google.com/p/bgslibrary/">library</a> with examples of the implementation of the algorithms for subtracting the background + <a href="https://code.google.com/p/bgslibrary/">an article</a> on the implementation of the light background subtraction algorithm ViBe.</i>  <i>In addition, do not forget one of the most common methods of <a href="https://www.cs.cmu.edu/~efros/courses/LBMV07/Papers/viola-cvpr-01.pdf">Viola-Jones</a> , implemented in the library of computer vision OpenCV.</i>  ] <br><br>  Simple face recognition is good, but not enough.  It is also necessary to ensure stable tracking of several objects in the frame, even if they jointly intersect or temporarily ‚Äúdisappear‚Äù behind the obstacle.  Consider any number of objects crossing a certain zone and take into account the directions of intersection.  To know when an object / object appears and disappears in the frame - hover the mouse on the dirty cup on the table and find the moment in the video archive, when it appeared there and who left it.  In the process of tracking an object can change quite strongly (in terms of transformations).  But from frame to frame, these changes will be such that it will be possible to identify the object. <br><br>  In addition, we wanted to make a universal cloud solution accessible to all - from the most demanding users.  The solution had to be flexible and scalable, because we ourselves could not know what the user wants to follow and what the user wants to consider.  It is possible that someone would have been supposed to make a cockroach run with automatic determination of the winner on the basis of Ivideon. <br><br>  Only five years later we started testing individual components of video analytics - we will tell you more about these projects in new articles. <br><br>  PS So, we are looking for volunteers for queuing detector tests.  As well as users of the SHTRIH-M system for the test of a new system of control of cash transactions.  Write to the <a href="">mail</a> or in the comments. </div><p>Source: <a href="https://habr.com/ru/post/401765/">https://habr.com/ru/post/401765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../401749/index.html">FAS forces Apple to open an official service center in Russia</a></li>
<li><a href="../401751/index.html">Tales of the Space Shuttle</a></li>
<li><a href="../401753/index.html">Underwater launch systems: how to get out of water into orbit?</a></li>
<li><a href="../401755/index.html">For $ 5 on Darknet, you can buy "eternal" Internet access in the US</a></li>
<li><a href="../401763/index.html">Apple bought an Israeli startup for face recognition Realface</a></li>
<li><a href="../401767/index.html">The Chinese factory replaced 90% of employees with robots and received a performance increase of 250%</a></li>
<li><a href="../401769/index.html">Radical prolongation of life: anti-aging substances</a></li>
<li><a href="../401771/index.html">FAS threatens Google with "surprises"</a></li>
<li><a href="../401773/index.html">What can be offered to geek as a gift? Universal selection</a></li>
<li><a href="../401775/index.html">The colony. Chapter 5: Three Months Before</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>