<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a region plugin for Oracle Application Express</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is intended for all those who work closely with Oracle Application Express (in simple terms - APEX, or even just apex). As well as those ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a region plugin for Oracle Application Express</h1><div class="post__text post__text-html js-mediator-article">  This article is intended for all those who work closely with Oracle Application Express (in simple terms - APEX, or even just apex).  As well as those who have heard something and are thinking of starting to use it in their work.  After reading the article, I hope you will have the desire to do so. <br><br><h4>  Introductory information </h4><br>  It is assumed that the reader is familiar (or will get to know soon after reading) at least in general terms with the following things: <br><br><ul><li>  What is SQL and PL / SQL, and how do they differ from each other </li><li>  What objects are in Oracle DBMS and why are they needed (tables, packages, view) </li><li>  The main components of the apex application are: page, region, item, process, etc., how to create and delete them </li><li>  Fundamentals of apex administration: how to create a table, package, view, and how to make them available for your application in Oracle </li><li>  How to use the value of the item as an SQL query parameter </li></ul><br>  There is nothing supercomplex in these points, all these things at a basic level can more or less be mastered for a month of unhurried work.  The example is intended for the fifth version of the apex, which was released a little less than a year ago. <br><a name="habracut"></a><br><h4>  What is a region plugin in apex and what is needed for it </h4><br>  In the apex, you can create plug-ins of regions, items, processes, dynamic actions (Dynamic action) and authentication and authorization schemes.  What is a plug-in region, I think, is intuitive.  You are creating a new type of region that can do something that standard apex regions cannot do.  Often the most difficult thing here is to come up with some really worthwhile idea for implementation.  As an example for the article, I came up with a plugin for creating a rubrication, the source of inspiration was the alphabetic and subject indexes in the books and this <a href="http://htmlbook.ru/html">page</a> on the website htmlbook.ru.  So let's get started. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Initial data </h4><br>  To begin with, we will create tables with the data.  We will have a rubricator of the countries of the world selected by my left heel right before writing the article.  Suppose we keep a list of countries and continents, as well as links to Wikipedia articles about these countries.  We need to accurately and beautifully display this list on the screen, and so that they are divided into headings (headings will be the corresponding continents).  The plugin will also have one custom property - the number of columns in which data will be displayed. <br><br><div class="spoiler">  <b class="spoiler_title">Code to create tables and populate with data</b> <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> continent ( continent_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>, continent_name varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> country ( country_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>, country_name varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>), continent_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> continent (continent_id), <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">4000</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> continent(continent_id, continent_name) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'Europe'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> continent(continent_id, continent_name) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'Asia'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> continent(continent_id, continent_name) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'North America'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> continent(continent_id, continent_name) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'South America'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> continent(continent_id, continent_name) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'Australia'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'France'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%A4%D1%80%D0%B0%D0%BD%D1%86%D0%B8%D1%8F'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'Greece'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%93%D1%80%D0%B5%D1%86%D0%B8%D1%8F'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'Norway'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%9D%D0%BE%D1%80%D0%B2%D0%B5%D0%B3%D0%B8%D1%8F'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'Spain'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%98%D1%81%D0%BF%D0%B0%D0%BD%D0%B8%D1%8F'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'China'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%9A%D0%B8%D1%82%D0%B0%D0%B9%D1%81%D0%BA%D0%B0%D1%8F_%D0%9D%D0%B0%D1%80%D0%BE%D0%B4%D0%BD%D0%B0%D1%8F_%D0%A0%D0%B5%D1%81%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'India'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D0%B4%D0%B8%D1%8F'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'Japan'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%AF%D0%BF%D0%BE%D0%BD%D0%B8%D1%8F'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-string"><span class="hljs-string">'USA'</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%A1%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D1%91%D0%BD%D0%BD%D1%8B%D0%B5_%D0%A8%D1%82%D0%B0%D1%82%D1%8B_%D0%90%D0%BC%D0%B5%D1%80%D0%B8%D0%BA%D0%B8'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">'Canada'</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D0%BD%D0%B0%D0%B4%D0%B0'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'Mexico'</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%BA%D1%81%D0%B8%D0%BA%D0%B0'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-string"><span class="hljs-string">'Brasil'</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%91%D1%80%D0%B0%D0%B7%D0%B8%D0%BB%D0%B8%D1%8F'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-string"><span class="hljs-string">'Uruguay'</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%A3%D1%80%D1%83%D0%B3%D0%B2%D0%B0%D0%B9'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-string"><span class="hljs-string">'Chile'</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%A7%D0%B8%D0%BB%D0%B8'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> country (country_id, country_name, continent_id, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-string"><span class="hljs-string">'Australia'</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'https://ru.wikipedia.org/wiki/%D0%90%D0%B2%D1%81%D1%82%D1%80%D0%B0%D0%BB%D0%B8%D1%8F'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> by_continent <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> continent_name rubric, country_name <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> continent ct, country cr <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> ct.continent_id = cr.continent_id <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> rubric, <span class="hljs-keyword"><span class="hljs-keyword">upper</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> by_alphabet <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">upper</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">substr</span></span>(country_name, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)) rubric, country_name <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> country cr <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> rubric, <span class="hljs-keyword"><span class="hljs-keyword">upper</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>);</code> </pre> <br></div></div><br><h4>  Plugin </h4><br>  The plugin is created in the apex application.  Open the IDE, select the necessary application, go to the section "Shared Components", there we find the section "Other Components", and in it - "Plug-ins".  We go to the plugins page, click "Create", the plug-in wizard is launched.  Next in steps (there are only two): specify the method of creation - ‚ÄúFrom Scratch‚Äù, then specify the properties.  You must specify the name (‚ÄúName‚Äù), the internal name (‚ÄúInternal name‚Äù), the type of plug-in (‚ÄúType‚Äù - ‚ÄúRegion‚Äù) and the type of supported applications (‚ÄúSupported for‚Äù) - Desktop and Mobile (tick the necessary items) .  Next, click "Create Plug-in".  The plugin is created, now you need to configure it a bit.  Go to the properties of the plug-in (to do this, click on its name in the list of plug-ins), in the section "Standard Attributes" we tick the box next to "Region Source is SQL Statement" and "Region Source Required".  Go to the ‚ÄúCustom Attributes‚Äù section, click on ‚ÄúAdd Attribute‚Äù (to add a property to set the number of columns in the output), fill in the following fields: <br><br><ul><li>  "Scope" - "Component" </li><li>  "Attribute" - "1" (the ordinal number of custom attributes, below will be a little about what to do with this number then) </li><li>  "Display Sequence" - leave the default value of "10" </li><li>  ‚ÄúLabel‚Äù - ‚ÄúColumns count‚Äù (this name will be displayed in the settings when we will create a region based on this plugin) </li><li>  "Type" - "Integer" </li><li>  "Supported for" - "Desktop" </li></ul><br>  A spoon of tar in custom attributes.  There is one extremely unpleasant cant there: if you want to make a custom attribute of type ‚ÄúSelect List‚Äù, make it neat.  In the interface there are no buttons to delete individual entries, and also it is impossible to edit the return value.  Here is a screenshot of this indecency: <br><br><img src="https://habrastorage.org/files/213/90d/9b0/21390d9b019843738209e4ae1ec485ea.png"><br><br>  As you can see, the "Delete" button is not there.  And the ‚Äúreturn value‚Äù field is uneditable.  That is, if you make a mistake somewhere and do not notice right away, or decide to modify the list much, then you will have to delete the attribute and recreate it from scratch.  Yes, and all your 20 entries for the drop-down list too. <br><br>  Now about the most important feature of the plug-in: on the ‚ÄúCallbacks‚Äù tab, you must specify ‚ÄúRender Function Name‚Äù - the name of the PL / SQL function that will generate the HTML code for the region to be displayed by the browser.  According to the documentation, the function must have the following signature: <br><br><pre> <code class="sql hljs">function &lt;name of function&gt; ( p_region in apex_plugin.t_region, p_plugin in apex_plugin.t_plugin, p_is_printer_friendly in boolean ) return apex_plugin.t_region_render_result</code> </pre><br>  By the way, in order to get a description of this function, you do not even have to go into the documentation, just click on the question in front of the ‚ÄúRender Function Name‚Äù field and copy the text from the built-in prompt.  And since we started talking about documentation, the documentation for the <a href="https://docs.oracle.com/cd/E59726_01/doc.50/e39149/apex_plugin.htm">APEX_PLUGIN</a> and <a href="https://docs.oracle.com/cd/E59726_01/doc.50/e39149/apex_plugin_util.htm">APEX_PLUGIN_UTIL</a> packages is very useful to you for developing plug-ins. <br>  The most mysterious thing about this function is that I have not yet managed to find the description of the result returned by the function and where it is used.  You can simply return NULL, and everything will work. <br><br><h4>  Render function </h4><br>  The plugin is almost ready, now you need to make a rendering function.  Create a function: <br><br><pre> <code class="sql hljs">function render ( p_region in apex_plugin.t_region, p_plugin in apex_plugin.t_plugin, p_is_printer_friendly in boolean ) return apex_plugin.t_region_render_result is <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre><br>  The code that generates HTML, as you may have guessed, should be placed between the "begin" and "return null;" lines. <br>  To generate a region based on the result of the user's SQL query, this query must be retrieved and executed.  Getting the request is simple: we read the description of the apex_plugin.t_region type and find out that the request text is stored in the p_region.source field.  It remains only to run this query, but do not rush to grab EXECUTE IMMEDIATE, because here it will not help you!  The fact is that the user in the request can specify the parameters that are associated with page fields by the apex engine.  The apex engine can identify and fill them with data.  It‚Äôs almost impossible to do this yourself, you‚Äôll have to write your query parser.  How then to execute the request?  You can prevent the user from using queries with parameters, or you can delve into the depths of the documentation and find the APEX_PLUGIN_UTIL.GET_DATA family of functions (two GET_DATA functions and two GET_DATA2 functions, for details see the package documentation).  These functions take as input the SQL code of the query, parse it, define the parameters, find the corresponding items on the page, etc. The result is returned as a collection, its description is on the same documentation page.  The same p_region variable (which is a RECORD entry) contains attributes with the names attribute_01 ... attribute_25.  These numbers correspond to the numbers of custom attributes specified in the "Attribute" field in the creation process. <br><br>  And the last.  HTML code is inserted into the page using the htp.p procedure (not to be confused with http!).  That is the code <br><br><pre> <code class="sql hljs">htp.p('&lt;b&gt; !&lt;/b&gt;');</code> </pre><br>  Will display on the page the inscription "Hello!" In bold.  The full function code for our plugin will be lower. <br><br><h4>  I want to try too! </h4><br>  A plugin with everything you need can be found <a href="https://github.com/apexuser/rubrikator">here</a> .  Included are the following files: <br><br><ul><li>  region_type_plugin_rubrikator.sql - plugin export file </li><li>  render_plugin_rubrikator.pls - package header with render function </li><li>  render_plugin_rubrikator body.pls - package body with a rendering function </li></ul><br>  Installing the plug-in (no need to perform if you have completed all the steps to create a plug-in from this article): go to the IDE, open the application you need, import the file with the plug-in (region_type_plugin_rubrikator.sql).  Specify the File Type - Plug-in, click Next, Next, Install Plug-in. <br><br>  Package installation: compile the package from the files render_plugin_rubrikator.pls and render_plugin_rubrikator body.pls. <br><br>  The package contains a rendering function (render) and two procedures (prepare_demo and drop_demo), which, respectively, create and delete tables and view for demonstration (the code executed by the procedure prepare_demo is given at the beginning of the article; if you have already done it, call the procedure prepare_demo not need to).  Execute the prepare_demo procedure after installation: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> render_plugin_rubrikator.prepare_demo; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; /</code> </pre><br>  Now create a new page, create two regions on it.  Type the region, specify - Plug-ins, in the list of plug-ins, select "Rubrikator".  As a data source, specify: <br><br>  For the first region: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> by_continent</code> </pre><br>  For the second: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> by_alphabet</code> </pre><br>  Here, by_continent and by_alphabet are two views created by the prepare_demo procedure.  In the current version of the plugin, the requirements for the source request are as follows: the first column should contain the headings of headings, the second - items within the headings, the third - links.  If the link is NULL, the record will be shown on the page without the &lt;a&gt; tag. <br><br>  Select the value of the Columns count field in the plugin to your liking.  In my demo version will be 2 for the first and 3 for the second. <br>  The result of the first query, for example: <br><br><img src="https://habrastorage.org/files/5a6/385/7d5/5a63857d544c4cb08e366f753c9ef78b.png"><br><br>  And if you run the page, our plugin converts it to this form: <br><br>  First region: <br><br><img src="https://habrastorage.org/files/053/f75/94d/053f7594d7a948a0a57fdac350b5b03b.png"><br><br>  Second region: <br><br><img src="https://habrastorage.org/files/ad1/38d/dcf/ad138ddcfdd94e0d955ac37a2d8a4f34.png"><br><br>  <a href="https://apex.oracle.com/pls/apex/f%3Fp%3D34599:3">Link</a> to the page. </div><p>Source: <a href="https://habr.com/ru/post/275619/">https://habr.com/ru/post/275619/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275609/index.html">Efficient index management in Azure SQL Database using Index Advisor</a></li>
<li><a href="../275611/index.html">How I Fought Death Screens on Legacy Blade Servers</a></li>
<li><a href="../275613/index.html">Digital sound: DSD vs PCM</a></li>
<li><a href="../275615/index.html">Desktop JavaScript applications. Part 2</a></li>
<li><a href="../275617/index.html">Being a deaf developer</a></li>
<li><a href="../275621/index.html">The most interesting and significant events of 2015 in the field of financial technologies</a></li>
<li><a href="../275623/index.html">Stand back to the forest, and before me ...</a></li>
<li><a href="../275625/index.html">Research day</a></li>
<li><a href="../275627/index.html">Fear and Loathing in Multipeer Connectivity</a></li>
<li><a href="../275631/index.html">How to use a smartphone camera to take photos suitable for OCR or something about the ABBYY Mobile Imaging SDK</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>