<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Advertising Management (android)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Advertising in the application - this is a very important point, and sometimes the only income. 

 I think many people wondered what kind of advertisi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Advertising Management (android)</h1><div class="post__text post__text-html js-mediator-article">  Advertising in the application - this is a very important point, and sometimes the only income. <br><br>  I think many people wondered what kind of advertising is better and where it is better to place it.  Each application is individual, so you need to experiment. <br><br>  To release an app update every time with experiments?  Not an option.  It is much better to store all settings on the server side, and in the application to implement the logic of advertising. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But is everything so simple? <br><a name="habracut"></a><br>  The purpose of this post: <br>  - make a small contribution to open source ( <a href="https://github.com/AlexeyFreelancer/Android-Ads-Manager">source code</a> , <a href="https://play.google.com/store/apps/details%3Fid%3Dru.chinaprices.ads.app">demo</a> ) <br>  - get adequate criticism <br>  - find developers who are ready to support the project <br>  - popiarit the application <a href="https://play.google.com/store/apps/details%3Fid%3Dru.chinaprices">Prices in China</a> , where this approach is used <br><br><h4>  Foreword </h4><br>  Just want to say that I am not a very experienced Android / Java developer.  I program mainly in php (more than 5 years).  This is my first android application, so do not judge strictly. <br><br><h4>  Library features </h4><br><h5>  Types of advertising </h5><br>  - admob <br>  - StartAd.mobi <br>  - your banner, written in the form of html <br><br><h5>  Display </h5><br>  - Bottom <br>  - above <br>  - In the list (with a given step) <br>  - Inside the specified element (specify the id of the element) <br>  - Interstitial advertising (full screen) <br><br><h4>  Examples of using </h4><br><h5>  Admob bottom </h5><br><pre><code class="java hljs">AdMob ad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdMob(activity, adMobId); AdManager manager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdManager(ad); manager.show(Gravity.BOTTOM | Gravity.CENTER_HORIZONTAL);</code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18f/c55/9f2/18fc559f2469afa049d4cc062ecfba2e.png" alt="image" width="200"><br><br><h5>  Admob smart </h5><br>  If you need to stretch the entire width of the screen <br><pre> <code class="java hljs">adMob.setAdSize(AdSize.SMART_BANNER);</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b56/a89/76a/b56a8976a5463e97aa7d6e26a47e7cdd.png" alt="image" width="200"><br><br><h5>  Your banner on top </h5><br><pre> <code class="java hljs">AdCustom ad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdCustom(activity, html); AdManager manager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdManager(ad); manager.show(Gravity.TOP | Gravity.CENTER_HORIZONTAL);</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a3e/659/f96/a3e659f96361fc3d2ed4d26cab715e63.png" alt="image" width="200"><br><br><h5>  In the list in increments of 15 </h5><br><pre> <code class="java hljs">AdListAdapter adapter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdListAdapter(oldAdapter); AdMob ad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdMob(activity, adMobId); adapter.setStep(<span class="hljs-number"><span class="hljs-number">15</span></span>); adapter.setAd(ad); adapter.notifyDataSetChanged();</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee0/cc4/31d/ee0cc431df2ae8ff0feb26bee72f0704.png" alt="image" width="200"><br><br><h5>  In a specific place </h5><br><pre> <code class="java hljs">&lt;LinearLayout android:id=<span class="hljs-string"><span class="hljs-string">"@+id/inline_banner"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:orientation=<span class="hljs-string"><span class="hljs-string">"vertical"</span></span> /&gt; AdStartAd ad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdStartAd(activity, startadId); AdManager manager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdManager(ad); manager.showInView(<span class="hljs-string"><span class="hljs-string">"inline_banner"</span></span>);</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8fc/814/c3a/8fc814c3ab00fc6fb6b703bb14e20313.png" alt="image" width="200"><br><br><h5>  Interstitial banner </h5><br><pre> <code class="java hljs">AdMobInterstitialAd ad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdMobInterstitialAd(activity, admobId); ad.show();</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d54/14b/b18/d5414bb188afbea7e2570cc50497307f.png" alt="image" width="200"><br><br><h5>  Server side settings </h5><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdsLoadTask(getActivity(), sectionNumber, adapter, <span class="hljs-string"><span class="hljs-string">"android"</span></span>).execute();</code> </pre><br><br><h4>  Connect to the project </h4><br>  At the moment it is not a library, but a regular application.  To use it in your application, do the following: <br><br>  - transfer libraries from libs folder <br>  - update dependencies in build.gradle <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">compile</span></span> <span class="hljs-string"><span class="hljs-string">'com.google.android.gms:play-services:4.0.30'</span></span> compile files(<span class="hljs-string"><span class="hljs-string">'libs/StartADLib-1.0.1.jar'</span></span>) compile <span class="hljs-string"><span class="hljs-string">'com.google.code.gson:gson:2.2.4</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">@jar</span></span></span><span class="hljs-string">'</span></span></code> </pre><br>  - change AndroidManifest.xml <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta-data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"you@email"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta-data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"trackingId"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"yourid"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta-data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.google.android.gms.version"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@integer/google_play_services_version"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.google.android.gms.ads.AdActivity"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:configChanges</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br><br><h4>  Future plans </h4><br>  - implement backend for server settings.  I have already implemented this in the project, but I need to somehow transfer it. <br>  - statistics of hits (also implemented) and clicks <br>  - add more types of ads <br>  - fix TODO and FIXME in code <br>  - arrange in the form of a library (and not in the form of a project with copying files to the right places) <br>  - put in maven repository <br><br><h4>  Help </h4><br>  As always, there is not enough time, so any help from the developers will not hurt.  Let's not be shy to do something and show it to others.  I remembered the saying "Do not be afraid to make a mistake, be afraid not to try."  I do not ask to realize something supernatural.  Just if you use some of this in your project and decide to add something new, or if you find a bug, do not be lazy, send a pull request. <br><br><h4>  Experiments and conclusions </h4><br>  I experimented with advertising a lot (2 months) and found the best option for myself.  Many users do not like it, but managed to increase the CTR from 0.2 to 0.9.  There will be time - I will share statistics on the application (traffic, estimates, profit).  Already have a little experience and have something to tell. </div><p>Source: <a href="https://habr.com/ru/post/208984/">https://habr.com/ru/post/208984/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../208966/index.html">GUI Design</a></li>
<li><a href="../208968/index.html">LED workplace lighting</a></li>
<li><a href="../208970/index.html">The first steps to the universe MeteorJS</a></li>
<li><a href="../208978/index.html">The future of javascript MVC frameworks</a></li>
<li><a href="../208982/index.html">NameTag face recognition program defenders called "creepy"</a></li>
<li><a href="../208986/index.html">Server optimization for Drupal with measurement results</a></li>
<li><a href="../208988/index.html">Google bought the manufacturer of thermostats for $ 3.2 billion</a></li>
<li><a href="../208990/index.html">The transport problem with the partisanship ("with trailers")</a></li>
<li><a href="../208992/index.html">This is Science: Blow and Get Electricity</a></li>
<li><a href="../208994/index.html">Terminology or laid out on the shelves</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>