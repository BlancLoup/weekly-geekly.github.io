<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using classes in javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Methods of creating classes in JavaScript have been discussed more than once throughout the entire Internet and on Habr√© including, I decided to find ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using classes in javascript</h1><div class="post__text post__text-html js-mediator-article">  Methods of creating classes in JavaScript have been discussed more than once throughout the entire Internet and on Habr√© including, I decided to find a slightly different approach to creating classes that is close to real classes.  One important difference from the other implementations described in many articles is the ability to create accessors (setter's / getter's).  Which will work not only in modern browsers, but also in long-lived IE below the 9th version.  Read about it below. <br><br>  To begin with, I will describe how to create the classes of the types we need, classes can have the usual public properties, private properties and static properties. <br><a name="habracut"></a><br><h4>  Creating classes </h4><br>  To create a class, simply declare the class name and assign an object to it. <br>  An example of creating an empty class: <br><pre><code class="hljs ruby">classes.Class( <span class="hljs-string"><span class="hljs-string">"EmptyClass"</span></span>, {} ); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    classes.EmptyClass alert( classes.EmptyClass ); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  [<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EmptyClass</span></span></span><span class="hljs-class">]</span></span></code> </pre> <br>  As you already understood the creation of a class does not require a huge amount of writing code. <br><br>  To create a class with private properties, it is enough to declare the second parameter not an object but a function in which the class object will be returned. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      An example of a class with private properties: <br><pre> <code class="hljs ruby">classes.Class( <span class="hljs-string"><span class="hljs-string">"PrivatePropertyClass"</span></span>, function(){ <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   / var privateProp = <span class="hljs-string"><span class="hljs-string">"tratata"</span></span>, twoPrivateProp = <span class="hljs-string"><span class="hljs-string">"lalala"</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { } }); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    var privateTest = new classes.PrivatePropertyClass(); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     alert( privateTest.privateProp ); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  undefined</code> </pre><br>  Classes can be created not only in the context of classes, but also in any other. <br><br>  For example, I will show several ways of how this is done, you can choose any way that is acceptable for you, without limiting yourself to anything. <br><br>  Here are ways to create a class in any convenient context: <br><pre> <code class="hljs pgsql">//      <span class="hljs-keyword"><span class="hljs-keyword">window</span></span> classes.<span class="hljs-keyword"><span class="hljs-keyword">Class</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>, "GlobalClass", {} ); //      var CurrentContextClass = classes.<span class="hljs-keyword"><span class="hljs-keyword">Class</span></span>( {} ); //           //     classes c  ClassesContextClass var CurrentContextClass = classes.<span class="hljs-keyword"><span class="hljs-keyword">Class</span></span>( "ClassesContextClass", {} );</code> </pre><br>  On this, with the creation of classes, we‚Äôll actually finish; I don‚Äôt need other ways. <br><br><h4>  Work with classes </h4><br>  Now I will show how to work with classes, the principle of their work is no different for example from the classes existing in PHP.  "It can not be like that!" You ask, yes, of course it cannot.  There are some subtleties here, of course there is no possibility of creating interfaces, abstraction and other full-fledged charms of the PLO.  But using existing possibilities, the programmer can safely use the knowledge of class programming, the behavior of classes is predictable, the context does not run there / here, but has the same instance of the generated class. <br><br>  To begin with, let's create a simple class that will display information in a browser window. <br><pre> <code class="hljs markdown">classes.Class( "Debug", function() { //   var //       BODY   body = null, //           body   cache = [<span class="hljs-string"></span><span class="hljs-string"></span>]; return { //  ,        //  callback   ,     constructor: function( callback ) { //          var listener = window.addEventListener ? [<span class="hljs-string"><span class="hljs-string"> "addEventListener", "" </span></span>] : [<span class="hljs-string"><span class="hljs-string"> "attachEvent", "on" </span></span>]; //       , //      if ( document.readyState === "complete" ) { //      ,     //       BODY body = document.body; //        //     if ( callback &amp;&amp; typeof callback === "function" ) { callback.call( this ); } //      return; } //        callback' var self = this; //   ,       window[<span class="hljs-string"><span class="hljs-string"> listener[ 0 </span></span>] ]( listener[ 1 ] + "load", function() { //     ,     //      BODY body = document.body; //        ,   . for( var i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cache.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++ ) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">body.appendChild</span></span></span></span><span class="xml"><span class="hljs-tag">( </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cache</span></span></span></span><span class="xml"><span class="hljs-tag">[ </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag"> ] ); </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cache</span></span></span></span><span class="xml"><span class="hljs-tag">[ </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag"> ] = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">null;</span></span></span></span><span class="xml"><span class="hljs-tag"> } //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cache.length</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0;</span></span></span></span><span class="xml"><span class="hljs-tag"> //        //     </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ( </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">callback</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp;&amp; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">typeof</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">callback</span></span></span></span><span class="xml"><span class="hljs-tag"> === </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"function"</span></span></span></span><span class="xml"><span class="hljs-tag"> ) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">callback.call</span></span></span></span><span class="xml"><span class="hljs-tag">( </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">self</span></span></span></span><span class="xml"><span class="hljs-tag"> ); } // </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">bubbling</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">http:</span></span></span></span><span class="xml"><span class="hljs-tag">//</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">learn.javascript.ru</span></span></span></span><span class="xml"><span class="hljs-tag">/</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">bubbling-and-capturing</span></span></span></span><span class="xml"><span class="hljs-tag"> }, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">false</span></span></span></span><span class="xml"><span class="hljs-tag"> ); }, //             </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">write:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">function</span></span></span></span><span class="xml"><span class="hljs-tag">() { //  </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">DIV</span></span></span></span><span class="xml"><span class="hljs-tag">      </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">var</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">div</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">document.createElement(</span></span></span></span><span class="xml"><span class="hljs-tag"> "</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">DIV</span></span></span></span><span class="xml"><span class="hljs-tag">" ), //       ,   //       </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">TRUE</span></span></span></span><span class="xml"><span class="hljs-tag">  //          </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">DOM</span></span></span></span><span class="xml"><span class="hljs-tag"> // </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">isPlainText</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">arguments.length</span></span></span></span><span class="xml"><span class="hljs-tag"> ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">arguments</span></span></span></span><span class="xml"><span class="hljs-tag">[ </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">arguments.length</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> ] === </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">true</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">false</span></span></span></span><span class="xml"><span class="hljs-tag">, //      </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dataArray</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Array.prototype.slice.call(</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">arguments</span></span></span></span><span class="xml"><span class="hljs-tag"> ); //       </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">HTML</span></span></span></span><span class="xml"><span class="hljs-tag">   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">DOM</span></span></span></span><span class="xml"><span class="hljs-tag">  </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ( </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">isPlainText</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp;&amp; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dataArray.pop</span></span></span></span><span class="xml"><span class="hljs-tag">() ) { //       ,   //            </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">DOM</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">div.appendChild</span></span></span></span><span class="xml"><span class="hljs-tag">( </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">document.createTextNode</span></span></span></span><span class="xml"><span class="hljs-tag">( </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dataArray.join</span></span></span></span><span class="xml"><span class="hljs-tag">( ", " ) ) ); } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span></span><span class="xml"><span class="hljs-tag"> { //        </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">DOM</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">div.innerHTML</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">dataArray.join(</span></span></span></span><span class="xml"><span class="hljs-tag"> ", " ); } //           </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ( </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">body</span></span></span></span><span class="xml"><span class="hljs-tag"> ) { //        </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">BODY</span></span></span></span><span class="xml"><span class="hljs-tag">  </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">body.appendChild</span></span></span></span><span class="xml"><span class="hljs-tag">( </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">div</span></span></span></span><span class="xml"><span class="hljs-tag"> ); } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span></span><span class="xml"><span class="hljs-tag"> { //          </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">BODY</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cache</span></span></span></span><span class="xml"><span class="hljs-tag">[ </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cache.length</span></span></span></span><span class="xml"><span class="hljs-tag"> ] = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">div;</span></span></span></span><span class="xml"><span class="hljs-tag"> } } } });</span></span></span></span></code> </pre><br>  Here we have created our full-fledged class, in it we used the approach with private properties, this class doesn‚Äôt do anything particularly clever, but simply displays the text in a browser window, while waiting for the document to load completely so that an error does not occur. <br><br>  For example, we can now create an instance of this class and print our first message. <br><pre> <code class="hljs pgsql">var <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> classes.<span class="hljs-keyword"><span class="hljs-keyword">Debug</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>( "  &lt;var&gt;classes.Debug&lt;/var&gt;  !" );</code> </pre><br>  ‚ÄúNothing special!‚Äù You say, the usual unnecessary creation of classes in a different way.  Yes, I will answer you, there is nothing particularly abstruse here, but the goodies have not yet been told. <br><br><h4>  Inheritance </h4><br>  Let's now create our second class that will inherit the properties of our Debug class.  Our new class will be the usual button that will change color when you click on it. <br><pre> <code class="hljs cmake">//   ButtonClass      Debug classes.Class( <span class="hljs-string"><span class="hljs-string">"ButtonClass extends Debug"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { //   var mouseState = <span class="hljs-number"><span class="hljs-number">0</span></span>, //   ,  DOM  button = null; //   <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> switchState( type ) { //     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( type === <span class="hljs-number"><span class="hljs-number">1</span></span> ) { mouseState++; //             button.style.backgroundColor = <span class="hljs-string"><span class="hljs-string">"green"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( type === <span class="hljs-number"><span class="hljs-number">2</span></span> ) { mouseState--; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { mouseState = <span class="hljs-number"><span class="hljs-number">0</span></span>; } //     button.style.backgroundColor = <span class="hljs-string"><span class="hljs-string">"red"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { //     constructor: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { //     button = document.createElement( <span class="hljs-string"><span class="hljs-string">"SPAN"</span></span> ); //      button.style.border = <span class="hljs-string"><span class="hljs-string">"1px solid blue"</span></span>; button.style.color = <span class="hljs-string"><span class="hljs-string">"white"</span></span>; button.style.textAlign = <span class="hljs-string"><span class="hljs-string">"center"</span></span>; button.style.backgroundColor = <span class="hljs-string"><span class="hljs-string">"red"</span></span>; button.style.borderRadius = <span class="hljs-string"><span class="hljs-string">"5px"</span></span>; button.style.padding = <span class="hljs-string"><span class="hljs-string">"4px"</span></span>; button.style.cursor = <span class="hljs-string"><span class="hljs-string">"default"</span></span>; //      button.innerHTML = <span class="hljs-string"><span class="hljs-string">"  "</span></span>; //    -   Debug //            //  ,   Debug      this.parent.constructor( <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { //      var self = this; //      DOM document.body.appendChild( button ); //     IE      button.onselectstart = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } //     button.onmousedown = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>( e ) { //     var e = e || window.event; //   ,    switchState( <span class="hljs-number"><span class="hljs-number">1</span></span> ); //        //     . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( e.preventDefault ) { e.preventDefault(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { e.returnValue = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } } //      button.onmouseup = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { //   , -  switchState( <span class="hljs-number"><span class="hljs-number">2</span></span> ); //         <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( mouseState === <span class="hljs-number"><span class="hljs-number">0</span></span> ) { //      //     self.click(); } } //       button.onmouseout = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { //     ,    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( mouseState &amp;&amp; mouseState++ ) { //       switchState( <span class="hljs-number"><span class="hljs-number">2</span></span> ); } } //        button.onmouseover = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { //     ,   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( mouseState &amp;&amp; mouseState-- ) { //      switchState( <span class="hljs-number"><span class="hljs-number">1</span></span> ); } } //          var handler = window.document.onmouseup; window.document.onmouseup = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>( e ) { //        switchState(); //       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( handler ) { handler.call( window, e ); } } }); }, //     DOM    node: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> button; }, //    ,       //          . click: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { } } });</code> </pre><br>  And so we created a new class ButtonClass that inherits the properties of the Debug class. As you have already noticed, inheritance is done by adding the word extends followed by the name of the class with which we want to inherit the properties. <br><br>  This is not the only mode of inheritance, it can be done in another way, for example: <br><pre> <code class="hljs pgsql">var Child = classes.<span class="hljs-keyword"><span class="hljs-keyword">Class</span></span>( classes.<span class="hljs-keyword"><span class="hljs-keyword">Debug</span></span>, {} );</code> </pre><br><br>  As we see the class. Child became the heir of the classes. Class. <br><br>  And now let's try our written button. <br><pre> <code class="hljs pgsql">//    var button = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> classes.ButtonClass(); //        button.click = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { //  <span class="hljs-keyword"><span class="hljs-keyword">write</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">Debug</span></span> this.<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>( "         " ); } //         :) button.<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>( "  &lt;var&gt;classes.ButtonClass&lt;/var&gt;  !" );</code> </pre><br>  As you see, we have a fully working button, maybe it‚Äôs not beautiful, but these are trifles.  You can always change the style, the name of the button.  This is just a small example of how projects can be implemented in classes. <br><br><h4>  Setters / Getters </h4><br>  And now let's move on to the very goodies, which are so lacking due to limitations, as you know Internet Explorer below version 9 does not allow working normally with getters / setters, this is a huge minus in project development.  Yes, of course, the possibilities of the language do not diminish from this, and the possibility of writing programs, too.  But I still tried to implement them in the current classes, I can rather call it some ‚Äúmagic getter / setter‚Äù, there is no need to hang for each property any defineProperty, but simply specify which properties should be intercepted. <br><br>  Let us expand our class of buttons with you and create a kind of super class that will give you the opportunity to change the text of the button through getters / setters.  In this class, we will not use constructors or private methods, but only create a property that will be intercepted by a magic getter / setter <br><pre> <code class="hljs lua">classes.Class( <span class="hljs-string"><span class="hljs-string">"SuperButtonClass extends ButtonClass"</span></span>, { //        / //  ,         //             //              $text: null, //  ,         //    property     ,   //       ,      //    set__: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( property, value )</span></span></span></span> { //             this.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>( <span class="hljs-string"><span class="hljs-string">" SETTER   &lt;var&gt;"</span></span> + property + <span class="hljs-string"><span class="hljs-string">"&lt;/var&gt;   &lt;var&gt;"</span></span> + value + <span class="hljs-string"><span class="hljs-string">"&lt;/var&gt;"</span></span> ); //    text <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( property === <span class="hljs-string"><span class="hljs-string">"text"</span></span> ) { //        this.node().innerHTML = value; } }, //  ,           //  ,             // ,     . get__: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( property )</span></span></span></span> { //             this.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>( <span class="hljs-string"><span class="hljs-string">" GETTER   &lt;var&gt;"</span></span> + property + <span class="hljs-string"><span class="hljs-string">"&lt;/var&gt;"</span></span> ); //    text <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( property === <span class="hljs-string"><span class="hljs-string">"text"</span></span> ) { //      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> this.node().innerHTML; } } });</code> </pre><br>  Here we have created a super class for the button, which simply gives the opportunity to change the text of the button by simply assigning the text property, the value we need, of course, not all features of the getters / setters can be used in any conditions, with any data type, etc. . <br><br>  And now let's look at what we did: <br><pre> <code class="hljs pgsql">//      var superButton = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> classes.SuperButtonClass(); //  ,       //        superButton.<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>( "    : &lt;var&gt;" + superButton.text + "&lt;/var&gt;" ); //              //         superButton.text = "   "; //           superButton.<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>( "  &lt;var&gt;classes.SuperButtonClass&lt;/var&gt;  !" );</code> </pre><br>  All the examples described you can see in action here <a href="http://spb-piksel.ru/classes/">on this link</a> . <br><br><h4>  Static properties </h4><br>  It makes no sense to describe static properties in particular, as everyone knows they are added in the usual way known to all: <br><pre> <code class="hljs objectivec">classes.SuperButtonClass.NEW_STATIC = <span class="hljs-string"><span class="hljs-string">" "</span></span>;</code> </pre><br><br>  Finally, I want to draw attention to the fact that when referring to parent methods, you do not need to explicitly specify the context.  I think you notice that I call the Debug class constructor from our button class, the usual call to this.parent.constructor () while the debug class will already have the context of the last descendant, that is, the initiator of the classes.  You do not need to call parent methods through the well-known call, apply, etc.  Simply call this.parent.parentMethod (args);  and the relative will work with the child context. <br><br>  I also add that the creation of additional getters / setters in an already existing instance of the class, of course, cannot be added in a browser such as IE below version 9.  Therefore, there are small restrictions on the dynamics, so when using getters / setters in the descendant classes and / or its heirs, it will not be possible to add dynamically any properties.  But this restriction applies only to IE below version 9, and if there is at least one getter / setter. <br><br>  Suppose we want to create an additional property on an instance of the class SuperButtonClass or its descendants, which we do not yet have.  But in the future they will be in any case.  That attempt to create will lead to an error in the IE below version 9, because the object with setters / getters is generated via VBScript and there as you know there is a restriction that does not allow to declare an additional property if it is not explicitly specified. <br><br>  But at the instance of the class ButtonClass we can easily create additional properties, since we do not use setters / getters for this class and its descendants. <br><br>  I also want to add that the native instanceof will not respond correctly to these classes, so for these cases I added the classes.instanceOf method to check if the instance belongs to the class we need in our case: <br><pre> <code class="hljs lisp">alert( <span class="hljs-name"><span class="hljs-name">classes</span></span>.instanceOf( <span class="hljs-name"><span class="hljs-name">superButton</span></span>, classes.Debug ) )<span class="hljs-comment"><span class="hljs-comment">; //  TRUE</span></span></code> </pre><br><br>  That's all about classes in this article, in the future there will probably be some additions <br>  changes and of course error correction.  Although during the development of their identified was not. <br><br>  Have a nice class build, good luck and thank you for your attention and future criticism! <br><br>  Download the library for working with classes, you can link: <a href="http://code.spb-piksel.ru/%3Fclasses.latest.zip">http://code.spb-piksel.ru/?classes.latest.zip</a> <br>  I will also post it on GitHub: <a href="https://github.com/devote">https://github.com/devote</a> where you can download not only her, but also my other projects. <br><br>  <i>UPD: As <a href="http://habrahabr.ru/post/141770/">Ashot</a> noted in one of the comments, there are many libraries already invented for building classes in JavaScript.</i>  <i>But this library is different from all of them in that it has the ability to create accessors (setter's / getter's).</i>  <i>I did not find such an implementation in any of the mentioned libraries.</i>  <i>Accessors work not only in modern browsers, but also in IE below version 9.</i>  <i>This is what I want to distinguish my implementation from other class creation implementations.</i> </div><p>Source: <a href="https://habr.com/ru/post/141770/">https://habr.com/ru/post/141770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../141762/index.html">Rules for a startup during an investment boom</a></li>
<li><a href="../141765/index.html">Facebook has announced an Instagram acquisition agreement. Issue price - $ 1 billion</a></li>
<li><a href="../141766/index.html">Open control system "smart home" MajorDoMo</a></li>
<li><a href="../141767/index.html">Cluster and ‚Äúregular‚Äù MySQL indices (InnoDB)</a></li>
<li><a href="../141769/index.html">What do unit tests mean to you?</a></li>
<li><a href="../141772/index.html">Sensors. It makes sense!</a></li>
<li><a href="../141773/index.html">Mysql on twitter</a></li>
<li><a href="../141774/index.html">Timelapse of the game programmer (Notch)</a></li>
<li><a href="../141775/index.html">Why does infographic make sense?</a></li>
<li><a href="../141776/index.html">Rebuilding Dual Opteron 252 server internals</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>