<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Junior FPGA Design Engineer: how to become?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Sometimes novice developers are not very well aware of what literature should be read in order to seriously study a particular language. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Junior FPGA Design Engineer: how to become?</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  Sometimes novice developers are not very well aware of what literature should be read in order to seriously study a particular language. <br><br>  Development under FPGA (FPGA) is not just any language.  This is a very voluminous area, with a huge number of pitfalls and nuances. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article you will find: <br><ul><li>  the list of topics that a novice developer should master under FPGA </li><li>  recommended literature for each topic </li><li>  a set of test questions and laboratory work </li><li>  classic novice bugs (and correction tips) </li></ul><br>  Welcome under the cut! <br><a name="habracut"></a><br><h3>  What you need to know and be able to </h3><br><h4>  Digital circuit design </h4><br>  It is necessary: <br><ul><li>  know the basic digital nodes (logical elements AND / OR / NOT, encoders, multiplexers, totalizers, etc.) </li></ul><br>  <b>Literature</b> : <br><ul><li>  <a href="http://www.amazon.com/Digital-Design-Computer-Architecture-Edition/dp/0123944244">David Harris, Sarah Harris.</a>  <a href="http://www.amazon.com/Digital-Design-Computer-Architecture-Edition/dp/0123944244">Digital Design and Computer Architecture</a> is a very large book, telling from the Azov to the top.  There is a version <a href="https://habrahabr.ru/post/259505/">in Russian</a> .  I looked through the Russian version: it is read very quickly and easily. </li><li>  <a href="https://www.ozon.ru/context/detail/id/5217645/">Ugryumov E.P.</a>  <a href="https://www.ozon.ru/context/detail/id/5217645/">‚ÄúDigital circuitry‚Äù</a> is a classic <s>Soviet</s> textbook, with all the ensuing consequences (some topics are explained too difficult, and you cannot immediately understand whether you need this information now or you can skip it).  I read an older edition, perhaps in the 2010 edition, everything changed for the better, did not look. </li></ul><br>  <i>Test questions</i> : <br><ol><li>  What is the difference between digital circuitry and analog? </li><li>  What are the basic digital nodes?  In which of them the output depends only on the input? </li><li>  What is a multiplexer?  Draw a 4 in 1 multiplexer circuit from the primitive elements AND / OR / NOT. </li><li>  Build a truth table for the expression: <b>X = A or (B and C) or D.</b> </li></ol><br><h4>  HDL syntax </h4><br>  This includes: <br><ul><li>  knowledge of synthesized constructs (syntax) HDL-language </li><li>  knowledge of how to describe basic digital nodes using an HDL language </li><li>  understanding of what (on the part of basic digital nodes) this or that piece of HDL code turns into </li><li>  ability to write in HDL language to get the desired behavior </li></ul><br>  As an HDL language, I recommend first learning the most basic constructs of <b>Verilog</b> 'a, and then switching to <b>SystemVerilog</b> . <br><br>  <b>Literature</b> : <br><ul><li>  <a href="http://www.amazon.com/FPGA-Prototyping-Verilog-Examples-Spartan-3/dp/0470185325">Pong P. Chu.</a>  <a href="http://www.amazon.com/FPGA-Prototyping-Verilog-Examples-Spartan-3/dp/0470185325">"FPGA prototyping by Verilog examples"</a> - signs Verilog, starting with the basics.  The syntax is detailed and there are a huge number of examples, both simple (counters) and higher levels (UART and VGA). </li><li>  <a href="http://iosifk.narod.ru/hdl_coding/verilog.htm">Joseph Karshenboym.</a>  <a href="http://iosifk.narod.ru/hdl_coding/verilog.htm">"Short course HDL"</a> - a classic course in Russian. </li><li>  <a href="http://www.asic-world.com/">www.asic-world.com</a> is a website with a bunch of examples on both Verilog and SystemVerilog. </li><li>  David Harris, Sarah Harris.  Digital Design and Computer Architecture (see above) </li><li>  <a href="http://www.amazon.com/SystemVerilog-Design-Second-Edition-Hardware/dp/0387333991">Stuart Sutherland.</a>  <a href="http://www.amazon.com/SystemVerilog-Design-Second-Edition-Hardware/dp/0387333991">SystemVerilog for Design</a> is a book about Verilog and SystemVerilog differences.  Basic knowledge of Verilog is required to read.  It is recommended to read to understand what amenities were introduced in the new standard. </li></ul><br>  <i>Test questions</i> : <br><ol><li>  How is blocking assignment different from non-blocking?  When should one apply when another? </li><li>  Is there a difference between the following three descriptions?  If so, what is it manifested in? <br><pre><code class="hljs pgsql">// code <span class="hljs-number"><span class="hljs-number">1</span></span>: assign a = b + c; // code <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @( b <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> c ) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> a = b + c; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> // code <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @( * ) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> a = b + c; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> </li></ol><br><br>  <i>Test items</i> : <br>  1. Draw a pattern from the base digital nodes for the following code: <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs vhdl">module test( input clk_i, input a_i, input [<span class="hljs-number"><span class="hljs-number">2</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] b_i, output reg x_o ); reg [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] cnt = <span class="hljs-number"><span class="hljs-number">8</span></span><span class="hljs-symbol"><span class="hljs-symbol">'d0</span></span>; reg [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] cnt2; wire c; reg d; always @( posedge clk_i ) cnt &lt;= cnt + <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">'d1</span></span>; always @(*) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> cnt2 = cnt + <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">'d1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> assign c = ( cnt &lt; <span class="hljs-number"><span class="hljs-number">8</span></span><span class="hljs-symbol"><span class="hljs-symbol">'d5</span></span> ) &amp;&amp; ( a_i == <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">'b0</span></span> ); always @( posedge clk_i ) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> d &lt;= c; x_o &lt;= c ? ( d ) : ( cnt2[ b_i ] ); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> endmodule</code> </pre><br></div></div><br>  2. Draw the behavior of the circuit from item 1 (i.e. the state of all ‚Äúvariables‚Äù) under the following input influences: <br><img src="https://habrastorage.org/files/aed/b0d/1a4/aedb0d1a41684a2c9502e029dffefd0f.png"><br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  Timeteps are drawn using the online <a href="http://wavedrom.com/editor.html">WaveDrom</a> editor. <br></div></div><br><br>  3. Write a module to control the traffic light, which will light red, yellow and green lights in the well-known sequence: red, red and yellow, green, green blinks, yellow, red.  The parameters that specify the burning time of traffic lights and the flashing period of the green light are the parameters of the module.  The time is set in the number of clock cycles <b>clk_i</b> . <br><br>  Module Interface: <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs lua">module traffic_light( // c <span class="hljs-built_in"><span class="hljs-built_in">input</span></span> clk_i, //   <span class="hljs-built_in"><span class="hljs-built_in">input</span></span> rst_i, //  <span class="hljs-number"><span class="hljs-number">1</span></span>,    ,  <span class="hljs-number"><span class="hljs-number">0</span></span> ‚Äî     <span class="hljs-built_in"><span class="hljs-built_in">output</span></span> red_o, <span class="hljs-built_in"><span class="hljs-built_in">output</span></span> yellow_o, <span class="hljs-built_in"><span class="hljs-built_in">output</span></span> green_o );</code> </pre></div></div><br><br><h4>  Simulation and verification of HDL-code </h4><br>  It is necessary: <br><ul><li>  know the non-synthesized designs of Verilog and SystemVerilog </li><li>  be able to write a simple testbench, run it in the simulator (for example, ModelSim) </li><li>  understand how the ‚Äúperfect‚Äù testbench should be arranged </li></ul><br>  <b>Literature</b> : <br><ul><li>  <a href="http://testbench.in/">testbench.in</a> - a huge number of verification examples using Verilog'a and SystemVerilog'a. </li><li>  <a href="http://www.amazon.com/SystemVerilog-Verification-Learning-Testbench-Language/dp/144194561X">Chris Spear.</a>  <a href="http://www.amazon.com/SystemVerilog-Verification-Learning-Testbench-Language/dp/144194561X">‚ÄúSystemVerilog for Verification‚Äù</a> is a good, big book about verification using SystemVerilog.  Reads easily, you can find answers to many questions. </li></ul><br>  <b>Video Tutorials</b> : <br><ul><li>  <a href="http://wl.altera.com/education/training/courses/ODSW1120">Altera.</a>  <a href="http://wl.altera.com/education/training/courses/ODSW1120">"Overview of Mentor Graphic's ModelSim Software"</a> </li></ul><br>  <i>Test questions</i> : <br><ol><li>  How does <b>function</b> differ from <b>task</b> ? </li><li>  Imagine that you wrote the simplest HDL model of a 5-stage RISC processor.  How will you verify it?  (The <i>issue of increased complexity</i> ). </li><li>  What is the difference between a <b>queue</b> and a <b>mailbox</b> (data types in the SystemVerilog language)? </li><li>  What is the difference between functional simulation and temporary one?  When what should be used? </li></ol><br><br><h4>  Fpga </h4><br>  It is necessary: <br><ul><li>  know what basic elements the FPGA consists of </li><li>  Understand how workflow development happens under FPGA </li><li>  Intuitively imagine which operations for FPGA are cheap and which are expensive (in terms of frequency and resources) </li></ul><br>  I work with <b>Altera</b> chips, so here and beyond the name of the families and utilities will be from this vendor.  If you know similar literature for <b>Xilinx</b> - write in a personal or in the comments - I will definitely add it to the article. <br><br>  <b>Literature</b> : <br><ul><li>  <a href="https://www.altera.com/content/dam/altera-www/global/en_US/pdfs/literature/misc/fpgas_for_dummies_ebook.pdf">Andrew Moore.</a>  <a href="https://www.altera.com/content/dam/altera-www/global/en_US/pdfs/literature/misc/fpgas_for_dummies_ebook.pdf">‚ÄúFPGAs for Dummies‚Äù</a> is a story about FPGA in a very high-level (marketing) language.  You can look with one eye. </li><li>  <a href="https://www.altera.com/content/dam/altera-www/global/en_US/pdfs/literature/hb/cyc3/cyclone3_handbook.pdf">Altera Cyclone III Handbook</a> - datasheet on the relatively old FPGA family from Altera. </li><li>  <a href="http://www.amazon.com/Advanced-FPGA-Design-Architecture-Implementation/dp/0470054379">Steve Kilts.</a>  <a href="http://www.amazon.com/Advanced-FPGA-Design-Architecture-Implementation/dp/0470054379">"Advanced FPGA Design"</a> - a class book, reveals many nuances of development. </li></ul><br>  <b>Video Tutorials</b> : <br><ul><li>  <a href="http://wl.altera.com/education/training/courses/ODSW1006">Altera.</a>  <a href="http://wl.altera.com/education/training/courses/ODSW1006">Basics of Programmable Logic: FPGA Architecture</a> </li><li>  <a href="https://www.youtube.com/watch%3Fv%3DgUsHwi4M4xE">David L. Jones (EEVblog).</a>  <a href="https://www.youtube.com/watch%3Fv%3DgUsHwi4M4xE">‚ÄúWhat Is An FPGA?‚Äù</a> Is a smart video with a story about what FPGA is. </li></ul><br>  <i>Test questions</i> : <br><ol><li>  What is the difference between FPGA and ASIC?  What blocks does the FPGA consist of (or can it consist of)? </li><li>  Try to outline the range of tasks for which it is good (economically feasible) to use FPGA, and for which MCU and CPU? </li><li>  What hardware blocks do you know?  What are they used for?  (By hardware blocks we mean <b>Hard IP</b> ). </li><li>  The Y family uses LUT with three inputs and one output.  What is the minimum number of LUTs to calculate <b>assign eq = (a == b);</b>  if <b>a</b> and <b>b</b> are 32-bit positive integers?  And if LUT has four (five, six) inputs? </li><li>  You need to create a single-port memory of 16 words.  Each word is 100 bits wide.  How many M9K blocks (9216 bits) will be occupied?  We believe that we are doing a project under Cyclone III.  <b>(*)</b> </li></ol><br>  In questions marked with <b>(*)</b> , of course, do not need to remember everything by heart, but you can use datasheets. <br><br><h4>  Synchronous design and everything related to timings </h4><br>  It is necessary: <br><ul><li>  know the principle of synchronous design </li><li>  know the negative consequences of one or another scheme </li><li>  to have the concept of constrains </li></ul><br>  <b>Literature</b> : <br><ul><li>  Steve Kilts.  ‚ÄúAdvanced FPGA Design‚Äù (see above). </li><li>  <a href="https://www.altera.com/content/dam/altera-www/global/en_US/pdfs/literature/hb/qts/qts_qii5v1.pdf">Altera.</a>  <a href="https://www.altera.com/content/dam/altera-www/global/en_US/pdfs/literature/hb/qts/qts_qii5v1.pdf">The Quartus Handbook</a> is the <b>Recommended Design Practices</b> chapter. </li><li>  <a href="https://www.altera.com/en_US/pdfs/literature/wp/wp-01082-quartus-ii-metastability.pdf">Altera.</a>  <a href="https://www.altera.com/en_US/pdfs/literature/wp/wp-01082-quartus-ii-metastability.pdf">Understanding Metastability</a> </li><li>  <a href="https://habrahabr.ru/post/254869/">nerudo.</a>  <a href="https://habrahabr.ru/post/254869/">"Metastability trigger and inter-cycle synchronization"</a> </li></ul><br>  <i>Test questions</i> : <br><ol><li>  What are timing constraints?  Where are they described and what are they for (what are they used for)?  What happens if you do not describe them? </li><li>  What is <a href="https://en.wikipedia.org/wiki/Clock_domain_crossing">clock domain crossing</a> ?  How and when should it be carried out? </li><li>  What is the difference between synchronous and asynchronous reset?  What will happen if a synchronous reset input has an asynchronous reset? </li><li>  What is a latch (latch, latch)?  What are the consequences of using latch?  Give an example of the code that creates latch. </li><li>  What is a combination loop?  What are the consequences of using a combination loop? </li><li>  What is <a href="https://en.wikipedia.org/wiki/Metastability_in_electronics">metastability</a> ?  How to achieve it?  What are its pros and cons? </li><li>  What is a glitch?  Do I need to deal with this?  And if so, where and how? </li><li>  What is setup time / hold time for a D-trigger? </li></ol><br><br><h4>  CAD </h4><br>  It is necessary: <br><ul><li>  be able to create a project </li><li>  be able to describe I / O pins and constrains (at least for simple situations, without complex I / O interfaces) </li><li>  know what build reports there are, what information is contained in each of them </li><li>  be able to use the debugging tool on the hardware </li><li>  be able to use the tool for the analysis of timings ( <a href="https://en.wikipedia.org/wiki/Static_timing_analysis">STA</a> ) </li><li>  know what ready IP cores / modules (FIFO, RAM, FFT, DDR, Ethernet, etc.) the vendor provides and how you can add them to the project </li></ul><br>  <b>Literature:</b> <br><ul><li>  <a href="https://www.altera.com/en_US/pdfs/literature/hb/qts/qts-qps-handbook.pdf">Altera.</a>  <a href="https://www.altera.com/en_US/pdfs/literature/hb/qts/qts-qps-handbook.pdf">"Quartus Handbook"</a> </li><li>  <a href="">Altera.</a>  <a href="">SignalTap II with Verilog Designs</a> </li><li>  <a href="http://www.kit-e.ru/articles/plis/2010_9_51.php">Denis Shehelev.</a>  <a href="http://www.kit-e.ru/articles/plis/2010_9_51.php">‚ÄúSynopsys Design Constraint - language for setting time constraints on the example of Altera TimeQuest‚Äù</a> is a good series of articles in Russian.  see also <a href="http://embedders.org/content/timequest-dlya-chainikov-chast-1-vvedenie">TimeQuest for Dummies</a> . </li></ul><br>  <b>Video Tutorials</b> : <br><ul><li>  <a href="http://wl.altera.com/education/training/courses/ODSW1110">Altera.</a>  <a href="http://wl.altera.com/education/training/courses/ODSW1110">The Quartus Prime Software: Foundation.</a> </li><li>  <a href="http://wl.altera.com/education/training/courses/ODSW1100">Altera.</a>  <a href="http://wl.altera.com/education/training/courses/ODSW1100">‚ÄúUsing the Quartus Prime Software: An Introduction‚Äù.</a> </li><li>  <a href="http://wl.altera.com/education/training/courses/ODSW1050">Altera.</a>  <a href="http://wl.altera.com/education/training/courses/ODSW1050">"The Quartus II Software Interactive Tutorial".</a> </li><li>  <a href="http://wl.altera.com/education/training/courses/ODSW1115">Altera.</a>  <a href="http://wl.altera.com/education/training/courses/ODSW1115">"TimeQuest Timing Analyzer"</a> </li></ul><br><br>  <i>Test questions</i> : <br><ol><li>  What stages of assembly occur from clicking on the ‚ÄúCollect the project completely‚Äù button to get the finished binary file?  What happens at each stage? </li><li>  How to see if the CAD was able to put the project in the specified constraints (constraints)? </li></ol><br><h3>  Lectures and laboratory </h3><br>  I spent two semesters reading the FPGA Development course for senior students at universities in St. Petersburg.  The course included both lectures and a set of laboratory works.  Lectures were based on the literature listed above. <br><br>  Course Plan: <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs markdown">: <span class="hljs-bullet"><span class="hljs-bullet">*   ?  . *</span></span>   ( Quartus ).   Verilog: <span class="hljs-bullet"><span class="hljs-bullet">*      ( HDL ). *</span></span> /  . <span class="hljs-bullet"><span class="hljs-bullet">*    : *</span></span>      . <span class="hljs-bullet"><span class="hljs-bullet">* , /   *</span></span>  . <span class="hljs-bullet"><span class="hljs-bullet">*     . *</span></span>     . <span class="hljs-bullet"><span class="hljs-bullet">* /  . *</span></span> . <span class="hljs-bullet"><span class="hljs-bullet">*   Verilog   . *</span></span>     ( +SystemVerilog ): <span class="hljs-bullet"><span class="hljs-bullet">*    . . Testbench.    testbench. *</span></span>    testbench'. <span class="hljs-bullet"><span class="hljs-bullet">*  .   . *</span></span>     ( ,   .. ). <span class="hljs-bullet"><span class="hljs-bullet">*   tasks. *</span></span>   . <span class="hljs-bullet"><span class="hljs-bullet">*      . *</span></span> SystemVerilog Assertions. <span class="hljs-bullet"><span class="hljs-bullet">*  testbench    . *</span></span>  c  (  ) .</code> </pre><br></div></div><br><br>  Names of lectures (in 2015): <br><ol><li>  Introduction to FPGA. </li><li>  Internal FPGA device. </li><li>  Introduction to Verilog / SystemVerilog.  Examples of the description of various types of logic. </li><li>  Synchronous design.  Create simple testbenches. </li><li>  Description of FSM, arrays and structures in SystemVerilog.  Memory: creation with Verilog and MegaWizard. </li><li>  How DCFIFO works.  Static Timing Analysis.  TimeQuest, constraints. </li><li>  Verification: coverage, assertions, SystemVerilog interfaces </li><li>  Interfaces family Avalon.  IP Cores.  Qsys. </li><li>  Verification: SystemVerilog OOP, constrained-random tests. </li></ol><br><br>  <b><a href="https://docs.google.com/presentation/d/1pUk1kK9gGWy3QSpgtpRLsY_3wEI-_GFdtp7V3mZlBF0/edit">Lecture slides</a></b> <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  Unfortunately, these are the SLIDES who helped me to give lectures (not all the course information is contained on the slides, some I used as a support, and the material was given on the board). <br><br>  Sometimes there will be pictures that are not related to the neighboring ones (for example, tasks for tests that were given at lectures). <br></div></div><br>  <b>Laboratory work</b> : <br><ul><li>  <a href="https://docs.google.com/document/d/1OWOetCGb0vYiaHr9PbsJuTxlZY02bhdQ2PeUwBnjK6Y/edit">Laba # 1.</a> </li><li>  <a href="https://docs.google.com/document/d/1ktYGSyMlFkcoeSomaC9Ck82WGTXwHs3xknXZvMJ5eIk/edit">Laba # 2.</a> </li><li>  <a href="https://docs.google.com/document/d/1XjU6yS5ckeTJ32rAAF_O6qVYrzR9LnUNIZktXXHkstQ/edit">Laba # 3.</a> </li><li>  <a href="https://docs.google.com/document/d/1dTQWKiZppWN8Cnc8fbAibH_eZsnNVUyzme3oIPtUp7U/edit">Laba # 4.</a> </li></ul><br><h3>  Classic mistakes </h3><br>  In this part of the article I will talk about common mistakes that novice developers make, and give advice on how to fix them. <br><br><h4>  Confusion in assignments (blocking and non-blocking) </h4><br>  <b>Symptoms</b> : <br><ul><li>  you are not very confident about the question of blocking and non-blocking assignments (see above) </li><li>  you notice that you randomly change <b>"="</b> to <b>"&lt;="</b> (and vice versa), hoping that it will work </li><li>  the simulator shows weird things, you start to doubt that you understand how the D-trigger works </li><li>  simulation results do not consistently coincide with what is happening on the gland (somewhere, something is floating in tact) </li></ul><br>  <b>Treatment</b> : <br><ul><li>  Understand the Verilog material (see literature above) </li><li>  if you want the simulation result to coincide with what will be synthesized and embodied on the hardware, remember a simple rule: in blocks that describe combinational logic ( <b>always_comb</b> , <b>always @ (*)</b> ), you must use only blocking assignments ( <b>=</b> ).  In the blocks that describe the triggers ( <b>always_ff</b> , <b>always @ (posedge clk ...)</b> ) you are obliged to use only non-blocking assignments ( <b>&lt;=</b> ). </li></ul><br><br><h4>  Timing problem </h4><br>  <b>Symptoms</b> : <br><ul><li>  simulation results do not match what is happening on the gland </li><li>  iron is unstable: sometimes clearly visible interference (for example, on VGA) </li><li>  "I added a signal tap, and after that the circuit stopped working correctly, I removed the signal tap and everything is fine" </li></ul><br>  <b>Treatment</b> : <br><ul><li>  register all the necessary constraints (at least the used clock frequency (or frequencies) in the * .sdc file), connect this file to the project </li><li>  recompile the project.  Go to TimeQuest and see if there are negative weak ones, and if there is, then further understand why this happens (perhaps it‚Äôs enough to twist the settings in Quartus, or you have to rewrite the pieces of code). </li></ul><br>  If you see oddities in SignalTap, then double-check whether the signals you are shooting with the ‚Äúgating‚Äù frequency are synchronous. <br><br><h4>  Not following the principles of synchronous design (asynchronous) </h4><br>  Continuation of the first paragraph, but I decided to allocate it separately. <br><br>  <b>Symptoms are</b> similar with the previous paragraph. <br><br>  For some reason, many people like to do this: <br><pre> <code class="hljs vhdl">// BAD EXAMPLE ... input clk_i, ... logic [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] sec_cnt; logic [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] min_cnt; logic last_sec_value; assign last_sec_value = ( sec_cnt == <span class="hljs-number"><span class="hljs-number">8</span></span><span class="hljs-symbol"><span class="hljs-symbol">'d59</span></span> ); always_ff @( posedge clk_i ) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( last_sec_value ) sec_cnt &lt;= <span class="hljs-symbol"><span class="hljs-symbol">'d0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> sec_cnt &lt;= sec_cnt + <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">'d1</span></span>; always_ff @( posedge last_sec_value ) min_cnt &lt;= min_cnt + <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">'d1</span></span>;</code> </pre><br><br>  Those.  The input signal on the <b>min_cnt</b> trigger uses a different signal than the sync pulse <b>clk_i</b> .  It is formed by combinational logic (the output of the comparator). <br><br>  Or like this: <br><pre> <code class="hljs lua">// BAD EXAMPLE ... <span class="hljs-built_in"><span class="hljs-built_in">input</span></span> clk_a_i, <span class="hljs-built_in"><span class="hljs-built_in">input</span></span> clk_b_i, ... logic [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] cnt_a; logic [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] cnt_b; logic [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] sum; always_ff @( posedge clk_a_i ) cnt_a &lt;= cnt_a + <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-string"><span class="hljs-string">'d1; always_ff @( posedge clk_b_i ) cnt_b &lt;= cnt_b + 1'</span></span>d1; always_ff @( posedge clk_b_i ) sum &lt;= cnt_a + cnt_b;</code> </pre><br><br>  The input of the trigger <b>sum</b> comes the output of combinational logic, the input of which is powered by <b>different</b> clock signals. <br><br>  Both examples are <b>wrong</b> , never do that!  These examples are a clear <b>violation of the</b> rules of synchronous design. <br><br>  I guess it all comes from the 2000s, when the chips were small and the developers survived as best they could. <br>  Most likely at small frequencies (such as 1 MHz) it rolled, but if you are going to join a team that does serious things on top-end chips, then for such tricks you can easily fly out of the internship. <br><br>  <b>Treatment</b> : <br><ul><li>  go through the whole project, write out (on a piece of paper) what clocking clock (signal) is used for each trigger. </li><li>  understand how this number can be reduced to the minimum number (within reasonable limits, of course), correct the code according to the rules of synchronous design. </li><li>  go through the whole project and carefully track how clock domain crossing happens (i.e. data transfer from one frequency to another).  Correct if it happens incorrectly. </li><li>  perform all steps from the <b>‚ÄúProblem in Timings‚Äù</b> . </li></ul><br><br><h4>  Continuous debugging on hardware (ignoring simulation) </h4><br>  You make this mistake if the development looks like this: <br><ul><li>  edit hdl file </li><li>  complete project compilation </li><li>  flashing binary on board </li><li>  connection using SignalTap, viewing the desired signals </li><li>  understanding of the error, the transition to claim 1 </li></ul><br>  Why is that bad: <br><ul><li>  with SignalTap, you cannot see all the signals if you have a large project </li><li>  you take your time, or the time of your employer, when compiling a complete project, because  this may take considerable time.  On small chips, it takes 5-10 minutes, and you can type and score and go at this time to smoke / drink tea / play kicker, but on large projects this will go sideways. </li><li>  need a working board at hand </li><li>  you are not sure that the changes in the code are working and will not break something else </li></ul><br>  <b>Treatment</b> : <br><ul><li>  write a testbench for the entire project, or for its parts </li><li>  achieve proper operation in the simulation </li><li>  build a project, check on the board </li></ul><br>  If something does not work on iron, then: <br><ul><li>  walk on the points indicated above (timings and asynchronous) </li><li>  if there are no problems in timings, then try to understand at what input influences this happens </li><li>  submit these effects in the simulation, make sure that the problem is reproduced </li><li>  correct the error in the RTL code, check in the simulation and on the hardware </li><li>  <b>Required</b> : conclude why the previous version of the simulation could not catch this error </li></ul><br><br><h4>  No development rules (+ <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25B4_%25D1%2581_%25D0%25B7%25D0%25B0%25D0%25BF%25D0%25B0%25D1%2588%25D0%25BA%25D0%25BE%25D0%25BC">code with backfill</a> ) </h4><br>  <b>Symptoms</b> : <br><ul><li>  You spend a lot of time reading (parsing) the code you wrote yesterday. </li><li>  You often write the same type of code (the most popular keys on your keyboard are <b>Ctrl + C</b> and <b>Ctrl + V</b> ) </li><li>  you cannot understand the code that your colleague wrote (if you are working together on one module / IP core), and it is yours. </li></ul><br>  <b>Treatment</b> : <br><ul><li>  Get acquainted with the literature that tells how to write good code, for example, <a href="https://www.ozon.ru/context/detail/id/3159814/">McConnell.</a>  <a href="https://www.ozon.ru/context/detail/id/3159814/">"Perfect Code"</a> </li><li>  develop and describe the development rules for the team.  Or use ready-made: <a href="https://github.com/NetFPGA/netfpga/wiki/VerilogCodingGuidelines">NetFPGA</a> , <a href="http://electronix.ru/forum/index.php%3Fshowtopic%3D128849%26st%3D0">discussion on electronix # 1</a> , <a href="http://electronix.ru/forum/index.php%3Fshowtopic%3D18207">discussion on electronix # 2</a> , or <a href="">one</a> that I use. </li><li>  Give your review code to more experienced developers.  You can ask about this on the <a href="http://electronix.ru/forum/index.php%3Fshowforum%3D75">electronix</a> forum in the appropriate section.  Of course, it is desirable that something more serious than the blinking of the LEDs, otherwise you just will not understand :). </li></ul><br><h3>  Conclusion </h3><br>  I hope that in this article I have revealed that it is necessary to read and know in order to enter the world of development for FPGA. <br><br>  I am sure that if you: <br><ul><li>  can easily answer the test questions above (without memorization, of course) </li><li>  decide correctly laboratory work </li><li>  get rid of the "classic mistakes" </li><li>  execute 1-2 projects on githab and check them on hardware.  (preferably more complicated than blinking LEDs and watches). </li></ul><br>  you can easily claim the position of a junior in a serious company. <br><br>  Of course, this path can not be mastered in one weekend.  It may take a month and not one, but this path must be taken if you want to go from student FPGA to professional development. <br><br>  Thanks for attention! <br>  As always, I will be glad to questions and comments in the comments or in personal mail. <br><br>  PS <br>  Sometimes they write to me in PM: <br><blockquote>  Good day. <br>  I am a student of 3 (4, 5) courses of such a university. <br>  I like the idea of ‚Äã‚Äãwriting under FPGA (concurrency, you can do what you want, blah blah blah) and like Java (made simple Android applications).  I want to do something of this more or less seriously.  What do you advise to teach? </blockquote><br>  Most often, I offer them to look at two references ( <a href="https://spb.hh.ru/search/vacancy%3Ftext%3Dfpga">FPGA</a> and <a href="https://spb.hh.ru/search/vacancy%3Ftext%3Djava">JAVA</a> ) and draw conclusions on their own. </div><p>Source: <a href="https://habr.com/ru/post/281525/">https://habr.com/ru/post/281525/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../281515/index.html">How to determine the best time for a transaction in the stock market: Trend following algorithms</a></li>
<li><a href="../281517/index.html">How to write a bloom filter in C ++</a></li>
<li><a href="../281519/index.html">More than 80 Linux system monitoring tools</a></li>
<li><a href="../281521/index.html">What's new in Vim 8</a></li>
<li><a href="../281523/index.html">Develop HTML5 games in Intel XDK. Part 3. Meet the Snake</a></li>
<li><a href="../281529/index.html">Microsoft fixed badlock vulnerability in Windows</a></li>
<li><a href="../281531/index.html">Results of ‚ÄúQIWI Scaladrom Meetup‚Äù</a></li>
<li><a href="../281533/index.html">Post nostalgia: how we started Acronis at MIPT and in the attic of the upper-air observatory</a></li>
<li><a href="../281535/index.html">What is ‚Äúpatreon.com‚Äù and what you need to know about it</a></li>
<li><a href="../281537/index.html">A tool to quickly find scenes in video files</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>