<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Elephants love mangoes, part 1/2: backstage look at Evernote for Windows Phone 7</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="By: Damien Meyers, Evernote Client Creator for WP7 



 Introduction 
 A year ago, I worked in the IT department of a large retail company, managing a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Elephants love mangoes, part 1/2: backstage look at Evernote for Windows Phone 7</h1><div class="post__text post__text-html js-mediator-article">  <i><b>By: Damien Meyers, Evernote Client Creator for WP7</b></i> <br><br><img src="http://blog.evernote.com/ru/wp-content/uploads/2011/07/image00.jpg" alt="image"><br><br><h4>  Introduction </h4><br>  A year ago, I worked in the IT department of a large retail company, managing a team of 11 people.  In general, since adolescence, I have been developing software, but I always wanted to try myself in a managerial position.  I sold my first two startups before they became growing companies, so the lack of management experience remained my weak point, which had to be worked on. <br>  Then came the opposite situation.  I liked the leadership work, it turned out to be quite within my power, but I also felt the need for programming in order not to lose my skills. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As a result, in my free time I wrote an Evernote client for Windows Mobile 6.5.  It introduced a number of features that were not available in the official app, such as offline notes.  And as soon as I finished working on it, Microsoft announced the reboot of its strategy in the mobile market and the release of Windows Phone 7 (WP7). <br><br>  At that time, I was already beginning to understand that management was not for me and began to think about a new startup when Phil Libin, CEO of Evernote, called me and asked if I would like to join Evernote and create a client for WP7.  It was very timely - of course, I agreed.  And recently, we presented the first version of the client for this platform. <br><br>  This is a story about what was implemented and what was not, what makes WP7 a great platform for development, and what difficulties are there.  I will also try to consider the possibilities that will open with the release of the next version of WP7, codenamed Mango. <br><a name="habracut"></a><br><br><h4>  Decent development platform </h4><br><br><h5>  Old roots </h5><br>  By choosing .NET and Silverlight as the basis for WP7, Microsoft immediately made the platform attractive to a large community of already existing .NET developers. <br><br>  Despite the fact that I had little experience with Silverlight, I had been working on C # for many years, and now I have the opportunity to apply the skills I learned again.  If you already had development experience using technologies such as Language Integrated Query ( <a href="http://en.wikipedia.org/wiki/Language_Integrated_Query">LINQ</a> ), <a href="http://msdn.microsoft.com/en-us/library/bb397687.aspx">lambdas,</a> and the garbage collection, it will be difficult for you to discard them afterwards. <br><br>  Silverlight has been around for several years, and although the technology has not become popular on the Internet, it is quite popular in intranet development for corporate environments. <br>  Silverlight and the Model View ViewModel ( <a href="http://en.wikipedia.org/wiki/Model_View_ViewModel">MVVM</a> ) design pattern are used together.  You declare that your user interface will be processed as an XML language called <a href="http://en.wikipedia.org/wiki/Extensible_Application_Markup_Language">XAML</a> that is declaratively bound to your ViewModel code.  This means that you can test your ViewModel code separately, without having to use the user interface.  Silverlight also received a fantastically convenient animation and visual presentation control system. <br><br><h4>  Excellent toolkit </h4><br>  WP7 developers are spoiled.  Not only because we have a powerful mature and functional IDE in Visual Studio with such great plugins as Resharper, but also because we have a fast emulator, as well as a full-fledged separate designer utility in Expression Blend. <br><br>  The emulator really works as a full-fledged virtual machine, using the capabilities of hardware virtualization on your computer.  The advantage is that it provides high performance, but at the same time you will not be able to develop within the virtual machine, since the emulator simply will not run in it. <br><br>  Blend allows you to design, develop animation and customize the user interface of the application.  Although it was originally developed as a paid hi-end tool for designers, it caused a lot of emotions from developers, so Microsoft made it free for WP7 developers.  It's easy and convenient to work with it, because Blend allows you to focus on the appearance and interactions of your interface and do storyboards and animation without worrying about the code. <br><br><h4>  Community </h4><br>  <b>Community</b> <br>  The presence of a strong community around the development under WP7 cannot be called something unique, however, perhaps because of the youth of the platform, high activity is felt in the community. <br><br>  In addition to the usual places, such as <a href="http://stackoverflow.com/questions/tagged/windows-phone-7">Stack Overflow</a> and Microsoft‚Äôs <a href="http://forums.create.msdn.com/forums/98.aspx">own forum</a> , there are sites such as <a href="http://www.windowsphonegeek.com/">Windows Phone Geek</a> , which provide a constant influx of quality tips and tricks, as well as articles on this topic. <br><br>  <b>Components</b> <br>  Since the platform is still new, people are laying out new frameworks in various places, but you can see that people are starting to gather around <a href="http://wp7contrib.codeplex.com/">WP7Contrib</a> . <br><br>  In the Evernote client for WP7, I used: <br><ol><li>  Microsoft WP7 <a href="http://silverlight.codeplex.com/releases/view/60291">Toolkit</a> </li><li>  <a href="http://www.galasoft.ch/mvvm/">MVVM Light Toolkit</a> by Laurent Bunion </li><li>  <a href="http://phoney.codeplex.com/">PhonyTools</a> Sean Wildermut's FadingMessage Component </li><li>  <a href="http://www.scottlogic.co.uk/blog/colin/2011/03/metro-in-motion-fluid-list-animation/">Fluid List Animation</a> by Colin Eberhardt with <a href="http://damianblog.com/2011/04/04/fluidlonglistselector/">minor changes</a> . </li></ol><br><br><h4>  Some difficulties </h4><br><h5>  No database </h5><br>  Everyone has probably already heard about the interviews at Google, when they ask you to tell in detail about the implementation of various hashing and sorting algorithms that you will never use in practice. <br><br>  Welcome to a world where this knowledge can come in handy.  In the first release of WP7, there is no database technology available to developers.  All that is is isolated storage and the ability to search files. <br><br>  The function of storing notebooks offline along with the possibility of finding thousands of notes in a client makes the absence of a database a sensitive difficulty.  A note is in the same notebook and can have zero or more labels associated with it.  You can view notes by notebooks or tags, and the list of notes can be sorted by a variety of parameters, including headers, date, and location.  In general, the database would be very helpful. <br><br>  Several people attended to this gap and offered database technologies of different levels of complexity and completeness.  I spent several weeks at the end of 2010 ‚Äî beginning of 2011 trying them, and did not find one that would satisfy all my requirements.  In the end, I decided that it was easier for me to make my bike, and created my own simple mechanism. <br><br><h5>  Platform errors </h5><br>  It is usually quite presumptuous to assume that you have found a mistake in the platform - it is much more likely that the problem is in your own code.  However, in the first release of a new platform, such as Windows Phone 7, sometimes the fault lies really on its side. <br><br>  For example, you cannot set focus on any control on your page after the focus has received a browser component.  Or how do you fly when you try to restore the selection of the third item in the list in pivot?  Or unexpected error messages in your logs?  All these things I encountered turned out to be WP7 problems, quite understandable by the platform‚Äôs youth.  Just be more or less ready for the fact that not only your code can be the cause of the problem. <br><br>  There are also some features that you expected to find there, but they are simply not there ‚Äî for example, although you can download a data stream from a site, you do not have the inverse possibility to send a stream to the site.  This means that if you want to send data to the site, all information in the sending process must be in memory.  This is a problem when you upload very large files. <br><br>  Finally, the platform itself requires launching various functions in a UI stream in unexpected situations, such as accessing IsolatedStorage or a network connection (even if it is initiated without a UI thread and, of course, does not use the WebClient class), which can affect the performance . <br><br><h5>  Smooth scrolling </h5><br>  Given the platform‚Äôs emphasis on providing a fast, responsive interface, it was unpleasantly surprised at how difficult it is to implement a truly smooth scrolling when you have a lot of items on the list, including with images and possible dynamic loading.  Oh yes, I mentioned that there may be thousands of such items on the list? <br><br>  I used the built-in listbox.  It provides user interface virtualization through <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.virtualizingstackpanel(v%3DVS.95).aspx">VirtualizingStackPanel</a> , which means that interface objects will be initialized only for visible elements.  It also allows you to virtualize data: if the list to which ListBox is associated implements IList, then it simply requests a list of items that are currently needed, that is, you can dynamically load items from the data source as needed. <br><br>  Despite these advantages, I also brought LongListSelector from the WP7 Toolkit to work.  It has some interesting features, such as grouping and anchors, that tell you when the data list is in use and when it is not.  It provides user interface virtualization, but it lacks data virtualization - the first thing it does is pass each item in the list to which it is attached ... <br><br>  There are many articles and techniques for creating a smooth scroll.  This includes loading data from background threads, and pausing loading while scrolling.  But still it‚Äôs quite difficult to do everything correctly when you have a lot of elements, and not all of them are in memory. <br><br>  In the next version of the client for WP7, I decided to return to using ListBox because of the advantages of a particular approach to working with IList elements, where list items are requested only when it is really difficult to do without them. <br><br>  <i><a href="http://habrahabr.ru/company/evernote/blog/123860/">Continuation</a></i> </div><p>Source: <a href="https://habr.com/ru/post/123630/">https://habr.com/ru/post/123630/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123621/index.html">Solaris Container (zone). Creation and administration. Part 2</a></li>
<li><a href="../123623/index.html">iPad News app - BBC clone?</a></li>
<li><a href="../123626/index.html">Citrix Synergy 2011: Through the Clouds</a></li>
<li><a href="../123627/index.html">Help on the basic features of the interface XMind, made in the program itself</a></li>
<li><a href="../123628/index.html">Why do we listen but not hear?</a></li>
<li><a href="../123631/index.html">Accepting applications for two-character .SU open</a></li>
<li><a href="../123632/index.html">Isosurface rendering using reykasting algorithm</a></li>
<li><a href="../123633/index.html">TeamLab: 2 sevens + 1 year = 30 thousand portals</a></li>
<li><a href="../123635/index.html">Scalable JavaScript applications</a></li>
<li><a href="../123636/index.html">Basics of SQL on the example of the task</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>