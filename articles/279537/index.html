<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a nanoCAD distribution with custom settings</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In large organizations, the process of preparing and setting up designer workplaces is often difficult and routine. It would seem that to solve such a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a nanoCAD distribution with custom settings</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/nanosoft/blog/279537/"><img src="https://habrastorage.org/files/981/258/437/981258437e7940c8b3479100ecffa211.png"></a> <br>  In large organizations, the process of preparing and setting up designer workplaces is often difficult and routine.  It would seem that to solve such a trivial task as installing a CAD system, you do not need to spend a lot of resources, you just need to distribute the distribution package through domain policies or simply ‚Äúshare‚Äù the folder with the ready distribution package and boldly start working in the CAD system.  The question arises: ‚ÄúWhat if the organization has its own design standards for the release of documentation, if there are own developments in the form of ready-made blocks or teams?  Do you plan to use a common database (if SPDS, Reinforced concrete or Construction site is used)? ‚Äù <br><br>  In this case, we face another task - to set up users' workplaces, and it‚Äôs extremely irrational to do this with each individual place.  Distributing an already customized distribution is the only correct solution.  Where does your nanoCAD settings store?  How to create your own distribution?  We will consider these and some other questions in more detail.  The instruction is intended for machines on Windows 7 and above. <a name="habracut"></a><br><br><h2>  Distribution preparation </h2><br>  You need to download the product distribution from the site <a href="https://www.nanocad.ru/products/">nanocad.ru</a> .  In our example, we will work with the nanoCAD SPDS 6 <b>NCSP60x32_468.exe distribution</b> . <br>  We need to install the program, because in the future we will work with its files.  After installation, go to the distribution .exe file. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Unpack the downloaded .exe file (for example, using the 7-zip archiver) into an arbitrary folder (in our case we called it nanoInstall).  After unpacking, we get the next set of files presented in Fig.  one. <br><br><img src="https://habrastorage.org/files/db7/990/327/db79903274a94703bb3a0d447184fd5d.png"><br>  Fig.  1. Unpacked distribution kit nanoCAD SPDS 6 <br><br>  The nanoCAD program stores its settings in several files located in different directories.  For correct distribution of the distribution kit it is necessary to decompose these settings into different folders.  Therefore, we will create in nanoInstall a folder for storing LocalEx settings with subdirectories, as shown in fig.  2 <br><br><img src="https://habrastorage.org/files/161/65e/fb0/16165efb0c594db8af10513248ee1623.png"><br>  Fig.  2 Folder structure customizable distribution <br><br>  After creating the necessary folder structure in nanoinstall, you need to find and prepare configuration files that are responsible for the settings of our distribution (Settings.xml; AppOptions.xml; CAD.cfg; nCAD.ini, etc.). <br>  They are located in the appropriate directories, which will be discussed below. <br><br>  <i>Note: We can change the settings on the already installed nanoCAD, but in order for them to take effect, you need to reset the interface settings (Fig. 3) or clear the registry.</i> <br><br><img src="https://habrastorage.org/files/289/957/f81/289957f819a94ea3b70e039d4dc8b7a5.png"><br>  Fig.  3. nanoCAD interface settings window <br><br><h2>  More about configuration files </h2><br>  There are several configuration files: some are responsible for the program interface, others are for the design elements, and others are for the general settings of the platform.  Below will be presented all the files separately.  For better understanding, we introduce small notation for the location of files. <table><tbody><tr><td>  On pc </td><td>  file storage location on your computer with nanoCAD preinstalled. </td></tr><tr><td>  On the installation disk </td><td>  This is the path where the changed configuration files should be placed after the settings are completed. </td></tr></tbody></table><br><h3>  Default.ntb </h3><table><tbody><tr><td>  On pc </td><td>  C: \ Users \ User \ AppData \ Roaming \ Nanosoft \ nanoCAD DPS 6.0 \ en-RU </td></tr><tr><td>  On the installation disk </td><td>  nanoInstall \ LocalEx \ AppData \ UserTemplates \ ru-RU </td></tr></tbody></table>  It is a binary file that stores the data of a notebook (Fig. 4). <br>  Data is configured through the program interface. <br><img src="https://habrastorage.org/files/c9f/d30/9ca/c9fd309caf8b4d4a96a164878935435e.png"><br>  Fig.  4. Notebook nanoCAD SPDS <br><br><h3>  tinfo.xml </h3><table><tbody><tr><td>  On pc </td><td>  C: \ Users \ User \ AppData \ Roaming \ Nanosoft \ nanoCAD DPS 6.0 \ en-RU </td></tr><tr><td>  On the installation disk </td><td>  nanoInstall \ LocalEx \ AppData \ UserTemplates \ ru-RU </td></tr></tbody></table>  It is a text file that stores the data in select lists.  Allows you to add your fields to the selection lists.  Data is configured via the program interface when entering a new value that is different from the value shown in the list. <br><br><h3>  std.mcs </h3><table><tbody><tr><td>  On pc </td><td>  C: \ ProgramData \ Nanosoft \ nanoCAD DPS 6.0 \ DataRO \ en-RU </td></tr><tr><td>  On the installation disk </td><td>  nanoInstall \ LocalEx \ CommonAppData \ DataRO \ ru-RU </td></tr></tbody></table>  It is a binary file that stores the data of objects.  This file can be located locally on each machine or on the server, having previously installed SQL Server. <br>  Data is configured through the program interface. <br><img src="https://habrastorage.org/files/e50/fe0/785/e50fe07856ea4036bc8eeb1090bc930c.png"><br>  Fig.  5. Object database nanoCAD SPDS <br><br><h3>  Settings.xml </h3><table><tbody><tr><td>  On pc </td><td>  C: \ ProgramData \ Nanosoft \ nanoCAD DPS 6.0 \ DataRO \ en-RU </td></tr><tr><td>  On the installation disk </td><td>  nanoInstall \ LocalEx \ CommonAppData \ DataRO \ ru-RU </td></tr></tbody></table>  This file contains the program configuration settings (adding / limiting the list of scales, predefined fields of the format title block).  In fig.  3 shows a list of scales of appearance, which can be configured in this file. <br><br><h4>  Adding a design scale to the standard scale list </h4>  To add the nanoCAD value of the new design scale, you need to find in the <b>Settings.xml</b> file the corresponding code in the tags <i>...</i> (Fig. 6.1) and edit the existing list of scales.  The xml file contains comments on the assignment of parameters.  For example, you can specify the scale that will be used by default. <br><br>  Adding your scale to the list: <br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Scale</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"400:1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">val</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"400"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  Set the default scale to 1: 400: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Scale</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"400:1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">val</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"400"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">default</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-1"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><table><tbody><tr><td><img src="https://habrastorage.org/files/b87/142/8ca/b871428cafb4464aa99679dee6249089.png"></td><td><img src="https://habrastorage.org/files/50a/1b5/522/50a1b5522e264e5e86828dc1c51ea726.png"></td></tr><tr><td>  Fig.  6.1.  Scale List Code </td><td>  Fig.  6.2.  Customized scale list </td></tr></tbody></table>  After editing is complete, save the changes to the file and run nanoCAD.  You will see how your settings affected the list of scales (Fig. 6.2). <br><br><h4>  Adding a measurement scale to the standard scale list </h4>  To add the nanoCAD value of a nonstandard measurement scale, you need to find the corresponding code in the <b>Settings.xml</b> file (Fig. 7.1) and add similar lines with your own parameters to the existing list of scales.  The xml file contains comments on the assignment of parameters. <br>  Adding your scale to the list: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Scale</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200:1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">val</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  In fig.  7.1 the code of the list of measurement scales and the corresponding list of scales in the nanoCAD window are compared. <table><tbody><tr><td><img src="https://habrastorage.org/files/13e/26f/82d/13e26f82d680467fbeb34c41acd599bc.png"></td><td><img src="https://habrastorage.org/files/e6f/9fa/ee9/e6f9faee95034a448cb216cd06432f54.png"></td></tr><tr><td>  Fig.  7.1.  Code of measurement scale list </td><td>  Fig.  7.2.  Customized list of measurement scales </td></tr></tbody></table>  After editing is complete, save the changes to the file and run nanoCAD.  You will see how your settings affected the list of scales (Fig. 7.2). <br><br><h3>  AppOptions.xml </h3><table><tbody><tr><td>  On pc </td><td>  C: \ Users \ User \ AppData \ Roaming \ Nanosoft \ nanoCAD DPS 6.0 \ en-RU </td></tr><tr><td>  On the installation disk </td><td>  nanoInstall \ LocalEx \ AppData \ UserTemplates \ ru-RU </td></tr></tbody></table>  This file stores the settings of the design (menu Tools ‚Üí Customize design).  Here you can customize line types, dimensions, callouts, shapes, etc. <br>  As an example, we will change the positioning settings in the SPDS profile, as shown in Fig.  8. We changed the color of the callout lines and the thickness of the line.  Override values ‚Äã‚Äãare highlighted in blue - these are settings that differ from the standard AppOptions.xml file. <br><img src="https://habrastorage.org/files/913/d2c/ed6/913d2ced6baf4618bd1f1e80bda91928.png"><br>  Fig.  8. Positional settings window <br><br>  After the settings are completed, they must be saved in an xml file.  Click File ‚Üí Save Settings As.  Specify the nanoInstall \ LocalEx \ AppData \ UserTemplates \ ru-RU \ folder and click the Save button (Figure 9). <br><img src="https://habrastorage.org/files/d78/b4f/26b/d78b4f26b53b46358c4cbd9b06813080.png"><br>  Fig.  9. Saving the AppOptions.xml Settings File <br><br><h3>  Myblocks.hsf </h3><table><tbody><tr><td>  On pc </td><td>  C: \ Program Files (x86) \ Nanosoft \ nanoCAD DPS 6.0 </td></tr><tr><td>  On the installation disk </td><td>  nanoInstall \ LocalEx \ Program </td></tr></tbody></table>  <a href="https://habrahabr.ru/company/nanosoft/blog/239533/">In the last article,</a> we created our own teams, which allowed us to insert two ready blocks.  Now we can add these commands to our distribution.  To do this, place the nsf-file in the correct directory of the installer.  In this way, you can distribute your own applications written for the nanoCAD environment to all users along with the distribution. <br><br><h3>  ncadbase.cfg and userdata.cfg </h3><table><tbody><tr><td>  On pc </td><td>  C: \ Program Files (x86) \ Nanosoft \ nanoCAD DPS 6.0 </td></tr><tr><td>  On the installation disk </td><td>  nanoInstall \ LocalEx \ Program </td></tr></tbody></table>  This file stores the platform interface settings: the location of the panels, menu items, mouse context menu, etc. <br><br>  <i>Note: to see the changed settings of cfg-files in the program, you need to clear the registry nanoCAD SPDS in the branch HKEY_LOCAL_MACHINE \ SOFTWARE \ Nanosoft \ nanoCAD SPDS after saving the settings made.</i> <br><br><h4>  Preloading Applications </h4><br>  The created nsf-file with the commands (you can read about it in the last article) must be loaded in the program at startup.  Previously, we used the Application Download item for this (Tools ‚Üí Applications ‚Üí Application Download ‚Üí Startup).  To preset this option, we register a special command that will load the nsf file. <br><pre> <code class="xml hljs">[\configman\commands\sload_myblocks_nsf] weight=i30 |cmdtype=i0 | intername=sload_myblocks_nsf RealCommandName=snsf Keyword=smyblocks.nsf^MCloseDocument^MNewDocument^M</code> </pre><br><br><h4>  Change context menu </h4>  nanoCAD 7 does not support CUI files, however we have access to all cfg files responsible for interface settings. <br>  Let's try to change the standard context menu.  In fig.  10a presents the standard context menu nanoCAD.  Go to the folder with the product C: \ Program Files \ Nanosoft \ nanoCAD SPDS 6.0 in the file ncadbase.cfg and find the lines that describe the standard right-click menu.  They are represented by a list with the prefix \ ViewPopupMenu \. <br><pre> <code class="xml hljs">[\ViewPopupMenu] |Intername=sViewPopupMenu [\ViewPopupMenu\LastCommand] |intername=sLastCommand1 [\ViewPopupMenu\LastCommandPopup] |name=s&amp;Last commands [\ViewPopupMenu\LastCommandPopup\LC0] |intername=sLastCommand1 ‚Ä¶. [\ViewPopupMenu\Inspector] |name=sP&amp;roperties |intername=sProperties [\ViewPopupMenu\DrawingExplorer] |name=sDrawing &amp;Explorer |intername=sDrawingExplorer</code> </pre><br><img src="https://habrastorage.org/files/636/05e/9a1/63605e9a130246dab218182ca4b5b5c2.png"><br>  Fig.  10a.  Standard right-click menu nanoCAD SPDS <br><br>  The standard menu seemed to me too big, and I made some changes to it: I removed some commands, others I grouped in the drop-down items, and added some new commands.  As a result, I got the following code: <br><br><div class="spoiler">  <b class="spoiler_title">Reveal code</b> <div class="spoiler_text"><pre> <code class="xml hljs">[\ViewPopupMenu] |Intername=sViewPopupMenu [\ViewPopupMenu\LastCommand] |intername=sLastCommand1 [\ViewPopupMenu\LastCommandPopup] |name=s&amp;Last commands [\ViewPopupMenu\LastCommandPopup\LC0] |intername=sLastCommand1 [\ViewPopupMenu\LastCommandPopup\LC1] |intername=sLastCommand2 [\ViewPopupMenu\LastCommandPopup\LC2] |intername=sLastCommand3 [\ViewPopupMenu\LastCommandPopup\LC3] |intername=sLastCommand4 [\ViewPopupMenu\LastCommandPopup\LC4] |intername=sLastCommand5 [\ViewPopupMenu\LastCommandPopup\LC5] |intername=sLastCommand6 [\ViewPopupMenu\LastCommandPopup\LC6] |intername=sLastCommand7 [\ViewPopupMenu\LastCommandPopup\LC7] |intername=sLastCommand8 [\ViewPopupMenu\LastCommandPopup\LC8] |intername=sLastCommand9 [\ViewPopupMenu\sep2] [\ViewPopupMenu\Undo] |name=s&amp;Undo |intername=sEditUndo [\ViewPopupMenu\Redo] |name=s&amp;Redo |intername=sEditRedo [\ViewPopupMenu\sep3] [\ViewPopupMenu\Move] |name=sMove object [\ViewPopupMenu\Move\erase] |name=sErase |intername=sDelete [\ViewPopupMenu\Move\MoveCopy] |Name=sCop&amp;y |InterName=sMoveCopy [\ViewPopupMenu\Move\Mirror] |Name=sMirror |InterName=sMirror [\ViewPopupMenu\Move\Offset] |name=sOffset |intername=svcOffsetCmd [\ViewPopupMenu\Move\Array] |Name=sArray |InterName=sArray [\ViewPopupMenu\Move\sep4] [\ViewPopupMenu\Move\MoveObject] |Name=sMov&amp;e |InterName=sMove [\ViewPopupMenu\Move\RotateObject] |Name=s&amp;Rotate |InterName=sRotate [\ViewPopupMenu\Move\sep10] [\ViewPopupMenu\Move\scale] |Name=s&amp;Scale |InterName=sScale [\ViewPopupMenu\Move\stretch] |name=sStretch |intername=sstretch [\ViewPopupMenu\Move\sep5] [\ViewPopupMenu\Move\Trim] |name=s&amp;Trim Vectors |intername=svcTrimByEdgeCmd [\ViewPopupMenu\Move\smarttrim] |name=sSmart &amp;Trim |intername=ssmarttrim [\ViewPopupMenu\Move\Extend] |name=s&amp;Extend Vectors |intername=svcExpandByEdgeCmd [\ViewPopupMenu\Move\Break] |name=s&amp;Break Vectors |intername=svcBreakCmd [\ViewPopupMenu\Move\Join] |name=s&amp;Join objects |intername=sJoin [\ViewPopupMenu\Move\Extend] |name=s&amp;Extend Vectors |intername=svcExpandByEdgeCmd [\ViewPopupMenu\Move\Break] |name=s&amp;Break Vectors |intername=svcBreakCmd [\ViewPopupMenu\Move\Join] |name=s&amp;Join objects |intername=sJoin [\ViewPopupMenu\Clipboard] |name=s  [\ViewPopupMenu\Clipboard\Cut] |Name=s&amp;Cut |InterName=sCut [\ViewPopupMenu\Clipboard\Copy] |Name=s&amp;Copy |InterName=sCopy [\ViewPopupMenu\Clipboard\CopyWithBasePoint] |Name=s&amp;Copy With Base Point |InterName=sCopyWithBasePoint [\ViewPopupMenu\Clipboard\Paste] |Name=s&amp;Paste |InterName=sPaste [\ViewPopupMenu\Clipboard\PasteBlock] |Name=s&amp;Paste as Block |InterName=sPasteBlock [\ViewPopupMenu\Clipboard\PasteOriginal] |Name=sPaste to Original Coor&amp;dinates |InterName=sPasteOrigin [\ViewPopupMenu\Isolate] |name=sIsolate [\ViewPopupMenu\Isolate\IsolateObjects] |name=sIsolate &amp;Objects |InterName=sIsolateObjects [\ViewPopupMenu\Isolate\HideObjects] |name=sHide Objects |InterName=sHideObjects [\ViewPopupMenu\Isolate\UnisolateObjects] |name=sUnisolate Objects |InterName=sUnisolateObjects [\ViewPopupMenu\DisplayOrder] |name=sDispla&amp;y Order [\ViewPopupMenu\DisplayOrder\BringToFront] |name=s&amp;Bring to Front |InterName=sdraworder1 [\ViewPopupMenu\DisplayOrder\SendToBack] |name=s&amp;Send to Back |InterName=sdraworder2 [\ViewPopupMenu\DisplayOrder\BringForward] |name=sBring &amp;Forward |InterName=sdraworder3 [\ViewPopupMenu\DisplayOrder\SendBackward] |name=sSend Back&amp;ward |InterName=sdraworder4 [\ViewPopupMenu\Select] |name=sSelect [\ViewPopupMenu\Select\selectsimilar] |name=sSelect similar objects |intername=sselectsimilar [\ViewPopupMenu\Select\SelectAll] |name=sSelect Al&amp;l |intername=sSelectAll [\ViewPopupMenu\Select\QuickSelect] |name=s&amp;Quick Select |intername=sqs [\ViewPopupMenu\Select\UnSelectAll] |name=sUnSelect All |intername=sUnSelectAll [\ViewPopupMenu\sep1] [\ViewPopupMenu\AddSelected] |Name=sAdd Selected |InterName=sAddSelected [\ViewPopupMenu\sep5] [\ViewPopupMenu\Find] |name=sSearch and Replace... |intername=sfind [\ViewPopupMenu\sep4] [\ViewPopupMenu\Inspector] |name=sP&amp;roperties |intername=sProperties [\ViewPopupMenu\preferences] |name=sPreferences |intername=sPreferencesCmd</code> </pre></div></div><br>  After editing is complete, save the file with ANSI encoding.  In fig.  10b shows the result of the changes made. <br><img src="https://habrastorage.org/files/736/44a/c00/73644ac00ad04c589cfe240b32165718.png"><br>  Fig.  10b.  New right click menu <br><br>  If you configure the context menu on an already installed nanoCAD, then after saving the changes in the <b>ncadbase.cfg</b> file, <b>you</b> must clear the nanoCAD SPDS registry in the HKEY_LOCAL_MACHINE \ SOFTWARE \ Nanosoft \ nanoCAD SPDS registry. <br><br><h3>  nprof.ini (nApp.ini) </h3><table><tbody><tr><td>  On pc </td><td>  C: \ Program Files (x86) \ Nanosoft \ nanoCAD DPS 6.0 </td></tr><tr><td>  On the installation disk </td><td>  nanoInstall \ LocalEx \ Program </td></tr></tbody></table>  This file contains the settings of the nanoCAD platform itself.  To make it easier to navigate in lines of code, I advise you to go to Tools ‚Üí Settings and get acquainted with the structure and sequence of parameters. <br>  In our example, we will place the standard nanoCAD folders (templates, fonts, print styles, forms) in a shared folder on the server and add our own dwt template, which we will use by default. <br><ol><li>  Create the necessary directories on the server: <br>  <b>\\ Server \ Templates</b> <b><br></b>  <b>\\ Server \ shx</b> <b><br></b>  <b>\\ Server \ PlotConfigs</b> <b><br></b>  <b>\\ Server \ PlotStyles</b> </li><li>  Create a template <b>test.dwt</b> and place it in a folder on the server: <i>\\ Server \ Templates \ test.dwt</i> . </li><li>  Create a <b>nApp.ini</b> file with notepad and copy the necessary settings from nprof.ini or from the ready-made example below. </li></ol><br><pre> <code class="xml hljs">[\DefProf\StdDirs] TemplatesDir=s\\ServerTemplates Shx=s\\Server\shx PlotConfigsDir=s\\Server\PlotConfigs PlotStylesDir=s\\Server\PlotStyles Pat=s\\Server\shx [\DefProf\TemplateDoc] UseTemplateFile=i1 TemplateName=sTest.dwt [\DefProf\TemplateImport] UseTemplateFile=i1 TemplateName=sTest.dwt</code> </pre> <br>  <i>Note:</i> <i><br></i>  <i>[\ DefProf \ StdDirs] - this section contains the parameters of the standard folders.</i> <i><br></i>  <i>[\ DefProf \ TemplateDoc] and [\ DefProf \ TemplateImport] are the parameters for using templates for new and imported documents, respectively.</i> <br>  In fig.  11 shows the result of changes to the nrof.ini configuration file. <br><img src="https://habrastorage.org/files/af0/755/59c/af075559cc944dd1ad326e949227ef55.png"><br>  Fig.  11. Standard folders and template usage. <br>  Previously, we registered a special command to load blocks, now in <b>nApp.ini</b> we will indicate the load of this command when nanoCAD is started. <br><pre> <code class="xml hljs">[\DefProf\Startup\load_myblocks_nsf]</code> </pre>  Now when you start nanoCAD, our application for inserting blocks will start with it. <br>  After saving the <b>nApp.ini</b> file <b>,</b> copy it to the appropriate distribution directory.  The nprof.ini file does not need to be copied. <br><br><h3>  Setup.ini </h3><br>  Let's <b>move</b> on to the <b>setup.ini</b> file - the last one we need to prepare.  This distribution file of the distribution kit itself is located in the folder with the unpacked installer (nanoinstall).  You can enter the serial number of the product in it or specify the address of the license server, as well as the folder for the DPS database and the path to the STP settings.  To customize the installation, uncomment the keys and set your own values ‚Äã‚Äãto them.  You only need to edit the keys in the [InstallProperties] section.  When uncommenting parameters, do not forget to uncomment the [InstallProperties] section.  Below is a list of available options. <br><br><pre> <code class="xml hljs">  FLEXLM_VENDOR_NAME=Nanosoft FLEXLM_LICENSE_FILE=@server   SERIALNUMBER=ZZZ10-TRIAL-00000   INSTALLLOCATION=c:\Best program    DATABASE_PATH=c:\std.mcs      DATABASE_PATH=SQL:SERVER:base     SETTINGS=\\server\Settings.xml     CORP_OPTIONS=\\server\CorpOptions.xml</code> </pre> <br>  The name of the current profile prefix is ‚Äã‚Äãdone by adding the prefix to the layer names.  You can manually change it in the settings: General settings ‚Üí General settings ‚Üí Current profile. <br>  APP_OPTIONS_PROFILE = name <br><br>  If any of these keys is commented out, then it will be set to the default value stored in the application. <br><br><h3>  Transferring Settings Files </h3><br>  After editing all the above files, they must be placed in the appropriate directory of the installer <i>(nanoinstall)</i> .  If you use additional files (scripts, lisp, etc.), they can be placed in the Program folder ( <i>nanoInstall \ LocalEx \ Program</i> ) and they will be placed in the Program Files of the product folder during installation. <br><br><h3>  Silent Installation </h3><br>  Such parameters are necessary if you are going to install the customized distribution kit locally. <br>  Using notepad, you should create a new text file with the .bat extension in the nanoInstall folder (Fig. 8) and specify one of two installation parameters: <br><ul><li>  for installation in passive mode (displaying the installation progress dialog, but without user intervention), you must run <i>setup.exe / i / passive</i> </li><li>  for installation in hidden mode (even the installation dialog will not be displayed for the user), you need to run <i>Setup.exe / i / quiet</i> </li></ul><br><img src="https://habrastorage.org/files/20f/1e2/9e2/20f1e29e29ea446ba49ea4fed49d0de3.png"><br>  Fig.  12. Creating a bat-file to run the installer <br><br><h3>  Conclusion </h3><br>  We showed you how you can adapt nanoCAD to your settings, save them in your files and include them in your installation package, which is very convenient for deploying nanoCAD to a large number of workplaces within an enterprise network.  With this knowledge, you will not only simplify your life when installing software, but also be able to control uniform CAD settings at all users' workplaces: all users will now work with uniform templates, fonts, design settings, etc.  You can even lay out your scripts and <a href="https://habrahabr.ru/company/nanosoft/blog/239533/">commands</a> for each user's workplace. <br><br>  It remains to be noted that this article will be useful for installing not only the nanoCAD SPDS, but also for the remaining vertical solutions and for the nanoCAD platform itself.  Have a good design! <br><br>  Sergey Spirin, <a href="https://habrahabr.ru/users/mahbak/" class="user_link">mahbak</a> <br>  <a href="http://nanocad.ru/">ZAO Nanosoft</a> </div><p>Source: <a href="https://habr.com/ru/post/279537/">https://habr.com/ru/post/279537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279527/index.html">uDev tech events: Kharkov, March 30</a></li>
<li><a href="../279529/index.html">The company Crytek announced a new engine CryEngine V</a></li>
<li><a href="../279531/index.html">Localization of mobile games for the Asian market</a></li>
<li><a href="../279533/index.html">Six part-time jobs for an IT professional who are paid in dollars</a></li>
<li><a href="../279535/index.html">Testing. Fundamental theory</a></li>
<li><a href="../279539/index.html">Popular WordPress plugin contains backdoor</a></li>
<li><a href="../279541/index.html">Ubiquiti LiteBeam AC‚Äì we build radio networks in a new and budgetary way</a></li>
<li><a href="../279543/index.html">Webinar 4: Docker Container Management System</a></li>
<li><a href="../279545/index.html">MCMC-sampling for those who studied, but did not understand</a></li>
<li><a href="../279547/index.html">How cloud technologies affect data centers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>