<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Translator from the car, or how to teach the MFP to translate documents</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi% username%! 

 Recently, we, ABBYY LS , together with Xerox launched the Xerox Easy Translator Service - a service that allows you to receive a mac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Translator from the car, or how to teach the MFP to translate documents</h1><div class="post__text post__text-html js-mediator-article">  Hi% username%! <br><br>  Recently, we, <a href="http://abbyy-ls.ru/">ABBYY LS</a> , together with Xerox launched the Xerox Easy Translator Service - a service that allows you to receive a machine translation of a document - for this you need to scan it using an Xerox ConnectKey multifunction printer or take a picture of your phone camera.  Through the same platform, you can order and professional translation. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/C_2LyPB2LpQ%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhiVciiqs9y7rPU5vlyyQxHy-utZSQ" frameborder="0" allowfullscreen=""></iframe>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      How it works?  Let's figure it out! <a name="habracut"></a><br><br><h1>  Machine translate </h1><br><br><img src="https://habrastorage.org/files/22e/483/b23/22e483b231294aa6a4788097ce312d42.png"><br><br>  The user scans, photographs or downloads the finished file via the Web.  The file is saved in the database, after which it starts parsing into segments - objects that store text fragments (as a rule, these are sentences), and information about the layout of these fragments.  Files in graphic formats are pre-recognized using <a href="http://www.abbyy.com/ru-ru/recognition-server/">ABBYY Recognition Server</a> .  Before sending a document for recognition, we ask the user what language the document is written in.  The image can be recognized without it, but specifying the language of the source document will allow it to be recognized faster and more qualitatively. <br><br>  In the process of integration with Recognition Server, we needed to select processing parameters for our document flow: the format for exporting results, the appropriate ratio for speed / recognition quality, the type of document assembly. <br><br>  As an export format, we now use the ‚Äúold man‚Äù .doc, since at the moment it describes the Rich-text most fully and at the same time solves a number of problems related to the layout of elements on the page during segmentation (hello, .docx!).  However, the transition to .docx is in the plans.  The relationship between speed and quality caused the most controversy.  On the one hand, the quality of recognition is the highest priority for machine translation of a document, since the whole process is automated and there is no possibility to attract layout specialists.  On the other hand, the main advantage of MT (machine translation) is speed (especially in the scenario when the user is waiting for a printed translation near the MFP), and you have to pay quality for speed.  Nevertheless, the choice was made in favor of quality. <br><br>  The type of document assembly determines which elements of the original document fall into the file with the result.  It is possible to limit the recognition result to plain-text (this option does not suit us, since non-textual information that is important for understanding the context will be lost), you can save the formatting of this text (now better, but what about important non-textual information?).  The <i>Editable Copy</i> type preserves text with formatting and non-text content, but without reference to pages.  It would seem that the layout of the pages is broken - and this is a minus.  But since during translation the length of words can vary significantly (for example, the German translation of the word ‚Äúfriendship‚Äù - ‚ÄúFreundschaftsbezeigungen‚Äù), the absence of linking to the pages of the source file allows us to avoid situations where blocks with the text ‚Äúbump‚Äù on other page elements, as well as when The translation text cannot be entered in the dimensions of the source block.  The last option <i>Exact Copy</i> saves both text with formatting and non-text content.  At the exit we have a document as close as possible to the original from the point of view of the pagination.  This option looks more solid from the point of view of formats that support paginated output (pdf, djvu), but the translation may turn out to be ‚Äúoverboard‚Äù.  In the end, we made a choice in favor of <i>Editable Copy</i> . <br><br>  <b>Source text</b> <br><br><img src="https://habrastorage.org/files/53d/302/9b0/53d3029b04dd4a798043edf3d1a03967.png"><br><br>  <b><i>Exact Copy</i> Example</b> <br><br><img src="https://habrastorage.org/files/28b/bec/164/28bbec164cdf4c1b862f77b5eebef968.png"><br><br>  <b><i>EditableCopy</i> Example</b> <br><br><img src="https://habrastorage.org/files/a65/97c/7c8/a6597c7c88024cf1b018b8e0a8543c08.png"><br><br>  Next, the recognized file passes the already mentioned segmentation, and for the segments that make up the first 1000 characters of the document, the text language is automatically detected.  Despite the fact that we have already asked the user to specify the document language when downloading the file, we still do auto-detection, because when working through the API, setting the language is not necessary for graphic formats, and not necessarily when loading text documents.  Knowing the language, we can calculate the statistics on the document: the number of pages, words, characters.  After that, the service sends blocks of document segments via the Machine Translation API (MT-API) to one of several MT engines.  Upon completion of the translation, the document is collected and a notification is sent to the user. <br><br>  Machine Translation Example: <br><br>  Source image <br><br><img src="https://habrastorage.org/files/802/07b/84f/80207b84fed44f6c8abd265ad36bc048.png"><br><br>  Result <br><br><img src="https://habrastorage.org/files/8ae/ddf/e51/8aeddfe51489487a95405270c759f51a.png"><br><br>  I want to note that, despite the fact that the technology of machine translation is still much inferior in quality to professional, it copes well with the task of quickly translating large amounts of information when an understanding of the general provisions of the document is required.  Another frequency scenario is the understanding of relevant pieces of source text, which can then be translated more carefully.  Nevertheless, we are taking steps to improve the quality of machine translation through the use of translation memory bases, which we will discuss below. <br><br><h1>  Professional Translation </h1><br><br>  If the user needs a better translation, he can place an order for professional translators.  In this case, the file path will be slightly different: <br><br><img src="https://habrastorage.org/files/fe6/6ee/90a/fe66ee90a01046489e70fad9f12d56ce.png"><br><br>  The text that was obtained as a result of recognition on the Recognition Server, along with the original document, is sent to <a href="http://smartcat.ai/">SmartCAT</a> , a platform for automating the translation process.  The source file is needed in order for the translation to be available non-text content, which may contain information that is important to preserve the translation context.  But before the document gets to the translator himself, the manager checks whether he needs preliminary layout and, if necessary, attracts layout specialists.  Only then performers are appointed.  Directly in the editor, the translator has access to both the machine translation engines and the Translation Memory databases, which allows reducing the time spent working on the document.  When the transfer is completed, it is edited, read and checked again by the manager.  And now the translation is completed, and the user receives an email notification and a file with a high-class result. <br><br>  Translation example: <br><br>  Source image <br><br><img src="https://habrastorage.org/files/d00/187/b20/d00187b20e5947aebfb1e55e018bb7fa.jpg"><br><br>  Result <br><br><img src="https://habrastorage.org/files/18c/865/230/18c86523005f4f348c862a008eb46b2a.png"><br><br>  How does all this work inside?  Good question! <br><br><h1>  Cake is not a lie! </h1><br><br><img src="https://habrastorage.org/files/f79/81a/111/f7981a111b404ba1952592c0ebcc6e20.jpg"><br><br>  Do you like puff cakes?  We love, and the infrastructure of our application can be represented as such a cake: <br><br><img src="https://habrastorage.org/files/166/689/550/1666895501694295b9d3cee9f6a3946e.png"><br><br>  Each piece consists of dll-assemblies that implement a specific feature (feature), for example, FileManagement - file management.  Also libraries are divided into layers: Contracts, Web API, Data Storage, Task Processing.  The separation implemented the principle of CQRS - command-query responsibility segregation, according to which the method should be either a command that performs some action or a query that returns data, but not simultaneously.  In other words, asking a question should not change the answer ( <a href="https://ru.wikipedia.org/wiki/CQRS">wiki</a> ). <br><br>  <b>Contracts</b> <br>  The contract assembly stores the interfaces on which the application modules interact, as well as the commands and queries that the described feature operates on.  These assemblies are used by other layers of the same set of functionality (for example, file management is FileManagement.Api and FileManagement.Processing) and other features (order management uses file management). <br><br>  <b>Web API</b> <br>  Everything is simple - the API method, called by the consumer, initiates the execution of commands, queries, or their combinations, and gives the result of the execution to the user. <br><br>  <b>Data storage</b> <br>  Data storage.  The assembly subscribes to the execution of commands and requests of certain types and carries out the modification or reading of data.  We use MongoDB for these purposes, but since working with data is done through commands and queries, the rest (not Data Storage) assemblies can only guess about the documentary nature of the database. <br><br>  <b>Task processing</b> <br>  Perform lengthy operations.  Like the data storage assembly, this assembly subscribes to a call for certain commands, however, the real time to start processing such a command is regulated by the scheduler.  Such commands are called tasks.  Parsing a file into segments is one such task. <br><br>  The whole project tree looks like this: <br><br><img src="https://habrastorage.org/files/c00/2f1/467/c002f1467c744aa18a8cc3dc7a0ab59e.png"><br><br>  Such a division into layers and features allows a fairly flexible increase in the functionality of our <s>cake</s> application, adding more and more <s>tasty</s> new useful features. <br><br>  And for today everything, to new meetings. </div><p>Source: <a href="https://habr.com/ru/post/282636/">https://habr.com/ru/post/282636/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282622/index.html">March Python Meetup: Python VS Erlang and PostgreSQL Features</a></li>
<li><a href="../282624/index.html">JS Programming Contest: Word Classifier</a></li>
<li><a href="../282626/index.html">Web service for simulating pedestrian traffic and identifying improvement problems</a></li>
<li><a href="../282628/index.html">The numbers of Muammar. How I measured artificial intelligence on an internship at Yandex</a></li>
<li><a href="../282634/index.html">Angular 2 Beta, training course "Tour of Heroes" part 3</a></li>
<li><a href="../282638/index.html">Google DNS no longer supports Round Robin DNS</a></li>
<li><a href="../282640/index.html">Xamarin SDK in Open Source and more at Xamarin Evolve 2016</a></li>
<li><a href="../282642/index.html">Announcement! DevCon 2016 participants will be available a master class from Intel</a></li>
<li><a href="../282644/index.html">Web sites continue to use ‚Äúdark patterns‚Äù: interfaces designed to deceive</a></li>
<li><a href="../282648/index.html">Million and one day INotifyPropertyChanged</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>