<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Learn a better bundler</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The bandler turned out to be a great tool for setting and tracking jams, which every Ruby project needs so much that almost every project uses it. How...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Learn a better bundler</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/b7e/c6d/f11/b7ec6df11e7b810c3197f7b9bdb42d4c.png" align="right">  <a href="http://gembundler.com/">The bandler</a> turned out to be a great tool for setting and tracking jams, which every Ruby project needs so much that almost every project uses it.  However, despite its ubiquity, most users are not aware of the built-in tools and helpers of the bandler.  In an attempt to raise awareness (and the performance of Ruby developers), I'm going to tell you about them. <br><br><a name="habracut"></a><br><br><h4>  Install, update, and outdated <br></h4><br>  You probably already know this, but I will summarize it for beginners.  Run <b><i>bundle install</i></b> to install the packages required for your project.  What if you just started git pull and there are new jams?  <b><i>bundle install</i></b> .  If you have just added new jams or changed versions of jams in the Gemfile?  <b><i>bundle install</i></b> .  It would seem more logical to run the <b><i>bundle update</i></b> , but this will not only install jams - it will also try to update each jam in your package.  This usually means catastrophe, unless, of course, you actually planned it. <br>  The <b>update</b> command should be used when your used jams are updated, and you want your package to have the latest version, which your Gemfile will allow to run.  Run <b>bundle outdated</b> to print a list of jams that can be updated.  If you want to update a specific jam, run a <b>GEM</b> <b>bundle update</b> or <b>bundle update</b> to update everything.  After the update, make sure to pass all the tests before committing your new Gemfile.lock! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Show and open <br></h4><br>  Most people know about the bundle show, which prints the full path to the location of the installation of the jam (probably because this command is run if the installation is successful).  However, the <b>bundle open</b> command is much more useful, which will immediately open the jam in your editor.  Here is a minimalistic demo: <br><pre><code class="ruby hljs">$ bundle install Fetching gem metadata from <span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/rubygems.org/</span></span>.......... Resolving dependencies... Installing rack (<span class="hljs-number"><span class="hljs-number">1.5</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>) Using bundler (<span class="hljs-number"><span class="hljs-number">1.3</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>) Your bundle is complete! Use <span class="hljs-string"><span class="hljs-string">`bundle show [gemname]`</span></span> to see where a bundled gem is installed. $ echo $EDITOR mate -w $ bundle open rack</code> </pre> <br><br>  That's all you need to open the rack in your editor.  The ability to open jams without having to search for them can be a great way to debug.  It allows you to insert statements for printing or debugging in seconds.  If you change your jams, do not forget to reset them after that!  In the future, a <b>pristine</b> command will be created for this, but for now run the <b>bundle exec gem pristine</b> to restore the jams that you edited. <br><br><h4>  Search </h4><br>  The <b>show</b> command has another trick in its bosom: <b>bundle show --paths</b> .  Printing a list of all the paths may not look terribly useful, but it makes it much easier to search the source code for all the jams in your package.  Want to know where ActionDispatch :: RemoteIp is described?  Just one line: <br><pre> <code class="ruby hljs">$ grep ActionDispatch::RemoteIp <span class="hljs-string"><span class="hljs-string">`bundle show --paths`</span></span></code> </pre><br>  Regardless of whether you are using grep, ack, or ag, it has become very easy to configure the shell function, which allows you to search the package with just a couple of characters.  Here are mine: <br><pre> <code class="ruby hljs">function back () { ack <span class="hljs-string"><span class="hljs-string">"$@"</span></span> <span class="hljs-string"><span class="hljs-string">`bundle show --paths`</span></span> }</code> </pre><br>  With this function, search has become even easier and faster: <br><pre> <code class="ruby hljs">$ back ActionDispatch::RemoteIp</code> </pre><br><br><h4>  Binstubs </h4><br>  One of the most annoying things when using a bandler is that you (probably) have to run <b>bundle exec</b> whatever every time you want to run any command.  The easiest way to get around this is to install the <b>Bundler binstubs</b> .  By <b>running the GEM bundle binstubs</b> , you can generate stubs in the bin / folder.  These stubs will load your package and the correct version of the jam before you run the command.  Here is an example binstub configuration for rspec. <br><pre> <code class="ruby hljs">$ bundle binstubs rspec-core $ bin/rspec spec No examples found. Finished <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">00006</span></span> seconds <span class="hljs-number"><span class="hljs-number">0</span></span> examples, <span class="hljs-number"><span class="hljs-number">0</span></span> failures</code> </pre><br>  Use binstubs for frequently launched commands or for commands that you may be running through cronjob.  Considering that binstubs should not load a lot of code, they will work very quickly.  Rails 4 has adapted binstubs and will exit with bin / rails and bin / rake.  They will be configured to always run for a specific application. <br><br><h4>  Creating a gemfile <br></h4><br>  I have seen many complaints that it‚Äôs very inconvenient to type in the <b>source 'https://rubygems.org/'</b> every time creating a new Gemfile.  Fortunately, the bandler will do it for you!  When you start a new project, you can create a new Gemfile using Rubygems.org as the source, running just one command: <br><pre> <code class="ruby hljs">$ bundle init</code> </pre><br>  Now you are ready to add jams and set at your pleasure! <br><br><h4>  Local Git Jams <br></h4><br>  Many people asked how you can use a bandler to change and commit to jam in your Gemfile.  Thanks to the efforts of Jos√© Valim, the 1.2 bundler allows you to do this extremely elegantly.  With one setting, you can upload your own git clone to the development, but when deployed to production, it will be checked which last commit you used. <br>  Here's how to set up a local git copy of the rack: <br><pre> <code class="ruby hljs">$ echo <span class="hljs-string"><span class="hljs-string">"gem 'rack', :github =&gt; 'rack/rack', :branch =&gt; 'master'"</span></span> <span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>Gemfile $ bundle config local.rack ~<span class="hljs-regexp"><span class="hljs-regexp">/sw/gems</span></span><span class="hljs-regexp"><span class="hljs-regexp">/rack $ bundle show rack /</span></span>Users/andre/sw/gems/rack</code> </pre><br><br>  Once everything is set up, you can either change the code that your application will use, or commit to that repository as often as you like. <br><br><h4>  Ruby Versions <br></h4><br>  Another feature of the 1.2 bandler is the Ruby version requests.  If you know that your application only works with one version of Ruby, you can request this version.  Just add one line to your Gemfile, specifying the version number as string. <br><pre> <code class="ruby hljs">ruby <span class="hljs-string"><span class="hljs-string">'1.9.3'</span></span></code> </pre><br>  Now the bandler will throw an exception every time you try to run your application on a different version of Ruby.  You no longer need to worry that you will accidentally use the wrong version when developing! <br><br><h4>  Dependency scheme <br></h4><br>  The bandler uses a gemfile to create a so-called dependency scheme, which shows a lot of jams and their dependencies on each other.  Sometimes it is very interesting and convenient to see a graphical dependency diagram, and this is what the <b>bundle viz</b> command does.  You will need to set the GraphViz and ruby-graphviz jams. <br><pre> <code class="ruby hljs">$ brew install graphviz $ gem install ruby-graphviz $ bundle viz</code> </pre><br>  After that, you will get a beautiful overview of your dependencies.  Here is a gemfile scheme that contains only one Rails jam. <br> <a href=""><img src="https://habrastorage.org/storage2/edc/1ff/403/edc1ff403caac5888c70efa98177c006.png"></a> <br><br><h4>  IRB in your package <br></h4><br>  Before the big finale, I have one last tip for you: the console of commands.  Having launched the <b>bundle console</b> , you will not just open the IRB prompt, but also load the entire package and all the jams.  If you want to experiment with the jams used, but you don‚Äôt have Rails jam to call the Rails console, this is a great alternative. <br><pre> <code class="ruby hljs">$ bundle console <span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>Rack::Server.new =&gt; #&lt;Rack::Server:0x007fb439037970 @options=nil&gt;</code> </pre><br><br><h4>  Creating a new jam <br></h4><br>  And, finally, what is most useful in the bander after all installations.  Given that the bandler was created to manage jams, the bandler's team is very motivated to make managing and creating jams extremely simple.  You can create a folder with the base of your jam by simply running <b>bundle gem NAME</b> .  You will get a folder with gemspec, readme and lib files where you can put your code.  When you added the code, you can install this jam into your system for verification by running <b>rake install.</b>  When you are happy with your jam and want to share with the others, you can put a new version of the jam in rubygems.org by running <b>rake release</b> .  As a side effect, jams created in this way can be used as git jams.  This means that you (and everyone else using this jam) can copy, edit and collect any commit. <br><br><h4>  Let's sum up <br></h4><br>  Now that you know so many useful things about a bundler, I suggest you test it.  Use search, create jams! <br>  As far as I can tell, the bandler is most useful because it simplifies the process of collaborating and using code, which makes Ruby better for everyone. <br><br>  Note: a friend of <a href="http://www.engineyard.com/">Engine Yard</a> , Andr√© Arko, a member of the bandler‚Äôs core team, wrote this wonderful article for us.  Do not forget to look at <a href="http://arko.net/">his site</a> . </div><p>Source: <a href="https://habr.com/ru/post/172807/">https://habr.com/ru/post/172807/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../172791/index.html">Crossbrowser bookmarks</a></li>
<li><a href="../172793/index.html">Easy penetration or fight with an uncomplicated virus</a></li>
<li><a href="../172795/index.html">How we moved from 30 servers to 2: Go</a></li>
<li><a href="../172797/index.html">Science and morality</a></li>
<li><a href="../172799/index.html">TP-LINK backdoor</a></li>
<li><a href="../172809/index.html">Ukrainian received a patent for an industrial design of a tablet computer</a></li>
<li><a href="../172811/index.html">Google will separate maps and commerce</a></li>
<li><a href="../172815/index.html">"Loading" as a relic of the past</a></li>
<li><a href="../172817/index.html">RAII + C ++ variadic templates = win</a></li>
<li><a href="../172819/index.html">Getting Oracle Certified Java Professional Programmer Certification and Certification in General</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>