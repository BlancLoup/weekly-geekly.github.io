<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Online Podcast Organization</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For the latest Apple presentation, we decided to expand our text translations and add a real-time audio podcast. At first we wanted to find some ready...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Online Podcast Organization</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a9a/c96/024/a9ac96024b4e82e6c6a92cb9500710ca.png" align="right" height="100">  For the <a href="http://tjournal.ru/paper/apple-october-event">latest Apple presentation,</a> we decided to expand our text translations and add a real-time audio podcast.  At first we wanted to find some ready-made solution, but we could not find anything that could accommodate several people from different parts of the continent, so we had to find another way.  How to make a live broadcast of an audio podcast (like Radio T :-) using one laptop, one server and Skype - <a name="habracut"></a>  read on. <br><br><h4>  We configure server </h4><br>  The main thing to take care of is a wide channel.  We had about 150-200 listeners at the peak and about 10 Mb / s with 64kb / s quality, so it‚Äôs quite simple to calculate the channel if you know the approximate number of connections. <br><br>  We rented a cloud server in Selectk for the duration of the broadcast, it cost us about 25 rubles, the channel is potentially up to 1 gigabit, but we have to pay for it.  By the way, the hard disk is not needed volumetric, just a few gigabytes is enough, we will record on the client. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's start with (we have, by the way, debian) that we install Icecast 2 - free software for broadcasting audio to the network.  We recommend to get acquainted with the <a href="http://www.icecast.org/docs/icecast-2.3.3/">documentation</a> , there is not very much, but you can imagine what opportunities are opening up. <br><br>  Installation: <br><pre><code class="bash hljs">apt-get install icecast2 <span class="hljs-comment"><span class="hljs-comment">#  cp /etc/icecast2/icecast.xml /etc/icecast2/icecast.xml.back #    ENABLE=TRUE emacs /etc/default/icecast2 #    emacs /etc/icecast2/icecast.xml</span></span></code> </pre> <br>  Here we posted a config with comments, but you need to edit it.  By the way, you can <a href="http://habrahabr.ru/post/156591/">set up the</a> broadcast so that in the absence of a signal from the source, it is not interrupted, but transferred to a spare source, which, for example, constantly plays music. <br><br>  Run icecast: <br><pre> <code class="bash hljs">service icecast2 start</code> </pre><br>  The only big disadvantage of Icecast is that it cannot mix streams on the server side, and indeed, in fact, it simply takes the incoming stream from the client and redirects it to listeners, counting the number of connections, providing channel redundancy, etc. <br><br>  Therefore, we will do this on your computer.  As the main workstation, which eventually connects to the server, we used a Macbook, so here are instructions on the example of Mac OS X, but similar actions can be done using Windows and Linux. <br><br><h4>  Mix sound </h4><br>  To send audio to the server, we need special software, you can choose from those listed <a href="http://www.icecast.org/3rdparty.php">here</a> .  I used <a href="http://www.rogueamoeba.com/nicecast/">nicecast</a> - shareware, but at the same time it has fantastic capabilities, for example, it can impose effects and mix audio channels only from certain interfaces of different applications.  Fortunately, we can use the program for free for an entire hour, after which the application must be restarted, and the broadcast will be interrupted.  There is a completely free analog <a href="http://butt.sourceforge.net/">butt</a> , but its possibilities are much more scarce. <br><br>  We also need some kind of audio application for broadcasting background music - it allows you to drown out some noises, and is also a good sign that the broadcast was not interrupted and goes, just everyone leading is silent about something enthusiastically :-) We used <a href="http://www.mixxx.org/">mixxx</a> , basically because it is free and quite powerful.  By the way, for background music we need a special <a href="http://rpod.ru/podsafe/">podsafe</a> track, the license of which allows you to use it in podcasting. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/182/0e9/8e9/1820e98e92c00ad5205088349f1e56bd.png"><br><br>  So, now you can try to connect: open Nicecast, select the microphone in the Source tab, set the mono channel to Quality (still the microphone is mono-channel) and the quality is around 64-96 kilobits per second, which is more than enough.  Press ‚åò4 to set up recording to a local disk.  Now the most interesting thing: click on the ‚åò2 keyboard, in the window that opens, add our server: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1d8/b92/835/1d8b9283531a3e52eff49b986d8d1465.png"><br><br>  Click the cherished Start Broadcast button and go to the address (for our settings this <code><a href="http://stream.tjournal.ru/"></a> stream.tjournal.ru:8000/tjournal</code>  <code><a href="http://stream.tjournal.ru/"></a> stream.tjournal.ru:8000/tjournal</code> ) in the browser, with a slight delay, we should hear what is happening around.  Now we can connect to our server at <code><a href="http://stream.tjournal.ru/"></a> stream.tjournal.ru:8000/</code>  <code><a href="http://stream.tjournal.ru/"></a> stream.tjournal.ru:8000/</code> and watch the active streams and the number of listeners they have.  Hooray! <br><br>  After making sure that the server is working, we will try to combine several streams: background music and our voice from the microphone.  To do this, in the Source tab, select Silence Input (silence) and go to the Effects tab, in which the magic begins. <br><br>  Add an Application Mixer effect and select the mixxx app (or even iTunes).  Then add the VoiceOver effect - this is our microphone.  You have to play a little with the settings so that the voice is not too loud, and also that some noises are filtered by the program (Auto Ducking).  We added two more filters - Monomizer and Menu Bar Meters, but in fact there are a lot of them and you can experiment for a long time. <br><br><h4>  We start the broadcast </h4><br>  It remains the most simple, call someone on Skype and add another Application Mixer to the effects, pointing it to Skype.  By the way, you can not take sound from the entire application, but only from certain channels.  To create virtual channels, we used the <a href="http://cycling74.com/products/soundflower/">Soundflower</a> application.  They will allow us to send sound from mixxx to a virtual audio channel and not listen to it in headphones, and the sound from this virtual channel will be shot nicecast. <br><br>  Window with effects: <br><img src="https://habrastorage.org/getpro/habr/post_images/810/0d3/fe8/8100d3fe820dc1c65edfb69d06f12958.png"><br><br>  It remains to test the entire bundle and put the player on the site (it can be limited to a link, but this is too hardcore).  By the way, this broadcast works great on mobile devices.  We used <a href="http://uppod.ru/">uppod</a> to have a pretty player on the page instead of a simple tag. <pre> <code class="hljs xml"><code class="html">. <br> <br> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"audioplayer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width: 100%; height: 60px"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">¬´/path/to/uppod.js</span></span></span><span class="hljs-tag">"&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> player = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; $(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{ player = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> Uppod({</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">m</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"audio"</span></span></span><span class="javascript">,</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">uid</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"audioplayer"</span></span></span><span class="javascript">,</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">file</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"http://stream.tjournal.ru:8000/tjournal"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">comment</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"TJournal Live"</span></span></span><span class="javascript">}); setInterval(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">typeof</span></span></span><span class="javascript"> player != </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'undefined'</span></span></span><span class="javascript"> &amp;&amp; player != </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">undefined</span></span></span><span class="javascript"> &amp;&amp; player != </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (player.Played() == </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">100</span></span></span><span class="javascript">) { player.Stop(); player.Play(); } }}, </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10000</span></span></span><span class="javascript">); }); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> <br>    TJournal    long-polling         .     nicecast,   ,       ,   ,         .    10           live streaming audio     ,   ,     . <br> <br>    .  .  !</code> </pre> <code><code class="html">. <br> <br> &lt;div id="audioplayer" style="width: 100%; height: 60px"&gt;&lt;/div&gt; &lt;script type="text/javascript" src=¬´/path/to/uppod.js"&gt;&lt;/script&gt; &lt;script&gt; var player = null; $(function(){ player = new Uppod({m:"audio",uid:"audioplayer",file:"http://stream.tjournal.ru:8000/tjournal", comment:"TJournal Live"}); setInterval(function() { if (typeof player != 'undefined' &amp;&amp; player != undefined &amp;&amp; player != null) { if (player.Played() == 100) { player.Stop(); player.Play(); } }}, 10000); }); &lt;/script&gt;</code> <br>    TJournal    long-polling         .     nicecast,   ,       ,   ,         .    10           live streaming audio     ,   ,     . <br> <br>    .  .  !</code> </div><p>Source: <a href="https://habr.com/ru/post/202226/">https://habr.com/ru/post/202226/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202216/index.html">Telephone radiations: myths and legends - and what determines the power of the telephone transmitter</a></li>
<li><a href="../202218/index.html">Meople.Net. How it works?</a></li>
<li><a href="../202220/index.html">Normal numbers. Episode II: De Bruin's Attack</a></li>
<li><a href="../202222/index.html">Android eclipses iOS: MS-DOS of our time</a></li>
<li><a href="../202224/index.html">Video review tablet Samsung Galaxy Note 10.1 (2014)</a></li>
<li><a href="../202228/index.html">Two sims, four cores - a review of Sony Xperia C</a></li>
<li><a href="../202232/index.html">Communication on the Internet: before and now</a></li>
<li><a href="../202234/index.html">Event Manager with Template Filtering</a></li>
<li><a href="../202236/index.html">Raspberry Pi - HD media player, HDTV player</a></li>
<li><a href="../202238/index.html">[POLL] How do you feel about the selection of Q & A in a separate project?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>