<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript internationalization API: implementation in Firefox</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is internationalization? 
 Internationalization (internationalization, and for brevity - i18n , i mean i, 18 more letters and n; in Russian, this...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript internationalization API: implementation in Firefox</h1><div class="post__text post__text-html js-mediator-article"><h4>  What is internationalization? </h4><br>  Internationalization (internationalization, and for brevity - <b>i18n</b> , i mean i, 18 more letters and n; in Russian, this will turn out to be <b>i17</b> ) is a way to create applications that can be easily adapted for different audiences speaking different languages.  It‚Äôs very easy to make a mistake, assuming that all your users come from the same locality and use the same language - especially if you don‚Äôt even think about what you are supposed to do. <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatDate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    ,  //.  ? var month = d.getMonth() + 1; var date = d.getDate(); var year = d.getFullYear(); return month + "/" + date + "/" + year; } function formatMoney(amount) { //   ‚Äì  ,     .  ? return "$" + amount.toFixed(2); } function sortNames(names) { function sortAlphabetically(a, b) { var left = a.toLowerCase(), right = b.toLowerCase(); if (left &gt; right) return 1; if (left === right) return 0; return -1; } //     ,   ? names.sort(sortAlphabetically); }</span></span></code> </pre> <br><a name="habracut"></a><br>  Historically, i18n support in JavaScript is poorly done.  For formatting with support and 1717 and used toLocaleString () methods.  The final lines contain those details that are provided by a specific implementation of the language - there is no possibility to choose (do you need the day of the week in the date? Does the year matter or not?).  Even if all the details are included, the format may be incorrect - decimal instead of percent, etc.  And the locale can not be selected. <br><br>  When sorting, an almost useless comparison of the text with regard to locale (collation) is suggested.  There is a localeCompare (), but with an inconvenient interface, unsuitable for sorting.  And she also can not choose a locale. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These restrictions are so complex that serious applications send data to the server in order to perform the necessary locale-sensitive operation there, and then get the result.  Data transfer to the server and back, only for formatting monetary amounts.  Rave. <br><br><h4>  New API for i17 and JS </h4><br>  New ECMAScript Internationalization API enhances JS capabilities.  All the bells and whistles are provided for formatting dates and numbers and sorting text.  Locale can be chosen, and in order to speed it can be done once, and not every time before the operation. <br><br>  But this API is not a panacea, but at best a ‚Äúgood attempt.‚Äù  The exact output format is not specified.  The implementation can support exotic languages, or simply ignore all formatting options.  Most implementations will support many locales, but without any guarantees. <br><br>  The implementation of Firefox depends on the International Components for Unicode (ICU) library, which itself depends on the Unicode Common Locale Data Repository (CLDR).  However, most of the functions of ICU are written in JavaScript. <br><br><h4>  Intl interface </h4><br>  The API and 17 also live in an Intl object.  It contains three constructors: Intl.Collator, Intl.DateTimeFormat and Intl.NumberFormat.  Creating an object happens like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ctor = <span class="hljs-string"><span class="hljs-string">"Collator"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     var instance = new Intl[ctor](locales, options);</span></span></code> </pre><br><br>  locales - a string specifying a language tag or an object containing several language tags.  Tag - lines such as en (English), de-AT (Austrian German) or zh-Hant-TW (Taiwanese Chinese in a traditional entry).  Tags can include unicode extensions in the form -u-key1-value1-key2-value2 ..., where each key is an extension key.  Different designers interpret this differently. <br><br>  options is an object whose properties determine formatting and sorting. <br><br>  Firefox supports more than 400 locales for sorting and more than 600 for formatting - so most likely there will be a necessary locale. <br><br>  Intl does not guarantee specific behavior.  If the requested locale is not supported, Intl tries to best handle the request.  If supported, its behavior is not specified rigidly.  You can never assume that a particular set of settings matches a specific format.  This may vary from browser to browser or from version to version.  No formatting components are specified - a brief entry for the day of the week can be ‚ÄúS‚Äù, ‚ÄúSa‚Äù or ‚ÄúSat‚Äù. <br><br><h4>  Date and time formatting </h4><br><h5>  Settings </h5><br><pre> <code class="bash hljs">weekday, era <span class="hljs-string"><span class="hljs-string">"narrow"</span></span>, <span class="hljs-string"><span class="hljs-string">"short"</span></span>, or <span class="hljs-string"><span class="hljs-string">"long"</span></span>. (era ‚Äì   : BC/AD,    ,  ..) month <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>, <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>, <span class="hljs-string"><span class="hljs-string">"narrow"</span></span>, <span class="hljs-string"><span class="hljs-string">"short"</span></span>  <span class="hljs-string"><span class="hljs-string">"long"</span></span> year day hour, minute, second <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>  <span class="hljs-string"><span class="hljs-string">"numeric"</span></span> timeZoneName <span class="hljs-string"><span class="hljs-string">"short"</span></span>  <span class="hljs-string"><span class="hljs-string">"long"</span></span> timeZone  <span class="hljs-string"><span class="hljs-string">"UTC"</span></span>     UTC.   <span class="hljs-string"><span class="hljs-string">"CEST"</span></span>  <span class="hljs-string"><span class="hljs-string">"America/New_York"</span></span>   ,      Firefox.</code> </pre><br><br>  The exact format is not set, but the point is that ‚Äúnarrow‚Äù, ‚Äúshort‚Äù and ‚Äúlong‚Äù give results of different lengths - ‚ÄúS‚Äù or ‚ÄúSa‚Äù, ‚ÄúSat‚Äù and ‚ÄúSaturday‚Äù.  The conclusion may be ambiguous Saturday and Sunday in the short form can give an "S".  ‚Äú2-digit‚Äù and ‚Äúnumeric‚Äù mean two-digit or full-length dates of dates: ‚Äú70‚Äù and ‚Äú1970‚Äù. <br><br>  There are special settings: <br><pre> <code class="bash hljs">hour12 12-  24- .    .       ,    ‚Äì 0   12pm,      .</code> </pre><br><br>  There are two special properties of localeMatcher (‚Äúlookup‚Äù or ‚Äúbest fit‚Äù values) and formatMatcher (‚Äúbasic‚Äù or ‚Äúbest fit‚Äù), both default values ‚Äã‚Äãare ‚Äúbest fit‚Äù.  Specify how locale and formatting is used.  They are used very rarely and can be ignored. <br><br><h5>  Locale related settings </h5><br>  DateTimeFormat allows formatting with customizable calendar and number systems.  These details are specified in the language tag in the Unicode extension settings. <br><br>  For example, the Thai tag in Thailand is th-TH.  The format of the Unicode extension is -u-key1-value1-key2-value2 ... The key of the calendar system is ca, the numeric one is nu.  Thailand‚Äôs numerical system will have a thai value, while the Chinese will have a Chinese one.  Therefore, to format dates, we append these extensions to the end of the language tag: th-TH-u-ca-chinese-nu-thai. <br><br>  Read the documentation for details. <br><br><h5>  Examples </h5><br>  After creating the DateTimeFormat object, use it with the format () function.  This is a related function, so no need to call it directly.  It is passed a timestamp or a Date object. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> msPerDay = <span class="hljs-number"><span class="hljs-number">24</span></span> * <span class="hljs-number"><span class="hljs-number">60</span></span> * <span class="hljs-number"><span class="hljs-number">60</span></span> * <span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-comment"><span class="hljs-comment">// July 17, 2014 00:00:00 UTC. var july172014 = new Date(msPerDay * (44 * 365 + 11 + 197));</span></span></code> </pre><br><br>  Let's format the date for American English.  We include two-digit month / day / year, hour / minute and time zone in a short record. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = { <span class="hljs-attr"><span class="hljs-attr">year</span></span>: <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>, <span class="hljs-attr"><span class="hljs-attr">month</span></span>: <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>, <span class="hljs-attr"><span class="hljs-attr">day</span></span>: <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>, <span class="hljs-attr"><span class="hljs-attr">hour</span></span>: <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>, <span class="hljs-attr"><span class="hljs-attr">minute</span></span>: <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>, <span class="hljs-attr"><span class="hljs-attr">timeZoneName</span></span>: <span class="hljs-string"><span class="hljs-string">"short"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> americanDateTime = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.DateTimeFormat(<span class="hljs-string"><span class="hljs-string">"en-US"</span></span>, options).format; print(americanDateTime(july172014)); <span class="hljs-comment"><span class="hljs-comment">// 07/16/14, 5:00 PM PDT</span></span></code> </pre><br><br>  Now we will do the same for the Portuguese Brazilian and for the Portuguese in Portugal.  We will make the format longer, with the full record of the year and the name of the month, but in the UTC zone. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = { <span class="hljs-attr"><span class="hljs-attr">year</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>, <span class="hljs-attr"><span class="hljs-attr">month</span></span>: <span class="hljs-string"><span class="hljs-string">"long"</span></span>, <span class="hljs-attr"><span class="hljs-attr">day</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>, <span class="hljs-attr"><span class="hljs-attr">hour</span></span>: <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>, <span class="hljs-attr"><span class="hljs-attr">minute</span></span>: <span class="hljs-string"><span class="hljs-string">"2-digit"</span></span>, <span class="hljs-attr"><span class="hljs-attr">timeZoneName</span></span>: <span class="hljs-string"><span class="hljs-string">"short"</span></span>, <span class="hljs-attr"><span class="hljs-attr">timeZone</span></span>: <span class="hljs-string"><span class="hljs-string">"UTC"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> portugueseTime = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.DateTimeFormat([<span class="hljs-string"><span class="hljs-string">"pt-BR"</span></span>, <span class="hljs-string"><span class="hljs-string">"pt-PT"</span></span>], options); <span class="hljs-comment"><span class="hljs-comment">// 17 de julho de 2014 00:00 GMT print(portugueseTime.format(july172014));</span></span></code> </pre><br><br>  A compact schedule of Swiss trains for UTC using official languages, listing from most popular to least popular: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> swissLocales = [<span class="hljs-string"><span class="hljs-string">"de-CH"</span></span>, <span class="hljs-string"><span class="hljs-string">"fr-CH"</span></span>, <span class="hljs-string"><span class="hljs-string">"it-CH"</span></span>, <span class="hljs-string"><span class="hljs-string">"rm-CH"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = { <span class="hljs-attr"><span class="hljs-attr">weekday</span></span>: <span class="hljs-string"><span class="hljs-string">"short"</span></span>, <span class="hljs-attr"><span class="hljs-attr">hour</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>, <span class="hljs-attr"><span class="hljs-attr">minute</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>, <span class="hljs-attr"><span class="hljs-attr">timeZone</span></span>: <span class="hljs-string"><span class="hljs-string">"UTC"</span></span>, <span class="hljs-attr"><span class="hljs-attr">timeZoneName</span></span>: <span class="hljs-string"><span class="hljs-string">"short"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> swissTime = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.DateTimeFormat(swissLocales, options).format; print(swissTime(july172014)); <span class="hljs-comment"><span class="hljs-comment">// Do. 00:00 GMT</span></span></code> </pre><br><br>  Let's try to display the date in Japanese, using the Japanese calendar with the year and era: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> jpYearEra = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.DateTimeFormat(<span class="hljs-string"><span class="hljs-string">"ja-JP-u-ca-japanese"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">year</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>, <span class="hljs-attr"><span class="hljs-attr">era</span></span>: <span class="hljs-string"><span class="hljs-string">"long"</span></span> }); print(jpYearEra.format(july172014)); <span class="hljs-comment"><span class="hljs-comment">// Âπ≥Êàê26Âπ¥</span></span></code> </pre><br><br>  And now - a long date for Thailand, using Thai numbers and the Chinese calendar: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = { <span class="hljs-attr"><span class="hljs-attr">year</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>, <span class="hljs-attr"><span class="hljs-attr">month</span></span>: <span class="hljs-string"><span class="hljs-string">"long"</span></span>, <span class="hljs-attr"><span class="hljs-attr">day</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> thaiDate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.DateTimeFormat(<span class="hljs-string"><span class="hljs-string">"th-TH-u-nu-thai-ca-chinese"</span></span>, options); print(thaiDate.format(july172014)); <span class="hljs-comment"><span class="hljs-comment">// ‡πí‡πê 6 ‡πì‡πë</span></span></code> </pre><br><br><h4>  Formatting numbers </h4><br><h5>  Settings </h5><br>  The basic settings for formatting numbers are as follows: <br><br><pre> <code class="bash hljs">style <span class="hljs-string"><span class="hljs-string">"currency"</span></span>, <span class="hljs-string"><span class="hljs-string">"percent"</span></span>  <span class="hljs-string"><span class="hljs-string">"decimal"</span></span> ( )    currency    USD  CHF. ,  style = <span class="hljs-string"><span class="hljs-string">"currency"</span></span>,    . currencyDisplay <span class="hljs-string"><span class="hljs-string">"code"</span></span>, <span class="hljs-string"><span class="hljs-string">"symbol"</span></span>  <span class="hljs-string"><span class="hljs-string">"name"</span></span>,   <span class="hljs-string"><span class="hljs-string">"symbol"</span></span>. <span class="hljs-string"><span class="hljs-string">"code"</span></span>   , <span class="hljs-string"><span class="hljs-string">"symbol"</span></span>    $  ¬£. <span class="hljs-string"><span class="hljs-string">"name"</span></span>   . minimumIntegerDigits   1  21 (),   1.     . minimumFractionDigits, maximumFractionDigits   0  20 ().      minimumFractionDigits,    maximumFractionDigits   .   ‚Äì    ( 2,  0  3)  style = <span class="hljs-string"><span class="hljs-string">"currency"</span></span>,  0.    0, 3   ,    ‚Äì    . minimumSignificantDigits, maximumSignificantDigits   1  21 ().  ,       ,       . useGrouping  ,   <span class="hljs-literal"><span class="hljs-literal">true</span></span>.       ( ,      ).</code> </pre><br><br><h5>  Locale settings </h5><br>  NumberFormat supports custom numeric formatting for the nu key, just like the DateTimeFormat does.  For example, the Chinese language tag is zh-CN.  The Han number entry system is given as hanidec.  To format the number for this system, we attach the Unicode extension as a tag: zh-CN-u-nu-hanidec. <br><br>  For a full description of the features, see the documentation. <br><br><h5>  Examples </h5><br>  To begin with, let's format the currency for Chinese using the Han number entry.  Select the ‚Äúcurrency‚Äù style, then use the code for Chinese renminbi (yuan), grouping by default, with the usual number of fractional digits. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hanDecimalRMBInChina = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"zh-CN-u-nu-hanidec"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">style</span></span>: <span class="hljs-string"><span class="hljs-string">"currency"</span></span>, <span class="hljs-attr"><span class="hljs-attr">currency</span></span>: <span class="hljs-string"><span class="hljs-string">"CNY"</span></span> }); print(hanDecimalRMBInChina.format(<span class="hljs-number"><span class="hljs-number">1314.25</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// Ôø• ‰∏Ä,‰∏â‰∏ÄÂõõ.‰∫å‰∫î</span></span></code> </pre><br><br>  Now let's format the cost of gasoline according to the rules of the USA and UK <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gasPrice = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"en-US"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">style</span></span>: <span class="hljs-string"><span class="hljs-string">"currency"</span></span>, <span class="hljs-attr"><span class="hljs-attr">currency</span></span>: <span class="hljs-string"><span class="hljs-string">"USD"</span></span>, <span class="hljs-attr"><span class="hljs-attr">minimumFractionDigits</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }); print(gasPrice.format(<span class="hljs-number"><span class="hljs-number">5.259</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// $5.259</span></span></code> </pre><br><br>  Let's try the Arab percent for use in Egypt.  Make sure they have at least two decimal places.  The order of numbers may be different in systems with right-to-left entries. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arabicPercent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"ar-EG"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">style</span></span>: <span class="hljs-string"><span class="hljs-string">"percent"</span></span>, <span class="hljs-attr"><span class="hljs-attr">minimumFractionDigits</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }).format; print(arabicPercent(<span class="hljs-number"><span class="hljs-number">0.438</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// Ÿ§Ÿ£Ÿ´Ÿ®Ÿ†Ÿ™</span></span></code> </pre><br><br>  Now - Persian language used in Afghanistan.  At least two digits in the integer part and not more than two in fractional. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> persianDecimal = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"fa-AF"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">minimumIntegerDigits</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">maximumFractionDigits</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }); print(persianDecimal.format(<span class="hljs-number"><span class="hljs-number">3.1416</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// €∞€≥Ÿ´€±€¥</span></span></code> </pre><br><br>  Finally, we derive the number of Bahraini dinars in Arabic.  These dinars are uncharacteristically divided into thousandths, so we should have three decimal places. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bahrainiDinars = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"ar-BH"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">style</span></span>: <span class="hljs-string"><span class="hljs-string">"currency"</span></span>, <span class="hljs-attr"><span class="hljs-attr">currency</span></span>: <span class="hljs-string"><span class="hljs-string">"BHD"</span></span> }); print(bahrainiDinars.format(<span class="hljs-number"><span class="hljs-number">3.17</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ÿØ.ÿ®.‚Äè Ÿ£Ÿ´Ÿ°ŸßŸ†</span></span></code> </pre><br><br><h4>  Sorting </h4><br><h5>  Settings </h5><br><pre> <code class="bash hljs">usage <span class="hljs-string"><span class="hljs-string">"sort"</span></span>  <span class="hljs-string"><span class="hljs-string">"search"</span></span> (  <span class="hljs-string"><span class="hljs-string">"sort"</span></span>) <span class="hljs-string"><span class="hljs-string">"base"</span></span>, <span class="hljs-string"><span class="hljs-string">"accent"</span></span>, <span class="hljs-string"><span class="hljs-string">"case"</span></span>  <span class="hljs-string"><span class="hljs-string">"variant"</span></span>.    ,         ,    .  <span class="hljs-string"><span class="hljs-string">""</span></span>     ‚Äì     ‚Äúa‚Äù and ‚Äú√§‚Äù   ,    ‚Äì .   <span class="hljs-string"><span class="hljs-string">"base"</span></span>     (    ‚Äúa‚Äù, ‚ÄúA‚Äù  ‚Äú√§‚Äù  ). <span class="hljs-string"><span class="hljs-string">"accent"</span></span>     ,    (‚Äúa‚Äù  ‚ÄúA‚Äù  ,  ‚Äú√§‚Äù    ). <span class="hljs-string"><span class="hljs-string">"case"</span></span>     ,   (‚Äúa‚Äù  ‚Äú√§‚Äù  ,  ‚ÄúA‚Äù  ). , <span class="hljs-string"><span class="hljs-string">"variant"</span></span>    .   <span class="hljs-string"><span class="hljs-string">"sort"</span></span>    <span class="hljs-string"><span class="hljs-string">"variant"</span></span>;  ‚Äì    . numeric  ,         .  ,   numeric   <span class="hljs-string"><span class="hljs-string">"F-4 Phantom II"</span></span>, <span class="hljs-string"><span class="hljs-string">"F-14 Tomcat"</span></span>, <span class="hljs-string"><span class="hljs-string">"F-35 Lightning II"</span></span>;    numeric   <span class="hljs-string"><span class="hljs-string">"F-14 Tomcat"</span></span>, <span class="hljs-string"><span class="hljs-string">"F-35 Lightning II"</span></span>, <span class="hljs-string"><span class="hljs-string">"F-4 Phantom II"</span></span>. caseFirst <span class="hljs-string"><span class="hljs-string">"upper"</span></span>, <span class="hljs-string"><span class="hljs-string">"lower"</span></span>  <span class="hljs-string"><span class="hljs-string">"false"</span></span> ( ).      - <span class="hljs-string"><span class="hljs-string">"upper"</span></span>     (<span class="hljs-string"><span class="hljs-string">"B"</span></span>, <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>), <span class="hljs-string"><span class="hljs-string">"lower"</span></span>  (<span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>, <span class="hljs-string"><span class="hljs-string">"B"</span></span>)  <span class="hljs-string"><span class="hljs-string">"false"</span></span>   (<span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"B"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>). ignorePunctuation  , <span class="hljs-literal"><span class="hljs-literal">false</span></span>  , ,       (  <span class="hljs-string"><span class="hljs-string">"biweekly"</span></span>  <span class="hljs-string"><span class="hljs-string">"bi-weekly"</span></span>  ).</code> </pre><br><br><h5>  Locale settings </h5><br>  The sorting setting in the Unicode extension is set as co, and sets the sorting type ‚Äî address book (phonebk), dictionary (dict), and others. <br><br>  Additionally, the kn and kf keys can duplicate the numeric and caseFirst properties of the options object.  But their support is not guaranteed, so it‚Äôs better not to use them. <br><br><h5>  Examples </h5><br>  Collator objects have a compare function.  It takes x and y arguments and returns a number less than zero if x &lt;y, 0 if x = y, and a number greater than zero if x&gt; y. <br><br>  Let's try to sort the German names.  In Germany, there are two different sorting sequences - an address book and a dictionary.  The first is based on pronunciation, when ‚Äú√§‚Äù, ‚Äú√∂‚Äù and others are revealed as ‚Äúae‚Äù, ‚Äúoe‚Äù, etc. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> names = [<span class="hljs-string"><span class="hljs-string">"Hochberg"</span></span>, <span class="hljs-string"><span class="hljs-string">"H√∂nigswald"</span></span>, <span class="hljs-string"><span class="hljs-string">"Holzman"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> germanPhonebook = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator(<span class="hljs-string"><span class="hljs-string">"de-DE-u-co-phonebk"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  ["Hochberg", "Hoenigswald", "Holzman"]: // Hochberg, H√∂nigswald, Holzman print(names.sort(germanPhonebook.compare).join(", "));</span></span></code> </pre><br><br>  Some words are joined by umlauts, so in dictionaries it makes sense to sort them ignoring umlauts (except when words differ only in umlauts, for example, schon before sch√∂n). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> germanDictionary = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator(<span class="hljs-string"><span class="hljs-string">"de-DE-u-co-dict"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  ["Hochberg", "Honigswald", "Holzman"]: // Hochberg, Holzman, H√∂nigswald print(names.sort(germanDictionary.compare).join(", "));</span></span></code> </pre><br><br>  Sort the versions of Firefox, indicated with different errors, random accents and diacritics, according to the rules of American English.  We take into account the version number and sort by the value of the number, and not by the characters of the digits. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firefoxen = [<span class="hljs-string"><span class="hljs-string">"FireF√∏x 3.6"</span></span>, <span class="hljs-string"><span class="hljs-string">"Fire-fox 1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"Firefox 29"</span></span>, <span class="hljs-string"><span class="hljs-string">"F√çrefox 3.5"</span></span>, <span class="hljs-string"><span class="hljs-string">"F√≠refox 18"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> usVersion = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator(<span class="hljs-string"><span class="hljs-string">"en-US"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">sensitivity</span></span>: <span class="hljs-string"><span class="hljs-string">"base"</span></span>, <span class="hljs-attr"><span class="hljs-attr">numeric</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">ignorePunctuation</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-comment"><span class="hljs-comment">// Fire-fox 1.0, F√çrefox 3.5, FireF√∏x 3.6, F√≠refox 18, Firefox 29 print(firefoxen.sort(usVersion.compare).join(", "));</span></span></code> </pre><br><br>  Finally, we search for strings ignoring case and accents. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> decoratedBrowsers = [ <span class="hljs-string"><span class="hljs-string">"A\u0362maya"</span></span>, <span class="hljs-comment"><span class="hljs-comment">// AÕ¢maya "CH\u035Br√¥me", // CHÕõr√¥me "Firef√ìx", "sAf√†ri", "o\u0323pERA", // oÃ£pERA "I\u0352E", // IÕíE ]; var fuzzySearch = new Intl.Collator("en-US", { usage: "search", sensitivity: "base" }); function findBrowser(browser) { function cmp(other) { return fuzzySearch.compare(browser, other) === 0; } return cmp; } print(decoratedBrowsers.findIndex(findBrowser("Fir√™fox"))); // 2 print(decoratedBrowsers.findIndex(findBrowser("Saf√•ri"))); // 3 print(decoratedBrowsers.findIndex(findBrowser("√Émaya"))); // 0 print(decoratedBrowsers.findIndex(findBrowser("√òpera"))); // 4 print(decoratedBrowsers.findIndex(findBrowser("Chrom√®"))); // 1 print(decoratedBrowsers.findIndex(findBrowser("I√ã"))); // 5</span></span></code> </pre><br><br><h4>  Additional Information </h4><br>  It may be useful to determine whether some operations are supported in specific locales, or whether the locale itself is supported.  For this, each constructor has a supportedLocales () function, and each prototype has a resolvedOptions () function. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navajoLocales = <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator.supportedLocalesOf([<span class="hljs-string"><span class="hljs-string">"nv"</span></span>], { <span class="hljs-attr"><span class="hljs-attr">usage</span></span>: <span class="hljs-string"><span class="hljs-string">"sort"</span></span> }); print(navajoLocales.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-string"><span class="hljs-string">"Navajo collation supported"</span></span> : <span class="hljs-string"><span class="hljs-string">"Navajo collation not supported"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> germanFakeRegion = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.DateTimeFormat(<span class="hljs-string"><span class="hljs-string">"de-XX"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">timeZone</span></span>: <span class="hljs-string"><span class="hljs-string">"UTC"</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> usedOptions = germanFakeRegion.resolvedOptions(); print(usedOptions.locale); <span class="hljs-comment"><span class="hljs-comment">// de print(usedOptions.timeZone); // UTC</span></span></code> </pre><br><br><h4>  Hereditary behavior </h4><br>  Before ES5, the toLocaleString and localeCompare functions did not have such advanced semantics, they did not accept the settings and were, in fact, useless.  Therefore, their behavior has been changed to support Intl operations.  If the exact behavior of the program with respect to locales is not particularly important to you, you can use the old functions.  Otherwise, it is recommended to use primitives from Intl directly. <br><br><h4>  Conclusion </h4><br>  Internationalization is a very interesting topic, the complexity of which is limited only by the nature of human communication.  The internationalization API addresses a small but necessary part of this complexity, and makes it easier to write web applications that take into account localization. </div><p>Source: <a href="https://habr.com/ru/post/253913/">https://habr.com/ru/post/253913/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253901/index.html">Self-assembly 3d-printer or purchase ready-made equipment for the design. BY. Part 2</a></li>
<li><a href="../253903/index.html">CLRium, the last announcement before Moscow</a></li>
<li><a href="../253905/index.html">REG.ru has divided part of domains</a></li>
<li><a href="../253907/index.html">DotHill 4824 storage overview</a></li>
<li><a href="../253909/index.html">(Archive) The first version of the Matreshka.js framework has been released</a></li>
<li><a href="../253917/index.html">Perl 6 and Markov sequences</a></li>
<li><a href="../253919/index.html">Gaming headphones. Sound for gamers. Sound illusions</a></li>
<li><a href="../253921/index.html">Conference ProfsoUX 2015: Review of applications for speeches</a></li>
<li><a href="../253923/index.html">DlangUI - Cross-platform GUI for D (Part 1)</a></li>
<li><a href="../253925/index.html">Create your own weather station, integrated with the Wolfram Cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>