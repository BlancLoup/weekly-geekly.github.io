<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ZSlice landscape editor</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have long wanted to talk about the project ZSlice. 

 The editor has been developed for about 5 years, survived two prototypes and a complete rewrit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ZSlice landscape editor</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/cc9/e89/645/cc9e89645a8c4e248f850317c8a15c38.png"><br><br>  I have long wanted to talk about the project ZSlice. <br><br>  The editor has been developed for about 5 years, survived two prototypes and a complete rewriting ... <br>  And still under active development. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Probably, I would not have ripened to write this article for a few more years until the editor is 100% licked and functional.  But as my colleagues rightly noted, this will never happen.  Therefore, the idealist inside was slightly smothered, resulting in the writing of this article. <br><a name="habracut"></a><br>  Over the past few years, game development has seriously changed.  The value of the game code itself has dropped significantly, and the value of content, on the contrary, has increased.  In the modern world, ‚Äúwriting‚Äù a game is not a problem.  The problem is to create enough quality content. <br><br>  In 2007, by chance, I got into the company of fans of the rally simulator Richard Burns Rally. <br><br>  For about a year of work, we made a simple rally engine.  From the content, we had one car and a track in Novorossiysk: <br><br><img src="https://habrastorage.org/files/e30/854/81c/e3085481c4b241d9bb00913cee3f2dd2.jpg"><br><br>  This track was made about 3 months. <br><br>  Too slow development as a result affected the enthusiasm, the floaters went inside the team ... In general, the project never saw the light, although its ideological inspirer, as far as I know, is now looking for opportunities to complete it. <br><br>  At about the same time, it was understood that forcing modellers to create tracks in 3ds Max or Blender is inhumane.  The tool is not sharpened for such tasks, and even a simple tutorial on creating a road is a set of fairly complex and time-consuming activities. <br><br>  Began a leisurely search for the editor.  It turned out that free editors are full of editors who know how to create a landscape, but the construction of roads in them is either completely absent or is at an extremely flawed level. <br><br>  I will give an example: the landscape is aligned under the road and at some distance from it.  And the road is superimposed on top in the form of a decal.  Even recent Just Cause 2 suffers from this (you can see that the landscape next to the road always strictly corresponds to the geometry of the road). <br>  I was not satisfied with this situation and I began to create a tool for editing landscapes.  Not to compete with already existing editors of the height map (it‚Äôs almost impossible to compete with them, to take at least the <a href="http://www.world-machine.com/">World Machine</a> ), but in order to solve a single task - fast, convenient and high-quality road construction. <br><br>  The first version of the editor was a prototype created to test your ideas. <br><br>  But even the prototype already allowed to create quite decent landscapes, albeit with limitations. <br><br>  This is how the first prototype of the editor looked just before his ‚Äúdeath‚Äù: <br><br><img src="https://habrastorage.org/files/f05/b54/fa0/f05b54fa00c545719b517d621814feba.png"><br><br>  The screenshot shows the landscape created for the game "Storm: The Line of Defense", which participated in the strategy competition on <a href="http://www.gamedev.ru/flame/forum/%3Fid%3D142449">gamedev.ru</a> <br><div class="spoiler">  <b class="spoiler_title">Game Information Storm: Line of Defense, if anyone is interested</b> <div class="spoiler_text"><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/1YfF2bcb2t4%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhi6EKYzSJM6O-sWtzzyqJcXP7T68w" frameborder="0" allowfullscreen=""></iframe><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Video with the game, ranked first.</b>  <b class="spoiler_title">Just can not fail to mention this project.</b> <div class="spoiler_text"><iframe src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/24518728&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhgVv9dBT-GVfN3MEh16eTF-VUVbXg" width="394" height="315" frameborder="0" title="Universe of Wars. Russian localization. Gameplay video" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br><br>  When watching a video for a second, there is no feeling that the game was made in less than six months by one person.  It was not a shame to lose such a project. <br>  However, in this competition we took 10 places in the region, and there were many projects that were embarrassing to lose. <br></div></div><br><br>  The prototype allowed us to expand our understanding of landscape management processes.  For example, an obvious problem has surfaced that was not noticeable before implementation: the junction of two landscape blocks is very much affected by filtering.  It is necessary not just to duplicate the pixels on the next block - the border should be two pixels thick, otherwise, as a result of the linear filtering operation, such a nuisance will arise: <br><br><img src="https://habrastorage.org/files/52c/679/e2b/52c679e2b1264393a6b0391be1c9187a.png"><br><br>  The strategy is not very noticeable, but if we make the landscape for a shooter, then this is already a very critical artifact. <br><br>  Also, when developing the second version, we took into account that maximum actions should be available outside, through the API.  It is impossible to predict exactly what functionality the user wants.  But this is not necessary.  It is enough to give access to the API and the user himself will create the necessary tools. <br><br>  Therefore, all the brushes in the editor from hardcode moved to an external plugin. <br><br>  Unfortunately, this is also not a completely trivial matter. <br><br>  And the problem here lies in the very curb created for the normal operation of filtering at the junction of blocks. <br><br>  In fact, it turns out that editing one point at the junction turns into editing up to 4 points (in case it is an angle-junction of four blocks).  At the same time, from the outside it should look like editing a single point in order not to complicate unnecessarily the processing process. <br><br>  As a result, the API for tools has become a little more complicated than we would like and slower than it could be. <br><br>  The first prototype worked with the landscape through streaming.  Since one of the tasks was to create an editor capable of processing gigantic areas, I had to find a solution that would allow changing such landscapes.  And streaming seemed an adequate option.  Streaming has been fully implemented, but the practice of use has shown that this creates some difficulties.  Not that it was very annoying ... But in the conditions of modern reality, when memory volumes are constantly increasing and even the browser is not ashamed to eat a few gigabytes, complicate the tool and reduce convenience in order to save memory is simply not justified.  Therefore, the new version of the editor moved to the 64-bit compiler and lost the possibility of streaming.  Even very large landscapes fit in 5 gigabytes of memory.  And it covers most needs.  Well, 1% of those who need landscapes of 100x100 km, will be forced to re-buy a few dies of RAM in their workstation.  However, nowadays even 32 gigabytes cost quite tolerable money. <br><br>  The editor continues to evolve.  Now, taking into account the new experience, we are already talking about the transition to the third version of the editor, again with full rewriting.  The purpose of rewriting is to universalize work with materials and accelerate the API. <br>  The current version remains LTS for those customers who are currently using it. <br><br>  You can download the current version of the editor via the link: <a href="">www.dropbox.com/s/j08r1a2z095h9ai/ZSlice_build_2014_04_02.rar</a> <br><br>  Please note that this is not even a beta, but a version intended for internal use.  Accordingly, stability is far from ideal, and part of the additional functionality (for example, the distribution of vegetation) is only indicated, but not fully implemented. <br>  The editor is free for non-commercial use. <br><br>  API and source codes of brushes and exporters are sent on request. <br><br>  PS Of course, the original idea to make the Rally has not gone away. <br><br>  Actually, the editor is largely created and developed through the use of it by our clients and, of course, in the SRF Rally project: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/232/99d/dc2/23299ddc2250e6a7113e1293956c9b01.jpg" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/234627/">https://habr.com/ru/post/234627/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../234613/index.html">Flask Mega-Tutorial, Part 10: Full-Text Search</a></li>
<li><a href="../234615/index.html">The search engine in the NSA contains more than 850 billion records</a></li>
<li><a href="../234619/index.html">RenderDoc - a graphical debugger for DirectX11 from Crytek</a></li>
<li><a href="../234621/index.html">How we made the educational platform: the first application</a></li>
<li><a href="../234623/index.html">Message Passing Concept. Agents and actors</a></li>
<li><a href="../234629/index.html">Logeek Night Luxoft</a></li>
<li><a href="../234633/index.html">Implementation of TestLink - basic steps from the idea of ‚Äã‚Äãimplementation to your logo in the reports</a></li>
<li><a href="../234637/index.html">Munich: rumors of switching to Windows are greatly exaggerated</a></li>
<li><a href="../234639/index.html">Fragmentation of Android almost ceased to be a problem?</a></li>
<li><a href="../234641/index.html">How will the sanctions affect the Russian online advertising market?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>