<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Python vs Bash scripts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is no secret that in terms of automating any simple actions, both of them are another powerful script. I read this little article , and I thought -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Python vs Bash scripts</h1><div class="post__text post__text-html js-mediator-article">  It is no secret that in terms of automating any simple actions, both of them are another powerful script.  I read <a href="http://habrahabr.ru/blogs/linux/47163/">this little article</a> , and I thought - and why are we worse?  I‚Äôll take and describe how to automate simple console actions using python scripts, even though this is a fairly broad topic. <br><a name="habracut"></a><br><h2>  Go! </h2><br>  To make a Python script executable in the console, you need the first line to look like <br><br> <code>#!/usr/bin/python</code> <br> <br>  where <b>/ usr / bin / python</b> is the address of the Python interpreter installed on your system.  And, of course, the user who runs the script must have rights to execute it.  That is characteristic, it will work only in NIX-systems.  In Windows, scripts automatically become executable when establishing a correspondence between the interpreter program and the <i>.py</i> file type. <br><br>  In general, Python scripts are a lot like Bash scripts, but in my opinion, they are much more elegant.  Consider the basic functions that we may need: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>listdir(path)</code> <br>  Returns a list of file and folder names in a folder named path. <br><br> <code>mkdir(path)</code> <br>  Creates a folder named path. <br><br> <code>makedirs(path)</code> <br>  It works similarly to the mkdir () function, but automatically creates all the necessary intermediate folders. <br><br> <code>remove(path)</code> <br>  Removes a file named path. <br><br> <code>rmdir(path)</code> <br>  Removes a directory named path. <br><br> <code>removedirs(path)</code> <br>  It works similarly to the rmdir () function, but automatically deletes all parent empty folders. <br><br> <code>rename(src, dst)</code> <br>  Renames a file or folder named src to dst. <br><br> <code>open(filename, flag)</code> <br>  Opens a file named filename.  Flag is needed to determine the access mode: ‚Äúr‚Äù - read, ‚Äúw‚Äù - write, ‚Äúa‚Äù - append. <br><br> <code>read(size)</code> <br>  Reads data from the file with size and returns as a string.  If the argument is omitted, then the entire contents of the file are read. <br><br> <code>readline()</code> <br>  Reads one line from a file, including the newline character (‚Äú\ n‚Äù). <br><br> <code>readlines()</code> <br>  Reads all lines from a file and returns them as a list. <br><br> <code>write(string)</code> <br>  Writes string to file. <br><br> <code>writelines(lines)</code> <br>  Writes lines from the lines list to a file.  The newline character between them is not added. <br><br> <code>tell()</code> <br>  Returns the current position in the file in bytes from the beginning of the file. <br><br> <code>seek(offset, whence)</code> <br>  Changes the position to offset.  The nature of the positioning depends on the whence argument (default is 0): <br>  1) 0 - new position is counted from the beginning of the file; <br>  2) 1 - from the end of the file; <br>  3) 2 - from the current position in the file; <br><br> <code>truncate(size)</code> <br>  Truncates the file to size. <br><br> <code>close()</code> <br>  Close the file.  Remember!  Any opening of a file must be followed by a subsequent closure using this method. <br><br><h2>  And now - to more special cases. </h2><br>  Mess in my head?  Nothing, now we will analyze everything in more detail. <br><br>  First of all, let's add some interactivity.  Otherwise, the meaning in our script, if he will not ask the user anything?  :) For keyboard input, the <i>raw_input ()</i> method is used.  Why not just <i>input ()</i> ?  Because when reading a string through <i>input (),</i> it is passed through an interpreter that converts the entered string to a command.  Hands and itching to enter <b>rm -rf</b> ... Well, okay, drove on!  The syntax for the function is: <br><br> <code>login = raw_input("Enter your name: ")</code> <br>  Here <b>login</b> is a variable in which the string entered by the user is read after pressing <i>Enter</i> . <br>  Now let's open the file and write some information into it. <br><br> <code>gogo = open ("/home/username/helloworld","w") <br> gogo.write("Hello, world!") <br> gogo.close()</code> <br> <br>  By the way, I recommend checking, before you perform the above, did you have any necessary file at <i>/ home / username / helloworld</i> ?  Otherwise, everything in him will erase and leave nothing at the crime scene, except for ‚ÄúHello, world!‚Äù. <br><br>  Well, now let's work directly with the console.  Personally, in one code fragment I got the address of the host‚Äôs provider from issuing the <i>host domen.com</i> command.  No sooner said than done. <br><br> <code>import os <br> import re <br> vid = os.popen("host l2tp.corbina.ru") <br> re_dns = re.compile(r"([\d]+)\.([\d]+)\.([\d]+)\.([\d]+)") <br> for line in vid.readlines(): <br> hst=re_dns.search(line) <br> if (hst != None): <br> break <br> host=hst.group(0) <br> print "Corbina host adress is "+host</code> <br> <br>  Wow, how many things ... Well, let's understand.  Line by line. <br><br> <code>import os <br> import re</code> <br>  We connect standard libraries of a python that all worked.  <b>os</b> is a library for working with system calls and the console.  <b>re</b> - to work with regular expressions. <br><br> <code>vid = os.popen ("host l2tp.corbina.ru")</code> <br>  Here, we kind of ‚Äúenter into the console‚Äù the command <i>host l2tp.corbina.ru</i> , and push what we get into the <b>vid</b> variable as a list. <br><br> <code>re_dns=re.compile(r"([\d]+)\.([\d]+)\.([\d]+)\.([\d]+)")</code> <br>  This, my friends, is a regular expression conversion.  <b>re_dns</b> is a variable into which a special object is written, obtained using the <b>re.compile ()</b> method.  I will not explain the syntax of a regular expression, especially since it is the simplest, I can only say - this is the simplest version of the filter for IP addresses. <br><br> <code>for line in vid.readlines():</code> <br>  This is where the for loop starts.  I think you have already noticed that in Python, the syntax of the <b>for</b> loop is quite different from other languages.  Here, the <b>line</b> variable is taken, in which lines from the <b>vid.readlines ()</b> list are written in turn.  The lines in the list will end - the cycle will also end.  The colon at the end indicates the beginning of the section of statements that occur in the loop.  These operators must be separated by tabs or multiple spaces.  As soon as we wrote everything that should happen in the loop, we simply write the next statement from the beginning of the line.  By the way, this also applies to the conditional <b>if statement</b> , as can be seen below. <br><br> <code>hst=re_dns.search(line)</code> <br>  And here we apply the previously obtained regular expression object to the line <b>line</b> , as a result of which either the list of matching lines is returned to <b>hst</b> , or <i>None</i> if nothing is found. <br><br> <code>if (hst != None): <br> break</code> <br>  Check for the very <i>None</i> .  Pay attention to the indent before <b>break</b> .  As you probably know from other languages, this same <b>break</b> is a loop termination statement.  Thus, as soon as <b>hst</b> becomes not equal to <i>None</i> - the cycle is interrupted. <br><br> <code>host=hst.group(0)</code> <br>  As I already said, the list of strings matching regular expression is returned to the <b>hst</b> variable.  Actually, more precisely, it is not a list that is returned, but a tuple of elements.  And since we interrupted the cycle, as soon as we found the first suitable line, it will be written into the first (also zero) element of the tuple, which we safely reach and write to the <b>host</b> . <br><br> <code>print "Corbina host adress is "+host</code> <br>  And then we display this IP in the console.  The <b>print</b> statement prints the string passed to it into the console, and it also allows string concatenation by simple addition. <br><br>  Well, actually, that's all for a start.  I will ask not to scold too much and not to kick for the raggedness of the narrative, if there are any complaints - I will listen with pleasure and try to correct it. </div><p>Source: <a href="https://habr.com/ru/post/47474/">https://habr.com/ru/post/47474/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../47464/index.html">Video about the crisis</a></li>
<li><a href="../47467/index.html">Return scam</a></li>
<li><a href="../47469/index.html">End of holivar</a></li>
<li><a href="../47471/index.html">Quicky got his "home"</a></li>
<li><a href="../47472/index.html">iPhone - subjective top 15 free programs from the AppStore</a></li>
<li><a href="../47476/index.html">Mac OS X Tiger on eee PC 701</a></li>
<li><a href="../47478/index.html">Skeleton in the closet, or a site for $ 200</a></li>
<li><a href="../47480/index.html">Have a nice week, colleagues</a></li>
<li><a href="../47481/index.html">Habradevushek activity</a></li>
<li><a href="../47483/index.html">Plugin for working with SVG on jQuery</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>