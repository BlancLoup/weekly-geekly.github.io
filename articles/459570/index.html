<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Beeline shows ads Google bot. Bot displeased</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I'll tell you my little story in the piggy bank of mobile operators: 

 Given: 



1. The most common landing. Only pages with layout and that's it. 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Beeline shows ads Google bot. Bot displeased</h1><div class="post__text post__text-html js-mediator-article">  I'll tell you my little story in the piggy bank of mobile operators: <br><br>  Given: <br><br><ol><li>  The most common landing.  Only pages with layout and that's it. </li><li>  Hosted on servers of a very famous hoster.  The latest version of the popular (non wordpress) CMS. </li><li>  Both http and https are enabled.  But the redirect from 80 to 443 is not configured. </li><li>  The site is advertised in contextual advertising Google. </li></ol><br>  It would seem that everything is under control, what can go wrong? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And it arrives from where it was not expected: we get a lock in contextual advertising.  Contact technical support: <br><br><img src="https://habrastorage.org/webt/bb/vl/s3/bbvls3era0uk9l_4nbhgwd1vpi8.png" alt="image"><br><a name="habracut"></a><br>  First thought: hacked !!!  However, a cursory check shows that there are no suspicious scripts on the site.  Checking service endpoint CMS also does not give anything - all are closed by hosting.  In the source of the site, as expected, nothing suspicious. <br><br>  Well, then let's take a closer look at the hero of the occasion: <br><br>  <a href="http://ssp1.rtb.beeline.ru/userbind%3Fsrc%3Drpb%26id%3D4bae2cff-817d-4fda-816e-10effdf6d956">ssp1.rtb.beeline.ru/userbind?src=rpb&amp;id=4bae2cff-817d-4fda-816e-10effdf6d956</a> <br><br>  The fact that the domain belongs to <a href="https://habr.com/ru/users/beeline/" class="user_link">Beeline</a> , no one seems to cause any doubt.  Let's sort the link in parts: <br><blockquote>  Sell ‚Äã‚ÄãSide Platform (SSP) is a technology platform that represents the interests of the seller and sells advertising equipment.  The task of SSP is to sell advertising inventory at maximum cost.  SSP is in constant interaction with the DSP, which transmits the SSP rates to advertisers and the requirements for the target audience, resulting in the winner of the RTB auction being determined taking into account the interests of the two parties. </blockquote><br><blockquote>  RTB (Real Time Bidding) is an advertising technology that allows you to organize an auction between sellers and buyers of real-time advertising.  The object of bargaining at an online auction is the right to display ads to a specific user. </blockquote>  At the end of the link is the client‚Äôs advertising ID.  In our case - google bot. <br><br>  Quick search, we find the announcement: <a href="https://rb.ru/news/beeline_programmatic/">rb.ru/news/beeline_programmatic</a> <br><br>  Restore the chain of events: <br><br><ol><li>  Google Bot is trying to check the mobile version of the site </li><li>  In the chain of servers to the site comes across a biline system, or some other one that inserts a link to your ad unit.  That's right: Google bot is the perfect candidate for displaying ads! </li><li>  Google Bot is offended, and identifies the link as malicious </li></ol><br><br><h2>  How advertising actually got to the site: </h2><br><br>  There are 4 hypotheses: <br><br>  1) Google servers are hosted on the Beeline network.  Advertising insertion is carried out directly by the operator ( <a href="https://habr.com/ru/post/459570/">comment</a> ) <br>  2) Google bot crawls through open proxies that insert ads ( <a href="https://habr.com/ru/post/459570/">comment</a> ) <br>  3) Traffic went through a third-party advertising service, Beeline only won the competition for placement <br>  4) Advertising slipped hoster / site hacked ( <a href="https://habr.com/ru/post/459570/">discussion</a> ) <br><br>  Most likely the first 3 options.  Against the fourth, they say good hosting reputation, the lack of modification of CMS files, old dates of changes, etc. <br><br><h2>  findings </h2><br>  <b>If you have not switched to https - it's time to do it</b> <br><br>  <b>PS</b> The article specifically missing the link to the affected site.  I am ready to share it with <a href="https://habr.com/ru/users/beeline/" class="user_link">Beeline</a> representatives, but I see no reason to publish it in open access. <br><br>  <b>PPS</b> Disabled advertising - potentially under-received profit.  If the clients attracted from the site - the main source of income - it is very, very bad. </div><p>Source: <a href="https://habr.com/ru/post/459570/">https://habr.com/ru/post/459570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459558/index.html">How to start using User Mode in Linux</a></li>
<li><a href="../459560/index.html">Capabilities of container data centers: a ready switching node in Myanmar for 50 days</a></li>
<li><a href="../459562/index.html">Differentiable programming</a></li>
<li><a href="../459564/index.html">What developers need to know about business</a></li>
<li><a href="../459568/index.html">Vertical writing in modern IT</a></li>
<li><a href="../459576/index.html">Useful Google Chrome Extensions for Programmers</a></li>
<li><a href="../459578/index.html">Project Management System by Open Core Model in the Public Sector</a></li>
<li><a href="../459580/index.html">Virtual Telephone Systems</a></li>
<li><a href="../459582/index.html">Overview: how to buy shares of US companies from Russia</a></li>
<li><a href="../459584/index.html">I found a great programmer named Steve Wozniak</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>