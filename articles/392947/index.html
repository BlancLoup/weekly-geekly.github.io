<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Opera Dragonfly offline: a small full guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Now, few people ask the question: "But how will this thing work without the Internet?" Even less are those for whom the autonomous work of a program o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Opera Dragonfly offline: a small full guide</h1><div class="post__text post__text-html js-mediator-article">  Now, few people ask the question: "But how will this thing work without the Internet?"  Even less are those for whom the autonomous work of a program or tool is an important part of the work process.  And very few people would like to get Opera Operafly debugger under Opera 12 Presto offline. <br><br>  My friends, this little manual is for all of you.  And if one seems to be quite entertaining, but for others it is already a past stage, then for others it will be a revelation.  Curious, of course, also well under the cat. <br><br><img src="https://habrastorage.org/files/e98/ce2/b53/e98ce2b53eaa410e9ac09753f4fcb6ad.jpg" alt="Opera Dragonfly Local">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  First of all, briefly, <br><h2>  How it all began </h2><br>  On one of the fateful days of the calendar, namely, on October 31, 2013, Opera Software ASA announced the closure of the My Opera service by March 1, 2014. <br>  All that is left at the moment from <a href="http://my.opera.com/">my.opera.com</a> is a redirect to the <a href="http://www.opera.com/ru/whereismyopera">www.opera.com/ru/whereismyopera</a> page with an eloquent cry in the URI of our pain: ‚ÄúWhere is my Opera? !!‚Äù. <br>  Some facts: <br><ul><li>  <a href="http://my.opera.com/">my.opera.com</a> - My Opera Portal Killed </li><li>  <a href="http://blogs.opera.com/">blogs.opera.com</a> - a little warm, transformed into <a href="http://www.opera.com/blogs/russia/">www.opera.com/blogs/russia</a> </li><li>  <a href="http://portal.opera.com/">portal.opera.com</a> - closed, hanging stub <a href="http://www.opera.com/ru/o/news-portal">www.opera.com/ru/o/news-portal</a> </li><li>  <a href="http://widgets.opera.com/">widgets.opera.com</a> - 403 Forbidden </li><li>  <a href="http://labs.opera.com/">labs.opera.com</a> - 400 Bad Request </li><li>  <a href="http://link.opera.com/">link.opera.com</a> - closed, stub <a href="http://www.opera.com/ru/whereisoperalink">www.opera.com/ru/whereisoperalink</a> </li><li>  <a href="http://operaunite.com/">operaunite.com</a> is closed.  Although in fact it was a <a href="https://ru.wikipedia.org/wiki/Opera_Unite">very interesting undertaking</a> on this p2p between browsers </li><li>  <a href="https://dev.opera.com/">dev.opera.com</a> - live, but almost no more about Opera Presto </li><li>  irc.opera.com - alive, dear old woman!  (open not via http, but as an IRC server, of course) </li><li>  ... </li><li>  <a href="http://dragonfly.opera.com/">dragonfly.opera.com</a> - and, in fact, still a live debugging tool for Opera Presto </li></ul><br>  Opera Presto is actually still quite a good browser, especially for modest machines.  But this ‚Äústill‚Äù in the context of ‚Äústill working‚Äù for Opera Dragonfly in the light of the company's effective policy makes it very high the chance that one day you will be left without a debugging tool.  And then on this light browser, the diggers will rush in with the trebled force.  Although, IMHO, and if you honestly, the modern content of the Internet and the little finger IE8 is not worth it.  Not that of the Opera. <br><br>  On this lyric part is over. <br><br><h2>  How to make Opera Dragonfly available locally </h2><br>  I am writing in the context of Windows 7 64bit OSes.  But it will be fair for any Windows, and for the most part and for other axes. <br><br><h3>  Common beginning </h3><br>  1. Open opera in Opera Opera: config <br>  2. We are looking for ‚Äúdragon‚Äù in the search field <br>  3. See the ‚ÄúDeveloper Tools URL‚Äù option.  The default is <a href="https://dragonfly.opera.com/app/">https://dragonfly.opera.com/app/</a> <br>  4. Create a folder where you want to store your local Opera Dragonfly cherished.  For example C: \ Opera \ dragonfly. <br><br>  Then there are three working ways. <br>  It was possible, of course, to limit oneself to the first one or to the optimal one, but for completeness of the exposition and the picture I describe all the possibilities found. <br>  As the most correct and simple I advise the 2nd way, numbered under the letter <b>B)</b> . <br><br><h3>  A) - The first visible path, in the forehead. </h3><br>  5. Open in the same Opera 12 link <a href="https://dragonfly.opera.com/app/">dragonfly.opera.com/app</a> <br>  6. We see a message like "Waiting for a node to connect to port 0" <br>  7. We do not pay attention to it, press Ctrl + S, in the dialog select ‚ÄúFile name‚Äù = ‚Äúdragonfly‚Äù, ‚ÄúFile type‚Äù = ‚ÄúXML-file with images‚Äù.  We save. <br>  8. In the folder where you saved, we see the file ‚Äúdragonfly.xml‚Äù and the folder ‚Äúdragonfly_files‚Äù. <br>  9. Move to C: \ Opera \ dragonfly \ dragonfly.xml file and dragonfly_files folder. <br>  10. Rename dragonfly.xml to client-ru.xml <br>  11. We register in opera: config ‚ÄúDeveloper Tools URL‚Äù the value of ‚Äúfile: // localhost / C: /Opera/dragonfly/client-ru.xml‚Äù <br><br><h3>  B) - Shorter and more beautiful way. </h3><br>  5. Go to the not yet dead repository of assembled zip versions of Opera Dragonfly: <a href="http://dragonfly.opera.com/app/zips/">dragonfly.opera.com/app/zips</a> <br>  6. Go to the default zips - latest and download the desired localization of dragonfly.  I downloaded client-ru.zip and client-en.zip <br>  7. Unpack client-ru.zip in C: \ Opera \ dragonfly \.  We get in the root of this folder the file client-ru.xml and two subfolders. <br>  [7.1] It is possible to unpack directly to the same place and other localizations, for example client-en.zip, this is compatible.  According to the scripts and xml, the content of the archives is not intersected, and the css is the same for all locales. <br>  8. We register in opera: config "Developer Tools URL" the value of "file: // localhost / C: /Opera/dragonfly/client-ru.xml" <br><br>  PS: As the good commentator here <a href="http://rb.labtodo.com/page/use-opera-dragonfly-offline">suggests rb.labtodo.com/page/use-opera-dragonfly-offline</a> , you can not even unpack the archive, but leave it directly in the form of the archive, writing something like <code>file://localhost/c:\opera\client-ru.zip/client-ru.xml</code> in the Developer Tools URL <code>file://localhost/c:\opera\client-ru.zip/client-ru.xml</code> .  Opera can work with zip archives as with directories. <br><br><h3>  C) - The path of this warrior </h3><br>  5. Go to the not yet dead repository (there are forks!) <a href="https://github.com/operasoftware/dragonfly">Github.com/operasoftware/dragonfly</a> .  Clone / download zip. <br>  <s>6. (crossed out)</s> Reedmi us carefully suggests that Dragonfly (Dragon Fly) is going to be a miracle-assembler DragonKeeper (Dragon Keeper) - <a href="https://github.com/operasoftware/dragonfly-build-tools">github.com/operasoftware/dragonfly-build-tools</a> .  Clone / download zip. <br><br>  As it turned out, DragonKeeper can collect, well, surely, and cool stuff, and not only collect ... But for the purpose of ‚Äúgathering a dragonfly from a surse‚Äù, it is not really necessary.  Since  Dragonfly has its own Python collector with support in the / tools subfolder <br><br>  But if someone decides to continue the development of Dragonfly under the Presto Opera on his own, local manuals and Dragonflies, and Keeper will prompt a lot of useful things. <br><br>  6. We swing pythons.  <a href="https://www.python.org/downloads/">www.python.org/downloads I will</a> remove the piece under the spoiler, in short, 2.6. * - 2.7. *. <br><div class="spoiler">  <b class="spoiler_title">The story of cones on pythons</b> <div class="spoiler_text">  At first, intuition told me that I should take Python 2 <br><h4>  We try to build under Python 2.7.11 </h4><br><br>  And here on you, UnicodeEncodeError: 'ascii' codec can't encode character u '\ u2026' <br>  Took a little bit, said that I did not play, and went after another python. <br><br><h4>  We try to build under Python 3.5.1 </h4><br>  &gt; python tools / dfbuild.py -dtsm src build <br>  File "tools / dfbuild.py", line 393 <br>  except (IOError, os.error), why: <br>  ^ <br>  SyntaxError: invalid syntax <br><br>  And further, further, further. <br>  Any guglozapros will tell you that this is one of the characteristic manifestations of the incompatibility of the code under the 2nd python under the interpreter of the 3rd python.  For example, you can ask here - <a href="http://sebastianraschka.com/Articles/2014_python_2_3_key_diff.html">sebastianraschka.com/Articles/2014_python_2_3_key_diff.html</a> <br><br>  Code like a little bit in the dragonfly build scripts ... <br>  For the sake of sporting interest, I tried in half-manual mode to incite regexps on surses: <br><br>  except (. *) ?, (\ w +): <br>  except \ 1 as \ 2: <br><br>  raise \ s + (. *) ?, (\ w +) <br>  raise \ 1 \ (\ 2 \) <br><br>  (manually) <br>  print <br>  print \ ( <br><br>  yearning‚Ä¶ <br><br>  It lay down anyway, but absolutely with an incomprehensible to me, a novice in python, a mistake, and then I finally realized that something I was doing wrong :) <br>  Previously, I of course saved the initial state of the / tools folder.  I restored it and decided to try to collect it a little more closely under the 2nd one. <br><br><h4>  We try to build under Python 2.7.11, attempt 2. </h4><br> <code>File "tools/dfbuild.py", line 458, in _convert_imgs_to_data_uris <br> temp.write(line.encode("ascii")) <br> UnicodeEncodeError: 'ascii' codec can't encode character u'\u2026' in position 12: ordinal not in range(128) <br></code> <br><br>  Okay ... google, stackoverflow, ... <br><br>  I tried changing the ‚Äúascii‚Äù to ‚Äúutf-8‚Äù method: <br> <code>File "tools/dfbuild.py", line 465, in _convert_imgs_to_data_uris <br> fp.write(temp.read().encode("utf-8")) <br> UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 126562: ordinal not in range(128) <br></code> <br>  And a few more attempts using the ‚ÄúGuess the Melody‚Äù method. <br><br>  And then I went back to the beginning - and what kind of character is \ u2026? <br>  <a href="http://www.charbase.com/2026-unicode-horizontal-ellipsis">Ellipsis</a> ... so mean, ellipsis speak. <br>  And the code that falls down with us is responsible for updating the css of the Dragonfly build in the process of embedding the base64 images there. <br>  And what's in the newest /style/dragonfly.css? <br>  Yeah !!!  And the truth is, there it is, the symbol of the dot!  In binary utf-8 encoding. <br>  (By the way, as it turned out later, there are still a couple of long dash characters) <br><br>  And I found how to fix the build process!  Only this is already taken out from under the spoiler.  So: <br></div></div><br>  In its original form, the python-script does not want to collect the Dragonfly. <br>  To make it work, you need to fix in the tools / dfbuild.py 458th line with <br> <code>temp.write(line.encode("ascii")) <br></code>  on <br> <code>temp.write(line.encode("ascii", "xmlcharrefreplace")) <br></code>  Useful information to think about supplied <a href="https://docs.python.org/2/howto/unicode.html">Doc docs.python.org/2/howto/unicode.html</a> <br>  Next, the build command will work fine: <code>python tools/dfbuild.py -dtsm src build <br></code> <code>python tools/dfbuild.py -dtsm src build <br></code> <br>  You can bend with the master of my fork <a href="https://github.com/FlameStorm/dragonfly">github.com/FlameStorm/dragonfly</a> already with this fix.  In the official threw a pull-request. <br>  I note that Dragonfly is going for quite some time.  And most of the work falls on the minification of js for each locale. <br><br>  7. Dragonfly gathered in the newly created subfolder / build.  We take files client-ru.xml, style / dragonfly.css, script / dragonfly-en.js from there <br>  8. The rest is already unnecessary to explain to the soldier. <br><br><h2>  Result </h2><br><img src="https://habrastorage.org/files/b44/647/16d/b4464716d6c34996919e944f6881bc0e.png" alt="Opera Dragonfly Local works!"><br><br><blockquote>  It's alive, alive! </blockquote><br>  All three methods work. <br>  And yes, it was fascinating! <br><br>  <b>PS:</b> Reach hands before the publication of this small mana helped, already and unexpected, the release of the update <a href="https://geektimes.ru/post/271634/">Opera 12.18</a> <br><br>  <b>PPS:</b> In conclusion, I would like to mention for many the already long-awaited <a href="https://habrahabr.ru/company/vivaldi/blog/281020/">release of Vivaldi</a> - a ray of light in the dark kingdom!  Thanks to the old-new team led by Jon von Tachner and separately for the coverage of events Ilya <a href="https://geektimes.ru/users/shpankov/" class="user_link">Shpankov</a> - warm greetings to you and success! </div><p>Source: <a href="https://habr.com/ru/post/392947/">https://habr.com/ru/post/392947/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../392937/index.html">Did you fly into Gemini orbit?</a></li>
<li><a href="../392939/index.html">Brain scans show how LSD acts on consciousness</a></li>
<li><a href="../392941/index.html">Scientists have discovered a unique hyper speed double star</a></li>
<li><a href="../392943/index.html">Explosions and falls on the road to success. The history of reusable spaceX rocket in one video</a></li>
<li><a href="../392945/index.html">Climatologists finally agreed: global warming is caused by human activity</a></li>
<li><a href="../392949/index.html">Office Application History: Part I</a></li>
<li><a href="../392951/index.html">Excuse me: why smartphones deprive memory card support</a></li>
<li><a href="../392953/index.html">We invite you to a meeting-discussion "Fear of Physics" in the framework of popular science meetings "Science is not flour"</a></li>
<li><a href="../392957/index.html">Hackers hacking a terrorist's iPhone are in no hurry to share secrets</a></li>
<li><a href="../392959/index.html">Review Moto 360 2nd Generation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>