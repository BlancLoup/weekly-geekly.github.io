<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Implementing a pull-down interface in an iOS application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In today's article we will talk about the techniques and tools that were used when working on the interface with a sliding panel, or, more simply, "cu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Implementing a pull-down interface in an iOS application</h1><div class="post__text post__text-html js-mediator-article">  In today's article we will talk about the techniques and tools that were used when working on the interface with a sliding panel, or, more simply, "curtain".  Blinds - the optimal solution for applications in which the user interacts primarily with the main screen, but periodically needs quick access to additional information. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/914/82f/854/91482f85486d49388e358f5d6e834629.gif"></div><br><a name="habracut"></a><br>  In our case, the interface was developed for the <a href="http://wgames.ssdzoner.com/go.php%3Fid%3D0vdwz2">Vehicle Location Tracker</a> utility, in which the main screen is a map with marked vehicle locations, and the pull-out menu allows the user to work with a specific location.  Further, the whole process will be considered on the example of this application. <br><br>  The main purpose of the curtain in the Vehicle Location Tracker is to display information about the selected parking lot.  Depending on the immediate needs of the user, it can be hidden, can be displayed on the display as a top panel (normal or extended view), or can be fully extended, showing the entire set of editing tools. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It looks like this: <br><img src="https://habrastorage.org/files/878/d59/057/878d590576134092a516f36ae9d11683.gif"><img src="https://habrastorage.org/files/dc9/4ee/231/dc94ee2311bc43c69ef6d5c005679b1e.gif"><br><br>  We began by cutting types into views and scattering them on separate XIBs.  Further elements simply gathered as the designer.  The task was facilitated by the fact that the possibility of changing the order of the position of the views was not implied, only a change in some distances. <br><br>  The interaction was built between the main controller and its container, in which there was a curtain.  The main controller had a link to the container controller.  The reverse interaction was carried out through the delegate. <br><br>  The logic of the shutter is as follows.  There are four main window states: <br><br>  - Adding new parking; <br>  - editing existing; <br>  - normal working condition with dedicated parking; <br>  - a state when nothing is selected. <br><br><pre><code class="hljs vbscript">enum MapState : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">New</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Edit <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Normal <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-literal"><span class="hljs-literal">Empty</span></span> }</code> </pre> <br>  At the very same curtain a much more diverse set of states - a total of seven.  The division of parking on the newly added and edited for the curtain is not carried out, but then the Normal and Edit modes, in addition to the basic versions, appear also extended.  In addition, the ‚Äúin motion‚Äù state is added with the ‚Äúlast fixed position‚Äù parameter: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">indirect</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Empty</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Hide</span></span>(previous: <span class="hljs-type"><span class="hljs-type">MenuState</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Normal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Advanced</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">EditNormal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">EditAdvanced</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Motion</span></span>(previous: <span class="hljs-type"><span class="hljs-type">MenuState</span></span>) }</code> </pre> <br>  Passing a state from MapState to MenuState is as follows: <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MapViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UIViewController</span></span></span><span class="hljs-class"> { var currentState = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">StageMap</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Zero</span></span></span><span class="hljs-class"> { willSet { slideMenuVC.currentParentState = newValue } } } </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SlideMenuViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UIViewController</span></span></span><span class="hljs-class"> { var currentParentState = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">StageMap</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Zero</span></span></span><span class="hljs-class"> { willSet { switch newValue { case .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Empty</span></span></span><span class="hljs-class">: updateVisibleOfViews(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">toState</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Empty</span></span></span><span class="hljs-class">) animateMove(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">toState</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Empty</span></span></span><span class="hljs-class">) case .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Normal</span></span></span><span class="hljs-class">: updateVisibleOfViews(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">toState</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Normal</span></span></span><span class="hljs-class">) animateMove(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">toState</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Normal</span></span></span><span class="hljs-class">) case .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">New</span></span></span><span class="hljs-class">: updateVisibleOfViews(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">toState</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EditNormal</span></span></span><span class="hljs-class">) updateHeightOfTagsView() animateMove(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">toState</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EditNormal</span></span></span><span class="hljs-class">) case .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Edit</span></span></span><span class="hljs-class">: updateVisibleOfViews(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">toState</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EditNormal</span></span></span><span class="hljs-class">) updateHeightOfTagsView() animateMove(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">toState</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EditNormal</span></span></span><span class="hljs-class">) } } } }</span></span></code> </pre> <br>  The movement of the curtain itself was carried out by UIView.animateWithDuration and CGAffineTransformMakeTranslation. <br><br>  Note that changing the state of the MenuState does not affect the MapState (and thanks for that).  There is an automatic switching of states by changing the MenuState in the main controller, and there are internal changes to the curtain (via UITapGestureRecognizer or UIPanGestureRecognizer).  At the same time, what happens ‚Äúoutside‚Äù has a higher priority by default. <br><br>  Now a little about the work of the internal changes of the curtain.  We add recliners: <br><br><pre> <code class="hljs swift"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addGesturesToView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> tapGesture = <span class="hljs-type"><span class="hljs-type">UITapGestureRecognizer</span></span>(target: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, action: #selector(<span class="hljs-type"><span class="hljs-type">SlideMenuViewController</span></span>.tapGestureHandler(<span class="hljs-number"><span class="hljs-number">_</span></span>:))) actionView.addGestureRecognizer(tapGesture) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> panGesture = <span class="hljs-type"><span class="hljs-type">UIPanGestureRecognizer</span></span>(target: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, action: #selector(<span class="hljs-type"><span class="hljs-type">SlideMenuViewController</span></span>.panGestureHandler(<span class="hljs-number"><span class="hljs-number">_</span></span>:))) actionView.addGestureRecognizer(panGesture) }</code> </pre><br>  and their implementation: <br><br><pre> <code class="hljs swift"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tapGestureHandler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(recognizer:UITapGestureRecognizer)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state = <span class="hljs-type"><span class="hljs-type">MenuState</span></span>.<span class="hljs-type"><span class="hljs-type">Hide</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> canMove = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> currentState { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">Hide</span></span>(previous: .<span class="hljs-type"><span class="hljs-type">Normal</span></span>), .<span class="hljs-type"><span class="hljs-type">Hide</span></span>(previous: .<span class="hljs-type"><span class="hljs-type">UpNormalAdvanced</span></span>): toState = .<span class="hljs-type"><span class="hljs-type">Normal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">Hide</span></span>(previous: .<span class="hljs-type"><span class="hljs-type">EditNormal</span></span>), .<span class="hljs-type"><span class="hljs-type">Hide</span></span>(previous: .<span class="hljs-type"><span class="hljs-type">EditAdvanced</span></span>): toState = .<span class="hljs-type"><span class="hljs-type">EditNormal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">Normal</span></span>: toState = .<span class="hljs-type"><span class="hljs-type">Hide</span></span>(previous: .<span class="hljs-type"><span class="hljs-type">Normal</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">Advanced</span></span>: toState = .<span class="hljs-type"><span class="hljs-type">Normal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">EditAdvanced</span></span>: toState = .<span class="hljs-type"><span class="hljs-type">EditNormal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">EditNormal</span></span>: toState = .<span class="hljs-type"><span class="hljs-type">EditAdvanced</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">Motion</span></span>: canMove = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> } updateVisibleOfViews(toState: state) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> canMove { animateMove(toState: state) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">panGestureHandler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(recognizer:UIPanGestureRecognizer)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> recognizer.state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">Began</span></span>: currentState = .<span class="hljs-type"><span class="hljs-type">Moved</span></span>(previous: currentState) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">Changed</span></span>: <span class="hljs-comment"><span class="hljs-comment">//    case .Ended, .Cancelled: //      .Moved(previous: lastState) //     ,         } }</span></span></code> </pre> <br>  The next item on the program is the calculation of sizes and states.  The tag panel and the standard state panel have a floating height, so for correct calculation of the dimensions of the item, the views on demand gave the desired value, calculated taking into account the amount and volume of content. <br><br>  An example of calculating the height for collectionView content: <br><br><pre> <code class="hljs swift"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContentHeight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> amountOfItems = tagCollectionView.numberOfItemsInSection(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> amountOfItems &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> kDefaultCollectionHeight } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> indexPath = <span class="hljs-type"><span class="hljs-type">NSIndexPath</span></span>(forItem: amountOfItems - <span class="hljs-number"><span class="hljs-number">1</span></span>, inSection: <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> attributes = tagCollectionView.collectionViewLayout.layoutAttributesForItemAtIndexPath(indexPath) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> kDefaultCollectionHeight } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> collectionViewContentHeight = attributes.frame.origin.y + attributes.frame.size.height <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> collectionViewContentHeight }</code> </pre> <br>  Not all dimensions need to be registered manually, in some places we have automated the process with the help of software. <br><br>  In the work on the Vehicle Location Tracker, <a href="http://wgames.ssdzoner.com/go.php%3Fid%3DjKaeGv">Sketchode</a> is very useful to <a href="http://wgames.ssdzoner.com/go.php%3Fid%3DjKaeGv">us</a> - a tool that we learned about here <a href="https://habrahabr.ru/post/303652/">on Habr√©</a> .  For those who have not read: this is a program that allows the developer to study and "parse" the layout of Sketch for their own needs, without making any changes to it.  And the wolves are fed and the designer is calm. <br><br>  Sketchode was useful to us in two ways.  First, it accurately and clearly shows the distance between any elements. <br><br><img src="https://habrastorage.org/files/57f/56e/ae3/57f56eae312a421e998e48599b49cd38.PNG"><br><br>  Secondly, the export of elements is very conveniently implemented.  The icons of vehicles that were supposed to stand in the center of the canvas, we all turned out to be different in size, although they were used in the same view.  The ability to set dimensions directly during export significantly saved us time to align. <br><br>  In terms of the interface, winning is that you can open several windows with artboards and switch between them quietly, as you can see on the screenshot, no need to rush through the entire list of artboards in search of the one with which you have just interacted. <br><br><img src="https://habrastorage.org/files/b99/df8/c26/b99df8c267f64738bd344fb7a1f0fadf.PNG"><br><br>  The main stages of working with the sliding panel, we have considered.  Finally, a couple of little things that can be useful when working.  In parallel, when developing both on obj-c and swift, we sometimes sincerely love what convenient things you can do on swift.  For example: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">indirect</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MapButtonStage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Disable</span></span>(previous: <span class="hljs-type"><span class="hljs-type">MapButtonStage</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Off</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">On</span></span> }</code> </pre> <br>  - and all the possible states of the button are described, and enum will remember which mode the button was in if we forcibly block it: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> PinColor : Int { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Red <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Violet <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Green <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Blue <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Black <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Yellow func getColor() -&gt; <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Violet: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.colorFromHexString(<span class="hljs-string"><span class="hljs-string">"#8E44AD"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Red: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.colorFromHexString(<span class="hljs-string"><span class="hljs-string">"#FF3824"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Green: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.colorFromHexString(<span class="hljs-string"><span class="hljs-string">"#16A085"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Blue: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.colorFromHexString(<span class="hljs-string"><span class="hljs-string">"#0076FF"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Black: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.colorFromHexString(<span class="hljs-string"><span class="hljs-string">"#44464E"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Yellow: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.colorFromHexString(<span class="hljs-string"><span class="hljs-string">"#F5A623"</span></span>) } } var descriptionImage: String { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Violet: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"_purple"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Red: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"_red"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Green: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"_green"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Blue: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"_blue"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Black: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"_grey"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .Yellow: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"_yellow"</span></span> } } }</code> </pre> <br><img src="https://habrastorage.org/files/96a/c80/dbc/96ac80dbc7ef47c598c1ecaa314239ae.PNG"><br><br>  And then there is beauty in general: we have placed both the associated UIColor and a piece of the name to upload the necessary pictures from assets to one enum.  You can, of course, store all these names in one place, but then adding new ones will be inconvenient and ugly. <br><br>  To avoid problems with the composition of names, we make the structure: <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ImageName</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> color: <span class="hljs-type"><span class="hljs-type">PinColor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> category: <span class="hljs-type"><span class="hljs-type">PinCategory</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">imageName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> category.descriptionImage + color.descriptionImage; } }</code> </pre> <br>  and call it: <br><br><pre> <code class="hljs swift"> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> name = <span class="hljs-type"><span class="hljs-type">ImageName</span></span>(pinColor: color, pinCategory: category).imageName()</code> </pre> <br>  Done! <br><br>  These are the skills we have gained for ourselves during the first experience of creating a curtain.  We hope our observations will be useful to other developers.  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/315406/">https://habr.com/ru/post/315406/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../315392/index.html">Development of dynamic REST services on document-oriented DB Bagri</a></li>
<li><a href="../315394/index.html">Even in an IT company, personal qualities and interpersonal skills are an integral part of the team player.</a></li>
<li><a href="../315400/index.html">Constantly invest in your education</a></li>
<li><a href="../315402/index.html">Backup VM ESXi with Bareos</a></li>
<li><a href="../315404/index.html">We invite you to a meeting with practitioners defenders of ASU-TP</a></li>
<li><a href="../315408/index.html">Zvooq filed a lawsuit for $ 29 million to the ‚Äúlargest Russian public corporation‚Äù - ‚ÄúYandex‚Äù</a></li>
<li><a href="../315410/index.html">Bilateral data binding with ECMAScript-2015 without proxy</a></li>
<li><a href="../315414/index.html">Pro web client 1C</a></li>
<li><a href="../315416/index.html">Personal experience of receiving the Blue Card in Germany 2015-2016. Part 3: Arriving in Germany</a></li>
<li><a href="../315418/index.html">Polish clouds. Price notes (not only for Ukrainians)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>