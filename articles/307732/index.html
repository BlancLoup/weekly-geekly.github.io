<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Barcode Recognition and QR Codes in UWP Applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I will not discover America if I say that the most popular barcode recognition library is ZXing (‚ÄúZebra Crossing‚Äù). The list of supported formats is q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Barcode Recognition and QR Codes in UWP Applications</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/f6f/1be/481/f6f1be4814b3469bb24db6f160c84357.png"></div><br>  I will not discover America if I say that the most popular barcode recognition library is ZXing (‚ÄúZebra Crossing‚Äù).  The list of supported formats is quite impressive and includes: EAN-8 and EAN-13, QR Code, UPC-A and UPC-E, Code 39, Code 93, Code 128 and others. <br><br>  There is a port for WinRT, which means that the library can be used with the universal Windows platform. <br><a name="habracut"></a><br>  PCL for barcode recognition is called <a href="https://www.nuget.org/packages/ZXing.Net/">ZXing.Net.</a> The name seems to hint that you can use this library also with .Net applications. <br><br>  What immediately had to pay attention.  If we make a simple photo, we usually do not bother ourselves and just take a picture.  If we process a snapshot, it is necessary that the quality of the image is the best.  Therefore, when you initialize the camera, you must set the maximum possible resolution.  To do this, use a code similar to the example code: <a href="https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/CameraResolution/cs">Camera resolution sample</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In addition, you must determine whether the device has a front or rear camera.  It is not difficult: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> devices = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> DeviceInformation.FindAllAsync(DeviceClass.VideoCapture); DeviceInformation frontCamera = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; DeviceInformation rearCamera = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> device <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> devices) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (device.EnclosureLocation.Panel) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Windows.Devices.Enumeration.Panel.Front: frontCamera = device; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Windows.Devices.Enumeration.Panel.Back: rearCamera = device; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> <br>  Then you can initialize media capture: <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rearCamera != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> mediaCapture.InitializeAsync(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MediaCaptureInitializationSettings { VideoDeviceId = rearCamera.Id }); }</code> </pre><br>  Setting the resolution is as follows: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetResolution</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { System.Collections.Generic.IReadOnlyList&lt;IMediaEncodingProperties&gt; res; res = mediaCapture.VideoDeviceController.GetAvailableMediaStreamProperties(MediaStreamType.Photo); <span class="hljs-keyword"><span class="hljs-keyword">uint</span></span> maxResolution = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> indexMaxResolution = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (res.Count &gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; res.Count; i++) { VideoEncodingProperties vp = (VideoEncodingProperties)res[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (vp.Width &gt; maxResolution) { indexMaxResolution = i; maxResolution = vp.Width; } } <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> mediaCapture.VideoDeviceController.SetMediaStreamPropertiesAsync(MediaStreamType.Photo, res[indexMaxResolution]); } }</code> </pre><br>  Capture and image recognition will be something like this: <br><br><pre> <code class="cs hljs">IRandomAccessStream fileStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InMemoryRandomAccessStream(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> mediaCapture.CapturePhotoToStreamAsync(Windows.Media.MediaProperties.ImageEncodingProperties.CreateBmp(), fileStream); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> BarcodeDecoder.DecodeStreamToBarcode(fileStream);</code> </pre><br>  For stream recognition, the <a href="https://mtaulty.com/2015/08/11/m_15904/">BarcodeDecoder</a> class is <a href="https://mtaulty.com/2015/08/11/m_15904/">used</a> , which was taken from <a href="https://mtaulty.com/2015/08/11/m_15904/">Mike Taulty</a> <br><br><div class="spoiler">  <b class="spoiler_title">Class code is hidden under the spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BarcodeDecoder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> BarcodeReader barcodeReader; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BarcodeDecoder</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { barcodeReader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ZXing.BarcodeReader(); barcodeReader.Options.PureBarcode = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; barcodeReader.Options.Hints.Add(DecodeHintType.TRY_HARDER, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); barcodeReader.Options.PossibleFormats = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BarcodeFormat[] { BarcodeFormat.QR_CODE,BarcodeFormat.All_1D }; barcodeReader.Options.TryHarder = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; barcodeReader.AutoRotate = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Task&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DecodeStreamToBarcode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IRandomAccessStream photoStream</span></span></span><span class="hljs-function">)</span></span> { BitmapDecoder bitmapDecoder = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> BitmapDecoder.CreateAsync(photoStream); BitmapTransform emptyBitmapTransform = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BitmapTransform(); PixelDataProvider pixelDataProvider = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> bitmapDecoder.GetPixelDataAsync( BitmapPixelFormat.Rgba8, BitmapAlphaMode.Premultiplied, emptyBitmapTransform, ExifOrientationMode.RespectExifOrientation, ColorManagementMode.DoNotColorManage); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> zxingResult = barcodeReader.Decode(pixelDataProvider.DetachPixelData(), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)bitmapDecoder.PixelWidth, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)bitmapDecoder.PixelHeight, BitmapFormat.RGBA32); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> res = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!String.IsNullOrEmpty(zxingResult?.Text)) res = zxingResult?.Text; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; } }</code> </pre><br></div></div><br>  In this class, barcodes of QR_CODE and All_1D formats are recognized.  In this case, All_1D includes the following formats: UPC-A, UPC-E, EAN-8 and EAN-13.  You can add more formats.  Let's say the decoder we use supports the following formats: UPC-A, UPC-E, EAN-8, EAN-13, Code 39, Code 93, Code 128, ITF, Codabar, MSI, RSS-14 (all options) , QR Code, Data Matrix, Aztec and PDF-417 <br><br>  This method of recognition is well suited for existing images.  If you use a camera, you will have to take a lot of photos until you get a successful recognizable image.  In other words, the first pancake turned out to be a lump, but some useful experience was obtained. <br><br><h4>  Code recognition on the fly </h4><br>  As a result of intensive searches, the following <a href="https://github.com/stepheUp/VideoScanZXingWinRT">VideoScanZXingWinRT</a> repository was found, which was taken as a basis.  Image capture comes from preview mode. <br><br>  Here, a little bit late, the realization came to me that a camera without focusing capabilities would not be able to take a normal macro photograph.  Theoretically, you can try to scan the barcode and phones with a camera without autofocus, but the chances are small.  You can try it yourself.  However, cameras with focusing can support autofocus, and they can also focus in manual mode.  For manual mode, I made a timer autofocus every 3 seconds. <br><br>  In addition, the backlight was turned off, which created glare and interfered with the recognition <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mediaCapture.VideoDeviceController.FlashControl.Supported) mediaCapture.VideoDeviceController.FlashControl.Auto = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre><br>  As a result of removing the excess and making corrections, this is the example: <br><br>  <a href="https://github.com/programmersommer/Barcode_Scanner_UWP">Barcode_Scanner_UWP</a> <br><br>  I invite everyone to join the project.  I will be glad to improvements and adjustments. <br><br>  To use it in your project, you need to add the BarcodeScannerControl.xaml user control along with C # code behind.  Then, in the code for the page from which the call will occur (in the example, this is MainPage.xaml), add a Popup with a User Control inside <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Popup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BarcodePopup"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">IsOpen</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"False"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">IsLightDismissEnabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"False"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:BarcodeScannerControl</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"barcodecontrol"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding ElementName=MainGrid,Path=ActualWidth}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding ElementName=MainGrid,Path=ActualHeight}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:BarcodeScannerControl</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Popup</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  In this case, the width and height of the user control are tied to the size of the window container element named MainGrid. <br><br>  In the C # code you need to add 2 methods.  One will be called in case of a successful barcode search, the second in case of an error.  The signatures of the methods are such that the parameter of one is string, the parameter of the second exception.  In the example, this is void <b>BarcodeFound (string barcode)</b> and <b>void OnError (Exception e)</b> . <br><br>  Now you can open the Popup and execute the method that launches the preview of the image from the camera and scanning the barcode: <br><br><pre> <code class="cs hljs">BarcodePopup.IsOpen = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> barcodecontrol.StartScan(BarcodeFound, OnError);</code> </pre> <br>  One thing to keep in mind is the life cycle of a UWP application.  In our case, if the application enters the ‚Äúsuspended‚Äù state, it is necessary to stop the process of viewing the image from the camera, searching for the barcode and closing the Popup.  That is, add this code: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App_Suspending</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, Windows.ApplicationModel.SuspendingEventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> deferral = e.SuspendingOperation.GetDeferral(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> barcodecontrol.Cleanup(); BarcodePopup.IsOpen = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; deferral.Complete(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnNavigatedTo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">NavigationEventArgs e</span></span></span><span class="hljs-function">)</span></span> { Application.Current.Suspending += App_Suspending; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnNavigatedFrom</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">NavigationEventArgs e</span></span></span><span class="hljs-function">)</span></span> { Application.Current.Suspending -= App_Suspending; }</code> </pre><br>  Now about the minuses.  Minus one, - ZXing.Net library has not been updated for 2 years.  Although on the other hand, if it works without bugs and does not need new functions, then perhaps there is nothing wrong with that.  The project is unofficial, so work on it goes when developers have free time.  The site on the old school <a href="https://zxingnet.codeplex.com/">Codeplex</a> is quite a sign of life.  You can also find the source code on it.  The good news is that the library itself is planned to be updated in the near future, that is, the project is not abandoned. </div><p>Source: <a href="https://habr.com/ru/post/307732/">https://habr.com/ru/post/307732/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307718/index.html">PHP Digest number 90 - interesting news, materials and tools (August 1 - 14, 2016)</a></li>
<li><a href="../307720/index.html">Elixir: What does OOP look like in a functional language?</a></li>
<li><a href="../307722/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ223 (August 8 - 14, 2016)</a></li>
<li><a href="../307724/index.html">N + 5 useful books</a></li>
<li><a href="../307726/index.html">Create a multilanguage blog using OctoberCMS - Part 2</a></li>
<li><a href="../307734/index.html">Systematic vulnerability of sites created on CMS 1C-Bitrix</a></li>
<li><a href="../307736/index.html">What the IT manager needs to know or learn the light, and you have to pay for the light</a></li>
<li><a href="../307738/index.html">How trading on the exchange actually works, and how it can be improved: A simple algorithm (part 4)</a></li>
<li><a href="../307740/index.html">10 proven ways to reduce productivity</a></li>
<li><a href="../307744/index.html">Development of a simple chat on Socket.IO [2016] \ Node.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>