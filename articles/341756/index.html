<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unreal Engine: QuickStart in Qt Creator under Arch Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 In March 2015, Epic Games turned its face to the Open Source community, providing free access to its Unreal Engine version 4 (setting a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unreal Engine: QuickStart in Qt Creator under Arch Linux</h1><div class="post__text post__text-html js-mediator-article"><h1>  Introduction </h1><br>  In March 2015, Epic Games turned its face to the Open Source community, providing free access to its <a href="https://www.unrealengine.com/">Unreal Engine</a> version 4 (setting a limit on profits from using the engine at $ 3,000 per quarter).  Moreover, <a href="https://www.unrealengine.com/en-US/blog/unreal-engine-4-and-linux">back in 2014, the company said</a> that supporting free operating systems, in particular Linux, is one of its priorities. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cm/h8/-1/cmh8-1rbgt0hztmoilj-lgkkrqm.png" width="50%"></div><br><br>  It is worth noting that these words did not become a hollow sound, and today the engine works fairly confidently in the Linux environment.  There is a sufficient amount of official documentation telling how to install and configure the engine in the environment of this OS. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      However, with the seeming transparency of the deployment process of the working environment, there are a number of small but unpleasant nuances that make life difficult for penguin fans.  Under the cut, a brief and free description of the installation features of the engine that the author encountered, designed to solve some of the difficulties faced by beginners. <br><a name="habracut"></a><br><h1>  1. Baseline </h1><br>  So, we have a computer (CPU: Intel Core i7-2600K, RAM: 16Gb, Video: GeForce 580GTX), with the Arch Linux distribution kit as the operating system. <br><br>  For this distribution, <a href="https://aur.archlinux.org/packages/unreal-engine/">there is a package</a> in the user repository <a href="https://aur.archlinux.org/">AUR</a> .  Judging by the comments to the package, it is going and working, and in principle, you can use it to install the engine.  Just wait for the package collector to clone the repository for a long time.  With a total size of the release branch of 1.5-2 GB, the cloning process hangs by 81% pulling out about four gigabytes of network.  I did not have the patience to wait for the end of this process. <br><br>  Therefore, we will go the other way, collecting the engine from the source without wrapping it in a package, arguing that the installation of the engine in general is not required.  Make sure that the following packages are installed on the system: <br><br><ul><li>  clang - C / C ++ front-end to LLVM compiler <br></li><li>  python - Python interpreter <br></li><li>  qt4 - cross-platform framework for C / C ++ development <br></li><li>  sdl2 - cross-platform library for working with multimedia <br></li><li>  icu is a component of the Unicode libraries for internationalizing applications. <br></li><li>  mono - free implementation of .Net Framework <br></li><li>  xdg-user-dir - "control" user directories such as "Documents", "Images", etc.  within the X Window System <br></li><li>  git - client to work with the same version control system <br></li></ul><br><h1>  2. Getting the Unreal Engine Source </h1><br>  This <a href="https://docs.unrealengine.com/latest/INT/Platforms/Linux/BeginnerLinuxDeveloper/SettingUpAnUnrealWorkflow/2/index.html">procedure is described in</a> detail <a href="https://docs.unrealengine.com/latest/INT/Platforms/Linux/BeginnerLinuxDeveloper/SettingUpAnUnrealWorkflow/2/index.html">on the Epic Games official website</a> .  First you need to have an <a href="https://docs.unrealengine.com/latest/INT/Platforms/Linux/BeginnerLinuxDeveloper/SettingUpAnUnrealWorkflow/1/index.html">Epic Games account</a> , as the source code repository of the engine is private.  In addition, you will need to create an account on <a href="https://github.com/">Github</a> , for which the above-mentioned office will give access to the repository.  Especially there is nothing to comment on: the procedure is quite simple and clear. <br><br>  Having gained access to the repository, we create in the file system a directory where the engine will be located, go to it and say the spell <br><br> <code>$ git clone https://github.com/EpicGames/UnrealEngine.git -b release <br></code> <br><br>  and wait for the download branch of the engine.  This process takes place in an example faster than when using the Aurov PKGBUILD. <br><br><h1>  3. Build engine: rake run </h1><br>  After receiving the source code, go to the directory <br><br> <code>$ cd UnrealEngine <br></code> <br><br>  watching such a picture <br><br> <code>$ ls -la <br>  80 <br> drwxr-xr-x 6 maisvendoo users 4096  4 18:02 . <br> drwxr-xr-x 27 maisvendoo users 4096  5 15:29 .. <br> -rw-r--r-- 1 maisvendoo users 382  4 17:50 .editorconfig <br> drwxr-xr-x 11 maisvendoo users 4096  4 17:50 Engine <br> -rw-r--r-- 1 maisvendoo users 418  4 17:50 GenerateProjectFiles.bat <br> -rwxr-xr-x 1 maisvendoo users 241  4 17:50 GenerateProjectFiles.command <br> -rwxr-xr-x 1 maisvendoo users 715  4 17:50 GenerateProjectFiles.sh <br> drwxr-xr-x 8 maisvendoo users 4096  4 18:01 .git <br> -rw-r--r-- 1 maisvendoo users 511  4 17:50 .gitattributes <br> -rw-r--r-- 1 maisvendoo users 3732  4 17:50 .gitignore <br> -rw-r--r-- 1 maisvendoo users 195  4 17:50 LICENSE.md <br> -rw-r--r-- 1 maisvendoo users 9472  4 17:50 README.md <br> drwxr-xr-x 4 maisvendoo users 4096  4 17:50 Samples <br> -rw-r--r-- 1 maisvendoo users 1304  4 17:50 Setup.bat <br> -rwxr-xr-x 1 maisvendoo users 208  4 17:50 Setup.command <br> -rwxr-xr-x 1 maisvendoo users 1345  4 17:50 Setup.sh <br> drwxr-xr-x 28 maisvendoo users 4096  4 17:50 Templates <br> -rw-r--r-- 1 maisvendoo users 269  4 17:50 UE4Games.uprojectdir <br></code> <br><br>  Assembly instructions are given on the official website in the <a href="https://docs.unrealengine.com/latest/INT/Platforms/Linux/BeginnerLinuxDeveloper/SettingUpAnUnrealWorkflow/3/index.html">documentation</a> as well as <a href="https://wiki.unrealengine.com/Building_On_Linux">in the official wiki</a> .  However, in the case of Arch Linux, you should not rush to follow this instruction, as there is a wary replica on the wiki <br><br><blockquote>  If you don‚Äôt have to do it <br></blockquote><br>  officially suggesting that we use a nasty crutch in the form of an assembly of the debug version of the editor.  With this, it is completely forgotten that in addition to the editor, you should build a shader compiler and several other auxiliary utilities included in the engine package.  Attempt to build with the parameters proposed by the developer, will be interrupted with the message type <br><br> <code>/usr/bin/ld: /mnt/data/install/ue4-test/Engine/Source/ThirdParty/FreeType2/FreeType2-2.6/Lib/Linux/x86_64-unknown-linux-gnu/libfreetype.a(ftlzw.co): relocation R_X86_64_32S against `.text' can not be used when making a shared object;    -fPIC <br> /usr/bin/ld: /mnt/data/install/ue4-test/Engine/Source/ThirdParty/zlib/v1.2.8//lib//Linux/x86_64-unknown-linux-gnu/libz.a(uncompr.o): relocation R_X86_64_32 against `.rodata' can not be used when making a shared object;    -fPIC <br> /usr/bin/ld: final link failed: ,    <br> clang-5.0: error: linker command failed with exit code 1 (use -v to see invocation) <br> ERROR: UBT ERROR: Failed to produce item: /mnt/data/install/ue4-test/Engine/Binaries/Linux/CrashReportClient <br> Total build time: 196,17 seconds (Local executor: 0,00 seconds) <br> make: *** [Makefile:252: CrashReportClient-Linux-Shipping]  5 <br></code> <br><br>  This problem is known to the unreal-engine Meiteiners of the AUR package, for which they propose to impose a patch fix on the source code.  The problem is connected with the change of the gcc and clang build parameters in Arch Linux, which are mentioned <a href="https://www.reddit.com/r/archlinux/comments/6n5tkp/arch_now_enables_pie_and_ssp_by_default_in_gcc/">for example here.</a> <br><br><blockquote>  SSP and PIE are now enabled in gcc (commit) and clang (commit) in the stable repos. <br>  Harrowing holes for binaries built with these compilers. <br><br>  Found on the arch-dev-public mailing list (subject to "Changing compilation flags"). <br></blockquote><br>  Enabling Position Independent Executables (PIE) breaks the ABI compatibility for the engine libraries being assembled and leads to the layout errors mentioned above.  Accordingly, for normal assembly, you should turn off this option. <br><br>  To change the settings you need to pick scripts <a href="https://docs.unrealengine.com/latest/INT/Programming/UnrealBuildSystem/">UBT</a> .  The engine uses its build system, the scripts of which are written in C #.  Open the <b>Engine / Source / Programs / UnrealBuildTool / Platform / Linux / LinuxToolChain.cs file</b> by adding the necessary settings to it.  To illustrate the changes, I‚Äôll give git diff exhaust <br><br> <code>--- a/Engine/Source/Programs/UnrealBuildTool/Platform/Linux/LinuxToolChain.cs <br> +++ b/Engine/Source/Programs/UnrealBuildTool/Platform/Linux/LinuxToolChain.cs <br> @@ -377,6 +377,9 @@ namespace UnrealBuildTool <br> Result += " -Wno-invalid-offsetof"; <br> // we use this feature to allow static FNames. <br> Result += " -Wno-gnu-string-literal-operator-template"; <br> +// disable unused result's warnings <br> +Result += " -Wno-unused-result"; <br></code> <br>  The -Wno-unused-result option turns off warnings about unused results returned by functions. <br><br> <code>@@ -402,6 +405,7 @@ namespace UnrealBuildTool <br> Result += " -fno-inline"; <br> Result += " -fno-omit-frame-pointer"; <br> Result += " -fstack-protector"; <br> + Result += " -fno-pie"; <br></code> <br><br> <code>@@ -588,6 +592,8 @@ namespace UnrealBuildTool <br> Result += " -Wl,--disable-new-dtags"; <br> + Result += " -nopie"; <br> + Result += " -Wno-unused-command-line-argument"; <br></code> <br><br>  With the -fno-pie and -nopie keys we disable PIE for the compiler and linker.  The -Wno-unused-command-line-argument switch disables warning about unknown command line parameters. <br><br>  Before starting the build, create a symlink <br><br> <code>$ sudo ln -s /usr/include/locale.h /usr/include/xlocale.h <br></code> <br><br>  warning error "xlocale.h is not found". <br><br>  The described problems are solved in the AUR by imposing a series of patches on the source code, and, in principle, no one forbids the reader to go this way. <br><br>  After the described preparation, we execute the script <br><br> <code>$ ./Setup.sh <br></code> <br><br>  The script downloads and collects the necessary third-party libraries.  Next, execute the script <br><br> <code>$ ./GenerateProjectFiles.sh <br></code> <br><br>  activating the Unreal build system, generating files for building projects with make, cmake, qmake, MS Visual Studio, KDevelop and CodeLite.  At the end of the script with a clear conscience we give the command <br><br> <code>$ make <br></code> <br><br>  I note that here you should not use the -j switch that specifies the number of collecting threads.  The makefile is generated taking into account the parallelization of the assembly on all threads accessible to your machine. <br><br>  The build process will take place without errors and will take some time, on my system it is about 40 minutes <br><br> <code>[1367/1372] Link libUE4Editor-UE4Game.so <br> [1368/1372] Link libUE4Editor-Advertising.so <br> [1369/1372] Link libUE4Editor-BlankModule.so <br> [1370/1372] Link libUE4Editor-IPC.so <br> [1371/1372] Link libUE4Editor-BlankPlugin.so <br> [1372/1372] Link libUE4Editor-XGEController.so <br> Total build time: 2560,27 seconds (Local executor: 2481,53 seconds) <br></code> <br><br>  We also collect the debug version of the engine <br><br> <code>$ make DebugSet <br></code> <br><br><h1>  4. Create QuickStart in Qt Creator </h1><br>  Launch the UE4 editor compiled by us <br><br> <code>$ cd Engine/Binaries/Linux <br> $ ./UE4Editor <br></code> <br><br>  Patiently wait for the shaders to compile (the result of the compilation is cached and the next run will be much faster).  At the end of the compilation create a new project in C + + <br><br><img src="https://habrastorage.org/webt/hd/gz/z8/hdgzz8yua5i0miyeyw3gqciygi0.png"><br><br>  Select the path where the project is located, give it the name QuickStart and click the green CreateProject button.  We are waiting for the editor to generate the project files.  At the end of the generation, the editor will close.  In Windows, in the presence of MS Visual Studio, this particular IDE will open for you, offering to start coding.  In Archa nothing will happen.  Therefore, we follow the path that we indicated when creating the project and we looked at what was generated there. <br><br> <code>$ ls -l <br>  4728 <br> -rw-r--r-- 1 maisvendoo users 1999696  7 00:06 CMakeLists.txt <br> drwxr-xr-x 2 maisvendoo users 4096  7 00:05 Config <br> drwxr-xr-x 2 maisvendoo users 4096  7 00:05 Content <br> drwxr-xr-x 4 maisvendoo users 4096  7 00:06 Intermediate <br> -rw-r--r-- 1 maisvendoo users 16777  7 00:05 Makefile <br> -rw-r--r-- 1 maisvendoo users 350169  7 00:06 QuickStartCodeCompletionFolders.txt <br> -rw-r--r-- 1 maisvendoo users 14860  7 00:06 QuickStartCodeLitePreProcessor.txt <br> -rw-r--r-- 1 maisvendoo users 60261  7 00:06 QuickStartConfig.pri <br> -rw-r--r-- 1 maisvendoo users 22114  7 00:06 QuickStartDefines.pri <br> -rw-r--r-- 1 maisvendoo users 908626  7 00:06 QuickStartHeader.pri <br> -rw-r--r-- 1 maisvendoo users 220484  7 00:06 QuickStartIncludes.pri <br> -rw-r--r-- 1 maisvendoo users 59  7 00:05 QuickStart.kdev4 <br> -rw-r--r-- 1 maisvendoo users 17091  7 00:06 QuickStart.pro <br> -rw-r--r-- 1 maisvendoo users 722630  7 00:06 QuickStartSource.pri <br> -rw-r--r-- 1 maisvendoo users 224  7 00:05 QuickStart.uproject <br> -rw-r--r-- 1 maisvendoo users 462378  7 00:06 QuickStart.workspace <br> drwxr-xr-x 3 maisvendoo users 4096  7 00:05 Source <br></code> <br><br>  Ok, the editor has created the source code (the Source directory) and a number of project files, including the * .pro script for qmake.  Launch Qt Creator and open QuickStart.pro in it. <br><br><img src="https://habrastorage.org/webt/3f/qk/6d/3fqk6dnhiqw_wf-uj4ezesut8dw.png"><br><br>  In the window that appears, click "Customize project."  Qt Creator configuration is <a href="https://docs.unrealengine.com/latest/INT/Platforms/Linux/BeginnerLinuxDeveloper/SettingUpAnIDE/6/index.html">described in</a> detail <a href="https://docs.unrealengine.com/latest/INT/Platforms/Linux/BeginnerLinuxDeveloper/SettingUpAnIDE/6/index.html">in the official documentation of the</a> engine.  I will focus only on some of the settings and give screenshots of their settings <br><br>  Debug build setup <br><br><img src="https://habrastorage.org/webt/wm/ma/q-/wmmaq-vczw6hbmq7gujbyjucjlq.png"><br><br>  Setting up the release build <br><br><img src="https://habrastorage.org/webt/d1/bz/dk/d1bzdk_61lmqpxlzolgea1w7svm.png"><br><br>  Launch setup <br><br><img src="https://habrastorage.org/webt/wy/u6/jm/wyu6jmpfj0tjq0-xcwnikkytyui.png"><br><br>  After all the settings are made, press Ctrl + R and start the project.  To the question asked to us <br><br><img src="https://habrastorage.org/webt/xi/t4/1l/xit41laurrjh3wzv9ohyctrvoyw.png"><br><br>  We answer in the affirmative.  The engine will think a little more, compile the shaders and eventually we get the project, ready to work on the <a href="https://docs.unrealengine.com/latest/INT/Programming/QuickStart/index.html">QuickStart</a> exercise <a href="https://docs.unrealengine.com/latest/INT/Programming/QuickStart/index.html">from the official documentation</a> . <br><br><img src="https://habrastorage.org/webt/ce/rq/mm/cerqmmuauhicv4umkb9h7ybpgzs.png"><br><br><h1>  Instead of conclusion </h1><br>  With proper project setup, the next focus is possible.  In an open project, click F10 <br><br><img src="https://habrastorage.org/webt/yq/ub/e8/yqube8n1r8r6paevdiwobopgc4w.png"><br><br>  Yeah, the availability of the source code of the engine gives us the opportunity not only to debug the game code, but also to trace the code of the engine itself, which is sometimes required to determine the causes of errors.  In this, Epic Games looks much more friendly to its users <a href="https://unity3d.com/ru">than some other offices that also provide their own engine for free.</a> </div><p>Source: <a href="https://habr.com/ru/post/341756/">https://habr.com/ru/post/341756/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341744/index.html">Simple plugin for localization of applications on Unity3D</a></li>
<li><a href="../341746/index.html">High Performance Computing: Microsoft Project and Cray</a></li>
<li><a href="../341748/index.html">Video on the e-book. Attempt to use e-ink reader as a second monitor in linux</a></li>
<li><a href="../341750/index.html">JPoint 2018 Java Conference Announcement: JDK 9, High Load and JVM Performance</a></li>
<li><a href="../341752/index.html">How I found vulnerabilities in Google's bug tracking system and got $ 15,600</a></li>
<li><a href="../341760/index.html">Infrastructure with Kubernetes as an affordable service</a></li>
<li><a href="../341764/index.html">Linux package managers almanac</a></li>
<li><a href="../341766/index.html">How I learned to directly reboot into the correct OS via UEFI</a></li>
<li><a href="../341768/index.html">An easy-to-use status container for a Restore application called Xstore.</a></li>
<li><a href="../341772/index.html">Is it time to save the web?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>