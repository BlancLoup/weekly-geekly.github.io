<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Autodaf√©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Autodafe - node.js web application development framework 

 The content of the article may describe irrelevant code. The framework has its autodafe.ws...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Autodaf√©</h1><div class="post__text post__text-html js-mediator-article">  <a href="https://github.com/jifeon/autodafe">Autodafe</a> - node.js web application development framework <br><br>  <b>The content of the article may describe irrelevant code.</b>  <b>The framework has its <a href="http://autodafe.ws/">autodafe.ws</a> website for a long time <a href="http://autodafe.ws/">.</a></b> <br><br><h3>  The most delicious buns out of the box: </h3><br><ul><li>  architecture: MVC + plug-ins </li><li>  Mysql ORM (ActiveRecord with relationship support, asynchronous semblance of what the Yii framework offers for PHP) </li><li>  HTTP server </li><li>  WebSockets (wrapper for socket.io) </li><li>  convenient redirection of requests and clear URL </li><li>  user management <ul><li>  authentication and authorization session </li><li>  user rights management system </li></ul></li><li>  post office </li><li>  logging to console, FS and email </li><li>  template engine </li></ul><br><h3>  A spoon of tar: </h3><br><ul><li>  very small part is documented </li><li>  <s>the documented part is poorly documented</s> </li><li>  <s>poorly</s> documented part is documented only in Russian </li><li>  not the whole framework is covered with tests </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h2>  Hello world </h2><br><br>  Next, I will describe the process of creating an application that will give only one page when entering the site root and 404 error in other cases.  The main goal is to acquaint readers with the organization of the application in Autodafe. <br><br><h3>  Step 1. Prepare the file structure. </h3><br><br>  Yes, now this step is not automated. <br><br>  Let's name the directory for the project hello_world, what should be in it for the simplest application: <br><br><pre> / hello_world
   / config will store configuration files here
     /main.js one is enough for a start
   / controllers here we will add controllers that define the logic of our outstanding application
     /site.js is the only controller with a single action for a single page.
   / views place for views
     /index.html main page view
   /index.js input script
</pre><br><br><h3>  Step 2. Install Autodafe </h3><br><br><pre> cd hello_world
 npm install autodafe
</pre><br><br>  Usually everything goes quite smoothly)) (tested on fedora, mint) <br><br><h3>  Step 3. File by File </h3><br><h4>  The input script index.js </h4><br>  In it, we simply connect the configuration file, autodafe, and also create and run the application. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> config = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'./config/main'</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> autodafe = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'autodafe'</span></span> ); autodafe.create_application( config ).run();</code> </pre> <br><br><h4>  Configuration file main.js </h4><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-comment"><span class="hljs-comment">//   (       ) name : 'hello_world', //   ,        , , , // ,           base_dir : require('path').join( __dirname, '..' ), //  ,         Application.get_param params : { your_name : 'Andrey' //         }, //          router : { rules : { '/' : 'site.index' } }, //    components : { // http  http : { port : 3000 } } };</span></span></code> </pre><br><br><h4>  Site.js controller </h4><br><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">//   Controller module.exports = Site.inherits( global.autodafe.Controller ); /** *     ,        */ function SiteController( params ) { this._init( params ); } /** *   .      router.rules      */ SiteController.prototype.index = function ( response, request ) { //    index.html    response.send({ name : this.app.params['your_name' ] } ); };</span></span></code> </pre><br><br><h4>  And finally, our index.html view. </h4><br>  The only thing you need to pay attention to is the {name} parameter passed from the controller.  Autodafe uses <a href="http://akdubya.github.com/dustjs/">dust</a> to render <br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html;charset=utf-8"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Autodafe hello world<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Hello {name}!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h3>  Run </h3><br><pre> node index.js
</pre><br>  and go to localhost: 3000 in your browser <br><br><h3>  Where to learn about the framework more </h3><br>  Website <a href="http://autodafe.ws/">autodafe.ws</a> <br>  The source code on github: <a href="https://github.com/jifeon/autodafe">autodafe</a> , there are 3 small demos + in the common_config.js file you can see an example of setting up the application with the maximum use of all components <br>  Follow the framework on twitter <a href="https://twitter.com/">@node_autodafe</a> <br><br>  If you want to take part in the development or in any way to help in the development of the framework - write in a personal or jifeon at gmail.com </div><p>Source: <a href="https://habr.com/ru/post/135089/">https://habr.com/ru/post/135089/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135082/index.html">Business analyst: ‚ÄúHow to write a list of system requirements correctly?‚Äù, Alistair Coburn, review part 1</a></li>
<li><a href="../135083/index.html">Shoes for real geeks</a></li>
<li><a href="../135084/index.html">Ruby on Rails is already at 3.2, the next station is 4.0.0.beta</a></li>
<li><a href="../135086/index.html">Prediction monitoring, potential crash alerts</a></li>
<li><a href="../135087/index.html">Dynamic programming in speech recognition algorithms</a></li>
<li><a href="../135090/index.html">Why do programmers work at night</a></li>
<li><a href="../135091/index.html">Very unusual presentation of the tablet</a></li>
<li><a href="../135092/index.html">Ads appear on Facebook news feed.</a></li>
<li><a href="../135095/index.html">Steve Jobs Wins Grammy Award</a></li>
<li><a href="../135097/index.html">Interface assistance MTS Internet Assistant</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>