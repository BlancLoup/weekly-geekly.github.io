<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A short comparison of VHDL and Verilog to help beginners with FPGAs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Historically, it turned out that I started to study FPGA only at a new job. 
 These were the FPGA series from Altera . 

 Senior colleagues at the int...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A short comparison of VHDL and Verilog to help beginners with FPGAs</h1><div class="post__text post__text-html js-mediator-article">  Historically, it turned out that I started to study FPGA only at a new job. <br>  These were the FPGA series from <i>Altera</i> . <br><br>  Senior colleagues at the interruption recommended both <i>AHDL</i> and <i>VHDL</i> for programming these chips. <br>  As a result, I settled on the <i>VHDL language</i> , since it is a high-level language, unlike <i>ADHL</i> . <br>  Though the listing of the latter was much nicer. <br><br>  And I began to study all the tricks and limitations of the <i>VHDL language</i> . <br>  As a result, agreed on the idea that the language constructs are simply terrible, and the restrictions are redundant for the design of the equipment. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will give an example of a listing from the article <a href="http://habrahabr.ru/post/80056/">‚ÄúMaking a timer or first project on FPGA‚Äù</a> . <br><a name="habracut"></a><br><br><div class="spoiler">  <b class="spoiler_title">VHDL Source Code</b> <div class="spoiler_text"><pre><code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">library</span></span> ieee; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> ieee.std_logic_1164.<span class="hljs-keyword"><span class="hljs-keyword">all</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> ieee.std_logic_unsigned.<span class="hljs-keyword"><span class="hljs-keyword">all</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> Div_27Mhz_to_1Hz <span class="hljs-keyword"><span class="hljs-keyword">is</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>    (     clk   <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>   <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>;     clk_out   <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>   <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>    ); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> Div_27Mhz_to_1Hz; <span class="hljs-keyword"><span class="hljs-keyword">architecture</span></span> div_behavior <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Div_27Mhz_to_1Hz <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Begin</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(clk)    <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> cnt : <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">27000000</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (clk<span class="hljs-symbol"><span class="hljs-symbol">'event</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> clk = <span class="hljs-string"><span class="hljs-string">'1'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cnt   &gt;= <span class="hljs-number"><span class="hljs-number">13500000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>      clk_out   &lt;= <span class="hljs-string"><span class="hljs-string">'1'</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>      clk_out   &lt;= <span class="hljs-string"><span class="hljs-string">'0'</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cnt   = <span class="hljs-number"><span class="hljs-number">27000000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>      cnt   := <span class="hljs-number"><span class="hljs-number">0</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>      cnt   := cnt + <span class="hljs-number"><span class="hljs-number">1</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> div_behavior;</code> </pre> <br></div></div><br><br>  I will not describe in detail how it works - just read the original article.  I will try to express my impression of the listing as a whole. <br>  For a start, an impossible block is the declaration of libraries.  Moreover, libraries are necessary even for frequently used data types (std_logic) or type conversion function). <br>  Make a beginner convert the internal variable of type <i>integer</i> to type <i>std_logic_vector</i> and set this value to an external port! <br>  And what will we get?  A few hours of painful search for how to do it. <br>  As a result, it turns out that we need: <br>  1. connect libraries: <br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> ieee.std_logic_1164.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> ieee.std_logic_unsigned.<span class="hljs-keyword"><span class="hljs-keyword">all</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> ieee.numeric_std.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>;</code> </pre><br>  2. writing <i>integer</i> to <i>std_logic_vector</i> port is not directly possible.  You must use special type conversion functions!  (Always resented the concept of type in projects for FPGA) <br>  std_logic_vector (to_unsgined (,)) <br>  This record converts the low-order bits of the register to the <i>std_logic_vector</i> vector. <br>  And at least 4 lines to write the number to the port. <br><br>  Also for me the horror was the phenomenon of recording the vector: <br>  vector (M downto N) <br>  or <br>  vector (M upto N) <br><br>  the words <i>downto</i> and <i>upto</i> simply unbalanced me with their redundancy.  In my opinion, they are redundant. <br>  I am already silent about that.  that numbers of different types are written differently: <br>  <i>integer</i> is written as a normal number - 1, 2, 3, 4, 5 <br>  but with <i>std_logic_vector</i> there are problems. <br>  The record has the form '1' and '0' for a single vector, but the vector of 2 or more digits by default CANNOT take decimal values.  Only <i>HEX</i> or <i>BIN</i> . <br><br>  Fortunately, my acquaintance with this language ended there and I plunged into the religion of the languages <i>Verilog</i> and <i>SystemVerilog</i> . <br><br>  For me it was a revelation! <br>  No extra entries.  The listing is clean and straightforward.  Each sign has a justified meaning and place. <br>  Unfortunately, modern FPGA compilers do not fully support the standard of these languages, so not all their capabilities can be used.  (In my personal practice, <i>Quartus II</i> poorly understood the project using procedures and functions. <br>  He also poorly understood classes (or didn‚Äôt understand at all? I don‚Äôt remember). <br>  Compare the listing itself in the <i>SystemVerilog</i> entry above: <br><br><div class="spoiler">  <b class="spoiler_title">Source code in SystemVerilog</b> <div class="spoiler_text"><pre> <code class="hljs sql">module Div_27Mhz_to_1Hz (  input     CLK,  output logic    CLK_OUT,  output logic[7:0]    CNT_OUT ); integer cnt = 0; always@(posedge CLK) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cnt &gt;= <span class="hljs-number"><span class="hljs-number">13500000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>   CLK_OUT   &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>   CLK_OUT   &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cnt == <span class="hljs-number"><span class="hljs-number">27000000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>  cnt   &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>   cnt   &lt;= cnt + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>  CNT_OUT   &lt;= cnt; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> endmodule</code> </pre><br></div></div><br><br>  As you can see, the number of rows has noticeably decreased.  The listing itself is simpler and of the same type (numbers are written everywhere as numbers).  The signal edge check unit migrated to the place where the process trigger was declared. <br>  I also specifically expanded the functionality of the module to demonstrate the convenience and ease of data type conversion. <br>  As you can see in the port description of the module, I entered the special eight-bit output port <i>CNT_OUT</i> .  The data type of the port is <i>logic</i> . <br>  Here it is worth making an easy digression about the types in <i>SystemVerilog</i> . <br>  <i>SV</i> has two main types of data: <br>  chains (wire) <br>  registers (reg) <br>  all other data types are not fully perceived by <i>Quartus</i> and therefore have not been used by me. <br>  At the same time, the difference between these types (according to the standard) is that the type of chain cannot take on values. <br><br>  The data type <i>logic</i> indicates that the compiler is free to decide for itself that it is a chain or register. <br><br>  It is worth noting that <i>Quartus</i> ignores <i>SV</i> data types altogether during compilation.  Its compiler allows you to use <i>wire</i> as a register and vice versa.  Therefore, the use of the <i>logic</i> data type is somewhat arbitrary.  We have a counter variable of the <i>integer</i> type (by default it is 32 bits) and an external output port of the type <i>logic</i> and a bit width of 8 bits. <br>  Line <i>CNT_OUT &lt;= cnt;</i>  does the following: <br>  each cycle to the <i>CNT_OUT</i> port <i>is</i> written to the lower 8 bits of the <i>cnt</i> register.  (It should be noted that this record does not explicitly indicate the range of digits for writing to the port. <br>  Therefore, 8 younger ones are taken). <br><br>  Thus, we see that <i>SV</i> type conversion does not require specialized libraries and functions.  All these tasks are solved by the compiler. <br>  Also in <i>SV</i> there is a convenience in the form of automatic data bit leveling. <br>  Those.  if the project uses the <i>integer</i> data type, but according to the logic of operation it is clear that the value of this register does not exceed 255 (in the decimal system), <br>  then after compilation this register will be 8 bit. <br>  Thus, there is another liberty allowed by the <i>SV</i> standard - it does not require explicit alignment of register lengths. <br><br>  In general, in my opinion the listing of <i>SystemVerilog</i> looks more harmonious and readable.  What is achieved by the absence of long data type names and signal declaration lines and registers. <br>  The recording of vectors is also easier and more accurate. <br><br>  In general, these languages ‚Äã‚Äãcan be compared much deeper and longer.  But I am sure that in most of the comparisons <i>SV</i> will show its beauty, compactness of the text and usability. <br><br>  In general, <i>SystemVerilog</i> will appeal to programmers. <br>  If you are an ingrained circuit designer, then you will like <i>AHDL</i> . <br>  I do not cite it in comparison.  it is a completely different topic and comparing it with the languages ‚Äã‚Äãgiven in the article is the same as comparing assembler and <i>S.</i> </div><p>Source: <a href="https://habr.com/ru/post/191606/">https://habr.com/ru/post/191606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191596/index.html">Solving the transport problem with a genetic algorithm as part of SOA</a></li>
<li><a href="../191598/index.html">How to make such an ERP system so that users do not run IT in reports</a></li>
<li><a href="../191600/index.html">Journey into the world of corporate service tires on IBM WebSphere ESB</a></li>
<li><a href="../191602/index.html">Older OS: IBM VM / 370</a></li>
<li><a href="../191604/index.html">Experience in writing refactoring</a></li>
<li><a href="../191608/index.html">And let's really block the government access to the sites?</a></li>
<li><a href="../191610/index.html">Icelandic Innovation Center</a></li>
<li><a href="../191612/index.html">About the Deus Ex dialog system and real mechanics in board games</a></li>
<li><a href="../191614/index.html">HTC One dual sim - the embodiment of versatility</a></li>
<li><a href="../191624/index.html">STM32 + EmBlocks - we blink LEDs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>