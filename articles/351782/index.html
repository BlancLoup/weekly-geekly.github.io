<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ping-Pong algorithm or criticism of the Reverse Polish Notation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is written due to the perturbation that students in our universities offer a simple analysis of mathematical expressions on the basis of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ping-Pong algorithm or criticism of the Reverse Polish Notation</h1><div class="post__text post__text-html js-mediator-article">  This article is written due to the perturbation that students in our universities offer a simple analysis of mathematical expressions on the basis of just the Reverse Polish Notation (ARF), which is a blatant perversion of normal human logic. <br><br>  The source of the description of arresters will be the description from Laforet R .: L29 Data structures and algorithms in Java.  Classic Computers Science.  2nd ed.  - SPb .: Peter, 2013. - 704 s, recommended as the most popular and adequate on this issue, however, as well as on other frequently used algorithms. <br><br>  Well, that is, we compare different algorithms with different ideologies. <br><a name="habracut"></a><br>  To visualize the sequence of work on the formula (arrester) on p.158 the following graph is given: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/me/oi/ut/meoiutqwr-pfi47hewgw86q13-m.png" alt="image"><br><br>  Already here one can see the adjustment of the algorithm for the property of sequential reading of symbolic information that is incorrect for a person.  For a person, the priority selection of expression fragments and the construction of a further calculation scheme for the priorities of these fragments are more characteristic.  Therefore, in this case, the scheme will look like in reality: <br><br><img src="https://habrastorage.org/webt/uj/fz/yd/ujfzydeywnoqzqq5zhvrubms4fc.png" alt="image"><br><br>  As we see, an incorrect initial message for character-by-expression parsing of the expression not only distorts the processing of the infix notation, but also significantly complicates the picture of the real analysis of complex formulas with multiple attachments of brackets.  After all, the second scheme (Fig. 1) is both clearer and significantly shorter than that shown in Fig. 4.15 of the analyzed source. <br><br>  Next, I am forced to cite a fairly lengthy quotation from a source in which the owl is being pulled onto the globe. <br><blockquote>  ‚ÄúAs you can see, in the process of calculating the result of an infix arithmetic expression, one has to move along the expression in the forward and reverse directions.  First, from left to right, operands and operators are read.  When you accumulate enough information to apply the operator, you begin to move in the opposite direction, ‚Äúremember‚Äù two operands and an operator, and perform an arithmetic operation.  If an operator is followed by another operator with a higher priority or parenthesis, the application of the operator is postponed.  In this case, first apply the next, higher priority statement, and then you go back (left) and apply earlier statements. <br><br>  Of course, the algorithm for performing such processing could be programmed directly, and yet, as mentioned earlier, it is easier to first convert the expression to a postfix notation. ‚Äù(End of quotation) </blockquote>  Let's start with moving in the forward and reverse direction.  The fact is that APN apologists usually focus on the last stage of calculations, when already reassorted characters are stacked and removed from there in a row, which of course makes this stage very effective, sort of like.  But, as we remember, the work on surge arresters consists of TWO stages (p. 153): <br><blockquote>  "one.  Convert an arithmetic expression to another format called postfix notation. <br><br>  2. Calculation of the result by postfix notation. ‚Äù(End of quotation) </blockquote>  Oops!  It turns out the advantages of the second stage are trying to stick out, but the first headache with the first stage is simply modestly mentioning.  This is not reproached to the author, the author writes cool - this is a misunderstanding of why this, rather muddy, method is considered basic when parsing formulas and is taught in relevant specialties. <br><br>  However, let's look closely at the first stage.  Fortunately, the author provides a smart table for this (p. 153): <br><br><img src="https://habrastorage.org/webt/t3/6b/9z/t36b9zduimybhqhjxq7qa-vh9fc.png" alt="image"><br><br>  Most of all I liked the last line.  Tell me, for God's sake, how it can be consistently pulled out of the STACK here and get a sane result.  The system of two stacks, separately for operands and separately for operations, will still work, but with one stack ... <br><br>  But it is not even about that.  How many and what sortings need to be done to make a postfix from an infix (familiar to us) record?  Why so break the normal human logic of students in favor of the ancient method?  I'm afraid to even imagine how this formula will look, for example: (A + B * C / D) + (EF * ((G / (HJ * (- 1) + I) -L * (MN) -R) + S ) Did you manage to present it at once? <br><br>  Thus, it can be said that the conversion from infix to postfix recording itself already carries with it an unjustifiably high cost of implementing complex, obscure algorithms for sorting the original data.  Moreover, the number of returns at this stage will clearly exceed the resources required for processing the infix (normal) record.  Well, the processing of such a postfix entry itself is somehow not limited to primitive pulling out in a row from the stack, but requires an appropriate handler and additional resources. <br><br>  We illustrate the sequence of required operations (ARF) on a small example. <br><br><img src="https://habrastorage.org/webt/pa/vd/je/pavdjeis5seyxrd-omzltvngu7a.png" alt="image"><br>  <i>Tabl.</i>  <i>The procedure for calculating a fragment of the formula</i> <br><br>  But that's not all, because if the numbers are not one digit, then you need to put a buffer to assemble the numbers from individual digits before putting them on the stack or the output string. <br><br>  I have no task to retell the method of calculating the arrester, so those who are particularly interested can read about it in the original source, especially since it is really cool written.  Therefore, we turn to the method (algorithm) Ping-Pong, announced in the title of the article. <br><br>  At once I will make a reservation, there are quite a lot of methods (algorithms) for parsing formulas.  You can call the method of recursive descent and methods of building trees and others.  I did not find Ping-Pong on the net, although I think it is used quite often.  Why he got this name will be clear from the illustrations. <br><br>  So, go to the analysis of the algorithm.  We start with some definitions for ease of presentation. <br><br>  Priority - the dominance of one operation or group over the other.  The algorithm uses three priorities: 0 - operations "¬±";  1 - operations "* /%";  2 - grouping with parentheses "()".  Note: the functions and work with them in this article are not considered.  Functions - just a separate layer, which does not affect the priority of operations. <br><br>  A fragment is a part of a formula that can be transferred for a lower level calculation.  That is, a fragment is both a part of a formula framed by brackets and containing operations of the 0th and 1th levels, as well as a trivial fragment containing two operands and an operation sign between them. <br><br>  For convenience of illustration, we will use the same formula that was proposed above for calculating the arrester: (A + B * C / D) + (EF * ((G / (HJ * (- 1) + I) -L * (MN ) -R) + S) * W).  To make it more visual in the process of illustration of the algorithm, I will replace the letters with numbers.  Go. <br><br>  We have a formula line in the input. <br><br><img src="https://habrastorage.org/webt/rq/ne/et/rqneetnacvrnstpo9_yvvacgbec.png" alt="image"><br><br>  Operands are pulled out relative to the sign of the operation, one to the left, the other to the right.  The sequence of operations within a fragment is directly protected by the priority of the processing sequence with the substitution by the result.  Unary and binary ‚Äú-‚Äù questions are solved inside the addition / subtraction block. <br><br>  So I think that there is not even a lot of clarification.  Well, it is also clear where the name comes from.  As you can see, there are no sortings as a class, restrictions on the length of the formula and the number of nested groups are not.  All at the level of trivial searches and replacements.  In order not to produce fragments of strings, it is enough to use StringBuilder (java) instead of String, which allows you to transform the string without fruiting extra entities.  But the main thing is that everything is clear at the level of simple intuitive perception. <br><br>  For comparison, the algorithms will present them in the same notation. <br><br>  The algorithm for arresters is taken from the wiki <br><br><img src="https://habrastorage.org/webt/ip/qc/ht/ipqchtm0rdouyttpu45bl0nabam.png" alt="image"><br><br>  Ping-Pong algorithm <br><br><img src="https://habrastorage.org/webt/cb/tc/x8/cbtcx8xqhdre4egmj8f6xaw80ba.png" alt="image"><br><br>  Thus, the Ping-Pong algorithm is as close as possible to human perception and requires a minimum amount of resources.  It also requires minimal analysis of symbols and decision-making procedures, does not require a buffer for assembling numbers from numbers. <br><br>  I think there are quite a few such intuitive algorithms.  So why are students still being tormented by any crap invented in time immemorial? <br><br>  I would be glad if someone this algorithm is useful. </div><p>Source: <a href="https://habr.com/ru/post/351782/">https://habr.com/ru/post/351782/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351766/index.html">T-commerce: how online sales work with Telegram</a></li>
<li><a href="../351768/index.html">How we changed paid Slack to open-source Rocket.Chat</a></li>
<li><a href="../351770/index.html">Gartner released a new quadrant of monitoring solutions for 2018 (and at the same time missed 2017)</a></li>
<li><a href="../351772/index.html">Minifikation programming language</a></li>
<li><a href="../351774/index.html">Operating systems from scratch; level 1 (upper half)</a></li>
<li><a href="../351784/index.html">15 ways to turn brainstorming into a ‚Äúfire‚Äù result</a></li>
<li><a href="../351790/index.html">Benefits, risks and secrets of in-app advertising</a></li>
<li><a href="../351792/index.html">Profile of non-ideal customer. What clients to refuse and why it is vital</a></li>
<li><a href="../351794/index.html">Seminar Dino Esposito March 29 in Moscow</a></li>
<li><a href="../351796/index.html">Conference DEFCON 19. "The Art of trolling." Matt "OpenFly" Joyce</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>