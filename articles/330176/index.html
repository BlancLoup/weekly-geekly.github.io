<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>When 2 + 2 = "4"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="While relaxing from debugging JavaScript, I read an article about the features of PHP and suddenly wondered what the results of the comparison 2 + 2 =...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>When 2 + 2 = "4"</h1><div class="post__text post__text-html js-mediator-article">  While relaxing from debugging JavaScript, I read an article about the <a href="https://habrahabr.ru/post/142140/">features of PHP</a> and suddenly wondered what the results of the comparison 2 + 2 = "4" will be for different programming languages.  And that's what came out of it. <br><table><tbody><tr><td colspan="4">  Summary table for those who do not want to read a lot </td></tr><tr><td>  Result </td><td>  Compilation error </td><td>  False </td><td>  True </td></tr><tr><td>  Languages </td><td>  C ++ <br>  Pascal <br>  FORTRAN-95 <br>  Java <br>  C # <br>  Go <br>  Rusty <br>  Haskel <br></td><td>  C <br>  Lisp <br>  Python <br>  Lua <br>  Ruby <br></td><td>  Javascript <br>  Php <br>  Perl <br></td></tr></tbody></table><br>  The C compiler generates a warning, the C ++ compiler error that turns into a warning if you specify the -fpermissive flag. <br><br>  Under the cut for each of the languages ‚Äã‚Äãis a line of code that caused one or another result, with a little comment. <br><br>  Bonus - console output functions for these languages. <br><a name="habracut"></a><br><h3>  Compilation error </h3><br>  The simplest and uninteresting behavior is a compilation error that occurs in all strongly typed languages. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>C ++</b> <br><br><pre><code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; (<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>) &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;</code> </pre> <br>  <i>error: ISO C ++ forbids comparison between pointer and integer [-fpermissive]</i> <br><br>  If you specify the -fpermissive flag, a pointer to a string will be compared to the number 4, which will most likely return 0. <br><br>  <b>Pascal</b> <br><br><pre> <s><code class="hljs lisp">writeln((<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) = <span class="hljs-string"><span class="hljs-string">"4"</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code></s> </pre> <s><br></s>  <s><i>Fatal: illegal character "" "" ($ 22)</i></s> <s><br></s>  <s>The error message is rather incomprehensible</s> <s><br></s> <br><pre> <code class="hljs objectivec">writeln(<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-string"><span class="hljs-string">'4'</span></span>);</code> </pre> <br>  <i>Error: Incompatible types: got "Char" expected "Int64"</i> <br>  The error message has become quite understandable.  Thanks <a href="https://habrahabr.ru/users/gebekovas/" class="user_link">GebekovAS</a> . <br><br>  <b>FORTRAN-95</b> <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">Print</span></span> *, <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span></code> </pre> <br>  <i>Error: Operands of comparison operator '==' at (1) are INTEGER (4) / CHARACTER (1)</i> <br><br>  It's funny that in this text there is actually no message that comparison is impossible, just a statement of fact. <br><br>  <b>Java</b> <br><br><pre> <code class="java hljs">System.out.println((<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) == <span class="hljs-string"><span class="hljs-string">"4"</span></span>);</code> </pre> <br>  <i>error: incomparable types: int and String</i> <br><br>  In the error message, everything is fine except that it does not indicate which operation caused the error. <br><br>  <b>C #</b> <br><br><pre> <code class="hljs objectivec">Console.WriteLine((<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) == <span class="hljs-string"><span class="hljs-string">"4"</span></span>);</code> </pre> <br>  <i>error CS0019: Operator `== 'cannot be applied to operands of type` int' and `string '</i> <br><br>  It's all good. <br><br>  <b>Go</b> <br><br><pre> <code class="go hljs">fmt.Printf(<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>)</code> </pre> <br>  <i>cannot convert "4" to type int</i> <i><br></i>  <i>invalid operation: "4" == 2 + 2 (mismatched types string and int)</i> <br><br>  And even better <br><br>  <b>Rusty</b> <br><br><pre> <code class="rust hljs"><span class="hljs-built_in"><span class="hljs-built_in">println!</span></span>(<span class="hljs-string"><span class="hljs-string">"{:?}"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>);</code> </pre> <br>  <i>error: the trait `core :: cmp :: PartialEq &lt;&amp; str&gt;` _` [E0277]</i> <br><br>  Logical but honestly far from the most understandable error message <br><br>  <b>Haskel</b> <br><br><pre> <code class="hljs lisp">main = putStrLn (<span class="hljs-name"><span class="hljs-name">show</span></span> ((<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) == <span class="hljs-string"><span class="hljs-string">"4"</span></span>))</code> </pre> <br>  <i>No instance for (Num Char) arising from a use of `+ '</i> <br><br>  At first I did not understand the message, then I thought and understood a little.  But Haskel began to understand even less than before. <br>  <a href="https://habrahabr.ru/users/sirikid/" class="user_link">Sirikid solution</a> if you still really want to compare <a href="https://ideone.com/CJifV3">ideone.com/CJifV3</a> <br><br><h2>  False result </h2><br>  The next in line languages ‚Äã‚Äãthat allow you to compare the number and string, while returning false (or something similar), most likely due to the mismatch of the types of variables. <br><br>  <b>C</b> <br><br><pre> <code class="hljs lisp">printf(<span class="hljs-string"><span class="hljs-string">"%i\n"</span></span>,(<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>))<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  the result is 0. Comparison of the pointer to the string and the number 4 will most likely return 0. This displays a warning, almost the same as in C ++: <br><br>  <i>warning: comparison between pointer and integer [enabled by default]</i> <br><br>  <b>Lisp</b> <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">write</span></span> (<span class="hljs-name"><span class="hljs-name">eq</span></span> <span class="hljs-string"><span class="hljs-string">"123"</span></span> <span class="hljs-number"><span class="hljs-number">123</span></span>))</code> </pre> <br>  result - NIL <br><br>  <b>Python</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>)</code> </pre> <br>  the result is False <br><br>  <b>Lua</b> <br><br><pre> <code class="lua hljs"><span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>)</code> </pre> <br>  false result <br><br>  <b>Ruby</b> <br><br><pre> <code class="ruby hljs">puts <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>;</code> </pre> <br>  false result <br><br>  <b>1C</b> <br><pre> <code class="1c hljs"><span class="hljs-number"><span class="hljs-number">2</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>=¬´<span class="hljs-number"><span class="hljs-number">4</span></span>¬ª</code> </pre> <br>  False <br>  Thank you, <a href="https://habrahabr.ru/users/acprikh/" class="user_link">ACPrikh</a> .  "Adineesnegi joined the ranks of C Lisp Python gurus Lua Ruby." <br><br><h2>  True result </h2><br>  Finally, languages ‚Äã‚Äãthat return true for comparison. <br><br>  <b>Javascript</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>);</code> </pre> <br>  Fortunately, there is a strict comparison operation (triple equality ===), which returns false <br><br>  <b>Php</b> <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>);</code> </pre> <br>  Just as in JavaScript, there is a triple equality operation, the result of which is FALSE, which looks like an empty line when outputting to the console (if I confuse me, correct me). Me). <br><br>  <b>Perl</b> <br><br><pre> <code class="perl hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span>;</code> </pre> <br>  There is no strict comparison, besides for hexadecimal notation (and why not) <br><br><pre> <code class="perl hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-number"><span class="hljs-number">0x2</span></span> + <span class="hljs-number"><span class="hljs-number">0x2</span></span> == <span class="hljs-string"><span class="hljs-string">"0x4"</span></span>;</code> </pre> <br>  Perl interprets the string ‚Äú0x4‚Äù as 0 (as opposed to JavaScript and PHP, which parse hexadecimal strings) and returns FALSE, and the console will also have an empty string. <br><br>  <b>Rexx</b> <br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>=<span class="hljs-string"><span class="hljs-string">"4"</span></span></code> </pre> <br>  true <br>  Thank you, <a href="https://habrahabr.ru/users/impetus/" class="user_link">impetus</a> .  "With the default keys / settings, which is documented and for this language is logical and expected." <br><br>  <b>Tcl</b> <br><pre> <code class="hljs cpp"><span class="hljs-built_in"><span class="hljs-built_in">puts</span></span> [expr { <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-string"><span class="hljs-string">"4"</span></span> }]</code> </pre> <br>  true <br>  Thanks <a href="https://habrahabr.ru/users/chpock/" class="user_link">Chpock</a> , "every value is a string". <br><br>  Are there any other languages ‚Äã‚Äãwith unusual behavior when comparing numbers with strings, I don't know yet. <br><br>  To study the issue used the <a href="http://www.tutorialspoint.com/codingground.htm">site</a> , used versions of compilers and interpreters correspond to those provided on the site. <br><br>  <b>UPDATE</b> <br>  Fixed an annoying bug with pascal, thanks for pointing.  And added examples from the comments. </div><p>Source: <a href="https://habr.com/ru/post/330176/">https://habr.com/ru/post/330176/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330164/index.html">Azure-IaaS-Digest # 16 (May)</a></li>
<li><a href="../330166/index.html">Your brand is at EuroPython 2017</a></li>
<li><a href="../330168/index.html">Old technology in a new way. FreeBSD Jails + CBSD Project</a></li>
<li><a href="../330170/index.html">CNC (SEF URLs) in symfony 3 - slug autogeneration, configuration and routing</a></li>
<li><a href="../330172/index.html">We add cycles and conditions to jsx</a></li>
<li><a href="../330178/index.html">‚ÄúSnooze a little bit‚Äù: check list for a short break for sleep</a></li>
<li><a href="../330180/index.html">Dell EMC Cloud for Microsoft Azure key features</a></li>
<li><a href="../330182/index.html">Pygest # 10. Releases, articles, interesting projects from the world of Python [May 23, 2017 - June 5, 2017]</a></li>
<li><a href="../330186/index.html">The digest of interesting materials for the mobile developer # 206 (May 29 - June 4)</a></li>
<li><a href="../330188/index.html">Inperfo - minimal network monitoring</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>