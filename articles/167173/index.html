<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to Jasmine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Client-side programming has long become the norm, and the amount of JavaScript code and its complexity is constantly growing. Often, testing is applie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to Jasmine</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/95c/371/a8f/95c371a8fdae9bf4e3d9d0bf7756edf7.png" align="left"><br>  Client-side programming has long become the norm, and the amount of JavaScript code and its complexity is constantly growing.  Often, testing is applied only on the server side, but you should not forget about testing client code.  Jasmine can be successfully used for testing JavaScript both on the client side and for Node.js. <br><br>  <a href="http://pivotal.github.com/jasmine/">Jasmine</a> is a BDD framework (Behavior-Driven Development - Behavioral Based Development) for testing JavaScript code that borrowed many features from RSpec. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For convenience, we will consider testing in the browser, and for conciseness, examples are given using CoffeeScript ( <a href="">examples in JavaScript</a> ). <br><br>  You can install Jasmine by downloading the <a href="https://github.com/pivotal/jasmine/downloads">Jasmine standalone</a> package.  Required files: <br><br><ul><li>  lib / jasmine - * / jasmine.js - the framework itself </li><li>  lib / jasmine - * / jasmine-html.js - formatting results as HTML </li><li>  lib / jasmine - * / jasmine.css - the appearance of the test result </li><li>  SpecRunner.html - the file that should be opened in the browser to run tests </li></ul><br><br>  The main keywords when working with Jasmine are: <br><br><ul><li>  <b>describe</b> - test set definition, sets can be nested </li><li>  <b>it</b> - test definition inside any test suite </li><li>  <b>expect</b> - defines the expectations that are checked in the test </li></ul><br><br>  The keywords <b>describe</b> and <b>it</b> are normal function calls that are passed two parameters.  The first is the name of the group or test, the second is the function containing the code.  A simple example for clarity: <br><br><pre><code class="coffeescript hljs">describe <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> it <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> expect(<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>).toBe(<span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br><br>  To disable the execution of a test suite or a specific test, you must use the keywords <b>xdescribe</b> and <b>xit,</b> respectively. <br><br><pre> <code class="coffeescript hljs">describe <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> xdescribe <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> it <span class="hljs-string"><span class="hljs-string">"   ,    "</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> expect(<span class="hljs-literal"><span class="hljs-literal">true</span></span>).toBe(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) xit <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> expect(<span class="hljs-literal"><span class="hljs-literal">true</span></span>).toBe(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)</code> </pre><br><br>  Jasmine has a standard set of expectations for validating results: <br><br><pre> <code class="coffeescript hljs"> it <span class="hljs-string"><span class="hljs-string">"   ==="</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> expect(<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>).toBe(<span class="hljs-number"><span class="hljs-number">3</span></span>) it <span class="hljs-string"><span class="hljs-string">"    ( )"</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> a = {x: <span class="hljs-number"><span class="hljs-number">8</span></span>, y: <span class="hljs-number"><span class="hljs-number">9</span></span>} b = {x: <span class="hljs-number"><span class="hljs-number">8</span></span>, y: <span class="hljs-number"><span class="hljs-number">9</span></span>} expect(a).toEqual(b) expect(a).<span class="hljs-keyword"><span class="hljs-keyword">not</span></span>.toBe(b) <span class="hljs-comment"><span class="hljs-comment">#  - a   b it "   ", -&gt; expect(window.document).toBeDefined() it "    ", -&gt; expect(window.notExists).toBeUndefined() it "   null", -&gt; a = null expect(a).toBeNull() it "   ", -&gt; expect(5 &gt; 0).toBeTruthy() it "    ", -&gt; expect(5 &lt; 0).toBeFalsy() it "    ", -&gt; expect(1 + 2).toBeLessThan(5) it "    ", -&gt; expect(1 + 2).toBeGreaterThan(0) it "     ", -&gt; expect(1.2345).toBeCloseTo(1.2, 1) it "    ", -&gt; expect("some string").toMatch(/string/) it "  ", -&gt; expect([1, 2, 3]).toContain(2) expect("some string").toContain("some") it "   ", -&gt; func = -&gt; window.notExists.value expect(func).toThrow()</span></span></code> </pre><br><br>  In order to avoid repetition when creating / deleting objects and loading fixtures necessary for executing tests, the <b>beforeEach</b> / <b>afterEach</b> functions are used.  They run before / after each test in the kit. <br><br><pre> <code class="coffeescript hljs">describe <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> val = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment">#        beforeEach -&gt; val += 1 afterEach -&gt; val = 0 it " val", -&gt; expect(val).toEqual(1)</span></span></code> </pre><br><br>  Jasmine supports testing asynchronous calls using the runs and waitsFor functions. <br><br><ul><li>  <b>runs</b> - accepts an asynchronous function for execution. </li><li>  <b>waitsFor</b> - takes the first parameter of the function that should return true if the asynchronous call made in the runs was executed, the second parameter is the error message, the third is the wait time in milliseconds. </li></ul><br><br><pre> <code class="coffeescript hljs"> describe <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> a = <span class="hljs-number"><span class="hljs-number">0</span></span> async = <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> setTimeout((<span class="hljs-function"><span class="hljs-function">-&gt;</span></span> a = <span class="hljs-number"><span class="hljs-number">5</span></span>), <span class="hljs-number"><span class="hljs-number">1000</span></span>) it <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> runs(<span class="hljs-function"><span class="hljs-function">-&gt;</span></span> async()) waitsFor((<span class="hljs-function"><span class="hljs-function">-&gt;</span></span> a == <span class="hljs-number"><span class="hljs-number">5</span></span>), <span class="hljs-string"><span class="hljs-string">"   "</span></span>, <span class="hljs-number"><span class="hljs-number">3000</span></span>)</code> </pre><br><br>  Consideration of working with ‚Äúspies‚Äù spies (mock object) and working with time (mock clock) will be left for the next article.  If you have questions or comments, I will be glad to answer them. <br><br>  The second part: <a href="http://habrahabr.ru/post/169699/">"Jasmine - additional features"</a> <br><br>  References: <br>  <a href="https://github.com/pivotal/jasmine">github.com/pivotal/jasmine</a> - Jasmine page on GitHub <br>  <a href="https://www.inexfinance.com/en/blog/2013/1/25/jasmine_for_clientside_testing">www.inexfinance.com/en/blog/2013/1/25/jasmine_for_clientside_testing</a> - English version of the article <br>  <a href="https://github.com/inex-finance/blog-examples/tree/master/jasmine">github.com/inex-finance/blog-examples/tree/master/jasmine</a> - code examples from this article </div><p>Source: <a href="https://habr.com/ru/post/167173/">https://habr.com/ru/post/167173/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../167161/index.html">Rails 4 Subtleties - Turbolinks</a></li>
<li><a href="../167165/index.html">A bunch of ExtJS + Django + Apache + SVN deploy (and a simple CRUD controller on Django)</a></li>
<li><a href="../167167/index.html">Perhaps the strangest accessory. HTC launches bluetooth smartphone phone</a></li>
<li><a href="../167169/index.html">Facebook Hacker Cup 2013 - The Qualification Round is taking place right now</a></li>
<li><a href="../167171/index.html">Manage Windows services using PowerShell. Part 2</a></li>
<li><a href="../167177/index.html">Search for common elements in an array</a></li>
<li><a href="../167179/index.html">Avast! opens the hunt for mistakes</a></li>
<li><a href="../167181/index.html">Functional PHP programming</a></li>
<li><a href="../167187/index.html">ITU officially approved draft of H.265 video compression standard</a></li>
<li><a href="../167195/index.html">How technology and social sciences help plan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>