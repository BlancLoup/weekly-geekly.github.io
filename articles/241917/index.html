<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We are developing the game on AS3 (Part 2: Duck Hunt mini-game)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="figure 4 


 Purpose: development of a computer game 
 Target audience: beginners, interested, onlookers 
 Tools: ActionScript 3.0 


 Cycle content 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We are developing the game on AS3 (Part 2: Duck Hunt mini-game)</h1><div class="post__text post__text-html js-mediator-article"><a name="figure_4"></a><br>  <b>figure 4</b> <br><img src="https://habrastorage.org/files/3b5/a58/f9e/3b5a58f9e7b04313b4698131ece8e9d8.png" align="left" alt="Duck hunt"><br><br>  <b>Purpose:</b> development of a computer game <br>  <b>Target audience:</b> beginners, interested, onlookers <br>  <b>Tools:</b> <strong>ActionScript 3.0</strong> <br><br><br clear="all"><div class="spoiler">  <b class="spoiler_title">Cycle content</b> <div class="spoiler_text"><ul><li>  <a href="http://habrahabr.ru/post/240285/">Part 1: introduction, utilities</a> </li><li>  Part 2: Duck Hunt mini-game </li><li>  Will be updated as available ... </li></ul><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Part content</b> <div class="spoiler_text"><ul><li>  <a href="https://habr.com/ru/post/241917/">Introduction</a> </li><li>  <a href="https://habr.com/ru/post/241917/">Sketch</a> </li><li>  <a href="https://habr.com/ru/post/241917/">Prototype</a> </li><li>  <a href="https://habr.com/ru/post/241917/">"Duck Hunt"</a> </li><li>  <a href="https://habr.com/ru/post/241917/">Conclusion</a> </li></ul><br></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="introduction"></a><br><h2>  Introduction </h2><br><div class="spoiler">  <b class="spoiler_title">In previous releases ...</b> <div class="spoiler_text"><ul><li>  Perhaps a slightly vague introduction; </li><li>  Some set of comments is defined; </li><li>  Created and described the required tools; </li><li>  The task for the present part. </li></ul><br></div></div><br>  The inspiration for the mini-game was the old warm " <a href="http://en.wikipedia.org/wiki/Duck_Hunt">Duck Hunt</a> ".  However, the repetition of anything practically deprives this process of creativity, turning it into a boring routine.  Yes, and copies of this game, most likely, <a href="http://www.owensworld.com/games/shooting/duck-hunt">already have</a> (carefully, you can get an aesthetic shock from the flight of ducks).  It must be remembered that a small game is being created, so do not overload it with unnecessary features (and so there are some pretty funny <a href="http://www.silvergames.com/duck-hunt-reloaded">variations</a> ). <br>  We will do some team parody of old computer games, thereby justifying any noticeable use of the objects of someone else‚Äôs copyright for which the parody is being made. <br><a name="habracut"></a><br><br><a name="draft"></a><br><h2>  Sketch </h2><br>  When drafting a sketch, I stopped thinking that I was creating a game about duck hunting.  In <a href="https://habr.com/ru/post/241917/">Figure 5,</a> you can familiarize yourself with it: an abstract screen, on which abstract targets fly, which must be abstractly destroyed.  Everything.  Everything else details. <br><a name="figure_5"></a><br>  <b>figure 5</b> <br><img src="https://habrastorage.org/files/f60/62b/695/f6062b6955cb454b93b5d38c7b772e2c.png" alt="Duck Hunt. Sketch"><br><br><a name="prototype"></a><br><h2>  Prototype </h2><br><a name="note_10"></a><br>  <b>Note 10:</b> <br>  For abstract purposes, one could come up with some kind of simple animation (static black square), but since  I already had an animation for ducks, then I found it permissible to create the goals I needed right away.  <a href="https://habr.com/ru/post/241917/">Figure 6</a> shows a simple <abbr title="Unified Modeling Language">UML</abbr> diagram: <br><a name="figure_6"></a><br>  <b>figure 6</b> <br><img src="https://habrastorage.org/files/ccf/ec8/87a/ccfec887adfa4f008492e650ba4497f3.png" alt="Duck Hunt. Uml Chart of developed classes"><br>  On the abstract <b>CDisplay</b> screen, the abstract targets <b>CTarget fly</b> , which <b>CTargetEmitter</b> releases, using the <b>CTargetFactory</b> abstract target <b>factory</b> .  The user is prompted to shoot down targets with abstract <b>CWeapon</b> weapons (with the <b>CWeaponMagazine</b> shots <b>shop</b> ). <br>  <a href="https://habr.com/ru/post/241917/">Figure 7</a> shows a screenshot of the resulting prototype. <br><a name="figure_7"></a><br>  <b>figure 7</b> <br><img src="https://habrastorage.org/files/265/4de/bad/2654debad71348d7b9e3d4c90e21cdcc.png" alt="Duck Hunt. Prototype"><br>  Ducks <b>CDuckTarget extends CTarget</b> become targets that are proposed to destroy from a single-shot ( <b>CSniperRifleMagazine extends CWeaponMagazine</b> ) sniper rifle <b>CSniperRifle extends CWeapon</b> . <br><br><a name="note_11"></a><br>  <b>Note 11:</b> <br>  <b>CRandomTargetFactory extends CTargetFactory</b> allows <b>you</b> to combine different target factories into one, so <b>CTargetEmitter</b> can release different goals for a particular strategy (in this case, in a pseudo-random manner). <br><br>  <b>CGame</b> is a sequential set of <b>CRound</b> rounds to be displayed on the screen.  A general statistics <b>CStatistic</b> game consists of statistics for each round.  <b>CRound</b> carries all the necessary information in order to be able to play it: how many and with what speed to release goals, what effects to use, what to consider as a successful completion of the round, etc. <br><br><a name="meiciuc"></a><br><div class="spoiler">  <b class="spoiler_title">Comparison of development with and without unit testing</b> <div class="spoiler_text">  The answer to one of the <a href="http://habrahabr.ru/post/240285/">questions of</a> Mr. <a href="http://habrahabr.ru/users/meiciuc/" class="user_link">meiciuc</a> . <br>  Why unit testing in <strong>ActionScript</strong> ?  And why is <strong>ActionScript</strong> so bad?  Well, no need to list.  I wanted to say that unit testing is a proven practice in general.  Try reading: <br><ol><li>  <a href="http://stackoverflow.com/questions/67299/is-unit-testing-worth-the-effort">Is Unit Testing worth the effort?</a>  <a href="http://stackoverflow.com/questions/67299/is-unit-testing-worth-the-effort">[closed]</a> ; </li><li>  <a href="http://habrahabr.ru/post/116514/">How not to shoot yourself in the foot</a> ; </li><li>  <a href="http://eax.me/unit-testing/">On the use of unit tests and TDD</a> . </li></ol><br>  Now ask your question differently: why is <strong>ActionScript</strong> so good that it won't work for him? <br><br>  It should be noted that at first the game was implemented as a program in almost one class, which does everything in the ‚Äúbest traditions‚Äù.  In Figures <a href="https://habr.com/ru/post/241917/">8</a> and <a href="https://habr.com/ru/post/241917/">9</a> you can look at the screenshots of this creation.  This option even remained available in Git: alx.duckhunt.CDraft. <br><a name="figure_8"></a><br>  <b>figure 8</b> <br><img src="https://habrastorage.org/files/bf8/a59/75f/bf8a5975f78344ff8424efa8defcb841.png" alt="Duck Hunt. First version"><br><a name="figure_9"></a><br>  <b>figure 9</b> <br><img src="https://habrastorage.org/files/20d/731/4c9/20d7314c99624866968442a20397b9b0.png" alt="Duck Hunt. First version"><br>  As you can see, it is very similar to what we received as a ‚Äúprototype‚Äù. <br>  This creation was developed "on the knee."  So I really had the opportunity to compare the development with and without using unit testing.  I even kept track of time, so I could share specific figures, but, to be honest, the development was done on a case-by-case basis, and it would not be entirely correct to make this comparison.  Too many factors influenced time.  In the end, I even abandoned the idea of ‚Äã‚Äãkeeping a journal of the time spent. <br>  I would like to point out that you can familiarize yourself with the extremely simple structure of alx.duckhunt.CDraft.  Perhaps testing here would be superfluous.  However, look at what happened in this article (further it will be even more difficult).  As soon as the complexity of the project goes from a monosyllabic craft on a knee to something more complex, the benefit from the use of even partial unit testing becomes tangible: <br><ul><li>  Refactoring is easier; </li><li>  It is easier to correct mistakes, and, importantly, to prevent their ‚Äúreincarnation‚Äù; </li><li>  Reusing code, not errors, is easier; </li><li>  The search time for the error of the developed application is much less (Subjectively) </li></ul><br>  Of course, if you are developing a banner in <strong>Flash</strong> , all this will not be necessary for you. <br><br>  The question deserves a separate article, which I did not plan to write. <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">By the way ...</b> <div class="spoiler_text"><ol><li>  Applied <a href="http://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F">design pattern</a> <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B1%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BA%25D1%2582%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2584%25D0%25B0%25D0%25B1%25D1%2580%25D0%25B8%25D0%25BA%25D0%25B0_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">Abstract Factory</a> <i>[CTarget;</i>  <i>CTargetFactory], [CDuckTarget;</i>  <i>CDuckTargetFactory], [CCloudTarget;</i>  <i>CCloudTargetFactory]</i> ; </li><li> Design pattern applied <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B0%25D0%25B1%25D1%2580%25D0%25B8%25D1%2587%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">Factory method</a> <i>CWeapon :: createMagazine</i> ; </li><li>  Applied a kind of design pattern <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25BE%25D0%25BD%25D0%25BE%25D0%25B2%25D1%2589%25D0%25B8%25D0%25BA_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">Linker</a> <i>[CTargetFactory;</i>  <i>CRandomTargetFactory]</i> ; </li><li>  Applied design pattern <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D0%25B1%25D0%25BB%25D1%258E%25D0%25B4%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">Observer</a> <i>[CDisplay;</i>  <i>IDisplayListener], CWeapon implements IDisplayListener;</i>  <i>CGame implements IDisplayListener</i> . </li></ol><br></div></div><br><br><a name="duck_hunt"></a><br><h2>  "Duck Hunt" </h2><br><a name="note_12"></a><br>  <b>Note 12:</b> <br>  I want to disappoint, but the idea of ‚Äã‚Äãembedding a mini-game in another game gradually ceased to please me for certain aesthetic reasons.  Therefore, you most likely will not see her in this role.  But we will be consistent, we will arrange the game as a separate one, the good will not disappear. <br>  We will not discuss here which of my "designer".  <b>CDuckHuntGame extends CGame</b> adds a user interface and some styling to our mini-game. <br>  <b>CNickGenerator</b> is a simple generator of funny nicknames inherent in one famous game. <br>  Clouds are defined as targets in the usual way ( <b>CCloudTarget extends CTarget</b> , <b>CCloudTargetFactory extends CTargetFactory</b> ).  It is not necessary to destroy such targets, so they are brought out of the current list of targets.  The factory is able to generate animation for clouds of various sizes from a primitive cloud.  In <a href="https://habr.com/ru/post/241917/">Figure 10</a> you can admire an example of what is produced. <br><a name="figure_10"></a><br>  <b>figure 10</b> <br><img src="https://habrastorage.org/files/c70/561/785/c70561785007490ea6f967ae9f40c492.png" alt="Duck Hunt. Cloud show"><br>  <a href="https://habr.com/ru/post/241917/">Figure 11</a> shows a screenshot of the resulting game. <br><a name="figure_11"></a><br>  <b>figure 11</b> <br><img src="https://habrastorage.org/files/feb/80c/80a/feb80c80a6cc49f4b0bd73c34d61a9de.png" alt="Duck hunt"><br><a name="note_13"></a><br>  <b>Note 13:</b> <br>  I don‚Äôt insert a SWF video into the article, and my website on a free hosting will obviously not be happy even with a relatively small influx of visitors.  I decided to look for a platform where I could post my video, and it would be available to everyone.  During the search, the service ‚Äúrawgit.com‚Äù was found, which provides a wonderful opportunity to open a file hosted on ‚Äúgithub.com‚Äù right in the browser. <br>  <a href="">Demonstration of the game</a> (attention! Sound!). <br><br><a name="note_14"></a><br>  <b>Note 14:</b> <br>  If you try to assemble a SWF movie yourself, then note that in order for all the ducks to be in place, they must first be removed from the project and then added again.  This is how <strong>Flash</strong> works.  We will fix this situation later when the application context setting tool appears. <br><br><a name="conclusion"></a><br><h1>  Conclusion </h1><br>  <b>In the next issue:</b> <br><ul><li>  We will return to the utilities: a testing tool and an application context setting tool; </li><li>  We take into account the error of the first article: there will be what to play. </li></ul><br><br><a name="books"></a><br><div class="spoiler">  <b class="spoiler_title">Literature</b> <div class="spoiler_text"><ol><li>  <a href="http://habrahabr.ru/post/240285/">Literature from the first part</a> ; </li><li>  <a href="">Gorelenkov AI, Electronic textbook on the discipline "Linear algebra"</a> (Link to. CHM (I did not find another)!). </li></ol><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/241917/">https://habr.com/ru/post/241917/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../241905/index.html">On motivation, procrastination, time management and other fashionable, but useless things</a></li>
<li><a href="../241907/index.html">About motivated and unmotivated traffic on the App Store</a></li>
<li><a href="../241909/index.html">Prototype. From the idea to the experimental party. Silicone casting</a></li>
<li><a href="../241913/index.html">Another weather station, step-by-step video instruction</a></li>
<li><a href="../241915/index.html">Yandex.Browser is now for Linux</a></li>
<li><a href="../241921/index.html">If you want to follow your dream, say no to distracting matters.</a></li>
<li><a href="../241925/index.html">All announcements of TechEd Europe 2014: partners, clouds and news for IT pro</a></li>
<li><a href="../241927/index.html">Wuala closes free accounts</a></li>
<li><a href="../241929/index.html">Global Network is 45 years old. How it all began</a></li>
<li><a href="../241931/index.html">Python + vshadow + robocopy - directory synchronization with a remote machine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>