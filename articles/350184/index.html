<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Crash Course on Docker: Learn to swim with big fish</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The quick start guide that you are looking for. 


 If you followed software trends in the past year, then you must be tired of hearing the term Docke...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Crash Course on Docker: Learn to swim with big fish</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/g8/l8/gh/g8l8ghkzautiegxskljn42bd4_g.jpeg"></p><br><p>  The quick start guide that you are looking for. </p><br><p>  If you followed software trends in the past year, then you must be tired of hearing the term Docker.  Most likely, you are stunned by the huge number of developers talking about containers, isolated virtual machines, supervisors and other Voodoo magic related to DevOps.  Today we'll figure it out.  It's time to finally understand what containers as a service are and why they are needed. </p><a name="habracut"></a><br><h2 id="tldr">  TL; DR </h2><br><ol><li>  <strong><em>"Why do I need it?"</em></strong> <br><ul><li>  Review all key terms. </li><li>  Why we need CaaS and Docker. </li></ul></li><li>  <strong>Fast start.</strong> <br><ul><li>  Install Docker. </li><li>  Create a container. </li></ul></li><li>  <strong>The real script.</strong> <br><ul><li>  Creating a nginx container to host a static website. </li><li>  Learn how to use build tools to automate Docker commands. </li></ul></li></ol><br><h2 id="zachem-mne-eto-nuzhno">  "Why do I need it?" </h2><br><p>  Not so long ago, I asked myself the same question.  Being a stubborn developer for a long time, I finally sat down and accepted the awesomeness of using containers.  Here is my opinion why you should try to apply them. </p><br><h2 id="docker">  Docker? </h2><br><p>  Docker - software for creating container applications.  The container should be small, not storing the information of the medium for running part of the software. </p><br><blockquote>  <em>The container image is a lightweight, self-contained executable package of a piece of software that includes everything you need to run it: code, runtime, system tools, system libraries, settings.</em> <br>  - <a href="https://www.docker.com/what-container">Official Docker website.</a> <br>  In short, the container is a tiny virtual machine with primitive functions for running the application that was put into it. </blockquote><br><h2 id="virtualnaya-mashina">  Virtual machine? </h2><br><p>  The name ‚Äúvirtual machine‚Äù (VM) speaks for itself: it is a virtual version of a real machine that simulates the hardware of a machine inside a larger machine.  So you can run multiple virtual machines on a single large server.  Have you ever seen the movie "The Beginning"?  A virtual machine is something like "Start."  The part of the software that allows the VM to work is called Hypervisor. </p><br><h2 id="hypervisor">  Hypervisor? </h2><br><p>  Do you boil the brain from new terms?  Be patient for a reason.  Virtual machines only work because of hypervisor.  This is a special software that allows a physical machine to host several different virtual machines.  From the outside, it seems that VMs run their own programs and use host hardware.  However, this hypervisor allocates resources to the virtual machine. </p><br><p>  <em>Note: If you have ever tried to install software (such as VirtualBox), but failed, this was most likely due to the fact that the virtualization system is not activated in your computer's BIOS.</em>  <em>Perhaps this happened to me more times than I remember.</em>  nervous laughter ** </p><br><p>  If you're a nerd like me, here‚Äôs an amazing post on what Hypervisor is. </p><br><p>  <a href="https://www.pluralsight.com/blog/it-ops/what-is-hypervisor">Virtualization 101: What is a hypervisor?</a> </p><br><h2 id="otvechaya-na-svoi-voprosy">  Answering your questions ... </h2><br><p>  What is CaaS really for?  We have been using virtual machines for a long time.  Why did containers suddenly become good?  Nobody said that virtual machines are bad, they are just hard to handle. </p><br><p>  DevOps, as a rule, is complicated, and it is necessary that the designated person performs the work associated with it all the time.  Virtual machines take up a lot of space and RAM, and also need to be constantly configured.  Not to mention the need for experience to properly manage them. </p><br><h2 id="chtoby-ne-vypolnyat-dvoynuyu-rabotu-avtomatiziruyte">  To not do double work, automate </h2><br><p>  With Docker, you can abstract away from regular configurations and environment settings and focus on coding instead.  With Docker Hub, you can take pre-created images and launch them into work in a short time. </p><br><p>  But the biggest advantage is the creation of a homogeneous environment.  Instead of setting a list of various dependencies to launch an application, you need to install only Docker.  Docker is cross-platform, so every team developer will work in the same environment.  The same applies to the development, production and production server.  That's cool!  No more "it works on my machine." </p><br><h3 id="bystryy-start">  Fast start </h3><br><p>  Let's start with the installation.  Surprisingly: only a part of the software installed on the development machine is required, and everything will work fine.  Docker is all you need. </p><br><h2 id="ustanovka-docker">  Docker installation </h2><br><p>  Fortunately, the installation process is very simple.  This is how installation is done on <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">Ubuntu</a> . </p><br><pre><code class="hljs pgsql">$ sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> $ sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install -y docker.io</code> </pre> <br><p>  This is all that is needed.  To make sure Docker is working, you can run another command. </p><br><pre> <code class="hljs lua">$ sudo systemctl <span class="hljs-built_in"><span class="hljs-built_in">status</span></span> docker</code> </pre> <br><p>  Docker should return the results of the work. </p><br><pre> <code class="hljs ruby">‚óè docker.service ‚Äì Docker Application Container Engine <span class="hljs-symbol"><span class="hljs-symbol">Loaded:</span></span> loaded (<span class="hljs-regexp"><span class="hljs-regexp">/lib/systemd</span></span><span class="hljs-regexp"><span class="hljs-regexp">/system/docker</span></span>.service; enabled; vendor <span class="hljs-symbol"><span class="hljs-symbol">preset:</span></span> enabled) <span class="hljs-symbol"><span class="hljs-symbol">Active:</span></span> active (running) since Sun <span class="hljs-number"><span class="hljs-number">2018</span></span>-<span class="hljs-number"><span class="hljs-number">01</span></span>-<span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">42</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">17</span></span> CET; <span class="hljs-number"><span class="hljs-number">4</span></span>h <span class="hljs-number"><span class="hljs-number">46</span></span>min ago <span class="hljs-symbol"><span class="hljs-symbol">Docs:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/docs.docker.com Main PID: 2156 (dockerd) Tasks: 26 Memory: 63.0M CPU: 1min 57.541s CGroup: /system</span></span>.slice/docker.service ‚îú‚îÄ<span class="hljs-number"><span class="hljs-number">2156</span></span> /usr/bin/dockerd -H <span class="hljs-symbol"><span class="hljs-symbol">fd:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/ ‚îî‚îÄ2204 docker-containerd --config /var</span></span><span class="hljs-regexp"><span class="hljs-regexp">/run/docker</span></span><span class="hljs-regexp"><span class="hljs-regexp">/containerd/containerd</span></span>.toml</code> </pre><br><p>  If system services are stopped, run a combo of two commands to deploy the Docker and make sure that it starts at boot. </p><br><pre> <code class="hljs pgsql">$ sudo systemctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> docker &amp;&amp; sudo systemctl <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> docker</code> </pre> <br><p>  For a basic Docker installation, you need to run the <code>docker</code> as <code>sudo</code> .  But if you add a user to the <code>docker</code> group, you can run the command without <code>sudo</code> . </p><br><pre> <code class="hljs ruby">$ sudo usermod -aG docker ${USER} $ su - ${USER}</code> </pre> <br><p>  Running the commands will add the user to the <code>docker</code> group.  To check this, run <code>$ id -nG</code> .  If you return to the output device with your username in the list, everything is done correctly. </p><br><p>  What about Mac and Windows?  Fortunately, installation is just as easy.  Download the simple file that runs the installation wizard.  Nothing is easier.  Look <a href="https://docs.docker.com/docker-for-mac/install/">here</a> for the installation wizard for Mac and <a href="https://docs.docker.com/docker-for-windows/install/">here</a> for Windows. </p><br><h2 id="razvertyvanie-konteynera">  Container Deployment </h2><br><p>  After deploying and running Docker, we can experiment a bit.  The first four teams that need to be put to work: </p><br><ul><li>  <strong>create</strong> - creates a container from the image; </li><li>  <strong>ps</strong> - a list of running containers is displayed, optionally the <code>-a</code> flag for the list of all containers; </li><li>  <strong>start</strong> - launch of the created container; </li><li>  <strong>attach</strong> - attaches the standard input and output of the terminal to a running container, literally connecting you to the container, just like any virtual machine. </li></ul><br><p>  Let's start small.  Take the Ubuntu image from Docker Hub and create a container from it. </p><br><pre> <code class="hljs pgsql">$ docker <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> -it ubuntu:<span class="hljs-number"><span class="hljs-number">16.04</span></span> bash</code> </pre> <br><p>  We add <code>-it</code> as an optional function to give the container an integrated terminal.  We can connect to the terminal, as well as run the <code>bash</code> command.  By specifying <code>ubuntu: 16.04</code> , we get an Ubuntu image with a version tag 16.04 from the Docker Hub. </p><br><p>  After running the create command, make sure the container is created. </p><br><pre> <code class="hljs ruby">$ docker ps -a</code> </pre> <br><p>  The list should look something like this. </p><br><pre> <code class="hljs swift"><span class="hljs-type"><span class="hljs-type">CONTAINER</span></span> <span class="hljs-type"><span class="hljs-type">ID</span></span> <span class="hljs-type"><span class="hljs-type">IMAGE</span></span> <span class="hljs-type"><span class="hljs-type">COMMAND</span></span> <span class="hljs-type"><span class="hljs-type">CREATED</span></span> <span class="hljs-type"><span class="hljs-type">STATUS</span></span> <span class="hljs-type"><span class="hljs-type">PORTS</span></span> <span class="hljs-type"><span class="hljs-type">NAMES</span></span> 7643dba89904 ubuntu:<span class="hljs-number"><span class="hljs-number">16.04</span></span> <span class="hljs-string"><span class="hljs-string">"bash"</span></span> <span class="hljs-type"><span class="hljs-type">X</span></span> <span class="hljs-built_in"><span class="hljs-built_in">min</span></span> ago <span class="hljs-type"><span class="hljs-type">Created</span></span> name</code> </pre> <br><p>  Container created and ready to run.  Starting a container is simple: set the <code>start</code> <strong>ID of the container</strong> . </p><br><pre> <code class="hljs pgsql">$ docker <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-number"><span class="hljs-number">7643</span></span>dba89904</code> </pre> <br><p>  Check again whether the container is running, but now without the <code>-a</code> flag. </p><br><pre> <code class="hljs ruby">$ docker ps</code> </pre> <br><p>  If running, join it. </p><br><pre> <code class="hljs ruby">$ docker attach <span class="hljs-number"><span class="hljs-number">7643</span></span>dba89904</code> </pre> <br><p>  Cursor is changing.  Why?  Because you just entered the container.  Now you can run any bash command that you are used to in Ubuntu, as if it were an instance running in the cloud.  Try it. </p><br><pre> <code class="hljs mel">$ <span class="hljs-keyword"><span class="hljs-keyword">ls</span></span></code> </pre> <br><p>  Everything will work fine, and even <code>$ ll</code> .  A simple Docker container is all you need.  This is your own little virtual platform where you can develop, test or whatever you want!  No need to use virtual machines or heavy software.  To test my point, install something in this small container.  The Node installation will go well.  If you want to exit the container, enter <code>exit</code> .  The container will stop and you can display the list by typing <code>$ docker ps -a</code> . </p><br><p>  <em><strong>Note.</strong></em>  <em>Each Docker container runs as <code>sudo</code> by default, that is, the <code>sudo</code> does not exist.</em>  <em>Each command executed is automatically run with <code>sudo</code> privileges.</em> </p><br><h3 id="realnyy-scenariy">  Real script </h3><br><p>  Time to work with this material.  This is what you will use in real life for your projects and production applications. </p><br><h2 id="konteynery-ili-protokol-bez-sohraneniya-sostoyaniya">  Containers or protocol without saving state? </h2><br><p>  I mentioned above that each container is isolated and does not save state.  This means that after removing a container, its contents will be permanently deleted. </p><br><pre> <code class="hljs ruby">$ docker rm <span class="hljs-number"><span class="hljs-number">7643</span></span>dba89904</code> </pre> <br><p>  How do you save data in this case? </p><br><p>  Have you ever heard of toms?  Volumes allow you to map directories on the main machine with directories inside the container. </p><br><pre> <code class="hljs ruby">$ docker create -it -v $(pwd)<span class="hljs-symbol"><span class="hljs-symbol">:/var/www</span></span> <span class="hljs-symbol"><span class="hljs-symbol">ubuntu:</span></span>latest bash</code> </pre> <br><p>  When creating a new container, add the <code>-v</code> flag to indicate which volume to create.  This command will bind the current working directory on the computer to the <code>/ var / www</code> directory inside the container. </p><br><p>  After starting the container with the <code>$ docker start &lt;container_id&gt;</code> you can edit the code on the host machine and see the changes in the container.  Now you can save data for various use cases - from image storage to database file storage - and, of course, for development, where you need live-restart capabilities. </p><br><p>  <em><strong>Note.</strong></em>  <em>You can run the create and start commands at the same time as the run command.</em> </p><br><pre> <code class="hljs ruby">$ docker run -it -d <span class="hljs-symbol"><span class="hljs-symbol">ubuntu:</span></span><span class="hljs-number"><span class="hljs-number">16.04</span></span> bash</code> </pre> <br><p>  <em><strong>Note.</strong></em>  <em>The only addition is the -d flag, which tells the container to work separately, in the background.</em> </p><br><h2 id="pochemu-ya-tak-mnogo-govoryu-o-tomah">  Why do I talk so much about volumes? </h2><br><p>  We can create a simple nginx web server to host a static website in a couple of easy steps. </p><br><p>  Create a new directory, name it whatever you want, I'll call my <strong>myapp</strong> for convenience.  All you need is to create a simple <strong>index.html</strong> file in the <strong>myapp directory</strong> and paste it. </p><br><pre> <code class="hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- index.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">integrity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ=="</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">crossorigin</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"anonymous"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Docker Quick Start<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Hello Docker<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>This means the nginx server is working.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> = "stylesheet" integrity = "sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc = sha512-dTfge / zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz / ixG7ArTxmDjLXDmezHubeNikyKGVyQ == <code class="hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- index.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">integrity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ=="</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">crossorigin</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"anonymous"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Docker Quick Start<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Hello Docker<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>This means the nginx server is working.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  We have a common web page with the text of the title.  It remains to run the container nginx. </p><br><pre> <code class="hljs ruby">$ docker run --name webserver -v $(pwd)<span class="hljs-symbol"><span class="hljs-symbol">:/usr/share/nginx/html</span></span> -d -p <span class="hljs-number"><span class="hljs-number">8080</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">80</span></span> nginx</code> </pre> <br><p>  We capture the nginx image from Docker Hub for instant nginx configuration.  The configuration of the volumes is similar to what we did above.  We pointed to the default directory where nginx places HTML files.  New is the <code>--name</code> parameter that we set for the <code>webserver</code> and <code>-p 8080: 80</code> .  We compared the <strong>container port 80</strong> with the <strong>port 8080 on the main</strong> machine.  Remember to run the command in the <strong>myapp directory</strong> . </p><br><p>  Check if the container is working with <code>$ docker ps</code> and a browser window is launched.  Go to <code>http: // localhost: 8080</code> . </p><br><p><img src="https://habrastorage.org/webt/ue/ih/u0/ueihu0qtklpz1hg9ang5crw46dm.png"></p><br><p>  We have a nginx web server running in just a couple of commands.  Edit in <strong>index.html</strong> as you need.  Reload the page and see that the content has changed. </p><br><p>  <em><strong>Note.</strong></em>  <em>You can stop a running container with the stop command.</em> </p><br><pre> <code class="hljs sql">$ docker <span class="hljs-keyword"><span class="hljs-keyword">stop</span></span> &lt;container_id&gt;</code> </pre> <br><h2 id="kak-sdelat-zhizn-esche-prosche">  How to make life even easier? </h2><br><p>  There is a saying: if you need to do something twice, automate.  Fortunately, Docke took care of that.  Add a <strong>Docker</strong> file along with the <strong>index.html</strong> file.  Its name is <strong>Dockerfile</strong> , without any extensions. </p><br><pre> <code class="hljs pgsql"># Dockerfile <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> nginx:alpine VOLUME /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/nginx/html EXPOSE <span class="hljs-number"><span class="hljs-number">80</span></span></code> </pre> <br><p>  <strong>Dockerfile</strong> - build configuration for Docker images.  The focus is on <strong>images</strong> !  We indicate that we want to capture the nginx: alpine image as the basis for our image, create a volume and set port 80. </p><br><p>  To create an image, we have the `build 'command. </p><br><pre> <code class="hljs ruby">$ docker build . -t <span class="hljs-symbol"><span class="hljs-symbol">webserver:</span></span>v1</code> </pre> <br><p> <code>.</code>  indicates where the Docker file will be used to build the image, and <code>-t</code> marks the tag for the image.  The image will be known as <code>webserver:v1</code> . </p><br><p>  With this command, we didn‚Äôt extract the image from the Docker Hub, but instead created our own.  To view all images, use the <code>images</code> command. </p><br><pre> <code class="hljs ruby">$ docker images</code> </pre> <br><p>  Run the created image. </p><br><pre> <code class="hljs ruby">$ docker run -v $(pwd)<span class="hljs-symbol"><span class="hljs-symbol">:/usr/share/nginx/html</span></span> -d -p <span class="hljs-number"><span class="hljs-number">8080</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-symbol"><span class="hljs-symbol">webserver:</span></span>v1</code> </pre> <br><p>  The strength of the Dockerfile is an add-on that you can provide to the container.  You can pre-create images to your liking, and if you don‚Äôt like repetitive tasks, then take another step and install <a href="https://docs.docker.com/compose/">docker-compose</a> . </p><br><h2 id="docker-compose">  Docker-compose? </h2><br><p>  Docker-compose allows you to create and run a container from a single command.  But more importantly, you can build a whole cluster of containers and customize them using docker-compose. </p><br><p>  Go to the install page and install docker-compose on the computer. </p><br><p>  <a href="https://docs.docker.com/compose/install/">Install Docker Compose</a> <br>  Back in the device, run <code>$ docker-compose --version</code> .  We will deal with some compositions. <br>  Along with Dockerfile, add another file called <strong>docker-compose.yml</strong> and paste this snippet. </p><br><pre> <code class="hljs pgsql"># docker-compose.yml <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-string"><span class="hljs-string">'2'</span></span> services: webserver: build: . ports: - "8080:80" volumes: - .:/usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/nginx/html</code> </pre> <br><p>  Be careful with indents, otherwise * docker-compose.yml ** will not work properly.  It remains only to run it. </p><br><pre> <code class="hljs ruby">$ docker-compose up (-d)</code> </pre> <br><blockquote>  <strong>Note</strong>  The docker-compose <code>-d</code> command argument is used to run in the detached state, using you can run <code>$ docker-compose ps</code> to see what is currently running, or to stop containers using the <code>$ docker-compose stop</code> . </blockquote><p>  Docker will collect the image from the <strong>Dockerfile</strong> in the current directory ( <code>.</code> ), Display the ports, as we did above, and also ‚Äúfumble‚Äù the volumes.  See what happens!  Same as we did with the build and run commands.  Now instead of them we execute only one <code>docker-compose up</code> . <br>  Return to the browser, and you will see that everything works the same as before.  The only difference is that now there is no need for tedious command writing in the terminal.  We replaced them with two configuration files - <code>Dockerfile</code> and <code>docker-compose.yml</code> .  Both of these files can be added to your Git repository.  Why is it important?  Because they will always work in production correctly, as expected.  Exactly the same container network will be deployed on the production server! <br>  To finish this section, go back to the console and review the list of all containers again. </p><br><pre> <code class="hljs ruby">$ docker ps -a</code> </pre> <br><p>  If you want to remove the container, you can run the <code>rm</code> command, which I mentioned above.  To delete images, use the <code>rmi</code> command. </p><br><pre> <code class="hljs xml">$ docker rmi <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image_id</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Try not to leave leftover containers and remove them if you no longer need them. </p><br><h3 id="bolee-shirokaya-perspektiva">  Broader perspective? </h3><br><p>  After making sure that Docker is not the only technology for creating containers, I should definitely mention less popular technologies.  Docker is just the most common containerization option.  But it seems that <a href="https://github.com/rkt/rkt">rkt</a> also works great. </p><br><p>  Digging deeper, I have to mention container orchestration.  We talked only about the tip of the iceberg.  Docker-compose is a tool for creating container networks.  But when it becomes necessary to manage large volumes of containers and ensure maximum uptime, orchestration comes into play. </p><br><p>  Managing a large cluster based container is not a trivial task.  As the number of containers grows, we need a way to automate various DevOps tasks we usually do.  Orchestration is what helps in creating hosts, creating or removing containers, when you need to scale or recreate dropped containers, network containers, and more.  And here the following tools come to the rescue: <a href="https://kubernetes.io/">Google's Kubernetes</a> and Docker's own development, <a href="https://docs.docker.com/engine/swarm/swarm-tutorial/">Swarm Mode</a> . </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  If I didn‚Äôt convince you of the tremendous benefits of using CaaS and the simplicity of Docker, I would strongly recommend reviewing and transferring one of your existing applications to the Docker container! </p><br><blockquote>  The Docker Container is a tiny virtual machine where you can do everything you like, from development, installation, testing to hosting production applications. </blockquote><p>  Docker homogeneity is similar to magic for production environments.  This will facilitate application deployment and server management.  Because now you know for sure: what works locally will work in the cloud.  This is what I call peace.  No one else will hear the infamous sentence that we have all heard too many times. </p><br><blockquote>  Well, it works on my car ... </blockquote><p>  Source: <a href="https://blog.sourcerer.io/a-crash-course-on-docker-learn-to-swim-with-the-big-fish-6ff25e8958b0">A crash course on Docker - Learn to swim with the big fish</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/350184/">https://habr.com/ru/post/350184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350174/index.html">Collaboration Visual Studio Code and Anaconda</a></li>
<li><a href="../350176/index.html">Who needs an architect?</a></li>
<li><a href="../350178/index.html">The obvious benefit: how and why to use the service approach beyond IT (Part 3)</a></li>
<li><a href="../350180/index.html">The Internet of Things: From Designing a Backend to Energy Absorption</a></li>
<li><a href="../350182/index.html">Experience of using the Puniverse Quasar library for actors</a></li>
<li><a href="../350186/index.html">What I miss from Rust in C</a></li>
<li><a href="../350188/index.html">ASP.NET Core: Attack Prevention Mechanisms 2.0</a></li>
<li><a href="../350192/index.html">Deep learning in the cloud: optical computers will replace the GPU</a></li>
<li><a href="../350194/index.html">Antivirus usability on the phone</a></li>
<li><a href="../350198/index.html">Basics of cryptography. Part 0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>