<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reducing the processor load in Adobe AIR</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Reducing the processor load in Adobe AIR 

 Let's be honest. AIR is often scolded for exorbitant consumption of RAM and processor resources when used ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reducing the processor load in Adobe AIR</h1><div class="post__text post__text-html js-mediator-article"><br>  <strong>Reducing the processor load in Adobe AIR</strong> <br><br>  Let's be honest.  AIR is often scolded for exorbitant consumption of RAM and processor resources when used in real time.  In spite of the fact that many programs written on AIR sin with this, these problems can be avoided.  There are several techniques that allow you to write more "light" programs that are superior to others written by standard means in terms of performance. <br><br>  One of the easiest ways to dramatically reduce the CPU load is based on changing the frequency of window updates per second (Framerate Throttling).  In this article, I will explain the framerate method and show how best to use this method in your programs. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <em>Note: To use this method, you must have basic concepts about ActionScript and AIR programming.</em> <br><br>  <strong>What is Framerate Throttling?</strong> <br><br>  Slowdown framerate'ov is a technique that allows you to control the framerate'y program, which, in turn, allows to increase its performance when using (Active) and reduce the amount of consumed resources when it is not used (Idle).  As in ActionScript 3, developers have an unusually useful line of code at their disposal - <code>Stage.frameRate</code> .  It allows you to change the number of updates to the program window per second on the fly.  In previous versions of ActionScript, we had significant problems with the implementation of this feature in the integrated development environment (IDE).  Fortunately, times have changed and now complex programs do not "hang", lingering in the computer's memory in the background. <br><br>  <strong>How to use Framerate Throttling?</strong> <br><br>  Since this technique is entirely based on changing the parameters of Stage.frameRate in the direction of a greater or lesser magnitude, the setting and improvement of performance in general depend solely on the developer.  However, it also depends on the program itself - some of them allow using this technique more effectively than others. <br><br>  <em>Note: Performance is measured on a Macbook Pro 2.8 GHz Intel Core 2 Duo using the following code samples and expressed as a percentage.</em>  <em>Naturally, the results will vary depending on the configuration of the machine.</em> <br><br><a name="habracut"></a><br>  <strong>"Newbie"</strong> <br><br>  The easiest way to use the framerate easing technique is <code>NativeApplication</code> <code>Event.ACTIVATE</code> and <code>Event.DEACTIVATE</code> ; these events increase the number of framerates when the program is used (Active) and decreases when it is inactive (Idle).  With a single empty window, the results showed a processor load of 1.8% in usage mode and 0.4% in idle mode.  In general, you can set the frequency of updating the program window to 0.01 or turn it off, then the program takes only 0.2% of the total CPU load, while I found out that the chrome window does not lose focus. <br><br> <code>package { <br> import flash.desktop.NativeApplication; <br> import flash.display.Sprite; <br> import flash.events.Event; <br> <br> public class Application extends Sprite { <br> public function Application () { <br> __init (); <br> } <br> <br> private function __init ():void { <br> NativeApplication.nativeApplication.addEventListener <br> (Event.ACTIVATE, __activate__); <br> NativeApplication.nativeApplication.addEventListener <br> (Event.DEACTIVATE, __deactivate__); <br> } <br> <br> private function __activate__ <br> ($event:Event):void { <br> stage.frameRate = 50; <br> } <br> private function __deactivate__ ($event:Event):void { <br> stage.frameRate = 1; <br> } <br> } <br> }</code> <br> <br>  <strong>"Advanced"</strong> <br><br>  Certain programs make it possible to more effectively use the technique of slowing down framerates.  For example, a program that needs some level of interaction, even in the background.  A program that has scrollable content with links, so AIR allows the mouse to scroll through the contents of the program when it is active, which in turn means that you currently need a higher framerate value. <br><br>  In this example, if the program is in the background, but the mouse scrolls the contents of the program, MouseEvent.MOUSE_WHEEL increases the framerate and sets the Event.ENTER_FRAME event, which reduces the framerate by half a second after scrolling.  In cases similar to this, the use of a buffer will be the best choice, which will make it possible not to change the framerate every time with each scrolling, and also because then there will be no event for the moment when the mouse wheel is in idle mode. <br><br><br> <code>package { <br> import flash.desktop.NativeApplication; <br> import flash.display.Sprite; <br> import flash.events.Event; <br> import flash.events.MouseEvent; <br> import flash.utils.getTimer; <br> <br> public class Application extends Sprite { <br> public static const ACTIVE:int = 50; <br> public static const INACTIVE:int = 1; <br> <br> public var active:Boolean; <br> public var scrolling:Boolean; <br> public var buffer:int; <br> <br> public function Application () { <br> __init (); <br> } <br> <br> private function __init ():void { <br> NativeApplication.nativeApplication.addEventListener <br> (Event.ACTIVATE, __activate__); <br> NativeApplication.nativeApplication.addEventListener <br> (Event.DEACTIVATE, __deactivate__); <br> stage.addEventListener <br> (MouseEvent.MOUSE_WHEEL, __mouseWheel__); <br> } <br> <br> private function __activate__ ($event:Event):void { <br> active = true; <br> stage.frameRate = ACTIVE; <br> } <br> private function __deactivate__ ($event:Event):void { <br> active = false; <br> stage.frameRate = INACTIVE; <br> } <br> private function __mouseWheel__ ($event:MouseEvent):void { <br> if (!active) { <br> if (!scrolling) { <br> stage.addEventListener <br> (Event.ENTER_FRAME, __enterframe__); <br> } <br> stage.frameRate = ACTIVE; <br> scrolling = true; <br> buffer = getTimer () + 500; <br> } <br> } <br> private function __enterframe__ <br> ($event:Event):void { <br> if (buffer &lt; getTimer ()) { <br> stage.frameRate = INACTIVE; <br> scrolling = false; <br> stage.removeEventListener <br> (Event.ENTER_FRAME, __enterframe__); <br> } <br> } <br> } <br> }</code> <br> <br>  <strong>"Expert"</strong> <br><br>  If optimization is the meaning of your life, then you can surprise your friends with complex manipulations with slowing down the number of framerates.  (Note: this will not impress your girlfriend). <br><br>  In my programs, I like to make the transitions from one window state to another smooth and more aesthetic.  Therefore, I use a high number of framerates - 50. Unfortunately, such a large number leads to a heavy load on the CPU.  Therefore, I set framerate 50 only when moving elements \ windows.  After the end of the movement, I reduce the number of framerates to 24. There are cases when the loader plays the animation, while the program itself is in the background.  The loader doesn't need 50 fps, so I set the framerate number to 5 when the program is visible in the background and I set 1 when not visible. <br><br>  Note: for this example, I use <code>animate()</code> to call at the beginning of each movement.  You may want to integrate your own fps retarder into your tweet engine, so you will no longer need to manually call <code>animate()</code> . <br> <code><br> package { <br> import flash.desktop.NativeApplication; <br> import flash.display.Sprite; <br> import flash.events.Event; <br> import flash.utils.getTimer; <br> <br> public class Application extends Sprite { <br> public static const ANIMATING:int = 50; <br> public static const ACTIVE:int = 24; <br> public static const INACTIVE_VISIBLE:int = 5; <br> public static const INACTIVE_INVISIBLE:int = 1; <br> <br> public var active:Boolean; <br> public var animating:Boolean; <br> public var buffer:int; <br> <br> public function Application () { <br> __init (); <br> } <br> <br> private function __init ():void { <br> NativeApplication.nativeApplication.addEventListener <br> (Event.ACTIVATE, __activate__); <br> NativeApplication.nativeApplication.addEventListener <br> (Event.DEACTIVATE, __deactivate__); <br> } <br> <br> public function activate ():void { <br> if (!animating) { <br> stage.frameRate = ACTIVE; <br> } <br> } <br> public function deactivate ():void { <br> if (!animating) { <br> stage.frameRate = (stage.nativeWindow.visible) ? <br> INACTIVE_VISIBLE : INACTIVE_INVISIBLE; <br> } <br> } <br> public function animate ($duration:int = 1000):void { <br> stage.frameRate = 50; <br> buffer = getTimer () + $duration; <br> animating = true; <br> <br> if (!animating) { <br> stage.addEventListener (Event.ENTER_FRAME, __checkBuffer__); <br> } <br> } <br> <br> private function __activate__ ($event:Event):void { <br> active = true; <br> activate (); <br> } <br> private function __deactivate__ ($event:Event):void { <br> active = false; <br> deactivate (); <br> } <br> private function __checkBuffer__ ($event:Event):void { <br> if (buffer &lt; getTimer ()) { <br> stage.removeEventListener <br> (Event.ENTER_FRAME, __checkBuffer__); <br> animating = false; <br> if (active) { <br> activate (); <br> } else { <br> deactivate (); <br> } <br> } <br> } <br> } <br> }</code> <br> <br>  Slowing framerate'ov only a small chapter in the optimization of your program, written in AIR.  But these are the basics of optimization, and the use of this technique will lead you to the optimal use of computer resources when writing programs.  Agree, no one likes cumbersome and inconvenient programs. <br><br>  <strong>about the author</strong> <br><br>  Johnny is an experienced Adobe XDCE team designer.  Before joining Adobe, he developed AIR programs such as DestroyFlickr and DestroyTwitter in his free time for entertainment.  He also has his own blog, ‚ÄúDestroy Today,‚Äù which has become an opportunity for him to share his findings in programming with others.  Oddly enough, after all, Johnny received a Bachelor in the College of Art at the Institute of Maryland. <br><br>  The original text in English is here: <br>  <a href="http://www.adobe.com/devnet/air/flex/articles/framerate_throttling.html">www.adobe.com/devnet/air/flex/articles/framerate_throttling.html</a> </div><p>Source: <a href="https://habr.com/ru/post/91961/">https://habr.com/ru/post/91961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../91949/index.html">5 popular errors in program interfaces</a></li>
<li><a href="../91952/index.html">WineGame 0.0.1 RC</a></li>
<li><a href="../91953/index.html">The C language creator will have to pass a knowledge test</a></li>
<li><a href="../91954/index.html">Guess browser by icon</a></li>
<li><a href="../91960/index.html">New video of the robo-ant A-Pod</a></li>
<li><a href="../91963/index.html">Convert video to Ogg Theora. UNIX Way</a></li>
<li><a href="../91964/index.html">Hackathon at iPaddevcamp, San Jose, CA we are going to make similar in Ukraine</a></li>
<li><a href="../91965/index.html">The first HS video from the N97, working on the Nokia 5800</a></li>
<li><a href="../91966/index.html">Photo report: Russia's first 3D LED TV rolled off the assembly line at SERK, April 23, 2010</a></li>
<li><a href="../91967/index.html">Who are you, Mr. Noob? Or an attempt to classify newcomers living on the Internet according to their way of asking questions! (Part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>