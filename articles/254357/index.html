<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Basket for product catalog (minibasket.js)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, once again there was a problem to improve the usability of the product catalog. The customer did not need the full functionality of the onli...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Basket for product catalog (minibasket.js)</h1><div class="post__text post__text-html js-mediator-article">  Recently, once again there was a problem to improve the usability of the product catalog.  The customer did not need the full functionality of the online store, but the ability for users to put the goods in the basket turned out to be extremely necessary.  Still, the customer sells spare parts for cars and the user is extremely inconvenient by phone to list the entire list, even by articles. <br><br>  It was decided to introduce an intermediate stage of the order - a basket.  We will do it, naturally, on scripts in order not to become attached to cms (look where it is still useful). <br><br>  The output was a library that allows you to tie such a basket to any site. <br><a name="habracut"></a><br>  <a href="https://github.com/seokirill/minibasket/">Immediately link to the repository</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, the basket works as soon as you connect it, the only thing you need is to specify the selectors: <br>  The layout is different for everyone, so you need to specify which button initiates the addition to the basket, where the price is, where the name and quantity are: <br><br><pre><code class="javascript hljs">$(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> minibasket = { <span class="hljs-attr"><span class="hljs-attr">selector</span></span>: { <span class="hljs-attr"><span class="hljs-attr">item</span></span>: <span class="hljs-string"><span class="hljs-string">'.mb-item'</span></span>, <span class="hljs-attr"><span class="hljs-attr">articul</span></span>: <span class="hljs-string"><span class="hljs-string">'.art'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-string"><span class="hljs-string">'.mb-price .value'</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'.mb-name'</span></span>, <span class="hljs-attr"><span class="hljs-attr">count</span></span>: <span class="hljs-string"><span class="hljs-string">'.mb-num'</span></span>, <span class="hljs-attr"><span class="hljs-attr">toBasketButton</span></span>: <span class="hljs-string"><span class="hljs-string">'#tobasket span'</span></span> }, ......</code> </pre> <br>  At once I will make a reservation that all selectors (except item) should be nested in the block with this item selector, because there can be several items on the page (for example, we deal with a price list). <br><br>  You can also override the messages: <br><br><pre> <code class="javascript hljs">....... msg: { <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-string"><span class="hljs-string">"  .&lt;br&gt;      !"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidTel</span></span>: <span class="hljs-string"><span class="hljs-string">'  '</span></span>, <span class="hljs-attr"><span class="hljs-attr">re</span></span>: <span class="hljs-string"><span class="hljs-string">' ?'</span></span>, <span class="hljs-attr"><span class="hljs-attr">wrongOrder</span></span>: <span class="hljs-string"><span class="hljs-string">'          .'</span></span>, <span class="hljs-attr"><span class="hljs-attr">empty</span></span>: <span class="hljs-string"><span class="hljs-string">'  :('</span></span> }, ......</code> </pre><br>  For more customization, you can add your own script that will initiate adding to the basket (add () method): <br><br><pre> <code class="javascript hljs"> add: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">articul,price,name,num</span></span></span><span class="hljs-function">)</span></span>{ .....</code> </pre><br><br>  If such a product is already in the basket, then the quantity and price increase.  A double with the same name is not created. <br><br>  Accordingly, the remove () method removes the item from the basket.  The DOM item in the basket is taken as a parameter: <br><pre> <code class="javascript hljs"> remove: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">obj</span></span></span><span class="hljs-function">)</span></span>{ obj.fadeOut(<span class="hljs-string"><span class="hljs-string">'slow'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ obj.remove(); minibasket.calc(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!minibasket.items.html()) minibasket.items.html(minibasket.msg.empty); localStorage[<span class="hljs-string"><span class="hljs-string">'accept'</span></span>] = <span class="hljs-string"><span class="hljs-string">''</span></span>; minibasket.save(); }); },</code> </pre><br><br>  Clear the basket with the clear () method: <br><br><pre> <code class="javascript hljs"> clear: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.items.html(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.msg.empty); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.calc(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.save(); },</code> </pre><br>  Well, just in case there is a save () method, which you can use if you need to save the changes you made to the contents of the basket with third-party scripts: <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> save = { <span class="hljs-attr"><span class="hljs-attr">tel</span></span>: minibasket.tel.val(), <span class="hljs-attr"><span class="hljs-attr">items</span></span>: minibasket.items.html() } localStorage[<span class="hljs-string"><span class="hljs-string">'minibasket'</span></span>] = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(save);</code> </pre><br>  The init () method is called by default by itself. </div><p>Source: <a href="https://habr.com/ru/post/254357/">https://habr.com/ru/post/254357/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254345/index.html">New in Wolfram Language: WikipediaData feature for integrating with Wikipedia and processing its data</a></li>
<li><a href="../254349/index.html">How the process in Data Science works</a></li>
<li><a href="../254351/index.html">How to catch what is not. Part Three: Who are the judges?</a></li>
<li><a href="../254353/index.html">Optimization Planning with Unity</a></li>
<li><a href="../254355/index.html">All about collections in Oracle</a></li>
<li><a href="../254361/index.html">Indoor "GPS" with an accuracy of -2 cm</a></li>
<li><a href="../254363/index.html">Analysis of the tasks of the first qualifying round of the Russian Code Cup 2015</a></li>
<li><a href="../254365/index.html">Correct insertion of C ++ preprocessor definitions in CMake</a></li>
<li><a href="../254367/index.html">See you at EMC Technology Day # 3</a></li>
<li><a href="../254369/index.html">Savings on printing documents: turnkey solutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>