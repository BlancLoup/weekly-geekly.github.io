<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dragon Bones: 2D character creation and skeletal, mesh animation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, reader! In this article we will look at the process of developing a typical character for our debut Kidarian Adventures. I will demons...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dragon Bones: 2D character creation and skeletal, mesh animation</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, reader!  In this article we will look at the process of developing a typical character for our debut Kidarian Adventures.  I will demonstrate my usual work structure, however, I‚Äôll focus on creating animation in Dragon Bones, attach explanations and self-written video tutorials. <br><br><img src="https://habrastorage.org/webt/z4/oh/3c/z4oh3cksbiqfqhl8zglszppw6mq.jpeg"><a name="habracut"></a><br><br>  So, let's begin. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Current task:</b> Redesign of the outdated model of a standard flying monster six months ago.  The bat did not have time for our skill and became irrelevant within the chosen graphic style. <br><br><img src="https://habrastorage.org/webt/gv/yi/ve/gvyivesqsfhggjgi73y_tjqwciw.png" alt="image"><br>  <i>Model that we will redo</i> <br><br>  At a minimum, our task is initially slightly simplified: no need to look for a concept for a character, but, nevertheless, the work will be done almost from zero. <br><br><h2>  Stage 1: Work with references </h2><br>  Among people who produce graphic content, nothing is taken from scratch.  I never believed those people who, sitting on a chair, shout: ‚ÄúO inspiration!‚Äù, And masterpieces begin to daub. <br><br>  And this is the simplest explanation: ‚ÄúDamn, my mouse is so stupid, because I don‚Äôt even know what the bats look like!  Without references, I just drew a ball with wings! ‚Äù. <br><br>  So, open up Google and begin to ‚Äúget inspired‚Äù by real bats, the structure of their bodies and their muzzles.  Let us analyze the structure by example: <br><br><img src="https://habrastorage.org/webt/dd/zz/bc/ddzzbcxoukh9lcbcwaxa9qycsrk.png" alt="image"><br><br>  I am determined with the general forms and proportions.  I begin to notice the features of the structure and mounting of the wings.  Wings are a skeleton with stretched membranes.  There are small legs and big ears.  And if everything is clear with the body (although in the previous version I managed to draw the wings upside down), then with the muzzle of bats everything is much more complicated, and they often look well ... not so much. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ct/ud/pg/ctudpgi_tvyhf6debzwu0m2tiow.png" alt="image"></div><br><br><h2>  Stage 2: Outline </h2><br>  Once you have determined the correct anatomy, you can proceed to visualization.  I tried to use different forms of the body, giving them a slightly more grotesque look, like flying devils or large animals.  As a result, I came to the conclusion to use the original plan with a small body, legs at the back and large wings. <br><br><img src="https://habrastorage.org/webt/nw/fg/hp/nwfghp3mejdvoijes1hazzj34lq.png" alt="image"><br>  <i>Several working options</i> <br><br><img src="https://habrastorage.org/webt/ge/ak/z_/geakz_oeeemvkq26g7n6opf6z_c.gif" alt="image"><br>  <i>A brief excerpt from the process</i> <br><br><h2>  Stage 2: Rendering / Vectoring </h2><br>  After sketching and approving the final result, I turn to Adobe Illustrator.  Images are drawn in a vector - it always makes it easy to set the desired size without losing quality.  It is worth noting that as a result, I upload a bitmap image in the .png format.  As additional materials for different game levels, the bat will have two color schemes for different levels. <br><br><img src="https://habrastorage.org/webt/jp/sk/8u/jpsk8u6uouubt4ldnrklzcqoyh4.png" alt="image"><br><br><h2>  Stage 3. Animation </h2><br>  Animate will be in Dragon Bones.  This is a free Chinese equivalent of Spine, providing a clear interface and the possibility of skeletal and mesh animation.  Dragon bones is free and can be downloaded from the <a href="http://www.dragonbones.com/en/index.html">office.</a>  <a href="http://www.dragonbones.com/en/index.html">site.</a> <br><br>  Unfortunately now the community of this software is not too wide, and even in English there are not many tutorials, basically all the information is in Chinese. <br><br>  The first step that should be done is to cut the model so that each moving part is separate.  Save pictures in .png format and no background. <br><br><img src="https://habrastorage.org/webt/ps/hh/nx/pshhnx8-1frfy8wyeaej0b9oydw.png" alt="image"><br><br>  After that we load ready-made .png into DragonBones, we collect according to the idea.  You must also set some parameters.  Draw order is a display by layers, working on the principle of layers in Photoshop.  The higher the object is in the hierarchy, the higher it is above the other layers. (REM. The first in the hierarchy is the farthest). <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/LJlJd5fy2oI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Character build</i> <br><br><img src="https://habrastorage.org/webt/-0/at/rp/-0atrpcvfxbupdhus-zgd5ne9zw.png" alt="image"><br><br>  <i>A brief statement of what is happening on the video above</i> <br><br>  Next, you need to convert objects into a mesh so that you can change their shape as we need.  To do this, select the object on the scene, on the left, put a check mark in front of the mesh, then click on Edit mesh and begin to draw the mesh so that the images are not distorted or cropped anywhere.  Particular attention is paid to stiffeners, such as the bones in the wing, which will bend. <br><br><img src="https://habrastorage.org/webt/3t/i1/gf/3ti1gffvm-lyols8qwxfsocpeku.jpeg" alt="image"><br>  <i>UPD.</i>  <i>For better optimization in game engines, it is recommended to make a minimum of polygons in the model.</i>  <i>As part of the game and the bat, the number of polygons does not greatly affect performance, so I can allow more</i> <br><br>  This operation we are doing with all the parts that will morph.  Basically it is the wings and head.  For the body, only one tick of the mesh will suffice, the grid is not required, since the object will be static. <br><br>  When everything is ready, you can lay the bones.  To do this, use the bone tool (bone) in the top right of the screen.  The initial point is always present on the screen - root. <br>  This is the base bone, to which the whole composition is attached by default, it is the first parent bone.  Bindings to parental bones are indicated by arrows. <br><br><img src="https://habrastorage.org/webt/tr/ha/n2/trhan2tsotmelj3ublzozkeb5r4.jpeg" alt="image"><br><br>  <i>Grid of bones</i> <br><br><img src="https://habrastorage.org/webt/wj/1x/gn/wj1xgnfqcnpitxjcvnothw7hhca.jpeg" alt="image"><br><br>  <i>Deciphering parent bones</i> <br><br>  After laying the bones, you need to tie them to the mesh, to do this, click the Add bones to bind button, select all the bones that belong to the sprite and click the right mouse button, either on an empty part of the screen or on Auto Generate Weight.  The bones will automatically bind to the sprite, they will be given the value of Weight.  The value of Weight or popularly "weight" is responsible for how the bone affects the sprite.  This is important in cases where several bones are simultaneously tied to a single sprite.  Adjustment occurs with the help of sliders that define the ‚Äúarea of ‚Äã‚Äãresponsibility‚Äù of each bone. <br><br><img src="https://habrastorage.org/webt/gg/xc/kq/ggxckqmmnwfkpmdnzgslc7cm-74.jpeg" alt="image"><br><br>  We perform this operation with all the bones and sprites, adjust the weight value when the sprite is incorrectly folded.  When all bones are attached and adjusted, you can proceed directly to animating the object.  For this, I recorded a small video. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Yn3tGKwNlaU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Construction of key frames on the example of the wing</i> <br><br>  Such a mesh animation system is suitable for all moving parts of our bat.  I finish the same for the second wing, slightly add amplitudes for the ears and torso. <br><br><img src="https://habrastorage.org/webt/wa/dj/gv/wadjgv4afghhh4rurnxftjtkcbw.gif" alt="image"><br><br>  <b>TIPS:</b> Some points that may clarify the work, and what I showed: <br><br>  1. Keyframes are created automatically if you have done some kind of action with a bone.  (Provided that the corresponding checkbox is clicked) <br><br><img src="https://habrastorage.org/webt/5j/0c/un/5j0cunzzclggcacd8jtvwzycgq4.png" alt="image"><br><br>  2. With one of the latest versions in Dragon bones separate timelines appeared for variables such as Move, Rotate and Scale.  To force a key point on one of them, click on the checkbox. <br><br><img src="https://habrastorage.org/webt/to/s6/z6/tos6z6zo-wkunbdbnmwed-ztuxg.png" alt="image"><br><br>  3. In order to change the skins for the character, you need to add sprites to the appropriate subfolders (displays).  Previously, they need to be turned into a mesh, draw the mesh and bind the bones, as they did with the main sprites, so that with the same animation, everything is displayed correctly.  To add a sprite, simply drag drag'n'drop into the appropriate section. <br><br><img src="https://habrastorage.org/webt/qv/os/9c/qvos9cgiult2rrxzgq91m44botc.png" alt="image"><br><br>  4. In Dragon Bones there are curves that slightly change the proportions of the animation, delays and accents on some keyframes.  In words, it is difficult to explain how they work, but very clearly it becomes immediately clear what kind of magic tool it is.  IMPORTANT: Each keyframe can hang its own curve, and it will act until the next rule on curvature. <br><br><img src="https://habrastorage.org/webt/b9/sw/ck/b9swck9qclsnvqqn1tz_5sbdcge.png" alt="image"><br><br>  What did we get in the end? <br><br>  It turned out simple animation in two colors. <br><br><img src="https://habrastorage.org/webt/th/ah/qy/thahqywg_eapgsze3-fvrgxxyte.gif" alt="image"><br><br><img src="https://habrastorage.org/webt/qc/8w/1v/qc8w1vj1nwfiifrtj375ggogbsc.gif" alt="image"><br><br>  We can upload the result in various formats that any game engine eats. <br><br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/350254/">https://habr.com/ru/post/350254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350240/index.html">Nine questions about working with memory in V8</a></li>
<li><a href="../350246/index.html">Mikrotik vs Old PC, the problem of choice in a small business</a></li>
<li><a href="../350248/index.html">Heatmap painter</a></li>
<li><a href="../350250/index.html">Rolling Scopes Conference 2018: Woodstock for a front-end developer</a></li>
<li><a href="../350252/index.html">Rich Text Editor development: problems and solutions</a></li>
<li><a href="../350256/index.html">Dovecot and Apache Solr integration</a></li>
<li><a href="../350258/index.html">What is missing in Trello for Agile development and where to look for alternatives?</a></li>
<li><a href="../350260/index.html">End of software engineering and last methodologist</a></li>
<li><a href="../350262/index.html">Native or not? 4 myths about cross-platform development</a></li>
<li><a href="../350266/index.html">We train on cats: modification of collections and tables in iOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>