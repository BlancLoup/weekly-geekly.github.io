<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Full AJAX. Theory and Examples. Chips and features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Due to numerous requests from beginners (and not only) AJAX developers, I decided to allocate some of my time to describe some of the tricks and techn...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Full AJAX. Theory and Examples. Chips and features</h1><div class="post__text post__text-html js-mediator-article">  Due to numerous requests from beginners (and not only) AJAX developers, I decided to allocate some of my time to describe some of the tricks and techniques that I use when building complex, dynamic web applications.  The article is a mixture of theoretical calculations and practical examples. <br><br>  The greatest difficulties in building websites using AJAX arise when implementing the <a href="http://en.wikipedia.org/wiki/AHAH">AHAH (Asynchronous HTML and HTTP)</a> mechanism.  Especially on-the-fly execution of loadable javascript.  There is also a bunch of additional ‚Äúhemorrhoids‚Äù when developing AJAX sites and web applications.  You can read a detailed <a href="http://forum.ztu.edu.ua/showthread.php%3Ft%3D1431">description of some existing problems</a> .  Due to these difficulties, many developers refuse to implement AJAX more intensively. <br><br>  However, few people know that these problems can be solved. <a name="habracut"></a>  Moreover, there are already a number of solutions that make it easy to bypass problem and bottlenecks when developing complex AJAX web applications, as well as dynamically loading HTML pages with embedded scripts. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      One of these solutions is Fullajax, a technology for building websites and web applications using AJAX.  This is a combination of algorithms, approaches, rules and methods for maximizing the full power of AJAX &amp; AHAH.  The technology aims to reduce the complexity and increase the focus of the AJAX application. <br><br>  <a href="http://fullajax.ru/">Fullajax</a> is expressed in a separate independent library.  This is not an analogue of jQuery, Mootools, ExtJS, Prototype, YASS.  However, sharing with modern javascript libraries does not contradict and does not cause conflicts, and on the contrary complements each other.  The library is intended solely for communication.  The whole emphasis is placed on convenience, flexibility and at the same time ease of use of methods and functions for the exchange of data between the client and the server.  In the previously listed libraries there is DOM navigation and manipulation, various visual effects, sets of visual components.  Fullajax doesn't have it all.  But there are other possibilities. <br><br><h3>  List of main features: </h3><ul><li>  implementation of a simple communication interface </li><li>  Fly AJAX (conversion to AJAX "on the fly"), AJAX filter - links and forms according to the specified criteria are automatically converted to AJAX </li><li>  the possibility of indexing by search engines like on a regular website </li><li>  parsing and execution of scripts, links and styles in content dynamically loaded web pages </li><li>  script loading accelerator (accelerator) - parallel loading with sequential use </li><li>  several levels of caching HTML pages, scripts and styles </li><li>  the ability to disable the reinitialization of script functions (re-execution) - improves performance, saves computational resources and RAM </li><li>  support for direct links to ‚ÄúAJAX generated‚Äù web pages </li><li>  Implementing AJAX navigation history (‚ÄúBack‚Äù and ‚ÄúForward‚Äù browser buttons) </li><li>  full document.write and &lt;frameset&gt; processing;  in each stream of dynamically loaded pages </li><li>  support for onload and onunload of the &lt;body&gt; tag and window.onload </li><li>  TITLE changes according to loadable content </li><li>  multithreaded emulation, separate history for each stream </li><li>  correct meter operation </li><li>  banner updates with each update </li><li>  AJAX upload files to the server (upload) without rebooting </li><li>  implementation of a simple event model </li><li>  the ability to use local storage flash storage </li><li>  Two models of HTML pages request - ‚Äúone-to-one‚Äù and ‚Äúone-to-many‚Äù (one request - the answer to many blocks) </li><li>  local file system support </li><li>  the ability to share standard anchors and AJAX links </li></ul><br>  Of course, for one article to talk about everything, especially with examples and in details will not work, as it is expensive and time and the number of letters. <br>  This article will discuss the most important functionality of the library.  It is planned to write a series of articles.  Let's start with the simplest. <br><br><h4>  1. access to the item by id </h4><br><blockquote><code><font color="black">&lt;div id= <font color="#A31515">"my-div"</font> &gt;&lt;/div&gt; <br> &lt;script&gt; <br> id( <font color="#A31515">'my-div'</font> ).innerHTML = <font color="#A31515">'test1'</font> ; <br> <font color="#008000">//</font> <br> SRAX.get( <font color="#A31515">'my-div'</font> ).innerHTML = <font color="#A31515">'test2'</font> ; <br> &lt;/script&gt;</font> <br></code> </blockquote><br><h4>  2. SRAX.onReady - DOM Readiness </h4><br>  The function that is called immediately when the DOM is ready.  Such a function exists in all modern zhabaskriptovy libraries. <blockquote> <code><font color="black">SRAX.onReady( <font color="#0000ff">function</font> (){alert(1)}) <br> <font color="#0000ff">function</font> mytest(){ <br> <font color="#0000ff">document</font> .body.appendChild( <font color="#0000ff">document</font> .cereateElement( <font color="#A31515">'div'</font> )).innerHTML = <font color="#A31515">'New Div'</font> ; <br> } <br> SRAX.onReady(mytest) <br></font></code> </blockquote><br><br>  Now directly on the communication functions. <br>  To work with AJAX requests in the library, two functions dax and hax are implemented. <br><br><h2>  <u>The basic rule is:</u> </h2><ul><li>  for querying textual data, xml, json, and the like, you must use dax ( <b>D</b> ata <b>A</b> ja <b>X</b> ) </li><li>  for html request, you must use hax ( <b>H</b> tml <b>A</b> ja <b>X</b> ) - this method is AHAH support (Asynchronous HTML and HTTP) </li></ul>  It's simple, if you load the HTML code that needs to be inserted into the page, use hax, otherwise dax. <br><br><h4>  3. An example of using dax </h4><br><blockquote> <code><font color="black">dax({url: <font color="#A31515">'myurl'</font> , id: <font color="#A31515">'save-data'</font> , form: <font color="#A31515">'myform'</font> , method: <font color="#A31515">'post'</font> , cb: <font color="#0000ff">function</font> (resp, cbo){ <br> alert(resp.text || resp.xml) <br> }})</font></code> </blockquote> <br><br>  data of all fields (input, textarea, select, ...) from a form where id = 'myform' will be automatically collected and sent to url = myurl by the post method <br><br>  id - defines the internal identifier of the stream, is designed to separate the request streams to the server, two threads (requests) with the same id cannot exist at the same time, the next request cancels the previous one.  Using id also allows you to reuse objects created in memory. <br><br><h5>  List of dax operation options </h5><ul><li>  url / src - request URL </li><li>  id - internal stream id </li><li>  method - the method of requesting data post or get (default) </li><li>  form - form id, form itself, element id or element itself from which parameters must be collected </li><li>  params - the string of parameters that must be included in the request (name = val1 &amp; name = val2) </li><li>  callback / cb - callback function </li><li>  callbackOps / cbo - options that are passed to the callback function </li><li>  destroy - flag of auto deleting process from memory after the request is true or false (by default) </li><li>  anticache / nocache - anti-caching flag true or false (default) </li><li>  async - asynchronous query execution flag true (default) or false </li><li>  xml - XML, emulation of the response, if this parameter is present, the request for data from the server is not performed </li><li>  text - text, response emulation, if this parameter is present, the server does not request data from the server </li><li>  user - username, for connecting requiring the user name </li><li>  pswd - password, for connecting requiring a password </li><li>  headers is an array of headers of {key: value} objects that must be passed to the server.  example -&gt; headers: [{Etag: '123'}, {'Accept-Encoding': 'gzip, deflate'}] </li><li>  loader - loader indicator, if not specified - default loader is used </li><li>  storage - the flag of using local storage is true (by default) or false - it is valid only when SRAX.Storage is connected </li><li>  etag - the flag of using Etag to identify the novelty of data in the local storage true (default) or false - is valid only when SRAX.Storage is connected </li></ul><br><br><h4>  4. hax usage example </h4><br><br>  ~ 70% of all library code is an implementation of hax.  This function performs all the complex operations of processing different variants of HTML code.  You can say hax is a full-fledged core of the analysis and processing of HTML documents.  It automatically selects and applies styles and jabscripts, regulates their loading sequence, manual loading method (via dax) or automatic (returning the loading process to the browser), implementing AJAX navigation history, document.write processing, window.onload, automatic title change, support direct AJAX links, more. <br><br>  Consider the internal hax operation algorithm.  When you receive a html response, the document is analyzed and parsing of styles and scripts.  If styles and external scripts are made, they are automatically recursively reloaded.  Recursive means if inside the reloading scripts, styles are still external links, the process is repeated.  If scripts, styles from another domain, the download process is then given to the browser and the subsequent analysis of such scripts, styles are not performed. <br><br>  To implement a clear and stable work when processing complex HTML pages, an algorithm was developed to control the loadability and sequence of execution of scripts, styles and links, which removes these responsibilities from browsers.  Due to this, a good, stable, and most importantly equally predictable work of AHAH in the main web browsers is implemented. <br><br>  One of the ‚Äústones in sandalwood‚Äù is the joint use of AJAX and document.write.  When document.write appears in scripts, site operation using AJAX (AHAH) is impossible by default.  Since document.write can only be used until the end of the main page output stream.  Otherwise, the page content is simply erased.  In Fullajax, the document.write function is redefined, so that what was intended by the programmer is executed without error.  The algorithm for emulating this function was one of the most difficult moments when developing a library. <br><br>  Also one of the most complicated functionaries of the library is the implementation of cross-browser AJAX navigation history.  In the end, in Fullajax, working with AJAX history comes down to defining one parameter on / off. <br><br><h5>  Examples of working with hax: </h5><br><blockquote> <code><font color="black">hax({url: <font color="#A31515">'index.html'</font> , id: <font color="#A31515">'my-div'</font> })</font></code> </blockquote> <br>  The element with id = 'my-div' will be loaded with the page 'index.html' using AJAX history. <br><br><blockquote> <code><font color="black">hax({url: <font color="#A31515">'index.html'</font> , id: <font color="#A31515">'my-div'</font> , nohistory:1, onload: <font color="#0000ff">function</font> (){ <br> alert( <font color="#A31515">'Hey Bingo!!'</font> ) <br> }})</font></code> </blockquote> <br>  In the element with id = 'my-div' the page 'index.html' will be loaded without using AJAX history, after loading an alert will fly out. <br><br><h5>  List of hax options </h5><ul><li>  url / src - request URL </li><li>  id - the id of the parent element </li><li>  method - the method of requesting data post or get (default) </li><li>  form - form id, form itself, element id or element itself from which parameters must be collected </li><li>  params - the string of parameters that must be included in the request (name = val1 &amp; name = val2) </li><li>  callback / cb - callback function </li><li>  callbackOps / cbo - options that are passed to the callback function </li><li>  nohistory (noHistory) - flag for using AJAX navigation history, default is false - i.e.  history included </li><li>  rc - use (true) or not use (false - by default) correction of relative reference paths </li><li>  overwrite - true or false flag (by default) of overwriting onclick and onsubmit events during Fly AJAX (by default, functions on onclick and onsubmit events are not overwritten, but added) </li><li>  destroy - flag of auto deleting process from memory after the end of the request </li><li>  html - HTML text, response emulation, if this parameter is present, the request for data from the server is not performed </li><li>  anticache / nocache - anti-caching flag true or false (default) </li><li>  startpage - the sign of the first page of the story is true or false (by default) </li><li>  async - asynchronous query execution flag true (default) or false </li><li>  historycache - history cache use flag true or false (USE_HISTORY_CACHE is used by default) </li><li>  seal - ‚Äúisolation‚Äù flag true or false (default) - used to resolve css style conflicts </li><li>  user - username, for connecting requiring the user name </li><li>  pswd - password, for connecting requiring a password </li><li>  headers is an array of headers of {key: value} objects that must be passed to the server.  example -&gt; headers: [{Etag: '123'}, {'Accept-Encoding': 'gzip, deflate'}] </li><li>  add - flag true or false (default), defines the principle of adding loadable content to the parent element: overwriting (false) or adding (true) </li><li>  onload is a function that is called after the content is fully loaded into the item. </li><li>  loader - loader indicator, if not specified - default loader is used </li><li>  notitle - true or false flag (default), disables auto-change of title </li><li>  onerror - a function that is called in case of a content download error. </li><li>  storage - the flag of using local storage is true (by default) or false - it is valid only when SRAX.Storage is connected </li><li>  etag - the flag of using Etag to identify the novelty of data in the local storage true (default) or false - is valid only when SRAX.Storage is connected </li></ul><br><br><h3>  Continuation </h3><br><br>  If God will give time and energy, in the next article (if the topic is interesting to readers), it is planned to highlight a number of issues such as: <br><ul><li>  Filter (Fly AJAX) - principles and examples of automatic "wrapping" of simple links in AJAX links </li><li>  directLink - support direct AJAX links </li><li>  linkEqual - converting AJAX links into a human-friendly view </li><li>  addScript - dynamically add scripts (even with document.write) </li><li>  script loading optimization, Fullajax algorithms with script processing </li><li>  addCss, addStyle - dynamically add styles </li><li>  Storage - Flash-based local storage. </li><li>  Anchor - the ability to share standard anchors and AJAX links (unique development) </li><li>  model2Marker - one-to-many request (one request, auto fill in several different elements) </li><li>  ax family: attributes </li><li>  Effect - a function for applying the effects of updating HTML pages </li><li>  Include - implementation of the &lt;include src = "index.html"&gt; &lt;/ include&gt; tag </li><li>  Uploader - Quasi-AJAX File Uploader </li><li>  addEventsListener - add event model objects to objects </li><li>  Default - default operation parameters </li><li>  advantages and disadvantages of AHAH sites over normal </li></ul><br><br>  All the best, we will write off ... <br><br>  UPD1: Some Case Studies <br>  <a href="http://dreamtravel.ru/">Dream Travel</a> - Travel Company <br>  <a href="http://beta.tooglecms.net/">Tooglecms</a> - the truth is still damp, only the first beta. <br>  <a href="http://www.datamash.us/chips/">Datamash.us</a> - platform widget <br><br>  <a href="http://forum.fullajax.ru/">Forum</a> where you can ask technical questions </div><p>Source: <a href="https://habr.com/ru/post/53831/">https://habr.com/ru/post/53831/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../53817/index.html">Why is elderly email still ideal for working communication?</a></li>
<li><a href="../53820/index.html">We cling healthy ammeters to a PC via Arduino</a></li>
<li><a href="../53821/index.html">In the animal world</a></li>
<li><a href="../53825/index.html">About the letter E</a></li>
<li><a href="../53828/index.html">ARM-based Touch Book netbook</a></li>
<li><a href="../53835/index.html">Giving a T-shirt to a web developer</a></li>
<li><a href="../53838/index.html">Why, sitting at the computer, it is worth a break</a></li>
<li><a href="../53843/index.html">Three-dimensional mobile interface that tracks the movement of the user's eyes</a></li>
<li><a href="../53846/index.html">Debugging Java Servlets</a></li>
<li><a href="../53849/index.html">Cool Penguins - flash drives</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>