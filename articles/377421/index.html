<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Interesting probability theory or how many engines do you need?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In discussing the OTRAG project of the ‚Äúbig stupid carrier‚Äù consisting of a package of simple rockets, the issue of the reliability of such a number o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Interesting probability theory or how many engines do you need?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/e22/947/bf6/e22947bf6a624c959096c0e45a75b081.jpg"><br><br>  In discussing the <a href="http://geektimes.ru/post/246568/">OTRAG</a> project of the <a href="http://geektimes.ru/post/246568/">‚Äúbig stupid carrier‚Äù</a> consisting of a package of simple rockets, the issue of the reliability of such a number of engines was repeatedly raised.  I remembered the sad story of the Soviet H-1 super-heavy rocket, which had 30 engines on the first stage, and which had never reached the end of its work for four flights.  In the commentary, to tell about the theory of probabilities and the calculation of the reliability of a place, there is therefore an interesting story about the number of engines, reliability, combinatorics, and probability theory. <br><a name="habracut"></a><br><h4>  Task one, introductory </h4><br><img src="https://habrastorage.org/files/771/f35/602/771f3560270c4b558dba2f0820e536fa.jpeg"><br><br>  To begin, consider a simple example.  Imagine that we have a rocket.  We can put on it one powerful engine or four medium engine.  All engines reliability 0.9.  That is, if we started these engines 100 times in flight, they worked normally in ~ 90 cases.  In which case our rocket will have higher reliability - on a powerful engine or on medium ones? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The flight of a rocket with one powerful engine will obviously succeed with a probability of <b>0.9</b> . <br>  If for successful flight of a rocket it is necessary that all 4 engines successfully work, then their reliability should be multiplied.  Those. <br><br>  P <sub>success on medium engines</sub> = 0.9 * 0.9 * 0.9 * 0.9 = <b>0.6561</b> <br><br>  It turns out that, out of 100 launches, the rocket will reach 90 cases on one powerful engine, and only 66 cases on four medium ones.  It would seem that OTRAG with 64 blocks for outputting 1 ton to orbit is doomed.  However, not all so simple.  And if we take four engines with the same reliability, but such a burden, that three of four engines will suffice for successful launch into orbit?  How to calculate the reliability in this case? <br>  In this case, the probability of a successful flight will be calculated as follows: <br>  First, with a probability of 0.9 <sup>4</sup> = 0.6561, all four engines will work fine. <br>  The event ‚Äúthis engine failed, and the rest worked fine‚Äù has a probability of 0.1 * 0.9 <sup>3</sup> .  Since there are only 4 engines, you need to multiply the probability of this event by 4: <br>  4 * 0.1 * 0.9 <sup>3</sup> = 0.2916 <br>  The events ‚Äúall engines worked fine‚Äù and ‚Äúone engine failed‚Äù cannot occur simultaneously and are included in the full group of possible outcomes, so we can add them to calculate the probability of a successful outcome: <br><br>  P <sub>success on medium engines with the possibility of a single failure</sub> = 0.6561 + 0.2916 = <b>0.9477</b> <br><br>  This is how, one redundant engine made our rocket much more reliable.  We continue our calculations further.  But what if our "medium" engines became so powerful that even in the case of two failures, the rocket will successfully go into orbit? <br>  The probability of the event ‚Äúall engines have worked successfully‚Äù is known to us - 0.6561. <br>  The probability of the event ‚Äúone engine failed‚Äù is also known - 0.2916. <br>  Let us find the probability of the event ‚Äútwo engines failed‚Äù.  The probability of an event ‚Äúthis and this engines failed, and the rest worked normally‚Äù is equal to 0.1 <sup>2</sup> * 0.9 <sup>2</sup> .  But how many ways you can choose two of the four engines? <br><blockquote>  The number of combinations C <sub>n</sub> <sup>k</sup> - is read as "C from n to k" - this is the number of ways in which you can choose k elements from a set of n elements, if the elements are not returned back after selection and their order does not matter.  The formula for calculating: <br><img src="https://habrastorage.org/files/a55/7d8/184/a557d8184fc9450d9526d539a0f29761.jpg"></blockquote><br>  We need to choose two engines out of four, so C <sub>4</sub> <sup>2</sup> = 4! / (2! (4-2)!) = (1 * 2 * 3 * 4) / ((1 * 2) * (1 * 2) = 24/4 = 6. <br>  It follows that the probability of the event ‚Äútwo engines failed‚Äù is 6 * 0.1 <sup>2</sup> * 0.9 <sup>2</sup> = 0.0486, and <br><br>  P <sub>success on medium engines with up to two failures</sub> = 0.6561 + 0.2916 + 0.0486 = <b>0.9963</b> <br><br><blockquote>  If you look closely, you get a fairly simple pattern: <br><br>  P <sub>all engines worked successfully</sub> = C <sub>4</sub> <sup>0</sup> * 0.1 <sup>0</sup> * 0.9 <sup>4</sup> = 0.6561 <br>  P <sub>failed one engine</sub> = C <sub>4</sub> <sup>1</sup> * 0.1 <sup>1</sup> * 0.9 <sup>3</sup> = 0.2916 <br>  P <sub>failed two engines</sub> = C <sub>4</sub> <sup>2</sup> * 0.1 <sup>2</sup> * 0.9 <sup>2</sup> = 0.0486 <br>  P <sub>failed three engines</sub> = C <sub>4</sub> <sup>3</sup> * 0.1 <sup>3</sup> * 0.9 <sup>1</sup> = 0.0036 <br>  P <sub>failed all four engines</sub> = C <sub>4</sub> <sup>4</sup> * 0.1 <sup>4</sup> * 0.9 <sup>0</sup> = 0.0001 <br><br>  As it should be for a full group of events, the sum of probabilities gives 1. </blockquote><br><br>  <b>Conclusion</b> : Knowing the reliability of the components, we can calculate how many backup elements will provide us with the required reliability. <br><br><h4>  Reliability OTRAG </h4><br><img src="https://habrastorage.org/files/023/825/7e0/0238257e0f334dbeb339ec5b4f7bffc2.jpeg"><br><br>  To begin with, let's try to calculate whether the unreliability of the blocks in the form of backup CRPUs in the rocket was laid in advance?  <a href="http://astronautix.com/lvs/otrag.htm">It is known</a> that for the withdrawal of one ton into orbit it was proposed to use three stages - from 48, 12 and 4 blocks.  Taking data on the mass and specific impulse, we calculate the stock of the characteristic speed for the payload of one ton using the Tsiolkovsky formula: <br><br><blockquote>  dV of the <sub>third stage</sub> = 2910 m / s * ln ((1 t PN + 4 * 1.5 t) / (1 t PN + 4 * 0.15 t)) = 4.3 km / s <br>  dV of the <sub>second stage</sub> = 2910 m / s * ln ((7 tons MO and the third stage + 12 * 1.5 tons) / (7 tons + 12 * 0.15 tons)) = 3 km / s <br>  dV of the <sub>first stage</sub> = 2646 m / s * ln ((25 t MO, second and third steps + 48 * 1.5 t) / (25 t + 48 * 0.15 t)) = 2.9 km / s <br>  Amount: 10.2 km / s </blockquote><br><br>  The characteristic speed in the range of 9.3‚Äì10 km / s is normal and means that there was probably no reserve for backup.  Now let's try to calculate how many additional blocks we need to get a highly reliable rocket.  Initial conditions: <br><ol><li>  It is known that the reliability of the test OTRAG was 0.9355 </li><li>  It is necessary to design a rocket with a reliability of blocks not lower than 0.9 </li><li>  The total reserve of the characteristic speed must be no less than the original rocket </li><li>  Failure of the stage will be considered the engine non-start / destruction when switched on with conditionally instantaneous bleeding of components.  The scenario in which you need to drag a failed unit weighing 1.5 tons with fuel is too pessimistic. </li><li>  Additional complexity will be the need to stabilize the rocket.  For simplicity, we will assume that simultaneously with the failed unit, the second unit is turned off from the opposite side, and its components are conditionally instantly merged. </li></ol><br><br>  <b>Third stage</b> <br>  With the third stage the biggest difficulty.  Only 4 blocks do not allow the possibility of shutting down at least one of them while maintaining any adequate supply of characteristic speed. <br>  Four blocks of reliability 0.9355 without redundancy have reliability 0.9355 <sup>4</sup> = <b>0.77</b> .  Few.  Add two more blocks.  The probability of success of a six-block stage with the possibility of a single block failure will be 0.9355 <sup>6</sup> + 6 * 0.0645 * 0.9355 <sup>5</sup> = <b>0.9475</b> .  In terms of reliability, six blocks is enough. <br>  Calculate the margin of the characteristic speed of the new stage for the case of failure of one unit and turn off the second for the symmetry of thrust.  <a href="http://www.wolframalpha.com/input/%3Fi%3Dtsiolkovsky%2Brocket%2Bequation%26a%3D*FS-_**RocketEquation.vf-.*RocketEquation.vi-.*RocketEquation.ve-.*RocketEquation.mf-.*RocketEquation.mi--%26f2%3D0%2Bkm%252Fs%26f%3DRocketEquation.vi%5Cu005f0%2Bkm%252Fs%26f3%3D2910%2Bm%252Fs%26f%3DRocketEquation.ve%5Cu005f2910%2Bm%252Fs%26f4%3D1%252B4*1.5%252B2*0.15%26f%3DRocketEquation.mi_1%252B4*1.5%252B2*0.15%26f5%3D1%252B0*1.5%252B6*0.15%26f%3DRocketEquation.mf_1%252B0*1.5%252B6*0.15">The calculation in WolframAlpha</a> gives 3.9 km / s.  Let's try to add the seventh block: <br>  <a href="http://www.wolframalpha.com/input/%3Fi%3Dtsiolkovsky%2Brocket%2Bequation%26a%3D*FS-_**RocketEquation.vf-.*RocketEquation.vi-.*RocketEquation.ve-.*RocketEquation.mf-.*RocketEquation.mi--%26f2%3D0%2Bkm%252Fs%26f%3DRocketEquation.vi%5Cu005f0%2Bkm%252Fs%26f3%3D2910%2Bm%252Fs%26f%3DRocketEquation.ve%5Cu005f2910%2Bm%252Fs%26f4%3D1%252B5*1.5%252B2*0.15%26f%3DRocketEquation.mi_1%252B5*1.5%252B2*0.15%26f5%3D1%252B0*1.5%252B7*0.15%26f%3DRocketEquation.mf_1%252B0*1.5%252B7*0.15">Margin of characteristic speed</a> : 4.24 km / s <br>  Reliability of a seven block stage with the possibility of a single unit failure: 0.93. <br>  In reality, block failure will not necessarily occur in the first second of the flight, so I will choose the optimistic version of the six-block third stage. <br><br>  <b>Second stage</b> <br>  Since we have four blocks turned into 6, it is necessary to recalculate the number of blocks on the second stage, which would give the same margin of characteristic speed.  The mass of the third stage + PN increased from 7 to 10 tons, by the method of selection we determine that we need <a href="http://www.wolframalpha.com/input/%3Fi%3Dtsiolkovsky%2Brocket%2Bequation%26a%3D*FS-_**RocketEquation.vf-.*RocketEquation.vi-.*RocketEquation.ve-.*RocketEquation.mf-.*RocketEquation.mi--%26f2%3D0%2Bkm%252Fs%26f%3DRocketEquation.vi%5Cu005f0%2Bkm%252Fs%26f3%3D2910%2Bm%252Fs%26f%3DRocketEquation.ve%5Cu005f2910%2Bm%252Fs%26f4%3D10%252B17*1.5%252B0*0.15%26f%3DRocketEquation.mi_10%252B17*1.5%252B0*0.15%26f5%3D10%252B0*1.5%252B17*0.15%26f%3DRocketEquation.mf_10%252B0*1.5%252B17*0.15">at least 17 blocks</a> for the same supply of delta-V.  Take 18 blocks for symmetry designs. <br>  How many blocks can we afford to lose for the case of the 18-block stage? <br>  Suppose one failure, reliability: 0.67 <br>  Allowed two failures, reliability: 0.89 <br>  A large system of many blocks has an interesting feature.  Failures can occur on different sides of the rung and compensate for traction on their own, without the need to turn off additional units.  Different depths of failed blocks may require fewer off blocks to compensate.  Only if we are unlucky at all, will the two adjacent blocks on the edge of the step switch off, and we will need to turn off the two opposite blocks.  Calculation of reliability in this case is a separate complex process; for simplicity, I will consider the required number of blocks turned off to compensate for as half the allowed failed.  Simply put, we put 20 blocks on the second step.  With the failure of two blocks and the shutdown of one block to compensate, we <a href="http://www.wolframalpha.com/input/%3Fi%3Dtsiolkovsky%2Brocket%2Bequation%26a%3D*FS-_**RocketEquation.vf-.*RocketEquation.vi-.*RocketEquation.ve-.*RocketEquation.mf-.*RocketEquation.mi--%26f2%3D0%2Bkm%252Fs%26f%3DRocketEquation.vi%5Cu005f0%2Bkm%252Fs%26f3%3D2910%2Bm%252Fs%26f%3DRocketEquation.ve%5Cu005f2910%2Bm%252Fs%26f4%3D10%252B17*1.5%252B3*0.15%26f%3DRocketEquation.mi_10%252B17*1.5%252B3*0.15%26f5%3D10%252B0*1.5%252B20*0.15%26f%3DRocketEquation.mf_10%252B0*1.5%252B20*0.15">will approximately have enough</a> of the characteristic speed margin. <br><br>  <b>First stage</b> <br>  The second and third stages from TI increased from 25 tons to 40. Therefore, in order to accelerate them by 2.9 km / s, we need as many as 76 blocks. <br><br><blockquote>  In the case when we have a lot of independent engines, we can calculate the most likely number of failures according to the formula for the binomial distribution: <br>  n * pq &lt;= k &lt;= n * p + p, where <br>  n is the number of tests (in this case, blocks) <br>  p - the probability of the desired outcome (in this case, success) <br>  q = 1 - p <br><br>  For our case, the second stage with 76 engines will get: <br>  76 * 0.9355-0.0645 &lt;= k &lt;= 76 * 0.9355 + 0.9355 <br>  71 &lt;= k &lt;= 72 <br>  Consequently, the most likely failure of 4-5 blocks. </blockquote><br><br>  Calculate reliability: <br>  Suppose one failure: 0.039 <br>  Up to two failures are allowed: 0.12 <br>  Up to three failures are allowed: 0.27 <br>  Valid up to four failures: 0.45 <br>  Up to five faults are allowed: 0.63 <br>  Up to six failures are allowed: 0.78 <br>  Up to seven waivers are allowed: 0.88 <br><br>  Seven failures, three blocks for compensation (conservative option).  <a href="http://www.wolframalpha.com/input/%3Fi%3Dtsiolkovsky%2Brocket%2Bequation%26a%3D*FS-_**RocketEquation.vf-.*RocketEquation.vi-.*RocketEquation.ve-.*RocketEquation.mf-.*RocketEquation.mi--%26f2%3D0%2Bkm%252Fs%26f%3DRocketEquation.vi%5Cu005f0%2Bkm%252Fs%26f3%3D2646%2Bm%252Fs%26f%3DRocketEquation.ve%5Cu005f2646%2Bm%252Fs%26f4%3D40%252B80*1.5%252B10*0.15%26f%3DRocketEquation.mi_40%252B80*1.5%252B10*0.15%26f5%3D40%252B0*1.5%252B90*0.15%26f%3DRocketEquation.mf_40%252B0*1.5%252B90*0.15">By the selection method, we obtain</a> that we need a stage with 90 blocks. <br><br><h4>  findings </h4><br>  The third step.  There were 4 blocks, it became 6. <br>  The second step.  There were 12 blocks, it became 20. <br>  First stage.  There were 48 blocks, it became 90. <br>  In total there were 64 blocks, it became 116. <br><br>  Please note that a very conservative approach was used in the calculations.  Firstly, the fact that the failure of the unit may not occur at launch, but after some time of operation, when the unit has already participated in the acceleration of the rocket, was not taken into account.  Secondly, real reliability of test launches was used.  The simplicity and low parameters of the load design means that the reliability of the unit is easy to improve.  Third, the digital control system is able, using terminal guidance, to compensate for the shortfall in the characteristic speed of one stage by the stock of the other stages. <br><br><img src="https://habrastorage.org/files/51e/90e/f40/51e90ef4001e4b7f80bb93d49e705add.jpeg"><br>  <i>Engine unit OTRAG.</i>  <i>The simplicity is amazing ...</i> <br><br>  As for the sad history of the Soviet H-1, it was not 30 engines that were killed, but the fact that the first stage was not tested as an assembly at the stand, and the engines for it were not tested before installation.  The design of the engines NK-15 did not allow multiple start-ups.  Lots of engines were tested selectively (2 of 6), which did not allow guaranteed to prevent the defective engine on the rocket.  The engine's failure had the character of an explosion, which damaged the cables, pipelines and adjacent engines, making further flight impossible. <br>  By the way, on launch vehicles of the ‚ÄúSoyuz‚Äù family at the start five engines with 32 combustion chambers are turned on, and this does not prevent the ‚Äúsevens‚Äù from being very reliable missiles. </div><p>Source: <a href="https://habr.com/ru/post/377421/">https://habr.com/ru/post/377421/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../377411/index.html">In the US, they want to build a skyscraper in the shape of a tornado</a></li>
<li><a href="../377413/index.html">What happened in the world of finance in a week # 15</a></li>
<li><a href="../377415/index.html">Two workers removed 5 tons of copper from a tokamak in Moscow</a></li>
<li><a href="../377417/index.html">Criminologists study crime scenes with virtual reality glasses</a></li>
<li><a href="../377419/index.html">"Warriors of Virtuality" - a book about a possible future</a></li>
<li><a href="../377423/index.html">Pebble vs. Apple: Campaign Funding Sped Up</a></li>
<li><a href="../377425/index.html">Gravity Energy Storage</a></li>
<li><a href="../377427/index.html">Coursera has opened effective training courses.</a></li>
<li><a href="../377429/index.html">Help NASA find new asteroids, install Asteroid Data Hunter</a></li>
<li><a href="../377431/index.html">Wiper messenger introduced bitcoin payments and for this was blocked in China</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>