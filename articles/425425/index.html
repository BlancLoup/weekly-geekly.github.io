<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of R packages for online marketing, part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, if you do internet marketing, you probably have to deal with a lot of advertising services every day and at least one web analytics pl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of R packages for online marketing, part 1</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello everyone, if you do internet marketing, you probably have to deal with a lot of advertising services every day and at least one web analytics platform, if you need to at least once a month, or maybe even once a week with your hands to compile data on expenses, and other statistical information from all sources is fraught with not only large time costs, but also the probability of error when consolidating data from many sources in manual mode is quite large.  In this article I‚Äôll give you tips on ready-made extensions (packages) for the R language, with which you can automate the process of collecting data from most popular advertising systems and web analytics platforms. <br><img src="https://habrastorage.org/getpro/habr/post_images/7d8/899/05e/7d889905e9b8d9bb94383d2f11057025.jpg" alt="image"></p><a name="habracut"></a><br><h2 id="kakoy-soft-nam-potrebuetsya">  What software we need </h2><br><p>  Since  In this article we are talking about the R language, then you will need <a href="https://cran.r-project.org/bin/windows/base/">R</a> itself and the <a href="https://www.rstudio.com/products/rstudio/download/">RStudio</a> development environment. </p><br><p>  Both the R language and RStudio are free, free software, so you can freely download them from official sites. </p><br><h2 id="kak-nachat-rabotu-s-r-paketami">  How to get started with R packages </h2><br><p>  There is nothing difficult to get started with R packages, this is done as follows: </p><br><ol><li> Installing a package, usually with the base <code>install.packages</code> command; </li><li>  Connecting the package, each time you start a new session with R, this operation can be performed using the <code>library</code> or <code>require</code> command. </li></ol><br><p>  The difference between <code>library</code> and <code>require</code> is only that the <code>library</code> will generate an error if you try to connect a package that you have not installed, and <code>require</code> in the same case just shows a warning, while the script will continue. </p><br><p>  To install the GitHub packages described in this article, you first need to install the devtools package, to do this, run the <code>install.packages("devtools")</code> . </p><br><h2 id="cran-ili-github">  CRAN or GitHub </h2><br><p>  In the course of reading this article, you may have a question from which repository it is better to install one or another package, in fact, on GitHub, as a rule, the most current dev versions of packages from developers,  They have all the new features that may not be in the version of the package that is available on CRAN, but, accordingly, the dev version may not be sufficiently tested at the time of loading and contain errors. </p><br><p>  The version on CRAN is carefully checked by a team of specialists before it is downloaded, and must comply with all the <a href="https://cran.r-project.org/web/packages/policies.html">requirements of this repository policy.</a> If you download a package from CRAN, you can be sure that it will not harm your data in any way and will not create any incomprehensible files on your computer without your permission. PC etc. </p><br><h2 id="kakie-navyki-nuzhny-dlya-raboty-s-r-paketami">  What skills are needed to work with R packages </h2><br><p>  In fact, you only need to understand the subject area of ‚Äã‚ÄãInternet marketing, no programming skills are required in this case, because  we will talk about ready-made packages, using functions from which you can automate the ruined part of your work. </p><br><p>  The article will not have a detailed description of how to work with each function of the packages in question, since  such an article would be too long, but I will describe the capabilities of each package, give a list of the main functions that you need, as well as give a link to the official documentation, with which you can already deal in most detail with all the functions available in one package or another. .  In addition to each package, I will give a small sample of the code, so that you would have a clearer syntax. </p><br><h2 id="ryandexdirecthttpsselesnowgithubioryandexdirect---zagruzka-dannyh-iz-yandeksdirekt">  <a href="https://selesnow.github.io/ryandexdirect">ryandexdirect</a> - download data from Yandex.Direct </h2><br><p>  Installing the package from GitHub: <code>devtools::install_github("selesnow/ryandexdirect")</code> <br>  Official documentation: <a href="https://selesnow.github.io/ryandexdirect">link</a> </p><br><p>  This package is designed to work with the API of one of the most popular advertising sites in the CIS - Yandex.Direct. </p><br><h3 id="vozmozhnosti-paketa-ryandexdirect">  Ryandexdirect features </h3><br><ol><li>  Authorization in the Yandex API; </li><li>  Download a list of ad campaigns, keywords, ads; </li><li>  Loading statistics from Yandex.Direct accounts using the <a href="https://tech.yandex.ru/direct/doc/reports/reports-docpage/">Reports service</a> . </li><li>  Stop and resume ad impressions at the level of advertising campaigns, keywords and ads. </li><li>  Request balance and other parameters of the general account. </li><li>  Downloading reference information (exchange rates, geographical directory, etc.) </li></ol><br><h3 id="osnovnye-funkcii">  Main functions </h3><br><p>  The main functions available in ryandexdirect that you may need to work with the Yandex.Direct API: </p><br><ul><li>  <code>yadirAuth</code> - API authorization; </li><li>  <code>yadirGetAds</code> , <code>yadirGetCampaignList</code> , <code>yadirGetKeyWords</code> - Download a list of ads, ad campaigns, keywords; </li><li>  <code>yadirGetReport</code> - Download statistics from Yandex.Direct. </li><li>  <code>yadirGetDictionary</code> - Download reference information. </li><li>  <code>yadirStartAds</code> , <code>yadirStartCampaigns</code> , <code>yadirStartKeyWords</code> - </li></ul><br><div class="spoiler">  <b class="spoiler_title">Sample code for downloading statistics using ryandexdirect</b> <div class="spoiler_text"><pre> <code class="hljs lisp">library(<span class="hljs-name"><span class="hljs-name">ryandexdirect</span></span>) stat &lt;- yadirGetReport(<span class="hljs-name"><span class="hljs-name">ReportType</span></span> = <span class="hljs-string"><span class="hljs-string">"ACCOUNT_PERFORMANCE_REPORT"</span></span>, DateRangeType = <span class="hljs-string"><span class="hljs-string">"CUSTOM_DATE"</span></span>, DateFrom = <span class="hljs-string"><span class="hljs-string">"2018-01-01"</span></span>, DateTo = <span class="hljs-string"><span class="hljs-string">"2018-05-10"</span></span>, FieldNames = c(<span class="hljs-string"><span class="hljs-string">"AdNetworkType"</span></span>, <span class="hljs-string"><span class="hljs-string">"Impressions"</span></span>, <span class="hljs-string"><span class="hljs-string">"Clicks"</span></span>, <span class="hljs-string"><span class="hljs-string">"Cost"</span></span>), FilterList = c(<span class="hljs-string"><span class="hljs-string">"CampaignId IN 123456 ,987654"</span></span>,<span class="hljs-string"><span class="hljs-string">"Clicks GREATER_THAN 100"</span></span>), IncludeVAT = <span class="hljs-string"><span class="hljs-string">"YES"</span></span>, IncludeDiscount = <span class="hljs-string"><span class="hljs-string">"NO"</span></span>, Login = <span class="hljs-string"><span class="hljs-string">" "</span></span>, TokenPath = <span class="hljs-string"><span class="hljs-string">"C:/token_yandex"</span></span>)</code> </pre> </div></div><br><p>  More details about each argument can be found in the official <a href="https://selesnow.github.io/ryandexdirect">ryandexdirect</a> or Yandex.Direct <a href="https://tech.yandex.ru/direct/doc/reports/reports-docpage/">API Reports service</a> . </p><br><h2 id="radwordshttpswwwrdocumentationorgpackagesradwords---zagruzka-dannyh-iz-google-ads-ex-google-adwords">  <a href="https://www.rdocumentation.org/packages/RAdwords/">RAdwords</a> - download data from Google Ads (ex Google AdWords) </h2><br><p>  Installing a package with CRAN: <code>install.packages("RAdwords")</code> <br>  Installing the package from GitHub: <code>devtools::install_github("jburkhardt/RAdwords")</code> <br>  Official documentation: <a href="https://jburkhardt.github.io/RAdwords/">link</a> </p><br><h3 id="vozmozhnosti-paketa-radwords">  RAdwords Package Features </h3><br><p>  The main feature of this package is to authorize the Google Ads API and download statistics from all reports available on this interface. </p><br><h3 id="osnovnye-funkcii-paketa-radwords">  The main functions of the package RAdwords </h3><br><p>  In fact, the package basically contains not very many functions, but I have used only three of them all the time: </p><br><ul><li>  <code>doAuth</code> - Authorization; </li><li>  <code>statement</code> - Formation of the request body to the API; </li><li>  <code>getData</code> - Download data from API. </li></ul><br><div class="spoiler">  <b class="spoiler_title">An example of working with the RAdwords package</b> <div class="spoiler_text"><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">library</span></span>(RAdwords) #   adw_token &lt;- doAyth() #   <span class="hljs-keyword"><span class="hljs-keyword">body</span></span> &lt;- statement(<span class="hljs-keyword"><span class="hljs-keyword">select</span></span>=c(<span class="hljs-symbol"><span class="hljs-symbol">'AccountDescriptiveName</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'ExternalCustomerId</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'AccountCurrencyCode</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'AdNetworkType1</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'RegionCriteriaId</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'CountryCriteriaId</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'CityCriteriaId</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'Device</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'Month</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'Year</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'Impressions</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'Clicks</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'Interactions</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'VideoViews</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'Cost</span></span>', <span class="hljs-symbol"><span class="hljs-symbol">'Conversions</span></span>' ), <span class="hljs-keyword"><span class="hljs-keyword">report</span></span>=<span class="hljs-string"><span class="hljs-string">"GEO_PERFORMANCE_REPORT"</span></span>, start=<span class="hljs-string"><span class="hljs-string">"2018-09-01"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>=<span class="hljs-string"><span class="hljs-string">"2018-09-20"</span></span>) my_data &lt;- getData(clientCustomerId = <span class="hljs-string"><span class="hljs-string">"000-000-0000"</span></span>, google_auth = adw_token , statement = <span class="hljs-keyword"><span class="hljs-keyword">body</span></span>, transformation = T)</code> </pre> </div></div><br><p>  The list of reports available in the Google Ads API and fields can be found at the <a href="https://developers.google.com/adwords/api/docs/appendix/reports">link</a> in the official help. </p><br><h2 id="adwordsrhttpswwwrdocumentationorgpackagesadwordsr---bolee-novyy-i-funkcionalnyy-paket-dlya-zagruzkai-dannyh-iz-google-ads-ex-google-adwords">  <a href="https://www.rdocumentation.org/packages/adwordsR/">adwordsR</a> is a newer and more functional package for download = and data from Google Ads (ex Google AdWords) </h2><br><p>  Installing a package with CRAN: <code>install.packages("adwordsR")</code> <br>  Installing a package from GitHub: <code>devtools::install_github("cran/adwordsR")</code> </p><br><p>  The adwordsR package is similar in meaning to RAdwords, but it is newer and has a much larger set of functions. </p><br><h3 id="vozmozhnosti-paketa-adwordsr">  AdwordsR features </h3><br><p>  In addition to the features of the RAdwords package described above, adwordsR gives you ample opportunities to work with TargetingIdeaService, the service with which you can get targeting options directly from a tool or platform that helps automate account optimization. </p><br><h3 id="osnovnye-funkcii-paketa-adwordsr">  Main functions of the adwordsR package </h3><br><ul><li>  <code>generateAdwordsToken</code> - Request a token to work with the Google Ads API; </li><li>  <code>loadAdwordsToken</code> - Load the requested and previously saved token; </li><li>  <code>getReportData</code> - Download statistics from your Google Ads account. </li></ul><br><div class="spoiler">  <b class="spoiler_title">An example of working with the adwordsR package</b> <div class="spoiler_text"><pre> <code class="hljs django"><span class="xml"><span class="xml">library(adwordsR) #   adw_token </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">generateAdwordsToken</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">saveNewToken</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">TRUE,</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">addGitignore</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">FALSE)</span></span></span></span><span class="xml"><span class="hljs-tag"> #     </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">adw_token</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">loadAdwordsToken</span></span></span></span><span class="xml"><span class="hljs-tag">() #   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">AdWordsData</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">getReportData</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">reportType</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"CAMPAIGN_PERFORMANCE_REPORT"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">startDate</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"2018-08-01"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">endDate</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"2018-08-15"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clientCustomerId</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"000-000-0000"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">credentials</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">adw_token,</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">attributes</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"CampaignName,CampaignStatus"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">segment</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Date,AdNetworkType1"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">metrics</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"AverageCost,Clicks,Conversions"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">includeZeroImpressions</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">TRUE,</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">useRequestedHeaders</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">FALSE)</span></span></span></span></span></span></code> </pre> </div></div><br><h2 id="rfacebookstathttpswwwrdocumentationorgpackagesrfacebookstat---zagruzka-dannyh-iz-reklamnyh-kabinetov-facebook">  <a href="https://www.rdocumentation.org/packages/rfacebookstat/">rfacebookstat</a> - download data from Facebook advertising offices </h2><br><p>  Installing a package with CRAN: <code>install.packages("rfacebookstat")</code> <br>  Installing the package from GitHub: <code>devtools::install_github("selesnow/rfacebookstat")</code> <br>  Official documentation: <a href="https://selesnow.github.io/rfacebookstat">link</a> </p><br><h3 id="vozmozhnosti-paketa-rfacebookstat">  Features of rfacebookstat </h3><br><ol><li>  Facebook API Login </li><li>  Download a list of business managers available to you; </li><li>  Download a list of advertising accounts; </li><li>  Download a list of ad campaigns, ad groups, ads. </li><li>  Download statistics at the level of the advertising account, advertising campaigns, ad groups and ads. </li><li>  Download a list of users who have access to the advertising account. </li><li>  Manage access to advertising accounts. </li></ol><br><h3 id="osnovnye-funkcii-paketa-rfacebookstat">  Main features of rfacebookstat </h3><br><ul><li>  <code>fbGetToken</code> - Authorization in the Facebook API; </li><li>  <code>fbGetBusinessManagers</code> - Download a list of business manager; </li><li>  <code>fbGetAdAccounts</code> - Download a list of advertising accounts; </li><li>  <code>fbGetCampaigns</code> , <code>fbGetAds</code> , <code>fbGetAdSets</code> - Download a list of ad campaigns, ads and ad groups; </li><li>  <code>fbGetMarketingStat</code> - Download statistics from advertising accounts Facebook. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Sample code for working with rfacebookstat</b> <div class="spoiler_text"><pre> <code class="hljs lisp">library(<span class="hljs-name"><span class="hljs-name">rfacebookstat</span></span>) token &lt;- fbGetToken(<span class="hljs-name"><span class="hljs-name">app_id</span></span> = <span class="hljs-number"><span class="hljs-number">00000000000000</span></span>) fb_data &lt;- fbGetMarketingStat(<span class="hljs-name"><span class="hljs-name">accounts_id</span></span> = <span class="hljs-string"><span class="hljs-string">"act_00000000000000"</span></span>, level = <span class="hljs-string"><span class="hljs-string">"campaign"</span></span>, fields = <span class="hljs-string"><span class="hljs-string">"campaign_name,actions"</span></span>, action_breakdowns = <span class="hljs-string"><span class="hljs-string">"action_link_click_destination"</span></span>, date_start = <span class="hljs-string"><span class="hljs-string">"2017-11-01"</span></span>, date_stop = <span class="hljs-string"><span class="hljs-string">"2017-11-20"</span></span>, interval = <span class="hljs-string"><span class="hljs-string">"day"</span></span>, access_token = token)</code> </pre> </div></div><br><h2 id="rvkstathttpsselesnowgithubiorvkstat---zagruzka-dannyh-iz-api-vkontakte">  <a href="https://selesnow.github.io/rvkstat">rvkstat</a> - loading data from the Vkontakte API </h2><br><p>  Installing the package from GitHub: <code>devtools::install_github("selesnow/rvkstat")</code> <br>  Official documentation: <a href="https://selesnow.github.io/rvkstat">link</a> </p><br><p>  Enough powerful and multi-functional package for working with the API of the social network Vkontakte. </p><br><h3 id="vozmozhnosti-paketa-rvkstat">  Rvkstat features </h3><br><ol><li>  Authorization in the API Vkontakte; </li><li>  Download data from advertising offices Vkontakte; </li><li>  Downloading reference information from Vkontakte; </li><li>  Download some information about the user Vkontakte; </li><li>  Download statistics from the advertising office Vkontakte; </li><li>  Download statistics on visits to Vkontakte communities. </li></ol><br><h3 id="osnovnye-funkcii-paketa-rvkstat">  The main functions of the rvkstat package </h3><br><p>  The rvkstat package at the time of this writing contains more than 30 functions, here are the most useful ones: </p><br><ul><li>  <code>vkAuth</code> - Authorization; </li><li>  <code>vkGetAdStatistics</code> - Download statistics from the advertising <code>vkGetAdStatistics</code> ; </li><li>  <code>vkGetAdCampaigns</code> , <code>vkGetAds</code> - Download a list of advertising campaigns and ads; </li><li>  <code>vkGetGroupStat</code> - Download statistics on visiting groups and communities Vkontakte. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Sample code for working with the rvkstat package</b> <div class="spoiler_text"><pre> <code class="hljs django"><span class="xml"><span class="xml">library(rvkstat) my_tok </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">vkAuth</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">app_id</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">111,app_secret</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"efbscuyewb7cb4ru4bj"</span></span></span></span><span class="xml"><span class="hljs-tag">) #    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">camp</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">vkGetAdCampaigns</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">account_id</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1,</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">access_token</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">my_tok$access_token)</span></span></span></span><span class="xml"><span class="hljs-tag"> #     </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">vk_stat_by_campaign</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">vkGetAdStatistics</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">account_id</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1,</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ids_type</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"campaign"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ids</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">camp$id</span></span></span></span><span class="xml"><span class="hljs-tag"> , </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">period</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"day"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date_from</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"2010-01-01"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date_to</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"2017-09-10"</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">access_token</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">my_tok$access_token)</span></span></span></span></span></span></code> </pre> </div></div><br><h2 id="rmytargethttpswwwrdocumentationorgpackagesrmytarget---zagruzka-dannyh-iz-api-mytarget">  <a href="https://www.rdocumentation.org/packages/rmytarget/">rmytarget</a> - loading data from the MyTarget API </h2><br><p>  Installing a package with CRAN: <code>install.packages("rmytarget")</code> <br>  Installing the package from GitHub: <code>devtools::install_github("selesnow/rmytarget")</code> <br>  Official documentation: <a href="https://selesnow.github.io/rmytarget">link</a> </p><br><h3 id="vozmozhnosti-paketa-rmytarget">  Rmytarget package features </h3><br><ol><li>  Authorization in the MyTarget API according to the Code Grant scheme; </li><li>  Download a list of ad campaigns, advertisements. </li><li>  Download statistics at the level of advertising campaigns and announcements. </li></ol><br><h3 id="osnovnye-funkcii-paketa-rmytarget">  The main features of the rmytarget package </h3><br><ul><li>  <code>myTarAuth</code> - Authorization; </li><li>  <code>myTarGetAdList</code> , <code>myTarGetCampaignList</code> - Download a list of ads and ad campaigns; </li><li>  <code>myTarGetStats</code> - Download statistics for ads and advertising campaigns. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Sample code for working with rmytarget</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">library(rmytarget) #    Ads &lt;- myTarGetAdList(<span class="hljs-keyword"><span class="hljs-keyword">login</span></span> = " ") #     a_stat &lt;- myTarGetStats(date_from = "2016-08-01", date_to = "2016-08-10", object_type = "banners", object_id = Ads$id, stat_type = "day", <span class="hljs-keyword"><span class="hljs-keyword">login</span></span> = " ")</code> </pre> </div></div><br><h2 id="rymhttpswwwrdocumentationorgpackagesrym---zagruzka-dannyh-iz-api-yandeksmetriki">  <a href="https://www.rdocumentation.org/packages/rym/">rym</a> - loading data from the Yandex.Metrics API </h2><br><p>  Installing a package with CRAN: <code>install.packages("rym")</code> <br>  Installing the package from GitHub: <code>devtools::install_github("selesnow/rym")</code> <br>  Official documentation: <a href="https://selesnow.github.io/rym">link</a> </p><br><h3 id="osnovnye-vozmozhnosti-paketa-rym">  Key features of the rym package </h3><br><p>  The rym package allows you to work with all APIs available in Yandex.Metrica: </p><br><ol><li>  Authorization using the oAuth2 protocol; </li><li>  Work with <a href="https://tech.yandex.ru/metrika/doc/api2/management/intro-docpage/">management APIs</a> ; </li><li>  Work <a href="https://tech.yandex.ru/metrika/doc/api2/api_v1/intro-docpage/">with reports API</a> ; </li><li>  Work with <a href="https://tech.yandex.ru/metrika/doc/api2/ga/intro-docpage/">API compatible with Core API Google Analytics v3</a> ; </li><li>  Work with <a href="https://tech.yandex.ru/metrika/doc/api2/logs/intro-docpage/">Logs API</a> . </li></ol><br><h3 id="osnovnye-funkcii-paketa-rym">  The main functions of the rym package </h3><br><ul><li>  <code>rym_auth</code> - Authorization; </li><li>  <code>rym_get_counters</code> - Download the list of counters Yandex.Metrica; </li><li>  <code>rym_get_data</code> - Load data from the API reports; </li><li>  <code>rym_get_ga</code> - Download data from API compatible with Google Analytics Core API; </li><li>  <code>rym_get_logs</code> - Download raw data from Logs API. </li></ul><br><div class="spoiler">  <b class="spoiler_title">An example of working with the rym package</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">reporting.api.stat &lt;- rym_get_data(counters = "00000000,111111111", <span class="hljs-type"><span class="hljs-type">date</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> = "2018-08-01", <span class="hljs-type"><span class="hljs-type">date</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">to</span></span> = "yesterday", dimensions = "ym:s:date,ym:s:lastTrafficSource", metrics = "ym:s:visits,ym:s:pageviews,ym:s:users", filters = "ym:s:trafficSourceName=='   ' AND ym:s:isNewUser=='Yes'", sort = "-ym:s:date", accuracy = "full", <span class="hljs-keyword"><span class="hljs-keyword">login</span></span> = " ", token.path = "metrica_token", lang = "ru")</code> </pre> </div></div><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  So, using the packages in this article, you can easily automate the collection of data from such sources as Yandex.Direct, Google Ads, Facebook, Vkontakte, MyTarget and Yandex.Metrica.  Of course, this is far from an exhaustive list of services that are used by marketing specialists, but it‚Äôs quite difficult to fit all the tools into one article, so if this article gets positive reviews, I‚Äôll write a sequel. </p><br><p>  Further, the obtained data can be converted using the <code>dplyr</code> package, and recorded in various databases using the DBI interface, but these are already quite voluminous topics for the following articles. </p><br><p>  If you also have interesting packages in your arsenal that can help automate data collection from advertising sources or web analytic platforms, leave them in the comments to this article. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/425425/">https://habr.com/ru/post/425425/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../425415/index.html">Perl 5: as in macros, errors were hidden</a></li>
<li><a href="../425417/index.html">Flash for everyone. All Flash array from QSAN</a></li>
<li><a href="../425419/index.html">The author of the book "The Witcher" demanded at least $ 16 million from CD Projekt Red</a></li>
<li><a href="../425421/index.html">Friday. Nonsense programmer</a></li>
<li><a href="../425423/index.html">To the question of the Pandas or another cry of Yaroslavna</a></li>
<li><a href="../425431/index.html">Video reports from Deerploy DevOps MeetUp</a></li>
<li><a href="../425433/index.html">Competition, new courses and features (autumn news Heksleta)</a></li>
<li><a href="../425435/index.html">DDR SDRAM - design features and signal integrity</a></li>
<li><a href="../425437/index.html">How to add sharpness to the blade using a plasma arc?</a></li>
<li><a href="../425443/index.html">"Photon in the microwave": the creation of a controlled photon two-level system</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>