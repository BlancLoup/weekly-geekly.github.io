<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Channel aggregation and IP traffic balancing for storage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For small companies, only two or four servers with virtualization are often used, two Ethernet switches, sometimes even with stacking capability, and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Channel aggregation and IP traffic balancing for storage</h1><div class="post__text post__text-html js-mediator-article">  For small companies, only two or four servers with virtualization are often used, two Ethernet switches, sometimes even with stacking capability, and Multi-chassis EtherChannel plus lower-end <abbr title="Storage System">storage systems</abbr> ‚Äî this is quite a standard configuration of medium business infrastructure. <br>  It is very important for such enterprises to maximize the use of all available technologies in order to utilize their equipment as much as possible and this article will discuss how to achieve this. <br><br>  Most modern servers on board usually have at least two 1Gb interfaces for data and one 100Mb for management. <br><br>  On the <abbr title="Storage System">storage system of the</abbr> younger NetApp <abbr title="Fabric-attached storage">FAS</abbr> 2240 / <abbr title="Fabric-attached storage">FAS</abbr> 2220 series, on board each controller, among other things, there is a 4x 1Gb port. <br>  Those.  It is quite logical to use a scheme where two switches in a stack use Multi-chassis EtherChannel aggregating links from each controller to each switch to obtain both fault tolerance and utilization of throughput of all these links.  Such is the architecture in the image and likeness of <a href="http://habrahabr.ru/company/netapp/blog/190708/">FlexPod Express</a> , but without the fashionably-expensive <abbr title="Cisco Virtual Port Channel">vPC</abbr> features like Cisco switches of the Nexus series, in this case, instead of interlinks, the stack of switches will be used.  And generally servers and switches in such a scheme can be of any manufacturer.  And if everything is quite tight with the budget, you can use the direct connection to the server, so if the server has 2 ports on board, you can connect 4 servers, and when you need to add the 5th server, then you will have to buy switches. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/4da/b9a/e6f/4dab9ae6f8c62a991417231ca0c28596.png"><br>  Connection diagram FlexPod Express. <br><a name="habracut"></a><br><br>  Here is an example of the scheme, which will be described in the article. <br>  <abbr title="Fabric-attached storage">FAS</abbr> 2240-4 HA - 2 controllers with 4 1 Gbps link <br>  2 servers with VMware ESXi, each with 4 dedicated network ports of 1 GB for communication with the storage <br>  2 gigabit stack switches with Multi-chassis EtherChannel and <abbr title="Link Aggregation Control Protocol">LACP</abbr> support <br><br>  So, we want to use all available bandwidth and available server and <abbr title="Storage System">storage</abbr> interfaces.  Those.  Server 1 works mainly with VMs located on controller A, server 2 with VMs on controller B, all have 4 interfaces, the VMs are divided into 4 groups, everything is divided evenly and honestly. <br><br><h4>  <a href="https://habr.com/ru/post/215351/">Theoretical part</a> </h4><a name="theory"></a><br>  But load balancing in the network ‚Äúmagically‚Äù cannot smear this load across all the links itself.  There is an algorithm that allows you to <u>alternately use one of the links</u> in the aggregated channel.  <a href="https://habr.com/ru/post/215351/">One of these algorithms is based on the hash sums of the source and destination IP addresses received from the headers, choosing one link</a> .  And this nuance plays an important role in our scheme.  Since if the hash sum for two different IP source and recipient combinations coincide, the same physical link will be used for such combinations.  In other words, it is important to understand how the algorithm for balancing network traffic works and to ensure that the combination of IP addresses is such as to obtain a fault-tolerant infrastructure scheme and use all network links, relying on best practices from NetApp <abbr title="Technical Report">TR</abbr> - <a href="http://www.netwell.ru/docs/netapp/TR-3749_Rus_NetApp_VMware_vSphere_v5.0/tr-3749_rus_netapp_vmware_vsphere_v5.0.pdf">3749</a> , <abbr title="Technical Report">TR</abbr> - <a href="http://www.netwell.ru/docs/netapp/rus_tr-3802_ethernet_storage_bp.pdf">3802</a> and <abbr title="Technical Report">TR</abbr> - <a href="http://www.netwell.ru/docs/netapp/tr-3839_vmware_nfs.pdf">3839</a> . <br><br>  As a rule, 2-4 servers do not load 1Gb bandwidth links, the use of all links at the same time has a positive effect on the speed of interaction between network nodes and bandwidth at peak loads. <br><br><h4>  <a href="https://habr.com/ru/post/215351/">Description</a> </h4><a name="description"></a><br>  Further (for simplicity), manipulations with one controller, one server and <abbr title="Network file system">NFS</abbr> protocol are described. <br><br><ul><li>  2 controller links are connected to one switch, 2 to another </li><li>  on the side of the switch multichassis <abbr title="Link Aggregation Control Protocol">LACP is</abbr> configured with IP balancing </li><li>  the switch for the controller ports is set to Flowcontrol = on </li><li>  on the controller for all ports, Flowcontrol = send is installed </li><li>  4 1GB links on the controller side combined into one <abbr title="Link Aggregation Control Protocol">LACP</abbr> with IP balancing </li><li>  over <abbr title="Virtual interface">VIF</abbr> (ifgrp), a <abbr title="Virtual LAN">VLAN was</abbr> created and assigned an IP, 3 additional aliases were created (addresses are issued sequentially) </li><li>  4 volumes created, qtree created in each volume, volume exported via <abbr title="Network file system">NFS</abbr> </li><li>  ESXi server has <abbr title="Virtual switch">vSwitch</abbr> with 4 interfaces with IP balancing </li><li>  on this <abbr title="Virtual switch">vSwitch</abbr> , a vmkernel port is created in the same IP subnet and the same <abbr title="Virtual LAN">VLAN</abbr> in which the primary IP and controller aliases are located </li><li>  jumbo frames included in the whole chain ( <abbr title="Storage System">storage</abbr> , switch, switch <abbr title="Virtual LAN">VLAN</abbr> , <abbr title="Virtual switch">vSwitch</abbr> , vmkernel port) </li><li>  4 <abbr title="Network file system">NFS</abbr> datastores added to ESXi, all from different IP addresses (i.e., both the main IP and all the controller aliases are involved) </li><li>  4 <abbr title="Virtual machine">VM</abbr> vmware-io-analyzer.ova on different <abbr title="Network file system">NFS</abbr> datastores to check the load on links using, for example, the Max-throughput pattern </li></ul><br><br>  We need to: <br><ul><li>  one <abbr title="Network file system">NFS</abbr> export was connected to all vmware ESXi hosts at the same IP address so that vmware perceived it as one datastorage and not as different (there is no such requirement for <abbr title="Internet Small Computer System Interface">iSCSI</abbr> ; for each server you can specify different IP <abbr title="iSCSI Qualified Name">targets</abbr> , <abbr title="iSCSI Qualified Name">IQN</abbr> will have the same ) </li><li>  traffic (inbound and outbound) from one server to different datastorage should go on different server and <abbr title="Storage System">storage</abbr> links </li><li>  traffic (inbound and outbound) from different servers to the same datastorage should go on different <abbr title="Storage System">storage</abbr> links </li></ul><br><br><h4>  <a href="https://habr.com/ru/post/215351/">Customization</a> </h4><a name="configuration"></a><br>  NetApp <abbr title="Fabric-attached storage">FAS</abbr> <abbr title="Storage System">storage</abbr> configuration <abbr title="Storage System">snippets</abbr> : <br><br>  Note that the " <b><i>lacp</i></b> " parameter in the " <i>ifgrp create <b>lacp</b> vif1 -b ip e0d e0b e0c e0a</i> " line corresponds to the <i>Dynamic Multi-Mode</i> in the documentation and must match the settings <a href="http://habrahabr.ru/post/215351/">on the switch</a> .  <abbr title="Technical Report">TR</abbr> - <a href="http://www.netwell.ru/docs/netapp/rus_tr-3802_ethernet_storage_bp.pdf">3802</a> <br>  Also, do not forget about the correct settings of the <i>flowcontrol</i> from both the storage and the switch.  If the storage ‚Äúsends‚Äù ( <i>flowcontrol <b>send</b></i> ) flow control, then ‚Äúon the other side‚Äù the switch must be configured to ‚Äúreceive‚Äù flow control ( <i>flowcontrol <b>receive on</b></i> ).  And vice versa: if no one sends, then no one should be set up for acceptance.  <a href="http://habrahabr.ru/post/243119/">More about flowcontrol</a> . <br><br><div class="spoiler">  <b class="spoiler_title">NetApp 7-Mode Setup Example</b> <div class="spoiler_text"><pre><code class="bash hljs">san01a&gt; rdfile /etc/rc <span class="hljs-comment"><span class="hljs-comment">#Auto-generated by setup Thu may 22 13:26:59 GMT 2014 hostname san01a ifgrp create lacp vif1 -b ip e0d e0b e0c e0a vlan create vif1 53 ifconfig e0a flowcontrol send up ifconfig e0b flowcontrol send up ifconfig e0c flowcontrol send up ifconfig e0d flowcontrol send up ifconfig e0M `hostname`-e0M netmask 255.255.255.0 broadcast 10.10.10.255 flowcontrol full partner 10.10.40.11 mtusize 1500 trusted wins up ifconfig e0P `hostname`-e0P netmask 255.255.252.0 broadcast 192.168.3.255 flowcontrol full up ifconfig vif1-53 `hostname`-vif1-53 netmask 255.255.255.0 partner vif1-53 mtusize 9000 trusted -wins up ifconfig vif1-53 alias 10.10.53.31 netmask 255.255.255.0 up ifconfig vif1-53 alias 10.10.53.32 netmask 255.255.255.0 up ifconfig vif1-53 alias 10.10.53.33 netmask 255.255.255.0 up route add net default 10.10.10.3 1 routed on options dns.domainname netapp.com options dns.enable on options nis.enable off savecore</span></span></code> </pre> <br></div></div><br><br><h5>  <a href="https://habr.com/ru/post/215351/">Fault tolerance for NFS</a> </h5><a name="ha"></a><br>  Let me remind you that two controllers work in a fault-tolerant pair, and if one controller ‚Äúdies‚Äù, it will ‚Äúovereat‚Äù (in terms of NetApp FailOver) the second controller and two logical ones will work on the physical controller.  On the part of the host, it is very important to set a timeout for the case of such a move of 90 seconds.  Pay attention to the record <i>partner vif1-53</i> , it means that in the case of FailOver when moving to the second controller, the settings of this virtual interface will also be moved with it.  For this reason, do not forget to specify this entry, otherwise the controller will overeat, and the data available at the old addresses will not be available.  The general logic of assigning a partner to an interface is as follows: <br><ul><li>  If there is a Tim-Interface (s) ( <abbr title="Virtual interface">VIF</abbr> ) with <abbr title="Virtual LAN">VLAN</abbr> (s), then configure each such <abbr title="Virtual LAN">VLAN</abbr> 'e. </li><li>  If there are <abbr title="Virtual interface">VIF</abbr> (s), but without <abbr title="Virtual LAN">VLAN</abbr> (s), then configure it on each such <abbr title="Virtual interface">VIF</abbr> interface. </li><li>  If there is no <abbr title="Virtual interface">VIF</abbr> , but there are <abbr title="Virtual LAN">VLAN</abbr> (s) on the physical interface, then we configure on each such <abbr title="Virtual LAN">VLAN</abbr> 'e. </li><li>  If there is no <abbr title="Virtual interface">VIF</abbr> or <abbr title="Virtual LAN">VLAN</abbr> (s) anywhere, then on each physical interface. </li></ul><br>  And do not forget to make the same <abbr title="Virtual interface">VIF</abbr> and <abbr title="Virtual LAN">VLAN</abbr> settings on the second controller, so that it is ‚Äúwhat‚Äù to move.  On the side of the switches on the ports from the first controller, we allow the circulation of those <abbr title="Virtual LAN">VLANs</abbr> that the neighbor has so that there is connectivity in case of a move. <br><br>  Also note that the NetApp <abbr title="Fabric-attached storage">FAS</abbr> <abbr title="Storage System">storage</abbr> system uses interface numbering for balancing in the <abbr title="Virtual interface">VIF,</abbr> not in alphabetical order, but in the order of addition. <br>  For example, if a <abbr title="Virtual interface">VIF is</abbr> created with such a command ‚Äúifgrp create lacp vif1 -b ip e0d e0b e0c e0a‚Äù, then e0d will be the 0th interface, e0b - 1, e0c - 2, e0a - 3. <br><br><div class="spoiler">  <b class="spoiler_title">Example of setting rezolv, export and Qtree for netApp 7-Mode</b> <div class="spoiler_text"><pre> <code class="bash hljs">san01a&gt; rdfile /etc/hosts <span class="hljs-comment"><span class="hljs-comment">#Auto-generated by setup Thu may 22 13:26:59 GMT 2014 127.0.0.1 localhost localhost-stack 127.0.10.1 localhost-10 localhost-bsd 127.0.20.1 localhost-20 localhost-sk 10.10.40.10 san01a san01a-e0M 192.168.1.185 san01a san01a-e0P 10.10.53.30 san01a-vif1-53</span></span></code> </pre><br><pre> <code class="bash hljs">san01a&gt; exportfs /vol/vol_filerA_nfsA -sec=sys,rw,nosuid /vol/vol_filerA_nfsB -sec=sys,rw,nosuid /vol/vol_filerA_nfsC -sec=sys,rw,nosuid /vol/vol_filerA_nfsD -sec=sys,rw,nosuid</code> </pre><br><pre> <code class="bash hljs">san01a&gt; qtree status Volume Tree Style Oplocks Status -------- -------- ----- -------- --------- rootvol unix enabled normal vol_filerA_nfsA unix enabled normal vol_filerA_nfsA qtree_filerA_nfsA unix enabled normal vol_filerA_nfsB unix enabled normal vol_filerA_nfsB qtree_filerA_nfsB unix enabled normal vol_filerA_nfsC unix enabled normal vol_filerA_nfsC qtree_filerA_nfsC unix enabled normal vol_filerA_nfsD unix enabled normal vol_filerA_nfsD qtree_filerA_nfsD unix enabled normal</code> </pre><br></div></div><br><br>  The following datastores are connected to VMware ESXi <br><pre> <code class="bash hljs">ds_filerA_nfsA 10.10.53.30:/vol/vol_filerA_nfsA/qtree_filerA_nfsA ds_filerA_nfsB 10.10.53.31:/vol/vol_filerA_nfsB/qtree_filerA_nfsB ds_filerA_nfsC 10.10.53.32:/vol/vol_filerA_nfsC/qtree_filerA_nfsC ds_filerA_nfsD 10.10.53.33:/vol/vol_filerA_nfsD/qtree_filerA_nfsD</code> </pre><br><br>  After configuration, we give the load from the test <abbr title="Virtual machine">VMs</abbr> and check the load on the ports from the <abbr title="Storage System">storage</abbr> controller: <br><br><div class="spoiler">  <b class="spoiler_title">We check the load on the ports of NetApp in 7-Mode</b> <div class="spoiler_text"><pre> <code class="bash hljs">san01a&gt; ifgrp <span class="hljs-built_in"><span class="hljs-built_in">stat</span></span> vif1 10 Interface group(trunk) vif1 e0b e0a e0c e0d Pkts In Pkts Out Pkts In Pkts Out Pkts In Pkts Out Pkts In Pkts Out 14225k 13673k 15542k 249k 13838k 11690k 15544k 7809k 46075 38052 90911 7 45882 37666 90812 37704 46953 37735 91581 4 46506 37613 91777 37625 46822 38016 91409 7 45498 37589 91670 37687 46906 38046 91514 6 45469 37591 91495 37588 46600 37737 91308 4 46554 37538 91514 37610 46792 37929 91371 7 45803 37532 91261 37508 46845 37831 91228 8 46307 37517 91450 37587</code> </pre><br></div></div><br><br>  So you can see that the traffic is almost not sent over the e0a interface (Pkts Out column). <br><br><div class="spoiler">  <b class="spoiler_title">Detailed output on the ports of the storage controller</b> <div class="spoiler_text"><pre> <code class="bash hljs">san01a&gt; ifstat -a -- interface e0a (3 hours, 30 minutes, 53 seconds) -- RECEIVE Frames/second: 9147 | Bytes/second: 916k | Errors/minute: 0 Discards/minute: 0 | Total frames: 16347k | Total bytes: 73753m Total errors: 0 | Total discards: 0 | Multi/broadcast: 0 No buffers: 0 | Non-primary u/c: 0 | Tag drop: 0 Vlan tag drop: 0 | Vlan untag drop: 0 | Vlan forwards: 0 Vlan broadcasts: 0 | Vlan unicasts: 0 | CRC errors: 0 Runt frames: 0 | Fragment: 0 | Long frames: 0 Jabber: 0 | Alignment errors: 0 | Bus overruns: 0 Xon: 0 | Xoff: 0 | Jumbo: 8359k TRANSMIT Frames/second: 1 | Bytes/second: 87 | Errors/minute: 0 Discards/minute: 0 | Total frames: 249k | Total bytes: 7674m Total errors: 0 | Total discards: 0 | Multi/broadcast: 1006 Queue overflows: 0 | No buffers: 0 | Max collisions: 0 Single collision: 0 | Multi collisions: 0 | Late collisions: 0 Xon: 0 | Xoff: 0 | Jumbo: 239k LINK_INFO Current state: up | Up to downs: 2 | Speed: 1000m Duplex: full | Flowcontrol: none -- interface e0b (3 hours, 30 minutes, 53 seconds) -- RECEIVE Frames/second: 4678 | Bytes/second: 467k | Errors/minute: 0 Discards/minute: 0 | Total frames: 14637k | Total bytes: 73533m Total errors: 0 | Total discards: 0 | Multi/broadcast: 0 No buffers: 0 | Non-primary u/c: 0 | Tag drop: 0 Vlan tag drop: 0 | Vlan untag drop: 0 | Vlan forwards: 0 Vlan broadcasts: 0 | Vlan unicasts: 0 | CRC errors: 0 Runt frames: 0 | Fragment: 0 | Long frames: 0 Jabber: 0 | Alignment errors: 0 | Bus overruns: 0 Xon: 0 | Xoff: 0 | Jumbo: 8352k TRANSMIT Frames/second: 3773 | Bytes/second: 123m | Errors/minute: 0 Discards/minute: 0 | Total frames: 14007k | Total bytes: 57209m Total errors: 0 | Total discards: 1 | Multi/broadcast: 1531 Queue overflows: 1 | No buffers: 0 | Max collisions: 0 Single collision: 0 | Multi collisions: 0 | Late collisions: 0 Xon: 0 | Xoff: 0 | Jumbo: 2756k LINK_INFO Current state: up | Up to downs: 2 | Speed: 1000m Duplex: full | Flowcontrol: none -- interface e0c (3 hours, 30 minutes, 53 seconds) -- RECEIVE Frames/second: 4630 | Bytes/second: 461k | Errors/minute: 0 Discards/minute: 0 | Total frames: 14243k | Total bytes: 69574m Total errors: 0 | Total discards: 0 | Multi/broadcast: 0 No buffers: 0 | Non-primary u/c: 0 | Tag drop: 0 Vlan tag drop: 0 | Vlan untag drop: 0 | Vlan forwards: 0 Vlan broadcasts: 0 | Vlan unicasts: 0 | CRC errors: 0 Runt frames: 0 | Fragment: 0 | Long frames: 0 Jabber: 0 | Alignment errors: 0 | Bus overruns: 0 Xon: 0 | Xoff: 0 | Jumbo: 7800k TRANSMIT Frames/second: 3756 | Bytes/second: 123m | Errors/minute: 0 Discards/minute: 0 | Total frames: 12022k | Total bytes: 189g Total errors: 0 | Total discards: 0 | Multi/broadcast: 1003 Queue overflows: 0 | No buffers: 0 | Max collisions: 0 Single collision: 0 | Multi collisions: 0 | Late collisions: 0 Xon: 0 | Xoff: 0 | Jumbo: 6283k LINK_INFO Current state: up | Up to downs: 2 | Speed: 1000m Duplex: full | Flowcontrol: none -- interface e0d (3 hours, 30 minutes, 53 seconds) -- RECEIVE Frames/second: 9127 | Bytes/second: 915k | Errors/minute: 0 Discards/minute: 0 | Total frames: 16349k | Total bytes: 73554m Total errors: 0 | Total discards: 0 | Multi/broadcast: 0 No buffers: 0 | Non-primary u/c: 0 | Tag drop: 0 Vlan tag drop: 0 | Vlan untag drop: 0 | Vlan forwards: 0 Vlan broadcasts: 0 | Vlan unicasts: 0 | CRC errors: 0 Runt frames: 0 | Fragment: 0 | Long frames: 0 Jabber: 0 | Alignment errors: 0 | Bus overruns: 0 Xon: 0 | Xoff: 0 | Jumbo: 8339k TRANSMIT Frames/second: 3748 | Bytes/second: 123m | Errors/minute: 0 Discards/minute: 0 | Total frames: 8140k | Total bytes: 62385m Total errors: 0 | Total discards: 0 | Multi/broadcast: 1213 Queue overflows: 0 | No buffers: 0 | Max collisions: 0 Single collision: 0 | Multi collisions: 0 | Late collisions: 0 Xon: 0 | Xoff: 0 | Jumbo: 2413k LINK_INFO Current state: up | Up to downs: 2 | Speed: 1000m Duplex: full | Flowcontrol: none</code> </pre><br></div></div><br><br><h6>  <a href="https://habr.com/ru/post/215351/">Switch</a> </h6><a name="switch"></a><br>  We go to the side of the switch (the switch averages data for a period of several minutes, because the utilization is only 80%, not almost 100%) and we see that the Ethernet port 1/11 practically does not accept frames. <br><br><a name="Catalyst3850"></a><br><div class="spoiler">  <b class="spoiler_title">Example of configuring two Cisco Catalyst 3850s in a stack through 1GBE ports</b> <div class="spoiler_text">  Note the " <i>mode <b>active</b></i> " ( <abbr title="Link Aggregation Control Protocol">LACP</abbr> ) in the interface configuration of the line <i>channel-group 1 mode active</i> .  <i>Mode active</i> ( <abbr title="Link Aggregation Control Protocol">LACP</abbr> ) corresponds to <i>Dynamic Multi-Mode</i> on NetApp.  For details, see <abbr title="Technical Report">TR</abbr> - <a href="http://www.netwell.ru/docs/netapp/rus_tr-3802_ethernet_storage_bp.pdf">3802</a> . <br>  Also note the " <b><i>flowcontrol receive on</i></b> ", the setting of this parameter can vary and depends on several parameters: port speed and switch type.  If the storage ‚Äúsends‚Äù ( <i>flowcontrol <b>send</b></i> ) messages about flow control, then ‚Äúon the other side‚Äù the switch must be configured to ‚Äúreceive‚Äù flow control ( <i>flowcontrol <b>receive on</b></i> ).  <a href="http://habrahabr.ru/post/209422/">More about flowcontrol</a> . <br>  And do not forget about the recommendations for setting up <a href="http://habrahabr.ru/post/209422/">Spanning-Tree</a> , where it is desirable to enable <abbr title="Rapid Spanning Tree Protocol">RSTP</abbr> or the proprietary <abbr title="Rapid per VLAN Spanning Tree +">Rapid-PVST +</abbr> and set the switch ports connected to the end nodes in the <i>spanning-tree portfast state</i> . <br>  NetApp <abbr title="Fabric-attached storage">FAS</abbr> systems support <abbr title="Cisco Discovery Protocol">CDP</abbr> , you can turn it on or leave it off. <br><br><pre> <code class="bash hljs">system mtu 9198 ! spanning-tree mode rapid-pvst ! interface Port-channel1 description N1A-1G-e0a-e0b switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on spanning-tree guard loop ! interface Port-channel2 description N1B-1G-e0a-e0b switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on spanning-tree guard loop ! interface GigabitEthernet1/0/1 description NetApp-A-e0a switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 1 mode active spanning-tree guard loop spanning-tree portfast trunk feature ! interface GigabitEthernet2/0/1 description NetApp-A-e0b switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 1 mode active spanning-tree guard loop spanning-tree portfast trunk feature ! interface GigabitEthernet1/0/2 description NetApp-B-e0a switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 2 mode active spanning-tree guard loop spanning-tree portfast trunk feature ! interface GigabitEthernet2/0/2 description NetApp-B-e0b switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 2 mode active spanning-tree guard loop spanning-tree portfast trunk feature</code> </pre><br></div></div><br><br><a name="Catalyst6509"></a><br><div class="spoiler">  <b class="spoiler_title">Example of setting up two Cisco Catalyst 6509 in a stack through 1GBE ports</b> <div class="spoiler_text">  Note the " <i>mode <b>active</b></i> " ( <abbr title="Link Aggregation Control Protocol">LACP</abbr> ) in the interface configuration of the line <i>channel-group 1 mode active</i> .  <i>Mode active</i> ( <abbr title="Link Aggregation Control Protocol">LACP</abbr> ) corresponds to <i>Dynamic Multi-Mode</i> on NetApp.  For details, see <abbr title="Technical Report">TR</abbr> - <a href="http://www.netwell.ru/docs/netapp/rus_tr-3802_ethernet_storage_bp.pdf">3802</a> . <br>  Also note the " <b><i>flowcontrol receive on</i></b> ", the setting of this parameter can vary and depends on several parameters: port speed and switch type.  If the storage ‚Äúsends‚Äù ( <i>flowcontrol <b>send</b></i> ) messages about flow control, then ‚Äúon the other side‚Äù the switch must be configured to ‚Äúreceive‚Äù flow control ( <i>flowcontrol <b>receive on</b></i> ).  <a href="http://habrahabr.ru/post/209422/">More about flowcontrol</a> . <br>  And do not forget about the recommendations for setting up <a href="http://habrahabr.ru/post/209422/">Spanning-Tree</a> , where it is desirable to enable <abbr title="Rapid Spanning Tree Protocol">RSTP</abbr> or the proprietary <abbr title="Rapid per VLAN Spanning Tree +">Rapid-PVST +</abbr> and set the switch ports connected to the end nodes in the <i>spanning-tree portfast state</i> . <br>  NetApp <abbr title="Fabric-attached storage">FAS</abbr> systems support <abbr title="Cisco Discovery Protocol">CDP</abbr> , you can turn it on or leave it off. <br><br>  Sample for Cisco IOS Release 12.2 (33) SXI and later releases <br><pre> <code class="bash hljs">! For Cisco IOS Release 12.2(33)SXI and later releases system mtu 9198 ! spanning-tree mode rapid-pvst ! interface Port-channel1 description N1A-1G-e0a-e0b switchport switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on spanning-tree guard loop end ! interface Port-channel2 description N1B-1G-e0a-e0b switchport switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on spanning-tree guard loop end ! interface GigabitEthernet1/0/1 description NetApp-A-e0a switchport switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 1 mode active spanning-tree guard loop spanning-tree portfast edge trunk end ! interface GigabitEthernet2/0/1 description NetApp-A-e0b switchport switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 1 mode active spanning-tree guard loop spanning-tree portfast edge trunk end ! interface GigabitEthernet1/0/2 description NetApp-B-e0a switchport switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 2 mode active spanning-tree guard loop spanning-tree portfast edge trunk end ! interface GigabitEthernet2/0/2 description NetApp-B-e0b switchport switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 2 mode active spanning-tree guard loop spanning-tree portfast edge trunk end</code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Example of setting up two Cisco Catalyst 3750s in a stack through 1GBE ports</b> <div class="spoiler_text">  Note the " <i>mode <b>active</b></i> " ( <abbr title="Link Aggregation Control Protocol">LACP</abbr> ) in the interface configuration of the line <i>channel-group 11 mode active</i> .  <i>Mode active</i> ( <abbr title="Link Aggregation Control Protocol">LACP</abbr> ) corresponds to <i>Dynamic Multi-Mode</i> on NetApp.  For details, see <abbr title="Technical Report">TR</abbr> - <a href="http://www.netwell.ru/docs/netapp/rus_tr-3802_ethernet_storage_bp.pdf">3802</a> . <br>  Also note the " <b><i>flowcontrol receive on</i></b> ", the setting of this parameter can vary and depends on several parameters: port speed and switch type.  If the storage ‚Äúsends‚Äù ( <i>flowcontrol <b>send</b></i> ) messages about flow control, then ‚Äúon the other side‚Äù the switch must be configured to ‚Äúreceive‚Äù flow control ( <i>flowcontrol <b>receive on</b></i> ).  <a href="http://habrahabr.ru/post/209422/">More about flowcontrol</a> . <br>  And do not forget about the recommendations for setting up <a href="http://habrahabr.ru/post/209422/">Spanning-Tree</a> , where it is desirable to enable <abbr title="Rapid Spanning Tree Protocol">RSTP</abbr> or the proprietary <abbr title="Rapid per VLAN Spanning Tree +">Rapid-PVST +</abbr> and set the switch ports connected to the end nodes in the <i>spanning-tree portfast state</i> . <br>  NetApp <abbr title="Fabric-attached storage">FAS</abbr> systems support <abbr title="Cisco Discovery Protocol">CDP</abbr> , you can turn it on or leave it off. <br><br><pre> <code class="bash hljs">system mtu 9198 ! spanning-tree mode rapid-pvst ! interface Port-channel11 description NetApp-A-e0a-e0b switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on spanning-tree guard loop spanning-tree portfast trunk feature ! interface Port-channel12 description NetApp-B-e0a-e0b switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on spanning-tree guard loop spanning-tree portfast trunk feature ! interface GigabitEthernet1/0/1 description NetApp-A-e0a switchport trunk encapsulation dot1q switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 11 mode active spanning-tree guard loop spanning-tree portfast trunk feature ! interface GigabitEthernet2/0/1 description NetApp-A-e0b switchport trunk encapsulation dot1q switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 11 mode active spanning-tree guard loop spanning-tree portfast trunk feature ! interface GigabitEthernet1/0/2 description NetApp-B-e0a switchport trunk encapsulation dot1q switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 12 mode active spanning-tree guard loop spanning-tree portfast trunk feature ! interface GigabitEthernet2/0/2 description NetApp-B-e0b switchport trunk encapsulation dot1q switchport trunk native vlan 1 switchport trunk allowed vlan 53 switchport mode trunk flowcontrol receive on cdp <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> channel-group 12 mode active spanning-tree guard loop spanning-tree portfast trunk feature</code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">An example of setting up two Cisco Small Business SG500 in a stack through 10GBE ports</b> <div class="spoiler_text">  Note the " <i>mode <b>active</b></i> " ( <abbr title="Link Aggregation Control Protocol">LACP</abbr> ) in the interface configuration of the line <i>channel-group 1 mode active</i> .  <i>Mode active</i> ( <abbr title="Link Aggregation Control Protocol">LACP</abbr> ) corresponds to <i>Dynamic Multi-Mode</i> on NetApp.  For details, see <abbr title="Technical Report">TR</abbr> - <a href="http://www.netwell.ru/docs/netapp/rus_tr-3802_ethernet_storage_bp.pdf">3802</a> . <br>  Also note the " <b><i>flowcontrol off</i></b> ", the setting of this parameter may vary and depends on several parameters: port speed and switch type.  If the storage "does not send and does not accept" commands ( <i>flowcontrol <b>off</b></i> ) of flow control, then "on the other side" the switch must also "not accept and not send" them.  <a href="http://habrahabr.ru/post/209422/">More about flowcontrol</a> . <br>  And do not forget about the recommendations for setting up <a href="http://habrahabr.ru/post/209422/">Spanning-Tree</a> , where it is desirable to enable <abbr title="Rapid Spanning Tree Protocol">RSTP</abbr> and set the switch ports connected to the end nodes to <i>spanning-tree portfast</i> . <br><br><pre> <code class="bash hljs">interface Port-channel1 description N1A-10G-e1a-e1b spanning-tree ddportfast switchport trunk allowed vlan add 53 macro description host !next <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> is internal. macro auto smartport dynamic_type host flowcontrol off ! interface Port-channel2 description N1B-10G-e1a-e1b spanning-tree ddportfast switchport trunk allowed vlan add 53 macro description host !next <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> is internal. macro auto smartport dynamic_type host flowcontrol off ! port jumbo-frame ! interface tengigabitethernet1/1/1 description NetApp-A-e1a channel-group 1 mode active flowcontrol off ! interface tengigabitethernet2/1/1 description NetApp-A-e1b channel-group 1 mode active flowcontrol off ! interface tengigabitethernet1/1/2 description NetApp-B-e1a channel-group 2 mode active flowcontrol off ! interface tengigabitethernet2/1/2 description NetApp-B-e1b channel-group 2 mode active flowcontrol off</code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Example of setting up the HP 6120XG in an HP c7000 chassis blade through 10GBE ports</b> <div class="spoiler_text">  Note that if the flowcontrol does not appear anywhere in the configuration, it means that it is in the " <b><i>flowcontrol auto</i></b> " state, and if on the storage ports that are connected to the switch, the flowcontol is off, then on the switch on the corresponding ports it will be in the "off" state .  The setting of the flowcontrol parameter may vary, and depends on several parameters: port speed and switch type.  If the storage "does not send and does not accept" commands ( <i>flowcontrol <b>off</b></i> ) of flow control, then "on the other side" the switch must also "not accept and not send" them.  <a href="http://habrahabr.ru/post/209422/">More about flowcontrol</a> . <br>  And do not forget about the recommendations for setting up <a href="http://habrahabr.ru/post/209422/">Spanning-Tree</a> , where it is desirable to enable <abbr title="Rapid Spanning Tree Protocol">RSTP</abbr> and set the switch ports connected to the end nodes to <i>spanning-tree portfast</i> . <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># HP 6120XG from HP c7000 10Gb/s trunk 17-18 Trk1 LACP trunk 19-20 Trk2 LACP vlan 201 name "N1AB-10G-e1a-e1b-201" ip address 192.168.201.222 255.255.255.0 tagged Trk1-Trk2 jumbo exit vlan 202 name "N1AB-10G-e1a-e1b-202" tagged Trk1-Trk2 no ip address jumbo exit spanning-tree force-version rstp-operation</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Status and Counters - Port Utilization</b> <div class="spoiler_text"><pre> <code class="bash hljs"> Rx Tx Port Mode | ------------------------- | ------------------------- | Kbits/sec Pkts/sec Util | Kbits/sec Pkts/sec Util ------- --------- + ---------- --------- ---- + ---------- ---------- ---  1/11-Trk10 1000FDx| 5000 0 00.50 | 23088 7591 02.30 1/12-Trk10 1000FDx| 814232 12453 81.42 | 19576 3979 01.95 2/11-Trk10 1000FDx| 810920 12276 81.09 | 20528 3938 02.05 2/12-Trk10 1000FDx| 811232 12280 81.12 | 23024 7596 02.30  1/17-Trk22 1000FDx| 23000 7594 02.30 | 810848 12275 81.08 1/18-Trk22 1000FDx| 23072 7592 02.30 | 410320 6242 41.03 2/17-Trk22 1000FDx| 19504 3982 01.95 | 408952 6235 40.89 2/18-Trk22 1000FDx| 20544 3940 02.05 | 811184 12281 81.11</code> </pre><br></div></div><br><br>  Visible load (Rx) for the controller in the ‚ÄúRx Util‚Äù column and load for transmission (Tx) for the server in the ‚ÄúTx Util‚Äù column.  It can be seen that 2 datastores share one controller link. <br><br>  When you start the generation of linear recording on all 4 <abbr title="Virtual machine">VM</abbr> and 4 <abbr title="Network file system">NFS</abbr> balls respectively, balancing the traffic does not depend on the <abbr title="Storage System">storage system</abbr> , so the picture is expected. <br><br><h4>  <a href="https://habr.com/ru/post/215351/">IP selection</a> </h4><a name="findip"></a><br>  It turns out that the <abbr title="Storage System">storage system</abbr> for aggregation of channels with IP balancing does not use all the available lines, as it should be according to theory, but only 3 out of 4.  At the same time, all other participants (switch and ESXi) balance correctly across all 4 lines.  The traffic of 2 datastores from the <abbr title="Storage System">storage system</abbr> to the switch goes in one link, and from the switch to ESXi, already in two. <br>  A similar picture is observed when working under the <abbr title="Internet Small Computer System Interface">iSCSI</abbr> protocol.  One of the 4 links to the outgoing communication <abbr title="Storage System">DSS</abbr> is practically not loaded (5-10 packets in 10 seconds).  On the second controller and another server, the situation is similar. <br><br>  Why is this happening?  Yes, because the hash of the sum of the two IP pairs coincide, forcing the algorithm to choose the same link.  In other words, you just need to pick up other IP. <br><br>  You can simply go through the IP options.  In writing the program for selecting IP addresses, the great difficulty lies in the fact that the algorithm uses bitwise shifts over the significant 32bit integer and addition operations over them (overflows are discarded).  Since the scripting languages ‚Äã‚Äãare now weakly focused on the fixed bitness of numbers, it was not possible to achieve a normal calculation in python.  Therefore, a small program for the calculation of the entire range was written in C, and then use the results in the enumeration. <br><br><h4>  <a href="https://habr.com/ru/post/215351/">SuperFastHash algorithm</a> </h4><a name="algoritm"></a><br><br>  Starting with Data ONTAP 7.3.2, not just a XOR operation over the two source and destination IP addresses is used to select a path <i>((source_address XOR destination_address)% number_of_links)</i> .  A more complex bit-wise algorithm called SuperFastHash is a more dynamic, more balanced way to distribute the load and provides better balancing for a large number of customers.  The result is almost the same, but each TCP session is associated with only one interface. <br><br><div class="spoiler">  <b class="spoiler_title">Coded by Alexander Gordienko</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdio.h&gt; int debug = 0; void f_shiftL(int *r, int step, int i, int offset) { r[step] = r[i] &lt;&lt; offset; if (debug &gt; 0) { printf("\nStep %i Left Shift %i %i\n", step, i, offset); printf("\t%i &lt;&lt; %i\n", r[i], offset); printf("\t%i\n", r[step]); } } void f_shiftR(int *r, int step, int i, int offset) { r[step] = r[i] &gt;&gt; offset; if (debug &gt; 0) { printf("\nStep %i Right Shift %i %i\n", step, i, offset); printf("\t%i\n", r[i]); printf("\t%i\n", r[step]); } } void f_xor(int *r, int step, int i, int j) { r[step] = r[i] ^ r[j]; if (debug &gt; 0) { printf("\nStep %i XOR %i %i\n", step, i, j); printf("\t%i\n", r[i]); printf("\t%i\n", r[j]); printf("\t%i\n", r[step]); } } void f_sum(int *r, int step, int i, int j) { r[step] = r[i] + r[j]; if (debug &gt; 0) { printf("\nStep %i ADD %i %i\n", step, i, j); printf("\t%i\n", r[i]); printf("\t%i\n", r[j]); printf("\t%i\n", r[step]); } } int balance_ip_netapp (int net, int src, int dst, int link_cnt) { int res[30]; res[0] = net*256 + src; res[1] = net*256 + dst; //printf ("a = %i.%i (%i)\n", net, src, res[0]); //printf ("b = %i.%i (%i)\n", net, dst, res[1]); f_shiftL(res, 2, 1,11); f_xor (res, 3, 0, 2); f_shiftL(res, 4, 0,16); f_xor (res, 5, 3, 4); f_shiftR(res, 6, 5,11); f_sum (res, 7, 5, 6); f_shiftL(res,15, 7, 3); f_xor (res,16, 7,15); f_shiftR(res,17,16, 5); f_sum (res,18,16,17); f_shiftL(res,19,18, 4); f_xor (res,20,18,19); f_shiftR(res,21,20,17); f_sum (res,22,20,21); f_shiftL(res,23,22,25); f_xor (res,24,22,23); f_shiftR(res,25,24, 6); f_sum (res,26,24,25); res[27] = res[26] % link_cnt; if (res[27] &lt; 0) { res[27] = res[27] + link_cnt; } printf ("%i.%i -&gt; %i, %i\n", net, src, dst, res[27]); return 0; } int main() { int src, dst, interface; //    interface = 4; printf ("IP Octet3.IP Octet4 Source -&gt; IP Octet4 Destination, Interface\n"); //  destination    IP  (   21  23) for (src=21; src&lt;=23; src++) { //  source    IP  (   30  250) for (dst=30; dst&lt;=250; dst++) { //   IP  (  52  53) balance_ip_netapp(52, dst, src, interface ); balance_ip_netapp(53, dst, src, interface ); } } }</span></span></span></span></code> </pre><br></div></div><br>  By the way, to quickly get the result is very convenient to use the <a href="http://www.tutorialspoint.com/compile_cpp11_online.php">online compiler</a> . <br><br>  Below are the options for choosing the IP addresses of the <abbr title="Storage System">storage</abbr> , provided that there are 3 servers (with IP addresses ending in 21, 22 and 23 and the number of interfaces to the storage system of 3, 4 and 4, respectively). <br>  The calculation was made for two networks XX.YY.52.ZZ / 24 and XX.YY.53.ZZ / 24.  IP addresses for <abbr title="Storage System">storage systems</abbr> that meet the above conditions were selected. <br><br><h5>  <a href="https://habr.com/ru/post/215351/">How to use the tablet</a> </h5><a name="howto-use-the-table"></a><br>  When exchanging traffic between a server with IP XX.YY.52.22 and <abbr title="Storage System">storage</abbr> alias XX.YY.52.35, traffic: <br>  from <abbr title="Storage System">storage</abbr> to switch (column NetApp Out, 22) goes through interface number 2 by numbering the <abbr title="Storage System">storage</abbr> from switch to <abbr title="Storage System">storage</abbr> (column NetApp In, 22) goes through interface number 1 using switch numbering from switch to server and from server to switch ( Server InOut column, 22) will go on port 1 in the server numbering and switch, respectively (not the fact that they consider the same) <br><br>  It can be seen that for each server traffic with different aliases on one controller will go through different interfaces.  Similarly, traffic from different servers to one IP <abbr title="Storage System">storage system</abbr> will go through different interfaces. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cbb/5ed/326/cbb5ed32661c6305eedea100ec3c72c5.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/07e/856/f1a/07e856f1aeb3a106d678a976817bdd40.png"><br><br>      , <a href="https://communities.netapp.com/thread/32967">      IP   NetApp</a> . <br><br> <a href="http://blog.sentrium.io/ethernet-port-aggregation-and-load-balancing-with-ontap">      ++</a> . <br><br> <b>        <abbr title=" "></abbr> .</b> </div><p>Source: <a href="https://habr.com/ru/post/215351/">https://habr.com/ru/post/215351/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215339/index.html">C ++ for Perl programmers</a></li>
<li><a href="../215341/index.html">Business Continuity: What can IBM offer?</a></li>
<li><a href="../215343/index.html">AST Transformations - First Step to Heavy Substances</a></li>
<li><a href="../215345/index.html">Problems with the code? Help the team write better code. Tips from Dino Esposito</a></li>
<li><a href="../215347/index.html">Who should be in the 21st century, if dad and grandfather are energy people?</a></li>
<li><a href="../215353/index.html">We collect the pocket laser</a></li>
<li><a href="../215355/index.html">Search for odd performance reasons</a></li>
<li><a href="../215357/index.html">BitSorting Algorithm with complexity O (n)</a></li>
<li><a href="../215361/index.html">Turn Zalman into Noctua (or fan upgrade)</a></li>
<li><a href="../215363/index.html">Automation of system integration testing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>