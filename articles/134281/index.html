<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Speed ‚Äã‚Äãtest a year later</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This publication is a continuation of my post last year and a subsequent note . For a whole year, test scripts lay somewhere on the disk. It did not c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Speed ‚Äã‚Äãtest a year later</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/e5/4a/e54a45b012bdaaaa5ac6442ebb80ec11.png" alt="image" align="left">  This publication is a continuation of <a href="http://habrahabr.ru/blogs/javascript/108760/">my post last year</a> and a subsequent <a href="http://habrahabr.ru/blogs/javascript/110617/">note</a> .  For a whole year, test scripts lay somewhere on the disk.  It did not come to comparing JavaScript vs C #, which was suggested after the disgraceful failure of JScript.NET.  It didn‚Äôt come because I didn‚Äôt feel in myself the strength to adequately translate tests with JavaScript, although I actively program in C #.  In addition, I made a test run, and it seemed to me that there would be no miracle.  Now I decided to put the test package in order, so that everyone can try it out.  Maybe someone has the strength to add an adequate comparison with C #. <br>  Under the cut there will be test results a year later, a link to Github, and a new ( <a href="http://habrahabr.ru/blogs/javascript/110617/">old</a> ) way of using the JScript engine from IE9 outside of IE9 itself. <br><br><a name="habracut"></a><br><br><h4>  IE9 engine. </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For a year, IE9 officially managed to exit.  Earlier, I thought that after the release, the new JScript engine will replace the old one in the system.  So it was with all the engines before.  However, after installing the official IE9 found that in the directory C: \ Windows \ System32 there are two libraries - jscript.dll and jscript9.dll. <br>  After installing IE9, Windows Script Host continues to use the old 5.8 engine.  The old trick with the substitution of the library name in the registry does not pass.  At the same time, the jscript9.dll library is registered with a different GUID in the registry.  I already started to lose hope of using the new engine outside of IE, but the solution was still found - you just need to register the GUID jscript9.dll as another Scripting Engine for Windows Active Scripting.  I did it with the following * .reg file. <br><br> <code>Windows Registry Editor Version 5.00 <br> <br> [HKEY_CLASSES_ROOT\JavaScript9] <br> <br> [HKEY_CLASSES_ROOT\JavaScript9\CLSID] <br> @="{16d51579-a30b-4c8b-a276-0ff4dc41e755}" <br></code> <br><br>  Now scripts can be run on the 9th version of JScript from the command line <br><br>  <i>cscript.exe // E: javascript script.js</i> <br><br><h4>  Test package </h4><br><br>  Package <a href="https://github.com/xdenser/js-perf-test">posted on Github</a> .  To run the tests, except for the package itself, you will need: <br><br><ul><li>  NodeJS - you can <a href="">download and install</a> , or download only an <a href="">EXE</a> file; </li><li>  JSDB - you can <a href="">download</a> the archive from the official site and unpack it somewhere; </li><li>  JScript.NET Compiler - install the appropriate version of the .NET Framework; </li><li>  JScript interpreter engine - you can use the one that already exists in the system.  If IE9 is installed, it is necessary to carry out the manipulations described in the previous section.  If you want to test older versions ... but who cares?! </li></ul><br><br>  To run the tests used a set of simple CMD files.  A test session is started by a file. <br><br>  dotest.cmd <br><br>  In order to include any engine in testing, simply uncomment the corresponding line in this file. <br>  Each interpreter test is launched by the corresponding run. *. Cmd file, the JScript.NET tests are run by the comp.NET. *. Cmd files.  Before running the tests, you must make sure: <br><ol><li>  that the paths in the required run. *. cmd files correctly indicate the executable files of the engines (if they are not registered in the PATH environment variable) </li><li>  that the paths in the required comp.NET. *. cmd files indicate the installed versions of the .NET Framework </li></ol><br><br>  Each test run creates a new HTML file in a subfolder of results, which is the test result that is almost ready for presentation. <br><br>  The tests themselves are placed in the tests folder;  there you can add your tests, not necessarily to compare the performance of different engines.  For example, you can still consider different solutions to the same problem within the same engine.  Here is an example test file: <br><pre> <code class="javascript hljs">!<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str1 = <span class="hljs-string"><span class="hljs-string">'Hello '</span></span>, str2 = <span class="hljs-string"><span class="hljs-string">'world '</span></span>, str3 = <span class="hljs-string"><span class="hljs-string">'test '</span></span>, i = <span class="hljs-number"><span class="hljs-number">0</span></span>; tests.push({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'String Concat'</span></span>, <span class="hljs-attr"><span class="hljs-attr">func</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ i++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str1+str2+str3+<span class="hljs-string"><span class="hljs-string">' '</span></span>+i; }, <span class="hljs-attr"><span class="hljs-attr">reduce</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">r,x</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r+x.length;}, <span class="hljs-attr"><span class="hljs-attr">start</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">loops</span></span>: <span class="hljs-number"><span class="hljs-number">100000</span></span> }); }();</code> </pre><br><br>  As you can see, in the tests array you need to add an object with the following properties: <br><ul><li>  name - the name of the test; </li><li>  func - tested code that can return a certain result, to verify that the code works correctly on different engines; </li><li>  reduce - a function to accumulate the results of test iterations; </li><li>  start - the starting value for reduce; </li><li>  loops - the number of test iterations. </li></ul><br><br><h4>  The result of the last test </h4><br><br><img src="https://habrastorage.org/storage1/585776f5/36f72985/a31065aa/9d63c2df.png"><br><br><img src="https://habrastorage.org/storage1/c80ed9cc/f6bfef86/b18d3c44/d7b0e0d8.png"><br><br><img src="https://habrastorage.org/storage1/a360344a/b17722af/b1ec93e1/7b2ae7cd.png"><br><br><img src="https://habrastorage.org/storage1/8cf7b06c/37367415/f4717113/1179cbe4.png"><br><br><img src="https://habrastorage.org/storage1/dc17671c/295f5937/9284d2d1/4437ef54.png"><br><br><img src="https://habrastorage.org/storage1/a739eef6/e8933295/a72d18c4/bd66cc40.png"><br><br><img src="https://habrastorage.org/storage1/a9517ff4/ca10f1ef/d5b97d80/b38a0757.png"><br><br>  Publish the results turned out to be easier in the form of pictures.  If someone needs tabular data <a href="https://github.com/downloads/xdenser/js-perf-test/charts_09122011004309.html">here is the</a> source file. <br><br>  What is interesting is that in native tests, the new V8 is much faster than the old one, and in mine a bit slower. <br>  It should also be noted that these tests in no way reflect the advantages of NodeJS in asynchronous I / O.  All tests are synchronous and we are testing just different versions of the V8 engine.  To test the asynchronous benefits of NodeJS, you need to write special tests.  True, in this case it is not clear what else to compare it with in this package.  Other engines do not provide similar event loop capabilities. <br>  Well, in the end, as usual, a meaningless rating: <br><br><img src="https://habrastorage.org/storage1/726795f0/8f112293/0909799f/2bd5f3cc.png"><br><br>  Yes, the hardware is different this year and JScript 5.8 showed clearly better results.  However, build 5.8 is slightly different. </div><p>Source: <a href="https://habr.com/ru/post/134281/">https://habr.com/ru/post/134281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134273/index.html">Fuck off, Mr. Bond [The secret code of the British special services hacked]</a></li>
<li><a href="../134274/index.html">Cryptographic protection of DNS traffic</a></li>
<li><a href="../134275/index.html">Embedded Tweet. Now tweets can be inserted into your site</a></li>
<li><a href="../134277/index.html">Home Automation Kit - how do you see it?</a></li>
<li><a href="../134278/index.html">StartFellows is a free grant for Internet startups.</a></li>
<li><a href="../134283/index.html">Impressive Solids: making a game in C # under OpenGL, part II</a></li>
<li><a href="../134286/index.html">HTC Desire HD has been updated to Android 2.3.5 and Sense 3.0</a></li>
<li><a href="../134288/index.html">Bookbase - beta was born</a></li>
<li><a href="../134289/index.html">Development of cartographic mobile applications in C ++ / Qt, using Qt Mobility</a></li>
<li><a href="../134292/index.html">Winning the domino effect</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>