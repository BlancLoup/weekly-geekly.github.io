<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Acceleration Arduino. Under liquid nitrogen. 20 ‚áí 65.3Mhz @ -196 ¬∞ C</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Before the article starts, you should immediately answer 2 questions, don't go to the fortuneteller - they will be asked: 

 1) What is the practical ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Acceleration Arduino. Under liquid nitrogen. 20 ‚áí 65.3Mhz @ -196 ¬∞ C</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/b97/99e/40d/b9799e40d2e5c103969c8e8d312b658b.jpg" align="right">  Before the article starts, you should immediately answer 2 questions, don't go to the fortuneteller - they will be asked: <br><br>  1) What is the practical meaning of this?  Understand how electronics behaves at cryogenic temperatures, and it‚Äôs just interesting how much AVR can be squeezed out of 20 MHz :-) We managed to figure out a moment that is extremely important for overclocking desktop processors with cryogenic cooling. <br><br>  2) Why Arduino, because there is a bunch of microcontrollers faster, and i7 in general tears all?  Exactly.  There are a lot of much more modern microcontrollers, which are 2-3 orders of magnitude faster (and I have them).  However, Arduino has received great fame among fans, because it was decided to torment her.  And for practical applications, it is certainly cheaper and easier to take faster microcontrollers (Cortex-M3, M4). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Overclocking a microcontroller under liquid nitrogen promises to be somewhat more difficult than overclocking ‚Äúdesktop‚Äù processors - after all, there are no stability tests, no programmable clock frequency generator, or supply voltage control.  And the components on the Arduino, as practice has shown, do not withstand cryogenic temperatures - and they will have to be dealt with individually.  Fortunately, all these problems were solved. <a name="habracut"></a><br><br><h1>  A liquid nitrogen </h1>  I have long wanted to reach it.  It turned out that several companies sell it in Moscow.  The closest of all was the <a href="http://www.niikm.ru/contacts/departments/retail/">scientific research institute KM</a> , where nitrogen is 50 rubles per liter.  Some companies are not wincing for 5 liters asking 950 rubles - with them, of course, we are not on the way. <br><br>  Liquid nitrogen is obtained literally from the air ‚Äî by liquefying it and dividing it on a distillation column, or vice versa ‚Äî first by releasing the nitrogen from the air with special filters, and then liquefying.  As it turned out, even small plants for the production of liquid nitrogen (10 liters per day) are sold.  The cost of production for electricity - 5-10 rubles per liter.  Now I know exactly what I want for my birthday! <img src="https://habrastorage.org/getpro/habr/post_images/ece/c32/90c/ecec3290cfe5e6d19a5514280b05be3d.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a13/875/58d/a1387558dcbe856f81e1cefa4567ecc5.jpg"><br><br>  Nitrogen can be transferred in ordinary steel thermos (glass can crack from a sharp drop in temperature).  After additional insulation (+1 centimeter of thermal insulation and polyethylene to protect against condensation), nitrogen was boiled away in 30 hours, which is basically enough for work.  It is quite expensive to buy a special Dewar vessel, although nitrogen from small (~ 5 liters) ‚Äúregular‚Äù Dewar vessels boils away in 25 days.  You also need to remember that in no case can not hermetically close the liquid nitrogen - will tear to shreds. <br><br>  At <a href="http://physics.stackexchange.com/questions/73803/how-to-prolong-life-of-liquid-nitrogen-in-hosehold-vacuum-flask">physics.stackexchange.com/ it was</a> suggested that thermal insulation should be done the other way around - wear on top, not bottom.  To evaporate nitrogen cooled the outer wall of the thermos. <br><img src="https://habrastorage.org/getpro/habr/post_images/d9b/be7/175/d9bbe71758b197c6c97fdde54f51546f.jpg"><br><br><h1>  Stress Testing </h1>  I had to write a test that tests reading / writing in SRAM, reading from flash, arithmetic operations and program flow test (with branches).  The idea of ‚Äã‚Äãthe tests ‚Äî a sequence of commands was found that takes the system out of the initial state, and then after a certain number of steps ‚Äî leads to the original one.  Download the completed stress test <a href="">here</a> . <br><div class="spoiler">  <b class="spoiler_title">Watch tests</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run_flow_test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> repeat=<span class="hljs-number"><span class="hljs-number">0</span></span>;repeat&lt;<span class="hljs-number"><span class="hljs-number">250</span></span>;repeat++)<span class="hljs-comment"><span class="hljs-comment">//We are aiming at ~10 benches per second { //Program flow check //Magic loop which after 93 itterations yields same value for(unsigned char i=0;i&lt;93;i++) { flow_check=(flow_check&lt;&lt;1) + (flow_check&gt;&gt;7) + 25; if(flow_check&amp;8) flow_check^=4; else flow_check^=16; flow_check=flow_check ^ 192 + 1; } } } void run_mul_test() { for(int repeat=0;repeat&lt;350;repeat++)//We are aiming at ~10 benches per second { //Multiplication check for(unsigned char i=0;i&lt;64;i++) { mul_check=mul_check*(mul_check-1); mul_check=mul_check*(mul_check+1)+2; } } } void run_flash_test() { for(int repeat=0;repeat&lt;1000;repeat++)//We are aiming at ~10 benches per second { //flash_check for(unsigned char i=0;i&lt;16;i++) { flash_check=(flash_check ^ svalue1) + svalue2; flash_check=(flash_check&lt;&lt;((svalue3+flash_check)&amp;7)) + (flash_check&gt;&gt;((svalue3+flash_check)&amp;7)) + svalue4; } } } void run_sram_test() { for(int repeat=0;repeat&lt;10;repeat++)//We are aiming at ~10 benches per second { //SRAM check for(int i=0;i&lt;2405;i++) { value1=(value1+value2+value3+value4+sram_check)&amp;1; value2=(value2+value1+value3+value4+sram_check)&amp;1+1; value3=(value3+value1+value2+value4+sram_check)&amp;1+2; value4=(value4+value1+value2+value3+sram_check)&amp;1+3; sram_check=(sram_check&lt;&lt;1)+(sram_check&gt;&gt;7)+value1+value2+value3+value4; } } }</span></span></code> </pre> </div></div><br><br>  The HD44780 screen connected in a <a href="http://arduino.cc/en/Tutorial/LiquidCrystalDisplay">standard way</a> on a 4-bit bus in the second line displays the iteration number of the loop, and 8 hexadecimal digits of the checksums.  The first 2 are the SRAM test, then Flash, arithmetic and program flow.  If everything is ok, then the checksum should be 12345678. An error in the checksums accumulates.  Also, the error code is displayed by blinking of the LED on the board: monotonous blinking is all ok, 1 flash is a SRAM error, 2 is Flash, etc.  With tests at ~ -100 ¬∞ C - usually found a program flow test error, at -196 ¬∞ C - a test with reading / writing SRAM memory. <br><br>  It was assumed that when the voltage rises, I will have to turn off the display, and rely only on the LED.  However, it turned out the opposite - the LED at liquid nitrogen temperature stopped working (due to the expansion of the band gap, the required voltage for ignition was higher than the supply voltage, more on that below). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/741/f3b/ee8/741f3bee82e71f81aae7202dc31eafaf.jpg"><br><br><h1>  Clock Generator </h1>  Arduino by default works from quartz.  Quartz on the first harmonic usually does not work above 30 MHz, so working with an external generator is inevitable.  In order not to solder the Arduin board itself, I turned off 2 legs, to which quartz is connected, and soldered the contact to an external clock frequency.  Well, it was necessary to change the fusae for working from an external generator, for which a separate programmer is needed (in my case, the <a href="http://3.14.by/ru/read/TL866CS-MiniPro-programmer">TL866CS MiniPro</a> ).  Of course, I thought about this after bending the legs, and the microcontroller had to be installed with crutches in the programmer.  In the picture to the left - the Chinese DCDC module on the LM2596 is also visible, with which I changed the supply voltage. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7e9/987/0bc/7e99870bc022064fc06e6e736ef1783a.jpg"><br><br>  I certainly did not have a signal generator up to 100 MHz - this is not a cheap deal.  A tunable generator capable of generating in the required range (16-100 MHz) with a duty cycle of 50% could only be collected from the 4th attempt.  It turned out that many generators on logic elements either have a very low maximum frequency or are unstable at high frequencies (some pulses accidentally become shorter / wider).  In the end, the following scheme reliably generated over the entire required range.  The output resistor R1 is partially sequentially terminated, so that the overshot of the clock signal on the side of the microcontroller is not so scary.  We have to work at a higher voltage, so the chip can be burned (with a ‚Äúsharp‚Äù signal with an amplitude of 8V, instantaneous ‚Äúoutliers‚Äù on the microcontroller side would be up to 16 volts). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/272/449/6c6/2724496c6a6ba4857c000245af7d2603.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a89/71b/7b9/a8971b7b9ffdc37461ac74ff07309e90.jpg"><br><br><h1>  Features of the electronics at cryogenic temperatures </h1>  When cooled to -196 degrees, the resistance of metals drops dramatically.  For example, for copper - the coil had a resistance of 56.3 ohms at room temperature and only 6.6 ohms when cooled (a drop of 8.5 times). <br><br>  The behavior of capacitors is much more complicated: electrolytic capacitors lose ~ 500,000 times when electrolyte freezes.  Ceramic capacitors - depending on the dielectric: the cheapest Y5V - lose almost all capacity when cooled, X7R - lose 66% of capacity and NP0 (C0G) - no more than 1% capacity change (but such capacitors with a capacity of more than 1000 pF are rare).  Accordingly, if the decoupling power capacitors were with a Y5V dielectric, then the circuit could lose stability during cooling.  You can check the type of dielectric and when heated to 100-150 degrees - the effect on the capacitance is about the same.  To eliminate this problem - capacitors with X7R and NP0 insulators were soldered directly onto the microcontroller's power legs. <br><br>  For semiconductors, the <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BF%25D1%2580%25D0%25B5%25D1%2589%25D1%2591%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25B7%25D0%25BE%25D0%25BD%25D0%25B0">band gap</a> increases, and the electron / hole mobility changes (here the relationship is complex).  In practice, this leads to the fact that, for example, silicon diodes - have a voltage drop of not 0.6-0.7 V, but 1.1.  This is especially true for analog circuits in which there are many bipolar transistors. <br><br>  Due to the increase in the width of the forbidden zone - the color of the glow of the LEDs changes, it becomes shorter.  This is especially noticeable on orange / yellow LEDs - they turn green.  In this case, the required supply voltage greatly increases, and in this case, there was not enough supply voltage to turn it on. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/4qgPhNHJPB8%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253,15700258&amp;usg=ALkJrhjnS3l7iXCZSdWGuPVJsPDnB4xdnA" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Why chips can start to work faster when cooled?</b>  The speed of the CMOS-logic is limited by the speed of charge / discharge of parasitic capacitors (the capacitance of the gate transistors and metal connections).  And since  when the temperature decreases, the resistance of metals decreases - the speed of work can increase, especially if the circuit has a speed-critical section - these were some kind of long chains. <br><br>  Those.  liquid nitrogen is needed not to remove a large amount of heat (it does this worse than ordinary water with its heat capacity), but to improve the characteristics of the microcircuit by reducing the resistance of internal metal compounds. <br><br><h1>  Direct overclocking with a dramatic start </h1>  After all these preparations - slowly pour Arduino with liquid nitrogen, I hear the connections crunching there, and suddenly the screen lights go out, and then the board ‚Äúhangs‚Äù.  I thought it was the end.  Then it turned out that if we slightly raise the board above the nitrogen so that it does not cool so much, the backlight will light up again and the board will work.  I hardly managed to overclock it, up to ~ 50 MHz.  But of course the result was not reliable, because  The temperature of the microcontroller was variable. <br><br>  Suddenly, looking at how the board stops when it is lowered into nitrogen and continues to work when it is warming up, an idea came: what if it comes to protection against too low supply voltage?  Disconnected Brown-out detection - and the microcontroller began to work stably when lowering into liquid nitrogen!  With the screen, it turned out that the backlight was connected to the 3.3V linear regulator on the board (the power pins were running out) - and as the temperature dropped, it seemed that the protection also worked, the voltage dropped strongly.  I connected it directly to 5V - and it also worked. <br><br>  Stable work was about 50 MHz - and I began to increase the voltage.  It turned out that above 8 Volt - the system stopped working, and 7.5-8 Volts ensured absolutely stable operation at a frequency of 65.3 MHz.  For comparison, at room temperature and 5V - the maximum stable frequency is 32.5 MHz, and at 8V - 37 MHz. <br><br>  At a frequency of 65 MHz, the test worked stably for more than an hour, for a total of 3 liters of nitrogen was taken for overclocking. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ace/4f2/f8e/ace4f2f8e59d2f652387ff2cb3ebd436.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/004/c12/719/004c12719fe795be18b9d007ab21c577.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/5d6/b0b/7b4/5d6b0b7b442c5b50b5b56329050207e8.jpg"><br><br>  On the air - the board is instantly covered with frost: <br><img src="https://habrastorage.org/getpro/habr/post_images/f8f/753/3e3/f8f7533e3ac7a39b22f635d1d15260a7.jpg"><br><br>  In the video, the test at a frequency of 65 MHz begins at 7:12, the type of work of the Arduino under a layer of liquid nitrogen - at 9.00. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/KVRvWmcxnA0%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253,15700258&amp;usg=ALkJrhiYcoSun88Ac6OvhN5T-R65P6eZAQ" frameborder="0" allowfullscreen=""></iframe><br><br><div class="spoiler">  <b class="spoiler_title">And the remains of liquid nitrogen will meet face to face with hot water:</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/VbWbUc4ddaU%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253,15700258&amp;usg=ALkJrhhpSPrU5xInJ46Gqg0VDM7nV1ItoA" frameborder="0" allowfullscreen=""></iframe></div></div><br><h1>  Summary </h1><ul><li>  Arduino under liquid nitrogen accelerates and runs stably for more than an hour at a frequency of 65.3 MHz, and in air only up to 32.5-37 MHz.  The AVR works quietly for a short time at a voltage of 8 volts. </li><li>  It was possible to figure out how the parameters of electronic components change during deep cooling: a drop in resistance of metals by ~ 8.5 times, a drop in the capacitance of capacitors (electrolytes, Y5V ceramics - thousands of times, X7R - by 2/3. Capacity NP0 does not change), an increase in the band gap of semiconductors (increase in voltage drop of diodes, change in LED color, very large changes in the operation of analog circuits) </li><li>  When overclocking "large" processors - you need to carefully monitor the temperature of the capacitors (electrolytes and cheap ceramic dielectric Y5V).  It should not fall below zero - even if for this it is necessary to install additional heating.  Otherwise, they will lose almost all capacity, and the processor will lose stability. </li><li>  None of the Arduino suffered in the process of writing an article.  After warming and drying - continued to work, as before :-) </li></ul><br>  <b>Ps</b> .  From other experiments with liquid nitrogen - <a href="http://www.youtube.com/watch%3Fv%3DPpiE157tpUQ%26t%3D153">phosphorescence of sugar with green light</a> .  And if you break the fruit - remove the fragments BEFORE they turned into fruit porridge scattered throughout the room <img src="https://habrastorage.org/getpro/habr/comment_images/589/4ca/0c9/5894ca0c9e7ef627bfd7178b08017a4b.gif"><br><br>  <b>PS</b> : If anyone knows where to get samples of superconductors - <a href="">write</a> .  What I found is monstrously expensive. <br><br>  <b>PS</b> : <a href="http://www.reddit.com/r/electronics/comments/1kj80y/overclocking_arduino_with_liquid_nitrogen_cooling/">Talk on Reddit</a> </div><p>Source: <a href="https://habr.com/ru/post/190180/">https://habr.com/ru/post/190180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../190156/index.html">Not quite a standard approach to organizing access to a WiFi network (Cisco WLC -> FreeRadius -> PHP -> web page)</a></li>
<li><a href="../190158/index.html">Morphology. Tasks and approaches to their solution</a></li>
<li><a href="../190168/index.html">Design Integration with Blend</a></li>
<li><a href="../190170/index.html">Why it is worth taking loans</a></li>
<li><a href="../190176/index.html">Data Structures, PHP</a></li>
<li><a href="../190186/index.html">Perl6 - Operator Overloading</a></li>
<li><a href="../190188/index.html">This is our fault ... Get over it</a></li>
<li><a href="../190190/index.html">The development of Ubi Interactive and Microsoft turns any surface into a touchscreen display.</a></li>
<li><a href="../190192/index.html">Conditions of long-term work of employees in the company. Case Notamedia</a></li>
<li><a href="../190194/index.html">New Trending page on GitHub</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>