<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple plugin for localization of applications on Unity3D</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I think every developer on Unity3D sooner or later faces the need to localize the application into several languages. In any case, it is better to lay...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple plugin for localization of applications on Unity3D</h1><div class="post__text post__text-html js-mediator-article">  I think every developer on Unity3D sooner or later faces the need to localize the application into several languages.  In any case, it is better to lay it in advance in the architecture, even if at the start of the application several languages ‚Äã‚Äãare not required. <br><br>  In this article I will describe the development of a simple plug-in for localizing UI Text-components with the ability to dynamically change the language and edit the text in the editor. <br><a name="habracut"></a><br>  For the enumeration of the languages ‚Äã‚Äãused (we will consider Russian and English in the article) we will use enum Unity SystemLanguage. <br><br>  Unfortunately, as far as I know, Unity out of the box does not support serialization of a Dictionary or key-value-pair-classes.  So, to keep things simple, we will write a couple of our classes for the needs of the plugin. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Translation </h4><br>  The Translation structure is essentially a key-value pair: <br><br><pre><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Translation { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SystemLanguage key; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Translation</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SystemLanguage key, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.key = key; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } }</code> </pre> <br><h4>  Label </h4><br>  Next step: create a Label class.  Its task is to keep in itself a unique integer id and a list of Translation: <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">System.Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Label</span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _id; [SerializeField] List&lt;Translation&gt; translations = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Translation&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _id; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _id = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Label</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id; } }</code> </pre><br>  Since  the Label class essentially implements the logic of the Dictionary; you need to add two public methods: Get and Set. <br>  In the Get method, we look for whether there is a string in the requested language, if there is, return it, if not, return an empty string. <br>  In the Set method it is the same - if we have a string in the required language - change it, if not - add it. <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string <span class="hljs-keyword"><span class="hljs-keyword">Get</span></span>(SystemLanguage <span class="hljs-keyword"><span class="hljs-keyword">language</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; translations.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (translations[i].key == <span class="hljs-keyword"><span class="hljs-keyword">language</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> translations[i].<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } translations.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Translation(<span class="hljs-keyword"><span class="hljs-keyword">language</span></span>, string.Empty)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> translations[translations.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>].<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span>(SystemLanguage <span class="hljs-keyword"><span class="hljs-keyword">language</span></span>, string str) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; translations.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (translations[i].key == <span class="hljs-keyword"><span class="hljs-keyword">language</span></span>){ translations[i] = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Translation(<span class="hljs-keyword"><span class="hljs-keyword">language</span></span>, str); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } } translations.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Translation(<span class="hljs-keyword"><span class="hljs-keyword">language</span></span>, str)); }</code> </pre><br><h4>  LabelsData </h4><br>  All Label instances need to be stored and edited somewhere in the Unity inspector.  Use the Unity tools for this and create our own LabelsData class inherited from ScriptableObject.  ScriptableObject allows you to store the necessary data in the project file structure and is often used as a small game database. <br>  The LabelsData class will store the List with all the game translations and the default Label for errors. <br><br>  To create an instance of LabelsData, we will add the CreateAssetMenu attribute before the class declaration: <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">CreateAssetMenu(fileName=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"LabelsData"</span></span></span><span class="hljs-meta">, menuName=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"SimpleLocalizator/LabelsData"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LabelsData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { [SerializeField] List&lt;Label&gt; _labels=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Label&gt;(); Label _defaultLabel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Label (<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"not translated"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Label defaultLabel { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance._defaultLabel; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;Label&gt; labels { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance._labels; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { instance._labels = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } }</code> </pre><br>  To ensure the availability of an instance of LabelsData, we use lazy initialization according to the following logic: <br><br>  1. Public fields are getters that return field values ‚Äã‚Äãof an instance of an instance; <br>  2. instance - global reference to the LabelsData instance.  If it is not initialized, a load is applied from the Resources folder, or a new instance of LabelsData is created. <br>  3. From this it follows that our translation database should be placed in Resources. <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> LabelsData _instance; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> LabelsData instance { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_instance==<span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _instance = (LabelsData)Resources.Load (<span class="hljs-string"><span class="hljs-string">"LabelsData"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_instance == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _instance = CreateInstance&lt;LabelsData&gt; (); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _instance; } }</code> </pre><br>  Thus, we get the ability to easily edit our translations in the Unity editor: <br><br><div class="spoiler">  <b class="spoiler_title">Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/1l/zx/2z/1lzx2z1fatk1mhmwvwzkvnqq77m.jpeg"><br></div></div><br>  We can create as many new Labels as desired, assign them an id for identification and fill them with translations into the required languages. <br><br><h4>  LanguageManager </h4><br>  The next step is to write the static class LanguageManager, which provides a convenient interface for all components that implement the display of multilingual content. <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LanguageManager</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> SystemLanguage _currentLanguage = SystemLanguage.English; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> SystemLanguage currentLanguage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _currentLanguage; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _currentLanguage = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (onLanguageChanged != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) onLanguageChanged (); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Action onLanguageChanged; }</code> </pre><br>  Through the currentLanguage property of this class, we can change the current language, and all components that subscribe to the onLanguageChanged event change their content. <br>  For the initial definition of the current system language, add the Init method, which will be called only once: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> autoDetectLanguage=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> init = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!init) { init = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (autoDetectLanguage) { currentLanguage = Application.systemLanguage; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { currentLanguage = currentLanguage; } Debug.Log(<span class="hljs-string"><span class="hljs-string">"LanguageManager: initialized. Current language: "</span></span> + currentLanguage); } }</code> </pre><br>  To get the string with the desired id, add the GetString method, in which we will search for the desired Label among the LabelsData data, and if it is not there, return the default string ‚Äúnot translated‚Äù: <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> labelID</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetString(labelID, currentLanguage); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> labelID, SystemLanguage language</span></span></span><span class="hljs-function">)</span></span> { Init(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; LabelsData.labels.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (LabelsData.labels[i].id == labelID) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> LabelsData.labels[i].Get(language); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> LabelsData.defaultLabel.Get(language); }</code> </pre><br><h4>  Representation </h4><br>  It now remains to write the plug-in components responsible for displaying content.  What content can we display in Unity?  Lines for UI.Text and TextMesh, any pictures (for example, icons and banners in Russian and English).  Within the framework of the article, we consider the display of multilingual strings for UI.Text. <br><br>  Create an abstract class MultiLanguageComponent to display content, from which we will inherit further.  Its tasks are simple - keep the current language, subscribe to LanguageManager.onLanguageChanged and update the content in OnValidate (for tests in the editor): <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MultiLanguageComponent</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { [SerializeField] SystemLanguage _currentLanguage = SystemLanguage.English; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> SystemLanguage currentLanguage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _currentLanguage; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _currentLanguage = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; Refresh (); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnValidate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { currentLanguage = _currentLanguage; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { OnLanguageRefresh (); LanguageManager.onLanguageChanged += OnLanguageRefresh; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDisable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { LanguageManager.onLanguageChanged -= OnLanguageRefresh; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnLanguageRefresh</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { currentLanguage = LanguageManager.currentLanguage; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Refresh</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } }</code> </pre><br>  Here the Refresh method is virtual, which we will override in the descendant classes. <br><br>  Create a descendant class MultiLanguageTextBase, which holds the integer labelID: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MultiLanguageTextBase</span></span> : <span class="hljs-title"><span class="hljs-title">MultiLanguageComponent</span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _labelID; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> toUpper=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> labelID { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _labelID; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _labelID = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; Refresh(); } } }</code> </pre><br>  Override the Refresh method in it.  Since  Refresh will be called when the application language changes or when the labelID changes ‚Äî we get the string in the required language from LanguageManager and call the VisualizeString method (in which the string will be displayed on the application screen using UI.Text or TextMesh).  The local variable is needed to determine whether an update occurs in the editor before launching the application ‚Äî in this case, a debug will be received from LanguageManager in a line in the current language of the specific component, and not in the system language. <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Refresh</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> local = (Application.isEditor &amp;&amp; !Application.isPlaying); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> str = local ? LanguageManager.GetString(labelID, currentLanguage) : LanguageManager.GetString(labelID); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (toUpper) str = str.ToUpper(); VisualizeString(str); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VisualizeString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> str</span></span></span><span class="hljs-function">)</span></span>;</code> </pre><br>  Let's create the last MultiLanguageTextUI class, which already directly prints a string to the screen and inherits from MultiLanguageTextBase.  In it, we will override the VisualizeString method to display text in UI.Text: <br><br><pre> <code class="hljs pgsql">[RequireComponent(typeof(<span class="hljs-type"><span class="hljs-type">Text</span></span>))] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> MultiLanguageTextUI : MultiLanguageTextBase { <span class="hljs-type"><span class="hljs-type">Text</span></span> _text; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">Text</span></span> <span class="hljs-type"><span class="hljs-type">text</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_text == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; gameObject!=<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) _text = GetComponent&lt;<span class="hljs-type"><span class="hljs-type">Text</span></span>&gt; (); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _text; } } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> VisualizeString(string str) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-type"><span class="hljs-type">text</span></span> != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-type"><span class="hljs-type">text</span></span>.text = str; } }</code> </pre><br>  Now we can simply add the MultiLanguageTextUI component to the object with the text and set the required labelID: <br><br><div class="spoiler">  <b class="spoiler_title">Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/-t/eq/ow/-teqowhcnhbbjho1rhdaikpcuts.jpeg"><br></div></div><br><h4>  Demonstration </h4><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/jr/ae/-j/jrae-j5oyuohkxvphotzdikcq74.gif"><br></div></div><br><h4>  Total </h4><br>  Thus, we have a simple localization system for the application.  In the future, you can follow the MultiLanguageComponent and add your own components for translation. <br><br>  <a href="https://github.com/alexdebur/Unity-Simple-Localizator">The repository on GitHub</a> (here added some additional features - export / import to csv, components for TextMesh, Image, AudioSource, VideoPlayer, MeshFilter). <br><br><h4>  Full code </h4><br><div class="spoiler">  <b class="spoiler_title">Translation.cs</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">SimpleLocalizator</span></span> { [System.Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Translation { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SystemLanguage key; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Translation</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SystemLanguage key, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.key = key; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Label.cs</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Collections.Generic; namespace SimpleLocalizator { [<span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Label{ #region Data [SerializeField] <span class="hljs-type"><span class="hljs-type">int</span></span> _id; [SerializeField] List&lt;Translation&gt; translations = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> List&lt;Translation&gt;(); private const string defaultText = "not translated"; #endregion #region Interface <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span> id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _id; } private <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _id = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> Label(<span class="hljs-type"><span class="hljs-type">int</span></span> id) { this.id = id; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string <span class="hljs-keyword"><span class="hljs-keyword">Get</span></span>(SystemLanguage <span class="hljs-keyword"><span class="hljs-keyword">language</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; translations.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (translations[i].key == <span class="hljs-keyword"><span class="hljs-keyword">language</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> translations[i].<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } translations.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Translation(<span class="hljs-keyword"><span class="hljs-keyword">language</span></span>, defaultText)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> translations[translations.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>].<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span>(SystemLanguage <span class="hljs-keyword"><span class="hljs-keyword">language</span></span>, string str) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; translations.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (translations[i].key == <span class="hljs-keyword"><span class="hljs-keyword">language</span></span>){ translations[i] = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Translation(<span class="hljs-keyword"><span class="hljs-keyword">language</span></span>, str); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } } translations.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Translation(<span class="hljs-keyword"><span class="hljs-keyword">language</span></span>, str)); } #endregion } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">LabelsData.cs</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">SimpleLocalizator</span></span> { [CreateAssetMenu(fileName=<span class="hljs-string"><span class="hljs-string">"LabelsData"</span></span>, menuName=<span class="hljs-string"><span class="hljs-string">"SimpleLocalizator/LabelsData"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LabelsData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { [SerializeField] List&lt;Label&gt; _labels=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Label&gt;(); Label _defaultLabel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Label (<span class="hljs-number"><span class="hljs-number">-1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Label defaultLabel { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance._defaultLabel; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;Label&gt; labels { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance._labels; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { instance._labels = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> LabelsData _instance; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> LabelsData instance { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_instance==<span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _instance = (LabelsData)Resources.Load (<span class="hljs-string"><span class="hljs-string">"LabelsData"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_instance == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _instance = CreateInstance&lt;LabelsData&gt; (); Debug.Log (<span class="hljs-string"><span class="hljs-string">"LabelsData: loaded instance from resources is null, created instance"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _instance; } } } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">LanguageManager.cs</b> <div class="spoiler_text"><pre> <code class="hljs vala"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">namespace</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleLocalizator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LanguageManager</span></span></span></span>{ #region Data <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> autoDetectLanguage=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> SystemLanguage _currentLanguage = SystemLanguage.English; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> init = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; #endregion #region Interface <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> SystemLanguage currentLanguage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _currentLanguage; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _currentLanguage = value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (onLanguageChanged != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) onLanguageChanged (); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Action onLanguageChanged; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> GetString(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> labelID) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetString(labelID, currentLanguage); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> GetString(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> labelID, SystemLanguage language) { Init(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; LabelsData.labels.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (LabelsData.labels[i].id == labelID) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> LabelsData.labels[i].Get(language); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> LabelsData.defaultLabel.Get(language); } #endregion #region Methods <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Init() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!init) { init = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (autoDetectLanguage){ currentLanguage = Application.systemLanguage; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { currentLanguage = currentLanguage; } Debug.Log(<span class="hljs-string"><span class="hljs-string">"LanguageManager: initialized. Current language: "</span></span> + currentLanguage); } } #endregion } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">MultiLanguageComponent.cs</b> <div class="spoiler_text"><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">SimpleLocalizator</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MultiLanguageComponent</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { [SerializeField] SystemLanguage _currentLanguage = SystemLanguage.English; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> SystemLanguage currentLanguage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _currentLanguage; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _currentLanguage = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; Refresh (); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnValidate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { currentLanguage = _currentLanguage; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { OnLanguageRefresh (); LanguageManager.onLanguageChanged += OnLanguageRefresh; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDisable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { LanguageManager.onLanguageChanged -= OnLanguageRefresh; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnLanguageRefresh</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { currentLanguage = LanguageManager.currentLanguage; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Refresh</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">MultiLanguageTextBase.cs</b> <div class="spoiler_text"><br><pre> <code class="hljs vala"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">namespace</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleLocalizator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiLanguageTextBase</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiLanguageComponent</span></span></span></span>{ #region Unity scene settings [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _labelID; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> toUpper=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; #endregion #region Interface <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> labelID { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _labelID; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _labelID = value; Refresh(); } } #endregion #region Methods <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Refresh() { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> local = (Application.isEditor &amp;&amp; !Application.isPlaying); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> str = local ? LanguageManager.GetString(labelID, currentLanguage) : LanguageManager.GetString(labelID); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (toUpper) str = str.ToUpper(); VisualizeString(str); } <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> VisualizeString(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> str); #endregion } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">MultiLanguageTextUI.cs</b> <div class="spoiler_text"><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.UI; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">SimpleLocalizator</span></span> { [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Text))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MultiLanguageTextUI</span></span> : <span class="hljs-title"><span class="hljs-title">MultiLanguageTextBase</span></span> { Text _text; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Text text { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_text == <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; gameObject!=<span class="hljs-literal"><span class="hljs-literal">null</span></span>) _text = GetComponent&lt;Text&gt; (); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _text; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VisualizeString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> str</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (text != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) text.text = str; } } }</code> </pre><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/341744/">https://habr.com/ru/post/341744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341730/index.html">Simulation of the planet daisies</a></li>
<li><a href="../341732/index.html">ICO: HYIP will go, and we will stay, or time against tokens</a></li>
<li><a href="../341736/index.html">Overview of the new high-performance RDP codec</a></li>
<li><a href="../341738/index.html">Delegate Adapter - why and how</a></li>
<li><a href="../341740/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ287 (October 30 - November 5, 2017)</a></li>
<li><a href="../341746/index.html">High Performance Computing: Microsoft Project and Cray</a></li>
<li><a href="../341748/index.html">Video on the e-book. Attempt to use e-ink reader as a second monitor in linux</a></li>
<li><a href="../341750/index.html">JPoint 2018 Java Conference Announcement: JDK 9, High Load and JVM Performance</a></li>
<li><a href="../341752/index.html">How I found vulnerabilities in Google's bug tracking system and got $ 15,600</a></li>
<li><a href="../341756/index.html">Unreal Engine: QuickStart in Qt Creator under Arch Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>