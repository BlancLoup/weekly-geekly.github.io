<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Little-Endian vs Big-Endian</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At one time, we had to constantly work with network data, and especially with the headings of the network and transport layers of the OSI model. Const...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Little-Endian vs Big-Endian</h1><div class="post__text post__text-html js-mediator-article">  At one time, we had to constantly work with network data, and especially with the headings of the network and transport layers of the OSI model.  Constantly strained by the fact that many fields were in the Big-Endian, and the code was executed on the architecture of Little-Endian.  Well, it was impossible to constantly call <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2580%25D1%258F%25D0%25B4%25D0%25BE%25D0%25BA_%25D0%25B1%25D0%25B0%25D0%25B9%25D1%2582%25D0%25BE%25D0%25B2">ntohl (), htonl (), ntohs (), htons ()</a> ... <br><br><img src="https://habrastorage.org/storage/bbf5467b/5e236d9a/e0b6a5a4/37d99693.jpg"><br>  Photo author: <a href="http://www.flickr.com/photos/ciroduran">Ciroduran</a> , photo source: <a href="http://www.flickr.com/photos/ciroduran/2060860569/">flickr</a> . <a name="habracut"></a><br><br>  The idea came to implement the following pair of patterns: LittleEndian &lt;T&gt; and BigEndian &lt;T&gt;. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Template for byte order LittleEndian: </h5><br><img src="https://habrastorage.org/storage/cd05e248/79801396/707e15d8/881503ca.png"><br><br><h5>  Template for the BigEndian byte order: </h5><br><img src="https://habrastorage.org/storage/1797260e/403e19f0/1ffae42d/2df6b0cd.png"><br><br>  Templates are used as follows: <br><br><img src="https://habrastorage.org/storage/a9f671f6/532d62a9/39bb2fcb/21030bf0.png"><br><br>  It remains to give the types more nice names, like this: <br><br><img src="https://habrastorage.org/storage/d4abd6f7/808851bd/419dd097/fafdfdb3.png"><br><br>  Now you can use types through shorter names <i>u16be</i> , <i>u32be</i> ... <br><br>  The only thing in these templates is not enough different operators + =, - =, * =, ++ and others.  Operators are available in the full version of the code, it was inappropriate to bring them into the article.  Here are links to the complete source codes <a href="http://codepad.org/AW5BGDxY"><s>LittleBigEndian.h</s></a> (see the new link below in UPDATE1) and <a href="http://codepad.org/ox63dH5e">LittleBigEndianNames.h</a> . <br><br>  <b>UPDATE1:</b> <br>  As was <a href="http://habrahabr.ru/blogs/cpp/121811/">rightly noted by the</a> user <a href="https://habrahabr.ru/users/qehgt/" class="user_link">qehgt</a> in the comment to the post, the code is not quite correct for 64-bit numbers.  I apologize for this misstep.  Here is <a href="http://codepad.org/5M6c3k98"><s>LittleBigEndian.h</s></a> (see the new link below in UPDATE3) where this bug has been fixed. <br><br>  <b>UPDATE2:</b> <br>  Comrade <a href="https://habrahabr.ru/users/sic/" class="user_link">sic</a> conducted <a href="http://habrahabr.ru/blogs/cpp/121811/">tests of the speed</a> of the above templates in comparison with the functions htohl (), htonl (), ntohs (), htons ().  Tests showed a relative increase in speed when using the above templates instead of calling library functions.  Thanks for the work you've done. <br><br>  <b>UPDATE3:</b> <br>  Comrade <a href="https://habrahabr.ru/users/rekub/" class="user_link">rekub</a> saw the possibility of increasing the speed of the object copy constructor.  He <a href="http://habrahabr.ru/blogs/cpp/121811/">proposed</a> using union to represent data both as an array and as a variable of type T. The proposed modifications were implemented in the following source, <a href="http://codepad.org/R9Ho6z8a"><s>LittleBigEndian.h</s></a> (see the new link below in UPDATE4).  Thank! <br><br>  <b>UPDATE4:</b> <br>  Comrade <a href="https://habrahabr.ru/users/vadelve/" class="user_link">vadelve</a> <a href="http://habrahabr.ru/blogs/cpp/121811/%3Freply_to%3D3986245">pointed out</a> an error in the implementation of postfix and prefix increment and decrement operators.  Corrected version: <a href="http://codepad.org/2ycmkz2y">LittleBigEndian.h</a> . </div><p>Source: <a href="https://habr.com/ru/post/121811/">https://habr.com/ru/post/121811/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../121805/index.html">Computer virus - the pursuit of the living?</a></li>
<li><a href="../121806/index.html">ACL: Cisco IOS Access Control Lists</a></li>
<li><a href="../121807/index.html">Computer programmers without computers</a></li>
<li><a href="../121809/index.html">Phing - build PHP projects</a></li>
<li><a href="../121810/index.html">Let's talk about the margin, he's margin (part 1)</a></li>
<li><a href="../121812/index.html">Founder of HH.ru Yuri Virovac personally about recruiting, prospects, investments ...</a></li>
<li><a href="../121813/index.html">Microsoft introduces online advertising in xbox 360</a></li>
<li><a href="../121815/index.html">Parsing on Puthon. How to collect the archive Dovecoat</a></li>
<li><a href="../121816/index.html">Why I love and hate using a smartphone - The Oatmeal (translation)</a></li>
<li><a href="../121818/index.html">Code Generation for Programmable Logic Controllers in Matlab</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>