<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>StealthWatch: basic concepts and minimum requirements. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Introduction 
 This article focuses on the Cisco StealthWatch network monitoring product. 
 Cisco Systems is actively promoting it as a product to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>StealthWatch: basic concepts and minimum requirements. Part 1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/-p/b2/e0/-pb2e0k8ncra5wds_jf0gfq2pc8.png"><br><br>  <b>1. Introduction</b> <br>  This article focuses on the Cisco StealthWatch network monitoring product. <br>  Cisco Systems is actively promoting it as a product to improve network security, so let's understand. <br>  The TS Solution blog has already had <a href="https://habr.com/ru/company/tssolution/blog/414195/">an article</a> on this topic, in this series of articles I will focus on setting up and deploying the product.  However, for those who first hear about StealthWatch, we define basic concepts. <br>  ‚ÄúThe <a href="https://www.cisco.com/c/ru_ru/products/security/stealthwatch/index.html">Stealthwatch</a> system provides industry- <a href="https://www.cisco.com/c/ru_ru/products/security/stealthwatch/index.html">leading</a> network monitoring and security analysis to speed up and more accurately detect threats, respond to incidents and conduct investigations,‚Äù says Cisco and cites about 50 success stories you can read <a href="https://community.cisco.com/t5/security-documents/stealthwatch-use-cases/ta-p/3611837">here.</a> . <br><br>  Based on the telemetry data of your infrastructure, StealthWatch allows you to: <br>  ¬∑ Identify the most diverse cyber attacks (APTs, DDoS, 0-day, data leakage, botnet) <br>  ¬∑ Monitor compliance with security policies <br>  ¬∑ Detect abnormalities in user behavior and equipment <br>  ¬∑ To conduct traffic cryptoaudit (ETA technology) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At the heart of StealthWatch is the collection of NetFlow and IPFIX from routers, switches and other network devices.  As a result, the network becomes a sensitive sensor and allows the administrator to look where traditional network protection methods, such as NGFW, cannot reach.  The following protocols can compile StealthWatch: NetFlow (from version 5), sFlow, jFlow, cFlow, Netstream, nvzFlow, IPFIX, Packeteer-2 and other custom modifications. <br><br><a name="habracut"></a><br>  <b>2. What means for analytics does this software use?</b> <br>  Firstly, behavioral modeling and behavioral signatures, in other words, constant monitoring of each device in the network and the ability to determine basic indicators of normal and abnormal behavior.  For each host, whether it is a user, server or router, its own baseline is built (the ideal model of behavior), deviating from which we see all the anomalies in relation to this host. <br>  As an example: the user suddenly started downloading large amounts of data, although he never did this - StealthWatch almost instantly determines this. <br><br>  Secondly, global threat analytics.  This refers to integration with the well-known Cisco Talos, a huge database of known attack signatures updated throughout the world in real time. <br><br>  Third, good old machine learning, in the case of Cisco, is based on Cognitive Intelligence technology. <br>  The technology also underlies the ETA - Encrypted Traffic Analytics solution, which allows you to determine if the encrypted connection is bad without decrypting it (attack, unwanted traffic and C &amp; C communication). <br><br>  <b>3. Brief introduction to the interface</b> <br>  So that you understand how it looks and did not invent beautiful pictures, I want to show a couple of screenshots from a Cisco lab that can be done by everyone in <a href="https://dcloud2-lon.cisco.com/">dcloud</a> . <br><br>  The fairly convenient charts and graphs in the Dashboard show general network statistics: alarms, from whom and when they were, network protocol traffic, applications, and security incidents. <br><img src="https://habrastorage.org/webt/ny/es/tt/nyesttj8jkfzbqgn0o-ensauqls.png"><br><br><img src="https://habrastorage.org/webt/ec/yl/os/ecyloslfl2rwpqvzpgit6kyoadq.png"><br><br><img src="https://habrastorage.org/webt/e-/sr/vw/e-srvwft8tueqmlnm-ke0hb463k.png"><br><br>  In the monitor tab there is a more detailed listing of suspicious hosts and a table whose values ‚Äã‚Äãare responsible for suspicious behavior and attacks on a particular host. <br><br><img src="https://habrastorage.org/webt/s_/by/ps/s_bypsvlftdqxwefkpnmllhtaue.png"><br><br>  Then you can see application traffic, broken by protocols.  Of course, the time interval is changing, you can fall inward, highlighting the necessary area (in Flow in Dashboard, you can also ‚Äúfall through). <br><img src="https://habrastorage.org/webt/n-/lr/3v/n-lr3vmaxhftzbs41zin5zh82c0.png"><br>  All settings and full immersion in the interface, you will see in the following articles. <br><br><h4>  4. Architecture </h4><br><br>  On the one hand, the architecture of StealthWatch is slightly more complicated than that of its competitors, but on the other hand, it is granular and allows for more selective tuning.  The required components are Flow Collector (FC) and StealthWatch Management Console (SMC). <br>  FlowCollector is a physical or virtual device that collects NetFlow data and application data on the NBAR protocol from switches, routers and firewalls. <br><br>  An SMC is a physical or virtual device that combines, organizes, and graphically represents the data collected from FC.  Integration with AD and Cisco ISE is possible. <br><br>  As an optional, but no less interesting device, I highlight FlowSensor (FS) and UDP-Director (UDP-D). <br><br>  The first one can also be both a physical and a virtual device, and is a solution for generating NetFlow from legacy devices or when you use cheap access level switches.  FlowSensor can ensure the formation of NetFlow-records for all traffic coming using SPAN, RSPAN protocols. <br>  Moreover, in most cases, FlowSensor is required to use ETA technology (definition of malicious software in encrypted traffic), however, starting from ISR and ASR series, routers can work with ETA and without Flow Sensor. <br><br>  UDP-D is a physical device that collects NetFlow data and sends it as a single and compressed stream to FlowCollector.  As an example, he can export a stream simultaneously to StealthWatch, SolarWinds, and something else.  It also reduces the load on the Flow Collector and optimizes network performance.  In truth, only for exporting a stream to different platforms is it needed.  As a result, the most expensive component of the StealthWatch architecture is not so necessary. <br><br>  The architecture looks like this in a simplified version: <br><img src="https://habrastorage.org/webt/3z/pq/ny/3zpqnyhuahz4lfaxupd4jvdxryk.png"><br><br>  And in a more complete (complex and incomprehensible) version: <br><img src="https://habrastorage.org/webt/dp/dj/tp/dpdjtp496jta2zfqxojelkymdoc.png"><br><br>  <b>5. Minimum system requirements</b> <br>  Now you can switch to ‚Äúyou‚Äù from StealthWatch, so let's consider the minimum resources to deploy it on the network. <br>  <u>For StealthWatch Management Console:</u> <br>  RAM 16 GB (24GB recommended), 3 CPU, 125 GB disks <br>  <u>For FlowCollector:</u> <br>  RAM 16GB, 2 CPU, 200 GB disk <br>  * Supports &lt;250 exporters, &lt;125000 hosts, &lt;4500 fps <br><br>  And if we want a complete architecture, which we will consider in the future, we should also allocate resources for FlowSensor and UDP-Director. <br>  <u>For FlowSensor:</u> <br>  RAM 4 GB, 1 CPU, 60 GB disk <br>  <u>For UDP Director:</u> <br>  RAM 4GB, 1 CPU, 60 GB Disk <br>  * Preferably SSD for all VMs, but NetFlow ‚Äúflies‚Äù on FlowCollector, therefore, it‚Äôs worth allocating resources for FC in the first place <br><br>  The important caveat is that the images for these virtual machines are only available for VMware (ESXi) and KVM.  Requirements and to them. <br><br>  <u>VMware (ESXi):</u> <br>  Version 6.0 or 6.5. <br>  Live Migration and Snapshots are not supported. <br><br>  <u>KVM:</u> <br>  Using any compatible Linux distribution. <br>  KVM host versions are libvirt 3.0.0, qemu-KVM 2.8.0, Open vSwitch 2.6.1 and Linux Kernel 4.4.38.  They may be different, but at these engineers, Cisco conducted tests and confirmed performance. <br><br>  If you are interested in looking at the security of your network from a different angle, you can contact us at sales@tssolution.ru, and we will hold a demonstration or free of charge we will pilot the StealthWatch on your network. <br><br>  That's all for now.  In the next article, we will proceed directly to the deployment of StealthWatch and talk more about the nuances of this process. </div><p>Source: <a href="https://habr.com/ru/post/458626/">https://habr.com/ru/post/458626/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458604/index.html">Why the two largest electronics manufacturers joined forces in a new GPU project</a></li>
<li><a href="../458606/index.html">Run OpenVPN in Docker in 2 seconds</a></li>
<li><a href="../458614/index.html">Creating a React-Hook usePosition () to get and track browser coordinates</a></li>
<li><a href="../458622/index.html">Automation for the smallest. Part One (which is after zero). Network virtualization</a></li>
<li><a href="../458624/index.html">How we learned to draw texts on Canvas</a></li>
<li><a href="../45863/index.html">Mini photo studio at home</a></li>
<li><a href="../458630/index.html">A small history of developing your game on pure Windows Forms + –° # in my 16 years</a></li>
<li><a href="../458634/index.html">‚ÄúDÃ∂oÃ∂nÃ∂'Ã∂t be evil‚Äù or what Facebook is hiding from us</a></li>
<li><a href="../458636/index.html">Video recordings from the DevLeads mitap from Tutu.ru office</a></li>
<li><a href="../458638/index.html">Intel oneAPI Project: many architectures, one API</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>