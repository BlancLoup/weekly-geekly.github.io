<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Zsh: fucky new year</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I read the post habrahabr.ru/post/247161 and thought: here is a man wrote an incomprehensible program on bash, which displays "Happy new year". But th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Zsh: fucky new year</h1><div class="post__text post__text-html js-mediator-article">  I read the post <a href="http://habrahabr.ru/post/247161/">habrahabr.ru/post/247161</a> and thought: here is a man wrote an incomprehensible program on bash, which displays "Happy new year".  But this is bash!  It is necessary to show that zsh is not worse, and even much better!  And so, a zsh program that displays ‚ÄúHappy New Year!‚Äù (In Russian!) With the following restrictions: <ol><li>  The program should not use any third-party programs.  Neither base64, nor cat, nothing. </li><li>  The program should display the text in Russian. </li><li>  The program should be written in ASCII, but should not contain a single letter or number. </li></ol><a name="habracut"></a>  I don‚Äôt know how I would handle bash, but zsh is easier: <br><br>  Zsh has variable expansion options for Parameters Expansion Flags from <a href="http://www.manpagez.com/man/1/zshexpn/">man zshexpn</a> ): <code>echo ${(#):-65}</code> will show you the Latin letter ‚ÄúA‚Äù.  Works with current locale.  In principle, this is enough for writing the necessary program, but there are other knowledge that greatly facilitate life: <br><br>  Firstly, there are anonymous functions, so you don‚Äôt need to invent names for functions (although you can safely even call a function <code>+</code> ), and you can also get an additional array <code>@</code> (and not one, but only one in one scope). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Secondly, wherever zsh expects a number, you can use arithmetic expansion (Arithmetic Expansion from the same <code>man zshexpn</code> , more details in the ARITHMETIC EVALUATION section in <a href="http://www.manpagez.com/man/1/zshmisc/">man zshmisc</a> ), which eliminates the spelling of <code>$(())</code> , <code>$[]</code> , yes and just <code>$</code> .  Including the example above can be written as <code>V=0x41; echo ${(#):-V+(VV)}</code>  <code>V=0x41; echo ${(#):-V+(VV)}</code> , which also applies to values ‚Äã‚Äãwithin indices (useful when using <code>$@</code> ). <br><br>  Third, a procedure like <code>${(#)}</code> can be done with an array, with <code>(#)</code> applied to each element of the array. <br><br>  Fourthly, if you need to apply several transformations in succession, then you do not need a temporary variable: <code>${${(#)@}// }</code> quite successfully converts the array of arithmetic expressions given in the arguments into one line without spaces (two transformations : <code>(#)</code> and removal of spaces).  You do not need a temporary variable for the transformations above the lines: <code>${:-string}</code> expanded in <code>string</code> , although there are no variables here (the variant was used above).  Bash and in general all other shells cannot do this. <br><br>  Thus, we get the following code: <pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> (){__=$# } !;___=$[__&lt;&lt;__];____=$[__&lt;&lt;___];_____=$((___&lt;&lt;___)) <span class="hljs-number"><span class="hljs-number">2</span></span> _______=$((__+(__&lt;&lt;(__+____))+(__&lt;&lt;(__+____))&lt;&lt;(__+____))) <span class="hljs-number"><span class="hljs-number">3</span></span> ______=$((_______+__+__&lt;&lt;____)) <span class="hljs-number"><span class="hljs-number">4</span></span> \*(){(( ${@[-__]} &lt; ______+(______-_______)+_____ )) &amp;&amp; { &lt;&lt;&lt; $@ ; &lt;&lt;&lt; $(\* $[$@+____]) } } <span class="hljs-number"><span class="hljs-number">5</span></span> +(){&lt;&lt;&lt; <span class="hljs-string"><span class="hljs-string">"${${(#)@}// }"</span></span>} <span class="hljs-number"><span class="hljs-number">6</span></span> (){ <span class="hljs-number"><span class="hljs-number">7</span></span> (){&lt;&lt;&lt; <span class="hljs-string"><span class="hljs-string">"$@"</span></span>} \ <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-string"><span class="hljs-string">"$(+ _______)"</span></span> \ <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-string"><span class="hljs-string">"$(+ ${@[____]}-__ ${@[____]} ______ ${@[-__]}+__ ${@[____]}-___)"</span></span> \ <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-string"><span class="hljs-string">"$(+ ${@[__]}+__ ${@[____]} ${@[__]}+___ ${@[____]} ${@[____]}-___ '____&lt;&lt;(____-__)+__')"</span></span> \ <span class="hljs-number"><span class="hljs-number">11</span></span> } $(\* $[______])</code> </pre>  .  Here in the first line we declare variables with the values ‚Äã‚Äã1, 2, 4, 8, in the second with the value 0x0421 (U + 0421 is the CYRILLIC CAPITAL LETTER ES), in the third - 0x0432 (CYRILLIC SMALL LETTER VE).  In the fourth line, the recursive function that generates a sequence of numbers in increments of 4, in the fifth line, the function practically considered above turns the array of arithmetic expressions into a string without spaces. <br><br>  The anonymous function in the sixth line is needed in order to associate the numbers generated by the function from the fourth line with the array, in the seventh line - to merge several lines into one, separated by spaces.  On the eleventh line, our recursive generator is called, and the rest is the text itself. <br><br>  It seems that the problem is solved.  Run: <br><pre> <code class="bash hljs">env -i PATH= LANG=ru_RU.UTF-8 /bin/zsh -f script.zsh *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat *: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat +: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat +: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat +: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat (anon): <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> not found: cat</code> </pre>  .  Oh, something is wrong here: there is a violation of the first condition.  It's all about <code>$NULLCMD</code> : when there is no command, and we use redirection, the value of this variable is implicitly substituted, the default is <code>cat</code> .  The solution is to create a <code>cat</code> function: <pre> <code class="hljs matlab"><span class="hljs-built_in"><span class="hljs-built_in">cat</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> { read <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> } { echo $<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> }</code> </pre>  (yes, the definition of a function without braces is correct, as is the loop with them, but without <code>do</code> / <code>done</code> ).  Without <code>eval</code> this cannot be done, so the string being executed must be of the form <code>eval 'cat()while {read i} {echo $i}'</code> .  A small problem here is that <code>&lt;&lt;&lt;</code> can not be used, so you can not bother, but simply rewrite everything with another variable or function containing / returning <code>echo</code> .  In the final program, this is the <code>@</code> function: <pre> <code class="hljs mel">(){__=$# } !;___=$[__&lt;&lt;__];____=$[__&lt;&lt;___];_____=$((___&lt;&lt;___)) ______=$[_____&lt;&lt;____-___&lt;&lt;____+____] ________=<span class="hljs-string"><span class="hljs-string">"${(#):-______+__}${(#):-______-__}${(#):-______+____}${(#):-______+_____+___+__}"</span></span> @() $________ $________ _______=$((__+(__&lt;&lt;(__+____))+(__&lt;&lt;(__+____))&lt;&lt;(__+____))) ______=$((_______+__+__&lt;&lt;____)) \*(){(( ${@[-__]} &lt; ______+(______-_______)+_____ )) &amp;&amp; { $(@) $@ ; $(@) $(\* $[$@+____]) } } +() $(@) <span class="hljs-string"><span class="hljs-string">"${${(#)@}// }"</span></span> (){ (){$(@) <span class="hljs-string"><span class="hljs-string">"$@"</span></span>} \ <span class="hljs-string"><span class="hljs-string">"$(+ _______)"</span></span> \ <span class="hljs-string"><span class="hljs-string">"$(+ ${@[____]}-__ ${@[____]} ______ ${@[-__]}+__ ${@[____]}-___)"</span></span> \ <span class="hljs-string"><span class="hljs-string">"$(+ ${@[__]}+__ ${@[____]} ${@[__]}+___ ${@[____]} ${@[____]}-___ '____&lt;&lt;(____-__)+__')"</span></span> } $(\* $[______])</code> </pre>  The penultimate step will get rid of quotes where you can: <pre> <code class="hljs mel">(){__=$# } !;___=$[__&lt;&lt;__];____=$[__&lt;&lt;___];_____=$((___&lt;&lt;___)) ______=$[_____&lt;&lt;____-___&lt;&lt;____+____] ________=${(#):-______+__}${(#):-______-__}${(#):-______+____}${(#):-______+_____+___+__} @() $________ $________ _______=$((__+(__&lt;&lt;(__+____))+(__&lt;&lt;(__+____))&lt;&lt;(__+____))) ______=$((_______+__+__&lt;&lt;____)) \*(){(( ${@[-__]} &lt; ______+(______-_______)+_____ )) &amp;&amp; { $(@) $@ ; $(@) $(\* $[$@+____]) } } +() $(@) <span class="hljs-string"><span class="hljs-string">"${${(#)@}// }"</span></span> (){ (){$(@) $@} \ $(+ _______) \ $(+ ${@[____]}-__ ${@[____]} ______ ${@[-__]}+__ ${@[____]}-___) \ $(+ ${@[__]}+__ ${@[____]} ${@[__]}+___ ${@[____]} ${@[____]}-___ <span class="hljs-string"><span class="hljs-string">'____&lt;&lt;(____-__)+__'</span></span>) } $(\* $[______])</code> </pre>  Minor minification, but something code painfully clear: <pre> <code class="hljs smalltalk">(){__=<span class="hljs-string"><span class="hljs-string">$#</span></span> } !;___=<span class="hljs-string"><span class="hljs-string">$[</span></span>__&lt;&lt;__];____=<span class="hljs-string"><span class="hljs-string">$[</span></span>__&lt;&lt;___];_____=<span class="hljs-string"><span class="hljs-string">$[</span></span>___&lt;&lt;___] ______=<span class="hljs-string"><span class="hljs-string">$[</span></span>_____&lt;&lt;____-___&lt;&lt;____+____] ________=<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-______+__}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-______-__}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-______+____}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-______+_____+___+__} @()<span class="hljs-string"><span class="hljs-string">$_</span></span>_______ <span class="hljs-string"><span class="hljs-string">$_</span></span>_______ _______=<span class="hljs-string"><span class="hljs-string">$[</span></span>__+(__&lt;&lt;(__+____))+(__&lt;&lt;(__+____))&lt;&lt;(__+____)] ______=<span class="hljs-string"><span class="hljs-string">$[</span></span>_______+__+__&lt;&lt;____] \*(){((<span class="hljs-string"><span class="hljs-string">${</span></span>@[-__]}&lt;______+(______-_______)+_____))&amp;&amp;{`@` <span class="hljs-string"><span class="hljs-string">$@</span></span> `\* <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+____]` }} +()`@` <span class="hljs-comment"><span class="hljs-comment">"${${(#)@}// }"</span></span> (){(){`@` <span class="hljs-string"><span class="hljs-string">$@</span></span>} `+ _______` `+ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]}-__ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]} ______ <span class="hljs-string"><span class="hljs-string">${</span></span>@[-__]}+__ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]}-___` `+ <span class="hljs-string"><span class="hljs-string">${</span></span>@[__]}+__ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]} <span class="hljs-string"><span class="hljs-string">${</span></span>@[__]}+___ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]} <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]}-___ <span class="hljs-string"><span class="hljs-string">'____&lt;&lt;(____-__)+__'</span></span>` } `\* <span class="hljs-string"><span class="hljs-string">$[</span></span>______]`</code> </pre>  .  Start, I will remind, <code>env -i PATH= LANG=ru_RU.UTF-8 /bin/zsh -f script.zsh</code> . <br><br>  A variant that does not require a unicode locale (it is going to contain the line <code>eval LANG=C</code> , and with this locale, <code>${(#)}</code> produces bytes with the specified value): <pre> <code class="hljs smalltalk">(){__=<span class="hljs-string"><span class="hljs-string">$#</span></span> } !;___=<span class="hljs-string"><span class="hljs-string">$[</span></span>__&lt;&lt;__];____=<span class="hljs-string"><span class="hljs-string">$[</span></span>__&lt;&lt;___];_____=<span class="hljs-string"><span class="hljs-string">$[</span></span>___&lt;&lt;___] ______=<span class="hljs-string"><span class="hljs-string">$[</span></span>_____&lt;&lt;____-___&lt;&lt;____+____] ________=<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-______+__}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-______-__}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-______+____}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-______+_____+___+__} @()<span class="hljs-string"><span class="hljs-string">$_</span></span>_______ <span class="hljs-string"><span class="hljs-string">$_</span></span>_______ ^()`@` <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[__]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[___]} <span class="hljs-string"><span class="hljs-string">''</span></span>(){((<span class="hljs-string"><span class="hljs-string">$@</span></span>&lt;(_____&lt;&lt;____)))&amp;&amp;`@` <span class="hljs-string"><span class="hljs-string">${</span></span>(#)@}||^ <span class="hljs-string"><span class="hljs-string">$[</span></span>(<span class="hljs-string"><span class="hljs-string">$@</span></span>)&gt;&gt;(____+___)|(_____&lt;&lt;____+_____&lt;&lt;(___+__))] <span class="hljs-string"><span class="hljs-string">$[</span></span>(<span class="hljs-string"><span class="hljs-string">$@</span></span>)&amp;(__&lt;&lt;(____+___)-__)|(_____&lt;&lt;____)]} _______=<span class="hljs-string"><span class="hljs-string">$[</span></span>__+(__&lt;&lt;(__+____))+(__&lt;&lt;(__+____))&lt;&lt;(__+____)] ______=<span class="hljs-string"><span class="hljs-string">$[</span></span>_______+__+__&lt;&lt;____] \*(){((<span class="hljs-string"><span class="hljs-string">${</span></span>@[-__]}&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>@[__]}))&amp;&amp;{`@` <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>[-__]] `\* <span class="hljs-string"><span class="hljs-string">$@</span></span>[__] <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>[___]+____]` }} +(){((<span class="hljs-string"><span class="hljs-string">$#</span></span>))&amp;&amp;`@` <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-string"><span class="hljs-string">$@</span></span>[__])<span class="hljs-string"><span class="hljs-string">$(</span></span>+ <span class="hljs-string"><span class="hljs-string">$@</span></span>[___,-__])} /()`@` <span class="hljs-comment"><span class="hljs-comment">"${${(#)@}// }"</span></span> `() {/ <span class="hljs-string"><span class="hljs-string">$@</span></span>[__] <span class="hljs-string"><span class="hljs-string">$@</span></span>[-__]+____+__ <span class="hljs-string"><span class="hljs-string">$@</span></span>[__]-____ <span class="hljs-string"><span class="hljs-string">$@</span></span>[-___]-__} <span class="hljs-string"><span class="hljs-string">$(</span></span>\* <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-symbol"><span class="hljs-symbol">#________</span></span>+(_____&lt;&lt;__)] <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-symbol"><span class="hljs-symbol">#________</span></span>])` \ `() {/ <span class="hljs-string"><span class="hljs-string">$@</span></span>[-__] <span class="hljs-string"><span class="hljs-string">$@</span></span>[__]+__ <span class="hljs-string"><span class="hljs-string">$@</span></span>[-__]+___ <span class="hljs-string"><span class="hljs-string">$@</span></span>[___+__]-__} <span class="hljs-string"><span class="hljs-string">$(</span></span>\* <span class="hljs-string"><span class="hljs-string">'(____&lt;&lt;____)+_____*___'</span></span> <span class="hljs-string"><span class="hljs-string">'____&lt;&lt;____'</span></span>)`=<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span>_____&lt;&lt;(___+__)+___+__]} (){(){`@` <span class="hljs-string"><span class="hljs-string">$@</span></span>} `+ _______` `+ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]}-__ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]} ______ <span class="hljs-string"><span class="hljs-string">${</span></span>@[-__]}+__ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]}-___` `+ <span class="hljs-string"><span class="hljs-string">${</span></span>@[__]}+__ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]} <span class="hljs-string"><span class="hljs-string">${</span></span>@[__]}+___ <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]} <span class="hljs-string"><span class="hljs-string">${</span></span>@[____]}-___ <span class="hljs-string"><span class="hljs-string">'____&lt;&lt;(____-__)+__'</span></span>` } `\* <span class="hljs-string"><span class="hljs-string">'______+(______-_______)+_____'</span></span> ______`</code> </pre>  . <br><br>  If you add the restrictions "no fork" and "no underscores", then the task will be more interesting.  In this case, there are a few more tricks to remember: first, the attempt to execute the unknown command ends with a return code of 127, which will be in the <code>$?</code> variable <code>$?</code>  .  <code>&amp;&gt;‚Äê</code> this prevents the error message from being printed: the <code>/()+++++++&amp;&gt;-</code> function <code>/()+++++++&amp;&gt;-</code> equivalent to <code>?=127</code> (if, of course, you could assign this variable) unless you do not have the <code>+++++++</code> command <code>+++++++</code> .  <code>${#?}</code> will then be equal to three.  Also, you can use <code>/()''&amp;&gt;-</code> : will this option always give you <code>126</code> in <code>$?</code>  since you cannot execute a directory (note: you can define a function with an empty name, which makes it impossible to use this trick).  The last trick: the /(). <code>/().&amp;&gt;-</code> function <code>/().&amp;&gt;-</code> <code>$?</code>  1, as there is an attempt to call <code>.</code>  without arguments, a <code>/(). ''&amp;&gt;-</code>  <code>/(). ''&amp;&gt;-</code> because <code>.</code>  will try to find a <i>file</i> with an empty name in <code>$PATH</code> , and, of course, will not (if you add a file to <code>$PATH</code> instead of a directory, you will receive the same return code with the message ‚ÄúThis is not a directory‚Äù:. looking for <code>path_item/</code> , and having <code>/</code> in the end leads to this result). <br><br>  Secondly, the variable <code>$!</code>  contains the PID of the last process running in the background.  Or 0, if nothing in the background was launched (although the last part is not described in the documentation). <br><br>  Thirdly, although in the article to which I respond this trick was used, I haven‚Äôt used it yet: numbers can be collected by simple concatenation of strings.  Including it is possible to collect them in the form of <code>${base}#${number}</code> , which makes the task just elementary to generate: in <code>$!</code>  we have 0, in <code>$@</code> we have an array of one element (1), the number is collected in the form <code>$[$@+$@]#$@$!$!$!</code>  will collect <code>2#1000</code> or <code>8</code> .  If you don‚Äôt want to generate for any reason, then anonymous functions come in with the ability to assign <code>$@</code> values ‚Äã‚Äãyou need.  Here is an example of code that performs <code>eval LANG=C</code> : <pre> <code class="hljs smalltalk">/()+++&amp;&gt;- //()<span class="hljs-string"><span class="hljs-string">''</span></span>&amp;&gt;- ///().&amp;&gt;- () { () { / () { / () { / <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>##}&lt;&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>##}]+<span class="hljs-string"><span class="hljs-string">${</span></span>##}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>##}&lt;&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>#?}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>#}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}]-<span class="hljs-string"><span class="hljs-string">${</span></span>#?}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]-<span class="hljs-string"><span class="hljs-string">${</span></span>##}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}} <span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>##}] } <span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>##}] <span class="hljs-string"><span class="hljs-string">${</span></span>##}<span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span> <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">${</span></span>##}<span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>+<span class="hljs-string"><span class="hljs-string">${</span></span>##}<span class="hljs-string"><span class="hljs-string">$!</span></span>] } <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>?[-<span class="hljs-string"><span class="hljs-string">${</span></span>##}]}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>#}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}]+<span class="hljs-string"><span class="hljs-string">${</span></span>?[<span class="hljs-string"><span class="hljs-string">${</span></span>##}]}+<span class="hljs-string"><span class="hljs-string">${</span></span>##}&lt;&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>?[<span class="hljs-string"><span class="hljs-string">${</span></span>##}+<span class="hljs-string"><span class="hljs-string">${</span></span>##}]}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>##}&lt;&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>#?}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>##}}=<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]-<span class="hljs-string"><span class="hljs-string">${</span></span>#?}} <span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>##},<span class="hljs-string"><span class="hljs-string">${</span></span>#?}] } <span class="hljs-string"><span class="hljs-string">$@</span></span> <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>#}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}]<span class="hljs-string"><span class="hljs-string">$!</span></span> <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>#}]<span class="hljs-string"><span class="hljs-string">$!</span></span> } <span class="hljs-string"><span class="hljs-string">${</span></span>#?} <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">${</span></span>#?}+<span class="hljs-string"><span class="hljs-string">${</span></span>#?}] <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">${</span></span>#?}&lt;&lt;(<span class="hljs-string"><span class="hljs-string">${</span></span>#?}+<span class="hljs-string"><span class="hljs-string">${</span></span>#?})]</code> </pre><br><br>  Here is an example of a one-liner in Python, which, using the technology described above, will collect <code>echo   !</code>  : <pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python3.4 print(''.join( ( ' ' if i == next(iter(b' ')) else '${{(#):-$[$[$@+$@]#{:b}]}}'.format(i).replace('0', '$!').replace('1', '$@') ) for i in 'echo   !'.encode('utf8')))</span></span></code> </pre><br><br>  Final program using generation for <code>echo   !</code>  and manually assembling <code>eval LANG=C</code> : <pre> <code class="hljs smalltalk">/()+++&amp;&gt;- //()<span class="hljs-string"><span class="hljs-string">''</span></span>&amp;&gt;- ///(). <span class="hljs-string"><span class="hljs-string">''</span></span>&amp;&gt;- () { () { / () { / () { / <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>##}&lt;&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>##}]+<span class="hljs-string"><span class="hljs-string">${</span></span>##}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>##}&lt;&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>#?}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>#}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}]-<span class="hljs-string"><span class="hljs-string">${</span></span>#?}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]-<span class="hljs-string"><span class="hljs-string">${</span></span>##}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}} <span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>##}] } <span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>##}] <span class="hljs-string"><span class="hljs-string">${</span></span>##}<span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span> <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">${</span></span>##}<span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>+<span class="hljs-string"><span class="hljs-string">${</span></span>##}<span class="hljs-string"><span class="hljs-string">$!</span></span>] } <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>?[-<span class="hljs-string"><span class="hljs-string">${</span></span>##}]}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>#}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}]+<span class="hljs-string"><span class="hljs-string">${</span></span>?[<span class="hljs-string"><span class="hljs-string">${</span></span>##}]}+<span class="hljs-string"><span class="hljs-string">${</span></span>##}&lt;&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>?[<span class="hljs-string"><span class="hljs-string">${</span></span>##}+<span class="hljs-string"><span class="hljs-string">${</span></span>##}]}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>##}&lt;&lt;<span class="hljs-string"><span class="hljs-string">${</span></span>#?}}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>##}}=<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]-<span class="hljs-string"><span class="hljs-string">${</span></span>#?}} <span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">${</span></span>##},<span class="hljs-string"><span class="hljs-string">${</span></span>#?}] } <span class="hljs-string"><span class="hljs-string">$@</span></span> <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>#}-<span class="hljs-string"><span class="hljs-string">${</span></span>##}]<span class="hljs-string"><span class="hljs-string">$!</span></span> <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>[<span class="hljs-string"><span class="hljs-string">$#</span></span>]+<span class="hljs-string"><span class="hljs-string">${</span></span>#}]<span class="hljs-string"><span class="hljs-string">$!</span></span> } <span class="hljs-string"><span class="hljs-string">${</span></span>#?} <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">${</span></span>#?}+<span class="hljs-string"><span class="hljs-string">${</span></span>#?}] <span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">${</span></span>#?}&lt;&lt;(<span class="hljs-string"><span class="hljs-string">${</span></span>#?}+<span class="hljs-string"><span class="hljs-string">${</span></span>#?})] : () { <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]} <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]} <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]} <span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span>]}<span class="hljs-string"><span class="hljs-string">${</span></span>(#):-<span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$[</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>+<span class="hljs-string"><span class="hljs-string">$@</span></span>]#<span class="hljs-string"><span class="hljs-string">$@</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$!</span></span><span class="hljs-string"><span class="hljs-string">$@</span></span>]} } <span class="hljs-string"><span class="hljs-string">${</span></span>#?}</code> </pre><br>  ( <code>:</code> need to be guaranteed to have <code>0</code> in <code>$?</code> ).  If you run <code>strace</code> , you will see that there is still a <code>fork</code> : when you start <code>/</code> , <code>fork</code> is done first, and then you can get over the possible locations of <code>+++</code> .  The same will come out with a <code>''</code> , so you need to replace the function <code>/</code> with <code>///</code> , which gives exactly the same result as <code>/</code> (not <code>//</code> !), But without <code>fork</code> . </div><p>Source: <a href="https://habr.com/ru/post/247249/">https://habr.com/ru/post/247249/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247235/index.html">Interpolation: draw smooth graphs using Bezier curves</a></li>
<li><a href="../247237/index.html">Roslyn: The .Net Community Meeting at CLRium # 2</a></li>
<li><a href="../247241/index.html">Attempt to make friends with STM32</a></li>
<li><a href="../247243/index.html">Conferences that are waiting for us in 2015</a></li>
<li><a href="../247247/index.html">All about versions of Windows 8.1 and how to legally download the latest image without a subscription</a></li>
<li><a href="../247251/index.html">Programming Philosophy - Three-Way Programming</a></li>
<li><a href="../247253/index.html">Java Check State</a></li>
<li><a href="../247255/index.html">How to be friends with STM32</a></li>
<li><a href="../247257/index.html">Fitts law or how to use it</a></li>
<li><a href="../247261/index.html">Integration of PayPal to the site as a payment system and the problem with https</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>