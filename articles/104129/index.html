<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Widget comments widget: bugreport</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to share a tale about how we introduced a widget for Vkontakte comments on our website and what came of it. I must say that my respect for the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Widget comments widget: bugreport</h1><div class="post__text post__text-html js-mediator-article">  <i>I want to share a tale about how we introduced a widget for Vkontakte comments on our website and what came of it.</i>  <i>I must say that my respect for the developers of this widget has dropped very, very low, almost breaking through the level of the plinth - on the programmer‚Äôs day it will be very symbolic.</i> <br><br><blockquote>  <b>Update:</b> Friends, more thanks to everyone for participating - the main errors were fixed yesterday in the widget;  I think this is solely due to the publication here. <br><br>  In my eyes, Habr once again confirmed his reputation as an IT-resource ‚Ññ1, I hope that in yours too.  Thanks again to all the developers and widget developers! </blockquote><br>  But first things first. <br><a name="habracut"></a><br>  The widget was announced by Pavel Durov on Friday night, at 2 o'clock or more.  On Friday afternoon, we tried to deploy this widget: one page with only the widget code, another in the sandbox, that is, on the test version of the site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Problem with json </h4><br>  The ‚Äúclean‚Äù page (only with the widget code) opened normally in all browsers we are testing (IE, Firefox, Opera, Safari, Chrome), it was the turn of the sandbox. <br><br>  The first to issue a yellow card to IE, complaining that an object suddenly turned out to be null.  OK, we load Eclipse and parse the minimized code. <br><br>  Our site uses mootools for some things, so it was obvious that there was a problem with it.  And so it happened - mootools believes that the JSON object should be presented in a different way than the widget expects. <br><br>  <b>Conclusion 1: The</b> prevalence of mootools is much more than the widget.  Could it not be checked before the release? <br><br>  <b>Solution 1: we</b> collect custom mootools, without including JSON, we didn‚Äôt use mootools for JSON, and nothing on this site was destroyed. <br><br><h4>  Browser problem </h4><br>  We did not have time to roll out the changes to the release, as complaints from users began to arrive - someone had a page with a widget that went into an endless refresh, someone just hung out. <br><br>  As we try to be the most compatible site, the changes were immediately rolled back.  It became clear that testing is needed for coverage, that is, the widget did not behave correctly in all browsers. <br><br>  <b>Conclusion 2:</b> if the widget does not support any browsers, then we could have warned about this, and even better - ‚ÄúV Kontakte‚Äù could have themselves carried out tests for coverage. <br><br>  <b>Solution 2:</b> take the browser version, starting from the statistics for the year and see what will be incompatible, there is no other way.  And to issue the browser-specific code on the site side. <br><br>  And it was here that shoals climbed. <br><br>  IE6 and IE7, if the widget was seen by a person who did not log in to Vkontakte, drove the page to a permanent reload;  This glitch is still not fixed.  Want to check it out?  Easy.  Take IE7 and try to open <a href="http://vz.ru/columns/2010/9/10/431206.html">an article from the Vzglyad site</a> (having previously logged in from Vkontakte). <br><br>  Further more.  In Opera 9, the widget simply did not work.  Opera 9.5 crashes to death when you try to open the site with the widget.  9.64 is already working.  Safari 3.0 also provides endless page reloads.  Firefox 2.0 also provides endless reloads. <br><br>  Yes, I understand, you say, they say, few people go from the old Safari and Opera with Firefox, but I'm sorry, users with IE6 and IE7 are still full. <br><br><h4>  So why not reported? </h4><br>  And now try to contact one of the programmers from ‚ÄúV Kontakte‚Äù and explain this.  Those who have tried it know that it is more difficult than to climb Everest. <br><br>  At one time, ‚ÄúV Kontakte‚Äù had a rather serious problem of moderating iframe applications, do you think that you managed to contact someone?  With no one.  The social network "In Contact" makes it easy to connect with anyone except the developers.  When we had problems with Yandex widgets, we cutely solved problems on a regular phone, which was very convenient. <br><br>  A similar situation is visible today.  I like the widget that they did, but the pancake was not very good and they don‚Äôt go to the contact.  I hope this publication will help draw attention to this, as well as help those who decide to implement this widget in themselves. <br><br>  Thanks for reading;  Once again, happy programmer, friends! </div><p>Source: <a href="https://habr.com/ru/post/104129/">https://habr.com/ru/post/104129/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../104122/index.html">Russian Android-smartphone 4G with two screens</a></li>
<li><a href="../104123/index.html">The first Arab robot to answer questions</a></li>
<li><a href="../104124/index.html">IT project budget management</a></li>
<li><a href="../104127/index.html">Brainstorm before Startup Weekend</a></li>
<li><a href="../104128/index.html">Research of the world market of business applications SaaS</a></li>
<li><a href="../104135/index.html">18 ways to like the site optimizer</a></li>
<li><a href="../104136/index.html">GoDaddy.com is for sale</a></li>
<li><a href="../104137/index.html">How many holes in Adobe caftan? (CVE-2010-2883)</a></li>
<li><a href="../104141/index.html">Inventory of computers on the network without getting up from the chair or OCS Inventory + GLPI</a></li>
<li><a href="../104142/index.html">Get Object from form</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>