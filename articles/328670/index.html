<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automating the exchange of Qt form data with a SQL database</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article describes a solution for performing routine procedures for filling and saving form data to / from an SQL database. The code is complicate...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automating the exchange of Qt form data with a SQL database</h1><div class="post__text post__text-html js-mediator-article">  This article describes a solution for performing routine procedures for filling and saving form data to / from an SQL database.  The code is complicated.  To understand it, you need to know the Qt framework in terms of QtGui, QtSql.  And at least medium C ++. <br><br><img src="https://habrastorage.org/web/b5d/699/3af/b5d6993afba84fbd9f333bdf4fdfa347.png"><br><a name="habracut"></a><br><br><h2>  Story </h2><br><p>  Once I had to work on a project written in Qt.  Backend was the most common SQL database.  The app resembled an address book.  But there were about a hundred of all kinds of Qt forms and dialogs.  All these forms were served by simple C ++ code.  Which simply takes data from the database, simply pushes them along simple fields.  And then, when you close the form, it simply saves to the base. </p><br>  For example: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="cpp hljs">Form::Form(QObject* parent) : QWidget(parent) { QSqlQuery query; query.prepare( <span class="hljs-string"><span class="hljs-string">"SELECT firstname "</span></span> <span class="hljs-comment"><span class="hljs-comment">// +    " FROM persons WHERE id = ?" ); const bool right = query.exec() &amp;&amp; query.first(); Q_ASSERT( right ); //   . if( right ) { ui-&gt;firstnameEdit-&gt;setText( query.valie( 0 ).toString() ); /*     */ } } ~Form::Form() { QSqlQuery query; query.prepare( "UPDATE persons SET firstname = :firstname " // +    " WHERE id = :id" ); query.bindValie( ":firstname", ui-&gt;firstnameEdit-&gt;text() ); /*    */ const bool right = query.exec(); Q_ASSERT( right ); //    . }</span></span></code> </pre> <br><p>  Everything was good for a while.  But suspicions began to appear that something was wrong here.  If only because the <em>'firstname'</em> in the queries was mentioned two times.  At first glance, nothing terrible.  The second <em>'firstname'</em> could be put into a static variable.  But all this was not that.  It seems the code works.  But something here must be radically changed. </p><br>  And so, they entrusted to me the creation of the next forms, with the next bunch of fields.  Since the sadness of the code above has accumulated a lot.  I decided to embody my wildest dreams and desires. <br><br>  Dreams: <br><ul><li>  Columns for input fields <em>('firstname')</em> and table names must be specified 1 time.  Ideally, this should be the property of the widgets specified via the editor (QtDesigner). </li><li>  Routine SQL queries should be made on the basis of these properties with a minimum of code. </li><li>  A form must contain only code specific to some fields and the form itself.  Simple filling out of the database and saving should not take up space in the implementation.  We needed a universal code for all forms. </li><li>  The code should be able to fill the form with data from several tables. </li><li>  There must be room for the ‚Äúsad code‚Äù from the example above.  He could come in handy in all sorts of unusual situations. </li></ul><br><p>  In general, everything had to be polished in the best traditions of the PLO.  At the same time, I had no idea how it would be implemented.  This code was received.  Of course now this code brings me no less sadness than the example above.  But he worked.  He worked so well that he managed to forget how he worked.  And I worked with this code like this.  Made a form with all the input fields on it.  And I added to each field a property in which the column name was stored in the database where the data from this field was stored.  Then, in the designer of the form class, wrote magic lines like <em>setupForm ("persons");</em>  and <em>fillForm (dbID);</em>  Those.  figuratively spoke to the form ‚Äúset on using the 'persons' table‚Äù and ‚Äúfill it with data from the line stored under the key from the dbID variable‚Äù.  The form did what they say.  The rest were already problems of the base class, where these methods were implemented. </p><br><p>  As you can guess, the implementation consisted of these two lines and the common code generated by QtCreator.  The form with a hundred fields contained even less code in the implementation than in the example above.  But sometimes you had to call <em>fillForm ()</em> again.  In order to fill the fields from the associated SQL tables.  Type <em>fillForm (anotherRecordId, "address").</em> </p><br><p>  Since my production code is available only to initiates.  I had to write this decision again.  And since over time we all gain experience.  It turned out much better than the original.  All code was issued as an application - address book.  And <a href="https://github.com/stanislav888/AddressBook">flooded on github</a> .  Further, there will be a verbose explanation of how it works and works. </p><br><br><h2>  Test solution </h2><br><p>  For the test, you must have QtCreator with Qt not lower than 5.0.  Personally, I built a project with Qt 5.5.0 using the gcc 5.3.1 compiler.  Although the project will build and even work on Qt 4.8.1.  However, some "special effects" make the program there is not very friendly. <br></p><br>  Initial project setup: <br><ol><li>  Download the <em>git clone</em> project <em><a href="">github.com/stanislav888/AddressBook.git</a></em> </li><li>  Change the current directory <em>"cd AddressBook"</em> </li><li>  Initialize <em>the git submodule init</em> submodule </li><li>  You load the submodule code into the <em>git submodule update project</em> </li><li>  Open and collect project </li><li>  Run the program </li><li>  If all is well, a window for selecting / creating a database file will appear.  You can see what kind of program.  To fill in the test data there is a button "Fill test data" </li><li>  Delete the created database with the ‚ÄúDelete DB file‚Äù button </li></ol><br><p>  Then you add the fields to the interface and the database: <br></p><ol><li>  In <em>AddressBookMainWindow :: createDb (),</em> add any new column to the creation of the ‚Äúpersons‚Äù table <em>(PERSONS_TABLE_NAME)</em> .  Something like <em>'&lt;&lt; ¬´middlename TEXT¬ª'</em> only with its own column name. </li><li>  Open the <em>addressbookmainwindow.ui</em> file in the form editor. </li><li>  Add a widget there to edit the new field.  For starters, let it be <em>QLineEdit.</em> </li><li>  In the new widget, create a property with the name "c" (column), the value-name of the new column.  Created in p.1 </li><li>  Run the program.  You should again be asked where to store the database file.  If not.  Delete the database and run the program again. </li><li>  See this field.  Saving and filling the data there will be configured automatically.  For the test, you can change the field and change the selection in the table on the left.  To another line and back </li><li>  <strong>The following example.</strong>  <strong>Adding a field from a related table.</strong> <br>  Add something like <em>'&lt;&lt; "postcode TEXT"'</em> to the creation of the "address" table <em>(ADDRESS_TABLE_NAME)</em> ibid. </li><li>  Then add again <em>QLineEdit</em> to the form <em>addressdialog.ui</em> property with the name "c" again with the value - the name of the column that you added in the previous step </li><li>  Also delete the file with the database and run the program.  Specify the name of the new base file </li><li>  On the main form, click on ‚ÄúChoose address‚Äù and see the dialogue with your new <em>QLineEdit</em> .  It should also be stored in the database as other fields. </li><li>  Fill in any address with your new field and select it (‚ÄúSelect address‚Äù) </li><li>  Close the program </li><li>  Open <em>addressbookmainwindow.ui</em> to edit it and absolutely add the same field with the same property to this file. </li><li>  Additionally, add the property "t" (table) with the value "address" </li><li>  Next, it was necessary to add a fill in the data from the "address" table in this form.  In the <em>void</em> function, <em>AddressBookMainWindow :: updateForm ()</em> .  There is already such a code <em>‚Äúm_widgetHelpers.fillForm (addressId, ADDRESS_TABLE_NAME);‚Äù</em> </li><li>  We start, we check.  The new field must be filled in and saved in both forms. </li></ol><br>  After successful experiments with <em>QLineEdit,</em> you can try any other widgets like <em>QSpinBox, QDateEdit</em> , etc.  All in the same sequence.  Unsupported widgets will display mountains of asserts. <br><p></p><br><h2>  Code review </h2><br><h3>  Project files </h3><br>  <a href="">File Link</a> <br><br><ul><li>  <strong>Common folder.</strong>  All common files that it makes sense to drag into other projects to add "magic" functionality.  Selected in a <a href="https://github.com/stanislav888/WidgetsHelpers">separate project</a> </li><li>  <strong>common / widgethelpers. *</strong> "Widget <strong>helpers</strong> ".  Or the implementation of the "bike" to fill out forms. </li><li>  <strong>setupdialog. *</strong> dialog asking where is the database </li><li>  <strong>addressbookmainwindow. *</strong> main program window.  There is also a database initialization code. </li><li>  <strong>addressdialog. *</strong> address selection form. </li></ul><br><p>  I will say right away.  I did not want to make this program for use by ordinary users.  I did code that could be the basis of other projects.  Therefore, sometimes non-ideal solutions can be used there.  Just because it would maintain the versatility of <em>WidgetHelpers</em> and similar classes. </p><br><br><h3>  Project Classes </h3><br><h4>  Widgethelpers </h4><br><p>  It contains all the "magic" functionality. <br></p><ul><li><a name="setupForm"></a>  <strong>void setupForm (QWidget * fornPointer, const QString &amp; defaultTableName);</strong> <br><br>  Sets the form fields for which property <em>COLUMN_NAME_PROP</em> is defined to save data in the database after the input focus has been changed. <br><br>  <em>fornPointer</em> - a pointer to the form to be configured.  You can associate this class with a form class, both through inheritance and aggregation.  Here, for universality, a pointer to the form to be configured must be passed explicitly. <br><br>  <em>defaultTableName</em> - SQL table "by default".  If the field does not have the property ‚Äút‚Äù ( <em>TABLE_NAME_PROP</em> ), then the <em>defaultTableName is</em> written to this property. <br><br>  Thus the form will have a certain table "by default".  Which does not need to be explicitly specified in the properties of the widget. <br><br></li><li>  <strong>void fillForm (const QVariant &amp; tableRecordId, const QString &amp; tableName / * = QString :: null * /)</strong> <br><br>  Fills input fields with data from the database.  It is necessary to call once for the fields of each SQL table on the form. <br><br>  <em>tableName is the</em> SQL name of the table whose fields are filled in on the form.  Unless explicitly stated.  Then the fields for the table "by default" are filled in. See <em><a href="https://habr.com/ru/post/328670/">defaultTableName</a></em> above. <br><br>  <em>tableRecordId</em> - ID of the row in the table whose data must be filled in for editing on the form.  If to transfer there simply QVariant ().  Those.  "Null".  Which can return us a request to the database.  Then the corresponding fields will be cleared and locked up. <br><br></li><li>  <strong>QVariant getFieldValie (const QString &amp; tableName, const QString &amp; colimnName) const;</strong> <br><br>  Retrieves any value from the cache.  Used to retrieve a foreign key when adding new entries to the cache.  You can also retrieve user data to fill in some individual widgets directly.  Without participation <em>fillForm ()</em> . <br><br></li><li>  <strong>QSqlRecord addRecord (const QString &amp; tableName, const QVariant &amp; recordId);</strong> <br><br>  Adding data to fill the input fields in the <em>m_tablesRecords</em> cache <em>.</em>  Usually called from <em>fillForm ().</em>  You can call it explicitly when you set the <em>recordId</em> parameter, based on <em>getFieldValie ()</em> and you do not need <em>fillForm ().</em> <br><br></li><li>  <strong>void setAdditionalDisableWidgets (const QWidgetList &amp; widgets);</strong> <br><br>  Sets the individual widgets that must be locked together with the widgets of the main table.  For example, these are buttons that themselves do not contain data, but do not make sense if there is no selection in the table. <br><br></li><li>  Variables <strong>COLUMN_NAME_PROP, <em>TABLE_NAME_PROP</em> .</strong> <br><br>  Contain the property names of the widgets where the column name and the table are stored in the database.  If the widget does not have <em>COLUMN_NAME_PROP,</em> then it does not participate in the automatic filling of data.  And you can safely fill it in your own way.  Short names are chosen for the convenience of filling out forms.  Less letters in the name of the property less scribbling and errors. </li></ul><br>  A good example of filling a form with data from several <em>AddressBookMainWindow :: updateForm ()</em> tables.  Such code will work correctly after calling <em>WidgetHelpers :: setupForm ()</em> <p></p><br><br><h4>  AddressBookMainWindow </h4><br><p>  The main window of the program.  Starts looking for a base.  If not found, asks the user where the file with the base.  If you specify a file that does not exist, it creates a database and writes the path to the settings.  It contains a table with contacts of the address book on the left and details for each entry on the right.  The table uses <em>QSqlTableModel</em> as the data source.  The form also takes data directly from the database through the <em>WidgetHelpers</em> functionality, saves the same.  <em>QSqlTableModel</em> can save data to the database.  It is strange that on the form separate data storage for the table and simple fields.  <em>QSqlTableModel</em> sometimes works with errors.  Then, it has a bit limited functionality.  Therefore, you can spit and use <em>QSqlQueryModel.</em>  Which already saves nothing, but it has no restrictions.  In this case, the table will be read only.  And the functional of saving simple fields in the right part will be needed.  For those who really want to save via <em>QSqlTableModel (m_personsModelPtr)</em> .  <em>WidgetHelpers (m_widgetHelpers)</em> throws out a <em>dataChanged</em> signal <em>(QString tableName, QString columnName, QVariant id, QVariant value);</em>  Although there is also a need for logic that prevents saving in <em>WidgetHelpers :: saveDataSlot ()</em> .  It is not implemented as unnecessary.  Also on the form there is another feature.  Combobox <em>ui-&gt; countryCombo.</em>  It is only needed to show how to save and fill in data from linked SQL tables.  Here it is the table ‚Äúcountry‚Äù <em>(COUNTRY_TABLE_NAME)</em> linked through ‚Äúaddress‚Äù <em>(ADDRESS_TABLE_NAME)</em> .  Usually it is hidden from prying eyes.  changing the country outside the rest of the address will be very strange.  Who wants to open and experiment <em>(ui-&gt; countryCombo-&gt; hide ();)</em> . <br></p><br><p>  Conceptually, this window <em>(AddressBookMainWindow)</em> should inherit from <em>WidgetHelpers.</em>  But in fact, Qt developers have limited the standard C ++.  And left a lot of rake for those wishing to use all the features of the language.  Therefore, aggregation is applied here and further, so as not to confuse the already complex code.  If you see the flaws of this approach.  So you must see the way out in each case.  If you do not see anything wrong.  So while thinking about it is not worth it.  The code works and that's enough. </p><br><br><h4>  AddressDialog </h4><br><p>  Dialog select address from the list.  Works like <em>AddressBookMainWindow.</em>  But he did not make absolutely all such code for the left table in <em>WidgetHelpers.</em>  Tables are not yet our goal.  But working with input widgets is also done. </p><br><br><h3>  How values ‚Äã‚Äãare set in widgets </h3><br><p>  As already noticed inquiring minds.  <em>WidgetHelpers</em> has two interesting functions: <strong>static void setWidgetValie (const QVariant &amp; valie, QObject * const inputBox);</strong>  and <strong>static QVariant getWidgetValie (const QObject * const sourceBox);</strong>  they take values ‚Äã‚Äãfrom any widget and write the value to any widget where it makes sense.  In the case of simple <em>QLineEdit, QSpinBox</em> widgets <em>, the</em> solution from Qt is used.  These are the functions "setters" and "getters" designated as <em>"USER"</em> .  For example, in the file <em>‚Äúqlineedit.h‚Äù</em> there is a line <em>‚ÄúQ_PROPERTY (QString text READ text WRITE setText NOTIFY textChanged USER true)‚Äù</em> There is even documentation of what this spell means. </p><br><p>  In addition to simple cases there is, for example, the case of <em>QComboBox.</em>  <em>"Q_PROPERTY (QString currentText READ currentText WRITE setCurrentText NOTIFY currentTextChanged USER true)"</em> .  At first glance, there is nothing wrong there.  But since combo boxes, as a rule transfers from DB.  It would be more convenient for us to set the values ‚Äã‚Äãby the secondary key from the database, and not by the string visible to the user.  Therefore, the logic here is changed.  The value is set by key from the database.  stored in a <em>UserRole combo box</em> model. <br></p><br><p>  Then there is the case with a group of <em>QRadioButton.</em>  Such forms can also be a listing from the database.  And too lazy to install these switches by hand.  Those.  you must select the switch whose value is stored in the database.  For this there is a property "v" <em>(VALUE_PROP)</em> .  Contains the value stored in the database.  It is configured very interesting.  Logically related <em>QRadioButtons</em> must have a <em>QButtonGroup assigned.</em>  But <em>COLUMN_NAME_PROP, TABLE_NAME_PROP</em> are set at any <strong>one</strong> <em>QRadioButton.</em>  Just for the convenience of the developer.  The code itself will figure out what to do with the group.  <em>VALUE_PROP</em> are set for all switches different. </p><br><p>  In <em>AddressBookMainWindow</em> , probably the most complicated case of a group of switches is implemented.  To select the sex of the contact.  A fake <em>QRadioButton was</em> added there <em>,</em> in case the NULL is stored in the database. </p><br><br><h2>  How to show the country in two different ways </h2><br><p>  Now, for better mastering, let us analyze the most terrible and confusing example.  The form <em>addressbookmainwindow.ui</em> has a <em>QComboBox ui-&gt; countryCombo</em> .  To see it, you need to comment out <em>ui-&gt; countryCombo-&gt; hide ();</em>  To fill it with data from the database.  It is necessary to fill in the fields associated with the table "address".  Then there is <em>ui-&gt; countryLabel</em> .  For it you need to fill in the fields associated with the table "country". </p><br>  This is done like this: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AddressBookMainWindow::updateForm() { <span class="hljs-comment"><span class="hljs-comment">//    m_widgetHelpers.fillForm( id ); const QVariant addressId = m_widgetHelpers.getFieldValie( PERSONS_TABLE_NAME, ADDRESS_FK_COL_NAME ); setAddress( addressId ); m_widgetHelpers.fillForm( addressId, ADDRESS_TABLE_NAME ); const QVariant countryId( m_widgetHelpers.getFieldValie( ADDRESS_TABLE_NAME, COUNTRY_FK_COL_NAME ) ); m_widgetHelpers.fillForm( countryId, COUNTRY_TABLE_NAME ); }</span></span></code> </pre><br><ol><li>  At first there is a call <em>m_widgetHelpers.setupForm (this, PERSONS_TABLE_NAME);</em>  in the constructor. </li><li>  The first line is <em>m_widgetHelpers.fillForm (id);</em>  fills the form with the default table data ( <em><a href="https://habr.com/ru/post/328670/">defaultTableName</a></em> in <em>setupForm ()</em> ).  In our case, this is ‚Äúpersons‚Äù <em>(PERSONS_TABLE_NAME).</em>  The same function adds (or replaces) the desired SQL string <em>(QSqlRecord)</em> to the cache ( <em>m_tablesRecords</em> ). </li><li>  Next, <em>m_widgetHelpers.getFieldValie () retrieves the</em> necessary ‚Äúforeign key‚Äù from the cache to write to the ‚Äúaddress‚Äù table <em>(ADDRESS_TABLE_NAME).</em> </li><li>  The resulting <em>‚ÄúaddressId‚Äù is</em> used in <em>setAddress ()</em> .  What does not matter yet. </li><li>  Then in <em>m_widgetHelpers.fillForm (addressId, ADDRESS_TABLE_NAME);</em>  .  This call fills all widgets where the property ‚Äút‚Äù is explicitly specified equal to the variable <em>ADDRESS_TABLE_NAME</em> Including <em>ui-&gt; countryCombo</em> .  The same call loads the row from the ‚Äúaddress‚Äù table into the cache. </li><li>  Further, the ‚Äúforeign key‚Äù (countryId) is also retrieved to the entry in the ‚Äúcountry‚Äù table. </li><li>  And <em>m_widgetHelpers.fillForm (countryId, COUNTRY_TABLE_NAME)</em> fills in all the widgets where the property ‚Äút‚Äù is <em>COUNTRY_TABLE_NAME</em> (‚Äúcountry‚Äù).  Those.  <em>ui-&gt; countryLabel</em> </li></ol><br><p>  The difference here is that the combo box itself works with the ‚Äúforeign key‚Äù.  The column name is ‚Äúcountryid‚Äù <em>(COUNTRY_FK_COL_NAME)</em> from the ‚Äúaddress‚Äù table <em>(ADDRESS_TABLE_NAME).</em>  Whereas for <em>ui-&gt; countryLabel,</em> you need to add a line from the ‚Äúcountry‚Äù table to the cache (which was done implicitly).  And only then fill the widget with data from the cache.  It turns out that <em>fillForm (countryId, COUNTRY_TABLE_NAME);</em>  only needed for <em>ui-&gt; countryLabel</em> .  Of course, the two fields leading out the country are not needed in the neighborhood.  Therefore, one of them was hidden. </p><br><p>  <em>ui-&gt; countryLabel is</em> filled with property ‚Äúc‚Äù and ‚Äút‚Äù.  These properties are not in the widget <em>addressbookmainwindow.ui</em> .  They are set programmatically. <br><br></p><pre> <code class="cpp hljs"> ui-&gt;countryLabel-&gt;setProperty( WidgetHelpers::COLUMN_NAME_PROP, COUNTRY_NAME_COLUMN ); ui-&gt;countryLabel-&gt;setProperty( WidgetHelpers::TABLE_NAME_PROP, COUNTRY_TABLE_NAME );</code> </pre><br>  There is no sense in this.  Just an example that you can also fill in the property.  You can comment out these lines and define them through the editor for the forms.  This property setting makes sense only up to <em>setupForm ()</em> . <p></p><br><br><h2>  Profit </h2><br><p>  Immediately after developing all this.  Suddenly, new opportunities began to appear.  One of them is the output of additional debugging information about the field in the tooltips to the widget.  When you hover over the widget, something like <em>‚Äút = persons, c = skype, id = 3‚Äù</em> appears.  What does the table, column and primary key of the row mean by which this field was filled in?  In this case, the original tips, if they are static.  Do not go anywhere.  Dynamic is also not a problem to fasten.  I think it will be a ‚Äúhand-made monument‚Äù to a developer for testers. </p><br><br><h2>  QDataWidgetMapper </h2><br><p>  Of course, this is my solution, it seems a bit cycling compared to using a solution based on <em>QDataWidgetMapper.</em>  I admit trying to use this class.  But he simply did not want to work.  You can of course dig into the sources of Qt and find out what is there.  In this case, the solution could be a patch to Qt or its own implementation of the mapper.  That did not suit me at all.  I just wanted to set the column names for the widget in QtDesigner.  This is very visual and does not clutter up the form implementation file.  QDataWidgetMapper is not exactly that.  It is necessary to link the column in the model and the widget.  At the same time I am obliged to use unreliable <em>QSqlTableModel</em> model <em>.</em>  It works for me with SQLite.  But in Qt, not one SQLite.  It is not clear what tricks these models will throw out with other bases.  And I wanted to make a universal solution.  Then, <em>QDataWidgetMapper</em> does not want to support <em>QComboBox</em> and <em>QRadioButton</em> , as I do. </p><br><br> <a href=""><img src="https://habrastorage.org/web/f7c/b3e/948/f7cb3e948017404aabd9c890581e5d34.png"><br></a> <br><h2>  Conclusion </h2><br><p>  In my opinion, the bike was very successful.  Write comments, kick me hard.  After all, this is my first article here.  If you like this topic.  There is an idea to write about models (which are <em>QAbstractItemModel</em> ). </p></div><p>Source: <a href="https://habr.com/ru/post/328670/">https://habr.com/ru/post/328670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../328654/index.html">How does the buyer work</a></li>
<li><a href="../328658/index.html">How to protect yourself from the attack of the encryption virus ‚ÄúWannaCry‚Äù</a></li>
<li><a href="../328660/index.html">The clash of cultures. How is the intranet developing in Russia?</a></li>
<li><a href="../328666/index.html">Five different: how I chose CRM for my service</a></li>
<li><a href="../328668/index.html">Neural networks, genetic algorithms, etc. ... Myths and reality. Version II</a></li>
<li><a href="../328674/index.html">Biometric technologies in fintech and banking</a></li>
<li><a href="../328678/index.html">What does Scrum look like in the real world? We find out at the meeting of ssrum-masters on May 23 in St. Petersburg</a></li>
<li><a href="../328680/index.html">Why do we change color schemes?</a></li>
<li><a href="../328682/index.html">New dynamic protection against exploits to stop attacks at the very early stage of exploitation of vulnerabilities</a></li>
<li><a href="../328684/index.html">Release of cross-platform XAML UI-framework AvaloniaUI 0.5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>