<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A brief introduction to the MOAI Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When it comes to business applications, it is customary to write multiple copies for each of the popular mobile platforms. This is fully justified, si...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A brief introduction to the MOAI Framework</h1><div class="post__text post__text-html js-mediator-article">  When it comes to business applications, it is customary to write multiple copies for each of the popular mobile platforms.  This is fully justified, since the Android / iOS / etc platforms are so specific that it is quite difficult to implement on the principle of ‚ÄúCode at once - run everywhere‚Äù.  However, the situation is quite different when it comes to mobile games.  Games usually have their own style of graphic elements - buttons, menus, etc., and all graphics are built either on sprites or on 3D (note - in the future we will deal only with 2D engines).  There is a completely natural desire to write an application once and collect it for different platforms. <br>  The cross-platform MOAI framework will help us achieve this. <br><br><a name="habracut"></a><br><br>  First of all, why MOAI?  This framework was chosen purposefully.  For myself, I decided that I needed an engine that: <br><ul><li>  Cross platform </li><li>  Uses OpenGL hardware acceleration </li><li>  Game logic is implemented in a scripting language (preferably LUA) </li><li>  It should be possible to write C / C ++ extensions. </li><li>  Desirable open source.  The latter was not due to the desire to save money, but the ability to edit the engine itself in the event of some critical bugs. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Earlier, before the choice of the framework, I hadn‚Äôt yet programmed a Loa, but the choice fell anyway on him since in its parameters it fits perfectly - it consumes little memory, has garbage collection, remarkably integrates with sishnyh applications.  In the course of his study, Lua fully met his expectations, so I can say that the choice was quite successful. <br><br>  Of the framework candidates, I considered Corona SDK, Gideros, Cocos2d-X (yes, it is possible to script it on Lua) and MOAI. <br>  If you compare the Corona SDK and Gideros, then in my opinion Gideros is preferable.  Since  The delivery includes various tools, including a simple IDE, it is possible to write plugins, and the free mode differs from the paid one only in the presence of splash screen gideros.  <s>The crown in the free mode puts a timeout on the assembly (but not on the emulator), besides after the launch, a dialog appears that you need to buy the Crown, then there will be no dialogue.</s>  <s>Plug-ins can only be written after the purchase of Corona Enterprise, the price of which is not specified at all.</s>  UPD: as Lerg user wrote to me, recently their product has changed a bit: <a href="http://habrahabr.ru/post/175689/">habrahabr.ru/post/175689</a> But nevertheless, in some respects the Crown is better - it has a larger community, and the engine itself is also more optimized (loading sprites and .P.). <br><br>  When choosing between Cocos2d-X and MOAI, I chose the latter because  It was originally developed as a Lua engine. <br><br><h4>  Installation </h4><br>  We clone it here <a href="https://github.com/moai/moai-dev">github.com/moai/moai-dev</a> or, better yet, do fork. <br>  I do not recommend installing a binary build, because if you are not interested in modifying the engine, then most likely, try Gideros. <br>  Next, open the project in Xcode project moai-sdk / xcode / osx / MoaiSample.xcodeproj and compile the moai binary. <br>  Attention, desktop versions of MOAI are under Windows and Linux!  But you can build an iOS project, of course, only under a poppy. <br><br>  After the moai is installed, try running the example: <br>  Go to the / usr / local / moai-sdk / samples / hello-moai directory and run the example <br> <code>moai main.lua</code> <br>  At this point, a programmer who developed for Android or iOS should get great pleasure from the way the example is launched.  It starts instantly!  Without compilation, repacking and other things.  I ran the example and immediately saw the result.  Honestly, it's worth it! <br><br><h4>  Android </h4><br>  To run the application under Android or iOS, you need to create the appropriate assembly.  For Android, everything is done quite simply - using the moai-sdk / ant / make-host.sh script, we create a basic Android project, the script can be used to specify additional options. <br>  The basic project is the source code for the Android application, which contains the Moai libraries, as well as a script for packaging the final * .apk lua files, graphics and other files needed by your program. <br><br>  We copy the unkown-host to the required place (I have the ~ / Projects directory), specify the path to the Android SDK in settings-local.sh: <br> <code>android_sdk_root="/usr/local/android-sdk"</code> <br>  and the path where the main project on Lua lies <br> <code>src_dirs=( "/Users/alex/Projects/myproject" )</code> <br> <br>  Now, to run the application on Android, run the script run-host.sh <br>  It must be borne in mind that the builder is quite simple - it simply takes the Android application sources, copies the MOAI project into them and assembles the apk.  Those.  if you need to enable accelerometer support in the application, then you need to explicitly edit MainActivity.java in the source code of the base project. <br><br><h3>  iOS </h3><br>  Under iOS, there is about the same mechanism, only there is no such convenient script for creating a new host.  It is proposed to copy the sample project and modify it. <br>  In principle, this is not difficult, but I personally am not comfortable when I need to pick the graphical settings of the project in Xcode. <br>  Attention - fresh MOAI sources from the repository (which is not surprising) may contain bugs, so if you don‚Äôt build the project, then try Therefore, if you don‚Äôt want to deal with it either, then check out stable revisions (by tags) or clone my fork (https://github.com/Nepherhotep/moai-dev), which is rarely updated, and therefore more stable. <br><br>  Further, the development is as follows - write and test the code on the working machine, and build for Android / iOS before you release the version. <br><br><h3>  Useful </h3><br>  <a href="http://getmoai.com/">getmoai.com</a> - the official website of MOAI <br>  <a href="https://github.com/moai/moai-dev">github.com/moai/moai-dev</a> - sources on github <br>  <a href="https://github.com/ymobe/rapanui/tree/master/rapanui-sdk">github.com/ymobe/rapanui/tree/master/rapanui-sdk</a> - a high-level framework using MOAI <br>  <a href="https://github.com/derickd/moaigui">github.com/derickd/moaigui</a> - widget library for MOAI <br>  <a href="https://github.com/Nepherhotep/terevaka">github.com/Nepherhotep/terevaka</a> is another high-level framework for MOAI, homemade, and with buns.  Read more in my next article <a href="http://habrahabr.ru/post/176771/">habrahabr.ru/post/176771</a> </div><p>Source: <a href="https://habr.com/ru/post/176765/">https://habr.com/ru/post/176765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../176741/index.html">Finding the fundamental matrix "for dummies"</a></li>
<li><a href="../176749/index.html">Programmatic placement of coefficients in chemical equations</a></li>
<li><a href="../176751/index.html">Nontrivial task with callback + DID in Asterisk</a></li>
<li><a href="../176759/index.html">Small storage for small files</a></li>
<li><a href="../176763/index.html">Class methods in ruby</a></li>
<li><a href="../176767/index.html">The Basics of Native Extension in Java for AIR</a></li>
<li><a href="../176769/index.html">Live broadcast: a practical course on the font. Lecture cycle. Lecture number 2</a></li>
<li><a href="../176771/index.html">Terevaka - a high level framework on Lua for mobile platforms</a></li>
<li><a href="../176775/index.html">The meaning and quality of life of the programmer</a></li>
<li><a href="../176779/index.html">Esboza - vector editor online & framework (Part Two)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>