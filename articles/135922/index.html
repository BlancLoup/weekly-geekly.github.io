<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JRebel Quickstart</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last article I talked a little about JRebel and what can I use it for. Now I will try to describe how you can try using JRebel, step by step. 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JRebel Quickstart</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="http://habrahabr.ru/blogs/sandbox/135633/">last article</a> I talked a little about JRebel and what can I use it for.  Now I will try to describe how you can try using JRebel, step by step. <br><br>  For example, take the <i>Petclinic</i> application, the source code of which <a href="https://github.com/xebia-france-training/xebia-petclinic">can be found on GitHub</a> .  As IDE I will use my favorite <a href="http://habrahabr.ru/blogs/java/134092/">IntelliJIDEA</a> . <br><br><a name="habracut"></a><br><h4>  Training </h4><br><h5>  JRebel4IntelliJ </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, install the JRebel plugin for IntelliJIDEA.  Go to <i><b>Settings -&gt; Plugins</b></i> , click <i><b>Browse repositories ...</b></i> , in the list of plug-ins you can easily find <b>JRebel Plugin</b> - you can install. <br><br><img src="https://habrastorage.org/storage2/a9b/44e/93d/a9b44e93d70b79c66a014e0d65620eaf.png"><br><br>  When you first install, of course, you will need to register. <br><br><img src="https://habrastorage.org/storage2/06b/78d/570/06b78d570cae455993add34bbf037545.png"><br><br><h5>  Petclinic </h5><br><br>  Get the project code for the exercise. <br><br> <code>git clone git://github.com/xebia-france-training/xebia-petclinic.git</code> <br> <br>  Open the resulting project in the IDE ( <i>as a Maven project</i> ). <br><br><h5>  Small setup </h5><br><br>  <b>1. Generate rebel.xml</b> <br><br><img src="https://habrastorage.org/storage2/b8b/d86/169/b8bd8616931b52a5bfe3303a8cb908fe.png"><br><br>  Save <b>rebel.xml is</b> best in the directory that will be marked as a directory for sources in this project, i.e.  either in <b>src / main / java</b> , or in <b>src / main / resources</b> .  This is needed in order for the project to be built, the <b>rebel.xml</b> would appear in the <b>WEB-INF / classes of the</b> deployed application. <br><br>  <b>2. Add main / java / resources to rebel.xml</b> <br><br>  Since this plugin generates <b>rebel.xml</b> , the paths of which are obtained based on where the source code will be compiled ( <i>target \ classes</i> ), and where the web-parts of the application ( <i>main / webapp</i> ) are located, in some cases you have to add additional paths .  At the moment, there is just such a case - the <b>src / main / resources</b> directory will not be turned on by the generator in <b>rebel.xml</b> .  And in this directory are just some resources that we want to change later. <br><br>  After adding the appropriate element, our new <b>rebel.xml</b> will look like this: <br><br><img src="https://habrastorage.org/storage2/3e7/f5f/ffc/3e7f5fffc037d29dbe8f018051c2e214.png"><br><br>  This approach was chosen in order to point out some nuances.  In fact, if Maven is used to build the project, it is more reasonable to use a <a href="http://zeroturnaround.com/reference-manual/app.html">special plugin</a> to generate rebel.xml, which can be configured accordingly. <br><br><h4>  We work with JRebel </h4><br><h5>  Launch </h5><br>  We will run the application on Tomcat 7. To do this, select <b>Edit Configurations ..</b> <br><br><img src="https://habrastorage.org/storage2/a12/44a/21a/a1244a21a96050305efb12b846fbe70b.png"><br><br>  Choose <b><i>Tomcat</i></b> configuration <b><i>-&gt; Local</i></b> <br><br><img src="https://habrastorage.org/storage2/c4d/f25/f16/c4df25f1627779945c1ab1ae5b0a89f5.png"><br><br>  Next, you need to add an artifact for deployment.  In the selection it is proposed to decide whether this application will be deployed in a packaged or unpacked ( <i>exploded</i> ) mode.  At the moment, this choice is not fundamental.  Suppose we chose the unpacked mode. <br><br>  After the done manipulations, we are ready to start the project. <br><br><img src="https://habrastorage.org/storage2/1f0/a85/60b/1f0a8560be1d3a4a952a2c15d2906f3b.png"><br><br>  When starting up, in the startup console we will see the following: <br><br><img src="https://habrastorage.org/storage2/091/246/489/091246489b8e51794a5afd5d2910d610.png"><br><br>  That is - everything is fine - JRebel has been enabled.  Further, as the application is being scanned, you will see messages that JRebel will track changes in some directories: <br><br><img src="https://habrastorage.org/storage2/d73/deb/05f/d73deb05f49de1fc6f3d5b06aa48905b.png"><br><br>  These are the same directories that were written in <b>rebel.xml</b> .  At the time of downloading the application, the first thing that JRebel will do is try to find our configuration file in <b>WEB-INF / classes</b> , and, if successful, ask the classloader to look for resources along the paths that were found in <b>rebel.xml</b> .  If the required resource is not found in those directories that are specified in <b>rebel.xml</b> , then a ‚Äúrollback‚Äù to the usual bootloader logic will be sent, i.e.  the resource will be searched from the deployed application. <br><br><h5>  Initial position </h5><br><br>  Let's see first what we generally have at the beginning, by opening the application at <i><a href="http://localhost/">localhost</a> : 8080</i> <br><br>  Let's follow the link <i>Find owner</i> , then <i>Add owner</i> , and try to save empty values ‚Äã‚Äãin the form.  The result of validation is visible in the picture below: <br><br><img src="https://habrastorage.org/storage2/426/3c1/dc8/4263c1dc8e24f1d46ada50247c876c66.png"><br><br><h5>  Make changes </h5><br><br>  Let's try to make some changes to the code so that it is easy to see the result.  The class <b><i>OwnerValidator</i></b> is responsible for checking the form fields.  We will carry out part of the checks in a separate method, and for clarity, we remove the address check altogether.  Those.  As a result of the changes made to the OwnerValidator class, a new method was added, with minor changes in the original logic, which will be seen on the next attempt to save the data. <br><br><img src="https://habrastorage.org/storage2/221/950/24f/22195024fdfc05821d7248fe21c52e67.png"><br><br>  You should copy the modified class, after which we can repeat the attempt to save empty data, as a result we will see the following result: <br><br><img src="https://habrastorage.org/storage2/5a3/a3f/b7e/5a3a3fb7ed9ba22a64ba9625da2ddbfe.png"><br><br>  As you can see, the <i>Address</i> field is no longer required, as expected.  The following messages from JRebel will be displayed in the console: <br><br><img src="https://habrastorage.org/storage2/49d/70a/d8e/49d70ad8e80edfcf6b27aa9b2549d6be.png"><br><br>  When calling the <i>OwnerValidator # validate</i> method, the <i>file</i> was checked for an update, and since the code was compiled for some reason, JRebel determined that the class should be updated.  Thus, we can see that JRebel updates classes only at the very last moment, before the call - in a lazy mode, so to speak. <br><br>  Now let's try something more interesting.  Suppose we would like to ‚Äúhang‚Äù another class for testing on the same form.  Let's call it <b><i>FirstNameValidator</i></b> .  Also add a new entry in the messages.properties <br><br><img src="https://habrastorage.org/storage2/4ec/d46/dcb/4ecd46dcbab941014462b50730e4c0b7.png"><br><br>  Moreover, I would like to add a new class using the capabilities of <b>Spring</b> .  Add a new component to <b>petclinic-servlet.xml</b> : <br><br><img src="https://habrastorage.org/storage2/cbb/c65/eac/cbbc65eacfbcf92245ad4d24a17b321f.png"><br><br>  The last step is to add components using the <b><i>@Autowired</i></b> annotation to the controller code, which is implemented in the <b><i>AddOwnerForm</i></b> class: <br><br><img src="https://habrastorage.org/storage2/239/8d4/947/2398d49473f4bd39d088e710951f259d.png"><br><br>  In total, 4 files were changed: <br><ul><li>  Added new class FirstNameValidator </li><li>  changed existing class AddOwnerForm </li><li>  changed messages.properties </li><li>  changed petclinic-servlet.xml </li></ul><br>  Now you need to compile the new and modified classes, and you can try filling out the form again.  If you enter a value other than <b>‚ÄúAnton‚Äù</b> in the <i>First name</i> field, the check will give <b>‚ÄúShould be Anton‚Äù</b> - the same message that we added to the <b>messages.properties</b> and use in <b>FirstNameValidator</b> , which, in turn, was added to the application using Spring . <br><br><img src="https://habrastorage.org/storage2/119/801/238/1198012383b336cf16e744df23da5585.png"><br><br><h4>  Total </h4><br>  I hope this little guide will help those who are interested, and want to try using <a href="http://www.jrebel.com/">JRebel</a> in their project.  If you have questions - write - I will answer with pleasure! </div><p>Source: <a href="https://habr.com/ru/post/135922/">https://habr.com/ru/post/135922/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135916/index.html">Manual: Pyramid for People - Table of Contents</a></li>
<li><a href="../135917/index.html">New C ++ World Map from Alenacpp</a></li>
<li><a href="../135919/index.html">Simple minimalist implementation of complex JavaScript applications</a></li>
<li><a href="../135920/index.html">Generating a list of IPv4 addresses on TCL and some number systems</a></li>
<li><a href="../135921/index.html">Close the site mirror from indexing correctly</a></li>
<li><a href="../135926/index.html">How do you type important letters?</a></li>
<li><a href="../135927/index.html">Browser "Internet"</a></li>
<li><a href="../135928/index.html">Nokia introduced the Lumia 900 for AT & T</a></li>
<li><a href="../135929/index.html">Cut the Rope to HTML5! From the idea in Moscow to the announcement at CES</a></li>
<li><a href="../135932/index.html">ASUS Tablet on NVIDIA Tegra 3 for $ 249</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>