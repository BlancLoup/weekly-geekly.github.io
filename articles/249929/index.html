<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Random maze on js in you know how many lines</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Having read articles on [anything else] in JavaScript in 30 lines of code, I thought: why am I worse? Not finding the item ‚Äúwriting bad code‚Äù in the l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Random maze on js in you know how many lines</h1><div class="post__text post__text-html js-mediator-article">  Having read articles on [anything else] in JavaScript in 30 lines of code, I thought: why am I worse?  Not finding the item ‚Äúwriting bad code‚Äù in the list of my shortcomings, I decided to do something interesting. <br><br>  The labyrinths have always guided in my direction with some magic and riddles, so the search for "something interesting" ended quickly enough.  Unfortunately, the creation of the game was delayed for many hours of experiments on the console and my nerves. <br><br>  Initially, realizing the size of the righteous anger of adepts of immaculate programming, I did not plan to publish my writings, but after the game was liked by the cat, a couple of friends and my vanity, I decided to write an article (you can incorporate the theoretical part into it). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For supporters of the principle ‚Äúyou know less - sleep better‚Äù, a link to JSFiddle (arrow control) is suggested. <br><a name="habracut"></a><br><h4>  Start </h4><br>  What is the most difficult in creating such a game?  That's right, the generation of the labyrinth itself.  That is why, at first, I began not with examining the existing algorithms and choosing the optimal one, but with creating my own wheel with preference and widowed aristocrats of the most strict rules. <br><br>  My idea was as simple as Gregory Galloway‚Äôs snow: to write a recursive function that, starting from the point [0: 0], would run through the maze and ‚Äúdrive out‚Äù its way until it got out.  As soon as she does this, we randomly select N cells from the path traveled by her and start the same function from these cells. <br><br>  <b>Pros: the</b> ability to adjust the complexity of the labyrinth, humidifying the value of N. <br>  <b>Cons:</b> randomness of everything and everything. <br><br>  Said - <a href="http://jsfiddle.net/universome/YzrL5/">done!</a>  . <br><br>  After crying over my decision, I turned to the experts for help.  Fortunately, their advice turned out to be <a href="http://en.wikipedia.org/wiki/Depth-first_search">NMEMALO</a> . <br><br><h4>  Prima's randomized algorithm </h4><br>  Having studied these algorithms, I settled on the Prima randomized algorithm (in fact, altering it a little), considering its implementation to be the most concise. <br><br>  So first, a little about the maze.  A labyrinth is a table (of course, it would be more correct to call it a graph), the cells (vertices) of which must belong to one of 2 sets: <br>  1) "Walls" (black blocks), which form these fancy patterns of the maze; <br>  2) ‚ÄúPassages‚Äù (white blocks) - just that, on which you can move. <br><br>  The algorithm is as follows: <br><ol><li>  We start with a table (graph), all the cells (vertices) of which belong to the set of "Walls"; </li><li>  Select a cell.  Remove it from the set of "Walls" and add to the set of "Passages".  All the walls adjacent to it (vertical and horizontal) are added to the ‚ÄúSpecial List of Walls <s>approved by the plenary session of the State Duma</s> ‚Äù; </li><li>  Take the "Special List of Walls". <br><ol><li>  If it is not empty, then we choose a random wall from it. <br>  1) If the cell on the side opposite to the wall belongs to the ‚ÄúPassages‚Äù set, then we delete this wall from the ‚ÄúATP‚Äù (special list of walls): <br><br><img src="https://habrastorage.org/storage3/c5f/a27/ef9/c5fa27ef92f76861a2f7cf4068e55b87.png" alt="image"><br><br>  2) If the cell on the opposite side belongs to the set of "Walls", then: <br><ul><li>  Remove this wall from the set of "Walls"; </li><li>  Add this wall to the set of ‚ÄúPassages‚Äù; </li><li>  Remove the cell on the opposite side from the set of "Walls"; </li><li>  Add a cell on the opposite side to the ‚ÄúPassages‚Äù set; </li><li>  Add adjacent to the cell on the opposite side of the wall in the "Special List of Walls"; </li><li>  Returning to paragraph 3. </li></ul><br></li><li>  If it is empty, the maze generation is complete. </li></ol><br></li>  (control arrows). <br><br>  Good luck! <br><br>  PS If during the passage you did not jump out anything (on the screen), then for some reason the picture did not load. <br><br>  PPS The code on JSFiddle is slightly modified (compressed) in order to fit in 40 lines (do not hit!). </ol></div><p>Source: <a href="https://habr.com/ru/post/249929/">https://habr.com/ru/post/249929/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249915/index.html">Clouds are even cheaper 2. Answer-continuation</a></li>
<li><a href="../249917/index.html">Adventures at FOSDEM 2015</a></li>
<li><a href="../249921/index.html">MyTOTP - fully own * two-factor authorization by rfc6238</a></li>
<li><a href="../249923/index.html">Radio electronics, or how I began to comprehend it</a></li>
<li><a href="../249927/index.html">Free and safe: the main myths of free software</a></li>
<li><a href="../249931/index.html">EMC VMAX 3: Enterprise Data Management Platform</a></li>
<li><a href="../249933/index.html">Automating Storage Infrastructure with ViPR Controller: IT as a Service in Action</a></li>
<li><a href="../249939/index.html">A little more reverse engineering of UEFI PEI modules on another useful example</a></li>
<li><a href="../249945/index.html">Automate backup tasks with vCenter Orchestrator via Veeam Restful API</a></li>
<li><a href="../249949/index.html">Reliable localStorage for bookmarklets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>