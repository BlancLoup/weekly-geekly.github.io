<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Echo of past years": How to solve the issue of lack of IPv4 addresses</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="IPv4 allows you to use about 4.3 billion addresses. However, the ‚Äúcapacity‚Äù of the Internet infrastructure, which was laid in the 70s of the XX centur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Echo of past years": How to solve the issue of lack of IPv4 addresses</h1><div class="post__text post__text-html js-mediator-article">  IPv4 allows <a href="https://www.oecd.org/sti/ieconomy/40605942.pdf">you</a> to <a href="https://www.oecd.org/sti/ieconomy/40605942.pdf">use</a> about 4.3 billion addresses.  However, the ‚Äúcapacity‚Äù of the Internet infrastructure, which was laid in the 70s of the XX century, today is not enough, because at that time no one expected such a rapid growth of consumers.  Over the past 20 years, the number of Internet users <a href="http://www.internetlivestats.com/internet-users/">has increased</a> almost 60 times, largely due to the densely populated countries - India and China.  Also contributed to the spread of mobile devices. <br><br> <a href="https://habrahabr.ru/company/vasexperts/blog/316272/"><img src="https://habrastorage.org/files/0ad/283/0fe/0ad2830feac640e1accc8f0425b0f752.jpg"></a> <a name="habracut"></a><br>  <i>/ Flickr / <a href="https://www.flickr.com/photos/michaelpardo/">Michael Pardo</a> / <a href="https://creativecommons.org/licenses/by/2.0/">CC</a></i> <br><br>  Address space management and distribution of IP addresses are handled by the IANA Internet address space administration and regional Internet registrars (ARIN, APNIC, AfriNIC, LACNIC, RIPE NCC).  In early 2011, IANA allocated the last five of the remaining blocks of address space to regional operators. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Then the organization's experts predicted that the addresses would be exhausted over the next five years.  And now these five years have come to an end and LACNIC <a href="http://www.potaroo.net/ispcol/2015-08/last8.html">announced the</a> suspension of the issuance of addresses.  Therefore, we decided to turn to this topic again and see where humanity has advanced in solving the current situation. <br><br><h2>  What to do </h2><br>  As one of the possible solutions, it is now proposed to strengthen control over addresses.  Initially, the ranges were issued by huge blocks, but many organizations that have received them at their disposal, have now ceased to exist, and the registry was not kept at that time.  Therefore, it is necessary to return all the addresses, break them into smaller clusters and distribute them again. <br><br>  Another solution is to implement the IPv6 system, which is the latest version of IP with a virtually unlimited number of addresses (2 to the power of 128).  However, there is a certain difficulty, because IPv6 is incompatible with IPv4, which slows down and complicates the transition. <br><br>  There is a third option.  Refer to Network Address Translation (NAT), which translates the organization‚Äôs many local addresses into a single external address.  The mechanism of NAT is described in <a href="https://www.ietf.org/rfc/rfc1631.txt">RFC 1631</a> , <a href="https://www.ietf.org/rfc/rfc3022.txt">RFC 3022</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/6f6/a77/b06/6f6a77b067954c5cbd9e5ff2356e847a.jpg" width="700"></div><br><br>  There are several types of NAT.  The first is static, which converts internal addresses to external "to scale" one to one.  The second is a dynamic one translating one internal address to an external one from the range provided.  The translation is the same as in static NAT, only the external address is selected randomly from those that were free at the time of conversion. <br><br>  And finally, the third option - this is the so-called overloaded NAT (NAPT, NAT Overload, PAT) - is a form of dynamic NAT, in which several internal addresses are mapped to one external one.  This option is able to help with the lack of public IP-addresses. <br><br>  The maximum number of possible ports is 65 thousand, therefore, in theory, the same number of local addresses can be mapped to one external address.  However, NAT has a number of drawbacks. <br><br>  Since all user sessions access the Internet from a single white address, this will cause problems with sites that allow access to the service over IP ‚Äî only one user will be able to work with it.  Moreover, if many people access the site from the same address, the resource may decide that a DDoS attack is being carried out on it, and close access to all clients. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/060/abb/29a/060abb29a674418bac068d638c14f6f3.png" width="700"></div><br><br><h2>  What is the future of NAT? </h2><br>  And in the future we are waiting for the next level of development of NAT - Carrier Grade NAT (CGN / CGNAT).  The solution is designed for Internet providers and telecom operators, but is also suitable for replacing NAT devices in corporate networks.  CGN allows you to assign local addresses to subscribers, centrally converting them to external ones. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/354/a5c/f7d/354a5cf7deea47f7a73283be64ab3ba1.jpg" width="500"></div><br><br>  CG-NAT has several <a href="http://blog.vasexperts.ru/%3Fp%3D328">advantages</a> .  It provides a transparent way to use NAT, thanks to Endpoint Independent Mapping (EIM) functions, which for each combination of private IP address and client port guarantee the same combination of public IP addresses, Endpoint Independent Filtering (EIF), discards packets that are not intended for internal addresses, and Hairpinning, which allows one machine to access another on the outside of the network. <br><br>  Another important advantage of CGN is limiting the number of TCP and UDP ports available to the subscriber.  This allows for efficient distribution of ports between users, and also protects against DDoS attacks from botnets. <br><br><h2>  IPv6 transition </h2><br>  Many operators are beginning to gradually transition to IPv6, because sooner or later everyone will have to use it.  The Carrier-Grade NAT technology is able to ease the transition from IPv4 to IPv6.  The following <a href="http://www.slideshare.net/IOSHints/nat64-and-dns64-in-30-minutes">solutions</a> are used for this: NAT64, DS-Lite, 6RD and NAT444. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f7c/045/e48/f7c045e480fa4369b78a43856045eac4.png" width="400"></div><br><br>  NAT64 technology allows users of services on IPv6 to provide access to resources with IPv4 addresses, translating the addresses of the new protocol to the addresses of the old one. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/6fb/d43/6b8/6fbd436b8f4c46d6b59bee29a6b23476.png" width="400"></div><br><br>  DS-Lite technology DS Lite uses an IPv6 connection between the provider and the client.  An IPv4 packet from a client going to an external network is encapsulated in IPv6 for transmission via the provider's network, and then converted back to IPv4 when it is transferred to the public Internet.  In this case, the operator may deploy an IPv6 network, but continue to provide connection services for clients over IPv4. <br><br>  6RD technology implements the provision of IPv6 services to customers through an existing IPv4 network.  IPv6 addresses are allocated from the subnet assigned to the Internet service provider.  An 6RD node wishing to send an IPv6 packet over the network encapsulates it into an IPv4 packet and checks to see if the recipient is in the same segment. <br><br>  If so, the recipient's IP address is formed by adding the IPv4 prefix with the bits from the destination IPv6 that are not included in the 6RD prefix.  If the recipient is in a different segment, the packet is sent to the provider's gateway, which retrieves the packet and then sends it further over IPv6 networks.  The mechanism is described in <a href="https://tools.ietf.org/html/rfc5969">RFC 5969</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/095/1d5/6c0/0951d56c05f949119700d95808cb9d28.png" width="400"></div><br><br>  NAT444 technology allows you to translate the local address of the client to the local address of the provider, which is then transferred to the public Internet address.  You do not have to change the client equipment or network structure. <br><br>  To implement any of these technologies, you must either use special equipment for address translation or tunneling (A10 Thunder, F5 BIG-IP Carrier-Grade NAT), or upgrade existing network devices with additional service modules. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/59e/b66/a76/59eb66a762df4ce09da6d16638e5a2e5.jpg" width="700"></div><br><br>  To realize all this allows a multifunctional device, such as <a href="http://vasexperts.ru/product-skat.php">DPI</a> (Deep Packet Inspection) and Carrier-Grade NAT.  Such solutions are a priori designed to work with huge loads when analyzing traffic, so they can easily cope with address translation (the NAT function). </div><p>Source: <a href="https://habr.com/ru/post/316272/">https://habr.com/ru/post/316272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316258/index.html">Manage containers with runC</a></li>
<li><a href="../316260/index.html">Introduction to Android TV Application Development</a></li>
<li><a href="../316264/index.html">How I persuaded BILL and ISPmanager Lite 5 to change the RAM at the rate of virtual hosting</a></li>
<li><a href="../316266/index.html">VPN Digest: Introductory and practical materials on Habr√© and not only</a></li>
<li><a href="../316270/index.html">A bit about Deep Packet Inspection systems</a></li>
<li><a href="../316274/index.html">"The World is not the Wild West": IEEE has published a standard for creating benevolent robots</a></li>
<li><a href="../316276/index.html">A little about the history of CAPTCHA</a></li>
<li><a href="../316278/index.html">Tata will bring SD-WAN to 130 countries</a></li>
<li><a href="../316280/index.html">How IT professionals work. Evgeny Potapov, General Director, ITSumma</a></li>
<li><a href="../316282/index.html">SAP HANA in the VMware Cloud: Calculate Required Resources</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>