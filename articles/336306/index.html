<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Explore and optimize Object # toString performance in ES2015</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Benedict Meirer of Google‚Äôs Munich office is working on optimizing JavaScript. In this material, he talks about the features of the implementation and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Explore and optimize Object # toString performance in ES2015</h1><div class="post__text post__text-html js-mediator-article"> Benedict Meirer of Google‚Äôs Munich office is working on optimizing JavaScript.  In this material, he talks about the features of the implementation and operation of <code>Object.prototype.toString()</code> in the V8 engine.  In particular, it‚Äôs about why this construct is important, how it has changed with the advent of ES2015 symbols, and the optimization approach that Mozilla engineers have suggested, which resulted in an approximately sixfold increase in performance of <code>toString()</code> in V8. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/336306/"><img src="https://habrastorage.org/getpro/habr/post_images/fdf/1d4/767/fdf1d4767f6ae00fe5d3b83ef8ed1c7f.jpg" alt="image"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Introduction</font> </h2><br>  The <a href="http://ecma-international.org/ecma-262/6.0/">ECMAScript 2015</a> standard introduced the concept of so-called well-known symbols.  These are special built-in characters that represent the internal mechanisms of the language that are not available to developers in implementations of ECMAScript 5 and previous versions of the standard. <br><br>  Here are some examples: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator">Symbol.iterator</a> : This is the method that returns the default iterator of the object.  It is used in language constructs such as <a href="">for..of</a> , <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield*">yield *</a> , <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator">an expansion operator</a> , <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">destructuring assignment</a> , and in others. <br></li><li>  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/hasInstance">Symbol.hasInstance</a> : a method for determining whether a constructor object considers an object as its own instance.  Used by the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof">instanceof</a> operator. <br></li><li>  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag">Symbol.toStringTag</a> : a string value used to describe an object, the default.  It is accessed by the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString">Object.prototype.toString ()</a> method. <br></li></ul><br>  Most of these new constructions have a complex and nontrivial effect on various parts of the language.  This leads to significant changes in the performance profile due to the so-called <a href="https://en.wikipedia.org/wiki/Monkey_patch">monkey patches</a> .  We are talking about the possibility of changing some standard mechanisms by user code during program execution. <br><br>  One of the most interesting examples of this is the new <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag">Symbol.toStringTag</a> symbol, which is used to control the behavior of the built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString">Object.prototype.toString ()</a> method.  For example, a developer can now place a specific property in any object instance, after which this property will be used instead of the standard embedded tag when calling the <code>toString</code> method: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> A { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> [Symbol.toStringTag]() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'A'</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.prototype.toString.<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(<span class="hljs-string"><span class="hljs-string">''</span></span>);     // "[object String]" <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.prototype.toString.<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>({});     // "[object Object]" <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.prototype.toString.<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> A);  // "[object A]"</code> </pre> <br>  This requires that the implementation of <code>Object.prototype.toString()</code> for ES2015 and later versions of the standard first converts its <i><font color="#999999"><b>this</b> value</font></i> to an object using the abstract operation <a href="https://tc39.github.io/ecma262/">ToObject</a> , and then searches for <code>Symbol.toStringTag</code> in the resulting object and in its prototype chain.  This is what can be found in the <a href="https://tc39.github.io/ecma262/">relevant part of</a> the language specification: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3f/98e/ac2/c3f98eac2e8ab13181f9ee2996b6864b.png"><br>  <i><font color="#999999">Fragment of the specification dedicated to Object.prototype.toString ()</font></i> <br><br>  Here you can see, firstly, the conversion using <a href="https://tc39.github.io/ecma262/">ToObject</a> , and secondly, the <a href="https://tc39.github.io/ecma262/">Get</a> call for <code>@@toStringTag</code> (this is a special internal syntax of the language specification for a well-known symbol called <code>toStringTag</code> ).  Adding the <code>Symbol.toStringTag</code> construction to ES2015 significantly extends the capabilities of developers, but at the same time means a certain amount of resources. <br><br><h2>  <font color="#3AC1EF">ToString performance research goal</font> </h2><br>  The performance of the <code>Object.prototype.toString()</code> method in Chrome and Node.js <a href="http://crbug.com/v8/5175">has already been investigated</a> , as this method is extensively used for type checking with some popular frameworks and libraries.  For <a href="">example</a> , the AngularJS framework uses this method to implement various support functions, including <a href="">angular.isDate</a> , <a href="">angular.isArrayBuffer</a> , and <a href="">angular.isRegExp</a> .  For example: <br><br><pre> <code class="hljs php"><span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ngdoc</span></span></span><span class="hljs-comment"> function * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@name</span></span></span><span class="hljs-comment"> angular.isDate * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@module</span></span></span><span class="hljs-comment"> ng * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@kind</span></span></span><span class="hljs-comment"> function * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@description</span></span></span><span class="hljs-comment"> * Determines if a value is a date. * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> {*} value Reference to check. * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@returns</span></span></span><span class="hljs-comment"> {boolean} True if `value` is a `Date`. */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isDate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> toString.call(value) === <span class="hljs-string"><span class="hljs-string">'[object Date]'</span></span>; }</code> </pre> <br>  In addition, popular libraries such as <a href="https://lodash.com/">lodash</a> and <a href="http://underscorejs.org/">underscore.js</a> use <code>Object.prototype.toString()</code> to implement value checks.  So, for example, the predicates <a href="">_.isPlainObject</a> and <a href="">_.isDate</a> from lodash are arranged: <br><br><pre> <code class="hljs ruby">/** * Checks <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">`value`</span></span> is classified as a <span class="hljs-string"><span class="hljs-string">`Date`</span></span> object. * * @since <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">1.0</span></span> * @category Lang * @param {*} value The value to check. * @returns {boolean} Returns <span class="hljs-string"><span class="hljs-string">`true`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">`value`</span></span> is a date object, <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">`false`</span></span>. * @example * * isDate(new Date) * <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span> * * isDate(<span class="hljs-string"><span class="hljs-string">'Mon April 23 2012'</span></span>) * <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span> *<span class="hljs-regexp"><span class="hljs-regexp">/ function isDate(value) { return isObjectLike(value) &amp;&amp; baseGetTag(value) == '[object Date]' }</span></span></code> </pre> <br>  Mozilla engineers working on the <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey">SpiderMonkey</a> JavaScript engine found that the <code>Symbol.toStringTag</code> search <code>Symbol.toStringTag</code> in <code>Object.prototype.toString()</code> is a bottleneck in real-world application performance.  This conclusion was made during the study of the benchmark <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1245279">Speedometer</a> .  By running only the AngularJS subtest from <a href="http://browserbench.org/Speedometer">Speedometer</a> using the V8 internal profiler (in order to enable it, you need to pass the command line key <code>--no-sandbox --js-flags=--prof</code> when you start Chrome), we found that most of the time is spent on executing the <code>@@toStringTag</code> search (in <code>GetPropertyStub</code> ) and on executing the <code>ObjectProtoToString</code> code, which implements the built-in <code>Object.prototype.toString()</code> method: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/042/792/75e/04279275e955ac0a9b0bda73a4c49bb5.png"><br>  <i><font color="#999999">Profiling AngularJS subtest from Speedometer benchmark</font></i> <br><br>  <a href="https://twitter.com/jandemooij">Jan de Moyz</a> from the SpiderMonkey development team created a simple microbenchmark to check the <code>Object.prototype.toString()</code> performance in arrays: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = <span class="hljs-string"><span class="hljs-string">""</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>];   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> toString = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.prototype.toString;   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5000000</span></span>; i++) res = toString.call(a);   print(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span> - t);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; } f();</code> </pre> <br>  In fact, the implementation of this micro-benchmark using the internal profiler built into V8 (you can enable it in the d8 shell using the <code>--prof</code> command line <code>--prof</code> ) has already shown the essence of the problem.  The main resources are spent on searching <code>Symbol.toStringTag</code> in the array <code>[1, 2, 3]</code> .  Approximately 73% of the total execution time is spent on a non-resultant property search (in the <code>GetPropertyStub</code> function, which implements a universal property search), another 3% is spent in the built-in function <code>ToObject</code> , which, in the case of arrays, is an empty operation (arrays, from the point of view JavaScript are already objects). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae7/460/9bf/ae74609bff0402ff1a054abf373c196b.png"><br>  <i><font color="#999999">Study of microbenchmark developed in Mozilla using a profiler (before optimization)</font></i> <br><br><h2>  <font color="#3AC1EF">Interesting characters</font> </h2><br>  For SpiderMonkey, a <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1369042">solution to the</a> above problem was proposed, which consists of adding a so-called <i><font color="#999999">interesting symbol</font></i> to the objects.  This symbol is a property of any <a href="https://github.com/v8/v8/wiki/Design%2520Elements">hidden class</a> , telling whether objects with this hidden class can have a property with the name <code>@@toStringTag</code> or <code>@@toPrimitive</code> .  Thanks to this approach, the resource-intensive <code>Symbol.toStringTag</code> search can, in general, be avoided, since this search does not produce results anyway.  The implementation of this proposal led to an approximately twofold increase in the microbench performance with an array for SpiderMonkey. <br><br>  As I explored some of the uses for <a href="https://angularjs.org/">AngularJS</a> , I found it very lucky to find this idea, and decided to try to implement it in V8.  I began to reflect on the <a href="https://docs.google.com/document/d/1q_Y2YM8S055RF1R6qvDe65kOEVO99tdviI1vaDcbnmc/edit">architecture of the</a> solution, and, as a result, <a href="https://chromium-review.googlesource.com/c/593620">ported</a> it to V8, while limiting <code>Symbol.toStringTag</code> to only <code>Symbol.toStringTag</code> and <code>Object.prototype.toString()</code> .  The fact is that I did not find (have not yet found) evidence that <code>Symbol.toPrimitive</code> is an important source of trouble in Chrome or Node.js.  The basic idea here is that, by default, we suppose that instances of objects do not have <i><font color="#999999">interesting characters</font></i> , and each time we add a new property to an instance, we check whether the name of this property is a similar symbol.  If so, we set a specific bit in the hidden object instance classes. <br><br><pre> <code class="hljs pgsql">const obj = {}; <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.prototype.toString.<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(obj);  //     obj[Symbol.toStringTag] = <span class="hljs-string"><span class="hljs-string">'a'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.prototype.toString.<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(obj);  //    </code> </pre> <br>  Take a look at this simple example.  Here the object <code>obj</code> begins its existence without possessing an <i><font color="#999999">interesting symbol</font></i> .  Therefore, the <code>Object.prototype.toString()</code> call follows a new, fast execution path when you can skip the <code>Symbol.toStringTag</code> search (this is also because the <code>Object.prototype</code> also does not have an <i><font color="#999999">interesting symbol</font></i> ).  The second call performs the usual slow search operation, since <code>obj</code> now has an <i><font color="#999999">interesting character</font></i> . <br><br><h2>  <font color="#3AC1EF">Optimization results</font> </h2><br>  The implementation of this mechanism in V8 improved the performance of the above microbenchmark by about 5.8 times.  Tests were conducted under Linux, on the HP Z620 Workstation.  Checking performance using the profiler, we can see that the program is no longer wasting time in <code>GetPropertyStub</code> .  Instead, the built-in method <code>Object.prototype.toString()</code> creates, as expected, the main load on the system. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c8f/549/6d6/c8f5496d6d9977dd8974922e36b75744.png"><br>  <i><font color="#999999">A study of the microbench developed in Mozilla using a profiler (after optimization)</font></i> <br><br>  We also tested the optimized engine using a <a href="https://gist.github.com/bmeurer/cc4a6c97d244eb4c8c0738bd4b8c3319">benchmark</a> , which is a little closer to reality.  When measuring the performance of <code>Object.prototype.toString()</code> , different values ‚Äã‚Äãare transferred, including primitives and objects that have the specially set <code>Symbol.toStringTag</code> property.  As a result, the latest version of V8 was 6.5 times faster than V8 6.1. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2db/365/da1/2db365da15c21a90fe9cc2d771c62195.png"><br>  <i><font color="#999999">The result of the new microbenchmark on different versions of V8</font></i> <br><br>  Measuring the impact of optimization on the Speedometer browser benchmark, and, in particular, on the AngularJS subtest, showed an increase in speed in all tests by 1% and a convincing growth of 3% when performing the AngularJS subtest. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/176/5aa/c37/1765aac3767f8e3ac6fd0c8c5d1617fc.png"><br>  <i><font color="#999999">Impact of optimization on the benchmark Speedometer</font></i> <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  Even highly optimized built-in JavaScript functions, such as <code>Object.prototype.toString()</code> , still have the potential for further optimization.  In particular, the optimization described above can improve performance up to 6.5 times.  You can make sure of this if you go deep enough into the results of various performance tests, such as the AngularJS subtest from the Speedometer benchmark. <br><br>  I would like to thank <a href="https://twitter.com/jandemooij">Jan de Moyce</a> and <a href="http://twitter.com/evilpies">Tom Schuster</a> for their research and for the great idea with <i><font color="#999999">interesting characters</font></i> . <br><br>  It should be noted that <code>JavaScriptCore</code> , the JavaScript engine used by <a href="https://webkit.org/">WebKit</a> , caches the results of consecutive <code>Object.prototype.toString()</code> calls to the hidden object instance class (this cache appeared at the beginning of 2012, before the ES2015 specification was released).  This is a very interesting strategy, but its scope is limited (that is, it is useless when applied to other well-known symbols such as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive">Symbol.toPrimitive</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/hasInstance">Symbol.hasInstance</a> ).  In addition, it requires a very complex logic of cache invalidation to ensure a timely response to changes in the prototype chain.  That is why, at least for the moment, I made the choice not to favor the solution for the V8 based on the cache. <br><br>  Dear readers!  Do you profile your JavaScript applications?  In your opinion, which standard JS mechanisms implemented in V8 need to be optimized? </div><p>Source: <a href="https://habr.com/ru/post/336306/">https://habr.com/ru/post/336306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../336296/index.html">A simple exploit gives attackers the opportunity to change the contents of the letter after sending</a></li>
<li><a href="../336298/index.html">Check Point SMB Solutions. New models for small companies and branches</a></li>
<li><a href="../336300/index.html">KOMPAS-3D viewer for Android: the experience of porting a large Windows application</a></li>
<li><a href="../336302/index.html">Analysis of MS SQL Server, for those who see it for the first time</a></li>
<li><a href="../336304/index.html">How to overcome common graphics artifacts</a></li>
<li><a href="../336308/index.html">Overview of one Russian RTOS</a></li>
<li><a href="../336310/index.html">Install and configure the main scene in MajorDoMo</a></li>
<li><a href="../336312/index.html">Good bad monkey patching</a></li>
<li><a href="../336314/index.html">We consider the tasks of the hackathon from Promsvyazbank. Why can a hackathon?</a></li>
<li><a href="../336316/index.html">Basics of contractual work in IT: contractors and employees</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>