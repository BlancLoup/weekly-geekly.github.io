<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to the geometry of regular hexagons on the plane</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Coordinate system setting 
 When implementing the movement of the map in games, it has recently become fashionable to use 
 for a space point of a reg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to the geometry of regular hexagons on the plane</h1><div class="post__text post__text-html js-mediator-article">  <b>Coordinate system setting</b> <br>  When implementing the movement of the map in games, it has recently become fashionable to use <br>  for a space point of a regular hexagon (hex).  It really solves a large number of issues.  For example, does not require moving through the corners of a polygon.  Six directions for movement is quite sufficient to convey the realism of movement. <br><a name="habracut"></a><br><img src="http://abovo.net.ru/i/moving/axis.gif" alt="Coordinate system"><br>  Fig.1.  Coordinate system <br>  Note that for fixing points on the map, using the Cartesian coordinate system that is so familiar to us becomes unprofitable, since the position of each individual cell becomes difficult to identify without using fractional values ‚Äã‚Äãin the coordinates, which makes the calculations heavier.  Equally non-trivial will be the calculations of the distances between the cells, the calculation of the action of the obstacles during the shot and with it.  Thus, the first thing you need to do is choose a convenient coordinate system.  The fact that moving to a neighboring cell would correspond to a shift by a single value along one axis of the coordinate grid would significantly simplify the calculations. <br><img src="http://abovo.net.ru/i/moving/sectors.gif" alt="Sector"><br>  Fig.2.  Sectors formed by coordinate axes <br>  A close look at the options for the vector directions of the axes is most convenient for me to see the one where the angle between the directions of the axes corresponds to 120 ¬∞.  3 coordinate axes correspond to 6 directions of motion. <br>  Such a system is redundant as long as every point in space. <br>  can be described in an infinite number of ways, each of which becomes a trajectory of movement from the origin to a point, but the shortest path is described in a single way by a projection onto the nearest coordinate axes.  In fact, we get 6 sectors representing 3 pairs, in each of which the description of points located in them is carried out through 2 coordinate axes adjacent to it as shown in Fig.2. <br><img src="http://abovo.net.ru/i/moving/coordinate.gif" alt="Coordinates of points"><br>  Fig.3.  Coordinates of points <br>  In this view, the coordinates of the points will be fixed as shown in Fig.3. <br>  <b>Convert coordinate to normal view</b> <br><blockquote>  <i>Normal, we will call such a record coordinates, when it describes the shortest path to it from the origin, which corresponds to the projections on nearby coordinate axes.</i> </blockquote><br>  To determine that the coordinate is in normal form, we can distinguish several properties inherent in it: <br><ul><li>  One of the 3 coordinates must be equal to 0, since the coordinate is recorded in a normal form through a projection onto 2 axes. <br>  The other two coordinates must be in accordance: one&gt; = 0, and the other &lt;= 0 - since half of two axes are adjacent to each of the sectors, one of which is always positive and the other is negative. <br><br>  These properties are necessary and sufficient to verify that the coordinate is recorded in the normal form. <br><img src="http://abovo.net.ru/i/moving/slide.gif" alt="Single shift in 3 coordinates"><br>  Fig.4.  Single shift in 3 coordinates <br>  Before solving the problem of normalizing the coordinates, we turn our attention to the following property of this coordinate system: a unit shift along all 3 coordinates leads us to the same point (Fig. 4).  Based on this, we get pre-education: <br><blockquote>  <i>(x, y, z) = (x + c, y + c, z + c), where c is a constant</i> </blockquote><br>  Now, to obtain a normal form of recording, the point coordinate is required only to find 2 axes, an expression through which will give the minimum distance from the origin of coordinates and reduce it to the required form using the formula proposed above.  We need to get <br><blockquote>  <i>(c1, c2, c3), where c2 = 0 and c1 &lt;= c2 &lt;= c3,</i> </blockquote><br>  which means that before the transformation we had <br><blockquote>  <i>c2 = c and c1 + c &lt;= c2 + c &lt;= c3 + c,</i> </blockquote><br>  then in a non-normalized record, it is required to find a coordinate such that its value is located between the values ‚Äã‚Äãof 2 others and subtract this value from all coordinates of a point. <br>  <b>Calculate the distance between points on the plane</b> <br>  The coordinates of the points are set as the shortest path from the origin to the point, which means that the distance from the origin to the point is equal to <br><blockquote>  <i>R0 = | x |</i>  <i>+ | y ‚Äã‚Äã|</i>  <i>+ | z |</i> </blockquote><br>  The difference of the vectors of points gives the coordinate, which in the normal form corresponds to the distance between them. <br><blockquote>  <i>R = | x1-x2 | + | y1-y2 | + | z1-z2 |</i> </blockquote><br>  <b>Finding obstacles between points</b> <br>  Now that we have discussed general issues, you can try to solve a puzzle that often arises in computer games with a card. <br>  A shot made at a distance implies the possibility of hitting an obstacle that may be encountered on the way. <br><img src="http://abovo.net.ru/i/moving/shoot.gif" alt="Shot"><br>  Fig.5.  Shooting obstacles <br>  This sets us the task of finding an obstacle that a shell can hit.  The task has in general 2 approaches to the solution: <br><ol><li>  Finding points in space where an obstacle can be located that can interfere with the movement of the projectile and check them; <br>  Go through all the obstacles in the location and check that they are not located in the line of fire. <br><br>  When considering this task, I tend to the first solution, since the very first obstacle encountered in the course of the projectile, past which the projectile could not fly, completes the solution of the problem, unlike the other approach. <br>  Thus, we don‚Äôt always need to go through all the points and all the obstacles if we start the path from the attacker. <br>  There is another argument for this approach.  To check the effectiveness of the shelter (obstacle) is often required to know the distance to the shooter or the victim. <br>  In the first case, it is known to us at any time and does not require calculations, and in the second, for each object satisfying the conditions of the obstacle, we need to calculate its distance from the shooter and the victim. <br>  In Fig.5.  the point A is indicated by the shooter, and B is the victim.  The dots may be obscured in gray. <br>  The shift in the cells during the passage along the ‚Äúcell‚Äù straight line, which is the movement of the projectile, will occur in proportion to the shift along the coordinate axes.  The third coordinate for solving this problem will not be used, because the vector of the shot will be in normal form.  Since the shot starts from the middle of the cell and ends in the middle of the cell, the result will require rounding. <br><blockquote>  <i>y = y (AB) / x (AB) * x</i> </blockquote><br>  <b>Results</b> <br>  In this review, I was able to consider only some particular points encountered in games with a map, which was done in order to demonstrate a convenient coordinate grid. <br>  Note again that the choice of such a coordinate system reduces most of the calculations to arithmetic.  All coordinates are integers, give a convenient opportunity to describe the routes of movement of the character and clearly indicate the direction of movement. <br>  The cost of such a system can be considered as its redundancy, which is compensated for by a simple rationing system. </li></ol></li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/794/">https://habr.com/ru/post/794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../79395/index.html">Yota Egg: Vulnerability or feature?</a></li>
<li><a href="../79396/index.html">Additional characteristics of Tesla 20 video cards</a></li>
<li><a href="../79397/index.html">Route Me is an alternative to the integrated Google Maps control from iPhone SDK 3.0+</a></li>
<li><a href="../79398/index.html">TinyMCE and Opera 10.50</a></li>
<li><a href="../79399/index.html">Embedding semantic data in HTML</a></li>
<li><a href="../79400/index.html">How to achieve a professional look with color</a></li>
<li><a href="../79405/index.html">Several events in the Delphi-blogosphere</a></li>
<li><a href="../79406/index.html">PastryKit: Apple‚Äôs iPhone Website Development Tool</a></li>
<li><a href="../79407/index.html">Site pages appear in Google Earth</a></li>
<li><a href="../79409/index.html">Distribution of elephants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>