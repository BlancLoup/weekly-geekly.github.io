<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Intl comes to us!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No, not Intel. Intl is a JavaScript object containing the functions of formatting numbers, dates and string comparisons. It comes because on April 29,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Intl comes to us!</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/249/702/0b8/2497020b8b50c7c54afad297dc45ad9f.jpg" alt="datemap" align="left">  No, not Intel.  Intl is a JavaScript object containing the functions of formatting numbers, dates and string comparisons.  It comes because on April 29, Firefox, the last of the popular browsers that does not support Intl, is updated to version 29, in which internationalization support will be enabled. <br><br>  Of course, those who have the will of fate to support the old browsers are again unlucky.  But progress does not stand still and, starting from the end of April, the lucky ones will be able to slowly introduce Intl into their projects. <br><br><h4>  What does Intl JS give to the programmer? </h4><br><a name="habracut"></a><br>  An Intl object contains three properties: <br><ul><li> <code>Intl.Collator</code> - Constructor of a class that allows to perform string comparisons based on locale. </li><li>  <code>Intl.DateTimeFormat</code> - Constructor class allows you to format the date and time, taking into account the locale </li><li>  <code>Intl.NumberFormat</code> - Constructor of a class containing the functions of formatting numbers.  In accordance with the locale, of course. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      All constructors take two parameters - <code>locale</code> and <code>options</code> . <br>  The first argument is a string specifying the locale, for example, ‚Äúhi‚Äù, ‚Äúru-RU‚Äù, ‚Äúde-DE-u-co-phonebk‚Äù, the second is an object, depending on the designer, containing a set of necessary settings.  Actually, objects can be created using <pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator([locales [, options]])</code> </pre>  but functions can also be applied to existing objects using <pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> [, locales [, options]])</code> </pre>  Now in order <br><br><h4>  Collator </h4><br>  Have you ever compare strings?  Ah ah ah, no need to throw tomatoes, but of course yes!  A line with uh ... krakozablami?  We look: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator(<span class="hljs-string"><span class="hljs-string">"de"</span></span>, {<span class="hljs-attr"><span class="hljs-attr">sensitivity</span></span>: <span class="hljs-string"><span class="hljs-string">"base"</span></span>}).compare(<span class="hljs-string"><span class="hljs-string">"√§"</span></span>, <span class="hljs-string"><span class="hljs-string">"a"</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// 0 console.log(new Intl.Collator("sv", {sensitivity: "base"}).compare("√§", "a")); // 1</span></span></code> </pre>  Yes, Swedish and German have a different alphabet.  The <code>sensitivity</code> option is just responsible for understanding and can take the following values: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"base"</span></span> <span class="hljs-comment"><span class="hljs-comment">// a =Ã∏ b, a = aÃÅ, a = A. "accent" // a =Ã∏ b, a =Ã∏ aÃÅ, a = A. "case" // a =Ã∏ b, a = aÃÅ, a =Ã∏ A. "variant" // a =Ã∏ b, a =Ã∏ aÃÅ, a =Ã∏ A.</span></span></code> </pre><br><br>  Rows can be sorted based on numeric values: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator(<span class="hljs-string"><span class="hljs-string">"ru"</span></span>, {<span class="hljs-attr"><span class="hljs-attr">numeric</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}).compare(<span class="hljs-string"><span class="hljs-string">"3"</span></span>, <span class="hljs-string"><span class="hljs-string">"21"</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// -1 console.log(new Intl.Collator("ru", {numeric: false}).compare("3", "21")); // 1</span></span></code> </pre><br>  By the way, in the options there is also the <code>usage</code> parameter, with the possible values ‚Äã‚Äãof <code>sort</code> and <code>search</code> , which also affects the comparison, but I don‚Äôt set the goal of this article to fully describe the Intl object, it‚Äôs still better than in the documentation - it will not work. <br><br>  A very convenient option is <code>ignorePunctuation</code> .  The name speaks for itself and needs only an illustrative example: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.Collator(<span class="hljs-string"><span class="hljs-string">"ru"</span></span>, {<span class="hljs-attr"><span class="hljs-attr">ignorePunctuation</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}).compare(<span class="hljs-string"><span class="hljs-string">"!"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// 0 console.log(new Intl.Collator("ru", {ignorePunctuation: false}).compare("!", "")); // 1</span></span></code> </pre><br><br>  Further in the program: <br><h4>  Datetimeformat </h4><br>  I do not know how for you, but for me the formatting of dates is a real headache.  If you are lucky to avoid such a task, open, for example, Excel and in the cell formatting settings, count the number of predefined formats.  Add to this the dependence on the locale from the image at the beginning of the post, and you will be happy.  Of course, up to a certain point it saves something like moment.js or XDate.  But how nice it is to have such a property in a facility!  Let's take a closer look: <br><br>  <code>timeZone</code> Browsers are required to understand only UTC, but they can support other time zones.  Unfortunately, this remains on the conscience of developers. <br><br>  <code>hour12</code> Explanations, I think, does not require.  I can only say that the default value depends on the locale.  Nice how! <br><br>  Instead of describing the remaining options, which can be found in the documentation, here are some examples: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> date = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.DateTimeFormat(<span class="hljs-string"><span class="hljs-string">"de-DE"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">weekday</span></span>: <span class="hljs-string"><span class="hljs-string">"long"</span></span>, <span class="hljs-attr"><span class="hljs-attr">year</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>, <span class="hljs-attr"><span class="hljs-attr">month</span></span>: <span class="hljs-string"><span class="hljs-string">"long"</span></span>, <span class="hljs-attr"><span class="hljs-attr">day</span></span>: <span class="hljs-string"><span class="hljs-string">"numeric"</span></span>}).format(date)); <span class="hljs-comment"><span class="hljs-comment">// Samstag, 5. April 2014 console.log(new Intl.DateTimeFormat("ru", { weekday: "short", year: "2-digit", month: "long", day: "numeric"}).format(date)); // , 5  14 . console.log(new Intl.DateTimeFormat("ar-EG", { weekday: "narrow", year: "numeric", month: "long", day: "numeric"}).format(date)); // Ÿ¢Ÿ†Ÿ°Ÿ§      ,      </span></span></code> </pre><br><br><h4>  NumberFormat </h4><br>  Well, it's just a holiday of some kind! <br>  For example, you want to display a number with insignificant zeros in front.  The usual practice is to convert a number to a string and assign the required number of zeros to its beginning.  A dance with a tambourine adds the need to display negative numbers in this form.  Everything.  You can forget about it. <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"ru-RU"</span></span>,{<span class="hljs-attr"><span class="hljs-attr">minimumIntegerDigits</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>}).format(<span class="hljs-number"><span class="hljs-number">-123</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// -0 000 123</span></span></code> </pre><br><br>  The situation is the same with decimals, but there are two parameters: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"ru-RU"</span></span>,{<span class="hljs-attr"><span class="hljs-attr">minimumIntegerDigits</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-attr"><span class="hljs-attr">minimumFractionDigits</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">maximumFractionDigits</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>}).format(<span class="hljs-number"><span class="hljs-number">-12.345</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// -0 000 012,34500</span></span></code> </pre>  By default, <code>maximumFractionDigits</code> is set to 3 and therefore you should not forget about it. <br><br>  By the way, noticed?  The numbers are grouped into bits.  You can disable this behavior by setting the <code>useGrouping</code> option to false. <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"ru-RU"</span></span>,{<span class="hljs-attr"><span class="hljs-attr">minimumIntegerDigits</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-attr"><span class="hljs-attr">useGrouping</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>}).format(<span class="hljs-number"><span class="hljs-number">-12.345</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// -0000012,345</span></span></code> </pre><br><br>  And finally, quite an incredible thing.  Money! <br>  Want to Euro? <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"de-DE"</span></span>, {<span class="hljs-attr"><span class="hljs-attr">style</span></span>: <span class="hljs-string"><span class="hljs-string">"currency"</span></span>, <span class="hljs-attr"><span class="hljs-attr">currency</span></span>: <span class="hljs-string"><span class="hljs-string">"EUR"</span></span>}).format(<span class="hljs-number"><span class="hljs-number">12.345</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// 12,345 ‚Ç¨</span></span></code> </pre><br>  Or maybe in yen? <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"ja-JP"</span></span>, {<span class="hljs-attr"><span class="hljs-attr">style</span></span>: <span class="hljs-string"><span class="hljs-string">"currency"</span></span>, <span class="hljs-attr"><span class="hljs-attr">currency</span></span>: <span class="hljs-string"><span class="hljs-string">"JPY"</span></span>}).format(<span class="hljs-number"><span class="hljs-number">12.345</span></span>)); <span class="hljs-comment"><span class="hljs-comment">//Ôø•12.345</span></span></code> </pre><br>  Or maybe in euros, but in Japanese style? <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Intl</span></span>.NumberFormat(<span class="hljs-string"><span class="hljs-string">"ja-JP"</span></span>, {<span class="hljs-attr"><span class="hljs-attr">style</span></span>: <span class="hljs-string"><span class="hljs-string">"currency"</span></span>, <span class="hljs-attr"><span class="hljs-attr">currency</span></span>: <span class="hljs-string"><span class="hljs-string">"EUR"</span></span>}).format(<span class="hljs-number"><span class="hljs-number">12.345</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ‚Ç¨12.345</span></span></code> </pre><br>  There are other options, but again, the documentation will say better than me. <br><br><h4>  Conclusion </h4><br>  I hope you are impressed by the demonstration.  As for me, I am absolutely delighted and am looking forward to the release of the 29th Ognelis.  I can no longer support older browsers.  The soul of antiques and so did not lie, but after the introduction of Intl everywhere, it would be a shame not to use it just because someone is too lazy to click the button "refresh browser". <br>  The article was written based on the documentation: <br>  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl</a> </div><p>Source: <a href="https://habr.com/ru/post/218481/">https://habr.com/ru/post/218481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../218467/index.html">Vulnerability in MACROSCOP (removed from version 1.9.72)</a></li>
<li><a href="../218469/index.html">Diet for server processor</a></li>
<li><a href="../218471/index.html">Accelerate PHP development with overload</a></li>
<li><a href="../218473/index.html">Particles System in crowd modeling</a></li>
<li><a href="../218477/index.html">Watching IP-TV from Rostelecom on the computer</a></li>
<li><a href="../218483/index.html">OpenFOAM for dummies</a></li>
<li><a href="../218485/index.html">Organization of js code for juniors</a></li>
<li><a href="../218489/index.html">About website blocking</a></li>
<li><a href="../218495/index.html">Smart watch do it yourself for 1500 rubles</a></li>
<li><a href="../218497/index.html">Conditional loading for responsive web design</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>