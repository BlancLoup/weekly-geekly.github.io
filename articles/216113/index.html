<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to draw a graph on 1C</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Describes the implementation in the 1C query language of the method of locating the vertices of the graph on a plane, based on the use of electromecha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to draw a graph on 1C</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/6f4/7ae/b93/6f47aeb9341bec0591cc546838345b4a.png" alt="image"><br><br>  Describes the implementation in the 1C query language of the method of locating the vertices of the graph on a plane, based on the use of electromechanical analogy.  At the same time, the vertices of the graph are represented by the same electric charges, the arcs are represented by springs.  The interaction forces of the vertices in this system translate them from a random initial to the desired final position.  The processing of drawing graphs ‚ÄúGraphOgraph‚Äù, which implements this approach, also shows the dynamics of the process.  The graph can be set with the list of edges manually, choose from several predefined examples or form according to the information base. <br><a name="habracut"></a><br><br><h3>  1. THEORETICAL PART </h3><br>  The structure of the graph when using electromechanical analogy is determined by two tables: a table of edges and a table of vertices. <br>  The ‚ÄúEdges‚Äù edge table contains three columns: the name of one edge of the edge (Name1), the name of the opposite edge of the edge (Name2), and the elastic value of the spring that is used to simulate the edge (Elasticity). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <table border="1"><tbody><tr><td>  <strong>Name1</strong> </td><td>  <strong>Name2</strong> </td><td>  <strong>Elasticity</strong> </td></tr><tr><td>  Vertex1 </td><td>  Vertex2 </td><td>  Elasticity1 </td></tr><tr><td>  ... </td><td>  ... </td><td>  ... </td></tr><tr><td>  VertexA </td><td>  VertexB </td><td>  Elasticity AB </td></tr></tbody></table><br>  The value of elasticity must be greater, the more closely connected the vertices.  If the graph represents a social network, the ‚Äúresilience‚Äù can be proportional to the number of messages between the respective members of the network.  If the graph represents a transport system, then the elasticity will be the smaller, the greater the distance between the nodes. <br>  The table of peaks contains two columns: the name of the peak (Name) and the value of the electric charge of the peak (Charge). <br><table border="1"><tbody><tr><td>  <strong>Name</strong> </td><td>  <strong>Charge</strong> </td></tr><tr><td>  Vertex1 </td><td>  Charge1 </td></tr><tr><td>  ... </td><td>  ... </td></tr><tr><td>  VertexA </td><td>  Charge </td></tr></tbody></table><br>  The magnitude of the charge can be proportional to the place that the vertex should occupy in the figure, since a more charged vertex will push the neighboring vertices with greater force.  For example, when building a graph of links for Infostar participants, you can use a rating as the value of the peak value (charge). <br><br>  The current state of the system is determined by a state table containing the current coordinates of the vertices and consisting of columns: the name of the vertex (Name), the current horizontal coordinate (X) and the vertical coordinate (Y).  The table of vertices and the state table for simplicity can be combined by recording the charge and current coordinates in a single table ‚ÄúVertices‚Äù. <br><table border="1"><tbody><tr><td>  <strong>Name</strong> </td><td>  <strong>Charge</strong> </td><td>  <strong>X</strong> </td><td>  <strong>Have</strong> </td></tr><tr><td>  Vertex1 </td><td>  Charge1 </td><td>  X1 </td><td>  U1 </td></tr><tr><td>  ... </td><td>  ... </td><td>  ... </td><td>  ... </td></tr><tr><td>  VertexA </td><td>  Charge </td><td>  HA </td><td>  UA </td></tr></tbody></table><br>  The dynamics of the described system can be modeled using the Euler method.  It allows you to get the coordinates of the vertices after a short period of time based on the current coordinates, knowing the speed and direction (vector) of movement of each vertex. <br><br>  For our purposes, it is easier to assume that the speed of movement is proportional to the force acting on the top (movement in a viscous medium).  To find the force acting on a specific vertex, you need to add up all the forces acting on it from other vertices.  The action force from each vertex will consist of the repulsion force determined by Coulomb's law in proportion to the product of the vertex charges divided by the square of the distance between them.  And the force of attraction in the case of a connection (edge).  The magnitude of the force of attraction is subject to Hooke's law, that is, it is directly proportional to the product of the elasticity of the bond and the distance between the vertices.  As a result, a repulsion force will act horizontally at the vertex A with the coordinates A.X and A.U from the vertex B with the coordinates B.X. and B.U. <br><br>  <em>(A. - B.) / Distance AB * A.Zaryad * B.Zaryad / ((A.H. - B.Kh) * (A.H. - B.Kh) + (A.Y. - B.Y.) * (A.U. - B.U.))</em> <br><br>  and the vertical repulsive force <br><br>  <em>(A.U. - B.U.) / Distance AB * A.Zaryad * B.Zaryad / ((A.K. - B.K.) * (A.K. - B.K.) + (A.U. - B.Y.) * (A.U. - B.U.))</em> <br><br>  Where <br><br>  <em>Distance AB = SQRT ((A. - B.) * (A. - B.) + (. - B.) * (. - B.))</em> <br><br>  Elements of the form (A. - B.) / Distance are the projections of the vector of the direction of the force, having a unit length.  Such a vector affects the direction, but does not change the magnitude of the force. <br><br>  If there is an edge between the vertices, the force of attraction will also act.  Horizontally, its value will be determined by the formula <br><br>  <em>((B.H. - A.H.) / Distance AB) * Elasticity AB * Distance AB,</em> <br><br>  A vertical formula <br><br>  <em>((B.U. - A.U.) / Distance AB) * Elasticity AB * Distance AB.</em> <br><br>  Adding two forces and making the necessary reductions, we obtain the formula of horizontal force <br><br>  <strong><em>(A. - B.) (A.Zaryad * B.Zaryad / DistanceAB / ((A. - B.) * (. - B.) + (. - .) * (A.U. - B.U.)) - Elasticity AB)</em></strong> <br><br>  and vertical force <br><br>  <strong><em>(A.U. - B.U.) (A.Zaryad * B.Zaryad / Distance AB / ((A.Kh. - B.Kh.) * (A.K. - B.Kh.) + (A.U. - B.Y.) * (A.U. - B.U.)) - Elasticity AB)</em></strong> <br><br>  Moving along X and Y can be obtained by multiplying the sum of the forces acting from all the vertices by the step size in time ‚ÄúStep‚Äù.  Thus, if the current coordinates of the vertices are known, by applying the indicated formulas, the following coordinates can be obtained, and so on, until the system goes into a steady state, where the sum of the forces acting on each vertex is close to zero. <br><br>  All of the above is implemented by repeating the execution of one fairly simple query: <br><br>  CHOOSE Ribs. Name1, Ribs. Name2, Ribs. Elasticity <br>  LIPS RIBS &amp; RIBS AS RIBS <br>  ; <br>  CHOOSE Ribs. Name1, Ribs. Name2, Ribs. Elasticity <br>  SPACE Dougie <br>  FROM RIB AS RIB <br>  COMBINE ALL <br>  CHOOSE Ribs. Name2, Ribs. Name1, Ribs. Elasticity <br>  FROM RIB AS RIB <br>  INDEX ON RIBS. Name1, RIBs. Name2 <br>  ; <br>  SELECT Vertices. Name, Vertices. Charge, Vertices. X, Vertices. <br>  SPACE Vertices <br>  FROM &amp; Vertices AS Vertices <br>  ; <br>  CHOOSE <br>  A.Name, <br>  MAXIMUM (A. Zaryad) AS Charge, <br>  MAXIMUM (A.X) + &amp; Pitch * SUM ((A.X - B.H) * (A.Zaryad * B.Zaryad / ((A.H - B.H) * (A.H - B.H) + (A.U. ‚Äî B.U.) * (A.U. ‚Äî B.U.)) ‚ÄîThere is NULL (Dugi.Rugularity, 0))) AS-X, <br>  MAXIMUM (A.U) + &amp; Pitch * SUM ((A.U - B.U) * (A.Zaryad * B.Zaryad / ((A.H - B.Kh) * (A.H - B.Kh) + (A.U. - B.Y.) * (A.U. - B.Y.)) - THERE IS NULL (Dugi.Prugosti, 0))) HOW Y <br>  OF <br>  Vertices like a <br>  INTERNAL CONNECTION Tops AS B <br>  BY A.Name &lt;&gt; B.Name <br>  LEFT JOINT ARC AS AS ARG <br>  BY A.Name = Dugi.Name1 <br>  And (B.Name = Arcs. Name2) <br>  LOAD ON <br>  A.Name <br><br>  The first packet request introduces a table of edges, arcs are formed in the second of the edges, that is, the forces of the edges are directed both from the first to the second vertex and from the second to the first, in the third request the table of vertices is entered, and in the fourth, the necessary calculations.  For this, three tables are joined: the table of vertices A and the table of vertices B according to the condition of inequality of the names of the vertices and the table of arcs according to the condition of coincidence of the names of the ends of the arcs with the names of the vertices.  Next, grouping is performed by the vertices of table A, during which the superposition of forces is calculated, which is multiplied by the Step and added to the current coordinates. <br><br>  Attentive readers will notice that in the formulas the ‚ÄúDistance AB‚Äù divider is omitted.  This is done due to the fact that in the 1C query language there is no function for calculating the square root SQRT.  That is, in this query, it is actually considered that the repulsive force is inversely proportional not to the square of the distance between the vertices, but simply to the distance.  Thus, the repulsive force is given excessive long-range action.  There is nothing terrible in this, since it is not so essential for the task of drawing graphs.  However, in the query actually used in processing, this difficulty is overcome.  This is done by calculating the square root using the Heron iteration formula. <br><br>  <em>Distance AB '= (Distance AB + Square Distance AB / Distance AB) / 2,</em> <br><br>  where the previous value of the distance is taken from the previous iteration of the query, and the initial value is one.  Such a solution did not slow down the computation much.  This mode is included in the processing of the ‚ÄúLaw of Coulomb‚Äù tick.  Also in the real query, additional optimization was carried out: the reloading of arcs and the indexing of arcs in each iteration are excluded, and the sum of squares of distances for each pair of vertices is considered not four times, as in the original query, but one.  If desired, in order to exclude the quadratic dependence of the query execution time on the number of vertices, one can divide the plane into cells (or cells) and consider repulsion only for the vertices of neighboring cells.  However, so far this optimization has not been carried out and it is not clear how much this is necessary - it is enough to draw graphs from 100 to 200 speed peaks. <br><br>  As in other problems of the numerical solution of systems of nonlinear differential equations, it is important to choose the time step.  A larger step size leads to an increase in the solution speed, but to certain limits, when the dynamic system loses stability.  In all the following examples, with charges and elasticity, 1 step was taken equal to 0.2, except graphs of nomenclature groups and contractors, where the step had to be reduced to 0.05.  In general, there is a clear rule - the greater the elasticity, the smaller the step. <br><br><h3>  2. PRACTICAL PART </h3><br>  Attached to the article <a href="http://infostart.ru/public/download.php%3Ffile%3D197035%26pub%3D196899">is the ‚ÄúGraphOgraph‚Äù</a> (emphasis on the letter ‚Äúo‚Äù).  With its help, you can set the structure of the graph and observe the dynamics of its drawing (if the "Show process" checkbox is checked).  Processing allows you to change the decision step - it should be positive, but not too large.  You can change the moving threshold for stopping - this parameter can be equal to zero, but then you have to interrupt the modeling process manually (Ctrl-Break).  You can set the required graph size in millimeters - the graph is automatically scaled, trying to occupy the specified rectangle.  You can increase or decrease the graph, as well as (on the vertex tab), rotate it clockwise or counterclockwise, or mirror it (relative to the diagonal).  You can set the color of the edges and the color of the vertices (all at the same time - a different color for each vertex and edge is set until it was necessary).  In addition, by setting the first edge elasticity, using the ‚ÄúCompare‚Äù button, you can make the elasticity of all edges the same as that of the first edge.  A similar action is programmed to charge the vertices.  Here is what the processing control panel looks like: <br><br><img title="FIG. one" src="https://habrastorage.org/getpro/habr/post_images/21a/767/4d6/21a7674d6a46945acd8ddb99fb6b9f3c.png" alt="  " width="391" height="204"><br><br>  The structure of the graph can be set manually by specifying its list of edges.  The connected vertices are identified by the names represented by text strings.  In a specific application, processing can be specialized so that the vertices are specified by references to the objects of the information base.  Then decoding will allow you to open the corresponding objects.  The list of vertices when editing edges is formed automatically (charge can be corrected).  Dialed parameters and graph structure can be saved as report settings. <br><br>  If there is no graph whose picture you want to see, you can work with ready-made demo examples.  In this case, you can choose the number of vertices of the example graph (by default, 64). <br><br>  The following are the figures obtained for the hard-wired examples.  The dynamics of construction (and it is also very interesting) is better to see by running the processing. <br><br><h4>  1. Grid (adjacent vertices are connected to cells of a rectangular grid) </h4><br><img title="Example1" src="https://habrastorage.org/getpro/habr/post_images/dea/49f/945/dea49f945f6fa3ac2d7a1139090f4c57.png" alt="" width="316" height="311"><br><br><h4>  2. Necklace (tops are connected in a ring) </h4><br><img title="Example 2" src="https://habrastorage.org/getpro/habr/post_images/308/c08/c9b/308c08c9b3de3ae9731a7bdfaf381d1d.png" alt="" width="318" height="312"><br><br><h4>  3. Clew (all vertices are directly connected) </h4><br><img title="Example3" src="https://habrastorage.org/getpro/habr/post_images/e16/9f3/e32/e169f3e32e1f17e10364300d37cad0d3.png" alt="" width="353" height="345"><br>  To get this beautiful picture, it was necessary to zero the elasticity of the ribs in the middle of the ring.  Otherwise the view would be completely different: <br><img title="Example 3a" src="https://habrastorage.org/getpro/habr/post_images/67a/a2d/c51/67aa2dc51aaae25381fe99323aaf4b36.png" alt="" width="397" height="390"><br><br><h4>  4. Binary tree </h4><br><img title="Example 4" src="https://habrastorage.org/getpro/habr/post_images/c92/fc7/c39/c92fc7c39763b86386854a3ac97b9f19.png" alt=" " width="319" height="216"><br><br><h4>  5. 5-ary tree </h4><br><h4><img title="Example 5" src="https://habrastorage.org/getpro/habr/post_images/aca/e91/44b/acae9144bc956be00ed88fffa1aa0cb3.png" alt="5- " width="316" height="220"><br><br>  6. Star (all vertices are connected to one central vertex) </h4><br><h4><img title="Example 6" src="https://habrastorage.org/getpro/habr/post_images/db5/174/f40/db5174f40e079acb9a59742bd1554ad1.png" alt="" width="309" height="310"></h4><br>  the inherent deficiency of the method is clearly visible here - a straight edge 1‚Äì13 does not bypass vertex 5, but crosses it. <br><br><h4><br>  7. Metro Moscow </h4><br><h4><img title="Example 7a" src="https://habrastorage.org/getpro/habr/post_images/9e3/81a/fa8/9e381afa880b6c640defc11f9bb33b73.png" alt="  ( )" width="613" height="662"></h4><br>  With an increase in the figure, the scheme is well read.  The proof is a fragment of the central part with a large increase <br><h4><img title="Example 7b" src="https://habrastorage.org/getpro/habr/post_images/a3c/e2c/469/a3ce2c4692d8bff83b413a98c5a0e018.png" alt="  ( )" width="871" height="662"></h4><br><br><h4>  8. Metro Peter </h4><br><h4><img title="Example 8" src="https://habrastorage.org/getpro/habr/post_images/c8d/530/f1a/c8d530f1a22329de1c82eea147f1b4c8.png" alt=" " width="632" height="627"></h4><br>  Anyone who knows Peter will notice that Vasileostrovskaya and Primorskaya stations are not in their place, but there's nothing you can do - this is a model. <br><br><h4>  9. Group graph of the Nomenclature reference book (such directory must exist in the configuration where the processing starts) </h4><br><img title="Example 10" src="https://habrastorage.org/getpro/habr/post_images/c6c/914/a65/c6c914a650b16c52a5e9d9e0bcc38c4c.png" alt="   - " width="578" height="617"><br><br><h4>  10. The group graph of the directory "Counterparties" (this directory must also exist in the configuration where the processing starts) </h4><br><img title="Example 11" src="https://habrastorage.org/getpro/habr/post_images/8b3/75b/b26/8b375bb26a740a25852f52e66a871a25.png" alt="     - " width="517" height="615"><br><br><br><br>  As for the metro schemes, it can be added that when constructing them, I had to go for a certain trick.  The fact is that, due to the initial random arrangement of the stations, the long radial branches behind the ring line (for Moscow) are most likely overlapped and then no longer straightened.  It would be possible to (a) build a graph by building up stations (how the metro was built), (b) connect the middle stations of the departure branches by a large virtual ring with weak ‚Äústraightening‚Äù connections, (c) fix the end stations or (d) take the district into account when the stations are initially dispersed station.  The last method was chosen.  It is also worth noting that the number (187 with regard to the like) stations of the Moscow metro is already close to the limit of the method capabilities.  In the status bar when the method is running, the number of frames per second that processing time manages is noted.  For example, the metro processing (file base, laptop, process display disabled and Coulomb's law) showed approximately 2.4 fps.  The structure of the metro is recorded in the processing layouts, if you wish, you can add an image of any other metro. <br><br>  All other figures are built almost instantly or rather quickly and fully automatically according to information only about the structure of graphs.  Only scaling and rotation was used.  The relatively small number of vertices depicted in the examples is explained not by the limited capabilities of the method, but by the desire to make the drawings smaller. <br><br>  It seems that these examples should be sufficient to prove the efficiency and practical applicability of the method.  But the representation of relations in the form of graphs is so universal that, without a doubt, there are still many other illustrative examples.  In particular, it was possible to build another family tree, a structure of comments for the selected article on Infostarte, user connections ‚Äú1C: Document Management‚Äù and so on and so forth.  By adding a few lines of code, you can draw arrows on arcs and, thus, draw oriented graphs. <br><br>  It is possible to suggest other ways of ‚Äúconfiguring‚Äù this ‚Äútypical‚Äù model for a specific task, in addition to vertices-objects, multi-colored vertices, multi-colored arcs and arrows on them.  For example, it is extremely easy to add a third dimension and solve the problem of placing vertices in space.  You can fix some vertices, each time zeroing the calculated movement.  After that, you can add a ‚Äúflow‚Äù so that the peaks ‚Äúrelate‚Äù to the desired direction.  Well, either to introduce the force of pushing away vertices and from arcs too, in order to correct the inherent disadvantage of the considered algorithm - the intersection of arcs of ‚Äúalien‚Äù vertices. <br><br><h3>  FINDINGS </h3><br>  As a result, according to the results of testing the processing on the listed examples, we can draw the following conclusions: the method works ideally in the case of relatively weak graphs of a symmetric and regular structure.  In the case of the other extreme - a complicated entangled structure of the graph, sometimes (but not always!) It may be necessary to manually correct some parameters (step, charge, repulsion law, elasticity, current coordinates) or even the choice of a fundamentally different algorithm.  There are limitations (in theory - surmountable) and the size of the graph.  But, on the other hand, unlike other algorithms, the implementation of this method is feasible on a pure 1C without using any external components by a simple query of 14 lines (in the main part). <br><br>  Well, in general, the considered approach once again shows the flexibility of the query language and the extent to which scientific disciplines are interconnected.  In solving this particular practical problem of automation, knowledge was required from several different areas of mathematics and physics.  Even the Pythagorean theorem was useful.  In general, knowledge is power! <br><br>  <a href="http://infostart.ru/public/download.php%3Ffile%3D197035%26pub%3D196899">File processing</a> <br><br>  (C) <a href="http://infostart.ru/profile/28527/">ildarovich</a> </div><p>Source: <a href="https://habr.com/ru/post/216113/">https://habr.com/ru/post/216113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../216101/index.html">We lift the VPN tunnel from the world home bypassing NAT</a></li>
<li><a href="../216103/index.html">Comparing the performance of brute force arrays in a loop using for () and foreach ()</a></li>
<li><a href="../216105/index.html">Great discounts or time to get storage for HDTV content</a></li>
<li><a href="../216107/index.html">You can already use two new libraries from the future PHPixie 3</a></li>
<li><a href="../216109/index.html">How to create a product in the field of consumer electronics for a couple of weeks with a minimum budget</a></li>
<li><a href="../216117/index.html">EnjoyCSS Free CSS3 Generator</a></li>
<li><a href="../216119/index.html">Overview of the budget smartphone Highscreen Zera F</a></li>
<li><a href="../216121/index.html">CubeStormer 3 collects the Rubik's Cube in 3 seconds</a></li>
<li><a href="../216123/index.html">Accounts of the Ukrainian division of WebMoney are unblocked, WMU withdrawal resumed</a></li>
<li><a href="../216129/index.html">The strategy of the game "mafia" in terms of transaction analysis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>