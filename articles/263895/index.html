<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Proper API design: what are ‚Äúone‚Äù, ‚Äúmany‚Äù, ‚Äúzero‚Äù and ‚Äúnothing‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, our regular and occasional readers. 

 Today we want to offer you an interesting article on the design of the API and the associated pitfalls. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Proper API design: what are ‚Äúone‚Äù, ‚Äúmany‚Äù, ‚Äúzero‚Äù and ‚Äúnothing‚Äù</h1><div class="post__text post__text-html js-mediator-article">  Hello, our regular and occasional readers. <br><br>  Today we want to offer you an interesting article on the design of the API and the associated pitfalls.  Do not ask how we came across it, a creative search is a very non-linear matter. <br><br>  Enjoy reading <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Overview</b> <br><br>  When designing an API, there are many factors to consider.  Safety, consistency, condition management, style;  this list seems endless.  However, one factor is often overlooked - it is about scale.  If the design of the API from the very beginning take into account the scale of the system, then later (as the system grows) you can save hundreds of hours of working time. <br><br>  <b>Introduction</b> <br><br>  Sometimes it is difficult to formulate what is an application programming interface (API).  From a technical point of view, any function called by another programmer‚Äôs code can be attributed to the API.  Discussions about which code ‚Äúpulls‚Äù on the API are beyond the scope of this article, so we will assume that the API is the simplest function. <br><br>  This article has specially selected simple examples that serve only to illustrate its main theme.  Functions in C # are used, but the basic principles outlined here are applicable in virtually any language, framework, or system.  The data structures in the article are modeled in a common relational style used in many industrial databases.  Again, the examples are written only as illustrations; they should not be considered as recommendations. <br><br>  <b>Requirements</b> <br><br>  Suppose you are writing a simple order processing system for a client, and you already have three main classes (or, if you prefer, ‚Äúdata structures‚Äù).  The Customer class has a ‚Äúforeign key‚Äù (in database terminology) for the Address class, and the Order class has foreign keys for the Address and Customer classes.  Your task is to create a library that can be used to process orders (Orders).  The first business rule for this case: the client‚Äôs HomeAddress state (Customer) must be the same as the BillingAddress state of the Order.  Do not ask why, business rules are usually not understandable by the mind :) <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Address</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> AddressId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Street { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> City { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> State { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Zipcode { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Customer</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Address HomeAddress { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> CustomerId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> HomeAddressId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> CustomerName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Order</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Customer MainCustomer { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Address ShippingAddress { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Address BillingAddress { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> OrderId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> CustomerId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ShippingAddressId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BillingAddressId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> OrderAmount { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime OrderDate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> <br><br>  <b>Implementation</b> <br><br>  Checking whether the two fields match is obviously a simple task.  You hope to impress the boss, so they concocted a decision in less than 10 minutes.  The VerifyStatesMatch function returns a boolean value by which the caller can determine whether a business rule is being executed or not.  You run your library through a few simple tests and make sure that an average of 50 ms is spent on executing the code, no jambs are visible in it.  The boss is very pleased, gives your library to other developers to use it in their applications. <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VerifyStatesMatch</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Order order</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> retVal = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,     25 . Customer customer = SomeDataSource.GetCustomer(order.CustomerId); // ,     25 . Address shippingAddress = SomeDataSource.GetAddress(order.ShippingAddressId); retVal = customer.HomeAddress.State == shippingAddress.State; } catch (Exception ex) { SomeLogger.LogError(ex); } return retVal; }</span></span></code> </pre><br><br>  <b>Problem</b> <br><br>  The next day, come to work, and you have a sticker on the monitor: ‚ÄúCome to me urgently - Chef‚Äù.  You can guess that yesterday you were so successful with your library that today the boss decided to entrust you with an even more serious task.  However, it soon turns out that your code has serious problems. <br><br>  <i>You</i> : Good morning, chief, what happened? <br>  <i>Chief</i> : This is your library, there are sheer problems in the code! <br>  <i>You</i> : What?  How? <br>  <i>Boss</i> : Bob says your algorithm is too slow, John complains that everything is not working properly, and Steve said this: ‚Äúthe link to the object does not indicate the instance of the object‚Äù. <br>  <i>You</i> : I <i>'ll</i> never know, I tested it yesterday, and everything was fine <br>  <i>Chief</i> : I do not want to hear anything.  Go and make out! <br><br>  Not the best start to the day, right?  It seems to me that most developers have ever encountered a similar situation.  You thought you wrote the library ‚Äúperfect,‚Äù and she brought a whole bunch of problems.  But if you correctly understand what ‚ÄúOne‚Äù, ‚ÄúMany‚Äù, ‚ÄúZero‚Äù and ‚ÄúNothing‚Äù are, then you will learn to distinguish where your API does not meet the expectations of your colleagues. <br><br>  <b>One</b> <br><br><img src="https://habrastorage.org/files/6df/742/4e7/6df7424e7afa4777976ff1254f131c35.jpg"><br><br>  <a href="http://en.wikipedia.org/wiki/The_Matrix">en.wikipedia.org/wiki/The_Matrix</a> <br><br>  The first guide to action is to understand what ‚ÄúOne‚Äù is and how to work with it.  I mean that your API should in any case handle one portion of the expected input without any errors.  Such errors are theoretically possible, but you are not required to report them to the caller.  ‚ÄúIsn't that obvious?‚Äù You might think.  Well, let's turn to an example and consider what errors can occur during Order processing. <br><br><pre> <code class="cs hljs">Customer customer = SomeDataSource.GetCustomer(order.CustomerId); Address shippingAddress = SomeDataSource.GetAddress(order.ShippingAddressId); <span class="hljs-comment"><span class="hljs-comment">//   customer.HomeAddress       null? retVal = customer.HomeAddress.State == shippingAddress.State;</span></span></code> </pre><br><br>  As is clear from the above comment, we assume that the HomeAddress property has correctly loaded from the data source.  Although in 99.99% of cases it probably will, a truly reliable API should take into account such a scenario when this does not happen.  In addition, depending on the language, the comparison of the two State properties may fail if any of these properties load incorrectly.  In this case, it is important that we know nothing about the input that we can receive, or about the data extracted from the code that we do not control. <br><br>  This is the simplest example, so let's fix our code and move on. <br><br><pre> <code class="cs hljs">Customer customer = SomeDataSource.GetCustomer(order.CustomerId); Address shippingAddress = SomeDataSource.GetAddress(order.ShippingAddressId); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(customer.HomeAddress != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { retVal = customer.HomeAddress.State == shippingAddress.State; }</code> </pre><br><br>  <b>Lot</b> <br><br><img src="https://habrastorage.org/files/fc4/1c2/755/fc41c275574f41b89641d5b29eb54426.jpg"><br><br>  <a href="http://msdn.microsoft.com/en-us/library/w5zay9db.aspx">msdn.microsoft.com/en-us/library/w5zay9db.aspx</a> <br><br>  We return to the above scenario.  We need to talk to Bob.  Bob complained that the code is slow, but the value of 50 ms is quite consistent with the duration of execution expected in a system with this architecture.  But it turns out that Bob processes 100 orders of your largest user in one batch, so in the Bob cycle it takes 5 seconds to complete your method. <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//  : foreach(Order order in bobsOrders) { ... bool success = OrderProcess.VerifyStatesMatch(order); .... }</span></span></code> </pre><br><br>  <i>You</i> : Bob, where did <i>you get</i> that my code is too slow?  It only takes 50 ms to process an order. <br>  <i>Bob</i> : Our customer Acme Inc.  requires that their batch orders be processed at maximum speed.  I have to serve 100 orders, so 5 seconds is too long. <br>  <i>You</i> : Oh, I did not know that we have to process orders in batches. <br>  <i>Bob</i> : Well, this is only for Acme, they are our largest customer. <br>  <i>You</i> : I was not told anything about Acme or batch orders <br>  <i>Bob</i> : Shouldn't your code be able to handle multiple orders efficiently at the same time? <br>  <i>You</i> : Ah ... yes, of course. <br><br>  It is clear what happened, and why the code seems to Bob to be ‚Äútoo slow.‚Äù  You haven't been told anything about Acme or batch processing.  The Bob loop loads the regular Customer class and most likely loads the same Address 100 times.  This problem is easy to solve if you take an array of orders, not one, plus add some simple caching.  The params keyword in C # exists exactly for such situations. <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VerifyStatesMatch</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">params</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Order[] orders</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> retVal = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> customerMap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Customer&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> addressMap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Address&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (Orderorder <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> orders) { Customer customer = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(customerMap.ContainsKey(order.CustomerId)) { customer = customerMap[order.CustomerId]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { customer = SomeDataSource.GetCustomer(order.CustomerId); customerMap.Add(order.CustomerId, customer); } Address shippingAddress = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(addressMap.ContainsKey(order.ShippingAddressId)) { shippingAddress = addressMap[order.ShippingAddressId]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { shippingAddress = SomeDataSource.GetAddress(order.ShippingAddressId); addressMap.Add(order.ShippingAddressId,shippingAddress); } retVal = customer.HomeAddress.State == shippingAddress.State; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!retVal) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception ex) { SomeLogger.LogError(ex); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> retVal; }</code> </pre><br><br>  If the function is modified in this way, Bob‚Äôs batch processing will accelerate dramatically.  Most data calls will disappear, since you can easily find a record by its ID in the temporary cache (dictionary). <br><br>  Once you open your API for "Many" - and immediately have to connect any control borders.  What to do, for example, if someone sends a million orders to your method?  Does such a large number go beyond the limits of this architecture?  In this case, the idea of ‚Äã‚Äãboth the system architecture and business processes is useful.  If you know that in practice it may be necessary to process a maximum of 10,000 orders, then you can confidently establish control at the level of 50,000. Thus you guarantee that no one can put the system in one gigantic unacceptable challenge. <br><br>  Of course, the list of possible optimizations is not limited to this, but an example shows how to get rid of unnecessary work, if from the very beginning to rely on ‚Äúmany‚Äù copies. <br><br>  <b>Zero</b> <br><br><img src="https://habrastorage.org/files/120/3e2/3c3/1203e23c3fcd4bc385fb2413f5410f11.png"><br><br>  <i>You</i> : Steve, are you sending a null pointer to my code? <br>  <i>Steve</i> : I think not, why not? <br>  <i>You</i> : The boss says, the system swears "the link does not indicate ...". <br>  <i>Steve</i> : Ah, that's the case, probably, in the inherited system.  I do not control the output from this system, we simply upload its output to the new system through the pipeline, as it is. <br>  <i>You</i> : Some nonsense, so why not solve the problem with these zeros? <br>  <i>Steve</i> : Decide;  I do in the code check on zero.  Are you not? <br>  <i>You</i> : O ... yes, of course. <br><br>  "Object reference does not indicate an object instance."  Is it worth explaining the meaning of this error?  Many of us had the opportunity to spend more than one hour of living on it.  In most languages, zero, empty set, etc.  - absolutely admissible state for any type with indefinite value (non-value type).  Thus, any serious API must take the value ‚ÄúNull‚Äù, even if it is not allowed to the technical side of the caller to pass it. <br><br>  Of course, checking all references to zero is difficult and sometimes redundant.  However, in no case should you trust the input coming from a source that you do not control.  Therefore, we must check for zero the ‚Äúorders‚Äù parameter, as well as Order instances inside it for zero. <br><br>  By regularly performing a zero check, you can avoid annoying calls from customers seeking technical support and asking what a ‚Äúcopy of the object‚Äù is.  I always prefer to outbid;  Better is my function returning the default value and logging the message (or sending a warning), rather than throwing a rather useless error ‚Äúdoes not indicate an object instance‚Äù.  Of course, this solution depends entirely on the type of system, on whether the code is executed on the client or on the server, etc.  The point is that zero can be ignored, but only until it comes back to you. <br><br>  EXPLANATION: Honestly, I am not saying that the function should ‚Äúidle‚Äù if it finds an unacceptable state.  If null parameters are unacceptable for your system, throw an exception (as ArgumentNull in .NET).  However, in some situations it is perfectly acceptable to return a meaningful default, and there is no need to throw an exception.  For example, current methods usually return the value that was passed to them if they can not do anything with this value.  There are too many factors that do not allow general recommendations to be given in the event that you encounter zero. <br><br>  <b>Nothing</b> <br><br><img src="https://habrastorage.org/files/e1e/43e/c43/e1e43ec43d914e3e9286f538444440c5.jpg"><br><br>  <a href="http://youtu.be/CrG-lsrXKRM">youtu.be/CrG-lsrXKRM</a> <br><br>  <i>You</i> : John, what are you transmitting to my code?  It looks like an incomplete Order. <br>  <i>John</i> : Oh, sorry.  I don‚Äôt need your method, but another library requires me to pass the Order parameter.  I think this library calls your code.  I do not work with orders, but I must use another library. <br>  <i>You</i> : This library needs to be fixed: crookedly designed! <br>  <i>John</i> : You see, that library developed organically along with the business objectives - they changed.  It was written by Matt, and it will not be this week;  In general, I do not know how to change it.  Shouldn't your code check if the input is valid? <br>  <i>You</i> : Yes ... indeed. <br><br>  Of all the four principles, ‚ÄúNothing‚Äù is probably the most difficult to describe.  Zero, although it seems to be ‚Äúnothing‚Äù and ‚Äúemptiness‚Äù, has a definition and is quantifiable.  Why, there, in most languages, a special keyword is embedded for zero.  When working with null, your API must deal with such input, which is essentially garbage.  In our example, we are talking about processing an Order that does not have a CustomerId, or that has a OrderDate value five centuries old.  A more graphic example is a collection in which there is not a single element.  This collection is not null, so it must be categorized as ‚ÄúMany,‚Äù but the caller did not fill the collection with any data.  It is always necessary to take into account such a scenario in which ‚Äúnothing‚Äù appears.  Let's adjust our example so that ‚Äúnothing‚Äù in it is also processed.  The caller cannot simply transmit something like Order;  her order will have to meet minimum general requirements.  Otherwise, this information will be regarded as "nothing". <br><br><pre> <code class="cs hljs">... <span class="hljs-comment"><span class="hljs-comment">// ,  . ;-) if (order != null &amp;&amp; order.IsValid) ...</span></span></code> </pre><br><br>  <b>Conclusion</b> <br><br>  I hope I managed to convey to readers the main idea of ‚Äã‚Äãthis article: it does not happen that the code can accept any input information without problems.  When implementing any function or API, you have to consider how this API will be used.  In our example, the original function has increased from 12 to 50 lines, although we have not made any major changes to it.  All the code that we added is needed to ensure scaling, control of boundaries, as well as for the function to handle any input correctly and efficiently. <br>  The volume of stored data in recent years has grown exponentially, so the scale of input data will increase, whereas the quality of this data can only fall.  If you write the API correctly right from the start, it can play a crucial role for business growth, adaptation to an increasing customer base, and in the long run - to save on technical support costs (and you will have less headaches). </div><p>Source: <a href="https://habr.com/ru/post/263895/">https://habr.com/ru/post/263895/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263883/index.html">Create a universal Install Server for an automatic network installation of Linux and Windows based on Cobbler</a></li>
<li><a href="../263885/index.html">System Administrator Day 2015</a></li>
<li><a href="../263887/index.html">Happy System Administrator</a></li>
<li><a href="../263891/index.html">Market research, Cortana for Android, page design of your application on the App Store - and other news of the week for a mobile developer</a></li>
<li><a href="../263893/index.html">Samsung solid-state drives are justified. The problem was in the Linux kernel</a></li>
<li><a href="../263897/index.html">UI performance comparison in WPF, Qt, WinForms and FLTK</a></li>
<li><a href="../263899/index.html">In app purchase using Soomla. Fast and easy</a></li>
<li><a href="../263901/index.html">Webinar second. Bug work, work tools and customer relationship building methods</a></li>
<li><a href="../263903/index.html">New critical vulnerabilities in Android: What is the problem, and how to protect</a></li>
<li><a href="../263905/index.html">‚ÄúSpeed ‚Äã‚Äãis such a feature that no one ever refuses‚Äù - an interview with Dmitry Zhemerov from JetBrains</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>