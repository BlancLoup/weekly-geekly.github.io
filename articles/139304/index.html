<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android + Arduino + 4 wheels. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This post is a continuation of my article "Android + Arduino + 4 wheels . " Not at all what I planned to describe in the next step. I was going to sol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android + Arduino + 4 wheels. Part 2</h1><div class="post__text post__text-html js-mediator-article">  This post is a continuation of my article <a href="http://habrahabr.ru/blogs/DIY/135043/">"Android + Arduino + 4 wheels</a> . <a href="http://habrahabr.ru/blogs/DIY/135043/">"</a>  Not at all what I planned to describe in the next step.  I was going to solve the problem of transmitting video from the robot to the PC, but I am still in the stage of collecting information.  Unfortunately, there is not enough free time, and then I had to rearrange the system on my home computer from scratch and re-configure the development environment. <br><br>  Against the background of questions posed to me in the mail about the launch of the source of Mitya (the name hooked on my robot) and my unscheduled system rearrangement, I decided to describe what medium I use, how to configure it, how to deploy the sources, and how to run Mitya.  If interested, I invite you to read further.  Almost no pictures, no video, dry text flow on setting up the development environment.  Severe inside of robotics. <br><br>  I hope this article is useful to those DIY lovers who lack the experience in organizing the programming of .NET applications or Android applications.  I will not raise the questions of programming languages, but the main question: ‚Äúwhere to start?‚Äù, I think, will be revealed here. <br><a name="habracut"></a><br>  In addition to the description of installing three IDEs for developing .NET applications, Android applications and Arduino-sketches, the article will describe how to install StyleCop (C # code design control) on Microsoft Visual C # 2010 Express, install CheckStyle (Java design code control) under Eclipse and organization of <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">unit testing</a> in the same Express Studio and Eclipse. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What determines such a choice of development tools ... My project is non-commercial, home and open.  Hence the idea that all software products involved in it will be free.  Is that Windows does not fit into this series (on my computer the operating system is Windows 7 x64).  Now, however, I am developing for Android and Arduino and for Ubuntu (I had to for the purpose of transmitting video from a robot to a PC), but this is a separate story and it is too early for her.  I must say that at work I am used to using the paid version of Visual Studio (Professional).  In contrast to the Express version, it is expandable and the set of plug-ins to which I am used makes the work much more enjoyable.  Nevertheless, I managed to put everything I needed ‚Äúon‚Äù the Express version and make it a little more functional. <br><br>  I doubted whether to publish this article and publish it in DIY, but I considered that this is an integral part of Mitya is no less important than assembling the mechanics of a robot or installing its electronics.  Often a DIY project combines many very different topics at once: mechanics, electronics, programming.  And programming here turned out both under Arduino, and under Android, and under Windows - three programming languages ‚Äã‚Äãand three different development environments.  DIY amateur, as a rule, universal, but I think it will not hurt help, and this article will come in handy in another project. <br><br>  The article turned out to be large again, so I will provide the table of contents <br><ul><li>  <a href="https://habr.com/ru/post/139304/">Download source</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Windows</a> <br><ul><li>  <a href="https://habr.com/ru/post/139304/">Installing and configuring Visual Studio</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Installing StyleCop and customizing the solution</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Install and configure NUnit</a> </li></ul></li><li>  <a href="https://habr.com/ru/post/139304/">Android</a> <br><ul><li>  <a href="https://habr.com/ru/post/139304/">Installing the Java Development Kit (JDK)</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Install Android SDK</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Install IDE</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Install ADT plugin for Eclipse</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Installing / updating packages for the platform</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Install Eclipse Market (optional)</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Install Checkstyle (optional)</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Adding projects to the working directory (workspace)</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Creating a virtual device (Android Virtual Device)</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Running the application on the phone</a> </li></ul></li><li>  <a href="https://habr.com/ru/post/139304/">Arduino</a> <br><ul><li>  <a href="https://habr.com/ru/post/139304/">IDE installation</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Installing Arduino Uno drivers in Windows 7</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Launch and configure IDE</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Verifying the installation and configuration of an IDE Arduino</a> </li><li>  <a href="https://habr.com/ru/post/139304/">Installing the libraries required by the sketch of Mitya</a> </li></ul></li><li>  <a href="https://habr.com/ru/post/139304/">Run Mitya</a> </li></ul><br>  A few words why my robot Mitya.  His wife gave the name to him, remembering Tr-tr Mitya from Prostokvashino (if someone does not know, ‚ÄúTr-tr‚Äù is TRacToR, and ‚ÄúMitya‚Äù is the Model of the Engineer Tyapkin).  So it was the namesake.  Although no I'm not a chopper.  And Mitya doesn‚Äôt give me name.  And he is not a tractor.  But you can't prove all this to your wife, and the name Mitya stuck with my tractor robot at home, at work, among friends, so I will skip further in the article. <br><br>  Now in order. <br><br><a name="1"></a><h4>  Download source </h4><br>  The project is published on the Google <a href="http://code.google.com/p/robot-mitya/">code</a> service.  I use the <a href="http://ru.wikipedia.org/wiki/Svn">Subversion</a> version control system <a href="http://ru.wikipedia.org/wiki/Svn">(SVN)</a> , so to get the source I recommend to install some SVN client, for example, TortoiseSVN. <br><br>  Download the latest version of TortoiseSVN <a href="http://tortoisesvn.net/downloads.html">here</a> .  A Russian language pack was also posted here, but I was somehow not used to using it. <br><br>  I‚Äôll bring up the topic of version control systems beyond the scope of this article, but for those who are still unfamiliar with SVN, I‚Äôll describe in any case how to download the source code to a local disk. <br><br>  After installing TortoiseSVN, create a folder somewhere, naming it, for example, ‚Äúrobot-mitya‚Äù.  Click on it with the right mouse button and select the item ‚ÄúSVN Checkout ...‚Äù in the context menu.  In the window that opens, in the ‚ÄúURL of repository‚Äù field, copy the text ‚Äúhttp://robot-mitya.googlecode.com/svn/trunk/‚Äù.  The ‚Äúrobot-mitya‚Äù folder must be specified in the ‚ÄúCheckout directory‚Äù field.  Click OK.  All sources will be uploaded to the ‚Äúrobot-mitya‚Äù folder, and the Android, Arduino and Windows directories will appear there. <br><br><a name="2"></a><h4>  Windows </h4><br>  The Windows folder contains the sources of a Windows application that implements the user interface and sends commands to the Android application level.  The application is written in C # using the XNA framework.  I will describe how to set it all up. <br><br><a name="2_1"></a><h5>  Installing and configuring Visual Studio </h5><br>  More precisely, the installation and configuration of Microsoft Visual C # 2010 Express.  <a href="http://www.microsoft.com/visualstudio/ru-ru/products/2010-editions/visual-csharp-express">Here</a> download the installation file.  When installing, you can opt out of Microsoft Silverlight and Microsoft SQL Server 2008 Express Edition. Mita doesn‚Äôt need them. <br><br>  Then install Microsoft XNA Game Studio 4.0.  The distribution is <a href="http://www.microsoft.com/download/en/details.aspx%3Fid%3D23714">here</a> .  After installation, the studio will be able to work with projects created on the basis of the ‚ÄúWindows Game‚Äù template.  The RobotGamepad.csproj project is the very case. <br><br><a name="2_2"></a><h5>  Installing StyleCop and customizing the solution </h5><br>  To control the quality of the C # code, I use <a href="http://stylecop.codeplex.com/">StyleCop</a> .  This is not mandatory, but, in my opinion, extremely useful tool.  Especially for beginners. <br><br>  If you do not want to use it, or if you have Visual Studio Professional and higher, you need to check the project files ‚Äúrobot-mitya \ Windows \ RobotGamepad \ RobotGamepad \ RobotGamepad \ RobotGamepad.csproj‚Äù and ‚Äúrobot-mitya \ Windows \ RobotGamepad \ RobotGamepadTest \ RobotGamepadTest.csproj ‚Äù.  They should not have lines: <br><br><pre> &lt;Import Project = "$ (ProgramFiles) \ MSBuild \ Microsoft \ StyleCop \ v4.3 \ Microsoft.SourceAnalysis.Targets" /&gt;
</pre><br>  The path to the ‚ÄúMicrosoft.SourceAnalysis.Targets‚Äù file may be slightly different.  It depends on the StyleCop version. <br><br>  If you use StyleCop with Visual Studio Professional and above, it is enough to install it by choosing the default installation options.  The distribution can be downloaded <a href="http://stylecop.codeplex.com/releases/view/48036">here</a> .  When installing StyleCop integrated into the Studio. <br><br>  If you want to use StyleCop for Visual Studio Express versions, you will have to pick it up a bit, since the Express version does not support extensions. <br><br>  During installation, you must select ‚ÄúCustom Setup‚Äù and mark for the installation ‚ÄúMSBuild integration files‚Äù. <br><br><img src="https://habrastorage.org/storage2/c97/038/8e6/c970388e69dcec211542f5af45bee33d.jpg" alt="Install MSBuild"><br><br>  After installing StyleCop, in the project files for which you want to enable code quality control ("robot-mitya \ Windows \ RobotGamepad \ RobotGamepad \ RobotGamepad \ RobotGamepad.csproj" and "robot-mitya \ Windows \ RobotGamepad \ RobotGamepadTest \ RobotGamepadTest.csproj" ), after the line <br><br><pre> &lt;Import Project = "$ (MSBuildBinPath) \ Microsoft.CSharp.targets" /&gt;
</pre><br>  need to add a line <br><br><pre> &lt;Import Project = "$ (ProgramFiles) \ MSBuild \ Microsoft \ StyleCop \ v4.3 \ Microsoft.SourceAnalysis.Targets" /&gt;
</pre><br>  Do it better in Notepad.  The path to the ‚ÄúMicrosoft.SourceAnalysis.Targets‚Äù file should be clarified in the ‚ÄúProgram Files‚Äù directory.  Once again, the addition of this line is necessary only for "fastening" StyleCop to the Express version of the Studio.  For the Professional version and above, you do not need to do anything - the StyleCop installer will do everything by itself. <br><br>  StyleCop is installed, now deviations from the code design rules will be punished by compiler warnings. <br><br><a name="2_3"></a><h5>  Install and configure NUnit </h5><br>  For unit testing, I use NUnit.  At the time of this writing, it was <a href="http://www.nunit.org/index.php%3Fp%3Ddownload">NUnit</a> version 2.5.10.  When installing, all installer options are left by default. <br><br>  To configure, perform the following steps: <br><ol><li>  In the ‚ÄúRobotGamepadTest‚Äù project, delete and re-add the links ‚Äúnunit-console-runner‚Äù and ‚Äúnunit.framework‚Äù.  The libraries are located in the folder in which NUnit was installed, the path to them may differ from the one that was installed in the project, so it is better to rebind them. </li><li>  Run ‚Äúc: \ Program Files (x86) \ NUnit 2.5.10 \ bin \ net-2.0 \ nunit-x86.exe‚Äù.  Run tests, make sure everything works.  "X86" may not be, I just have Windows 7 x64 and a test project compiled for x86. </li><li>  Configure test run.  To do this, add a call to the NUnit user interface to the Studio external tools: <br><ul><li>  Put a check in Tools&gt; Options&gt; Advanced options.  Just "Parameters", not "Parameters ..."! </li><li>  Choose Tools&gt; External Tools ... </li><li> In the "External Instruments" dialog fill in the fields: <br><img src="https://habrastorage.org/storage2/a41/f25/24a/a41f2524a5d69e7aae3e3599b72580c0.png" alt="Dialogue External tools"><br></li><li>  Assign the project to start RobotGamepadTest.  To do this, right-click on the RobotGamepadTest project, context menu item "Set as Launch Project". </li></ul></li></ol><br><a name="3"></a><h4>  Android </h4><br>  The basic environment setting for programming for Android is described <a href="http://developer.android.com/sdk/installing.html">here</a> .  There is no official Russian translation yet, so I will describe my actions below.  In addition, I will somewhat expand the basic settings of the project. <br><br>  By the way, this topic has already been <a href="http://habrahabr.ru/blogs/android_development/109944/">raised</a> on Habr√©, but the purpose of my article is to prepare the environment for the Mitya robot project, so I‚Äôll have to repeat somewhere.  Moreover, there will be differences. <br><br><a name="3_1"></a><h5>  Installing the Java Development Kit (JDK) </h5><br>  The distribution is <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">here</a> . <br><br>  For Windows 7 x64, I download the latest version of the JDK to date: jdk-7u3-windows-x64.exe.  Installation is not difficult - leave all the default options. <br><br><a name="3_2"></a><h5>  Install Android SDK </h5><br>  Download the SDK <a href="http://developer.android.com/sdk/index.html">here</a> .  You can Windows-installer, and you can zip-archive.  I did this and that, now it was generally copying the ‚ÄúAndroid-SDK‚Äù folder from another hard drive (oh, once I had everything).  I recommend installing it in the ‚Äúc: \ android-sdk‚Äù folder. <br><br><a name="3_3"></a><h5>  Install IDE </h5><br>  I am using Eclipse Classic 3.7.1.  You can download it <a href="http://www.eclipse.org/downloads/">here</a> .  Again, the version for Windows 7 (in my case, under x64).  Get the archive ‚Äúeclipse-SDK-3.7.1-win32-x86_64.zip‚Äù.  I unpacked it directly to the root directory of the C drive. At one time, I already ‚Äúgrasped‚Äù Microsoft's virtual storage in Windows Vista and Windows 7. I can deal with this madness, but I don‚Äôt want to go around the same rake.  Therefore, I do not put Eclipse in Program Files.  If you do not want to clutter up the root directory (we‚Äôll further throw folders there), I recommend having one at the root, and dump the rest into it. <br><br>  Now you can run Eclipse (I have c: \ eclipse \ eclipse.exe).  At the first launch, the ‚ÄúWorkspace Launcher‚Äù window will appear with a suggestion to choose a working directory (workspace).  I indicated ‚Äúc: \ robot-mitya‚Äù.  Next, the IDE Eclipse opens.  We do not open Mitya‚Äôs projects yet - we still need to do something. <br><br><a name="3_4"></a><h5>  Install ADT plugin for Eclipse </h5><br>  The Android Development Tools (ADT) plugin extends the functions of Eclipse just in terms of software development for Android.  To install and configure the ADT plug-in do the following: <br><ol><li>  Help&gt; Install New Software menu ... </li><li>  Add button. </li><li>  In the ‚ÄúAdd Repository‚Äù dialog, in the Name field, enter, for example, ‚ÄúADT Plugin‚Äù, in the Location field, ‚Äúhttps://dl-ssl.google.com/android/eclipse/‚Äù, click OK. </li><li>  In the ‚ÄúAvailable software‚Äù dialog, tick the ‚ÄúDeveloper Tools‚Äù box, click Next, or Next, accept the license agreement, click Finish. </li><li>  Restart Eclipse (he will suggest). </li><li>  Eclipse, after the restart, greeted me with the ‚ÄúWelcome to Android Development‚Äù window and offered to re-download the Android SDK or specify the folder of the already installed SDK.  Naturally, I chose the latter and clicked Next, then I exercised my right to refuse to send statistics to Google and did away with this window.  In the <a href="http://developer.android.com/sdk/eclipse-adt.html">manual</a> , from which I drew all this knowledge, by the way, there was not a word about this window.  It describes another way to set the path to the Android SDK.  Just in case, I will describe it: Window&gt; Preferences menu, then select Android on the left and fill in the ‚ÄúSDK Location‚Äù field on the right. </li></ol><br><a name="3_5"></a><h5>  Installing / updating packages for the platform </h5><br>  Run the ‚ÄúSDK Manager‚Äù.  Now it can be done directly from Eclipse (Window&gt; Android SDK Manager), it seems to be convenient, but I do not advise.  The fact is that the manager opens for some reason as a modal window, and you lose Eclipse while working with the manager.  Now it is not scary, but when you start programming, it will be inconvenient.  So it is better to run the manager, bypassing the IDE: ‚Äúc: \ android-sdk \ SDK Manager.exe‚Äù. <br><br>  This is my least favorite place to set up a development environment for Android.  I don't know why, but the SDK manager is awfully slow.  The traffic account goes to gigabytes, the time account for the clock (even for the night left!).  I don‚Äôt understand what it is connected with and what it does there, but I can‚Äôt call a quick installation step.  I now managed to skip this step, because I copied the previously configured directory c: \ android-sdk.  And then, even copying it from an external HDD took about twenty minutes.  I have this directory contains about 67 thousand files. <br><br>  For Mitya, as I understand it, enough packages ‚ÄúSDK Platform‚Äù and ‚ÄúGoogle APIs by Google Inc.‚Äù from Android 2.3.3 (API 10), as well as packages from the groups ‚ÄúTools‚Äù and ‚ÄúExtras‚Äù.  True, I put packages for all platforms.  From greed, and you never know what projects I still will.  So you can significantly save on installation time of packages. <br><br>  Honestly, the appointment of most packages is a mystery to me.  Several of them are not installed, but this, as I understand it, is normal. <br><br>  Android SDK is installed and configured, if you want, you can see what is inside and read about its contents <a href="http://developer.android.com/sdk/installing.html">here</a> .  For fans of the command line, they even recommend adding paths to the tools / and platform-tools / folders in the PATH environment variable.  I still did without the command line. <br><br><a name="3_6"></a><h5>  Install Eclipse Market (optional) </h5><br>  Very convenient service for finding and installing plugins in Eclipse.  It seems to me that earlier after installing Eclipse Indigo (the version that we just installed), the Market was already part of the IDE, but no, or I‚Äôm mistaken, or no longer included. <br><br>  To install do the following: <br><ol><li>  Help&gt; Install New Software menu ... </li><li>  In the ‚ÄúInstall‚Äù dialog that opens, in the ‚ÄúWork with‚Äù field, select ‚ÄúIndigo - https: //download.eclipse.org/releases/indigo‚Äù from the drop-down list. </li><li>  Below in the filter field type the word ‚Äúmarket‚Äù, for example.  In the filtered list we tick off the ‚ÄúMarketplace Client‚Äù. </li><li>  Next, Next, we accept the terms of the license agreement, Finish, Restart now (Ecplipse). </li></ol><br>  Now the ‚ÄúEclipse Marketplace ...‚Äù item will appear in the Help menu. <br><br><a name="3_7"></a><h5>  Install Checkstyle (optional) </h5><br>  A useful tool, analogue of StyleCop in Visual Studio, which does not allow it to be out of the ordinary when styling code.  I strongly recommend to put, especially, beginners (and then have nowhere to go).  Installation: <br><ol><li>  Help menu&gt; Eclipse Marketplace ... </li><li>  In the ‚ÄúFind‚Äù field, type ‚Äúcheckstyle‚Äù, press the ‚ÄúGo‚Äù button. </li><li>  ‚ÄúCheckstyle Plug-in‚Äù will be found, click the ‚ÄúInstall‚Äù button, then everything is clear. </li></ol><br>  Now, in terms of Checkstyle rules, parts of the code will be marked with something yellow and will have to be fixed.  For my projects, I use the ‚ÄúSun Checks (Eclipse)‚Äù rule set, included in the plug-in distribution.  The code design rules can be customized, but I am categorically against adjusting the Checkstyle rules (and any code design control system) ‚Äúfor themselves‚Äù, ‚Äúfor the company‚Äù or ‚Äúfor the project‚Äù.  This is the path to nowhere, then you can not enter the control code design.  But one rule of all that I had in principle brought to the pen and had to turn it off.  I repent.  This is a maximum character limit of 80 characters.  80 characters on a modern monitor looks weird.  In the description of the rule it says: "If you have the IDE, you can find the information on the project."  Pathetic rationale. <br><br>  Mitya's Android projects have already added the Checkstyle configuration, so nothing will need to be further configured. <br><br><a name="3_8"></a><h5>  Adding projects to the working directory (workspace) </h5><br><ol><li>  Add a project RoboHead.  Menu File&gt; New&gt; Project ... </li><li>  In the ‚ÄúNew Project‚Äù dialog that opens, in the ‚ÄúSelect a wizard‚Äù step, open the Android list, select ‚ÄúAndroid Project‚Äù.  Click the Next button. </li><li>  In the ‚ÄúCreate Android Project‚Äù step, select the ‚ÄúCreate project from existing source‚Äù option and specify the Location ‚Äúc: \ robot-mitya \ Android \ RoboHead‚Äù. </li><li>  Here (step ‚ÄúCreate Android Project‚Äù) in the field ‚ÄúProject Name‚Äù enter ‚ÄúRoboHead‚Äù.  Next. </li><li>  In the ‚ÄúSelect build target‚Äù step, make sure that the ‚ÄúGoogle APIs‚Äù platform is selected with API Level 10. Next. </li><li>  In the ‚ÄúApplication Info‚Äù step, in the ‚ÄúApplication Name‚Äù field, indicate ‚ÄúRoboHead‚Äù.  Finish. </li><li>  Now add the project RoboHeadTest.  Again menu File&gt; New&gt; Project ... </li><li>  In the ‚ÄúNew Project‚Äù dialog, in the ‚ÄúSelect a wizard‚Äù step, expand the Android list, select ‚ÄúAndroid Test Project‚Äù.  Click the Next button. </li><li>  In the ‚ÄúCreate Android Project‚Äù step, enter ‚ÄúRoboHeadTest‚Äù in the ‚ÄúProject Name‚Äù field. </li><li>  Here (step ‚ÄúCreate Android Project‚Äù) select the option ‚ÄúCreate project from existing source‚Äù and specify the Location ‚Äúc: \ robot-mitya \ Android \ RoboHeadTest‚Äù.  Next. </li><li>  In the ‚ÄúSelect build target‚Äù step, make sure that the ‚ÄúGoogle APIs‚Äù platform is selected with API Level 10. Next.  I came across cases when on this item the Next button, being active, was not pressed.  Then it helped roll back to the step of adding a test project and add it not as an ‚ÄúAndroid Test Project‚Äù, but as an ‚ÄúAndroid Project‚Äù. </li><li>  In the ‚ÄúApplication Info‚Äù step in the ‚ÄúApplication Name‚Äù field specify ‚ÄúRoboHeadTest‚Äù.  Finish. </li></ol><br><a name="3_9"></a><h5>  Creating a virtual device (Android Virtual Device) </h5><br>  A virtual device or Android Virtual Device (AVD) is a phone emulator on which you can run Android applications and tests.  Although I often debugged right on the phone. <br><br>  Before you create a virtual device, I recommend in Windows to correct the environment variables: <br><ol><li>  Add a new system variable ANDROID_SDK_HOME with a value, for example ‚Äúc: \ android-sdk‚Äù.  There are many discussions on the Web around the features of Windows 7 and this variable.  For errors loading Android on an emulator for Windows 7, it is recommended to define this variable.  I did not encounter such problems, but I liked the fact that this variable reassigns the directory in which the images and settings of the created virtual devices are stored.  By default, this directory is buried somewhere in the user's folder. </li><li>  Since we are in the dialog for setting environment variables, we can add to the list of paths in the PATH variable.  Add ‚Äúc: \ android-sdk \ tools \; c: \ android-sdk \ platform-tools \‚Äù. </li></ol><br>  To create a virtual device, run the application ‚Äúc: \ android-sdk \ AVD Manager.exe‚Äù.  It can also be called from Eclipse, but also (like the SDK Manager) for some reason in the form of a modal window (Window&gt; AVD Manager).  Remember to restart Eclipse if it was loaded before defining environment variables.  Click ‚ÄúNew ...‚Äù, in the opened dialog, fill in the ‚ÄúName‚Äù field, for example, ‚ÄúGoogle_APIs_Level_10‚Äù (spaces are not allowed), in the ‚ÄúTarget‚Äù field select ‚ÄúGoogle APIs (Google Inc.) API Level 10‚Äù.  The remaining fields can be left unchanged.  Create AVD button.  If we have redefined the ANDROID_SDK_HOME variable, the folder ‚Äúc: \ android-sdk‚Äù will have the folder ‚Äú.android‚Äù with the image and configuration of the virtual device. <br><br>  We try to launch a virtual device: select it in the list and click the ‚ÄúStart ...‚Äù button, then ‚ÄúLaunch‚Äù.  The first launch will be quite long. <br><br><a name="3_10"></a><h5>  Running the application on the phone </h5><br>  Phone setup: <br><ol><li>  In the phone menu, select Settings&gt; Applications.  Put a tick on the option "Unknown sources." </li><li>  Here we select the ‚ÄúDevelopment‚Äù sub-item and tick the ‚ÄúUSB debugging‚Äù options. </li></ol><br>  Now you need to install the driver to access the phone.  If you have an Android Developer Phone (what if?), Nexus One, or Nexus S, Google provides <a href="http://developer.android.com/sdk/win-usb.html">its own driver</a> .  In other cases, Google sends to the manufacturers.  The easiest way to install a driver for my HTC Sensation turned out to be <a href="http://www.htc.com/ru/help/">HTC Sync</a> (the program is free). <br><br>  Now everything is ready for downloading to the phone and launching the RoboHead application.  Go to Eclipse, click Run on the RoboHead project, select the phone in the dialog that opens and a happy Mitya should appear on its screen. <br><br><a name="4"></a><h4>  Arduino </h4><br>  Installation and configuration of the development environment is described in detail on the <a href="http://arduino.cc/en/Guide/HomePage">Arduino</a> project website.  Briefly describe the installation under Windows.  The only addition to the typical installation required by the project is the addition of two libraries. <br><br><a name="4_1"></a><h5>  IDE installation </h5><br>  The current sketch at the time of this writing was written under Arduino version 1.0.  It is exactly compatible with the version of Arduino 0022 and 0023. I can not say about other versions, did not check.  Download the IDE archive <a href="http://arduino.cc/en/Main/Software">here</a> .  I unpacked the archive directly to the root directory of drive C. <br><br><a name="4_2"></a><h5>  Installing Arduino Uno drivers in Windows 7 </h5><br>  They promise that the installation in Vista is identical.  Perform the following steps: <br><ol><li>  We connect Arduino Uno to the computer.  On the controller, the green power LED should light up.  Windows is beginning to imitate driver installation. </li><li>  Windows exposes itself with the message "The driver software has not been installed." </li><li>  Open the Device Manager.  We see the Arduino Uno with an exclamation mark.  Right click on Arduino Uno, ‚ÄúUpdate drivers ...‚Äù.  Next, select "Run a search for drivers on this computer."  And specify the path ‚ÄúC: \ arduino-1.0 \ drivers‚Äù.  Windows will suspect the publisher as unkind, but we must persevere.  Result: ‚ÄúThe software update for this device completed successfully.‚Äù  The window title indicates the port.  I had it COM3.  Remember the number, it will be useful to us. </li></ol><br><a name="4_3"></a><h5>  Launch and configure IDE </h5><br>  Now you can run ‚Äúc: \ arduino-1.0 \ arduino.exe‚Äù to forgive again the ‚Äúunknown publisher‚Äù and put a couple of useful checkboxes. <br><ol><li>  In the File&gt; Preferences menu, you can enable the ‚ÄúAutomatically associate .ino files with Arduino‚Äù option.  Strange, but I have not saved this option.  I had to associate the file extension with the IDE manually. </li><li>  Make sure the Arduino Uno controller is selected in the Tools&gt; Board menu. </li><li>  In the Tools&gt; Serial Port menu, select the COM port to which the controller is connected.  Earlier we remembered it, it was COM3 for me.  If you do not remember, we look in the Device Manager. </li></ol><br><a name="4_4"></a><h5>  Verifying the installation and configuration of an IDE Arduino </h5><br>  The instructions on the arduino.cc website suggest that you complete the installation and configuration of the IDE by running the demo sketch.  To do this, perform the following actions: <br><ol><li>  File&gt; Examples&gt; 1.Basics&gt; Blink menu.  The IDE window opens with a short sketch that allows you to blink the yellow LED installed on the controller board. </li><li>  To check the compilation of the sketch, click the Sketch&gt; Verify / Compile menu item. </li><li>  To upload the sketch to the controller's memory and launch it for execution, select the menu item File&gt; Upload.  Everything, the LED on the 13th leg of the controller should start blinking with a period of 2 seconds. </li></ol><br><a name="4_5"></a><h5>  Installing the libraries required by the sketch of Mitya </h5><br>  To compile the sketch of Mitya, we need two libraries that are not included in the standard IDE Arduino distribution.  From the <a href="http://code.google.com/p/robot-mitya/downloads/list">project page</a> you need to download the <a href="http://code.google.com/p/robot-mitya/downloads/detail%3Fname%3DIRremote.zip%26can%3D2%26q%3D">IRremote.zip</a> and <a href="http://code.google.com/p/robot-mitya/downloads/detail%3Fname%3DUSBHostShield2.zip%26can%3D2%26q%3D">USBHostShield2.zip archives</a> .  All you need to do to install the libraries is to unpack these archives in the ‚ÄúC: \ arduino-1.0 \ libraries‚Äù folder and restart the Arduino IDE. <br><br>  Everything, you can pour Mitin sketch into the controller. <br><br><a name="5"></a><h4>  Run Mitya </h4><br>  To control Mitei from a PC, the phone and computer must be on the same local network.  It's great that my smartphone can still act as a router, so you can do without an external Wi-Fi router. <br><br>  So for now: <br><ul><li>  smartphone and PC are connected to one local network; </li><li>  in Mitin the controller is filled in with the robot_control.ino sketch; </li><li>  RoboHead is installed on the phone; </li><li>  XBOX 360 Gamepad is connected to PC; </li><li>  compiled and ready to run the Windows application RobotGamepad.exe. </li></ul><br>  Turn on the power of the robot.  Servos will lift the holder to simplify installation of the phone.  We connect and fasten the phone to the holder.  On the phone, the identification of the connection to the robot controller should work, and the RoboHead application will automatically start. <br><br>  Now run the RobotGamepad application on the PC and press the Start button on the gamepad.  Mitya is ready, let's go! <br><br>  <b>UPD:</b> <br>  I have already said that for Mitya I had to deploy the development environment for Android and Ubuntu (11.10).  There are some features.  I‚Äôm not going to torture users with a repetition of a rather tedious article, so if anyone is interested in this topic, everything is described <a href="http://dmitrydzz-hobby.blogspot.com/2012/03/ubuntu.html">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/139304/">https://habr.com/ru/post/139304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139293/index.html">Porting to Android</a></li>
<li><a href="../139294/index.html">Criminal case for key chain</a></li>
<li><a href="../139296/index.html">OVAL¬Æ or the ‚ÄúIdeal Scanner Myth‚Äù</a></li>
<li><a href="../139297/index.html">New details about Medfield, as well as the augmented reality from Intel and the DJ table demo</a></li>
<li><a href="../139302/index.html">Firefox addon: clearly see which sites are silently setting cookies</a></li>
<li><a href="../139307/index.html">Azure - first acquaintance</a></li>
<li><a href="../139311/index.html">New method of replacing text with a picture, or getting rid of -9999px</a></li>
<li><a href="../139312/index.html">How to reach Google Support</a></li>
<li><a href="../139314/index.html">Hacked servers at Linode, stolen about 50K BTC ($ 250K)</a></li>
<li><a href="../139315/index.html">Load balancing between two channels in dynamic EIGRP routing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>