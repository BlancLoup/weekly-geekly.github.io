<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>System-level optimization and its contribution to solving the problems of energy consumption</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How the problems of energy consumption are solved at the design stage of microprocessors was described in the series of posts ‚Äú Life in the era of‚Äú da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>System-level optimization and its contribution to solving the problems of energy consumption</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/d07/c26/915/d07c26915de9124ffc4ecceaa93504d3.png"><br>  How the problems of energy consumption are solved at the design stage of microprocessors was described in the series of posts <i>‚Äú <a href="http://habrahabr.ru/company/intel/blog/158223/">Life in the era of‚Äú dark ‚Äùsilicon</a> ‚Äù</i> .  Four main approaches were covered, but there is another approach, which will be discussed at this time.  This is system level optimization. <br><a name="habracut"></a><br>  The first question that naturally arises is why the system-level?  The answer is extremely simple - the value of the final product, and not the "cogs" of which it consists.  A systematic look at a bundle of software stack + hardware platform + semiconductor components is needed in order to evaluate and manage the characteristics of the final product. <br><img src="https://habrastorage.org/storage2/057/99b/561/05799b561e4ffc81cb51935ec41fe732.png"><br>  This is true in the case of energy consumption: an integrated approach opens up new opportunities for optimization and allows us to solve otherwise unsolvable problems.  In this post I will give a few examples to show that this is true. <br><br><h4>  big.LITTLE </h4><br>  This idea is to combine two processors within one system.  One - to solve high-performance tasks, and the other - for less power consumption where you do not need more performance.  Accordingly, if you transfer calculations from one processor to another when the load changes, you can achieve energy savings. <br>  Developers from ARM thus combined processors Cortex-A7 and Cortex-A15.  These processors are almost identical in terms of the instruction system architecture, the memory model, and the program model.  Accordingly, all instructions will be executed uniformly, although with different performance. <br>  Differences become noticeable at the level of the microarchitecture.  Cortex-A7 is an in-order processor, with a long conveyor of 8-10 steps.  And the Cortex-A15 is an out-of-order processor, the pipeline of which has from 15 to 24 steps (depending on the instructions). <br><img src="https://habrastorage.org/storage2/320/634/1be/3206341be66c35b8e3bcfbd74f03d684.png"><br>  <i>big.LITTLE system</i> <br><br>  The power consumption of such a system is shown in the following graph.  As can be seen, in the field of low-performance computing, the use of the A7 gives about a twofold gain in energy consumption compared to the A15. <br><img src="https://habrastorage.org/storage2/7a6/88a/7d4/7a688a7d4b7c497c11179f510e802449.png"><br>  <i>Performance big.LITTLE system</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And what have the system-level?  The fact is that, acting on one level, nothing like this would have happened.  It is necessary to pay attention to three levels at once: <br>  - Used processors must provide an appropriate choice between performance and energy efficiency, as well as the identity of the software model. <br>  - The hardware platform must ensure proper interaction between these two processors. <br>  - System software should ensure the migration of computing from one processor to another, solving all related tasks.  In addition, the A7 and A15 are almost identical in terms of the program model, but not 100%.  These differences need to be hidden from the upper levels of the operating system and the programs being run. <br><br>  Using processors that do not have as strong an identity as the A7 and A15 could be much more attractive in terms of energy savings.  For example, if one processor implements some extensions of the instruction set, and the other does not, or if the processors generally have different instruction sets and memory models.  But this puts even more tasks in front of the program level related to the migration of computations, some of which currently do not have a good solution. <br><br><h4>  Android Power Management Stack </h4><br>  The subject is presented in the following figure.  At the bottom are hardware-based power management and firmware hardware implemented by the PCU (Package Control Unit).  The following is the software part related to the Linux kernel and the Android environment and, in fact, custom applications.  What could be achieved in terms of energy savings if each developer did not look beyond his stack level?  For example, if Intel paid attention only to that part of power management that relates to silicon and firmware, ignoring the rest?  The processor would definitely not fail due to overheating :), but I would not guarantee anything more.  Even if at the hardware level, management is implemented flawlessly, but the software part is rather mediocre, then you can forget about good performance.  That is why a lot of effort is spent on improving the entire stack as a whole. <br><img src="https://habrastorage.org/storage2/4fb/7c4/152/4fb7c4152f5ac06fb3cd10e5533d332e.png"><br><br><h4>  System-level power delivery </h4><br>  Here our attention is attracted by the fact that the power supply system in mobile platforms (for example, smartphones) by itself consumes a lot of energy (20-40%).  Moreover, the power consumption of the processor is not dominant in the system.  In such circumstances, energy optimization should be performed at the system level.  For example, the choice of the optimal frequency for the processor should be carried out with an eye to the power consumption of the other components of the system. <br><img src="https://habrastorage.org/storage2/a9e/66b/f36/a9e66bf36fc6d4e7eb735e8ef9160e52.png"><br><img src="https://habrastorage.org/storage2/4ee/5fc/e90/4ee5fce903e71e9e2793c49c7997b65c.png"><br><br>  Consider this example.  Suppose the current processor load is significantly lower than the maximum.  In this situation, there are two behaviors.  The first is to quickly (at high frequency and with more power consumed by the processor) perform calculations and go into sleep mode for a long time.  The second is slowly (spending less energy per unit of time by the processor) to perform calculations and go into sleep mode for much less time.  Which option to choose?  This is not at all easy, and for this you need to know how much other components of the system consume in various modes. <br><img src="https://habrastorage.org/storage2/af3/6e2/62d/af36e262da5f87925d50eacd1a4f95c0.png"><br><br><h4>  The temperature estimation and management </h4><br>  For mobile devices such as tablets or smartphones, there are a number of specific requirements in terms of temperature.  Namely, the temperature of the case and the screen should not cause unpleasant sensations when touched.  However, this problem is not at all as simple as it seems, due to the complex nature of the distribution of heat in time and space of the case, as well as the limitations of temperature sensors - it will not be possible to place the temperature sensor directly on the surface of the case or screen.  As a result, developers are forced to build models describing the temperature at various points on the surface of the case and calibrate them / train them / etc.  And on the basis of these models, then implement energy management algorithms.  Of course, this can be done only with a ready-made smartphone / tablet, i.e.  at the system level. <br><img src="https://habrastorage.org/storage2/864/de7/896/864de7896f93c1f6292f0a89fe1b97c6.png"><br><br>  In conclusion, I want to say that optimization at the system level has become a really necessary thing.  Its advantage is obvious and a number of problems cannot be solved otherwise.  And since  in terms of energy consumption, it was noticed relatively recently, that is, there is reason to believe that there will still be many interesting achievements in this direction. <br></div><p>Source: <a href="https://habr.com/ru/post/161899/">https://habr.com/ru/post/161899/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../161889/index.html">Handling asynchronous errors with saving the request context in connect / express</a></li>
<li><a href="../161891/index.html">AdMob integration into Cocos2d-x</a></li>
<li><a href="../161893/index.html">Pick your color - color matching and ideas for development.</a></li>
<li><a href="../161895/index.html">Twitter.Bootstrap.MVC4 - Twitter Bootstrap for ASP.NET MVC 4</a></li>
<li><a href="../161897/index.html">How I met the new year</a></li>
<li><a href="../161901/index.html">The greatness of the universe in numbers, and a little in pictures</a></li>
<li><a href="../161903/index.html">Courses of information technology from the company Yandex. Season 3 video</a></li>
<li><a href="../161907/index.html">Guido van Rossum transferred from Google to Dropbox</a></li>
<li><a href="../161909/index.html">Smartphones and business</a></li>
<li><a href="../161911/index.html">What language do you think is preferable for developing web applications?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>