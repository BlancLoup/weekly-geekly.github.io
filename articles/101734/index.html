<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Habrahabr.ru raskukozhivatel in GoogleReadere</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. Probably many people like to read habrakhabr from googlreeder. And I'm no exception. But it is terribly annoying that if the article is like...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Habrahabr.ru raskukozhivatel in GoogleReadere</h1><div class="post__text post__text-html js-mediator-article">  Good day.  Probably many people like to read habrakhabr from googlreeder.  And I'm no exception.  But it is terribly annoying that if the article is liked, then you need to open a new tab and read it already from the site.  All articles do not have time to read, tabs accumulate, traffic is spent.  In general - the disorder and you need something to solve. <br>  Googling a bit and looking for a decent one I did not find anything decent.  Therefore, I decided to roll up the sleeves and write a small chrome extension that will help eliminate this problem. <br><a name="habracut"></a><br><h4>  Expansion </h4><br>  It consists of two js files - contentscript.js and jquery-1.4.2.min.js.  I thought that there would be a lot of running around the DOM, so I decided to tighten the jakery (I love it). <br>  Fail background.html - hanging in the background of the browser tab. <br>  The main configuration of the extension is file manifest.json.  It indicates the path to the icons, which addresses to resolve, which html page to use, etc.  My manifesto looks like this: <br><pre> {
   "name": "Decoiler",
   "version": "0.0.2",
   "description": "Expands all articles from habr to full size for a pleasant reading.",
   "permissions": [
     "tabs", "http://www.google.com/reader/*"
   ],
   "icons": {
     "48": "serp-molot_48.png",
     "128": "serp-molot_128.png"
   },
   "background_page": "background.html",
   "content_scripts": [
     {
       "matches": ["http: // * / *"],
       "js": ["contentscript.js"]
     },
     {
       "js": ["jquery-1.4.2.min.js"],
       "matches": ["http: // * / *", "https: // * / *"],
       "run_at": "document_start"
    }
   ]
 }
</pre><br><br>  Learn more about writing chrome extensions in this <a href="http://habrahabr.ru/blogs/google_chrome/75639/">article.</a> <br><br><h4>  How it all works </h4><br>  First, we slightly change the appearance of the reader.  We add the "magic" link and hang the onclick handler on it. <br><pre>
 $ ("# gbg"). after ("&lt;div style = 'margin-top: 10px;'&gt; &lt;a href = 'javascript: void (0)' id = 'special-magic'&gt; special magic &lt;/a&gt; &lt;/ div&gt; ")
 $ ('# special-magic'). click (function () {
    $ (". entry-title"). each (function () {
       var link = $ (this) .children (". entry-title-link"). attr ('href')
          if ($ (this) .parent ("div"). find (". raskukozzz"). attr ("class")! = "raskukozzz") {
             $ (this) .after ($ ("&lt;a href='javascript:void(0)'class='raskukozzz'&gt; crack the skin &lt;/a&gt;") .click (function () {
	           chrome.extension.sendRequest ({'action': 'fetchTwitterFeed', 'uri': link}, onText);
                })
            )
	 }
    })
 })

</pre><br>  chrome.extension.sendRequest ({'action': 'fetchTwitterFeed', 'uri': link}, onText);  - we send cross-domain request with chrome tools.  Then we subscribe to the request events: chrome.extension.onRequest.addListener (onRequest); <br><pre> function fetchTwitterFeed (callback, uri) {
    	 var url = uri;
         var xhr = new XMLHttpRequest ();
         xhr.onreadystatechange = function (data) {
           if (xhr.readyState == 4) {
           
               var data = xhr.responseText;
               callback (data, url);
           }
         }
         xhr.open ('GET', url, true);
         xhr.send ();
       };

       function onRequest (request, sender, callback) {
         if (request.action == 'fetchTwitterFeed') {
           fetchTwitterFeed (callback, request.uri);
         }
       };

       chrome.extension.onRequest.addListener (onRequest);
</pre><br>  Well that's all.  The page is in our pocket.  With the help of jakery, we quickly parse the DOM, append the necessary styles and show it in the window. <br><pre> $ ("# preload-fr"). html ($ (news) .find ("div.hentry"). html ())
 $ ("# preload-fr"). show (500)
</pre><br><h4>  How to use it </h4><br>  In the reader, select the feed habrahabra and click on the "special magic" <br><img src="https://habrastorage.org/getpro/habr/post_images/7f6/36b/345/7f636b3456c1c8bd4e28c2251aa0bd11.png" alt="image"><br>  After that, under each heading the link ‚Äúto break the bed‚Äù appears. <br><img src="https://habrastorage.org/getpro/habr/post_images/c25/4d2/027/c254d2027307ec82fd457ed51ae5ec57.png" alt="image"><br>  when clicked, a window with the full text of the news appears. <img src="https://habrastorage.org/getpro/habr/post_images/588/482/f9b/588482f9b87e16ce36a2063592f7e274.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Where is all this available? </h4><br>  The plugin has already been placed in the gallery - <a href="https://chrome.google.com/extensions/detail/ifkblbodpjbhlmaceaamnbglejjjdilg/">download</a> .  More frequent update will <a href="http://code.google.com/p/raskukoj/">google code</a> . <br><br><h4>  Future plans </h4><br>  1. <s>First of all, these are comments.</s>  <s>Habr no comment no cake.</s>  <s>Here I will choose an hour of free time and be sure to do it with comments</s> - done! .. <br>  2. Make friends extension with other sites. <br>  3. Add settings.  For example: window size, frame, background, show comments, etc. <br>  4. Try to make an extension that will change the topic of the reader. <br><br>  <b>UP1</b> .  Changed the location of the link, now it is like in the second picture. <br>  <b>UP2</b> .  Many thanks to <a href="https://habrahabr.ru/users/yeah/" class="user_link">Yeah</a> for his great help with the plugin. <br>  Here are his additions and fixes: <br>  - Transfer CSS to a separate file <br>  - Added animation when loading <br>  - Removed the old page loading mechanism and replaced it with an iframe with a microchrome :) <br>  - Slightly turned the page, added the icon for closing the window <br>  - Added Esc window closing <br>  - Added check to work only on habrovsk tape <br><br>  The new version is already in the gallery <br><br>  And the window now looks like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/e3e/db3/6bb/e3edb36bbc411f27cd5716378cdcf285.png" alt="image"><br><br>  There is an idea to add the ‚Äúback‚Äù and ‚Äúforward‚Äù buttons on posts. <br>  <b>UP3</b> .  The plugin has been updated in the gallery with some bugfixes.  In addition, a <a href="http://code.google.com/p/raskukoj/">project</a> appeared on Google code <br>  <b>UP4</b> .  The plugin has been updated again. </div><p>Source: <a href="https://habr.com/ru/post/101734/">https://habr.com/ru/post/101734/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../101726/index.html">Translation: Review of digital pens</a></li>
<li><a href="../101729/index.html">Sending SMS messages from the WEB project using SOAP and MegaFon service</a></li>
<li><a href="../101730/index.html">The cosmonaut-robot will start helping colleagues in orbit very soon.</a></li>
<li><a href="../101731/index.html">Sanyo ENELOOP wrapped Apple</a></li>
<li><a href="../101733/index.html">Overview of theories of consciousness: the theory of functional systems Anokhina</a></li>
<li><a href="../101737/index.html">Android ranked third in sales in the mobile OS market</a></li>
<li><a href="../101739/index.html">Formcha. Antibot with a human face?</a></li>
<li><a href="../101740/index.html">Contest of articles on computer (overclocking) topics from Gigabyte and XtremeLabs.org</a></li>
<li><a href="../101741/index.html">NJ police photographs detainees for Facebook</a></li>
<li><a href="../101743/index.html">70% of American students do not understand the equal sign</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>