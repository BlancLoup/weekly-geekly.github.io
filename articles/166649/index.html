<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As I digitalized the film, and not only</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A little preface 

 At first, even the thought was not to write an article, everything seemed mundane and of little interest. But to my surprise, bein...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As I digitalized the film, and not only</h1><div class="post__text post__text-html js-mediator-article"><h4>  A little preface </h4><br><br>  At first, even the thought was not to write an article, everything seemed mundane and of little interest.  But to my surprise, being engaged in arranging photo albums on New Year's holidays, I noticed with interest that it was not only I who decided to dedicate this useful time to festive time.  The relevant article on the topic <a href="http://habrahabr.ru/post/164829/">‚ÄúExperience in creating a catalog and indexing a family photo archive.</a>  <a href="http://habrahabr.ru/post/164829/">Indexing and digitization of photographic films ‚Äù</a> was also on habr.  A little later, another article <a href="http://habrahabr.ru/post/165899/">‚ÄúMetadata for organizing the storage of a photo archive‚Äù appeared</a> .  Therefore, I decided to share some kind of experience, maybe that will help anyone bit by bit. <br><br><img src="https://habrastorage.org/storage2/6a6/50a/4fa/6a650a4fa1b2fdc0561eef1f1a80bd17.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, the idea of ‚Äã‚Äãscanning and organizing old photos was, of course, long nurtured, it‚Äôs not easy to decide on such a volume of work on scanning old films (more than a hundred) and photos (thousands).  In general, since my childhood I wanted to have digitized old photos of great-great-great-great-grandparents, and finally, 20 years later, I decided to move on to this matter. <br><br><a name="habracut"></a><br><br><h4>  Scanner </h4><br><br>  The first thing was the question - of course the scanner.  At one time, about 7 years ago, he tried to digitize negatives and decided to stock a film scanner.  There wasn‚Äôt much money, I chose something cheaper, it turned out to be <a href="http://www.foto.ru/microtek_film_scan_35.html%3Ffrom%3Dclub_camera_prod">Miktotek Filmscan 35</a> . <br><img src="https://habrastorage.org/storage2/e5e/f43/4c7/e5ef434c77becb8f88167b028fe152d8.jpg"><br>  Compared with the monsters scan, it cost a penny, but the result was awesome.  I used <a href="http://silverfast.com/">Silverfast</a> to it as the most advanced software at the time (maybe even now).  I don‚Äôt know why, but sometimes at different aisles this miracle gave me a blue or green photo, everything hung, it was unpredictable and very sad, I had to spend 10-15 minutes on each frame, correcting the histograms and doing other dances with tambourine.  In general, this process has discouraged me from scanning films for several years, the scanner is somewhere lying around. <br><br>  Now, having considered all the pros and cons, it was decided the following. <br>  There were several points to consider: <br><ul><li>  scan for the most part will not I, but parents, good they have time now </li><li>  it is necessary to scan not only films, but also photos </li><li>  need to scan a lot </li><li>  no fabulous budget </li></ul><br><br>  In addition to all of the above, I understood that now the film is no longer the actual carrier, and therefore most likely it will be necessary to scan only once, though it may take a lot of time. <br><br>  So, film scanners have disappeared for two reasons: <br>  Firstly, previous experience has shown that a cheap normal unit cannot be bought, but the fact that it‚Äôs cheap, oh, I can‚Äôt bear such a hell the second time. <br>  Secondly, buying a scanner for photos separately and separately for a film is also somehow expensive and impractical. <br>  Moreover, I said to myself, if something good happens, I‚Äôll take it to a professional laboratory, and you can even go broke for a dozen people. <br><br>  Looking at what is on sale from what can scan except paper and also film, it turned out that the choice is small: either again transcendental prices, or just a couple of options.  Break all the stores working immediately after the holiday, it turned out that there are the following acceptable options: <br><br><ul><li>  Epson Perfection V330 Photo (A4, 4800 x 9600 dpi, USB 2.0, CCD, Film Adapter) </li><li>  Epson Perfection V370, Photo (A4, 4800x9600 d / d, CCD, USB 2.0) </li><li>  Canon CanoScan LiDE 700F (A4 9600x9600dpi 48bit CIS Slide Adapter USB2.0) </li><li>  Canon CanoScan 5600F (A4 4800x9600dpi 48bit Slide Adapter USB2.0) </li></ul><br><br>  The rest was either too expensive, from 10,000, or, conversely, nothing skillfully.  Unfortunately, the CanoScan 5600F was dropped due to the lack of sales at the moment, although the description is very good.  The rest, according to reviews, were about the same, but the decisive role was played by the fact that for Epson there were drivers for Linux, and since I would like to work not only under Windows, I finally won Epson Perfection V330 Photo.  Nowhere could I find out how the 330 model differs from the 370, but since the Linux drivers were mentioned only for the 330, I settled on it, so to speak, ‚Äúto avoid‚Äù. <br><br><img src="https://habrastorage.org/storage2/f81/610/fcb/f81610fcbcdb5b3ef099ec83ed4c23a0.jpg"><br><br>  Drivers take on the <a href="http://www.avasys.jp/lx-bin2/linux_e/scan/DL1.do">site AVASYS</a> . <br><br>  Unfortunately, I didn‚Äôt have time to try it under Linux yet, but in the Windows software I liked the function of removing defects - it works on black and white old photos with a bang.  But you also need to be careful with it - sometimes it can be considered something worthwhile for a defect. <br><br>  In the comments about the scanner, the problem with the appearance of stripes when scanning films is mentioned in some places - but I haven‚Äôt seen it yet.  Nevertheless, in my opinion, here is something useful about this found in one of the reviews on the Yandex market: ‚ÄúAfter two years I can report on the outcome of the investigation: there is a calibration window in the scanner frame where the white balance is set.  If there are dust particles, ‚Äúbroken pixels‚Äù are obtained, which, when runted through the carriage, give stripes.  This is most likely a constructive defect in the new LED backlight (but who confesses to this ...).  So gentlemen, if you have such a scanner, <br>  remove dust. ‚Äù <br><br>  With what permission to scan - this question was not the last.  The scanner produces a maximum of 4800x9600, but when I tried to set this up when scanning a photo of 9x13cm, the system began to curse the scale, had to be reduced. <br><br>  The criterion for choosing the resolution is simple: if you assume that you can print with a standard resolution of 300dpi, then to get the same image, you must have at least 300dpi.  Taking into account that the photos are old, there is no sense in overstating this figure - all the same, the physical resolution will not allow getting quality from nothing.  Again, it is unlikely that someone will ever want to print a poster with a picture of a great-grandfather on A1 or even A4.  If anyone writes a book - it is unlikely that there will be a picture more than on a sheet.  In general, I decided that for very old ones two-fold excess will come down, for better ones and later ones - three-fold, i.e.  600dpi and 900dpi respectively.  Then I chose the one that was closest to the one that issued the software that came with the scanner. <br><br>  For negatives, I decided to use the maximum - it was not for nothing that I bought with such a resolution ... Most likely this is a bust of 48004800dpi, but you can always cut back, but the main thing is that then you will not have to rescan with other parameters and you can sleep well. <br><br>  Scans are saved, of course, in no case in jpeg, in order to avoid loss of compression.  Everything is just tiff.  It seems, of course, that the place eats more, but then scan once - and then not to know the problems: what I want, I do.  I also didn‚Äôt come to this right away, but practice shows that if you save now, then I will regret and return to this issue, but if everything is at its maximum, then later there‚Äôs nothing to regret. <br><br><h4>  Cataloging </h4><br><br>  Naturally, after digitizing, the whole thing must be raked.  The main task was to sign great-great-relatives, for I wanted to preserve the family history for the future, and without competent comments there no one would ever figure it out. <br><br>  The option to immediately process the pictures and upload to the site did not work for two reasons: firstly, it is necessary to process everything at once, and this time, and the parents do not understand anything about it;  secondly, technologies are changing, and who would know how a site will look like in a couple of decades, if at all, it will somehow exist. <br><br>  Using a smart cataloging software did not work for the same significant reason - there is no guarantee that in several decades this software will be alive and, accordingly, no one will understand what, where and how is stored in its smart unique format. <br><br>  It came to mind the decision to store the description in a plain text file with the same name as the photo - the text it and the text in Africa, surely anyone will be able to read after ten decades, even if they come up with some kind of super-unicode, yet it is much more reliable than special software.  But as a programmer, I looked with horror at this option - well, ugly and that's it.  Yes, and uncomfortable in the process. <br><br>  The parents said that they generally wanted to be in a Word - this is a photo, this is a signature - and everything is clear.  From such a proposal, the hair stood on end, for again - today there is a Word - tomorrow it is not. <br><br>  Another option is to store the signature in the EXIF.  It was embarrassing that when processing images, many EXIF ‚Äã‚Äãsoftphones are simply ignored, as a result, losing precious signatures may be irreplaceable. <br><br>  In general, after analyzing the whole situation, I made a decision: we skip the photo, sign it as EXIF ‚Äã‚Äãand then read all these pictures with captions so that there is no temptation to change anything, and thus guarantee the safety of the information.  I want to change - make a copy - and go.  Well, of course backups.  And in general, in the end, we are programmers in order to jot down a small script so that the whole EXIF ‚Äã‚Äãcan be just in case exported to a text file, ‚Äúto avoid‚Äù :) <br><br>  There are a lot of command line tools for working with EXIF ‚Äã‚Äãin Linux, but this is unacceptable for convenient work with a large number of images.  However, this is what it is: <code>exif</code> , <code>exiftool</code> , <code>exiv2</code> , googling, you can find more detailed information.  Next, I used <code>exiftool</code> for batch processing, but more on that later. <br><br>  We look that is from GUI.  After learning what the OpenSource community offers us, I‚Äôve once stopped at <a href="http://digikam.org/">DigiKam</a> - ‚ÄúdigiKam is an advanced digital photo management application for Linux, Windows, and Mac-OSX‚Äù, as it is written on their website. <br>  I decided to edit in the <a href="http://www.gimp.org/">GIMP</a> , the GNU Image Manipulation Program, an analogue of Photoshop, but opensource.  Therefore, the ability to edit photos for cataloging software was not separately required, but several things were bribed in the cataloging itself. <br><br><img src="https://habrastorage.org/storage2/758/64a/aca/75864aaca437e3c72ccafdb8618d58c5.jpg"><br><br>  First, DigiKam edits EXIF, which is what I need. <br><br>  Secondly, all the photos on the screen at once, we sign in the window next to it and immediately proceed to the next one - quickly, simply and conveniently. <br><br>  Thirdly, it was noticed that in EXIF ‚Äã‚Äãitself there are several similar tags for commenting: <b>Comment</b> , <b>UserComment</b> , <b>ImageComment</b> , and so, DigiKam writes at once to everything, so the probability that the other software will read this information is quite large. <br><br>  In addition, reading the reviews, I was pleased with the idea that in addition to just EXIF, the softphone is able to maintain a directory without copying anything, unlike many others, but simply processing everything in place.  It was a huge plus - I was not looking for this opportunity initially, but it turned out to be impossible by the way.  And what I liked was - apart from entering information into EXIF, she writes it to her database and then it is convenient to sort and search for photos by tags, tags, descriptions, etc.  And even if at some point the software disappears and the base too - then a copy of the data will remain in EXIF, which, in fact, I need. <br><br>  Some interesting thoughts on cataloging are described in the article <a href="http://habrahabr.ru/post/164829/">‚ÄúThe Experience of Creating a Catalog and Indexing a Family Photo Archive.‚Äù</a>  <a href="http://habrahabr.ru/post/164829/">Indexing and digitization of films</a> .  So, all or almost all of this data can also be kept in EXIF ‚Äã‚Äãand, if necessary, exported to any format, as it will be convenient for us. <br>  An additional advantage of DigiKam is that you can choose any photo as an album cover, but I liked the idea of ‚Äã‚Äãhaving a photo of the paper album as the cover, thanks to the author. <br><br>  Another non-obvious point that I encountered when working with DigiKam: if there are no rights to write to the photo file, then the software silently writes only to its database, without giving any indication that there are problems.  For a long time I tried to figure out why there is a signature in the program, but not in the file, especially since the option ‚Äúsave to file‚Äù is set in the settings.  So, keep this in mind - check the access rights, otherwise you can swear for a long time. <br><br><h4>  We post on the site </h4><br><br>  So, solved the main tasks - scanning and cataloging.  Now it's time to boast in front of relatives, show friends a photo.  Naturally by posting photos on the site.  Not so long ago, I already did a softphone for this business: I folded the necessary photos in <br>  catalog, launched - and ready, the album became.  I wrote about this on a Habr√© last time, <a href="http://habrahabr.ru/post/147964/">"Simple automation: photo album</a> . <a href="http://habrahabr.ru/post/147964/">"</a>  Now, using DigiKam, I decided that right in EXIF-tags you can mark a photo, you need to put it in a photo album or not, because when scanning there were all sorts of pictures that you should not upload to the site.  And comments can now be taken from EXIF. <br><br>  It seems to be all right, but not very. <br><br>  Everything on the site is processed in PHP, and there, as it seemed to me, there is a great function for working with EXIF, <code>read_exif_data()</code> , but as practice has shown, this underfunction shows only part of the data, completely silent about the rest.  I rummaged through everything I could - and the dream of an easy life had sunk into oblivion, I had to pull out EXIF ‚Äã‚Äãfrom files at the stage of album generation, since the command line tools are taking place. <br><br>  As a result, I rewrote the script, remembering the caustic comment on his previous article ‚ÄúPerl php-file generator ... Monsieur knows a lot about it ...‚Äù, he laughed to himself that he was still right that he did not fully rely on PHP - so she would have substituted me Now the leg, and so a couple of minutes - and the problem is solved. <br><br>  So, when processing photos in DigiKam, we mark the photo with a flag (it is called PickLabel there).  The checkbox is written to the file in EXIF.  When we process all the files from the directory, we pull out the checkbox using exiftool: <br><br><pre> <code class="perl hljs"> $flagPickLabel = <span class="hljs-string"><span class="hljs-string">`exiftool -b -PickLabel '$fname_in'`</span></span>;</code> </pre><br><br>  Well, then, depending on the flag - if it is, then we process it, if not, we skip it.  Everything is set in the command line so that it is convenient.  In fact, here you can process a lot of things, it already tastes and colors who needs what. <br><br><img src="https://habrastorage.org/storage2/7d1/ad8/f1b/7d1ad8f1b3a3f4b5dd303cdfca4993e6.png"><br><br>  Link to the source, if suddenly someone needs to carefully look or even apply: <a href="">photo_album-r143.tar.gz</a> .  How to use - mentioned in the previous article, I will not repeat. <br><br>  Thank you for your attention on this, and if someone came in handy, then he is immensely pleased. <br>  Criticism is welcome. <br><br>  <b>UPD</b> : I accidentally found it at habr <a href="http://habrahabr.ru/post/166649/">about scanning negatives</a> - I wonder how I didn‚Äôt notice before.  Let it be here to heap. </div><p>Source: <a href="https://habr.com/ru/post/166649/">https://habr.com/ru/post/166649/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../166639/index.html">Automatic configuration of virtual machines in the clouds using metadata</a></li>
<li><a href="../166641/index.html">Store ID in Cookie</a></li>
<li><a href="../166643/index.html">[Translation] What happened when Facebook blocked my account</a></li>
<li><a href="../166645/index.html">Small useful things. How to make access from nagios / icinga to the host management interface through Google Chrome and MS IE browsers</a></li>
<li><a href="../166647/index.html">Adding your functionality to UMI.CMS using event handlers</a></li>
<li><a href="../166651/index.html">Matlab-bot, warm tube</a></li>
<li><a href="../166653/index.html">AJAX in CakePHP on jQuery and Prototype</a></li>
<li><a href="../166655/index.html">On Putin‚Äôs instructions, the FSB will create a system for preventing and eliminating computer attacks.</a></li>
<li><a href="../166657/index.html">MVC system in Zend Framework 2</a></li>
<li><a href="../166659/index.html">An eye for an eye</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>