<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mail.Ru Agent + ICQ = interoperability</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mail.Ru Agent and ICQ projects have a big event - we have launched server transport, giving users of both networks the opportunity to communicate with...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mail.Ru Agent + ICQ = interoperability</h1><div class="post__text post__text-html js-mediator-article">  Mail.Ru Agent and ICQ projects have a big event - we have launched server transport, giving users of both networks the opportunity to communicate with each other.  In other words, the notorious interoperability, or peering, about which advanced users of messengers talked for so long, has finally happened! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/30a/27d/e23/30a27de233c3a5e9042e5c85ec3f3323.png"><br><br>  <strong>What does this mean for the user?</strong> <br><a name="habracut"></a><br>  Very simple. <br>  Mail.Ru Agent users can add ICQ users to their contact lists (and, of course, exchange messages with them).  At the same time, having an ICQ account is optional. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The same principle works in the opposite direction - ICQ users can add Mail.Ru Agent users to their existing contact list. <br><br>  For simplicity, we will consider the interaction of two networks on the example of Mail.Ru Agent, although in ICQ-clients it works quite similarly. <br><br>  When searching for a contact by first and last name, it is no longer necessary to think about what kind of messenger this person uses - the search is automatically performed on both networks at once. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c60/b93/0db/c60b930dbb672e41b26da424320d17cd.png"><br><br>  <strong>I already use Mail.Ru Agent as an ICQ client.</strong>  <strong>What to do?</strong>  ? <br><br>  Nothing special.  In Mail.Ru Agent you can still set up an ICQ account and decide for yourself which account (Mail.Ru Agent or ICQ) to add another ICQ contact.  It‚Äôs hard to believe or even understand, but adding contacts from the Agent to your ICQ account in the Agent also works!  ;) <br><br>  <strong>How is this technically implemented?</strong> <br><br>  One of the key tasks assigned to the developers was to ensure backward compatibility with old clients (both Mail.Ru Agent and ICQ).  The new functionality is implemented on the server side, so communication with users added from another network is possible in almost all versions of Mail.Ru Agent and ICQ, including the old ones.  But in order to make the best impression about the service, it is better to update the client applications. <br><br>  Mail.Ru Agent clients still connect to their servers through their own protocol, ICQ clients do the same.  Mail.Ru Agent‚Äôs clients ‚Äúsee‚Äù ICQ contacts in the format 12345@uin.icq, ICQ clients in the form of a regular e-mail address. <br><br>  Thus, neatly written client applications (expecting a string, rather than a number as UIN), do not notice any changes at all, and work correctly with the new type of contacts right out of the box. <br><br>  The main ‚Äúmagic‚Äù happens between servers.  We have developed a special interface between Mail.Ru Agent and ICQ servers (based on the SIP / SIMPLE protocol), within which data is transmitted from one protocol to another and vice versa. <br><br>  In clients, only ‚Äúcosmetic‚Äù work was done - for example, ICQ-contacts in the Mail.Ru Agent‚Äôs contact list were visually highlighted (marked with ‚Äúflowers‚Äù), texts and prompts were updated, etc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ba/863/828/9ba863828096628157543d5d5235053a.png"><br><br>  So far, only the most basic capabilities of both protocols are supported: message transfer, authorization request / confirmation, contact search, presense-status, questionnaire request.  However, in the future, depending on the popularity of the peering, we plan to support most of the popular functions, including file transfer, voice and video calls, etc. <br><br>  Please also note that we are still testing our server and correcting errors, so interoperability is guaranteed only on the official Mail.Ru Agents and ICQ clients.  And, of course, we, as always, will be grateful to you for bug reports. <br><br>  Download official PC clients here: <br><ul><li>  <a href="">Mail.Ru Agent 5.9</a> </li><li>  <a href="">ICQ 7.6</a> </li></ul><br>  <strong>Why support two different client server protocols?</strong> <br><br>  The question is fair - at first glance, it is easier to transfer Mail.Ru Agent and ICQ clients to a single protocol than to support two types of servers with a layer between them.  However, the reason for this "zoo" is very prosaic - backward compatibility.  The audience of both networks is tens of millions of users per day, and all of them use clients of the most different versions.  Unfortunately, desktop or mobile platforms are not the web, and it is impossible to instantly update all client applications on user devices.  This problem is particularly acute for the ICQ network, in which non-native customers make up a significant proportion of clients. <br><br>  Therefore, despite our strategic willingness to switch both products to one single technology, we, unfortunately, will have to maintain two different protocols for quite some time.  Nevertheless, we are already taking certain steps towards unification. <br><br>  <strong>Who will benefit from interoperability?</strong> <br><br>  Given that the audience of Mail.Ru Agent and ICQ is approximately comparable, we expect that synergy will benefit both networks.  In general, we believe that artificial barriers in the field of personal communications have long outlived themselves, so the more ways people of various services can communicate with each other, the better it will be for everyone. <br><br>  Ilya Naumov, <br>  Project Manager Mail.Ru Agent </div><p>Source: <a href="https://habr.com/ru/post/129440/">https://habr.com/ru/post/129440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../129430/index.html">Using PromoDJ for Equity</a></li>
<li><a href="../129431/index.html">Presented budget smartphone HTC Explorer</a></li>
<li><a href="../129434/index.html">Hacby'11 web & mobile October 8-9, 2011 in Minsk</a></li>
<li><a href="../129437/index.html">The Foundry Nuke. Introduction</a></li>
<li><a href="../129439/index.html">Bandwidth limitation by time of day using ipfw</a></li>
<li><a href="../129441/index.html">Bootstrap Fund launched - a new type of incubator / fund / business club</a></li>
<li><a href="../129442/index.html">New version of ABBYY TextGrabber: two in one</a></li>
<li><a href="../129443/index.html">The secrets of numerology in the invitation of Apple</a></li>
<li><a href="../129445/index.html">FreeRTOS: mutexes and critical sections</a></li>
<li><a href="../129446/index.html">MultiWAN on the DIR-320</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>