<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenGL ES 1.1 on Windows 8 and Windows Phone 8.1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Back in 1998, I tried to make my game with OpenGL. The development hardly reached the alpha and was abandoned, but what was especially remembered was ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenGL ES 1.1 on Windows 8 and Windows Phone 8.1</h1><div class="post__text post__text-html js-mediator-article"> <a href=""><img align="right" src="https://habrastorage.org/files/690/43d/c59/69043dc597364141bcd8d80fbd3b0151.png"></a>  Back in 1998, I tried to make my game with OpenGL.  The development hardly reached the alpha and was abandoned, but what was especially remembered was how convenient it was to do the GL interfaces ‚Äî the orthogonal projection, the pair of transformations, the binding of several vertices with GL_TRIANGLE_STRIP, and we already have a button.  And now, sixteen years later, while working on a mobile game developer, I encountered the same approach in OpenGL ES 1. *, except that 2D textures without rotations can now be drawn through glDrawTexfOES. <br>  I supported several projects made according to this principle and a cunning plan lined up in my head: make a cross-platform 2D game on mobile with OpenGL ES and C #, and on desktops with regular OpenGL.  I did not achieve the goal the first time and there were many problems with this, but as a result, another project works for me without any changes in business logic on iOS, Android, BlackBerry, Windows XP / 7, Mac OS X, Linux, ReactOS, Windows 8, Windows Phone 8.1.  The material has accumulated a lot of articles, but this time I will talk about the support for the Windows Runtime. <br><a name="habracut"></a><br><h3>  Opentk </h3><br><img src="https://habrastorage.org/files/ba5/752/672/ba575267233847ed9e6123678b9f8e93.png" align="right">  You can argue a lot about the convenience of OpenGL for 2D, to hoarseness in your throat to convince yourself that shaders and multi-pass rendering are necessary for a full game, and at the same time to find confirmation that the outdated OpenGL ES 1.1 is often implemented at the emulation level through shaders.  This I will leave for Don Quixote and the theorists.  I was worried that this is the easiest way to write a 2D drawing code once and run it on different platforms, and not using Unity, MonoGame and other engines. <br>  On iOS and Android under Xamarin, everything went smoothly, working with GL is done through the OpenTK library with the OpenGL.Graphics.GL11 namespace, the constants and methods on both platforms are the same.  On desktops, I decided to use OpenTK.Graphics.OpenGL, i.e.  plain desktop opengl with c # wrapper.  There, in principle, there is no glDrawTexfOES, but you can easily make a replacement for it and draw two triangles via GL_TRIANGLE_STIP / GL_TRIANGLES and glDrawElements - compared to mobile ones, the performance is more than enough and VBO is not needed here. <br><div class="spoiler">  <b class="spoiler_title">An example wrapper with GL_TRIANGLES</b> <div class="spoiler_text"><pre><code class="hljs pgsql">private static readonly <span class="hljs-type"><span class="hljs-type">int</span></span>[] s_textureCropOesTiv = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span>[<span class="hljs-number"><span class="hljs-number">4</span></span>]; private static readonly short[] s_indexValues = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> short[] { <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span> }; private static readonly <span class="hljs-type"><span class="hljs-type">float</span></span>[] s_vertexValues = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">float</span></span>[] { <span class="hljs-number"><span class="hljs-number">-0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">-0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">-0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">-0.5</span></span>f }; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> glDrawTexfOES(<span class="hljs-type"><span class="hljs-type">float</span></span> x, <span class="hljs-type"><span class="hljs-type">float</span></span> y, <span class="hljs-type"><span class="hljs-type">float</span></span> z, <span class="hljs-type"><span class="hljs-type">float</span></span> w, <span class="hljs-type"><span class="hljs-type">float</span></span> h) { glPushMatrix(); glLoadIdentity(); glTranslatef(w / <span class="hljs-number"><span class="hljs-number">2.0</span></span>f + x, h / <span class="hljs-number"><span class="hljs-number">2.0</span></span>f + y, <span class="hljs-number"><span class="hljs-number">0.0</span></span>f); glScalef(w, -h, <span class="hljs-number"><span class="hljs-number">1.0</span></span>f); <span class="hljs-type"><span class="hljs-type">int</span></span>[] tiv = s_textureCropOesTiv; // NOTE: clip rectangle, should be <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">before</span></span> <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span>[] texW = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]; glGetTexLevelParameteriv(GL_TEXTURE_2D, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_TEXTURE_WIDTH, texW); <span class="hljs-type"><span class="hljs-type">int</span></span>[] texH = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]; glGetTexLevelParameteriv(GL_TEXTURE_2D, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_TEXTURE_HEIGHT, texH); <span class="hljs-type"><span class="hljs-type">float</span></span>[] texCoordValues = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">float</span></span>[<span class="hljs-number"><span class="hljs-number">8</span></span>]; <span class="hljs-type"><span class="hljs-type">float</span></span> left = <span class="hljs-number"><span class="hljs-number">1.0</span></span>f - (tiv[<span class="hljs-number"><span class="hljs-number">0</span></span>] + tiv[<span class="hljs-number"><span class="hljs-number">2</span></span>]) / (<span class="hljs-type"><span class="hljs-type">float</span></span>)texW[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-type"><span class="hljs-type">float</span></span> bottom = <span class="hljs-number"><span class="hljs-number">1.0</span></span>f - tiv[<span class="hljs-number"><span class="hljs-number">1</span></span>] / (<span class="hljs-type"><span class="hljs-type">float</span></span>)texH[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-type"><span class="hljs-type">float</span></span> right = <span class="hljs-number"><span class="hljs-number">1.0</span></span>f - tiv[<span class="hljs-number"><span class="hljs-number">0</span></span>] / (<span class="hljs-type"><span class="hljs-type">float</span></span>)texW[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-type"><span class="hljs-type">float</span></span> top = <span class="hljs-number"><span class="hljs-number">1.0</span></span>f - (tiv[<span class="hljs-number"><span class="hljs-number">1</span></span>] + tiv[<span class="hljs-number"><span class="hljs-number">3</span></span>]) / (<span class="hljs-type"><span class="hljs-type">float</span></span>)texH[<span class="hljs-number"><span class="hljs-number">0</span></span>]; texCoordValues[<span class="hljs-number"><span class="hljs-number">0</span></span>] = right; texCoordValues[<span class="hljs-number"><span class="hljs-number">2</span></span>] = left; texCoordValues[<span class="hljs-number"><span class="hljs-number">4</span></span>] = right; texCoordValues[<span class="hljs-number"><span class="hljs-number">6</span></span>] = left; texCoordValues[<span class="hljs-number"><span class="hljs-number">1</span></span>] = bottom; texCoordValues[<span class="hljs-number"><span class="hljs-number">3</span></span>] = bottom; texCoordValues[<span class="hljs-number"><span class="hljs-number">5</span></span>] = top; texCoordValues[<span class="hljs-number"><span class="hljs-number">7</span></span>] = top; glEnableClientState(GL_VERTEX_ARRAY); glEnableClientState(GL_TEXTURE_COORD_ARRAY); glVertexPointer(<span class="hljs-number"><span class="hljs-number">2</span></span>, GL_FLOAT, <span class="hljs-number"><span class="hljs-number">0</span></span>, s_vertexValues); glTexCoordPointer(<span class="hljs-number"><span class="hljs-number">2</span></span>, GL_FLOAT, <span class="hljs-number"><span class="hljs-number">0</span></span>, texCoordValues); glDrawElements(GL_TRIANGLES, <span class="hljs-number"><span class="hljs-number">6</span></span>, GL_UNSIGNED_SHORT, s_indexValues); glPopMatrix(); }</code> </pre> <br>  Please note that you should not copy this code to yourself - it will not work where there are no GL_TEXTURE_WIDTH / GL_TEXTURE_HEIGHT constants.  At the same time, the s_textureCropOesTiv variable must be filled before the call, and the code itself does not perform a viewport flip along the vertical axis. <br></div></div><br><br><h3>  XAML </h3><br>  It took a certain amount of magic to run the project on current versions of Mono, .Net 2.0-4.5, Wine, and at the same time under ReactOS, but in general, apart from the zoo with textures, there were no special problems.  But the problems started on Windows 8 and Windows Phone, where OpenGL is missing in principle.  From the beginning, I tried to solve it with a little blood, literally adding my version of glDrawTexfOES, which would cause something specific to these systems inside.  In the course of the experiments, I used the XAML element Canvas, and in it I drew a Rectangle, which in Brush used the necessary transformation to display only a part of the texture. <br><div class="spoiler">  <b class="spoiler_title">Transformation code in XAML</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"> TransformGroup <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> TransformGroup(); ScaleTransform scale = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ScaleTransform(); scale.ScaleX = (<span class="hljs-type"><span class="hljs-type">double</span></span>)texture.PixelWidth / (<span class="hljs-type"><span class="hljs-type">double</span></span>)clipRect.Width; scale.ScaleY = (<span class="hljs-type"><span class="hljs-type">double</span></span>)texture.PixelHeight / (<span class="hljs-type"><span class="hljs-type">double</span></span>)clipRect.Height; <span class="hljs-keyword"><span class="hljs-keyword">group</span></span>.Children.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(scale); TranslateTransform translate = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> TranslateTransform(); translate.X = -scale.ScaleX * (<span class="hljs-type"><span class="hljs-type">double</span></span>)clipRect.X / (<span class="hljs-type"><span class="hljs-type">double</span></span>)texture.PixelWidth; translate.Y = -scale.ScaleY * (<span class="hljs-type"><span class="hljs-type">double</span></span>)clipRect.Y / (<span class="hljs-type"><span class="hljs-type">double</span></span>)texture.PixelHeight; <span class="hljs-keyword"><span class="hljs-keyword">group</span></span>.Children.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(translate); imageBrush.RelativeTransform = <span class="hljs-keyword"><span class="hljs-keyword">group</span></span>;</code> </pre><br>  clipRect - a rectangle with cropping parameters, analogous to s_textureCropOesTiv from the example above <br>  texture - BitmapSource with the texture itself. <br></div></div><br>  This method seems strange, but we must remember that XAML is often hardware accelerated and quite fast.  I ported with this approach several mobile OpenGL ES games on Windows 8 and they work acceptable, but there is no possibility to change the color of the textures, as in GL through glColor.  Those.  in principle, in XAML it is allowed to change the transparency of an element, but it is not possible to change its Color Tint at all.  For example, if you use white fonts and then paint in different colors, then with this approach they will remain white. <br><br>  In general, the XAML version is rather dubious and did not quite correspond to the original plan, and even without color <s>differentiation of</s> modulation <s>pants</s> , because when the game was 80% ready and already worked on mobile and stationary .Net / Mono, I started looking for more acceptable options for Windows 8. There were a lot of rumors and enthusiasm around the port of the <a href="https://code.google.com/p/angleproject/">Angle</a> library, but at that time it was very raw and without the support of C #.  Directly from C #, working with DirectX also turned out to be impossible, and Microsoft itself offers the developer several ‚Äúeasy‚Äù ways: to redo all C # code in C ++, use the third-party <a href="http://sharpdx.org/">SharpDX</a> library (C # binding over DirectX), or switch to MonoGame.  The MonoGame library is a XNA heir that uses the same SharpDX for displaying graphics on Windows 8, it is pretty good, but rather specific, and it was too late to switch to it in my project.  SharpDX looked no less monstrous, because it draws all the existing capabilities of <acronym>DirectX</acronym> , although it is pretty close to what I needed.  I have already started to have serious conversations with him with a soldering iron and a manual when I came across a gl2dx project. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  GL2DX </h3><br>  This library was laid out by the user <a href="https://www.codeplex.com/site/users/view/average">average</a> on <a href="https://gl2dx.codeplex.com/">CodePlex</a> several years ago and was no longer updated.  This is a C ++ library that declares the same functions as in OpenGL, and internally translates them into D3D11 calls.  An example of C ++ / CX went to the library, which created a XAML page with SwapChainBackgroundPanel and initialized it through D3D11CreateDevice to work with the C ++ part.  The project would be good if it were at least a bit out of the prototype stage.  Technically, only a few percent of the OpenGL methods work in it, and the rest are asserted.  On the other hand, it copes with the output of 2D textures, transformation and the simplest geometry.  At this stage, I took the library and brought it to the state of the product, which connects to the C # project as a Visual Studio Extension and allows you to write similar code: <br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"> GL.<span class="hljs-keyword"><span class="hljs-keyword">Enable</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.ColorMaterial); GL.<span class="hljs-keyword"><span class="hljs-keyword">Enable</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.Texture2D); GL.Color4(<span class="hljs-number"><span class="hljs-number">1.0</span></span>f, <span class="hljs-number"><span class="hljs-number">1.0</span></span>f, <span class="hljs-number"><span class="hljs-number">1.0</span></span>f, <span class="hljs-number"><span class="hljs-number">1.0</span></span>f); GL.TexParameter(<span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.Texture2D, <span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.TextureCropRectOes, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1024</span></span>, <span class="hljs-number"><span class="hljs-number">1024</span></span> }); GL.BindTexture(<span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.Texture2D, m_textureId1); GL.DrawTex(<span class="hljs-number"><span class="hljs-number">0</span></span>, - (m_width - m_height) / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, m_width, m_width); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { GL.BindTexture(<span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.Texture2D, m_textureId2); GL.TexParameter(<span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.Texture2D, <span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.TextureCropRectOes, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">256</span></span>, <span class="hljs-number"><span class="hljs-number">256</span></span> }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { GL.BindTexture(<span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.Texture2D, m_textureId2); GL.TexParameter(<span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.Texture2D, <span class="hljs-keyword"><span class="hljs-keyword">All</span></span>.TextureCropRectOes, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span>[] { <span class="hljs-number"><span class="hljs-number">256</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">256</span></span>, <span class="hljs-number"><span class="hljs-number">256</span></span> }); } <span class="hljs-type"><span class="hljs-type">int</span></span> aqPadding = <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-type"><span class="hljs-type">int</span></span> fishSize = <span class="hljs-number"><span class="hljs-number">128</span></span>; <span class="hljs-type"><span class="hljs-type">int</span></span> aqWidth = (<span class="hljs-type"><span class="hljs-type">int</span></span>)m_width - aqPadding * <span class="hljs-number"><span class="hljs-number">2</span></span> - fishSize; <span class="hljs-type"><span class="hljs-type">float</span></span> x = (Environment.TickCount / (i + <span class="hljs-number"><span class="hljs-number">10</span></span>)) % aqWidth; <span class="hljs-type"><span class="hljs-type">float</span></span> alpha = <span class="hljs-number"><span class="hljs-number">1.0</span></span>f; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x &lt; fishSize) alpha = x / fishSize; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x &gt; aqWidth - fishSize) alpha = (aqWidth - x - fishSize) / <span class="hljs-number"><span class="hljs-number">128.0</span></span>f; GL.Color4(<span class="hljs-number"><span class="hljs-number">1.0</span></span>f, <span class="hljs-number"><span class="hljs-number">1.0</span></span>f, <span class="hljs-number"><span class="hljs-number">1.0</span></span>f, alpha); GL.DrawTex(x + aqPadding, m_height / <span class="hljs-number"><span class="hljs-number">20</span></span> * (i + <span class="hljs-number"><span class="hljs-number">5</span></span>), <span class="hljs-number"><span class="hljs-number">0</span></span>, fishSize, fishSize); }</code> </pre><br>  PS Code in the OpenTK call format, which is a bit confusing for those who are used to writing glColor4f instead of GL.Color4. <br></div></div>  This share has received from me the proud name MetroGL. <br><br><h3>  MetroGL </h3><br><img src="https://habrastorage.org/files/9cf/6cd/ed1/9cf6cded1adb43d8a6a82b4f11c163d5.jpg" align="right">  The C ++ / CX example was transformed into a library in the same <s>avian</s> modern language, acquired a large number of additional functions, and C ++ received the implementation of many OpenGL methods, blending, internal VertexBuilder optimization, loading of arbitrary images and DDS textures, and most importantly - an exact imitation of glDrawTexfOES, giving 1in1 the same picture as on OpenGL ES, and at the same time connecting successive operations with one texture into a single DrawCall.  Something had to be done with a file, the code itself is rather dirty in places (both before and after me), and to create VSIX extensions, you need to rebuild the project manually for each architecture (x86, x64, ARM) and only then build the VSIX project.  The main thing is that if you have OpenGL ES 1. * code with a 2D interface or not complicated 3D, then with this library you can use it directly from C #, without thinking about the internals, C ++ code, D3D11 contexts and other <s>nasty things</s> .  At the same time made an example with the fish on the right and the code from under kata.  Of course, if you have code on OpenGL 2.0+ with shaders and extensions, then there will be no porting of speech. <br>  Another unpleasant moment is that I do not have the mood and desire to bring the library to the level of 50-100% compatibility with OpenGL, which means it will have to be sharpened for yourself with your specific tasks.  Fortunately, all the code is laid out on <a href="https://github.com/Nomad1/MetroGL">github</a> and I still do not disappear anywhere, and I will be happy with commits or even those who want to take on this load.  The library is built under Windows 8.0 and Windows Phone 8.1, for VSIX you may need a non-Express version of Visual Studio. <br><br><h3>  Epilogue </h3><br>  Well, in the end, a little about games.  I finished my project 100% and it was the combination of C # and OpenGL that made it possible to make the high-level code not changeable at all - it is a library without a single define that does not use any system calls.  Then there is the code of the middle level: drawing through OpenGL in 2D, with rotation, transformation and color modulation, here the code is slightly different on different platforms - different textures, data is stored differently.  The low-level part is different for each platform, this is the creation of a window, the initialization of the context, the output of sound.  In any case, the nine platforms listed at the beginning of the article really work, and let C # in conjunction with OpenGL cannot be used on the web or on Firefox OS yet, but isn't it all a reflection of the cross-platform future, gentlemen? <br><br><img src="https://habrastorage.org/files/421/a19/386/421a19386b9048db8c3c79578d70f212.jpg"><br></div><p>Source: <a href="https://habr.com/ru/post/246911/">https://habr.com/ru/post/246911/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246901/index.html">Computer Engineering at Deutsches Museum</a></li>
<li><a href="../246903/index.html">Monitoring and managing data center infrastructure</a></li>
<li><a href="../246905/index.html">Why you should NOT use AngularJs</a></li>
<li><a href="../246907/index.html">Top 15 JavaScript Libraries for Building Diagrams and Pivot Tables</a></li>
<li><a href="../246909/index.html">Implementing Sunburst Chart on JavaScript and HTML5 Canvas</a></li>
<li><a href="../246913/index.html">New optimizations for x86 in GCC 5.0: PIC in 32-bit mode</a></li>
<li><a href="../246919/index.html">NORD POS. The story of why I needed another fork of Openbravo POS</a></li>
<li><a href="../246921/index.html">We open the brain to the sales manager. How to get an investment, sell a product or service</a></li>
<li><a href="../246929/index.html">Anonymous leaked a large list of passwords, credit cards, and the film ‚ÄúThe Interview‚Äù by Sony</a></li>
<li><a href="../246933/index.html">Docker, SkyDNS and SkyDock - quickly and conveniently</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>