<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>DroidParts - library for Android 8-in-1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With this article I open the cycle dedicated to the development of Android applications. But not typical of Google Play, written, obviously, the back ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>DroidParts - library for Android 8-in-1</h1><div class="post__text post__text-html js-mediator-article">  With this article I open the cycle dedicated to the development of Android applications.  But not typical of Google Play, written, obviously, the back of the left foot, and the applications are correct and elegant.  <b>DroidParts</b> - the Swiss knife of Android libraries with 8 edges will help us with this business: <br><img align="left" src="https://habrastorage.org/storage2/cb2/41d/0ec/cb241d0ecd4fe372fa0ed688059ec7c9.png"><br><ol><li>  <b>Dependency Injection</b> : initialization of system and own dependencies; </li><li>  <b>Object-Relational Mapping</b> for SQLite: CRUD operations out of the box; </li><li>  Support <b>Fragments</b> , <b>ActionBar</b> Sherlock; </li><li>  Simple (de) <b>serialization of JSON</b> ; </li><li>  AsyncTasks, IntentService with processing exceptions; </li><li>  <b>RESTful HTTP client</b> with JSON support; </li><li>  <b>L.</b> og without a tag, configurable via AndroidManifest; </li><li>  <b>Utilities</b> such as asynchronous http-loader with caching, View- and Intent-helpers. </li></ol><br><br>  Literally an hour ago <code>*</code> the first version of the library was published, but first ... <br><a name="habracut"></a><br>  For a long time I was an adherent of the old school approach with code in the style: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Button btn; onCreate(Bundle b) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b); btn = (Button)findViewById(R.id.btn); }</code> </pre><br>  Until then, did not participate in the project that used RoboGuice.  And after: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@InjectView</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Button btn;</code> </pre><br>  voluntary return was not. <br><br>  On the other hand, RoboGuice was unnerving in size and in any way unreleased version 2.0 with Fragments support.  And also, for ORM, a third-party library was needed.  And Gson to simplify working with JSON.  Wrong it, pull dependencies into several application sizes. <br><br>  In general, following the principle of " <i>if you want something done right, do it yourself,</i> " I proceeded with <i>just for fun</i> . <br><br>  What came out of this is available in version <b>0.5</b> at <a href="https://github.com/yanchenko/droidparts">github.com/yanchenko/droidparts</a> and consists of: <br><ul><li>  <b>base</b> - DI, ORM, Activities and other key components; </li><li>  <b>extra</b> - optional RESTful client and various utilities; </li><li>  <b>support-actionbarsherlock</b> - support for Fragments, ActionBar and tabs in conjunction with the default <a href="https://github.com/JakeWharton/ActionBarSherlock">ActionBarSherlock</a> ; </li><li>  <b>sample</b> is a ‚Äúsample‚Äù application. </li></ul>  From consideration of the last we will begin. <br><br>  To start doing <code><a href=""></a> git clone github.com/yanchenko/droidparts.git</code>  <code><a href=""></a> git clone github.com/yanchenko/droidparts.git</code> and import Eclipse projects from <code>base</code> , <code>extra</code> , <code>sample</code> . <br>  The first two of them are libraries (Android library project). <br>  In the <code>project.properties</code> latter, which is a full-fledged application, pay attention to the line <code>proguard.config=../proguard.cfg</code> , which indicates the modified configuration of the obfuscator used when exporting to .apk. <br><br>  Although DroidParts contains a custom <code>org.droidparts.Application</code> , it only makes sense to inherit from it if the injection is needed in the Application itself.  There is no need for a simple application.  But you need an injection of your own dependencies. <br>  In the <code>AndroidManifest.xml</code> line: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta-data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"droidparts_dependency_provider"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".DependencyProvider"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  declares a class that inherits <code>org.droidparts.inject.AbstractDependencyProvider</code> and is a factory of the objects we need. <br><br>  The scheme is simple: each <code>DependencyProvider</code> method returns an instance of one of the classes available for injection.  Two types of methods are supported: called without parameters and with a single <code>Context</code> parameter.  In the case when the injection is made in the Activity, the Context will be transmitted to it, which is important for dependencies related to the UI. <br><br>  Code examples, incl.  how <b>singles</b> are realized (singletons, ahaha, I adore terms in translation), you can look directly at <code>org.droidparts.sample.DependencyProvider</code> . <br>  For the injection of system resources and services, additional methods, of course, are not needed. <br><br>  The injection itself is made for the fields annotated by <code>@Inject...</code> when calling one of the methods <code>Injector.get().inject(...)</code> .  Manual call can be skipped, inheriting from <code>Activity</code> , <code>Service</code> , etc.  from <code>org.droidparts</code> . <br>  The <code>org.droidparts.sample.activity.EntryListActivity</code> application is an example of this approach. <br>  Pay attention to: <br><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPreInject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ setContentView(R.layout.activity_entry_list); }</code> </pre><br>  All calls to <code>onCreate(...)</code> will occur after the Injector has completed.  In this case, this would result in an unidentified <code>View</code> s. <br><br>  On this chaotic understatement, I conclude the introductory article.  Examples of DI, ORM and JSON serialization sufficient to begin using the library are in the application.  Detailed consideration and best practices is a topic for further articles. <br>  In the near future I will tell you how to replace your own constructors for the <code>Activity</code> (hint: there is this pattern in the application). <br><br>  I will answer questions here or there: <a href="http://stackoverflow.com/questions/tagged/droidparts">stackoverflow.com/questions/tagged/droidparts</a> . <br><br>  Thank you, and please write less code!  (: <br><br>  <i>* as of yesterday evening.</i> </div><p>Source: <a href="https://habr.com/ru/post/145176/">https://habr.com/ru/post/145176/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145170/index.html">Building effective business systems. Chapter 2.2 Business Processes: Local Optimization</a></li>
<li><a href="../145172/index.html">In shtatovskoy military chip made in China found password-protected "back door"</a></li>
<li><a href="../145173/index.html">Erlang Factory Lite in Moscow. June 22, 2012</a></li>
<li><a href="../145174/index.html">Ideas about the self-limiting protection mechanism in Windows</a></li>
<li><a href="../145175/index.html">Atomic force microscopy</a></li>
<li><a href="../145177/index.html">Comparative performance testing of OpenOffice and LibreOffice</a></li>
<li><a href="../145178/index.html">Effective use of WebAPI: self hosting REST services</a></li>
<li><a href="../145180/index.html">Who works here or how to quickly find out information about callback for Drupal‚Äôs menu</a></li>
<li><a href="../145181/index.html">Pay mobile tax?</a></li>
<li><a href="../145183/index.html">Upgrade to Windows 8 inexpensively. Opening of the Russian portal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>