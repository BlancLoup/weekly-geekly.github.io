<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Chainvas: an elegant and tiny ‚Äúcrutch‚Äù that adds method chaining tools to any API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Thanks to the jQuery library since about 2006 (that is, about five years ago) no one needs to explain what method chaining is : this is the same progr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Chainvas: an elegant and tiny ‚Äúcrutch‚Äù that adds method chaining tools to any API</h1><div class="post__text post__text-html js-mediator-article">  Thanks to the jQuery library since about 2006 (that is, about five years ago) no one needs to explain what <b>method chaining is</b> : this is the same programming technique in which object methods can be called one after another along a chain, as in jQuery. <br><br>  The main advantage of this technique is a noticeable saving of efforts of the programmer.  With it, the programmer does not have to re-write the name of the object repeatedly in this manner: <br><pre><code class="hljs">obj.(); obj.(); obj.();</code> </pre> <br>  Instead, the programmer can call all methods in a <nobr>chain</nobr> in one line: <br><pre> <code class="hljs">obj.().().();</code> </pre><br>  If it seems to him that this kind of writing is worse readable by the person than the previous one (especially when methods appear, sometimes quite extensive), then the programmer can write the names of the methods from the new line (JavaScript allows this), but still save on the name object: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">obj</span></span> .(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ‚Ä¶) .(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ‚Ä¶) .(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ‚Ä¶);</code> </pre><br>  In practice, the possibility of such a technique is ensured by the fact that no method of the object returns the value <b>undefined</b> .  Instead, if the method is a command, not a request (that is, it performs some action, and does not return some value), then at the end its author writes <nobr>‚Äú <b>return this</b> ‚Äù -</nobr> <nobr>this is what</nobr> makes it possible to record the call of several commands in a row in the form chains. <br><br>  As far as I know, the well-established Russian equivalent to the English phrase ‚Äúmethod chaining‚Äù does not yet exist.  Probably, we can talk <nobr>about the "chain"</nobr> <nobr>or, for simplicity,</nobr> <nobr>the "chain"</nobr> form of calling methods. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Convenience chain call is addictive.  Well, the truth is: it is enough to program <nobr>two or three</nobr> weeks on jQuery - and ordinary APIs begin to annoy, even enrage, with their antediluvable inability to chain call.  It also lacks the ability to set their properties as an object passed to a method similar to <b><nobr>.css ({color: 'red',</nobr> <nobr>'line-height': 1})</nobr></b> in jQuery. <br><br>  Imagine, for example, how unusually comfortable it would be if you could draw chain calls in a manner like this on a canvas <nobr><i>(&lt;canvas&gt;)</i></nobr> : <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">ctx</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.beginPath</span></span>() <span class="hljs-selector-class"><span class="hljs-selector-class">.prop</span></span>({ <span class="hljs-attribute"><span class="hljs-attribute">lineWidth</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, strokeStyle: <span class="hljs-string"><span class="hljs-string">'#333'</span></span> })<span class="hljs-selector-class"><span class="hljs-selector-class">.moveTo</span></span>(0,0) <span class="hljs-selector-class"><span class="hljs-selector-class">.bezierCurveTo</span></span>(50,50, 80,80, 100,100) <span class="hljs-selector-class"><span class="hljs-selector-class">.stroke</span></span>()<span class="hljs-selector-class"><span class="hljs-selector-class">.closePath</span></span>();</code> </pre><br>  And the tool for <b>just such</b> chain calls appeared - thanks to Lea Verou.  Here it is: <br><br> <a href="http://leaverou.github.com/chainvas/"><img src="https://habrastorage.org/getpro/habr/post_images/b09/77b/18b/b0977b18b6fd85ecfbe1485ec689791a.jpg" alt="[Chainvas]"></a> <br><br><a name="habracut"></a>  The <a href="http://leaverou.github.com/chainvas/">Chainvas</a> library weighs <nobr>only</nobr> <nobr><b>‚âà1‚Öì kilobytes</b></nobr> after being processed by the minifiers, and yet its methods can provide a wrapper around all (or only some) methods of any object, providing a chain call to them.  A pair of ready-made add-on modules is also attached to it, one of which (with a volume of 348 bytes) sets the wrapper around the API DOM, and the other (with a volume of 406 bytes) sets the wrapper of the canvases <nobr><i>(&lt;canvas&gt;).</i></nobr> <br><br>  DOM wrapping allows you to make chain calls like the following: <br><pre> <code class="hljs pgsql">//   DOM (  ): document.body.appendChild( document.createElement(<span class="hljs-string"><span class="hljs-string">'a'</span></span>) .prop({ <span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://leaverou.me'</span></span>, <span class="hljs-string"><span class="hljs-string">'innerHTML'</span></span>: <span class="hljs-string"><span class="hljs-string">'Lea Verou'</span></span>, <span class="hljs-string"><span class="hljs-string">'title'</span></span>: <span class="hljs-string"><span class="hljs-string">'Visit this awesome blog!'</span></span>, <span class="hljs-string"><span class="hljs-string">'onclick'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(evt){ alert(<span class="hljs-string"><span class="hljs-string">'gotcha!'</span></span>); } }) .setAttribute(<span class="hljs-string"><span class="hljs-string">'data-unicorns'</span></span>, <span class="hljs-string"><span class="hljs-string">'42'</span></span>) .addEventListener(<span class="hljs-string"><span class="hljs-string">'mouseover'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(){ alert(<span class="hljs-string"><span class="hljs-string">'don'</span></span>t <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> this<span class="hljs-string"><span class="hljs-string">'); }, false) ); //   CSSOM (  ): var css = document.body.style.prop({ color: '</span></span>#<span class="hljs-number"><span class="hljs-number">245</span></span><span class="hljs-string"><span class="hljs-string">', fontFamily: '</span></span>Georgia, serif<span class="hljs-string"><span class="hljs-string">', textDecoration: '</span></span>underlin<span class="hljs-string"><span class="hljs-string">e' }).removeProperty('</span></span><span class="hljs-type"><span class="hljs-type">text</span></span>-decoration<span class="hljs-string"><span class="hljs-string">').cssText; //    classList: element.classList .add('</span></span>foo<span class="hljs-string"><span class="hljs-string">') .add('</span></span>bar<span class="hljs-string"><span class="hljs-string">') .toggle('</span></span>baz<span class="hljs-string"><span class="hljs-string">');</span></span></code> </pre><br>  It looks good - but, of course, if you have jQuery, nobody needs it all.  I would not bother <nobr>with <b>document.createElement ('a')</b></nobr> instead of <nobr>just <b>$ ('&lt;a /&gt;')</b> ,</nobr> for example. <br><br>  But a canvas wrapper <nobr><i>(&lt;canvas&gt;)</i> is</nobr> a different matter.  It not only provides a chain call to the canvas methods (an example of which I mentioned before mentioning Chainvas), which is not in jQuery, but also defines two useful helper methods: <nobr><b>circle (x, y, radius)</b></nobr> for drawing circles <nobr>and <b>roundRect (x, y,</b></nobr> <b>width, height, radius)</b> for drawing rounded rectangles.  (Here, ‚Äúdrawing‚Äù I call the definition of contour faces, after which you still need an additional call of <b>stroke ()</b> <nobr>or <b>fill ()</b></nobr> to actually display.) <br><br>  Sweet, sweet syntactic sugar. <br><br>  It is not surprising, therefore, that the author herself called the library ‚ÄúChainvas‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/131542/">https://habr.com/ru/post/131542/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131535/index.html">Wrong time on FreeBSD is no big deal. UPD: And in PHP is not scary too</a></li>
<li><a href="../131538/index.html">The history of setting wireless IPTV over Wi-Fi</a></li>
<li><a href="../131539/index.html">I offer assistance in the preparation of illustrations</a></li>
<li><a href="../131540/index.html">Droider Show # 13. Time ago!</a></li>
<li><a href="../131541/index.html">Wizee Shopping - transformation of consciousness</a></li>
<li><a href="../131544/index.html">Developers have created flexible e-paper.</a></li>
<li><a href="../131545/index.html">Halloween in controls</a></li>
<li><a href="../131546/index.html">Asia is the leader in speed of connection to the Network and in the volume of hacker attacks</a></li>
<li><a href="../131547/index.html">Android update on smartphones 2011</a></li>
<li><a href="../131549/index.html">A very quick way to turn off winter time for those who overslept</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>