<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple Python program for hyperbolic approximation of statistical data</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why do you need it 
 The laws of Zipf describe the patterns of frequency distribution of words in the text in any natural language [1]. These laws, ap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple Python program for hyperbolic approximation of statistical data</h1><div class="post__text post__text-html js-mediator-article"><h2>  Why do you need it </h2><br>  The laws of Zipf describe the patterns of frequency distribution of words in the text in any natural language [1].  These laws, apart from linguistics, are also applied in economics [2].  To approximate statistical data for objects that obey the Zipf Laws, a hyperbolic function of the form is used: <br><br><img src="https://habrastorage.org/files/c35/ed9/377/c35ed937735b4ae3afd2ca5bdc973a73.JPG">  (one) <br><br>  where: ab - constant coefficients: x - statistical data of the function argument (as a list): y - approximation of the function values ‚Äã‚Äãto the real data obtained by the least squares method [3]. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Usually, for approximating a hyperbolic function using the logarithm method, it is linearized, and then the coefficients a, b are determined and the inverse transform is done [4].  The direct and inverse transformations lead to an additional approximation error.  Therefore, I present a simple program in Python, for the classical implementation of the method of least squares. <a name="habracut"></a><br><br><h2>  Algorithm </h2><br><br>  The source data is given in two lists. <img src="https://habrastorage.org/files/2dc/447/a07/2dc447a07d49470eb91f3d2b2ddfc910.JPG">  where <b>n</b> is the amount of data in the lists. <br><br>  Get the function to determine the coefficients <img src="https://habrastorage.org/files/696/be7/d25/696be7d259304ebfb39d82f2615a6766.JPG"><br><br>  The coefficients a, b can be found from the following system of equations: <img src="https://habrastorage.org/files/2ae/cde/162/2aecde16298e4e8e8fb7983eba5f242b.JPG">  (3) <br><br>  The solution of such a system is not difficult: <br><br><img src="https://habrastorage.org/files/910/249/47a/91024947a07448ed885c3b0914684e82.JPG">  (four), <br><img src="https://habrastorage.org/files/e39/789/c87/e39789c8704346afae131b0ef3e9968f.JPG">  (five). <br><br>  Mean approximation error <img src="https://habrastorage.org/files/018/b08/d38/018b08d385814a4fa8c08f7fa7df33eb.JPG">  according to the formula: <img src="https://habrastorage.org/files/28c/93a/294/28c93a294e804078aa45b5900a23bd02.JPG">  (6) <br><br><h2>  Python code </h2><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python # -*- coding: utf-8 -* import matplotlib.pyplot as plt import matplotlib as mpl mpl.rcParams['font.family'] = 'fantasy' def mnkGP(x,y): #       n=len(x) #     s=sum(y) #   y s1=sum([1/x[i] for i in range(0,n)]) #  1/x s2=sum([(1/x[i])**2 for i in range(0,n)]) #  (1/x)**2 s3=sum([y[i]/x[i] for i in range(0,n)]) #  y/xa= round((s*s2-s1*s3)/(n*s2-s1**2),3) #       b=round((n*s3-s1*s)/(n*s2-s1**2),3)#  b     s4=[a+b/x[i] for i in range(0,n)] #     so=round(sum([abs(y[i] -s4[i]) for i in range(0,n)])/(n*sum(y))*100,3) #    plt.title('  Y='+str(a)+'+'+str(b)+'/x\n  --'+str(so)+'%',size=14) plt.xlabel(' X', size=14) plt.ylabel(' Y', size=14) plt.plot(x, y, color='r', linestyle=' ', marker='o', label='Data(x,y)') plt.plot(x, s4, color='g', linewidth=2, label='Data(x,f(x)=a+b/x') plt.legend(loc='best') plt.grid(True) plt.show() x=[10, 14, 18, 22, 26, 30, 34, 38, 42, 46, 50, 54, 58, 62, 66, 70, 74, 78, 82, 86] y=[0.1, 0.0714, 0.0556, 0.0455, 0.0385, 0.0333, 0.0294, 0.0263, 0.0238, 0.0217, 0.02, 0.0185, 0.0172, 0.0161, 0.0152, 0.0143, 0.0135, 0.0128, 0.0122, 0.0116] #      y=1/x mnkGP(x,y)</span></span></code> </pre> <br><h2>  Result </h2><br><img src="https://habrastorage.org/files/ecd/b80/f89/ecdb80f89e194d3fbd7cf3b04ce99dfc.JPG"><br><br>  We took data from the equilateral hyperbola function, so we got a = 0, b = 10 and an absolute error of 0.004%.  So the function mnkGP (x, y) works correctly and can be inserted into the application program. <br><br><h2>  Approximation for power functions </h2><br>  For this, Python has a scipy module, but it does not support the negative degree d of the polynomial.  Consider the implementation code for the approximation of data by a polynomial. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python # coding: utf8 import scipy as sp import matplotlib.pyplot as plt def mnkGP(x,y): d=2 #   fp, residuals, rank, sv, rcond = sp.polyfit(x, y, d, full=True) #  f = sp.poly1d(fp) #   print(' -- a %s '%round(fp[0],4)) print('-- b %s '%round(fp[1],4)) print(' -- c %s '%round(fp[2],4)) y1=[fp[0]*x[i]**2+fp[1]*x[i]+fp[2] for i in range(0,len(x))] #   a*x**2+b*x+c so=round(sum([abs(y[i]-y1[i]) for i in range(0,len(x))])/(len(x)*sum(y))*100,4) #   print('Average quadratic deviation '+str(so)) fx = sp.linspace(x[0], x[-1] + 1, len(x)) #    len(x)     plt.plot(x, y, 'o', label='Original data', markersize=10) plt.plot(fx, f(fx), linewidth=2) plt.grid(True) plt.show() x=[10, 14, 18, 22, 26, 30, 34, 38, 42, 46, 50, 54, 58, 62, 66, 70, 74, 78, 82, 86] y=[0.1, 0.0714, 0.0556, 0.0455, 0.0385, 0.0333, 0.0294, 0.0263, 0.0238, 0.0217, 0.02, 0.0185, 0.0172, 0.0161, 0.0152, 0.0143, 0.0135, 0.0128, 0.0122, 0.0116] #      y=1/x mnkGP(x,y)</span></span></code> </pre><br><h2>  Result </h2><br><br><img src="https://habrastorage.org/files/eb4/77e/250/eb477e2504b7482db97f608a81b3f6de.JPG"><br>  As follows from the graph, when the parabola approximates the data varying in hyperbola, the average error increases, and the free term of the quadratic equation vanishes. <br><br>  The resulting functions will be used to analyze the laws of Zipf (Zipf), but this will be done in the next article. <br><br>  References: <br><br>  1. The laws of Zipf (Zipf) <a href="http://tpl-it.wikispaces.com/%25D0%2597%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD%25D1%258B%2B%25D0%2597%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0%2B%2528%25D0%25A6%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0%2529">tpl-it.wikispaces.com/</a> Laws <a href="http://tpl-it.wikispaces.com/%25D0%2597%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD%25D1%258B%2B%25D0%2597%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0%2B%2528%25D0%25A6%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0%2529">+</a> Zipf <a href="http://tpl-it.wikispaces.com/%25D0%2597%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD%25D1%258B%2B%25D0%2597%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0%2B%2528%25D0%25A6%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0%2529">+%28</a> Zipf <a href="http://tpl-it.wikispaces.com/%25D0%2597%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD%25D1%258B%2B%25D0%2597%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0%2B%2528%25D0%25A6%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0%2529">% 29</a> <br>  2. Zipf's law is.  <a href="http://dic.academic.ru/dic.nsf/ruwiki/24105">dic.academic.ru/dic.nsf/ruwiki/24105</a> <br>  3. The laws of Zipf.  <a href="http://wiki.webimho.ru/%25D0%25B7%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD%25D1%258B-%25D0%25B7%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0">wiki.webimho.ru/zak- zipf</a> <br>  4. Lecture 5. Approximation of functions by the method of least squares.  <a href="http://mvm-math.narod.ru/Lec_PM5.pdf">mvm-math.narod.ru/Lec_PM5.pdf</a> <br>  5. Average approximation error.  <a href="http://math.semestr.ru/corel/zadacha.php">math.semestr.ru/corel/zadacha.php</a> </div><p>Source: <a href="https://habr.com/ru/post/322954/">https://habr.com/ru/post/322954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322942/index.html">Open online courses from ITMO University: March version</a></li>
<li><a href="../322944/index.html">Diagnostics servers FirstDEDIC</a></li>
<li><a href="../322946/index.html">How custom solutions helped save on network infrastructure</a></li>
<li><a href="../322950/index.html">So, we made a 150 GB JVM dump. What's next?</a></li>
<li><a href="../322952/index.html">Translation of an interview with Julian Dragos (Scala)</a></li>
<li><a href="../322956/index.html">Exceptions in Windows x64. How it works. Part 2</a></li>
<li><a href="../322958/index.html">Material UI and A / B tests are outdated - the future is behind adaptive interfaces</a></li>
<li><a href="../322962/index.html">What to expect: US IT trends in 2017 in the government and public sector</a></li>
<li><a href="../322966/index.html">PostgreSQL libpq connection pool</a></li>
<li><a href="../322968/index.html">Carry round, square roll: the story of Javista</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>