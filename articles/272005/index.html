<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Swift! Protocol Oriented</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 No, this is not just another post in the style of ‚ÄúMeet Swift and its possibilities‚Äù, but rather a brief excursion on practical applications ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Swift! Protocol Oriented</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br>  No, this is not just another post in the style of ‚ÄúMeet Swift and its possibilities‚Äù, but rather a brief excursion on practical applications and subtleties, where the protocol-orientation of Apple‚Äôs language makes it possible to do nice and comfortable things. <br><img src="https://habrastorage.org/files/7ac/a32/9a8/7aca329a842540f996c17da3272d3d68.png" alt="image"><br><a name="habracut"></a><br><br>  A special greeting to those who looked under the habr-kat.  Recently, a lot had to be developed on `Swift`, at the same time there is a lot of baggage on object C and some desire to express some things with code that I understood much easier and more elegantly can be implemented in a new language. <br><br>  <b>Attention</b> : the article is not a detailed teaching material, but presents practical points that impressed me personally and I decided to share them, probably, to most readers they seem familiar, so who wants to add something - ask in the comments. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>What to expect in this article?</b> </h4><br><ul><li>  A couple of introductory sentences (plus a small useful library) </li><li>  We decorate the additional behavior of the class with the Extension (some code) </li><li>  Create a reusable element using the protocol and default implementation (a lot of code) </li><li>  Protocols and enum - can be convenient (medium code) </li></ul><br><h4>  <b>What is the power of protocols?</b> </h4><br>  First of all, as everyone knows, the protocol mechanism allows one to implement multiple inheritance of different types of protocols.  Inheritance limits us to the fact that in the chain of heirs at the nth step one cannot ‚Äúinfuse‚Äù or ‚Äúadd‚Äù a new common behavior with some other object. <br>  Secondly, in Swift it is possible to add default implementation (default implementation) for the specified protocol.  In this case, the protocol may have several default implementations depending on the class or type of the object that inherits it. <br>  Third, the protocol can be inherited from the protocol. <br>  Fourth, protocols can be inherited not only by classes (Class), but structures (Struct) and enumerations (Enum). <br>  Fifth, the protocols can add properties. <br>  Sixth, you can add a default implementation for system protocols, and, if desired, override them in a particular class. <br>  In conclusion, I will add that the protocols allow you to make the code reusable in different classes and structures.  You can implement frequent tasks in them and connect them as decorators to those files where they are needed. <br>  For example, in each project there is a need to process a click on <i>UIView</i> , so that each time you do not write extra code, make your class <i>Tappable</i> (code is <a href="https://cocoapods.org/pods/STP">here</a> ) <br>  Personally, I lack some convention in the inheritance of the protocol so that the inherited methods and properties are clearly visible (I heard this in Ruby): <br><br><pre><code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FCActionProtocol</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> actionButton: <span class="hljs-type"><span class="hljs-type">UIButton!</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showActionView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FCController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FCActionProtocol</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> actionButton: <span class="hljs-type"><span class="hljs-type">UIButton!</span></span> <span class="hljs-comment"><span class="hljs-comment">// FCActionProtocol convenience func showActionView() {} }</span></span></code> </pre> <br>  Here it would be desirable, that <i>actionButton</i> and <i>showActionView () were</i> substituted in automatically generated area. <br>  I will wait with Swift 3.0 <br><br><h4>  <b>Decorate additional class behavior with the Extension</b> </h4><br>  So, from theory to practice: life case number 1. <br>  Imagine that we have logic on the view cycle of the controller and logic on the transfer of the model to the view.  Suddenly, we have a new controller extension, where we need to fit the logic for displaying the mail client.  With protocols, this is easy: <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MyViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UIViewController</span></span></span><span class="hljs-class"> { // a lot of code here } extension </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MyViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MFMailComposeViewControllerDelegate</span></span></span><span class="hljs-class"> { func showMailController() { let mailComposeViewController = configuredMailComposeViewController() if </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MFMailComposeViewController</span></span></span><span class="hljs-class">.canSendMail() { self.presentViewController(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mailComposeViewController</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">animated</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">completion</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nil</span></span></span><span class="hljs-class">) } } func configuredMailComposeViewController() -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MFMailComposeViewController</span></span></span><span class="hljs-class"> { let controller = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MFMailComposeViewController</span></span></span><span class="hljs-class">() controller.mailComposeDelegate = self return controller // customize and set it here } // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MARK</span></span></span><span class="hljs-class">: - </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MFMailComposeViewControllerDelegate</span></span></span><span class="hljs-class"> func mailComposeController(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">controller</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MFMailComposeViewController</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">didFinishWithResult</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">result</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MFMailComposeResult</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSError</span></span></span><span class="hljs-class">?) {} }</span></span></code> </pre><br>  Very pleased that, unlike obj-c in Swift, you can specify new inherited protocols in the extension of the class <i>MyViewController</i> and implement their behavior. <br><br><h4>  <b>Create a reusable element using the protocol and default implementation</b> </h4><br>  Case ‚Ññ2: recently in the application on two screens there was the same button, which led to the same scenario - showing an actionSheet with actions, one of which showed an email client.  The technical task was to implement the protocol with implementation and all the logic inside, so that the degree of complexity of its connection and dependencies was minimal.  Here is the code in the project: <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FCActionProtocol</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> actionButton: <span class="hljs-type"><span class="hljs-type">UIButton!</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> delegateHandler: <span class="hljs-type"><span class="hljs-type">FCActionProtocolDelegateHandler!</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">mutating</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showActionSheet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showMailController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FCActionProtocolDelegateHandler</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MFMailComposeViewControllerDelegate</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> delegate: <span class="hljs-type"><span class="hljs-type">FCActionProtocol!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(delegate: <span class="hljs-type"><span class="hljs-type">FCActionProtocol</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.delegate = delegate } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mailComposeController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(controller: MFMailComposeViewController, didFinishWithResult result: MFMailComposeResult, error: NSError?)</span></span></span></span> { controller.dismissViewControllerAnimated(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FCActionProtocol</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">mutating</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showActionSheet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { delegateHandler = <span class="hljs-type"><span class="hljs-type">FCActionProtocolDelegateHandler</span></span>(delegate: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> actionController = <span class="hljs-type"><span class="hljs-type">UIAlertController</span></span>(title: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, message: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, preferredStyle: .<span class="hljs-type"><span class="hljs-type">ActionSheet</span></span>) actionController.addAction(<span class="hljs-type"><span class="hljs-type">UIAlertAction</span></span>(title: <span class="hljs-type"><span class="hljs-type">NSLocalizedString</span></span>(<span class="hljs-string"><span class="hljs-string">"ActionClear"</span></span>, comment: <span class="hljs-string"><span class="hljs-string">""</span></span>), style: .<span class="hljs-type"><span class="hljs-type">Default</span></span>) { (action) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> }) actionController.addAction(<span class="hljs-type"><span class="hljs-type">UIAlertAction</span></span>(title: <span class="hljs-type"><span class="hljs-type">NSLocalizedString</span></span>(<span class="hljs-string"><span class="hljs-string">"ActionWriteBack"</span></span>, comment: <span class="hljs-string"><span class="hljs-string">""</span></span>), style: .<span class="hljs-type"><span class="hljs-type">Default</span></span>) { (action) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.showMailController() }) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> controller = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>? <span class="hljs-type"><span class="hljs-type">UIViewController</span></span> { controller.presentViewController(actionController, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) {} } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showMailController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-type"><span class="hljs-type">MFMailComposeViewController</span></span>.canSendMail() { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> controller = <span class="hljs-type"><span class="hljs-type">MFMailComposeViewController</span></span>() controller.mailComposeDelegate = delegateHandler (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>! <span class="hljs-type"><span class="hljs-type">UIViewController</span></span>).navigationController!.presentViewController(controller, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) } } }</code> </pre><br>  <b>Attention!</b>  The idea of ‚Äã‚Äãthe code is that there is the <i>FCActionProtocol</i> protocol, which includes a button, ( <i>actionButton</i> ) by clicking on which a sheet with actions is shown ( <i>showActionSheet</i> ).  Inside, by clicking on the sheet item, the mail client ( <i>showMailController</i> ) should appear.  To ensure that the logic and processing of this call is not implemented in a class that inherits our protocol, we do default implementation inside using some <i>delegate delegate delegate</i> , which is created inside our extension, and the delegate methods of the email client are processed by an instance of the <i>FCActionProtocolDelegateHandler</i> class. <br><br>  As a result, the complexity of adding this reusable action list is as follows: <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FCMyController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FCActionProtocol</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> actionButton: <span class="hljs-type"><span class="hljs-type">UIButton!</span></span> <span class="hljs-comment"><span class="hljs-comment">// convenience FCActionProtocol var delegateHandler: FCActionProtocolDelegateHandler! // convenience FCActionProtocol }</span></span></code> </pre><br>  All the logic inside.  We only need to initialize and add a button.  In my opinion, it turned out beautifully and succinctly. <br><br><h4>  <b>Protocols and enum - it can be convenient</b> </h4><br>  Life case number 3: our team did the online ticket sales service.  The mobile client communicates closely with the server and there are different scenarios in which calls are made to the API.  Let's divide them conditionally into search, ticket booking and payment.  In each of these processes, an error may occur (on the server side, client, communication protocol, data validation, and so on).  If while booking or searching the 500th from the server still does not bear anything terrible, then, for example, when paying, the data from the internal server could already go to the payment gateway and the client cannot simply show an error, while his money could be debited from the banking cards. <br>  Here the protocols can allow you to create quite elegant code: <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Critical</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">criticalStatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; (critical: <span class="hljs-type"><span class="hljs-type">Bool</span></span>, message: <span class="hljs-type"><span class="hljs-type">String</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Search</span></span>(code: <span class="hljs-type"><span class="hljs-type">Int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Booking</span></span>(code: <span class="hljs-type"><span class="hljs-type">Int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Payment</span></span>(code: <span class="hljs-type"><span class="hljs-type">Int</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Critical</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">criticalStatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; (critical: <span class="hljs-type"><span class="hljs-type">Bool</span></span>, message: <span class="hljs-type"><span class="hljs-type">String</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .<span class="hljs-type"><span class="hljs-type">Payment</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> code) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> code == <span class="hljs-number"><span class="hljs-number">500</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"Please contact us, because your payment could proceed"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"Something went wrong. Please try later."</span></span>) } } }</code> </pre><br>  Now we pull our code and estimate how bad everything is: <br><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-keyword"><span class="hljs-keyword">error</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span>.Payment(code: <span class="hljs-number"><span class="hljs-number">500</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">error</span></span>.criticalStatus().critical { print(<span class="hljs-string"><span class="hljs-string">"callcenter will solve it"</span></span>) }</code> </pre><br>  It is a pity that in reality the project represented a huge reservoir of objective-c with a bunch of hacks for compatibility with Swift. <br>  I hope that the following projects can be implemented using all the features of the language. <br><br>  <b>Ps</b> I hope someone who is a beginner will be interested in Swift and the development approach using protocols.  Maybe someone from the middle will mark for himself a couple of techniques that he did not use.  And seniors will not criticize and share in the comments a couple of their secrets and developments.  Thanks to all. </div><p>Source: <a href="https://habr.com/ru/post/272005/">https://habr.com/ru/post/272005/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271991/index.html">Covering graphs in software testing, part 1</a></li>
<li><a href="../271993/index.html">Experimental version of PVS-Studio supporting C #</a></li>
<li><a href="../271997/index.html">Configuration management in a software project</a></li>
<li><a href="../271999/index.html">Successful implementation of SIEM. Part 2</a></li>
<li><a href="../272003/index.html">Check Digit by Damme Method</a></li>
<li><a href="../272007/index.html">NextCastle Party 2015: how I showed my game</a></li>
<li><a href="../272009/index.html">About the report of Kirill Tolkachev and Alexander Tarasov about microservices on jug.msk.ru</a></li>
<li><a href="../272011/index.html">Six things you need to know about moving WordPress to JavaScript.</a></li>
<li><a href="../272013/index.html">How many times have I not abandoned the development of my second game</a></li>
<li><a href="../272015/index.html">Paranoid job: disaster recovery / continuity plans, meteorite, zombie apocalypse, 1000 cleaners, portal to hell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>