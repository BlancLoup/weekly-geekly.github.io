<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android Architecture Components. Part 4. ViewModel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The ViewModel component is designed to store and manage the data associated with the view, and at the same time, save us from the problem associated w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android Architecture Components. Part 4. ViewModel</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/d0f/fc8/d97/d0ffc8d97d777a5b13e9b158208679c0.jpg" alt="image"><br><br>  <b>The ViewModel component</b> is designed to store and manage the data associated with the view, and at the same time, save us from the problem associated with the re-creation of activations during such operations as flipping the screen, etc.  It should not be taken as a replacement for onSaveInstanceState, because after the system destroys our activations, for example, when we switch to another application, the ViewModel will also be destroyed and will not save its state.  In general, the ViewModel component can be described as a singleton with a collection of instances of ViewModel classes, which guarantees that it will not be destroyed while there is an active instance of our activity and will free up resources after leaving it (everything is a bit more complicated, but it looks something like this).  It is also worth noting that we can link any number of ViewModel to our Activity (Fragment). <br><br>  The component consists of the following classes: <i>ViewModel, AndroidViewModel, ViewModelProvider, ViewModelProviders, ViewModelStore, ViewModelStores</i> .  The developer will work only with the ViewModel, AndroidViewModel and to get the Spaniard from ViewModelProviders, but for a better understanding of the component, we will look at all the classes superficially. <br><a name="habracut"></a><br>  <b>The ViewModel class</b> itself represents an abstract class, without abstract methods and with one protected onCleared () method.  To implement our own ViewModel, we only need to inherit our class from ViewModel with a constructor without parameters, and that‚Äôs it.  If we need to clear the resources, then we need to override the onCleared () method, which will be called when the ViewModel is not available for a long time and should be destroyed.  As an example, you can recall the previous article about LiveData, and specifically about the observeForever (Observer) method, which requires explicit unsubscribe, and it is appropriate to implement it in the onCleared () method.  It is worth adding that in order to avoid memory leaks, you do not need to refer directly to View or Context Activity from ViewModel.  In general, the ViewModel should be completely isolated from the data view.  In this case, the question arises: How can we notify the presentation (Activity / Fragment) of changes in our data?  In this case, LiveData comes to the rescue, we must store all the editable data using LiveData, if we need, for example, to show and hide the ProgressBar, we can create MutableLiveData and store the show / hide logic in the ViewModel component.  In general, it will look like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyViewModel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewModel</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MutableLiveData&lt;Boolean&gt; showProgress = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MutableLiveData&lt;&gt;();   <span class="hljs-comment"><span class="hljs-comment">//new thread   public void doSomeThing(){       showProgress.postValue(true);       ...       showProgress.postValue(false);   }    public MutableLiveData&lt;Boolean&gt; getProgressState(){       return showProgress;   } }</span></span></code> </pre> <br>  To get a link to our instance of ViewModel, we must use ViewModelProviders: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState);  setContentView(R.layout.activity_main);  <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MyViewModel viewModel = ViewModelProviders.of(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).get(MyViewModel.class);  viewModel.getProgressState().observe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Observer&lt;Boolean&gt;() {      <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>      <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Nullable Boolean aBoolean)</span></span></span><span class="hljs-function"> </span></span>{          <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (aBoolean) {              showProgress();          } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {              hideProgress();          }      }  });  viewModel.doSomeThing(); }</code> </pre> <br>  <b>The AndroidViewModel class</b> , is an extension of the ViewModel, with the only difference - there should be one Application parameter in the constructor.  It is a rather useful extension in cases where we need to use the Location Service or another component that requires the Application Context.  The only difference with it is that we inherit our ViewModel from ApplicationViewModel.  In Activity / Fragment, we initialize it in the same way as the usual ViewModel. <br><br>  <b>The ViewModelProviders class</b> is a four utility method that is called of and returns a ViewModelProvider.  Adapted for working with Activity and Fragment, as well as, with the ability to substitute your implementation of ViewModelProvider.Factory, the default is DefaultFactory, which is a nested class in ViewModelProviders.  So far, there are no other implementations given in the android.arch package. <br><br>  <b>The ViewModelProvider class,</b> actually a class that returns our ViewModel instance.  We will not go deep here, in general, it represents the role of an intermediary with the ViewModelStore, which stores and raises our intats ViewModel and returns it using the get method, which has two signatures get (Class) and get (String key, Class modelClass).  The point is that we can bind several ViewModel to our Activity / Fragment, even of the same type.  The get method returns them by a String key, which by default is configured as: "android.arch.lifecycle.ViewModelProvider.DefaultKey:" + canonicalName <br><br>  <b>The ViewModelStores class</b> is a factory method, remember: The factory method is a pattern that defines the interface for creating an object, but leaves the subclasses a decision on which class to instantiate, in fact, allows the class to delegate instantiation to subclasses.  At the moment, in the android.arch package there is both one interface and one subclass of ViewModelStore. <br><br>  <b>The ViewModelStore</b> class, the class in which all magic resides, consists of put, get, and clear methods.  You don‚Äôt have to worry about them, because we don‚Äôt have to work with them directly, but we can‚Äôt physically get and put, since they are declared as default (package-private) and are therefore visible only inside the package.  But, for general education, consider the device of this class.  The class itself stores the HashMap &lt;String, ViewModel&gt;, the methods get and put, respectively, return by key (according to the one that we form in the ViewModelProvider) or add the ViewModel.  The clear () method will call the onCleared () method on all our ViewModel we added. <br><br>  <i>For an example of working with the ViewModel, let's implement a small application that allows the user to select a point on the map, set a radius and indicate whether a person is in this field or not.</i>  <i>And also giving the opportunity to specify the WiFi network, if the user is connected to it, we will assume that he is in radius, regardless of the physical coordinates.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/423/d71/967/423d71967c7f422cac5e68422eafb538.jpg"></div><br>  First, create two LiveData to track the location and name of the WiFi network: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocationLiveData</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LiveData</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Location</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class">      </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GoogleApiClient</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConnectionCallbacks</span></span></span><span class="hljs-class">,      </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GoogleApiClient</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnConnectionFailedListener</span></span></span><span class="hljs-class">,      </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocationListener</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> UPDATE_INTERVAL = <span class="hljs-number"><span class="hljs-number">1000</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GoogleApiClient googleApiClient;  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LocationLiveData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{      googleApiClient =              <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GoogleApiClient.Builder(context, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)                      .addApi(LocationServices.API)                      .build();  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onActive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      googleApiClient.connect();  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onInactive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (googleApiClient.isConnected()) {          LocationServices.FusedLocationApi.removeLocationUpdates(                  googleApiClient, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);      }      googleApiClient.disconnect();  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onConnected</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle connectionHint)</span></span></span><span class="hljs-function"> </span></span>{          LocationRequest locationRequest = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LocationRequest().setInterval(UPDATE_INTERVAL).setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);          LocationServices.FusedLocationApi.requestLocationUpdates(                  googleApiClient, locationRequest, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onLocationChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Location location)</span></span></span><span class="hljs-function"> </span></span>{      setValue(location);  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onConnectionSuspended</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cause)</span></span></span><span class="hljs-function"> </span></span>{      setValue(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>);  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onConnectionFailed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ConnectionResult connectionResult)</span></span></span><span class="hljs-function"> </span></span>{      setValue(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>);  } }</code> </pre><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NetworkLiveData</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LiveData</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt; </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Context context;  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> BroadcastReceiver broadcastReceiver;  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NetworkLiveData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.context = context;  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepareReceiver</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{      IntentFilter filter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IntentFilter();      filter.addAction(<span class="hljs-string"><span class="hljs-string">"android.net.wifi.supplicant.CONNECTION_CHANGE"</span></span>);      filter.addAction(<span class="hljs-string"><span class="hljs-string">"android.net.wifi.STATE_CHANGE"</span></span>);      broadcastReceiver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BroadcastReceiver() {          <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>          <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onReceive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, Intent intent)</span></span></span><span class="hljs-function"> </span></span>{              WifiManager wifiMgr = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);              WifiInfo wifiInfo = wifiMgr.getConnectionInfo();              String name = wifiInfo.getSSID();              <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (name.isEmpty()) {                  setValue(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>);              } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {                  setValue(name);              }          }      };      context.registerReceiver(broadcastReceiver, filter);  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onActive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onActive();      prepareReceiver(context);  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onInactive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onInactive();      context.unregisterReceiver(broadcastReceiver);      broadcastReceiver = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>;  } }</code> </pre><br>  Now let's go to the ViewModel, since we have a condition that depends on the data received from two LifeData, MediatorLiveData is ideal for us as a holder of the value itself, but since restarting services is not profitable for us, we will subscribe to MediatorLiveData without reference to the life cycle using observeForever.  In the onCleared () method, we implement unsubscribe from it using removeObserver.  In its turn, LiveData will notify about the change MutableLiveData, which will be signed by our presentation. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DetectorViewModel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AndroidViewModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   ,   Repository,      GitHub       private IRepository repository;  private LatLng point;  private int radius;  private LocationLiveData locationLiveData;  private NetworkLiveData networkLiveData;  private MediatorLiveData&lt;Status&gt; statusMediatorLiveData = new MediatorLiveData&lt;&gt;();  private MutableLiveData&lt;String&gt; statusLiveData = new MutableLiveData&lt;&gt;();  private String networkName;  private float[] distance = new float[1];  private Observer&lt;Location&gt; locationObserver = new Observer&lt;Location&gt;() {      @Override      public void onChanged(@Nullable Location location) {          checkZone();      }  };  private Observer&lt;String&gt; networkObserver = new Observer&lt;String&gt;() {      @Override      public void onChanged(@Nullable String s) {          checkZone();      }  };  private Observer&lt;Status&gt; mediatorStatusObserver = new Observer&lt;Status&gt;() {      @Override      public void onChanged(@Nullable Status status) {          statusLiveData.setValue(status.toString());      }  };  public DetectorViewModel(final Application application) {      super(application);      repository = Repository.getInstance(application.getApplicationContext());      initVariables();      locationLiveData = new LocationLiveData(application.getApplicationContext());      networkLiveData = new NetworkLiveData(application.getApplicationContext());      statusMediatorLiveData.addSource(locationLiveData, locationObserver);      statusMediatorLiveData.addSource(networkLiveData, networkObserver);      statusMediatorLiveData.observeForever(mediatorStatusObserver);  } //      LocationService  ,      WiFi network .  private void updateLocationService() {      if (isRequestedWiFi()) {          statusMediatorLiveData.removeSource(locationLiveData);      } else if (!isRequestedWiFi() &amp;&amp; !locationLiveData.hasActiveObservers()) {          statusMediatorLiveData.addSource(locationLiveData, locationObserver);      }  } //     private void initVariables() {      point = repository.getPoint();      if (point.latitude == 0 &amp;&amp; point.longitude == 0)          point = null;      radius = repository.getRadius();      networkName = repository.getNetworkName();  } //,              private void checkZone() {      updateLocationService();      if (isRequestedWiFi() || isInRadius()) {          statusMediatorLiveData.setValue(Status.INSIDE);      } else {          statusMediatorLiveData.setValue(Status.OUTSIDE);      }  }  public LiveData&lt;String&gt; getStatus() {      return statusLiveData;  } //          public void savePoint(LatLng latLng) {      repository.savePoint(latLng);      point = latLng;      checkZone();  }  public void saveRadius(int radius) {      this.radius = radius;      repository.saveRadius(radius);      checkZone();  }  public void saveNetworkName(String networkName) {      this.networkName = networkName;      repository.saveNetworkName(networkName);      checkZone();  }  public int getRadius() {      return radius;  }  public LatLng getPoint() {      return point;  }  public String getNetworkName() {      return networkName;  }  public boolean isInRadius() {      if (locationLiveData.getValue() != null &amp;&amp; point != null) {          Location.distanceBetween(locationLiveData.getValue().getLatitude(), locationLiveData.getValue().getLongitude(), point.latitude, point.longitude, distance);          if (distance[0] &lt;= radius)              return true;      }      return false;  }  public boolean isRequestedWiFi() {      if (networkLiveData.getValue() == null)          return false;      if (networkName.isEmpty())          return false;      String network = networkName.replace("\"", "").toLowerCase();      String currentNetwork = networkLiveData.getValue().replace("\"", "").toLowerCase();      return network.equals(currentNetwork);  }  @Override  protected void onCleared() {      super.onCleared();      statusMediatorLiveData.removeSource(locationLiveData);      statusMediatorLiveData.removeSource(networkLiveData);      statusMediatorLiveData.removeObserver(mediatorStatusObserver);  } }</span></span></code> </pre> <br>  And our presentation: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleActivity</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> PERMISSION_LOCATION_REQUEST = <span class="hljs-number"><span class="hljs-number">0001</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> PLACE_PICKER_REQUEST = <span class="hljs-number"><span class="hljs-number">1</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> GPS_ENABLE_REQUEST = <span class="hljs-number"><span class="hljs-number">2</span></span>;  <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.status)  TextView statusView;  <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.radius)  EditText radiusEditText;  <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.point)  EditText pointEditText;  <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.network_name)  EditText networkEditText;  <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.warning_container)  ViewGroup warningContainer;  <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.main_content)  ViewGroup contentContainer;  <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.permission)  Button permissionButton;  <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.gps)  Button gpsButton;  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DetectorViewModel viewModel;  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LatLng latLng;  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState);      setContentView(R.layout.activity_main);      ButterKnife.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);      checkPermission();  }  <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onRequestPermissionsResult</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> requestCode, @NonNull String[] permissions, @NonNull </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] grantResults)</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onRequestPermissionsResult(requestCode, permissions, grantResults);      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (grantResults[<span class="hljs-number"><span class="hljs-number">0</span></span>] == PackageManager.PERMISSION_GRANTED) {          init();      } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {          showWarningPage(Warning.PERMISSION);      }  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkPermission</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (PackageManager.PERMISSION_GRANTED == checkSelfPermission(              Manifest.permission.ACCESS_FINE_LOCATION)) {          init();      } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {          requestPermissions(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[]{Manifest.permission.ACCESS_FINE_LOCATION}, PERMISSION_LOCATION_REQUEST);      }  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      viewModel = ViewModelProviders.of(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).get(DetectorViewModel.class);      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Utils.isGpsEnabled(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)) {          hideWarningPage();          checkingPosition();          initInput();      } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {          showWarningPage(Warning.GPS_DISABLED);      }  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initInput</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      radiusEditText.setText(String.valueOf(viewModel.getRadius()));      latLng = viewModel.getPoint();      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (latLng == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) {          pointEditText.setText(getString(R.string.chose_point));      } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {          pointEditText.setText(latLng.toString());      }      networkEditText.setText(viewModel.getNetworkName());  }  <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.get_point)  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPointClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{      PlacePicker.IntentBuilder builder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PlacePicker.IntentBuilder();      <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {          startActivityForResult(builder.build(MainActivity.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>), PLACE_PICKER_REQUEST);      } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (GooglePlayServicesRepairableException e) {          e.printStackTrace();      } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (GooglePlayServicesNotAvailableException e) {          e.printStackTrace();      }  }  <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.save)  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveOnClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!TextUtils.isEmpty(radiusEditText.getText())) {          viewModel.saveRadius(Integer.parseInt(radiusEditText.getText().toString()));      }      viewModel.saveNetworkName(networkEditText.getText().toString());  }  <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.permission)  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">permissionOnClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{      checkPermission();  }  <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.gps)  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gpsOnClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{      startActivityForResult(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Intent(android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS), GPS_ENABLE_REQUEST);  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkingPosition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      viewModel.getStatus().observe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Observer&lt;String&gt;() {          <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>          <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Nullable String status)</span></span></span><span class="hljs-function"> </span></span>{              updateUI(status);          }      });  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUI</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String status)</span></span></span><span class="hljs-function"> </span></span>{      statusView.setText(status);  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onActivityResult</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> requestCode, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> resultCode, Intent data)</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (requestCode == PLACE_PICKER_REQUEST) {          <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (resultCode == RESULT_OK) {              Place place = PlacePicker.getPlace(data, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);              updatePlace(place.getLatLng());          }      }      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (requestCode == GPS_ENABLE_REQUEST) {          init();      }  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updatePlace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LatLng latLng)</span></span></span><span class="hljs-function"> </span></span>{      viewModel.savePoint(latLng);      pointEditText.setText(latLng.toString());  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showWarningPage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Warning warning)</span></span></span><span class="hljs-function"> </span></span>{      warningContainer.setVisibility(View.VISIBLE);      contentContainer.setVisibility(View.INVISIBLE);      <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (warning) {          <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> PERMISSION:              gpsButton.setVisibility(View.INVISIBLE);              permissionButton.setVisibility(View.VISIBLE);              <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;          <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GPS_DISABLED:              gpsButton.setVisibility(View.VISIBLE);              permissionButton.setVisibility(View.INVISIBLE);              <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;      }  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideWarningPage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      warningContainer.setVisibility(View.GONE);      contentContainer.setVisibility(View.VISIBLE);  } }</code> </pre> <br>  In general, we subscribe to MutableLiveData using the getStatus () method from our ViewModel.  We also work with it to initialize and save our data. <br><br>  There are also several checks added here, such as RuntimePermission and a GPS status check.  As you can see, the code in the Activity turned out to be quite extensive, in the case of a complex UI, Google recommends looking towards the creation of the presenter (but this may be overkill). <br><br>  The example also used such libraries as: <br><br><pre> <code class="java hljs">compile <span class="hljs-string"><span class="hljs-string">'com.jakewharton:butterknife:8.6.0'</span></span> compile <span class="hljs-string"><span class="hljs-string">'com.google.android.gms:play-services-maps:11.0.2'</span></span> compile <span class="hljs-string"><span class="hljs-string">'com.google.android.gms:play-services-location:11.0.2'</span></span> compile <span class="hljs-string"><span class="hljs-string">'com.google.android.gms:play-services-places:11.0.2'</span></span> annotationProcessor <span class="hljs-string"><span class="hljs-string">'com.jakewharton:butterknife-compiler:8.6.0'</span></span></code> </pre> <br>  Full listing: <a href="https://github.com/kb2fty7/Android-Architecture-Components/tree/viewmodel">here</a> <br><br>  Useful links: <a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html">here</a> and <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html">here</a> <br><br>  <a href="https://habrahabr.ru/post/332562/">Android Architecture Components.</a>  <a href="https://habrahabr.ru/post/332562/">Part 1. Introduction</a> <br>  <a href="https://habrahabr.ru/post/332718/">Android Architecture Components.</a>  <a href="https://habrahabr.ru/post/332718/">Part 2. Lifecycle</a> <br>  <a href="https://habrahabr.ru/post/333890/">Android Architecture Components.</a>  <a href="https://habrahabr.ru/post/333890/">Part 3. LiveData</a> <br>  <a href="https://habrahabr.ru/post/334942/">Android Architecture Components.</a>  <a href="https://habrahabr.ru/post/334942/">Part 4. ViewModel</a> </div><p>Source: <a href="https://habr.com/ru/post/334942/">https://habr.com/ru/post/334942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334932/index.html">The second Hackfest in the history of ReactOS will begin on August 14, 2017</a></li>
<li><a href="../334934/index.html">Security Week 31: WannaCry fighter arrested in the US, Svpeng got a new chip, Cisco patch 15 holes</a></li>
<li><a href="../334936/index.html">How did we fix our process and become less distracted</a></li>
<li><a href="../334938/index.html">How to check your site for the integrity of the content: does the client see what they should?</a></li>
<li><a href="../334940/index.html">Oil price fluctuations: is algorithmic trading to blame?</a></li>
<li><a href="../334944/index.html">37 reasons why your neural network is not working</a></li>
<li><a href="../334948/index.html">Look up from the bottom or Ubuntu Server for the developer of electronics. Part 1</a></li>
<li><a href="../334950/index.html">Linux processes in Bash man</a></li>
<li><a href="../334952/index.html">Server side rendering on Vue.js</a></li>
<li><a href="../334954/index.html">Dream job hunt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>