<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Object tuples in Java and their collections</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quite often in practice it is necessary to use such constructions as ‚Äúpair‚Äù ( Pair<First, Second> ), less often ‚Äútrinar‚Äù objects ( Triplet<First, Seco...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Object tuples in Java and their collections</h1><div class="post__text post__text-html js-mediator-article"> Quite often in practice it is necessary to use such constructions as ‚Äúpair‚Äù ( <code>Pair&lt;First, Second&gt;</code> ), less often ‚Äútrinar‚Äù objects ( <code>Triplet&lt;First, Second, Third&gt;</code> ) and longer chains of associated objects.  In this connection, I always wondered why in the JDK (in <code>java.lang.*</code> Or <code>java.util.*</code> ) Until now there is no standard <code>Pair&lt;First, Second&gt;</code> or longer structures.  I think many Java programmers have their own pair implementation.  I am not an exception. <br><br>  And once again stumbling upon the need to work with a large number of different tuples, I decided to tackle this problem systematically.  He came up with the name of the project, determined the goals and after the experiments that took some time, laid out the code (git: //github.com/telesik/rumba.git). <br><br>  What I wanted to achieve: <br><ul><li>  A convenient construction is needed (let's call it a <b>tuple</b> ) to associate several objects, the types of which would be determined from the position in the resulting tuple; </li><li>  The tuple must be unlimited in length and type; </li><li>  Element types should be relatively controllable (at least limited to generics); </li><li>  Description of the structure of the tuple should be simple; </li></ul><a name="habracut"></a><br><h3>  Appearance of a tuple </h3><br>  And now the <code>Cortege</code> interface was <code>Cortege</code> : <br><pre> <code class="hljs ruby">public interface Cortege&lt;V, T extends Cortege&gt; { T setValue(V value); T nextElement(); &lt;Vi&gt; Vi getValue(int index) throws ClassCastException; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> be careful with types. Type is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> bounded int getDeep(); &lt;Vi&gt; void setValue(int index, Vi value); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> be careful with types. Type is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> bounded Cortege&lt;V, T&gt; setValues(Object... values); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> be careful with types. Type is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> bounded!!! V getValue(); static abstract <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">End</span></span></span><span class="hljs-class">&lt;V, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cortege</span></span></span><span class="hljs-class">&lt;V, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cortege</span></span></span><span class="hljs-class">&lt;V, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; { } }</span></span></code> </pre><br>  The figure below clearly shows the mechanism for describing tuples of arbitrary length and element types. <br><img src="https://habrastorage.org/storage2/9a0/226/8f8/9a02268f8b412277f8a2bcd16111042b.png" alt="image"><br>  Fig.  1. The mechanism for describing tuples of arbitrary length and element types 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But what is a ‚Äúbare‚Äù interface if there is not a single implementation?  There is such!  Her name is <code>CortegeChain</code> .  The presence of the word Chain in the title is due to the way in which the elements in the tuple are stored.  I assume and hope that in the future there will be other implementations optimized for various types of use. <br>  In the implementation of <code>CortegeChain</code> I did not set specific optimization goals in terms of memory usage or speed.  The main task that I wanted to solve was to try the idea itself, to find weak points, to identify the obvious and not obvious opportunities opening up for the developer. <br><br><h3>  Examples of using </h3><br>  I will go directly to the illustrative examples of use: <br><br><pre> <code class="hljs pgsql">//   : Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt; cortegeLS = CortegeChain.<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre><br>  Attention should be paid to the argument of the create method.  Due to the fact that in Java, generics exist only at the compilation stage, and I didn‚Äôt find any ‚Äúlegitimate‚Äù methods at runtime :(, I had to pay for it at such a price. The essence of this parameter is the depth declaration of the created tuple. But since the developer usually knows the number of elements, the need to specify this parameter should not cause big problems. <br><br>  <i>Note: But still, if someone can offer their solution to this problem with the parameter - I will be extremely grateful.</i> <br><br>  So an example <br><pre> <code class="hljs pgsql">//    // <span class="hljs-number"><span class="hljs-number">1</span></span>-  (    ,   ) cortegeLS.setValue(<span class="hljs-number"><span class="hljs-number">4</span></span>L); cortegeLS.nextElement().setValue("str"); // <span class="hljs-number"><span class="hljs-number">2</span></span>-  (  ,   ) cortegeLS.setValue(<span class="hljs-number"><span class="hljs-number">4</span></span>L).setValue("str"); // <span class="hljs-number"><span class="hljs-number">3</span></span>-  ( ,   ) cortegeLS.setValues(<span class="hljs-number"><span class="hljs-number">4</span></span>L, "str");</code> </pre><br>  Now reading <br><pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/ 1-  (    ,   ) Long valueA = cortegeLS.getValue(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 2-  (    ,   ) String valueB = cortegeLS.nextElement().getValue(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 3-  (    ,   ) Long valueC = cortegeLS.getValue(1); String valueD = cortegeLS.getValue(2);</span></span></code> </pre><br>  What else can be done with a tuple: <br>  1. Get the tuple ‚Äúright‚Äù. <br><pre> <code class="hljs vhdl">Cortege&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt; rightCortegeS = cortegeLS.nextElement(); //   Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span> rightCortegeEnd = cortegeLS.nextElement().nextElement();</code> </pre><br>  2. Get the ‚Äúdepth‚Äù (number of elements in the tuple) <br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> deep = cortegeLS.getDeep();</code> </pre><br>  Perhaps all.  But not all!  :) <br><br><h3>  Tuple collections </h3><br>  I created a tuple for a reason.  Now having such a construction it would be nice to ‚Äútie‚Äù it to a friendly collection family ( <code>java.util.Collection</code> ).  No sooner said than done.  But the banal use of a tuple as an element of the collection is not interesting.  It would be desirable not only to find, delete, modify elements of the collection as a whole, which is given by traditional implementations of the interfaces <code>java.util.Set</code> and <code>java.util.List</code> , but also to search, filter by individual elements of the tuples stored in the collection, modify the entire columns, etc. that is natural for relational tables. <br><br>  So again setting goals: <br><ul><li>  The collection must be compatible with the long-established standard interfaces of the <code>java.util.Collection</code> family (such as <code>java.util.Set</code> and <code>java.util.List</code> ) </li><li>  The implementation should extend the functionality of its counterparts in the world of simple objects (for example, such as <code>java.util.HashSet&lt;T&gt;</code> ); </li><li>  The collection should be easy to search by abstract criteria; </li><li>  It is necessary to realize getting a subset; </li><li>  I would very much like to realize the possibility of creating a view (analogue of <b>view</b> in relational databases) over the collection. <br><ul><li>  the presentation does not ‚Äúown‚Äù the source data, but only filters the original collection according to the criterion </li><li>  filtering should not be one-time, but dynamic.  those.  must be current and reflect the state of the original table.  all inserts, modifications and deletions from the collection should be reflected in its presentation according to the predicate imposed on the <b>view</b> . </li></ul></li></ul><br>  <i>Note: From all that I wanted, it didn‚Äôt work out only to implement the last item ‚Äúview‚Äù (analogue of <b>view</b> in relational databases).</i>  <i>But the work is going on and, perhaps in the near future, the realization of this promising idea will be born.</i> <br><br>  And that's what happened: <br><pre> <code class="hljs xml">public interface CortegeCollection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">extends</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Cortege</span></span></span><span class="hljs-tag">&gt;</span></span> extends Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span>, Iterable<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> { <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> boolean contains(int num, T obj); CortegeCollection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> extract(int num, Object key); CortegeCollection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> extract(Corteges.Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> predicate); // <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">C</span></span></span><span class="hljs-tag">&gt;</span></span> CortegeCollection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> view(int num, Corteges.Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">C</span></span></span><span class="hljs-tag">&gt;</span></span> predicate); T findAny(int num, Object key); T findAny(Corteges.Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> predicate); <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vi</span></span></span><span class="hljs-tag">&gt;</span></span> List<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vi</span></span></span><span class="hljs-tag">&gt;</span></span> getColumnCopy(int num); <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vi</span></span></span><span class="hljs-tag">&gt;</span></span> void fill(int num, Vi value); } public interface CortegeSet<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">extends</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Cortege</span></span></span><span class="hljs-tag">&gt;</span></span> extends CortegeCollection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span>, Set<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> { } public interface CortegeList<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">extends</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Cortege</span></span></span><span class="hljs-tag">&gt;</span></span> extends CortegeCollection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span>, List<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">T</span></span></span><span class="hljs-tag">&gt;</span></span> { }</code> </pre><br><br><img src="https://habrastorage.org/storage2/861/d85/f32/861d85f321180883533d00bea7694864.png" alt="image"><br>  Fig.  2. Topology of tuple collections <br><br><h3>  Examples of using tuple collections </h3><br>  Now, probably, as in the case of the description of <code>Cortege</code> it is <code>Cortege</code> to proceed immediately to the illustrative examples of use: <br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ExampleCollections { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(String[] args) { //   CortegeHashSet CortegeSet&lt;Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;&gt; cortegeHashSetLS = Corteges.newCortegeHashSet(<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (long i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt; cortegeLS = CortegeChain.<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>); cortegeLS.setValue(i).setValue("" + i); cortegeHashSetLS.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(cortegeLS); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Cortege cortege : cortegeHashSetLS) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortege); } cortegeHashSetLS.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(CortegeChain.&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>)); Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt; cortegeIS = CortegeChain.<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortegeHashSetLS.contains(cortegeIS)); cortegeIS.setValue(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>).setValue("3"); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortegeIS); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortegeHashSetLS.contains(cortegeIS)); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortegeHashSetLS.contains(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>L)); Cortege&lt;Long, Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;&gt; cortegeLLS1 = CortegeChain.<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>); Cortege&lt;Long, Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;&gt; cortegeLLS2 = CortegeChain.<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>); Cortege&lt;Long, Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;&gt; cortegeLLS3 = CortegeChain.<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>); CortegeChain&lt;String, CortegeChain&lt;Long, CortegeChain&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;&gt; cortegeSLS = CortegeChain.<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>); cortegeLLS1.setValue(<span class="hljs-number"><span class="hljs-number">1</span></span>L); cortegeLLS1.nextElement().setValue(<span class="hljs-number"><span class="hljs-number">11</span></span>L); cortegeLLS1.nextElement().nextElement().setValue("AAA"); cortegeLLS2.setValue(<span class="hljs-number"><span class="hljs-number">2</span></span>L); cortegeLLS2.nextElement().nextElement().setValue("BBB"); cortegeLLS3.setValue(<span class="hljs-number"><span class="hljs-number">3</span></span>L); cortegeLLS3.nextElement().setValue(<span class="hljs-number"><span class="hljs-number">33</span></span>L); cortegeLLS3.nextElement().nextElement().setValue("AAA"); CortegeHashSet&lt;Cortege&lt;Long, Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;&gt;&gt; cortegeSetLLS = Corteges.newCortegeHashSet(cortegeLLS1.getDeep()); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortegeSetLLS.contains(cortegeLLS1)); cortegeSetLLS.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(cortegeLLS1); cortegeSetLLS.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(cortegeLLS2); cortegeSetLLS.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(cortegeLLS3); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortegeSetLLS.contains(cortegeLLS1)); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Cortege&lt;Long, Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;&gt; cortege : cortegeSetLLS) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortege); } <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortegeSetLLS.contains(<span class="hljs-number"><span class="hljs-number">3</span></span>, "AAA")); cortegeSetLLS.fill(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>L); cortegeSetLLS.fill(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>L); cortegeSetLLS.fill(<span class="hljs-number"><span class="hljs-number">3</span></span>, "XXX"); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Cortege&lt;Long, Cortege&lt;Long, Cortege&lt;String, Cortege.<span class="hljs-keyword"><span class="hljs-keyword">End</span></span>&gt;&gt;&gt; cortege : cortegeSetLLS) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(cortege); } // Collection&lt;Cortege&gt; corteges = cortegeSetLLS.extract(2, "111"); } }</code> </pre><br><br><h3>  Let's sum up </h3><br>  As you can see from the example, it turned out to be a fairly convenient library for storing and manipulating objects with long tuples.  The benefits of the library include: <br><ul><li>  Creating a tuple of arbitrary length is quite simple and reduces only to listing the types of elements constituting the future instance of the tuple. </li><li>  With successive access to the elements of the tuple, the element type is controlled </li><li>  Due to the chosen declaration structure and storage of the tuple, it is possible to get the sub-tuple ‚Äúon the right‚Äù (the <code>nextElement()</code> method) </li></ul><br>  In addition to the Cortege structure itself, there are two types of collections in the library, extending the well-known <code>java.util.Set</code> and <code>java.util.List</code> (respectively, <code>com.rumba.cortege.CortegeSet</code> and <code>com.rumba.cortege.CortegeList</code> ). <br><ul><li>  It is possible to find a tuple or a subset of tuples in a collection by a simple criterion for the equivalence of an element to a reference object (extract (int num, Object key) and findAny (int num, Object key) methods) </li><li>  It is possible to find a tuple or a subset of tuples in the predicate collection (extract (Corteges.Predicate &lt;T&gt; predicate) and findAny (Corteges.Predicate &lt;T&gt; predicate) methods) </li><li>  There is a possibility to get any column with the specified number formed from the elements of the collection tuples. </li><li>  There is a possibility to fill in the whole column of elements. </li></ul><br>  But there are obvious shortcomings due primarily to the inability to ‚Äúget‚Äù to the generics declarations in Java and, as a result, the loss of control over the type when referring to the element of the tuple.  For the sake of justice, I looked for libraries that solve such problems, and found a rather interesting implementation of <a href="http://www.javatuples.org/">javatuples</a> .  In it, the problem of declaring ‚Äúlong‚Äù chains of associated objects is solved by simply going over the ‚Äúreasonable‚Äù from the point of view of the developers of the maximum tuple size. <br><ul><li>  Unit &lt;A&gt; (1 element) </li><li>  Pair &lt;A, B&gt; (2 elements) </li><li>  Triplet &lt;A, B, C&gt; (3 elements) </li><li>  Quartet &lt;A, B, C, D&gt; (4 elements) </li><li>  Quintet &lt;A, B, C, D, E&gt; (5 elements) </li><li>  Sextet &lt;A, B, C, D, E, F&gt; (6 elements) </li><li>  Septet &lt;A, B, C, D, E, F, G&gt; (7 elements) </li><li>  Octet &lt;A, B, C, D, E, F, G, H&gt; (8 elements) </li><li>  Ennead &lt;A, B, C, D, E, F, G, H, I&gt; (9 elements) </li><li>  Decade &lt;A, B, C, D, E, F, G, H, I, J&gt; (10 elements) </li></ul><br><br><h3>  Conclusion </h3><br>  Working on the library, I tried to cover the most typical, and from my point of view, useful tasks that arise when working with tuples and their collections.  Unfortunately, not all plans are implemented, but I hope that a bit of work that was done will be useful to someone.  But the work continues, I hope not in vain. <br>  It would be very interesting to get a constructive fitback for this article and library. <br><br><h4>  useful links </h4><br>  <a href="http://www.javatuples.org/">javatuples</a> <br>  <a href="http://stackoverflow.com/questions/3642452/java-n-tuple-implementation/3642623">quite an interesting attempt to implement</a> <br></div><p>Source: <a href="https://habr.com/ru/post/144176/">https://habr.com/ru/post/144176/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144167/index.html">Detected sources of garbage P2P traffic.</a></li>
<li><a href="../144168/index.html">Inline tests for PHP</a></li>
<li><a href="../144171/index.html">Do not leave problems for self-determination</a></li>
<li><a href="../144173/index.html">Another copter: part one, description and selection of parts</a></li>
<li><a href="../144175/index.html">Geospatial types in SQL Server Reporting Services reports</a></li>
<li><a href="../144178/index.html">[Translation] We simplify the work with the server using selective synchronization in Dropbox</a></li>
<li><a href="../144179/index.html">Study of power consumption and features of the computer in various power saving modes</a></li>
<li><a href="../144180/index.html">Optical Switch with Sound Effect on Arduino</a></li>
<li><a href="../144182/index.html">Object collections in PHP</a></li>
<li><a href="../144183/index.html">Podcast WebProfessionals - Team in web development: one in the field is not a warrior</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>