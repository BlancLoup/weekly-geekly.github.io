<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Other - PHPTAL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To describe this very powerful and at the same time laconic template engine, I simply copy the text from the mana. 
 ¬´PHPTAL system for PHP. PHPTAL su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Other - PHPTAL</h1><div class="post__text post__text-html js-mediator-article">  To describe this very powerful and at the same time laconic template engine, I simply copy the text from the mana. <br>  ¬´PHPTAL system for PHP.  PHPTAL supports TAL, METAL, I18N namespaces ‚Äùand‚Äú PHPTALES ‚Äùis  It defines how XML attribute values ‚Äã‚Äãare handled ¬ª <br><br>  Offered under the LGPL license here <a href="http://phptal.org/">http://phptal.org/</a> . <br><br>  I have been making templates for PHPTAL for about a year now and consider it ‚Äúenchanting‚Äù :).  There are a couple of my patches in the code, so I know the subject from the inside. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Next, I will make a review article from which you will understand for sure that I am not a writer and why I strongly opposed the requests of the authors to ‚Äúreveal the topic‚Äù and I hope at least a little bit to popularize this masterpiece. <br><br><a name="habracut"></a><br><h4>  XML syntax </h4><br><br>  Templates TAL, and PHPTAL, respectively, are also XML documents, cruel and real, and not ‚Äúwhere the angle brackets‚Äù are. <br>  Here you have both entities and CDATA sections and, do not believe, an XML declaration. <br><br>  What is good? <br>  It disciplines - you will never be left with uncovered tags because of which ‚Äúsuddenly‚Äù layout will go, template maker simply will not miss such an outrage. <br>  Probably there is no code editor that does not understand the XML format. <br>  Your coder is not a schoolboy. <br><br>  What is bad? <br>  Your coder is not a schoolboy, yes, I remember that it was in the pros, but now for 10 bucks you do not impose signs in front page <br>  The IE hack implementation can be offensive (at the end one of the examples) <br>  Inline-JS is better designed as a CDATA section, well, or done ‚Äúfor an adult‚Äù in separate js files. <br>  Some people will have to read a book about XML, not sure what is bad. <br><br><h4>  Attributes </h4><br><br>  All the power of TAL is hidden in the attributes, to describe exactly 1 (one) element in the specification, and that, as stated in the speculation ‚Äúis syntactic sugar‚Äù, and you can completely do without it.  Therefore we speak TAL we mean attributes. <br><br>  Than this is good - exactly to everyone, when you get a layout from XHTML layout maker, it is already a TAL template, then it will only be iteratively ‚Äúpull‚Äù it, it is in TAL that ‚Äúpull the pattern‚Äù very accurately describes the process. <br><br>  In the above-mentioned spec, PHPTAL describes as many as 18 service attributes, of which you will never use a good half. <br>  Then I‚Äôll go over very briefly and really important ones - the descriptions will be given by the code: <br><br><h5>  tal: define, tal: content </h5><br><br><pre>   &lt;div tal: define = "global title obj / getTitle; content obj / getContent"&gt;
     &lt;div class = "post_title" tal: content = "title"&gt; Lorem ipsum &lt;/ div&gt;
     &lt;div class = "post_content" tal: content = "content"&gt; Lorem ipsum &lt;/ div&gt;
   &lt;/ div&gt;
</pre><br><br>  Normal constants have a scope limited by the tag in which they are defined, this feature is similar to xslt and avoids intersection by name. <br>  Global constants act on the entire processing flow of a template, I write a stream and not a template, since templates can be inherited and then when processing one, the chain of templates is actually processed. <br>  An example of when global constants strongly ‚Äúdeliver‚Äù is at the end of a topic. <br><br><h5>  tal: condition, tal: repeat, tal: attributes, i18n: translate </h5><br><br><pre>   &lt;div tal: repeat = "post posts" tal: attributes = "class php: repeat.post.odd? 'odd': NULL"&gt;
     &lt;div class = "post_title" tal: content = "post / getTitle"&gt; Lorem ipsum &lt;/ div&gt;
     &lt;div class = "post_content" tal: content = "post / getContent"&gt; Lorem ipsum &lt;/ div&gt;

     &lt;a class="post_cut" tal:condition="post/hasMore" i18n:translate=""&gt; Read more &lt;/a&gt;
   &lt;/ div&gt;
</pre><br><br>  Here is a list of topics with op-based links to ‚Äúmore‚Äù and zebra. <br>  The topic of zebra is revealed in the official mana <a href="http://phptal.org/manual/ru/split/tal-attributes.html">phptal.org/manual/ru/split/tal-attributes.html</a> <br>  When the template engine is fully linked, in this template the text ‚ÄúRead more‚Äù will be translated by the translator (gettext by default) <br><br><h5>  metal: define-macro, metal: use-macro, metal: define-slot, metal: fill-slot </h5><br><br>  These 4 attributes implement template inheritance, then we work with the home.html template that inherits the basic layout common to all: <br><br>  home.html <br><pre> &lt;? xml version = "1.0"?&gt;
   &lt;tal: block metal: fill-slot = "custom-js"&gt;
     &lt;script rel = "stylesheet" src = "/ mootools-1.2-fx.js" type = "text / javascript" /&gt;
   &lt;/ tal: block&gt;


   &lt;tal: block metal: fill-slot = "custom-css"&gt;
     &lt;style type = "text / css" media = "all"&gt;
       @import url (&lt;tal: block tal: content = "/ main.css" /&gt;);
     &lt;/ style&gt;
   &lt;/ tal: block&gt;

   &lt;tal: block metal: use-macro = "layout / page"&gt;
     &lt;body metal: fill-slot = "body" tal: define = "global title post / getTitle"&gt;
       &lt;div tal: content = "post / getContent"&gt; Post content text &lt;/ div&gt;
     &lt;/ body&gt;
   &lt;/ tal: block&gt;
</pre><br><br>  layout.html <br><pre> &lt;? xml version = "1.0" encoding = "utf-8"?&gt;
 &lt;! DOCTYPE html PUBLIC "- // W3C // DTD XHTML 1.0 Strict // EN" ‚Äúhttp://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;

 &lt;html metal: define-macro = "page" xmlns = "http://www.w3.org/1999/xhtml"&gt;

   &lt;head&gt;
     &lt;title tal: content = "title | default"&gt; PHPTAL global title example &lt;/ title&gt;
    
     &lt;tal: block metal: define-slot = "meta"&gt;
       &lt;meta http-equiv = "Content-Type" content = "text / html; charset = UTF-8" /&gt;
       &lt;meta name = "generator" content = "velocity framework" tal: attributes = "content generator | default" /&gt;
       &lt;meta name = "description" tal: condition = "exists: description" content = "$ {description}" /&gt; 
       &lt;meta name = "keywords" tal: condition = "exists: keywords" content = "$ {keywords}" /&gt;
     &lt;/ tal: block&gt;

     &lt;script rel = "stylesheet" src = "/ mootools-1.2-core.js" type = "text / javascript" /&gt;

     &lt;tal: block metal: define-slot = "custom-js" /&gt;

     &lt;style type = "text / css" media = "all"&gt;
       @import url (&lt;tal: block tal: content = "/ main.css" /&gt;);
     &lt;/ style&gt;

     &lt;tal: block metal: define-slot = "custom-css" /&gt;
	    
   &lt;/ head&gt;
  
   &lt;body metal: define-slot = "body"&gt; Lorem ipsum &lt;/ body&gt;
 &lt;/ html&gt;
</pre><br><br><h5>  Still </h5><br><br>  The 10 attributes described are enough to get you started, the remaining 8 are well described in man <br><br><h4>  Teyla </h4><br><br>  As you can see above, expressions are written in a special format, a common expression format: <br><br>  <code>prefix:</code> , if the prefix is ‚Äã‚Äãnot defined it is considered equal to "path" <br><br>  In PHPTAL, 5 types of expressions are defined (path, php, string, not, exists), in the original TAL php is replaced with python. <br>  Each type of tails, namely, the so-called expressions, defines the format, everything is well described in mana, I‚Äôll dwell only on the base path. <br>  The tail path is made very similar to the XPath syntax, and it will be very convenient to those familiar with it, as the expression: <br><br>  <code>obj/getObject2/path</code> equivalent to <code>$obj-&gt;getObject2()-&gt;path;</code>  . <br><br>  The path analyzer automatically tries to call the corresponding methods, members and keys of arrays in order of priority from mana. <br><br>  PHPTAL presumes that the developer will finish writing the emails he needs, thereby expanding the functionality. <br><br><h4>  Tricks and examples </h4><br><br><h5>  Global constants </h5><br><br>  Global constants are very convenient, the most typical example is the title of the page.  Now you can define it anywhere. <br><br>  layout.html <br><br><pre> &lt;? xml version = "1.0" encoding = "utf-8"?&gt;
 &lt;! DOCTYPE html PUBLIC "- // W3C // DTD XHTML 1.0 Strict // EN" ‚Äúhttp://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;

 &lt;html metal: define-macro = "page" xmlns = "http://www.w3.org/1999/xhtml"&gt;

   &lt;head&gt;
     &lt;title tal: content = "title | default"&gt; PHPTAL global title example &lt;/ title&gt;
    
     &lt;tal: block metal: define-slot = "meta"&gt;
       &lt;meta http-equiv = "Content-Type" content = "text / html; charset = UTF-8" /&gt;
       &lt;meta name = "generator" content = "velocity framework" tal: attributes = "content generator | default" /&gt;
       &lt;meta name = "description" tal: condition = "exists: description" content = "$ {description}" /&gt; 
       &lt;meta name = "keywords" tal: condition = "exists: keywords" content = "$ {keywords}" /&gt;
     &lt;/ tal: block&gt;
	    
   &lt;/ head&gt;
  
   &lt;body metal: define-slot = "body"&gt;
 &lt;/ html&gt;
</pre><br><br>  home.html <br><pre> &lt;? xml version = "1.0"?&gt;

 &lt;tal: block metal: use-macro = "layout / page"&gt;
   &lt;body metal: fill-slot = "body" tal: define = "global title post / getTitle"&gt;
     Page body
   &lt;/ body&gt;
 &lt;/ tal: block&gt;
</pre><br><br>  In the specified example, the home.html template is used for output, and the layout.html for a long time is used for uniform border, but even in this case you can control it, in particular, dynamically output the header, for example, by the name of the blog post from the database <br><br><h5>  Inherited Output of Connected Resources </h5><br><br>  This example somewhat echoes the previous one, but is implemented differently, for example, you need to be able to add resources in the inherited template (css js to the head section of the layout): <br><br>  layout.html <br><br><pre> &lt;? xml version = "1.0" encoding = "utf-8"?&gt;
 &lt;! DOCTYPE html PUBLIC "- // W3C // DTD XHTML 1.0 Strict // EN" ‚Äúhttp://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;

 &lt;html metal: define-macro = "page" xmlns = "http://www.w3.org/1999/xhtml"&gt;

   &lt;head&gt;
     &lt;script rel = "stylesheet" src = "/ mootools-1.2-core.js" type = "text / javascript" /&gt;

     &lt;tal: block metal: define-slot = "custom-js" /&gt;

     &lt;style type = "text / css" media = "all"&gt;
       @import url (&lt;tal: block tal: content = "/ main.css" /&gt;);
     &lt;/ style&gt;
     &lt;tal: block metal: define-slot = "custom-css" /&gt;
	    
   &lt;/ head&gt;
  
   &lt;body metal: define-slot = "body"&gt;
 &lt;/ html&gt;
</pre><br><br>  home.html <br><pre> &lt;? xml version = "1.0"?&gt;

 &lt;tal: block metal: use-macro = "layout / page"&gt;
   &lt;tal: block metal: fill-slot = "custom-js"&gt;
     &lt;script rel = "stylesheet" src = "/ mootools-1.2-fx.js" type = "text / javascript" /&gt;
   &lt;/ tal: block&gt;


   &lt;tal: block metal: fill-slot = "custom-css"&gt;
     &lt;style type = "text / css" media = "all"&gt;
       @import url (&lt;tal: block tal: content = "/ main.css" /&gt;);
     &lt;/ style&gt;
   &lt;/ tal: block&gt;

   &lt;body metal: fill-slot = "body"&gt;
     Page body
   &lt;/ body&gt;
 &lt;/ tal: block&gt;
</pre><br><br><h5>  Inline js </h5><br><br><pre> &lt;script type = "text / javascript"&gt;
   // &lt;! [CDATA [
     var $ var = $ {json: var};
     // since this is a CDATA, you can use the angle bracket
     if ($ var &lt;1) {
       // bla .... bla
     }
   //]]&gt;
 &lt;/ script&gt;
</pre><br><br>  Here is an example of how to write JS without fear of official characters. <br>  json: this is my samopisny teyl which maput variable in the JS code :) <br><br><h4>  Documentation </h4><br>  It is not always convenient to use the online version.  Along with the sources of the template engine, the translated percent is delivered to the 50 docbook book, all you have to do is to convert it into a convenient format.  Using the tools available here <a href="http://docbook.sourceforge.net/">http://docbook.sourceforge.net/</a> you can even get chm, and with a certain dexterity and free time and pdf. <br><br><h4>  Performance </h4><br>  PHPTAL, like smarti and many others, generates PHP-runtime code and already works with it, the code is very high quality and not redundant due to this the speed is very, very good - <br>  <a href="http://fabien.potencier.org/article/34/templating-engines-in-php">http://fabien.potencier.org/article/34/templating-engines-in-php</a> </div><p>Source: <a href="https://habr.com/ru/post/76890/">https://habr.com/ru/post/76890/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../76881/index.html">Optimization Freshness - Browser Behavior When Using Data: URI CSS Sprites</a></li>
<li><a href="../76884/index.html">Current IE6 Bugs</a></li>
<li><a href="../76887/index.html">Startup: MindApps Operating Web Platform</a></li>
<li><a href="../76888/index.html">Using the Wifi API in Windows. Get a list of available wireless networks</a></li>
<li><a href="../76889/index.html">Skype: Phone Box Experiment</a></li>
<li><a href="../76891/index.html">Traffic segmentation with _setCustomVar in Google Analytics</a></li>
<li><a href="../76893/index.html">Updated popular Twitter client. TweetDeck now supports LinkedIn.</a></li>
<li><a href="../76894/index.html">Habr still not friendly with Opera?</a></li>
<li><a href="../76895/index.html">Google Wave Desktop Client for Mac OS X</a></li>
<li><a href="../76896/index.html">So that work does not become the enemy: maximum comfort in the workplace with minimum costs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>