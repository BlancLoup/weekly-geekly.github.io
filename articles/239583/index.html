<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Your own AWS. Part 0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day,% username%! 

 Today I will tell you how to collect something vaguely similar to Amazon's EC2 from a file, a handful of servers and such a m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Your own AWS. Part 0</h1><div class="post__text post__text-html js-mediator-article">  Good day,% username%! <br><br>  <s>Today I will tell you how to collect something vaguely similar to Amazon's EC2 from a file, a handful of servers and such a mother.</s> <br>  <i>The article turned out more overview, so you have to break it into several parts</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/251/497/246/251497246cb467448e230ee90c01fe2b.jpg" alt="image"><br>  <i>I blinded you from what was.</i> <br><a name="habracut"></a><br>  This is a demostand, 6 x i5-3570T / 8Gb RAM / scatter all sorts of disks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Somehow, my task was to organize all office services randomly scattered around the zoo of servers and operating systems (I even have OpenBSD running somewhere here).  And so it happened that I had long wanted to look at the clouds, but there was no real test case.  So I decided to learn that now there is something interesting in the world of open-source and whether it can be applied in combat conditions. <br><br>  At the moment, I looked at such solutions as <a href="http://maas.ubuntu.com/">MaaS</a> + <a href="https://juju.ubuntu.com/">Juju</a> named Cannonical, <a href="https://openstack.redhat.com/Main_Page">RDO</a> named RedHat, <a href="http://theforeman.org/">Foreman</a> with a plugin and <a href="https://software.mirantis.com/key-related-openstack-projects/project-fuel/">Fuel</a> . <br><br>  Running a little ahead - Fuel for me was the most adequate, but let's go through the order. <br><br><h5>  <b>MaaS</b> </h5><br><img src="https://habrastorage.org/getpro/habr/post_images/d93/72d/436/d9372d436d0f9dd3d82d421a3d37acc9.png" alt="image"><br>  <i>Simple and ascetic design</i> <br><br>  MaaS represents the concept of Metal as a Service, in fact - is engaged in the management of "bare" iron.  You can choose which version of ubunt to install on a particular server, find out its performance characteristics and essentially everything.  Servers can be divided by availability regions.  Also knows how to work with virtuals via libvirtd.  The interesting thing starts when you fasten Juju to all of this - now you can say ‚Äúinstall me a lockout‚Äù and it will select a piece of metal from the list of available metal and roll all the necessary software, like mysql, apache, wordpress / drupal / etc.  Nice, convenient, but when I tried to deploy OpenStack in a similar way, everything was a stake.  Maybe I did something wrong, maybe something wrong did the creators of the juju configs.  But in the end I did not manage to deploy the controller normally on one server.  Under each component of the controller, it wanted a separate piece of hardware.  Those.  Do you need a keystone ?, no question - this is a separate server under the keystone.  And so with everything.  To all this, my dislike of ubuntu as a server OS was added, so the decision had to be postponed. <br><br><h5>  <b>Rdo</b> </h5><br>  I liked this project much more.  His advantage was in one team: <code>packstack --allinone</code> .  That's so easy and simple you get a working OpenStack on one server.  Here you and the controller and work node.  Want customization?  no question - edit the answer-file received after the first launch and run the packstack again, specifying this file as a config.  Easy, pleasant, comfortable.  Only one thing confused - very little documentation.  I had to kill a lot of time to solve strange errors, for example, because I forgot to screw the necessary repository.  In some places even had to edit the documentation on their website, so that it corresponds to the current reality, because a lot of things were written for OpenStack Havana, and since then a lot of things have changed. <br>  Perhaps now, knowing much more about OpenStack and its internal work, I would give a second chance for RDO.  But for a beginner to build something different from the standard configuration of the proposed script will be difficult.  In addition, the system assumes that you have already prepared the server and installed Centos / RedHat minimal on them.  So no PXE and other delights. <br><br><h5>  <b>Foreman</b> </h5><br><img src="https://habrastorage.org/files/672/b1c/905/672b1c90515a4deab5a23077925fe990.png" alt="image"><br>  <i>Thousands of graphs, bosses will be happy</i> <br><br>  By itself, The Foreman is a web interface for managing puppet configs and in this role it is quite convenient and interesting.  But besides this, he can and provisioning.  So, as with MaaS, you can tell the server to boot over the network, and then manage the installation through a convenient webmord.  Having such a convenient solution it was difficult not to come to the idea of ‚Äã‚Äãdeploying a cloud based on it.  And all sorts of craftsmen began to slowly implement it.  Currently there are foreman-installer-staypuft plugin in the nightly builds.  With it, you install both Foreman itself and the necessary plugins.  The convenience of this design is that literally from one point you can install the OS (and both Linux-based and Windows), then distribute the necessary roles and install the necessary set of software.  Or deploy cloud, and again, from the foreman's webmord, assign roles for instances in this cloud.  There is only one significant BUT - nightly assemblies are rather unstable. <br>  Perhaps over time, this decision will be completed and it will be quite production-ready, but at the moment you can only mess around and send bug reports to the developers.  Fortunately, they actively read <a href="https://groups.google.com/forum/">Google-group</a> . <br><br><h5>  <b>Fuel</b> </h5><br><img src="https://habrastorage.org/getpro/habr/post_images/4a9/496/720/4a9496720971c7000fd6e4e7a2ad1bb3.png" alt="image"><br>  <i>They seem to have a designer</i> <br><br>  At the moment, the most perfect solution for deploying cloud from a fairly well-known company Mirantis.  In fact, this is software that is sharpened solely on deploying Cloud.  Like rdo / foreman - he does this with the help of puppet scripts.  Installing controller + 3 compute node takes about 30 minutes, depending on the speed of your screws.  You can create both High availability and non-HA cluster.  He knows how to work with <a href="http://ceph.com/">Ceph</a> out of the box, in version 5.1 they also added network drivers for Mellanox's, which in combination LVM + Infiniband allows using <a href="https://en.wikipedia.org/wiki/Remote_direct_memory_access">RDMA</a> (not yet tested in action, waiting for the switch and network card to arrive).  A huge plus is the large amount of <a href="http://docs.mirantis.com/openstack/fuel/fuel-5.1/">documentation</a> . <br><br>  Next time I will tell you what I actually did with Fuel, a little about ceph features, how to use several hypervisors in one cloud and how to simplify my life by automating everything and everyone.  And if InfiniBand arrives at me, then, perhaps, about the features of his work with ceph and openstack. </div><p>Source: <a href="https://habr.com/ru/post/239583/">https://habr.com/ru/post/239583/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239571/index.html">Microservices - MIF on C ++</a></li>
<li><a href="../239573/index.html">Automated template for front-end projects</a></li>
<li><a href="../239577/index.html">About the special course in school and whether to force children to learn?</a></li>
<li><a href="../239579/index.html">Customize the Vim start screen</a></li>
<li><a href="../239581/index.html">Lots of free * tools from GitHub for students</a></li>
<li><a href="../239585/index.html">GitHub Student Developer Pack - the best development tools for free for students</a></li>
<li><a href="../239595/index.html">Highload 2014, full HA</a></li>
<li><a href="../239597/index.html">Results RailsClub 2014</a></li>
<li><a href="../239601/index.html">Facebook prepares money transfers within the "Messenger"</a></li>
<li><a href="../239603/index.html">Messenger Vkontakte lies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>