<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Read binary files of iOS applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© there are many articles about how Swift / Objective-C runtime works, but for an even more complete understanding of what is happening under t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Read binary files of iOS applications</h1><div class="post__text post__text-html js-mediator-article"><p>  On Habr√© there are many articles about how Swift / Objective-C runtime works, but for an even more complete understanding of what is happening under the hood, it is useful to climb to the lowest level and see how the iOS application code fits into binary files.  In addition, of course, you have to climb under the hood when solving reverse engineering tasks.  In this article, we will discuss the simplest constructs of Objective-C, and we'll talk about Swift and more complex examples in subsequent articles. </p><br><p>  In the first two sections, I tried to highlight practical details in as much detail as possible so that the reader who wants to go through this tutorial does not need to google the ‚Äúwhere to find the binary application file in Xcode‚Äù every two minutes.  Then everything is as informative as possible. </p><br><p> <a href="https://habrahabr.ru/company/solarsecurity/blog/323346/"><img src="https://habrastorage.org/files/ba6/1a9/0a6/ba61a90a69ad416089cc44fb0c45c44d.jpg"><br><br></a> <a name="habracut"></a><br></p><p>  We will study files with the 64-bit arm64 architecture.  The objects of interest in a binary file are 16, 32-bit and 64-bit words written in a row and null-terminated strings, so it will be convenient for me to talk about them in C. For example, I will say that the description of the method in a binary file looks So: </p><br><pre><code class="hljs ruby">struct objc_method { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      : uint64 name_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,    null-terminated ,  , uint64 type; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,    null-terminated ,  , uint64 imp_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    }</code> </pre> <br><p>  In addition to uint64, there are also 32-bit uint32 parameters, 16-bit uint16 parameters, and int64 and int32 are used for relative pointers. </p><br><h1>  Macho-o and hopper </h1><br><p>  IOS application binaries are in Mach-O format.  Get an idea of ‚Äã‚Äãthis format <a href="https://habrahabr.ru/post/115558">here</a> (chapter ‚ÄúMach-O in Brief‚Äù).  One convenient way to view Mach-O files is the Hopper disassembler.  Download the trial version <a href="https://www.hopperapp.com/download.html">here</a> . <br>  To navigate in the hopper, it is convenient to know a couple of shortcuts: <br>  Shift + S - list of sections <br>  G - go to <br>  To any address encountered in the assembler, you can double-click and go to it.  In addition, the hopper parsit many names of different entities, and you can search by them (search string on the left closer to the top). <br>  Sometimes it is useful to look at the unsigned binary code.  To do this, you can select Hexadimal Mode on the above switch: </p><br><img src="https://habrastorage.org/files/027/76b/7c3/02776b7c34944d4391896ad8ee355e9a.png"><br><br><h1>  Xcode Preparation </h1><br><p>  We will write the studied application ourselves.  Let's create for this in Xcode Single View Application on Objective-C.  For convenience, you can leave only the arm64 architecture in Build Settings.  We will build (cmd + B) for the always available Generic iOS Device: </p><br><img src="https://habrastorage.org/files/34c/f6b/1c5/34cf6b1c5c7146e68dd404d3d074604a.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  In principle, you can build it for a real device, but it is not worth it for a simulator, because a binary file will turn out to be very different (different architecture).  So let our application is called InspectedObjc.  For compactness, we will not use .h-files and we will write everything in .m-files.  We create the InspectedObject.m file and set up a class in it with all sorts of varieties (code in the next section). <br>  Do not forget to add it to the goal and build.  We see in the Products folder the finished application: </p><br><img src="https://habrastorage.org/files/46b/74e/80c/46b74e80ce1a4814bb0ff134b701c2eb.png"><br><br><p>  Then Show in Finder and Show Package Contents on InspectedObjc.app.  Ok, now you can feed the binary InspecteObjc file to the hopper. </p><br><h1>  We climb under the hood </h1><br><p>  This part, to some extent, is the explanation of the code <a href="">from here</a> .  So, we will study how the class InspectedObject from this InspectedObject.m is laid out in a binary file: </p><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><span class="hljs-meta"> @protocol InspectedProtocol </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;NSObject&gt;</span></span></span><span class="hljs-meta"> - (int)instanceMethod:(NSString *)string; + (NSNumber *)classMethod:(NSNumber *)number; @end @interface InspectedObject : NSObject</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;InspectedProtocol&gt;</span></span></span><span class="hljs-meta"> { int intIvar; NSString __weak *weakStringIvar; NSNumber *strongNumberIvar; } @property(nonatomic, strong) NSString *strongStringProperty; @property(weak) NSNumber *weakNumberProperty; - (int)instanceMethod:(NSString *)string; + (NSNumber *)classMethod:(NSNumber *)number; @end @implementation InspectedObject - (int)instanceMethod:(NSString *)string { return intIvar; } + (NSNumber *)classMethod:(NSNumber *)number { return @234; } @end</span></span></code> </pre> <br><p>  We look in the binary file.  The objc_classlist section is a list of class addresses: </p><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">objc_classlist</span></span></span><span class="hljs-class"> </span></span>{ uint64 classes[num_classes]; }</code> </pre> <br><p>  In our binary file num_classes = 3. Hopper parses the names, and therefore it is clear that our class is the third: </p><br><img src="https://habrastorage.org/files/464/392/bb5/464392bb575445ea8df809c8a7a587c7.png"><br><p>  The remaining two were generated when creating the Single View Application.  You can identify the required class without parse names, for this you need to get the names yourself.  How to do this is clear from what follows. </p><br><p>  So, go to _OBJC <em>CLASS</em> $ _InspectedObject.  In the hopper, it looks like this: </p><br><img src="https://habrastorage.org/files/37a/66d/48a/37a66d48a51f42d5a53dffd6ddd5d5e8.png"><br><br><p>  which corresponds to the following structure: </p><br><pre> <code class="hljs ruby">struct objc_class { uint64 metaclass_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  ;   <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">methods</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">uint64</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">superclass_addr</span></span></span><span class="hljs-class">;</span></span> /<span class="hljs-regexp"><span class="hljs-regexp">/   ,    -- NSObject uint64 cache_addr; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      __objc_empty_cache,       uint64 vtable_addr; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     0,    uint64 raw_data_addr; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     raw_data (. ) }</span></span></code> </pre> <br><p>  <a href="http://www.sealiesoftware.com/blog/archive/2011/06/17/objc_explain_objc_msgSend_vtable.html">Here</a> you can see what methods roughly lie in the table of virtual functions. </p><br><p>  We will call the instance variables of the class tracing paper with English - ivars (ivar).  Class data: </p><br><pre> <code class="hljs ruby">struct raw_data { uint32 flags; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  ,    uint32 instance_start; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,    ,     uint32 instance_size; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     uint32 reserved; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  , -      uint64 strong_ivar_layout_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  strong  uint64 name_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    uint64 method_list_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   uint64 protocol_list_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   uint64 ivar_list_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   uint64 weak_ivar_layout_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  weak  uint64 properties_list_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   }</code> </pre> <br><p>  Lists of methods, protocols, Ivars, and properties each consist of a 64-bit header and a sequence of some identical structures. </p><br><p>  Let's start with a list of methods.  It starts with a 64-bit header: </p><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">objc_list_header</span></span></span><span class="hljs-class"> </span></span>{ uint32 flags; <span class="hljs-comment"><span class="hljs-comment">//    uint32 size; //   }</span></span></code> </pre> <br><p>  Next in a row are the following type of structure: </p><br><pre> <code class="hljs go"><span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> objc_method { <span class="hljs-keyword"><span class="hljs-keyword">uint64</span></span> name; <span class="hljs-keyword"><span class="hljs-keyword">uint64</span></span> signature; <span class="hljs-comment"><span class="hljs-comment">//   uint64 implementation; //    }</span></span></code> </pre> <br><p>  The signature may look, for example, like this: i24 @ 0: 8 @ 16.  The figures here <a href="http://stackoverflow.com/questions/11527385/how-are-the-digits-in-objc-method-type-encoding-calculated/11527925">do not carry the</a> semantic load, and the rest is decoded <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html">as follows</a> : <br>  i -&gt; int - the return value <br>  @ -&gt; Objective-C object - 1st argument, self <br>  : -&gt; selector - 2nd argument <br>  @ -&gt; Objective-C object - 3rd argument (1st argument after ‚Äú:‚Äù) <br>  Exact Objective-C object types cannot be restored by signature. <br>  Note that this list will include methods that we did not define, namely setters and property getters and the method - [InspectedObject .cxx_destruct], used in ARC (and Objective-C ++). </p><br><p>  The protocol list header consists simply of a 64-bit list size.  Next come the 64-bit protocol addresses that the class satisfies.  The protocol in memory looks like this: </p><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">objc_protocol</span></span></span><span class="hljs-class"> </span></span>{ uint64 isa_addr; <span class="hljs-comment"><span class="hljs-comment">//   ,     ,  0 uint64 name_addr; //   uint64 protocols_addr; //   ,    uint64 instance_methods_addr; uint64 class_methods_addr; uint64 optional_instance_methods_addr; uint64 optional_class_methods_addr; uint64 instance_properties_addr; }</span></span></code> </pre> <br><p>  Uncommented fields correspond to lists arranged similarly to the lists in the class's raw_data. </p><br><p>  All Ivars are written to objc_ivar_list, starting with objc_list_header, and look like this: </p><br><pre> <code class="hljs ruby">struct objc_ivar { uint64 offset_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,      uint64 name_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   uint64 type_addr; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     uint32 alignment; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,  <span class="hljs-number"><span class="hljs-number">8</span></span>,     uint32 size; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   }</code> </pre> <br><p>  It should be noted that this list will also contain synthesized variables (in our case, NSString <em>_strongStringProperty and NSNumber</em> _weakNumberProperty).  With the help of the "layout" fields of strong and weak variables from raw_data, it is possible to understand to which of the class members the object stores strong references and which of which are weak.  The remaining variables will be assigned by value.  Layout is a sequence of numbers from 1 to 15, ending in a zero byte.  Every second number is the number of consecutive (in objc_ivar_list) variables of the same type and every second other number is the interval between blocks of consecutive variables of the same type.  In our case, the variables are in the order of assign-weak-strong-strong-weak.  First there are 2 non-strong variables, and then 2 strong.  Therefore, the layout of strong variables is 0x22.  Layout of weak variables - 0x1121.  Hopper parses the layouts as strings, and therefore shows, for example, in the second case "\ x11!".  To see the original byte sequence, you can go to Hexadimal Mode. </p><br><p>  The property list starts with a header like objc_list_header and consists of the following structures: </p><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">objc_property</span></span></span><span class="hljs-class"> </span></span>{ uint64 name_addr; <span class="hljs-comment"><span class="hljs-comment">//   uint64 attributes_addr; //    }</span></span></code> </pre> <br><p>  We describe the <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtPropertyIntrospection.html">device attribute string</a> .  The line starts with ‚ÄúT‚Äù followed by the property type, then the properties are separated by a comma: </p><br><p>  R - readonly <br>  C - copy <br>  &amp; - retain (strong if using ARC) <br>  N - nonatomic <br>  G - custom getter <br>  S - custom setter <br>  D - dynamic <br>  W - weak <br>  P - property suitable for automatic garbage collection <br>  t - type in the old encoding <br></p><p>  The attribute string ends with the name Ivara of a property with the prefix V. For our property </p><br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">strong</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *strongStringProperty;</code> </pre> <br><p>  it turns out the attribute string "T @ \" NSString \ ", &amp;, N, V_strongStringProperty". </p><br><p>  Note that in the list of properties, as well as in the list of methods, there are some automatically generated: </p><br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> hash; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">copy</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *description; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">copy</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *debug_description; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> superclass; <span class="hljs-comment"><span class="hljs-comment">// ,  ,  "T#"</span></span></code> </pre> <br><p>  It is worth noting that Ivars for these properties are not synthesized. </p><br><p>  For the full picture, it remains to say about class methods (class methods).  These are ordinary methods, but the instance in them is a class and, therefore, they are stored in a class of a class, that is, in a metaclass.  The metaclass also has raw_data and a list of methods.  Putting it all together, we get the following restored class interface: </p><br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InspectedObject</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InspectedProtocol</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> intIvar; <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> __<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> *weakStringIvar; <span class="hljs-built_in"><span class="hljs-built_in">NSNumber</span></span> *strongNumberIvar; <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *_strongStringProperty; <span class="hljs-built_in"><span class="hljs-built_in">NSNumber</span></span> __<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> *_weakNumberProperty; } <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">strong</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *strongStringProperty; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSNumber</span></span> *weakNumberProperty; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> hash; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">copy</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *description; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">copy</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *debug_description; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> superclass; - (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)instanceMethod:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)arg; - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>).cxx_destruct; - (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)strongStringProperty; - (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)setStrongStringProperty:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)arg; - (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)weakNumberProperty; - (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)setWeakNumberProperty:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)arg; + (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)classMethod:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)arg; <span class="hljs-keyword"><span class="hljs-keyword">@end</span></span></code> </pre> <br><p>  Removing automatically generated, we get: </p><br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InspectedObject</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InspectedProtocol</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> intIvar; <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> __<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> *weakStringIvar; <span class="hljs-built_in"><span class="hljs-built_in">NSNumber</span></span> *strongNumberIvar; } <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">strong</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *strongStringProperty; <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSNumber</span></span> *weakNumberProperty; - (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)instanceMethod:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)arg; + (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)classMethod:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)arg; <span class="hljs-keyword"><span class="hljs-keyword">@end</span></span></code> </pre> <br><p>  Total, not counting the loss of information about the exact types of Objective-C objects in the arguments, the interface is restored completely. </p><br><p>  In conclusion, I want to make a small announcement: if you are interested in checking your code with an automatic analyzer, now is the time when this can be done absolutely free.  Here you can read about Solar inCode and get trial access to one free scan. </p><p></p><p></p></div><p>Source: <a href="https://habr.com/ru/post/323346/">https://habr.com/ru/post/323346/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../323334/index.html">Work with CouchDB using the example of the Todo List JavaScript application</a></li>
<li><a href="../323336/index.html">Threat models based on user behavior analysis</a></li>
<li><a href="../323338/index.html">Corporate mobile security and user access control</a></li>
<li><a href="../323342/index.html">What's going on in the world of HR technology: 9 startups and tools that are worth watching</a></li>
<li><a href="../323344/index.html">How we did the ecosystem - a single ‚Äúlanguage‚Äù of design for the front end of dozens of related systems</a></li>
<li><a href="../323350/index.html">Superjob Data Science Meetup (report, presentations, video)</a></li>
<li><a href="../323354/index.html">How do we catch Deadlock `s on PostgreSQL and repair them</a></li>
<li><a href="../323356/index.html">Trial of Wap-Click Subscriptions</a></li>
<li><a href="../323358/index.html">How to make a high-loaded service without knowing the amount of load</a></li>
<li><a href="../323360/index.html">Connection of peripheral modules to MIPSfpga, using the example of the Pmod KYPD keyboard</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>