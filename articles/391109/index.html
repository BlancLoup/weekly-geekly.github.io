<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The history of reverse engineering of a Chinese fitness bracelet</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buy a Chinese bracelet, be disappointed in the official software, write your own! 




 This story has been waiting for its publication for more than ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The history of reverse engineering of a Chinese fitness bracelet</h1><div class="post__text post__text-html js-mediator-article">  Buy a Chinese bracelet, be disappointed in the official software, write your own! <br><br><img src="https://habrastorage.org/files/a19/e52/519/a19e525192024d25973173562f432455.png"><br><a name="habracut"></a><br><br>  <i>This story has been waiting for its publication for more than six months, during this time, much has changed, the firmware and software have been updated, and many of my achievements have become outdated.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Foreword </h4><br>  The active work of a large number of companies in the field of wearable technology and smart watches did not leave my soul at rest.  I saw great potential in wearable devices with a screen.  No, I'm not talking about counting steps and other fitness things, they are definitely cool, but so far, apart from the banal ‚ÄúCongratulations!  You have passed 4km, made 20k + steps! ‚ÄùAnd beautiful graphs of progress and regress, did not invent anything special. <br>  But the fact that I can receive notifications directly to the display on the wrist is convenient.  If I can also somehow interact with it or with something nearby, pressing 1-2-3 buttons is even cooler. <br><br>  Once again, surfing on Aliexpress, I came across an iWown i5 fitness bracelet.  He immediately caught my attention at an incredibly low price (at that time about 800r with free shipping) and the presence of an OLED display.  Carefully reading the description of the seller and customer reviews, I decided to order this miracle. <br><br>  The declared characteristics (translation of the description with aliexpress): <br><ul><li>  Display: OLED </li><li>  Battery: Lithium Polymer </li><li>  Charging: standard USB charging </li><li>  Standby time: more than 72 hours </li><li>  Dimensions: 69.1 * 15.8 * 11.2mm </li><li>  Weight: 18g </li><li>  Material: ABS strap, steel buckle </li><li>  Waterproof: IP55 </li><li>  Operating temperature: -20 ¬∞ C ~ + 45 ¬∞ C </li><li>  Operating temperature of flash media: -40 ¬∞ C ~ + 45 ¬∞ C </li></ul><br><br>  Opportunities: <br><ul><li>  Sports monitor: all the time records steps and movements, distance traveled and calories burned, all figures are calculated based on your weight and height. </li><li>  Sleep quality monitoring: While you sleep, the tracker records the sleep phases, defining deep and fast sleep, 8 groups of silent alarms allow you to wake up without disturbing other family members </li><li>  Bluetooth 4.0 low-power wireless sync </li><li>  Support synchronization with PC via USB </li><li>  IP55 protection: protects your device under heavy rain, but no more </li></ul><br>  and other "far-fetched" pluses in the style of Chinese marketing <br><br>  I was very interested in the ability to track a dream and wake up at the right phase.  Many of my friends bought inexpensive fitness trackers because of this feature and were happy with mi band and similar things.  I always lacked a screen in them, but here it was all-in-one. <br>  In my work, I often have to develop simple applications for Android, I decided that if I don‚Äôt have enough functionality of my native application, I‚Äôll write my own. <br><br>  The package arrived pretty quickly and I immediately rushed to study a wonderful bracelet.  After an hour of playing with the Zeroner app, which you need to put on your Android device according to the instructions, I realized that the functionality is rather poor and sad.  Zeroner, like all other manufacturers, focused on counting steps and calories, displaying beautiful graphics, has a phone search function (I‚Äôll tell you about this later), can notify you of an incoming call, a message on facebook and whatsapp and send notifications from ONE to any selected application , which will be considered as an application for SMS. <br>  The vibration of the bracelet is very controversial, on the forums they write that it is rather weak, some say normal.  For me, it could have been stronger.  The bracelet has a reaction to the gesture ‚ÄúLook at the clock‚Äù, if you look at the bracelet like a wrist watch, raising your arm and bending at the elbow, the screen will automatically turn on and will show the time or the missed notification. <br><br><img src="https://habrastorage.org/files/5ec/f12/b95/5ecf12b954c74a6eab31c27f747daf51.jpg"><br><br>  In general, without hesitation, I decided to write my application, with notifications, vibration and synchronization.  Looking ahead, it took 4 days off and a few long evenings ... <br><br><h4>  To business </h4><br>  Considering that with Bluetooth I am not in the blue-tooth-leg, with the fool I decided to try to intercept the data exchanged between the phone and the bracelet.  To do this, I went to the tab for developers, and turned on the checkbox <i>‚ÄúEnable HCI Bluetooth broadcast log‚Äù</i> .  After enabling this option, the whole dump of Android communication with any Bluetooth devices is added to the file <i>/sdcard/Android/data/btsnoop_hci.log</i> (for different devices the path may change, the file name always seems to be the same). <br>  After downloading WireShark, I began to study the communication logs with the bracelet and saw something similar to this: <br><br><img src="https://habrastorage.org/files/bcc/e1e/5e9/bcce1e5e907549e1993177833e2c9b9c.png"><br><br>  After spending almost two hours studying the logs, making the dependencies, googling the Internet protocols, I realized that this way was not for me. <br><br>  Since my phone interpreted the bracelet as an ordinary BLE device and showed it in the connected devices section, I decided to use the BLE examples from the Android SDK. <br>  Cloning the <a href="https://github.com/googlesamples/android-BluetoothLeGatt">https://github.com/googlesamples/android-BluetoothLeGatt</a> repository, set Android Studio on the navel with the sources, compiled and launched the application.  ( <a href="http://developer.android.com/intl/ru/guide/topics/connectivity/bluetooth-le.html">Link to the description of the Android SDK work with Bluetooth LE</a> ) <br><br>  It turned out as in the pictures from the githab: <br><img src="https://habrastorage.org/files/109/0e2/723/1090e27231624e4eb554b3faf5445f3e.png"><br><br>  By running the scan, the application did not see the device.  It turned out that the native application connecting to the bracelet did not allow BLE to find the device.  Everything was decided by simply removing Zeroner, you could just turn it off, but it‚Äôs safer to pull it down completely. <br><br>  And so, Bluetooth LE is a technology that is built on devices with low power consumption, is used in modern sensors, tags and many other devices.  The basis of this technology is the <b>Generic Attribute Profile (GATT)</b> , a Bluetooth profile that allows you to share small portions of data, <b>"attributes"</b> .  I will not long describe how it all works, on Habr√© and in the internet there is a lot of information that I also had to search through in search of solutions. <br><br>  I hoped that all the data I needed was stored in the characteristics and descriptors of the bracelet, and I would be able to receive and record data without any problems.  I was wrong‚Ä¶ <br><br>  Test BLE application showed me only 4 services: <br>  0000180f-0000-1000-8000-00805f9b34fb <br>  00001800-0000-1000-8000-00805f9b34fb <br>  0000ff20-0000-1000-8000-00805f9b34fb <br>  00001801-0000-1000-8000-00805f9b34fb <br><br>  they had very few characteristics, those that were read, returned void or zeros, and it was useless to write.  But I was inspired by the fact that I was able to connect and get at least some data. <br><br>  Further, I decided that it was impossible to act blindly and decided to dissect the Zeroner application.  Having dug up a couple of online APK decompilers on the Internet, I fed them zeroner.apk and received 2 zip archives at the output. <br>  The first was the JADX version, and the second one contained the result of the apktool operation. <br><br>  Rummaging in the source, I was terrified by the Chinese code <i>(although I often come across it in the form of backends for websites and services, but it never ceases to amaze with its tortuosity and ingenuity, but anyway, it is terribly hard to read)</i> <br>  After much research, I finally came across the <b>WristBandDevice.java</b> file, which was on the com.kunekt / bluetooth path. <br>  In this class, all the work with the device was hidden, but again, an ambush waited for me. <br>  As it turned out later, in the previous firmware of the bracelet more services were used in the characteristics (as I previously assumed), but later, the developers left only 2, one for reading, the second for writing.  All commands are transmitted in one package. <br><br>  Understanding how the package should look like was not so easy, I decided to clearly define what I want from the bracelet in the first place, in order to start tracking function calls.  And I wanted to display custom messages on the bracelet. <br>  Without hesitation, I climbed into <b>com.kunekt / receiver / CallReceiver.java</b> , since incoming calls were displayed very stable and even Russian characters, I decided that this was a great start, considering that I had already come across an incoming call event in Android, an idea of how it might work already. <br><br>  Opening the file, I saw this: <br><div class="spoiler">  <b class="spoiler_title">A large piece of Chinese code</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onReceive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, Intent intent)</span></span></span><span class="hljs-function"> </span></span>{ Log.e(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TAG, <span class="hljs-string"><span class="hljs-string">"+++ ON RECEIVE +++"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (((TelephonyManager) context.getSystemService(<span class="hljs-string"><span class="hljs-string">"phone"</span></span>)).getCallState()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> C08571.POSITION_OPEN <span class="hljs-comment"><span class="hljs-comment">/*0*/</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ZeronerApplication.newAPI) { BackgroundThreadManager.getInstance().addTask(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WriteOneDataTask(context, WristBandDevice.getInstance(context).setPhoneStatue())); } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> BitmapCacheManagementTask.MESSAGE_INIT_DISK_CACHE <span class="hljs-comment"><span class="hljs-comment">/*1*/</span></span>: incomingNumber = intent.getStringExtra(<span class="hljs-string"><span class="hljs-string">"incoming_number"</span></span>); Contact contact = getContact(context, incomingNumber); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!WristBandDevice.getInstance(context).isConnected() || !ZeronerApplication.phoneAlert) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ZeronerApplication.newAPI) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fMdeviceInfo = jsonToFMdeviceInfo(UserConfig.getInstance(context).getDevicesInfo()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fMdeviceInfo.getModel().indexOf(<span class="hljs-string"><span class="hljs-string">"5+"</span></span>) != -<span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (UserConfig.getInstance(context).getFont_lib() == <span class="hljs-number"><span class="hljs-number">1</span></span> || UserConfig.getInstance(context).getFont_lib() == <span class="hljs-number"><span class="hljs-number">2</span></span> || UserConfig.getInstance(context).getSysFont().equalsIgnoreCase(<span class="hljs-string"><span class="hljs-string">"en"</span></span>) || UserConfig.getInstance(context).getSysFont().equalsIgnoreCase(<span class="hljs-string"><span class="hljs-string">"es"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contact.getDisplayName().length() &gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) { WristBandDevice.getInstance(context).writeWristBandFontLibrary(context, <span class="hljs-number"><span class="hljs-number">1</span></span>, contact.getDisplayName().substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contact.getDisplayName().length() &lt;= <span class="hljs-number"><span class="hljs-number">6</span></span> || contact.getDisplayName().length() &gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) { WristBandDevice.getInstance(context).writeWristBandFontLibrary(context, <span class="hljs-number"><span class="hljs-number">1</span></span>, contact.getDisplayName()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { WristBandDevice.getInstance(context).writeWristBandFontLibrary(context, <span class="hljs-number"><span class="hljs-number">1</span></span>, contact.getDisplayName().substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, contact.getDisplayName().length())); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contact.getDisplayName().length() &gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) { WristBandDevice.getInstance(context).writeWristBandPhoneAlertNew(context, contact.getDisplayName().substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contact.getDisplayName().length() &lt;= <span class="hljs-number"><span class="hljs-number">6</span></span> || contact.getDisplayName().length() &gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) { WristBandDevice.getInstance(context).writeWristBandPhoneAlertNew(context, contact.getDisplayName()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { WristBandDevice.getInstance(context).writeWristBandPhoneAlertNew(context, contact.getDisplayName().substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, contact.getDisplayName().length())); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contact.getDisplayName().length() &gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) { WristBandDevice.getInstance(context).writeWristBandPhoneAlertNew(context, contact.getDisplayName().substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contact.getDisplayName().length() &lt;= <span class="hljs-number"><span class="hljs-number">6</span></span> || contact.getDisplayName().length() &gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) { WristBandDevice.getInstance(context).writeWristBandPhoneAlertNew(context, contact.getDisplayName()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { WristBandDevice.getInstance(context).writeWristBandPhoneAlertNew(context, contact.getDisplayName().substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, contact.getDisplayName().length())); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contact.getDisplayName().length() &gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) { WristBandDevice.getInstance(context).writeWristBandPhoneAlert(context, contact.getDisplayName().substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contact.getDisplayName().length() &lt;= <span class="hljs-number"><span class="hljs-number">6</span></span> || contact.getDisplayName().length() &gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) { WristBandDevice.getInstance(context).writeWristBandPhoneAlert(context, contact.getDisplayName()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { WristBandDevice.getInstance(context).writeWristBandPhoneAlert(context, contact.getDisplayName().substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, contact.getDisplayName().length())); } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> BitmapCacheManagementTask.MESSAGE_FLUSH <span class="hljs-comment"><span class="hljs-comment">/*2*/</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ZeronerApplication.newAPI) { BackgroundThreadManager.getInstance().addTask(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WriteOneDataTask(context, WristBandDevice.getInstance(context).setPhoneStatue())); } <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: } }</code> </pre> <br></div></div><br><br>  Here we clearly see that there are 2 variants of the API and the names of them are very logical newAPI, and the second, respectively, oldAPI.  In all this abundance of conditions, I was interested in only one, repeated line: <br>  <b>WristBandDevice.getInstance (context) .writeWristBandPhoneAlertNew (context, contact.getDisplayName .....)</b> <br><br>  It was the same thing that I was looking for.  Looking ahead, I‚Äôll say that iWown still has i5 + and i6 models, their screen is bigger and, accordingly, more characters fit, for this we need all these checks.  It is not clear why they did not write a class or something like that, maybe these are the decompiler's pranks, but this code is repeated in many places. <br>  Turning to the definition of this function, I saw this: <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeWristBandPhoneAlertNew</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, String displayName)</span></span></span><span class="hljs-function"> </span></span>{ writeAlertNew(context, displayName, <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeWristBandSmsAlertNew</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, String displayName)</span></span></span><span class="hljs-function"> </span></span>{ writeAlertNew(context, displayName, <span class="hljs-number"><span class="hljs-number">2</span></span>); }</code> </pre><br><br>  Well, the same function is used to send text, just with different parameters.  <i>All functions with the word New are just our option, because as it turned out above, I have an API new.</i> <br><br>  Happily going to the definition of the <b>writeAlertNew</b> function, I saw the following: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeAlertNew</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, String displayName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> type)</span></span></span><span class="hljs-function"> </span></span>{ ArrayList&lt;Byte&gt; datas = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList(); datas.add(Byte.valueOf((<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) type)); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i &lt; displayName.length()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (displayName.charAt(i) &lt; <span class="hljs-string"><span class="hljs-string">'@'</span></span> || (displayName.charAt(i) &lt; <span class="hljs-string"><span class="hljs-string">'\u0080'</span></span> &amp;&amp; displayName.charAt(i) &gt; <span class="hljs-string"><span class="hljs-string">'`'</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> e = displayName.charAt(i); datas.add(Byte.valueOf((<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> valueOf : PebbleBitmap.fromString(context, String.valueOf(e), <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).data) { datas.add(Byte.valueOf(valueOf)); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> c = displayName.charAt(i); datas.add(Byte.valueOf((<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> valueOf2 : PebbleBitmap.fromString(context, String.valueOf(c), <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).data) { datas.add(Byte.valueOf(valueOf2)); } } i++; } <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] data = writeWristBandDataByte(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, form_Header(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), datas); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; data.length; i += <span class="hljs-number"><span class="hljs-number">20</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] writeData; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i + <span class="hljs-number"><span class="hljs-number">20</span></span> &gt; data.length) { writeData = Arrays.copyOfRange(data, i, data.length); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { writeData = Arrays.copyOfRange(data, i, i + <span class="hljs-number"><span class="hljs-number">20</span></span>); } NewAgreementBackgroundThreadManager.getInstance().addTask(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WriteOneDataTask(context, writeData)); } }</code> </pre><br><br>  It was clear that a couple of functions that are used here separate me from profit. <br>  writeWristBandDataByte - forms a packet with a message for the bracelet, it is interesting that there is a special function <b>form_Header (3, 1)</b> , which forms the header of the packet by which the bracelet understands what they want from it.  3 is the number of the group of commands, and 1 is the command itself <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">byte</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">form_Header</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> grp, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cmd)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) (((((<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) grp) &amp; <span class="hljs-number"><span class="hljs-number">15</span></span>) &lt;&lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) | (((<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) cmd) &amp; <span class="hljs-number"><span class="hljs-number">15</span></span>)); }</code> </pre><br><br>  The function is simple, copied to your project without changes.  Next was this <br><br>  <b>NewAgreementBackgroundThreadManager.getInstance (). AddTask (new WriteOneDataTask (context, writeData));</b> <br><br>  As it turned out, nothing unusual, the application creates a stream in which a queue of packets is constantly checked for sending, if a packet appears in the queue, the stream writes to the specified device characteristic, if there are more than one packet, it sends them with a delay of 240 milliseconds. <br>  Then came the most incomprehensible: <br><br>  <b>PebbleBitmap.fromString (context, String.valueOf (e), 8, 1) .data)</b> <br><br>  Why the class is called that way is not clear, because with this device Pebble has nothing in common.  Having opened a class source code I saw the following: <br><br><div class="spoiler">  <b class="spoiler_title">PebbleBitmap class source</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PebbleBitmap</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> f1285D; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] data; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> UnsignedInteger flags; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">short</span></span> height; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> offset; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> UnsignedInteger rowLengthBytes; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">short</span></span> width; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">short</span></span> f1286x; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">short</span></span> f1287y; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> { f1285D = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PebbleBitmap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UnsignedInteger _rowLengthBytes, UnsignedInteger _flags, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">short</span></span></span></span><span class="hljs-function"><span class="hljs-params"> _x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">short</span></span></span></span><span class="hljs-function"><span class="hljs-params"> _y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">short</span></span></span></span><span class="hljs-function"><span class="hljs-params"> _width, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">short</span></span></span></span><span class="hljs-function"><span class="hljs-params"> _height, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] _data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.index = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rowLengthBytes = _rowLengthBytes; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.flags = _flags; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.f1286x = _x; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.f1287y = _y; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width = _width; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height = _height; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.data = _data; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> PebbleBitmap </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, String text, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> w, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> l)</span></span></span><span class="hljs-function"> </span></span>{ TextPaint textPaint = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextPaint(); textPaint.setAntiAlias(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); textPaint.setTextSize(<span class="hljs-number"><span class="hljs-number">16.5f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (w == <span class="hljs-number"><span class="hljs-number">32</span></span>) { textPaint.setTextAlign(Align.CENTER); } textPaint.setTypeface(ZeronerApplication.unifont); StaticLayout sl = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StaticLayout(text, textPaint, w, Alignment.ALIGN_NORMAL, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.49f</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h = sl.getHeight(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (h &gt; l * <span class="hljs-number"><span class="hljs-number">16</span></span>) { h = l * <span class="hljs-number"><span class="hljs-number">16</span></span>; } Bitmap newBitmap = Bitmap.createBitmap(w, h, Config.ARGB_8888); sl.draw(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Canvas(newBitmap)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fromAndroidBitmap(newBitmap); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> PebbleBitmap </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromAndroidBitmap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bitmap bitmap)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> width = bitmap.getWidth(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> height = bitmap.getHeight(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> rowLengthBytes = width / <span class="hljs-number"><span class="hljs-number">8</span></span>; ByteBuffer data = ByteBuffer.allocate(rowLengthBytes * height); data.order(ByteOrder.LITTLE_ENDIAN); StringBuffer stringBuffer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuffer(StatConstants.MTA_COOPERATION_TAG); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = <span class="hljs-number"><span class="hljs-number">0</span></span>; y &lt; height; y++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] pixels = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[width]; bitmap.getPixels(pixels, <span class="hljs-number"><span class="hljs-number">0</span></span>, width * <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, y, width, <span class="hljs-number"><span class="hljs-number">1</span></span>); stringBuffer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuffer(StatConstants.MTA_COOPERATION_TAG); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x &lt; width; x++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pixels[x] == <span class="hljs-number"><span class="hljs-number">0</span></span>) { stringBuffer.append(Constants.VIA_RESULT_SUCCESS); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f1285D) { stringBuffer.append(<span class="hljs-string"><span class="hljs-string">"-"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { stringBuffer.append(Constants.VIA_TO_TYPE_QQ_GROUP); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f1285D) { stringBuffer.append(<span class="hljs-string"><span class="hljs-string">"#"</span></span>); } } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = <span class="hljs-number"><span class="hljs-number">0</span></span>; k &lt; rowLengthBytes * <span class="hljs-number"><span class="hljs-number">8</span></span>; k += <span class="hljs-number"><span class="hljs-number">8</span></span>) { ByteBuffer byteBuffer = data; byteBuffer.put(Byte.valueOf((<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BigInteger(stringBuffer.substring(k, k + <span class="hljs-number"><span class="hljs-number">8</span></span>), <span class="hljs-number"><span class="hljs-number">2</span></span>).intValue()).byteValue()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f1285D) { stringBuffer.append(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); } Log.i(<span class="hljs-string"><span class="hljs-string">"info"</span></span>, stringBuffer.toString()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f1285D) { System.out.println(stringBuffer.toString()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(bitmap == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || bitmap.isRecycled())) { bitmap.recycle(); } System.gc(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PebbleBitmap(UnsignedInteger.fromIntBits(rowLengthBytes), UnsignedInteger.fromIntBits(DfuSettingsConstants.SETTINGS_DEFAULT_MBR_SIZE), (<span class="hljs-keyword"><span class="hljs-keyword">short</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">short</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">short</span></span>) width, (<span class="hljs-keyword"><span class="hljs-keyword">short</span></span>) height, data.array()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> PebbleBitmap </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromPng</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(InputStream paramInputStream)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fromAndroidBitmap(BitmapFactory.decodeStream(paramInputStream)); } }</code> </pre><br></div></div><br><br>  After a long comprehension, I came to the conclusion that <b>fromString</b> creates a picture with a letter using a certain font (which is sewn into the application), and then converts the pixels to 0 or 1 depending on the fill, so the letter <b>O</b> will look something like this: <br>  00011100 <br>  01100011 <br>  01100011 <br>  01100011 <br>  00011100 <br><br>  Without really going into details, I copied everything into my project using the BLE GATT example from Google. <br>  And ... lo and behold !!!  The bracelet vibrated!  But the message did not appear, the empty line and the icon of the incoming call. <br>  It turned out that a bunch of size checks is not casual, the bracelet stupidly ignores too long messages and messages, which are 11 characters long, although 12 displays normally.  A couple of hours of dancing around these functions finally gave results, I learned to display both Russian and English text, and at the same time I learned that there are several modes of operation in the message group: <br><ol><li>  Incoming call.  The handset is displayed, the caller's name and the bracelet are vibrating </li><li>  Message.  Displays text and envelope icon.  Vibrates 2 times </li><li>  Little cloud  The same as 2, but instead of an envelope, a cloud icon </li><li>  Mistake.  Same as 2, that only an icon with an exclamation mark. </li></ol><br><br><img src="https://habrastorage.org/files/972/497/5cb/9724975cb18144cc8654da86f1cc290a.jpg"><br><br>  Having taught my application to send me notifications from different applications, whatsapp, vk, viber, telegram and others, I decided that it was time to teach the bracelet to respond to incoming calls and already, in the end, use the only button to reset incoming calls. <br><br>  I will not describe this process, the post and it turned out to be bloated, let me just say that it turned out to be not difficult to respond to the incoming ones, but not to use the button. <br><br>  All incoming messages from the bracelet, Zeroner intercepted in a special class.  The incoming packet had a header for a group of commands and a command number. After a long debug and tests, I fished out the groups I used, and then I found the description in the Zeroner code. <br><br><div class="spoiler">  <b class="spoiler_title">Bracelet groups and teams</b> <div class="spoiler_text"> <code>// HEADER GROUPS // <br> DEVICE = 0 <br> CONFIG = 1 <br> DATALOG = 2 <br> MSG = 3 <br> PHONE_MSG = 4 <br> <br> // CONFIG = 1 /// <br> CMD_ID_CONFIG_GET_AC = 5 <br> CMD_ID_CONFIG_GET_BLE = 3 <br> CMD_ID_CONFIG_GET_HW_OPTION = 9 <br> CMD_ID_CONFIG_GET_NMA = 7 <br> CMD_ID_CONFIG_GET_TIME = 1 <br> <br> CMD_ID_CONFIG_SET_AC = 4 <br> CMD_ID_CONFIG_SET_BLE = 2 <br> CMD_ID_CONFIG_SET_HW_OPTION = 8 <br> CMD_ID_CONFIG_SET_NMA = 6 <br> CMD_ID_CONFIG_SET_TIME = 0 <br> <br> // DATALOG = 2 // <br> CMD_ID_DATALOG_CLEAR_ALL = 2 <br> CMD_ID_DATALOG_GET_BODY_PARAM = 1 <br> CMD_ID_DATALOG_SET_BODY_PARAM = 0 <br> <br> CMD_ID_DATALOG_GET_CUR_DAY_DATA = 7 <br> <br> CMD_ID_DATALOG_START_GET_DAY_DATA = 3 <br> CMD_ID_DATALOG_START_GET_MINUTE_DATA = 5 <br> CMD_ID_DATALOG_STOP_GET_DAY_DATA = 4 <br> CMD_ID_DATALOG_STOP_GET_MINUTE_DATA = 6 <br> <br> // DEVICE = 0 // <br> CMD_ID_DEVICE_GET_BATTERY = 1 <br> CMD_ID_DEVICE_GET_INFORMATION = 0 <br> CMD_ID_DEVICE_RESE = 2 <br> CMD_ID_DEVICE_UPDATE = 3 <br> <br> // MSG = 3 // <br> CMD_ID_MSG_DOWNLOAD = 1 <br> CMD_ID_MSG_MULTI_DOWNLOAD_CONTINUE = 3 <br> CMD_ID_MSG_MULTI_DOWNLOAD_END = 4 <br> CMD_ID_MSG_MULTI_DOWNLOAD_START = 2 <br> CMD_ID_MSG_UPLOAD = 0 <br> <br> // PHONE_MSG = 4 // <br> CMD_ID_PHONE_ALERT = 1 <br> CMD_ID_PHONE_PRESSKEY = 0 <br></code> <br></div></div><br><br>  Due to this, I was able to implement a full-fledged work with the bracelet.  I can get data about the steps, about the dream.  I can manage the settings, set alarms.  I managed to get the designation of the bytes of the packet itself from the classes that store the data in the database, I implemented them all myself. <br><br><h5>  Eventually </h5><br><br>  A little thought, I decided that all this can be useful not only for me and wrote a new application that contains all the necessary data and functions for working with the bracelet, and also implements a simple interface for forwarding alerts from any application to the bracelet. <br><br>  <a href="https://play.google.com/store/apps/details%3Fid%3Dru.wilix.device.geekbracelet">WiliX iWown for Geek</a> <br><br>  Since then, a lot of time has passed, and for many after upgrading to Android 6, the application stopped working.  It also does not work stably with bracelet firmware version 2.  But I hope to find time for refinement. <br><br>  The source code is posted on <a href="https://github.com/WilixLead/iWownController">github</a> .  You can fork and have fun as you like.  All pull-request after review will be accepted, and after the tests immediately poured on Google Play. <br><br>  At the moment, the application can: <br><ul><li>  Display notifications from any application </li><li>  Show incoming call </li><li>  Reset incoming when you press the button </li><li>  Search for a phone if it's in BT coverage. </li><li>  Manage bracelet settings </li><li>  And some other small features. </li></ul><br><br>  A connection to Google Fit was implemented to save training data, but, as I didn‚Äôt pick the SDK to Fit, I rummaged through a bunch of links and forums, but didn‚Äôt understand how to make the fit display data from custom devices.  It is not clear then why this function exists at all. <br>  If someone has worked with Google Fit, and knows how to get him to use data from a custom sensor to display charts, tell in comments or email me, users and I will be very grateful! <br><br>  It was also the idea to connect the bracelet to Sleep as Adnroid.  Actually for monitoring sleep and bought a bracelet.  But, as it turned out, iWown can only return the duration of sleep phases.  That is, already calculated data from the accelerometer. <br>  And Sleep as Android requires bare data from an accelerometer, and with a desired frequency of 10 seconds. <br><br>  In the end.  I invite developers and owners to support the project with their code, tips and anything.  Leave pull-requist, do issue on Github. <br>  The application turned out to be very popular abroad, foreigners often write to me, asking me to add / fix / translate something. <br><br>  By the way, iWown i5 has several clones, with similar firmware: <br>  <b>Vidonn x5</b> <br>  <b>Harper BFB-301</b> <br>  <b>Excelvan i5</b> <br><br><h5>  Links </h5><br>  <a href="https://play.google.com/store/apps/details%3Fid%3Dru.wilix.device.geekbracelet">Google Play - iWown for Geek</a> <br>  <a href="https://github.com/WilixLead/iWownController">GitHub Repository</a> <br>  <a href="http://4pda.ru/forum/index.php%3Fs%3D%26showtopic%3D624253%26view%3Dfindpost%26p%3D42688610">Talk on w3bsit3-dns.com</a> <br><br>  PS Starting with the 5th version, in androids there was an additional category in the curtain, which is not displayed on the lock screen. <br>  Can someone tell me how to transfer my notice to this category?  Thank! <br><br><img src="https://habrastorage.org/files/18c/723/b95/18c723b95ca441a0a34c8d76a9748308.png"></div><p>Source: <a href="https://habr.com/ru/post/391109/">https://habr.com/ru/post/391109/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../391099/index.html">Emulation of various devices using Pi Zero - how to do it?</a></li>
<li><a href="../391101/index.html">Sound # 29 - Audio and Ecosystem Podcast</a></li>
<li><a href="../391103/index.html">They will plant not only for likes and comments, but also for emoji</a></li>
<li><a href="../391105/index.html">Thinking out loud. Four is better than one ... Or the concept of a transport quadrocopter</a></li>
<li><a href="../391107/index.html">Ballmer Peak or superkoder mode "ON"</a></li>
<li><a href="../391111/index.html">MIT engineers created the lightest solar cells</a></li>
<li><a href="../391113/index.html">Play: torrent p2p site that cannot be closed</a></li>
<li><a href="../391117/index.html">Batman: Nolan's Universe</a></li>
<li><a href="../391119/index.html">Russian companies want to force the purchase of domestic PC</a></li>
<li><a href="../391121/index.html">Mozilla plans to update design addons.mozilla.org (AMO)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>