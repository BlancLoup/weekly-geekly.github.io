<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kinematics modeling is not difficult</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have long wanted to do the creation of robots, but there is always not enough free money, time or space. That's why I was going to write their virtu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kinematics modeling is not difficult</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/16b/d26/958/16bd269583c3465c8c35adf6e56edcf2.PNG" width="320" align="left">  I have long wanted to do the creation of robots, but there is always not enough free money, time or space.  That's why I was going to write their virtual models! <br><br>  Powerful tools that allow you to do this are either difficult to dock with third-party programs ( <a href="https://habrahabr.ru/search/%3Fq%3D%255BModelica%255D">Modelica</a> ), or proprietary (Wolfram Mathematica, various CAD systems), and I decided to make a bike on <a href="http://julialang.org/">Julia</a> .  Then all the developments can be docked with the <a href="">ROS</a> services. <br><br>  We assume that our robots move rather slowly and their mechanics are in the state with the lowest energy, with the constraints specified by the design and servo drives.  Thus, it is enough for us to solve the optimization problem in constraints, for which we need the " <a href="">JuMP</a> " packages (for non-linear optimization, it will need the " <a href="">Ipopt</a> " package, which is not specified in dependencies (you can use proprietary libraries instead, but I want to be limited to free) installed separately).  We will not solve differential equations, as in Modelica, although there are sufficiently advanced packages for this, for example, " <a href="">DASSL</a> ". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We will manage the system using reactive programming (library " <a href="">Reactive</a> ").  Draw in Notepad (Jupyter), which will require " <a href="">IJulia</a> ", " <a href="">Interact</a> " and " <a href="">Compose</a> ".  For convenience, you still need " <a href="">MacroTools</a> ". <br><a name="habracut"></a><br>  To install packages, execute the command in Julia REPL <br><br><pre><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>(Pkg.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>, [<span class="hljs-string"><span class="hljs-string">"IJulia"</span></span>, <span class="hljs-string"><span class="hljs-string">"Ipopt"</span></span>, <span class="hljs-string"><span class="hljs-string">"Interact"</span></span>, <span class="hljs-string"><span class="hljs-string">"Reactive"</span></span>, <span class="hljs-string"><span class="hljs-string">"JuMP"</span></span>, <span class="hljs-string"><span class="hljs-string">"Compose"</span></span>, <span class="hljs-string"><span class="hljs-string">"MacroTools"</span></span>])</code> </pre> <br>  Consider a simple two-dimensional system, shown schematically in the figure. <br>  Red lines there are marked springs, black - inextensible ropes, a small cup - a weightless block, a large one - a load.  The ropes have a length, the spring has a length and rigidity.  The variable coordinates are called: <br><br><blockquote>  (x, y) - coordinates of the load (large circle) <br>  (xctl, yctl) - coordinates of the ‚Äúcontrolling end‚Äù of the rope, 1.7 long, tied to the load. <br>  (xp, yp) - coordinates of a weightless point block capable of sliding along the rope. </blockquote><br>  One spring of length 0.1 and stiffness 1 is fixed at point (0.3) and attached to the load.  The second spring with a length of 0.15 and a stiffness of 5 connects the load and the block, which slides along the rope with a length of 6 fixed at the points (5.1) and (4.5.5). <br><br>  (The parameters were selected evolutionarily, so that I would be clear and understandable how it behaves when adding new features) <br><br><pre> <code class="hljs kotlin"> <span class="hljs-meta"><span class="hljs-meta">@wire(x,y, xctl,yctl, 1.7)</span></span> <span class="hljs-meta"><span class="hljs-meta">@wire(xp, yp, 5.0,1.0, 4.5,5.0, 6.0)</span></span> <span class="hljs-meta"><span class="hljs-meta">@energy([w(x,y, 0,3, 1, 0.1)</span></span>, w(x,y, xp,yp, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0.15</span></span>), <span class="hljs-number"><span class="hljs-number">0.4</span></span>*y])</code> </pre><br><div class="spoiler">  <b class="spoiler_title">full code of the equation solving function</b> <div class="spoiler_text"><pre> <code class="hljs kotlin">function myModel(xctl, yctl) m = Model() <span class="hljs-meta"><span class="hljs-meta">@variable(m, y &gt;= 0)</span></span> <span class="hljs-meta"><span class="hljs-meta">@variable(m, x)</span></span> <span class="hljs-meta"><span class="hljs-meta">@variable(m, yp)</span></span> <span class="hljs-meta"><span class="hljs-meta">@variable(m, xp)</span></span> <span class="hljs-meta"><span class="hljs-meta">@wire(x,y, xctl,yctl, 1.7)</span></span> <span class="hljs-meta"><span class="hljs-meta">@wire(xp, yp, 5.0,1.0, 4.5,5.0, 6.0)</span></span> <span class="hljs-meta"><span class="hljs-meta">@energy([w(x,y, 0,3, 1, 0.1)</span></span>, w(x,y, xp,yp, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0.15</span></span>), <span class="hljs-number"><span class="hljs-number">0.4</span></span>*y]) status = solve(m) xval = getvalue(x) yval = getvalue(y) xpval = getvalue(xp) ypval = getvalue(yp) # print(<span class="hljs-string"><span class="hljs-string">"calculate </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$status</span></span></span><span class="hljs-string"> </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$xval</span></span></span><span class="hljs-string"> </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$yval</span></span></span><span class="hljs-string"> for </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$xctl</span></span></span><span class="hljs-string">, </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$yctl</span></span></span><span class="hljs-string">\n"</span></span>) (status, xval, yval, xpval, ypval) end</code> </pre><br></div></div><br>  The wire macro sets the restriction of ‚Äúbinding an inextensible rope‚Äù of a given length to two objects or two objects and a block. <br><br>  The energy macro describes the minimized energy function - the special term w describes the spring (with a given stiffness and length), and 0.4 * y is the load energy in the gravitational field, which is too simple to come up with a special syntax for it. <br><br>  These macros are expressed in terms of library NLconstraint and NLobjective (linear constraint and objective are more efficient, but they cannot cope with our functions): <br><br><pre> <code class="hljs perl">@NLconstraint(<span class="hljs-keyword"><span class="hljs-keyword">m</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">x</span></span>-xctl)^<span class="hljs-number"><span class="hljs-number">2</span></span>+(<span class="hljs-keyword"><span class="hljs-keyword">y</span></span>-yctl)^<span class="hljs-number"><span class="hljs-number">2</span></span> &lt;= <span class="hljs-number"><span class="hljs-number">1.7</span></span>) @NLconstraint(<span class="hljs-keyword"><span class="hljs-keyword">m</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">sqrt</span></span>((<span class="hljs-number"><span class="hljs-number">5.0</span></span>-xp)^<span class="hljs-number"><span class="hljs-number">2</span></span>+(<span class="hljs-number"><span class="hljs-number">1.0</span></span>-yp)^<span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-keyword"><span class="hljs-keyword">sqrt</span></span>((<span class="hljs-number"><span class="hljs-number">4.5</span></span>-xp)^<span class="hljs-number"><span class="hljs-number">2</span></span>+(<span class="hljs-number"><span class="hljs-number">5.0</span></span>-yp)^<span class="hljs-number"><span class="hljs-number">2</span></span>) &lt;= <span class="hljs-number"><span class="hljs-number">6.0</span></span>) @NLobjective(<span class="hljs-keyword"><span class="hljs-keyword">m</span></span>, Min, <span class="hljs-number"><span class="hljs-number">1</span></span>*(<span class="hljs-keyword"><span class="hljs-keyword">sqrt</span></span>(((<span class="hljs-keyword"><span class="hljs-keyword">x</span></span>-<span class="hljs-number"><span class="hljs-number">0</span></span>)^<span class="hljs-number"><span class="hljs-number">2</span></span> + (<span class="hljs-keyword"><span class="hljs-keyword">y</span></span> - <span class="hljs-number"><span class="hljs-number">3</span></span>)^<span class="hljs-number"><span class="hljs-number">2</span></span>)) - <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>)^<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">5</span></span>*(<span class="hljs-keyword"><span class="hljs-keyword">sqrt</span></span>((<span class="hljs-keyword"><span class="hljs-keyword">x</span></span> - xp)^<span class="hljs-number"><span class="hljs-number">2</span></span> + (<span class="hljs-keyword"><span class="hljs-keyword">y</span></span> - yp)^<span class="hljs-number"><span class="hljs-number">2</span></span>) - <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">15</span></span>)^<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">y</span></span>)</code> </pre><br>  Using less than or equal to "equal to" means that the rope may sag, but not stretch.  For two points, you can use strict equality if you need to connect them with a "hard rod", replacing the corresponding macro. <br><br><div class="spoiler">  <b class="spoiler_title">macro code</b> <div class="spoiler_text"><pre> <code class="hljs ruby">macro wire(x,y,x<span class="hljs-number"><span class="hljs-number">0</span></span>,y<span class="hljs-number"><span class="hljs-number">0</span></span>, l) v = l^<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:</span></span>(@NLconstraint(m, ($x0-$x)^<span class="hljs-number"><span class="hljs-number">2</span></span>+($y0-$y)^<span class="hljs-number"><span class="hljs-number">2</span></span> &lt;= $v)) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> macro wire(x,y, x<span class="hljs-number"><span class="hljs-number">0</span></span>,y<span class="hljs-number"><span class="hljs-number">0</span></span>, x1,y1, l) <span class="hljs-symbol"><span class="hljs-symbol">:</span></span>(@NLconstraint(m, sqrt(($x0-$x)^<span class="hljs-number"><span class="hljs-number">2</span></span>+($y0-$y)^<span class="hljs-number"><span class="hljs-number">2</span></span>) + sqrt(($x1-$x)^<span class="hljs-number"><span class="hljs-number">2</span></span>+($y1-$y)^<span class="hljs-number"><span class="hljs-number">2</span></span>) &lt;= $l)) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> calcenergy(d) = MacroTools.@match d <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> [t_<span class="hljs-number"><span class="hljs-number">_</span></span>] =&gt; <span class="hljs-symbol"><span class="hljs-symbol">:</span></span>(+$(map(energy1,t)...)) v<span class="hljs-number"><span class="hljs-number">_</span></span> =&gt; energy1(v) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> energy1(v) = MacroTools.@match v <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> w(x1<span class="hljs-number"><span class="hljs-number">_</span></span>,y1<span class="hljs-number"><span class="hljs-number">_</span></span>, x2<span class="hljs-number"><span class="hljs-number">_</span></span>,y2<span class="hljs-number"><span class="hljs-number">_</span></span>, k<span class="hljs-number"><span class="hljs-number">_</span></span>, l<span class="hljs-number"><span class="hljs-number">_</span></span>) =&gt; <span class="hljs-symbol"><span class="hljs-symbol">:</span></span>($k*(sqrt(($x1 - $x2)^<span class="hljs-number"><span class="hljs-number">2</span></span> + ($y1 - $y2)^<span class="hljs-number"><span class="hljs-number">2</span></span>) - $l)^<span class="hljs-number"><span class="hljs-number">2</span></span>) x<span class="hljs-number"><span class="hljs-number">_</span></span> =&gt; x <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> macro energy(v) e = calcenergy(v) <span class="hljs-symbol"><span class="hljs-symbol">:</span></span>(@NLobjective(m, Min, $e)) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br></div></div><br>  Now we will describe the controls: <br><br><pre> <code class="hljs lisp">xctl = slider(<span class="hljs-name"><span class="hljs-name">-2</span></span>:<span class="hljs-number"><span class="hljs-number">0.01</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span>, label=<span class="hljs-string"><span class="hljs-string">"X Control"</span></span>) xctlsig = signal(<span class="hljs-name"><span class="hljs-name">xctl</span></span>) yctl = slider(<span class="hljs-name"><span class="hljs-name">-1</span></span>:<span class="hljs-number"><span class="hljs-number">0.01</span></span>:<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">"Y Control"</span></span>) yctlsig = signal(<span class="hljs-name"><span class="hljs-name">yctl</span></span>)</code> </pre><br>  let's connect them to our system: <br><br><pre> <code class="hljs lisp">ops = map(<span class="hljs-name"><span class="hljs-name">myModel</span></span>, xctlsig, yctlsig)</code> </pre><br>  And display this in notebook: <br><br><div class="spoiler">  <b class="spoiler_title">pair of auxiliary functions</b> <div class="spoiler_text"><pre> <code class="hljs php">xscale = <span class="hljs-number"><span class="hljs-number">3</span></span> yscale = <span class="hljs-number"><span class="hljs-number">3</span></span> shift = <span class="hljs-number"><span class="hljs-number">1.5</span></span> pscale(x,y) = ((x*xscale+shift)cm, (y*yscale)cm) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x1,y1, x2,y2; w=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.3</span></span></span></span><span class="hljs-function"><span class="hljs-params">mm, color=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"black"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compose</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(context</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">()</span></span></span></span><span class="hljs-function"><span class="hljs-params">, linewidth</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(w)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, stroke</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(color)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, line</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">([pscale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">(x1, y1)</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, pscale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">(x2, y2)</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">])</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre><br></div></div><br><pre> <code class="hljs mel">@manipulate <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> xc <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xctl, yc <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> yctl, op <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ops compose(context(), # <span class="hljs-keyword"><span class="hljs-keyword">text</span></span>(<span class="hljs-number"><span class="hljs-number">150</span></span>px, <span class="hljs-number"><span class="hljs-number">220</span></span>px, <span class="hljs-string"><span class="hljs-string">"m = $(op[2]) $(op[3])"</span></span>), # <span class="hljs-keyword"><span class="hljs-keyword">text</span></span>(<span class="hljs-number"><span class="hljs-number">150</span></span>px, <span class="hljs-number"><span class="hljs-number">200</span></span>px, <span class="hljs-string"><span class="hljs-string">"p = $(op[4]) $(op[5])"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">circle</span></span>(pscale(op[<span class="hljs-number"><span class="hljs-number">2</span></span>], op[<span class="hljs-number"><span class="hljs-number">3</span></span>])..., <span class="hljs-number"><span class="hljs-number">0.03</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">circle</span></span>(pscale(op[<span class="hljs-number"><span class="hljs-number">4</span></span>], op[<span class="hljs-number"><span class="hljs-number">5</span></span>])..., <span class="hljs-number"><span class="hljs-number">0.01</span></span>), l(op[<span class="hljs-number"><span class="hljs-number">2</span></span>], op[<span class="hljs-number"><span class="hljs-number">3</span></span>], op[<span class="hljs-number"><span class="hljs-number">4</span></span>], op[<span class="hljs-number"><span class="hljs-number">5</span></span>], <span class="hljs-keyword"><span class="hljs-keyword">color</span></span>=<span class="hljs-string"><span class="hljs-string">"red"</span></span>), l(op[<span class="hljs-number"><span class="hljs-number">2</span></span>], op[<span class="hljs-number"><span class="hljs-number">3</span></span>], <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">color</span></span>=<span class="hljs-string"><span class="hljs-string">"red"</span></span>), l(op[<span class="hljs-number"><span class="hljs-number">2</span></span>], op[<span class="hljs-number"><span class="hljs-number">3</span></span>], xc, yc), l(op[<span class="hljs-number"><span class="hljs-number">4</span></span>], op[<span class="hljs-number"><span class="hljs-number">5</span></span>], <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), l(op[<span class="hljs-number"><span class="hljs-number">4</span></span>], op[<span class="hljs-number"><span class="hljs-number">5</span></span>], <span class="hljs-number"><span class="hljs-number">4.5</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>) ) end</code> </pre><br><div class="spoiler">  <b class="spoiler_title">full code</b> <div class="spoiler_text"><pre> <code class="hljs php">using Interact, Reactive, JuMP, Compose, MacroTools macro wire(x,y,x0,y0, l) v = l^<span class="hljs-number"><span class="hljs-number">2</span></span> :(@NLconstraint(m, ($x0-$x)^<span class="hljs-number"><span class="hljs-number">2</span></span>+($y0-$y)^<span class="hljs-number"><span class="hljs-number">2</span></span> &lt;= $v)) end macro wire(x,y, x0,y0, x1,y1, l) :(@NLconstraint(m, sqrt(($x0-$x)^<span class="hljs-number"><span class="hljs-number">2</span></span>+($y0-$y)^<span class="hljs-number"><span class="hljs-number">2</span></span>) + sqrt(($x1-$x)^<span class="hljs-number"><span class="hljs-number">2</span></span>+($y1-$y)^<span class="hljs-number"><span class="hljs-number">2</span></span>) &lt;= $l)) end calcenergy(d) = MacroTools.@match d begin [t__] =&gt; :(+$(map(energy1,t)...)) v_ =&gt; energy1(v) end energy1(v) = MacroTools.@match v begin w(x1_,y1_, x2_,y2_, k_, l_) =&gt; :($k*(sqrt(($x1 - $x2)^<span class="hljs-number"><span class="hljs-number">2</span></span> + ($y1 - $y2)^<span class="hljs-number"><span class="hljs-number">2</span></span>) - $l)^<span class="hljs-number"><span class="hljs-number">2</span></span>) x_ =&gt; x end macro energy(v) e = calcenergy(v) :(@NLobjective(m, Min, $e)) end <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myModel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(xctl, yctl)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Model</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">variable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m, y &gt;= </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">variable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m, x)</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">variable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m, yp)</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">variable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m, xp)</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wire</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x,y, xctl,yctl, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.7</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wire</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(xp, yp, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">,</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4.5</span></span></span></span><span class="hljs-function"><span class="hljs-params">,</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">6.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">energy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([w</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(x,y, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">,</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0.1</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, w</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(x,y, xp,yp, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0.15</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.4</span></span></span></span><span class="hljs-function"><span class="hljs-params">*y])</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">status</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">solve</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xval</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getvalue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">yval</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getvalue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(y)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xpval</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getvalue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(xp)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ypval</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getvalue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(yp)</span></span></span><span class="hljs-function"> # </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"calculate $status $xval $yval for $xctl, $yctl\n"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(status, xval, yval, xpval, ypval)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xctl</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">slider</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">-2</span></span></span></span><span class="hljs-function"><span class="hljs-params">:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.01</span></span></span></span><span class="hljs-function"><span class="hljs-params">:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, label=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"X Control"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xctlsig</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">signal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(xctl)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">yctl</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">slider</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">-1</span></span></span></span><span class="hljs-function"><span class="hljs-params">:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.01</span></span></span></span><span class="hljs-function"><span class="hljs-params">:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, label=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"Y Control"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">yctlsig</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">signal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(yctl)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ops</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">map</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(myModel, xctlsig, yctlsig)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xscale</span></span></span><span class="hljs-function"> = 3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">yscale</span></span></span><span class="hljs-function"> = 3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shift</span></span></span><span class="hljs-function"> = 1.5 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pscale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x,y)</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(x*xscale+shift)</span></span></span></span><span class="hljs-function"><span class="hljs-params">cm, </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(y*yscale)</span></span></span></span><span class="hljs-function"><span class="hljs-params">cm)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x1,y1, x2,y2; w=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.3</span></span></span></span><span class="hljs-function"><span class="hljs-params">mm, color=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"black"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compose</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(context</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">()</span></span></span></span><span class="hljs-function"><span class="hljs-params">, linewidth</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(w)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, stroke</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(color)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, line</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">([pscale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">(x1, y1)</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, pscale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">(x2, y2)</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">])</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">manipulate</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xc</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xctl</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">yc</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">yctl</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">op</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ops</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compose</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(context</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">()</span></span></span></span><span class="hljs-function"><span class="hljs-params">, # text</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">150</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">px, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">220</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">px, </span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"m = $(op[2]) $(op[3])"</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, # text</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">150</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">px, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">200</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">px, </span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"p = $(op[4]) $(op[5])"</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, circle</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(pscale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">(op[</span></span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">])</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">..., </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0.03</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, circle</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(pscale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">(op[</span></span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">])</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">..., </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0.01</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, l</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], color=</span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"red"</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, l</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, color=</span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"red"</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, l</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], xc, yc)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, l</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, l</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], op[</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">], </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">4.5</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">,</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre><br></div></div><br>  An easy way to start a notebook: dial Julia REPL <code>using IJulia notebook()</code> .  This should open in the browser " <a href="http://localhost:8888/tree">http: // localhost: 8888 / tree</a> ".  There you have to select ‚Äúnew‚Äù / ‚ÄúJulia‚Äù, copy the code in the input field and press Shift-Enter. </div><p>Source: <a href="https://habr.com/ru/post/313138/">https://habr.com/ru/post/313138/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../313128/index.html">From Jquery UI to Ext.js: a review of javascript UI libraries for the SPA. Part 1</a></li>
<li><a href="../313130/index.html">Dive into the blockchain technology: Ecosystem of digital dentistry</a></li>
<li><a href="../313132/index.html">VK rake SDK for Android</a></li>
<li><a href="../313134/index.html">Acyclic Visitor</a></li>
<li><a href="../313136/index.html">Karate Motivation: How to stop worrying about inefficient employees?</a></li>
<li><a href="../313142/index.html">Joker 2016 Java Conference: More, More, More Interesting</a></li>
<li><a href="../313144/index.html">QEMU / KVM and Windows installation</a></li>
<li><a href="../313146/index.html">OpenShift + Jenkins + Bitbucket, continuous integration and publishing out of the box</a></li>
<li><a href="../313148/index.html">The best projects of the telecom hackathon TADHack Moscow 2016</a></li>
<li><a href="../313150/index.html">DPDK Introduction: Architecture and Operation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>