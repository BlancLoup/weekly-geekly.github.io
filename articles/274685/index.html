<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VoIP + Cisco Packet Tracer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When working with Cisco Packet Tracer, I often noticed various telephone devices in it, as well as software on client devices, with the help of which ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VoIP + Cisco Packet Tracer</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/162/966/433/16296643376b4ced9150f5f9c663964f.PNG"><br><br>  When working with Cisco Packet Tracer, I often noticed various telephone devices in it, as well as software on client devices, with the help of which one can organize telephone calls.  In this connection, the idea arose of sketching a network consisting of all the devices of this simulator (cisco packet tracer 6.2) that can make and receive calls.  When writing this article, the question arose: "Is it possible to prepare for the CCNA Voice exam using this program?".  And this question, I will try to answer in this article. <br><a name="habracut"></a><br>  Used devices: <br><br>  1) Router 2811 (it will be a DHCP server, a VoIP gateway and a TFTP server) <br>  2) Switch 2960 (all devices will be connected to it) <br>  3) Analog phone (which will be connected to the switch through the gateway) <br>  4) IP phone 7960 <br>  5) Client computer (which will work using Cisco IP Communicator software) <br>  6) Wi-Fi point (it is needed to connect to the network of wireless devices) <br>  7) Laptop, tablet computer and smartphone (these devices will connect to a Wi-Fi point and work through CIPC) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Next, you need the MAC address of all devices.  For computers and other devices (not phones), there are several ways to find the MAC address.  For example, enter the device command line and type ipconfig / all or go to the config tab and copy the corresponding interface address to the buffer. <br><br><img src="https://habrastorage.org/files/b6b/b70/09b/b6bb7009bf3047c3b8569b527154908e.png"><br><br><img src="https://habrastorage.org/files/fbc/44e/f77/fbc44ef77f55494583ecff908f86b75a.PNG"><br><br>  For phones, I found only one way - to hover the device on the device and remember its poppy (if anyone knows another way, I will be glad to know). <br><br><img src="https://habrastorage.org/files/fdb/b79/924/fdbb7992444944c7a436d5cfa14c3a8f.PNG"><br><br>  <b>Configure the router:</b> <br><br><h5>  1) Hang up the ip address on the interface (it will be the gateway) </h5><br><pre>  interface FastEthernet0 / 0

 ip address 10.3.0.1 255.255.255.0

 no shutdown
</pre><br><br><h5>  2) We will continue to raise DHCP, so we will exclude from the issue the address hanging on our interface in advance </h5><br><pre>  ip dhcp excluded-address 10.3.0.1
</pre><br><h5>  3) Let's raise DHCP </h5><br><pre>  ip dhcp pool telephony

 network 10.3.0.0 255.255.255.0 (announce network)

 default-router 10.3.0.1 (we specify the main gateway)

 option 150 ip 10.3.0.1 (specify tftp server)
</pre><br><br><h5>  4) We will raise the telephone service and configure the number of telephones and the number of lines on it (despite the fact that we have 6 devices, we will indicate the quantity with a margin) </h5><br><pre>  telephony-service (raise CME)

 max-ephones 10 (we specify number of phones)

 max-dn 10 (specify the number of lines)

 ip source-address 10.3.0.1 port 2000 (we specify from which interface it will receive calls)

 auto assign 1 to 10 (assign automatic assignment of lines from 1 to 10)
</pre><br><br><h5>  5) Now adjust the lines </h5><br><pre>  ephone-dn 1 (create a line)

 number 101 (assign number to it)

 !

 ephone-dn 2 (create a line)

 number 102 (assign number to it)

 !

 ephone-dn 3 (create a line)

 number 103 (assign number to it)

 !

 ephone-dn 4 (create a line)

 number 104 (assign number to it)

 !

 ephone-dn 5 (create a line)

 number 105 (assign number to it)

 !

 ephone-dn 6 (create a line)

 number 106 (assign number to it)
</pre><br><br><h5>  6) Now we will create the phones and assign a specific number to the MAC address of the phone </h5><h5><pre>  ephone 1 (for analog phone)

 device-security-mode none

 mac-address 0060.2FD6.7601 (poppy address of the analog phone gateway)

 type ata (indicates that the phone is analog)

 button 1: 1 (binds this phone to the first number, that is 101)

 !

 ephone 2 (for ip phone)

 device-security-mode none

 mac-address 0030.A3EB.2305 (phone's ip address)

 type 7960 (indicates that this is cisco 7960)

 button 1: 2 (binds this phone to the second number, that is 102)

 !

 ephone 3 (for computer)

 device-security-mode none

 mac-address 0001.C7DE.62B5 (mac address of the computer)

 type CIPC (indicates that the program will be used cisco ip communicator or short cipc)

 button 1: 3 (binds this phone to the third number, that is 103)

 !

 ephone 4 (for smartphone)

 device-security-mode none

 mac-address 0001.4315.ED82 (mac address of the smartphone)

 type CIPC (indicates that the program will be used cisco ip communicator or short cipc)

 button 1: 4 (binds this phone to the fourth number, that is 104)

 !

 ephone 5 (for tablet)

 device-security-mode none

 mac-address 00D0.BC92.7B76 (MAC address of the tablet)

 type CIPC (indicates that the program will be used cisco ip communicator or short cipc)

 button 1: 5 (binds this phone to the fifth number, that is 105)

 !

 ephone 6 (for laptop)

 device-security-mode none

 mac-address 0001.9622.8276 (mac address of the laptop)

 type CIPC (indicates that the program will be used cisco ip communicator or short cipc)

 button 1: 6 (binds this phone to the sixth number, that is 106)
</pre><br><br>  <b>Configure the switch:</b> <br><br></h5><h5>  1) Let's translate 4 ports of the switch which look at our devices in a voice vlan </h5><br><pre>  interface FastEthernet0 / 1

 switchport voice vlan 1

 exit

 !

 interface FastEthernet0 / 2

 switchport voice vlan 1

 exit

 !

 interface FastEthernet0 / 3

 switchport voice vlan 1

 exit

 !

 interface FastEthernet0 / 4

 switchport voice vlan 1
</pre><br><br>  <b>Set up your VoIP analog phone gateway:</b> <br><br>  Since this analog telephone does not know how to work with IP addresses, but it needs to get a number, it connects to the network using a gateway.  For correct work, the gateway needs to register the server address where to apply. <br><br><img src="https://habrastorage.org/files/e79/2ae/5f7/e792ae5f7aca4d6d9cc2f0c04b68581b.png">  " <br><br>  <b>Wi-Fi setup</b> <br><br>  Since there are no ethernet ports on these portable devices, they will work using a wi-fi point connected to the common grid.  Connect the point to the switch and go to its settings. <br><br>  Click the Config -&gt; Port 1 tab and configure it (in general, you can leave the Default name without a password): <br><br><pre>  SSID: wifi
 Channel: 6
 Authentication: WPA2-PSK
 PSK Pass Phrase: cisco123
</pre><br><br><img src="https://habrastorage.org/files/377/a3e/e18/377a3ee18a4843ac9d26c1d0cf1f8e34.PNG"><br><br>  Now we enter this data on devices that will connect via wi-fi.  For example, set up wi-fi on your smartphone.  Click on the Config tab -&gt; Wireless0 and configure it.  Make sure that the checkbox next to port status is set to On, and DHCP is selected in the IP Configuration field. <br><br><pre>  SSID: wifi
 Channel: 6
 Authentication: WPA2-PSK
 PSK Pass Phrase: cisco123
</pre><br><br><img src="https://habrastorage.org/files/10b/94a/db4/10b94adb4e3b4b5392276aacb7e7a02f.PNG"><br><br>  <b>Obtaining addresses and setting up CIPC on devices:</b> <br><br>  At this stage, phones should already register and get numbers (in the GUI tab, the received phone number should appear in the upper right corner). <br><br>  Analog phone: <br><br><img src="https://habrastorage.org/files/465/c3d/69f/465c3d69f5ae4c2db5f63de794e2a51e.png"><br><br>  IP Phone 7960: <br><br><img src="https://habrastorage.org/files/966/82e/791/96682e79147449c19ae53bce3726efba.png"><br><br>  Let's go to the computer and other devices. After all devices get IP addresses, go to the Desktop tab and select Cisco IP Communicator.  After that, in the upper right corner we see that the number was assigned (I personally did not assign the number until you started the CIPC itself. Either this is the glitch of the simulator itself, or Cisco wanted to simulate that the number is assigned after the client starts) <br><br>  But in general, the picture is: <br><br>  PC: <br><br><img src="https://habrastorage.org/files/903/f33/dc6/903f33dc605f4c3b81e71874164dd7f3.png"><br><br>  Smartphone: <br><br><img src="https://habrastorage.org/files/a1b/d9c/b0c/a1bd9cb0c7c445129154b2e769441b42.png"><br><br>  The tablet: <br><br><img src="https://habrastorage.org/files/91f/f9a/56c/91ff9a56c2d6482e83c7633cbd0933a5.png"><br><br>  A laptop: <br><br><img src="https://habrastorage.org/files/cf1/e91/7cf/cf1e917cf17749fe8441e7075a2a86a4.png"><br><br>  As you can see, all devices received numbers, according to reservations on the router. <br><br>  <b>Health Check:</b> <br><br>  There is a final stage, in the form of organizing a telephone call and connection.  But to check all 6 devices and calls from each to each is impractical, because you get a whole filmstrip.  Therefore, we organize a call from a tablet computer to a regular analog phone and vice versa, as well as from an analog phone to an ip phone and back. <br><br>  A call from the tablet to an analog phone (from number 101 to 105): <br><br><img src="https://habrastorage.org/files/12c/dcf/c0e/12cdcfc0efd047c9ba32405ae989ed23.PNG"><br><br>  Call from analog phone to tablet (from number 105 to 101): <br><br><img src="https://habrastorage.org/files/6bf/d53/dd9/6bfd53dd9d85416f8bc8fe6bfeb11257.PNG"><br><br>  A call from an analog phone to an IP phone (from number 101 to 102), and here the handset is specially picked up to demonstrate that the connection is established and a conversation is possible. <br><br><img src="https://habrastorage.org/files/cd9/066/6f9/cd90666f9c6246a09ed15bc9850ff762.PNG"><br><br>  Call from IP phone to analog phone (from number 102 to 101): <br><br><img src="https://habrastorage.org/files/2c5/8f9/71c/2c58f971ccfe4689b5a4749b69ca5612.PNG"><br><br>  Thus, they organized a telephone connection, both devices of similar structure, and completely different in their architecture in hardware and software. <br><br>  PS And here we are at the end and it remains to answer the question asked at the beginning: ‚ÄúIs it possible to prepare for the CCNA Voice exam using this program?‚Äù. <br><br>  I will try to answer a little deployed.  While writing this article, a little disappointed.  Since in this simulator there is only one router, on which you can raise CME and organize telephony, it is 2811. In addition to this, the functionality of this router is cut down very much, only the most basic things can be designed accordingly.  Talking about phones I think it makes no sense.  Well, if we talk about the program Cisco IP Communicator, then here it is no more than a picture with a pair of buttons.  Accordingly, I believe that to prepare for the exam, the experience gained in this simulator will not be enough and will have to use more powerful tools.  But for a basic acquaintance with how tsiskovskaya telephony works, she copes. <br>  In this regard, in the future I plan to release a lesson on Cisco Call Manager or CUCM, as well as analyze the functionality of the CIPC program in more detail. <br><br>  Thank you all and good settings. </div><p>Source: <a href="https://habr.com/ru/post/274685/">https://habr.com/ru/post/274685/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274675/index.html">What is RESTful in reality?</a></li>
<li><a href="../274677/index.html">Software Internet gateway for a small company (Shorewall, OpenVPN, OSPF). Part 2</a></li>
<li><a href="../274679/index.html">Criminals who devastated ATMs with the help of the Tyupkin virus are caught</a></li>
<li><a href="../274681/index.html">Summary of registered second-level domains in the .RU zone</a></li>
<li><a href="../274683/index.html">jQuery plugin for building block mosaic</a></li>
<li><a href="../274687/index.html">IBDesignable magic or extend Interface Builder functionality in Xcode</a></li>
<li><a href="../274689/index.html">Calculation of binomial coefficients in C (C ++) and Python</a></li>
<li><a href="../274695/index.html">New WhatsApp vulnerability: a wave of emoticons that can block an application</a></li>
<li><a href="../274697/index.html">Results of the contest on programming on JS: Mail filters</a></li>
<li><a href="../274703/index.html">Security Week 01: Javascript Ransommer, $ 100k for a bug in Adobe Flash, an encrypted bright future</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>