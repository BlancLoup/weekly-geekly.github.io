<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Let's beat Ruby together! Drop five</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue ( 1 , 2 , 3 , 4 ) to study Ruby. This time it will touch the arrays. But let's start with the ranges. 

 Ranges of values 
 Sometimes it i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Let's beat Ruby together! Drop five</h1><div class="post__text post__text-html js-mediator-article">  We continue ( <a href="http://habrahabr.ru/blogs/ruby/48559/">1</a> , <a href="http://habrahabr.ru/blogs/ruby/48607/">2</a> , <a href="http://habrahabr.ru/blogs/ruby/48667/">3</a> , <a href="http://habrahabr.ru/blogs/ruby/48756/">4</a> ) to study Ruby.  This time it will touch the arrays.  But let's start with the ranges. <br><br><h4>  Ranges of values </h4><br>  Sometimes it is useful to be able to keep the ‚Äúconcept‚Äù of a simple list, and we want to declare it as simple as possible, for example: a list of letters from A to Z, or numbers from 1 to 25. With the help of <strong>ranges</strong> , they are possible in Ruby as much as possible intuitive.  Here are simple numeric ranges: <br><br> <code>digits = 0..9 <br> scale1 = 0..10 <br> scale2 = 0...10 #digits = scale2</code> <br> <a name="habracut"></a><br>  The operator <code>..</code> includes the final value, and <code>...</code> - no (stupid - it seemed that it should be the other way around).  However, the ranges themselves are little used. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Arrays </h4><br>  Simple variables are sometimes not suitable for real programming.  Every modern PL, incl.  and Ruby, supports more complex forms of structured data.  In Ruby, you can represent ordered sets of objects using <strong>arrays</strong> . <br><br>  Ruby arrays are <strong>dynamic</strong> : you can (but not necessarily) specify the size of the array when you create it.  After that, it can grow without the participation of the programmer, so in practice it is rarely even necessary to find out its size.  Ruby arrays are <strong>heterogeneous</strong> : they can store data of a wide variety of data types (to be exact, the array stores only references to objects).  Three identical arrays: <br><br> <code>a = Array.[](1,2,3,4) <br> b = Array[1,2,3,4] <br> c = [1,2,3,4]</code> <br> <br>  To create arrays, a special class method <code>[]</code> .  There is also a <code>new</code> method that takes 0, 1 or two parameters: the first is the number of elements, the second is their value.  See an example: <br><br> <code>d = Array.new #    <br> e = Array.new(3) # [nil, nil, nil] <br> f = Array.new(3, "ruby") # ["ruby", "ruby", "ruby"]</code> <br> <br>  A frequent mistake of beginners - we believe that the elements are independent of each other.  However, as mentioned earlier, the array contains only references to a single object.  To avoid this behavior, we use a <strong>block</strong> (we already met it in the second drop - this is the code between <code>{}</code> ): <br><br> <code>f[0].capitalize! # f : ["Ruby", "Ruby", "Ruby"] <br> g = Array.new(3) { "ruby" } # ["ruby", "ruby", "ruby"] <br> g[0].capitalize! # g : ["Ruby", "ruby", "ruby"]</code> <br> <br>  Appeal to the elements and the establishment of their values ‚Äã‚Äãare performed using the methods <code>[]</code> and <code>[]=</code> respectively.  Each can accept one or two (beginning and length) parameters or a range.  The countdown from the end of the array starts at <code>-1</code> .  Values ‚Äã‚Äãcan also be <code>delete_at</code> special simple <code>at</code> method - it takes only one parameter and therefore works a little faster, <code>delete_at</code> will delete the element.  We look: <br><br> <code>a = [1, 2, 3, 4, 5, 6] <br> b = a[0] # 1 <br> c = a.at(0) # 1 <br> d = a[-2] # 5 <br> e = a.at(-2) # 5 <br> f = a[9] # nil <br> g = a.at(9) # nil <br> h = a[3,3] # [4, 5, 6] <br> i = a[2..4] # [3, 4, 5] <br> j = a[2...4] # [3, 4] <br> <br> a[1] = 8 # [1, 8, 3, 4, 5, 6] <br> a[1,3] = [10, 20, 30] # [1, 10, 20, 30, 5, 6] <br> a[0..3] = [2, 4, 6, 8] # [2, 4, 6, 8, 5, 6] <br> a[-1] = 12 # [2, 4, 6, 8, 5, 12] <br> <br> a.delete_at(3) # [1, 2, 4, 5, 6] <br> a.delete_at(9) # nil</code> <br> <br>  Another way is pushing data.  The <code>join</code> method ‚Äúmerges‚Äù the elements of an array into one variable; we specify the separator as a parameter: <br><br> <code>x = [] <br> x &lt;&lt; "Word" <br> x &lt;&lt; "Play" &lt;&lt; "Fun" <br> puts x.join(', ') # Word, Play, Fun</code> <br> <br>  The <code>first</code> and <code>last</code> methods return the first and last elements of the array, respectively, and <code>values_at</code> - an array containing only the selected elements: <br><br> <code>x = ["alpha", "beta", "gamma", "delta", "epsilon"] <br> a = x.first # alpha <br> b = x.values_at(0..2,4) # [alpha, beta, gamma, epsilon]</code> <br> <br>  The <code>length</code> method and its <code>size</code> alias return the number of elements in the array, and <code>nitems</code> will not count empty elements ( <code>nil</code> ), <code>compact</code> will remove <code>nil</code> from the array altogether: <br><br> <code>y = [1, 2, nil, nil, 3, 4] <br> c = y.size # 6 <br> e = y.nitems # 4 <br> d = y.compact # [1, 2, 3, 4]</code> <br> <br>  The easiest method to sort an array is <code>sort</code> (try it yourself).  Sorting works only in arrays containing elements that can be compared - with arrays with mixed data types, the method will return an error.  Sort the mixed array, converting its elements into strings on the fly (transform to <code>to_s</code> method): <br><br> <code>a = [1, 2, "three", "four", 5, 6] <br> b = a.sort {|x,y| x.to_s &lt;=&gt; y.to_s} <br> # b  [1, 2, 5, 6, "four", "three"]</code> <br> <br>  How it works?  <code>&lt;=&gt;</code> is one of the comparison methods (see the third drop).  The block returns <code>-1</code> if the first element of the pair being compared is smaller (then the method swaps the elements), <code>0</code> if the elements are equal, <code>1</code> if more (in the last two cases, we leave the elements in place).  Therefore, for a decreasing order, you simply swap the compared elements ( <code>{|x,y| y.to_s &lt;=&gt; x.to_s}</code> ).  I think we understood everything. <br><br>  To select elements from an array by the criteria, use <code>detect</code> ( <code>find</code> - its synonym) and <code>find_all</code> ( <code>select</code> - the same); we <code>find_all</code> expression into the block: <br><br> <code>x = [5, 8, 12, 9, 4, 30] <br> # find     ,   <br> x.find {|e| e % 6 == 0 } # 12 <br> #  select     <br> x.select {|e| e % 6 == 0} # [12, 30]</code> <br> <br>  The <code>reject</code> method is the reverse of <code>select</code> ‚Äî it will remove every element that satisfies the block: <br><br> <code>x = [5, 8, 12, 9, 4, 30] <br> d = c.reject {|e| e % 2 == 0} # [5, 9]</code> <br> <br>  <code>delete</code> deletes all elements containing specific data: <br><br> <code>c = ["alpha", "beta", "gamma", "delta"] <br> c.delete("delta") <br> #   = ["alpha", "beta", "gamma"]</code> <br> <br>  In the class of arrays, the <code>each</code> iterator is defined - it works simply, guess what this code does: <br><br> <code>[1, "test", 2, 3, 4].each { |element| puts element.to_s + "X" }</code> <br> <br>  You can create a copy of the array and change it on the fly with the <code>collect</code> iterator: <br><br> <code>[1, 2, 3, 4].collect { |element| element * 2 } #[2, 4, 6, 8]</code> <br> <br>  We combine arrays: <br><br> <code>x = [1, 2, 3] <br> y = ["a", "b", "c"] <br> z = x + y #[1, 2, 3, "a", "b", "c"]</code> <br> <br> <code>a = [1, 2, 3, 4] <br> b = [3, 4, 5, 6] <br> a ‚Äî b # [1, 2] ‚Äî   <br> a &amp; b # [3, 4] ‚Äî   <br> a | b # [1, 2, 3, 4, 5, 6] ‚Äî     <br> a*2 # [1, 2, 3, 4, 1, 2, 3, 4] - </code> <br> <br><h4>  Epilogue </h4><br>  The drop turned out to be relatively ‚Äútough‚Äù - yes, all this needs to be known: (Let's get used to it;) If something is not clear, then you will be cherished in a comment - it will help.  We are also waiting for feedback and comments! <br><br>  Further we will return to data types, we will go deep into work with strings and numbers.  This time, thanks for the examples sent to Hal Fulton. <br><br></div><p>Source: <a href="https://habr.com/ru/post/48859/">https://habr.com/ru/post/48859/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48848/index.html">FLV software control</a></li>
<li><a href="../48851/index.html">For 10 euros, everyone can be on-line homeless</a></li>
<li><a href="../48853/index.html">announced third-generation Intel Classmate PC netbook</a></li>
<li><a href="../48856/index.html">Licensing cartographic activities for everyone?</a></li>
<li><a href="../48858/index.html">Telephone - a new SIP client for Mac</a></li>
<li><a href="../48860/index.html">Ubuntu everywhere</a></li>
<li><a href="../48862/index.html">Criteria for 100% site readability</a></li>
<li><a href="../48863/index.html">Back to the future or how to retool the car "on the garbage"</a></li>
<li><a href="../48867/index.html">Disadvantages, advantages and what I lack in Opera</a></li>
<li><a href="../48868/index.html">"Bolts with thread" or an idea for a startup</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>