<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GMABooster? Accelerate?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I decided to publish the results of my research on the GMABooster program, which was presented to habrazhiteley just yesterday. At once I will say, th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GMABooster? Accelerate?</h1><div class="post__text post__text-html js-mediator-article"><img src="http://s3.amazonaws.com/floomby/8_3_2010/IJoiIjXSkmrw0PfZEoiUA.jpg"><br><br>  I decided to publish the results of my research on the <a href="http://www.gmabooster.com/">GMABooster</a> program, which <a href="http://habrahabr.ru/blogs/hardware/100858/">was presented to</a> habrazhiteley just yesterday.  At once I will say, the analysis would not have been carried out so quickly, if it were not for the completely unfamiliar habrayuzer <a href="http://geektimes.ru/users/werat/" class="user_link">Werat</a> , which remotely tested my code from the admin on my Acer Aspire One a150 (the same person ventured). <br><br>  With my topic, I would like to emphasize the importance of open products, the freedom to exchange information between people [and remind everyone complaining and crying that Habr is a cake!]. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <em>Disclaimer: The analysis is provided solely for educational and peaceful purposes, the last thing I would like to reduce the amount of donations towards the author of the program.</em>  <em>In any case, they carried out work that deserves respect.</em>  <em>Also, I have to consider an ‚Äúalternative‚Äù solution for some platforms, due to the fact that GMABooster is not convenient for several criteria, especially for Linux and Mac users.</em> <br><br><a name="habracut"></a><br><br>  The topic has risen quite interesting, in the topic there were thoughts about a possible deception and it was decided to check for yourself.  Being the owner of Acer Aspire 8735G, it was not easy to do this, so I went from the reverse and started doing reverse engineering.  <em>Immediately I will clarify, we will not bypass the protection of the author.</em> <br><br><h4>  Nutro under Windows </h4><br>  At the moment from the official site you can download two versions of GMABooster'a.  For GMA900 and GMA950.  In fact, there is only one version and one distribution.  Unpack and dive into the content analysis - we immediately discard the uninstaller, presets for different frequencies, documentation.  Leave the following set of files: <br><br>  <strong>Auto.exe</strong> is a console utility for changing the frequency.  This utility can be invoked with command line parameters that set the frequency value. <br><img src="http://s3.amazonaws.com/floomby/8_3_2010/E8OtjfLikW543ikL21KjQ.jpg"><br>  As you can see, it is implemented on .Net (language is not important).  GUI, launchers and other presets are written on .Net.  Here is such a wild mix of drivers and high-level frameworks.  Decompilation lovers can use .Net Reflector to find out everything they want.  The license agreement forbids me to decompile, while I accept the conditions of the game and look for other ways. <br><br>  <strong>Porttalk.sys</strong> is actually some kind of driver.  Googling, you can find out that this is <a href="http://www.beyondlogic.org/porttalk/porttalk.htm">really PortTalk</a> - a driver for the NT-family of Windows OS, which allows you to directly access the I / O ports.  He really does not have x64 support, and the last update was in the 2002th year.  By the way, PortTalk uses tricky tricks to provide access (yes, it was all just in Windows 9x).  I recommend to read more on the project page, especially the project is open and free. <br><br>  <strong>Helper.exe</strong> - absolutely by chance noticed in the PortTalk documentation that it comes with the AllowIO program, which allows you to start a third-party application and open for it certain (or all) ports through the installed PortTalk driver.  Actually, this is AllowIO.exe, except that the author renamed it and made funny changes: <br><img src="http://s3.amazonaws.com/floomby/8_3_2010/9Na1qFSDmEO5wgTb4CQBQ.jpg"><br>  The links to the official site PortTalk are overwritten and the copyright as a class has been destroyed.  It became sad. <br><br>  GMABooster's workflow is becoming clearer.  Someone launches Helper.exe, which gives the application access to I / O ports.  The application should now access the ports and make a series of requests.  ASM-inserts in .Net will not be entirely appropriate (and, in this form, impossible), so the author was obliged to bring them into separate modules.  Let's look further. <br><br>  <strong>AsmDll.dll</strong> and <strong>AsmDll2.dll</strong> - the actual implementation of communication at the level of I / O ports [0CF8h / 0CFCh, configuring PCI].  Well, we will not decompile, for sure there will be something painfully classic (although I am far enough from this): <br><img src="http://s3.amazonaws.com/floomby/8_3_2010/wuYL6EBOLUiX77LIwEqeFw.jpg"><br>  Set the Bus / Device / Function / Register parameters and execute the query + write the value of the parameter.  More information can be found on the links: <a href="http://en.wikipedia.org/wiki/PCI_configuration_space">PCI Configuration Space</a> and it is the same, but for <a href="http://www.waste.org/~winkles/hardware/pci.htm">programmers</a> . <br><br>  Let us dwell only on AsmDll.dll (they are practically the same between them, just Auto.exe does not use AsmDll2 at all, respectively, you can cope without it).  I will not tell you how I got the prototype of a single exported function [ <em>int32 AsmAdd (int32, int32)</em> ], but here I am clean before the law.  More than once I stopped at the fact that we will not decompile, so a replacement of the AsmDll library was written, which also exported only one AsmAdd function and output the flown information to the log.  Having a little tortured Mr. <a href="http://geektimes.ru/users/werat/" class="user_link">Werat</a> 'a and his netbook, the values ‚Äã‚Äãof the input parameters for each frequency were obtained. <br><br>  <strong>166 MHz [0xF0, 0x34646000] [0xF0, 0x34646500] [0xF0, 0x34646000]</strong> <strong><br></strong>  <strong>200 MHz [0xF0, 0x34646000] [0xF0, 0x34640534]</strong> <strong><br></strong>  <strong>250 MHz [0xF0, 0x34646000] [0xF0, 0x34640531]</strong> <strong><br></strong>  <strong>400 Mhz [0xF0, 0x34646000] [0xF0, 0x34640533]</strong> <br><br>  In [], one call was made to AsmAdd by the ‚Äúfrequency switching‚Äù utility, respectively, for 166 MHz it was triggered three times (perhaps this is an error, or some author's watermark - I will not judge, for an amateur), for the others twice. <br><br>  Actually for me, 0x34640533 will remain the magic number, I am sure that there will be someone on Habr√© who can explain what / where and how. <br><br><h4>  Alternative </h4><br>  Thus, to overclock your Intel-based GPU to a frequency of 400 MHz (according to GMABooster'a), it is enough to write to the hardware registers. <br><br>  For example, the script for Mac OS will look something like this: <br>  <a href="http://developer.apple.com/mac/library/documentation/Darwin/Reference/ManPages/man1/reggie_se.1.html">reggie_se</a> -w 0x34646000 -D PCI -i 16 -a 0xF0 -B 32 <br>  reggie_se -w 0x34640533 -D PCI -i 16 -a 0xF0 -B 32 <br><br>  You can add it to autoload without any problems.  I am sure that a utility similar to reggie_se is also available in Linux. <br><br><h4>  Conclusions for yourself </h4><br>  1. I do not want to talk about changing the frequency, because  the voltage does not change, I'm sure of it; <br>  2. The utility is safe (in terms of malware); <br>  3. The utility performs the simplest (from the point of view of implementation) action - writing a certain value to the register, a specific change in the configuration of the PCI device.  Why the author keeps it secret and makes the headache for users [weekly update, etc.], I personally do not understand; <br>  4. Changes made work until the moment of going to sleep / hibernation / shutdown; <br>  5. Author GMABooster'a many hoisted on the needle :) <br>  6. Based on numerous reviews, a slight acceleration is indeed observed; <br>  7. I was wrong, using a slightly blurry floomby jpg-image in the topic. <br><br>  I do not deny the merits of the author, I would still like to see him on Habr√©, hear the story of the appearance of the magic number and apologize to him for my article. <br><br>  I would very much like to find people who could competently use the results (implementation for x64, for example).  I will also be happy to hear any additions from knowledgeable specialists - being far from such low-level things, I can not understand everything, let alone explain, for which I apologize. <br><br>  <strong>Update # 1</strong> <a href="http://ipis-osx.wikidot.com/forum/t-152583">News from the front of the makovods</a> , there the owner of the Mac paid attention to the way GMABooster works (it turns out to be the same reggie_se) and suggested its own version of the script + gave quite funny comments.  And more <a href="http://forum.eeeuser.com/viewtopic.php%3Fid%3D67632">useful material</a> (not verified, true) for Linux owners </div><p>Source: <a href="https://habr.com/ru/post/100909/">https://habr.com/ru/post/100909/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../100901/index.html">Cafe for IT-Schnick</a></li>
<li><a href="../100902/index.html">BlackBerry has introduced a new slider Torch 9800 and OS BlackBerry 6</a></li>
<li><a href="../100904/index.html">WCG'10 - Russian final</a></li>
<li><a href="../100906/index.html">Vulnerability in Apple iOS 4 allows attackers to remotely execute any code</a></li>
<li><a href="../100907/index.html">Create a console emulator</a></li>
<li><a href="../100910/index.html">Application for Habrahabr, v1.0</a></li>
<li><a href="../100912/index.html">Opera games with right click menu</a></li>
<li><a href="../100914/index.html">On gosuslugi.ru now you can see information about your traffic violations</a></li>
<li><a href="../100915/index.html">"Server" for nomadic life</a></li>
<li><a href="../100916/index.html">CHIP-8 based emulation principles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>