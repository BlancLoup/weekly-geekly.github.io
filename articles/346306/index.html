<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Flask Mega-Tutorial Chapter 1: Hello world! (edition 2018)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="blog.miguelgrinberg.com 
 Miguel grinberg 



 >>> next chapter >>> 


 This article is a translation of the new edition of Miguel Greenberg‚Äôs textboo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Flask Mega-Tutorial Chapter 1: Hello world! (edition 2018)</h1><div class="post__text post__text-html js-mediator-article"><p>  <a href="http://blog.miguelgrinberg.com/" title="blog.miguelgrinberg.com">blog.miguelgrinberg.com</a> </p><br><h3 id="miguel-grinberg">  <em>Miguel grinberg</em> </h3><br><hr><br><p>  <a href="https://habrahabr.ru/post/346340/">&gt;&gt;&gt; next chapter &gt;&gt;&gt;</a> </p><br><p>  This article is a translation of the new edition of Miguel Greenberg‚Äôs textbook.  <a href="https://habrahabr.ru/post/193242/" title="Previous translation">The old translation</a> has long lost its relevance. </p><br><p>  The author plans to complete his release in May 2018. I, for my part, will try to keep up with the translation. </p><a name="habracut"></a><br><p>  For reference, below is a list of articles in this series. </p><br><div class="spoiler">  <b class="spoiler_title">Table of contents</b> <div class="spoiler_text"><ul><li>  <a href="https://habrahabr.ru/346306/"><strong>Chapter 1: Hello world!</strong></a>  <a href="https://habrahabr.ru/346306/"><strong>(This article)</strong></a> </li><li>  <a href="https://habrahabr.ru/post/346340/"><strong>Chapter 2: Templates</strong></a> </li><li>  <a href="https://habrahabr.ru/post/346342/"><strong>Chapter 3: Web Forms</strong></a> </li><li>  <a href="https://habrahabr.ru/post/346344/"><strong>Chapter 4: Database</strong></a> </li><li>  <a href="https://habrahabr.ru/post/346346/"><strong>Chapter 5: User Logins</strong></a> </li><li>  <a href="https://habrahabr.ru/post/346348/"><strong>Chapter 6: Profile Page and Avatars</strong></a> </li><li>  <a href="https://habrahabr.ru/post/346880/"><strong>Chapter 7: Error Handling</strong></a> </li><li>  <a href="https://habrahabr.ru/post/347450/"><strong>Chapter 8: Subscribers, Contacts, and Friends</strong></a> </li><li>  <a href="https://habrahabr.ru/post/347926/"><strong>Chapter 9: Pagination</strong></a> </li><li>  <a href="https://habrahabr.ru/post/348566/"><strong>Chapter 10: Email Support</strong></a> </li><li>  <a href="https://habrahabr.ru/post/349060/"><strong>Chapter 11: Reconstruction</strong></a> </li><li>  <a href="https://habrahabr.ru/post/349604/"><strong>Chapter 12: Date and Time</strong></a> </li><li>  <a href="https://habrahabr.ru/post/350148/"><strong>Chapter 13: I18n and L10n</strong></a> </li><li>  <a href="https://habrahabr.ru/post/350626/"><strong>Chapter 14: Ajax</strong></a> </li><li>  <a href="https://habrahabr.ru/post/351218/"><strong>Chapter 15: Improving Application Structure</strong></a> </li><li>  <a href="https://habrahabr.ru/post/351900/"><strong>Chapter 16: Full Text Search</strong></a> </li><li>  <a href="https://habrahabr.ru/post/352266/"><strong>Chapter 17: Deploying to Linux</strong></a> </li><li>  <a href="https://habrahabr.ru/post/352830/"><strong>Chapter 18: Deploying to Heroku</strong></a> </li><li>  <a href="https://habrahabr.ru/post/353234/"><strong>Chapter 19: Deploying to Docker Containers</strong></a> </li><li>  <a href="https://habrahabr.ru/post/353804/"><strong>Chapter 20: JavaScript Magic</strong></a> </li><li>  <a href="https://habrahabr.ru/post/354322/"><strong>Chapter 21: User Notifications</strong></a> </li><li>  <a href="https://habrahabr.ru/post/354752/"><strong>Chapter 22: Background Tasks</strong></a> </li><li>  <a href="https://habrahabr.ru/post/358152/"><strong>Chapter 23: Application Programming Interfaces (APIs)</strong></a> </li></ul></div></div><br><p>  The new tutorial was written in 2017, and finally it looks as if it was configured for Python 3. Compatibility issues were resolved, focus was changed to Python 3, and not Python 2 as it was in 2012 in the previous version textbook. </p><br><p>  Unfortunately, Python 2 or 3 is not the only thing that has changed.  There are also several technologies that made sense in 2012, but are now obsolete.  These include: </p><br><ul><li>  <strong>OpenID</strong> authentication mechanism, which is no longer supported by many providers. </li><li>  The <strong>sqlalchemy-migrate</strong> package for migrating databases, which also seems to have lost community support.  These days <strong>Alembic</strong> is a much better choice for migration than <em>SQLAlchemy</em> . </li><li>  The <em>Flask</em> (Flask Shell) command line interface, which did not exist at that time, but is now an indispensable developer tool. </li><li>  At the time Miguel began working on the tutorial, <em>Flask blueprints</em> were too new, so he decided not to use this feature.  In 2017, <em>blueprints</em> are mandatory for use in Flask. </li><li>  <em>Bootstrap 2</em> for styling and formatting web pages, now has two main versions.  Newer versions of Bootstrap are not backward compatible with version 2. </li><li>  The changes in the <strong>Heroku</strong> service, the deployment instructions that are presented in the tutorial are outdated. </li></ul><br><p>  Many of the things that have changed in these five years mainly mean that all chapters need to be revised, and most of them have undergone quite important changes. </p><br><p>  Miguel himself believes that he has grown professionally over these five years, and thinks that he will be able to bring much more value to this textbook with this new experience.  After the release of the first textbook, he spent more than a dozen conferences and released a bunch of tutorials, wrote a very successful Flask development book for a major publisher, and created several popular open source projects. </p><br><p>  In addition, Miguel has another five years of experience as a technical blogger, as he continued to create content for his blog over the years.  All this experience will be reflected in the updates that he brings in the textbook. </p><br><p>  Read more in <a href="https://www.kickstarter.com/projects/1124925856/the-new-and-improved-flask-mega-tutorial">Miguel's blog.</a> </p><br><p>  <a href="https://player.vimeo.com/video/248628320" title="video"><strong>VIDEO</strong></a> </p><br><p>  Welcome! </p><br><p>  You are going to go on a trip to learn how to create web applications using <a href="https://python.org/" title="Python">Python</a> and the <a href="http://flask.pocoo.org/" title="Flask">Flask</a> microflash.  The video above will give you an overview of the contents of this guide.  In this first chapter, you will learn how to set up a Flask project.  At the end of this chapter you will have a simple Flask web application running on your computer! </p><br><p>  <em>Note 1: If you are looking for old versions of this course, this is <a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world-legacy" title="here">here</a> .</em> </p><br><p>  <em>Note 2: If suddenly you would like to speak in support of my (Miguel) work on this blog, or simply do not have the patience to wait for a week of the article, I (Miguel Greenberg) offer a full version of this guide a packed e-book or video.</em>  <em>For more information, visit <a href="http://learn.miguelgrinberg.com/" title="learn.miguelgrinberg.com">learn.miguelgrinberg.com</a> .</em> </p><br><p>  All code examples presented in this tutorial are hosted on GitHub.  Downloading code from GitHub will save you time, but I highly recommend entering your own code in at least the first few chapters.  After you become more familiar with Flask, you can access the code directly from GitHub, in case input becomes too tedious. </p><br><p>  At the beginning of each chapter, I will give you three GitHub links that may be useful when studying the chapter.  <strong>Browse</strong> will open the GitHub repository for the microblog in the place where the changes to the chapter you are reading are collected, with the exception of any changes made in future chapters.  <strong>Zip</strong> is a link to download a zip-archive, including applications and changes in the chapter.  <strong>Diff</strong> - opens a graphical representation of all changes made to the chapter you are about to read. </p><br><p>  <em>On GitHub, the links in this chapter are: <a href="" title="Browse">Browse</a> , <a href="" title="Zip">Zip</a> , <a href="" title="Diff">Diff</a> .</em> </p><br><h2 id="ustanovka-python">  Install python </h2><br><p>  If <strong>Python is</strong> not installed on your computer, install it.  If your operating system does not have a pre-installed Python package, you can download the installer from the <a href="http://python.org/download/">official Python website</a> .  If you are using Microsoft Windows with WSL or Cygwin, please note that you will not use the native version of Python for Windows, but the version compatible with Unix that you need to get from Ubuntu (if you use WSL) or from Cygwin. </p><br><p>  To make sure your Python installation is functional, you can open a terminal window and enter python3, or if it doesn't work, just python.  Here is what you should expect: </p><br><pre><code class="hljs pgsql">$ python3 Python <span class="hljs-number"><span class="hljs-number">3.5</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, Nov <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">2016</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span>) [GCC <span class="hljs-number"><span class="hljs-number">5.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> <span class="hljs-number"><span class="hljs-number">20160609</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> linux <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> "help", "copyright", "credits" <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> "license" <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt; _</code> </pre> <br><p>  or so in cmd (Microsoft Windows command window): </p><br><pre> <code class="hljs pgsql">c:\cp&gt;c:\python33\python Python <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>:<span class="hljs-number"><span class="hljs-number">62</span></span>cf4e77f785, Mar <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-type"><span class="hljs-type">bit</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">In</span></span> tel)] <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> win32 <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> "help", "copyright", "credits" <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> "license" <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt;</code> </pre> <br><p>  The Python interpreter is now awaiting user input.  In future chapters, you will learn why this interactive invitation is useful.  But for now you have confirmed that Python is installed on your system.  To exit the interactive prompt, you can type <code>exit()</code> and press Enter. </p><br><p>  In the Python versions for Linux and Mac OS X, you can also exit the interpreter by pressing <code>Ctrl-D</code> . </p><br><p>  On Windows, the exit shortcut is <code>Ctrl-Z</code> , then Enter. </p><br><h2 id="ustanovka-flask">  Flask installation </h2><br><p>  The next step is to install Flask, but before I tell you about it, I want to tell you about the best methods for installing Python packages. </p><br><p>  In Python, packages such as Flask are available in a common repository, where they can be downloaded and installed.  The official Python package repository is called <a href="https://pypi.python.org/pypi">PyPI</a> , which means the Python Package Index (also known as the ‚Äúcheese shop‚Äù).  Installing a PyPI package is very simple, because Python has a tool called pip that does the job (in Python 2.7, <code>pip</code> not included with Python and must be installed separately). </p><br><p>  To install the package on your computer, you use pip as follows: </p><br><pre> <code class="hljs sql">$ pip <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>&gt;</code> </pre> <br><p>  Interestingly, this method of installing packages will not work in most cases.  If your Python interpreter was installed globally for all users of your computer, it is likely that your regular user account will not receive permission to make changes to it, so the only way to execute the above command is to run it as an administrator.  But even without this complication, understand what happens when you install the package, as described above.  The <code>pip</code> tool will download the package from PyPI and then add it to your Python folder.  From now on, every Python script that you have on your system will have access to this package.  Imagine a situation where you finished a web application using version 0.11 of Flask, which was the most recent version of Flask at startup, but now it has been replaced by version 0.12.  Now you want to run the second application for which you would like to use version 0.12, but if you replace the installed version 0.11, you risk breaking your old application.  Do you see the problem?  It would be ideal if you could install Flask 0.11, which will be used by your old application, and also install Flask 0.12 for your new one. </p><br><p>  To solve the problem of supporting different versions of packages for different applications, Python uses the concept of virtual environments.  A virtual environment is a complete copy of the Python interpreter.  When you install packages in a virtual environment, the system-wide Python interpreter is not affected, only a copy.  Thus, the decision to have complete freedom to install any versions of your packages for each application is to use a different virtual environment for each application.  Virtual environments have the added advantage that they belong to the user who creates them, so they do not need an administrator account. </p><br><p>  Let's start by creating a directory in which the project will live.  I am going to name this <strong>microblog</strong> directory since this is the name of the application: </p><br><pre> <code class="hljs dos">$ <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> microblog $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> microblog</code> </pre> <br><p>  If you are using the Python 3 version, it includes support for the virtual environment, so all you need to do to create it is: </p><br><pre> <code class="hljs ruby">$ python3 -m venv venv</code> </pre> <br><p>  With this command, Python will launch the <code>venv</code> package, which creates a virtual environment called <code>venv</code> .  The first <code>venv</code> in the command is the name of the Python virtual environment package, and the second is the name of the virtual environment that I will use for this particular environment.  If you think this is confusing, you can replace the second <code>venv</code> different name that you want to assign to your virtual environment.  In general, I create my own virtual environments with the name <code>venv</code> in the project directory, so whenever I connect to a project, I find its corresponding virtual environment. </p><br><p>  Please note that on some operating systems you may need to use <code>python</code> instead of <code>python3</code> in the above command.  Some installations use <code>python</code> for releases of Python 2.x and python3 for releases of 3.x, while others display <code>python</code> in releases of 3.x. </p><br><p>  When the command completes, you will have a directory named <code>venv</code> where the virtual environment files are stored. </p><br><p>  If you are using any version of Python older than 3.4 (including release 2.7), virtual environments are not natively supported.  For these versions of Python, you need to download and install a third-party <a href="https://virtualenv.pypa.io/">virtualenv</a> tool before creating virtual environments.  After <code>virtualenv</code> installed, you can create a virtual environment with the following command: </p><br><pre> <code class="hljs ruby">$ virtualenv venv</code> </pre> <br><p>  or so </p><br><pre> <code class="hljs mel">$ <span class="hljs-keyword"><span class="hljs-keyword">python</span></span> virtualenv.py venv</code> </pre> <br><p>  <em><strong>Note:</strong> I have several versions of Python installed.</em>  <em>I am using Python3.3.</em>  <em>In my case, I had to enter a string like this:</em> </p><br><pre> <code class="hljs tex">C:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">microblog</span></span></span></span>&gt;c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>.exe c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">site</span></span></span></span>-packages<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">virtualenv</span></span></span></span>.py venv</code> </pre> <br><p>  <em>In the received message you can see that <code>pip</code> and a number of packages are installed:</em> </p><br><pre> <code class="hljs tex">Using base prefix 'c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">\</span></span></span></span>Python33' New python executable in C:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">microblog</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">venv</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Scripts</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>.exe Installing setuptools, pip, wheel...done.</code> </pre> <br><p>  Regardless of the method you used to create it, you created your own virtual environment.  Now you need to tell the system that you want to use it by activating it.  To activate a new virtual environment, use the following command: </p><br><pre> <code class="hljs ruby">$ source venv/bin/activate (venv) $ <span class="hljs-number"><span class="hljs-number">_</span></span></code> </pre> <br><p>  If you use cmd (Microsoft Windows Command Prompt window), the activation command is slightly different: </p><br><pre> <code class="hljs ruby">$ venv\Scripts\activate (venv) $ <span class="hljs-number"><span class="hljs-number">_</span></span></code> </pre> <br><p>  When you activate a virtual environment, the terminal's session configuration changes so that the Python interpreter stored inside it becomes what is called when you enter <code>python</code> .  In addition, the name of the activated virtual environment is included in the terminal request.  Changes made to a terminal session are temporary and private for this session, so they will not be saved when the terminal window is closed.  If you simultaneously work with several terminal windows, it is perfectly obvious that each of them has different virtual environments. </p><br><p>  Now that you have created and activated a virtual environment, you can finally install Flask into it: </p><br><pre> <code class="hljs tex">(venv) C:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">microblog</span></span></span></span>&gt;pip install flask Collecting flask Using cached Flask-0.12.2-py2.py3-none-any.whl Requirement already satisfied: click&gt;=2.0 in c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">site</span></span></span></span>-packages (from flask) Requirement already satisfied: Werkzeug&gt;=0.7 in c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">site</span></span></span></span>-packages (from flask) Requirement already satisfied: Jinja2&gt;=2.4 in c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">site</span></span></span></span>-packages (from flask) Requirement already satisfied: itsdangerous&gt;=0.21 in c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">site</span></span></span></span>-packages (from flask) Requirement already satisfied: markupsafe in c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">site</span></span></span></span>-packages (from Jinja2&gt;=2.4-&gt;flask) Installing collected packages: flask Successfully installed flask-0.12.2 (venv) C:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">microblog</span></span></span></span>&gt;</code> </pre> <br><p>  If you want to verify that Flask is installed in your virtual environment, you can run the Python interpreter and import Flask into it: </p><br><pre> <code class="hljs pgsql">(venv) C:\microblog&gt;python Python <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>:<span class="hljs-number"><span class="hljs-number">62</span></span>cf4e77f785, Mar <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-type"><span class="hljs-type">bit</span></span> (Intel)] <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> win32 <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> "help", "copyright", "credits" <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> "license" <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> flask &gt;&gt;&gt;</code> </pre> <br><p>  If this import does not give you any errors, you can congratulate yourself, since <code>Flask</code> installed and ready to use. </p><br><h2 id="flask-prilozhenie-privet-mir">  Flask application "Hello world" </h2><br><p>  If you go to <a href="http://flask.pocoo.org/">the Flask website</a> , you are greeted by a very simple sample application with five lines of code.  Instead of repeating this trivial example, I will show you a little more complicated one, which will give you a good basic structure for writing large applications. </p><br><p>  The application will exist as a package. </p><br><p>  <em><strong>Note of Translator:</strong> A package is a collection of modules.</em> </p><br><p>  In Python, the subdirectory containing the <code>__init__.py</code> file is considered a package and can be imported.  When you import a package, <code>__init__.py</code> executes and determines which characters provide the package to the outside world. </p><br><p>  Let's create a package called <code>app</code> in which the application will be placed.  Make sure you are in the <code>microblog</code> directory, and then run the following command: </p><br><pre> <code class="hljs dos">(venv) $ <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> app</code> </pre> <br><p>  <code>__init__.py</code> for the application package will contain the following code: </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flask <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Flask app = Flask(__name__) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> routes</code> </pre> <br><p>  The script above simply creates an application object as an instance of the Flask class imported from the flask package.  The variable <code>__name__</code> passed to the Flask class is a predefined Python variable that is specified by the name of the module in which it is used.  Flask uses the location of the module, provided here as a starting point, when it needs to load related resources, such as template files, which I will cover in <strong>Chapter 2</strong> .  For all practical purposes, passing <code>__name__</code> almost always set up flask in the right direction.  The application then imports the <code>routes</code> module, which does not yet exist. </p><br><p>  One aspect that may seem confusing at first is that there are two objects named <em>app</em> .  The application package is determined by the application directory and the <code>__init__.py</code> script and is specified in the application import instructions.  The <em>app</em> variable is defined as an instance of the Flask class in the <code>__init__.py</code> script, which makes it part of the application package. </p><br><p>  Another feature is that the <code>routes</code> module is imported at the bottom and not at the top of the script, as is always the case.  Bottom import is a workaround for cyclical imports, which is a common problem when using Flask applications.  You will see that the <code>routes</code> module must import the application variable defined in this script, so by placing one of the mutual imports at the bottom, you will avoid the error that arises from the reciprocal links between these two files. </p><br><p>  So what is included in the <code>routes</code> module?  <code>routes</code> are different URLs that the application implements.  In Flask, application route handlers are written as Python functions, called browsing functions.  The browsing functions are mapped to one or more route URLs, so Flask knows which logic to execute when the client requests this URL. </p><br><p>  Here is your first browsing function that you need to write in the new module named <code>app/routes.py</code> : </p><br><pre> <code class="hljs ruby">from app import app @app.route(<span class="hljs-string"><span class="hljs-string">'/'</span></span>) @app.route(<span class="hljs-string"><span class="hljs-string">'/index'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">index</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span></code> </pre> <br><p>  This viewing function is actually quite simple; it simply returns the greeting as a string.  The two strange lines <code>@app.route</code> over the function are the decorators, a unique feature of the Python language.  The decorator changes the function that follows it.  Common template with decorators - use them to register functions as callbacks for certain events.  In this case, the <code>@app.route</code> decorator creates a link between the URL specified as an argument and the function.  In this example, there are two decorators that associate the URLs <code>/</code> and <code>/index</code> with this function.  This means that when a web browser requests one of these two URLs, Flask will call this function and pass the return value back to the browser as a response.  If it seems to you that this does not make sense yet, it will not be long until you start this application. </p><br><p>  To complete the application, you need to create a python script at the top level that defines an instance of the Flask application.  Let's call this script <em>microblog.py</em> and define it as one line that imports an instance of the application: </p><br><pre> <code class="hljs swift">from app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> app</code> </pre> <br><p>  Remember the two <code>app</code> objects?  Here you can see both together in one sentence.  The Flask application instance is called <code>app</code> and is included in the <em>app</em> package.  from app import app imports the app variable included in the <em>app</em> package.  If you find this confusing, you can rename either the package or the variable to something else. </p><br><p>  To make sure that you are doing everything right, below is a diagram of the project structure: </p><br><pre> <code class="hljs markdown">microblog/ venv/ app/ <span class="hljs-strong"><span class="hljs-strong">__init__</span></span>.py routes.py microblog.py</code> </pre> <br><p>  Believe it or not, the first version of the application is complete!  Before launching it, Flask needs to be told how to import it by setting the <code>FLASK_APP</code> environment <code>FLASK_APP</code> : </p><br><pre> <code class="hljs objectivec">(venv) $ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> FLASK_APP=microblog.py</code> </pre> <br><p>  If you are using Microsoft Windows, use the 'set' command instead of the 'export' command in the command above. </p><br><p>  Are you ready to be shocked?  You can run your first web application with the following command: </p><br><pre> <code class="hljs cs">(venv) $ flask run * Serving Flask app <span class="hljs-string"><span class="hljs-string">"microblog"</span></span> * Running <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> http:<span class="hljs-comment"><span class="hljs-comment">//127.0.0.1:5000/ (Press CTRL+C to quit)</span></span></code> </pre> <br><p>  <em><strong>Note:</strong> I was shocked because I got an encoding error.</em>  <em>If you have a version of Python older than 3.6 you are most likely in for a surprise.</em>  <em>Type:</em> </p><br><pre> <code class="hljs vhdl">Syntax <span class="hljs-literal"><span class="hljs-literal">Error</span></span>: (unicode <span class="hljs-literal"><span class="hljs-literal">error</span></span>) <span class="hljs-symbol"><span class="hljs-symbol">'utf</span></span>-<span class="hljs-number"><span class="hljs-number">8</span></span>' codec can<span class="hljs-symbol"><span class="hljs-symbol">'t</span></span> decode byte <span class="hljs-number"><span class="hljs-number">0</span></span>xcf <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> position <span class="hljs-number"><span class="hljs-number">0</span></span>: invalid continuation byte:</code> </pre> <br><p>  <em>In my case, the Cyrillic PC characters are to blame for the computer name.</em>  <em>Replaced with PK and it worked.</em>  <em>The socket module is to blame</em> </p><br><pre> <code class="hljs pgsql">(venv) C:\microblog&gt;python Python <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>:<span class="hljs-number"><span class="hljs-number">62</span></span>cf4e77f785, Mar <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-type"><span class="hljs-type">bit</span></span> (Intel)] <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> win32 <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> "help", "copyright", "credits" <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> "license" <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gethostbyaddr &gt;&gt;&gt; gethostbyaddr(<span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>) (<span class="hljs-string"><span class="hljs-string">'Acer-PK'</span></span>, [], [<span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>]) &gt;&gt;&gt;</code> </pre> <br><p>  <em>It really worked:</em> </p><br><pre> <code class="hljs cs">(venv) C:\microblog&gt;<span class="hljs-keyword"><span class="hljs-keyword">set</span></span> FLASK_APP=microblog.py (venv) C:\microblog&gt;flask run * Serving Flask app <span class="hljs-string"><span class="hljs-string">"microblog"</span></span> * Running <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> http:<span class="hljs-comment"><span class="hljs-comment">//127.0.0.1:5000/ (Press CTRL+C to quit)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/ca3/239/dde/ca3239dde36652d873aee1315472a64a.png"></p><br><p>  What to write in Russian "Hello, World!"  need to adjust <br>  <em>routes.py</em> module </p><br><p>  Add line <code># -*- coding: utf-8 -*-</code> </p><br><pre> <code class="hljs kotlin"># -*- coding: utf-<span class="hljs-number"><span class="hljs-number">8</span></span> -*- from app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> app <span class="hljs-meta"><span class="hljs-meta">@app</span></span>.route(<span class="hljs-string"><span class="hljs-string">'/'</span></span>) <span class="hljs-meta"><span class="hljs-meta">@app</span></span>.route(<span class="hljs-string"><span class="hljs-string">'/index'</span></span>) def index(): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">", !"</span></span></code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/ecf/279/f37/ecf279f3796c921f601d668f92a9aaf1.png"></p><br><p>  When you finish playing with the server, you can just press Ctrl-C to stop it. </p><br><p>  Congratulations, you have made the first big step to becoming a web developer! </p><br><p>  <a href="https://habrahabr.ru/post/346340/">&gt;&gt;&gt; <strong>next chapter</strong> &gt;&gt;&gt;</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/346306/">https://habr.com/ru/post/346306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346296/index.html">Improving session control in Spring Security</a></li>
<li><a href="../346298/index.html">Which is better - 1 mobile development team or 15?</a></li>
<li><a href="../346300/index.html">Welcome to PGConf.Russia 2018</a></li>
<li><a href="../346302/index.html">IT 2018: the future came yesterday</a></li>
<li><a href="../346304/index.html">An illustrative guide to networking in Kubernetes. Parts 1 and 2</a></li>
<li><a href="../346308/index.html">Getting rid of the boilerplate for validation in ASP.NET MVC</a></li>
<li><a href="../346310/index.html">What to do when a small business is seriously thinking about moving from Windows to Linux</a></li>
<li><a href="../346312/index.html">How to negotiate with English-speaking colleagues: instructions</a></li>
<li><a href="../346314/index.html">Understanding the network Kubernetes: services</a></li>
<li><a href="../346316/index.html">Singleton in unity3d</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>