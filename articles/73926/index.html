<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Available on server load</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="And so, the purpose of this topic: the visualization of the site load on one ordinary server. 

 The article will be an example of one site and one se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Available on server load</h1><div class="post__text post__text-html js-mediator-article">  And so, the purpose of this topic: the <b>visualization of the</b> site <b>load</b> on one ordinary server. <br><img src="http://clip2net.com/clip/m23235/1256986904-clip-52kb.png" alt="image"><br>  The article will be an example of one site and one server try to look at the basic steps to reduce the load on the server. <br><a name="habracut"></a><br><br>  <b>Website:</b> Wordpress with daily traffic according to GA <br><img src="https://habrastorage.org/getpro/geektimes/post_images/4b7/3d3/774/4b73d3774a426dfa1aac4611c5133452.png" alt="image"><br><br>  <b>North:</b> with two Intel¬Æ Xeon (TM) CPUs 2.80GHz with 4GB of RAM onboard. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>History:</b> A couple of years ago, an idea arose to create a small website for one local network of our city, as time went on, attendance grew and the provider asked to move to its hardware due to the large consumption of resources, the provider is ready to host the hardware. <br>  So the usual ATX system builder with a p4 3000c processor and 1 GB of memory was assembled. <br>  On the server there was ubuntu Dekstopnaya Pravda :) and quietly peacefully the site developed enough resources for everything, but when the site had over 3000 posts, the database grew to a gigabyte (then there was WP 2.3) and I had to transfer the database to another server, the server was found, had one processor 2.8 and memory gig, he took the burden of the database.  as time went on, and in the evenings the server with the database simply stood at 100% load, while site traffic was around 700-900 unique per day. <br>  Then there was a terrible state of emergency and I lost all the data with fresh backups, and the old one didn‚Äôt make much sense.  (Yes, yes, the backup should be correct!) So life began with a clean slate, along the way I wondered about optimization and reducing the load. <br>  Thus, Ubuntu 8.04 LTS was installed, Apache2 was hidden behind nginx, the content of the site carried almost the same statics: pictures, videos, flash drives. (About 80,000 files) Nginx gave stats with a bang without spending much money. <br><br>  Next was the "tuning" of the database I will try to tell about it in a separate topic.  :) <br><br>  Along the way, was bought on ebay server for <b>$ 127</b> shipping to Siberia + $ 100 <br><img src="https://habrastorage.org/getpro/geektimes/post_images/435/9f8/319/4359f8319d6187a5ba8a8214366a3c70.jpg" alt="image"><br><br>  Attendance grew, the database grew -&gt; the load grew and there were less and less free resources. <br>  At that moment she looked like this.  CPU and Memory. <br><img src="http://clip2net.com/clip/m23235/1256982661-clip-71kb.jpg" alt="image"><br><img src="http://clip2net.com/clip/m23235/1256982792-clip-49kb.jpg" alt="image"><br><br>  Next was connected <b>eAccelerator</b> <br><img src="http://clip2net.com/clip/m23235/1256983038-clip-87kb.jpg" alt="image"><br><img src="http://clip2net.com/clip/m23235/1256985177-clip-57kb.jpg" alt="image"><br>  there is a sharp decrease in memory consumption. <br>  Next on the benefits of wordpress caching plugins. <br>  We include the <b>Hyper Cache</b> plugin, although it is now included in the distribution, but I could be wrong. <br><br><img src="http://clip2net.com/clip/m23235/1256985733-clip-90kb.jpg" alt="image"><br><img src="http://clip2net.com/clip/m23235/1256985851-clip-60kb.jpg" alt="image"><br>  The CPU load noticeably drops. <br>  Turn on <b>WP Super Cache</b> plugin <br><img src="http://clip2net.com/clip/m23235/1256986200-clip-87kb.jpg" alt="image"><br><img src="http://clip2net.com/clip/m23235/1256986298-clip-62kb.jpg" alt="image"><br>  Especially the difference is not noticed :) <br><br>  Now a little about the test method.  In fact, the test was conducted in the reverse order, since  The system is rebuilt and works fine.  take turns once a day at about the same time turning off one element ... <br>  The test was carried out for 4 days. <br><br>  I would also like to hurt the performance of MYSQL and Wordpres as a whole.  For now, I can say that Wodrpress generates 70-100 requests to the database for downloading the 1st page, for which there is a separate hello for this CMS and the creators of plug-ins who did not pass the ‚Äúdatabase‚Äù course. </div><p>Source: <a href="https://habr.com/ru/post/73926/">https://habr.com/ru/post/73926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../73912/index.html">A bus route with free access to the Internet appeared in Ufa</a></li>
<li><a href="../73915/index.html">Easy launch of the OpenVPN tunnel on a laptop</a></li>
<li><a href="../73916/index.html">Twins</a></li>
<li><a href="../73919/index.html">Employees of the company Nevalink</a></li>
<li><a href="../73920/index.html">Welcome to the ranks of the conservatives</a></li>
<li><a href="../73927/index.html">Google Wave Notifier for Ubuntu</a></li>
<li><a href="../73928/index.html">We write cross-browser UserJS. Example # 2: redefine alert ()</a></li>
<li><a href="../73929/index.html">Working with a team on Google Docs</a></li>
<li><a href="../73930/index.html">Console emulation on PSP</a></li>
<li><a href="../73935/index.html">HabraGoogle - search for Firefox</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>