<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FRUSDR update for optimal server performance (INTEL platform)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For several years I have been administering a couple of servers on the INTEL platform, on which IIS is spinning, when they start and work, it seems th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FRUSDR update for optimal server performance (INTEL platform)</h1><div class="post__text post__text-html js-mediator-article">  For several years I have been administering a couple of servers on the INTEL platform, on which IIS is spinning, when they start and work, it seems that somewhere near a small plane is preparing to take off.  As it turned out, the reason is simple: <b>FRUSDR</b> is <b>not configured correctly</b> . <br><br>  For optimal server performance, you must upgrade and reconfigure the FRUSDR <i>(Field Replaceable Unit / Sensor Data Record)</i> . <br><br>  Searching the network for instructions on updating and configuring FRUSDR did not give a proper result, so, after studying the documentation from INTEL, I decided to put it all in one article. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  So, we are starting to update the BMC, BIOS, FRUSDR and ME </h4><a name="habracut"></a><br>  First, we need the firmware itself: you can download it on the <a href="https://downloadcenter.intel.com/ru">INTEL</a> website.  Download the downloaded archive to a USB flash drive, for convenience it‚Äôs better to root. <br><br>  Check out the <b>Update_Instructions.txt</b> file (located in the archive you downloaded) - it describes the update process, as well as the minimum requirements for the DMC version for installing this update.  To check the current firmware version, go to the BIOS using F2. <br><br>  The BIOS version is on the first tab. <br><br><div class="spoiler">  <b class="spoiler_title">BIOS version</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/cc7/73c/5eb/cc773c5ebde44738902fb17efe6060cd.jpg"><br></div></div><br>  The BMC, FRUSDR, HSC and ME versions are shown on the Server Management -&gt; System Information page. <br><br><div class="spoiler">  <b class="spoiler_title">System information</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/46a/664/3ac/46a6643ac6e0477098e61bb04bfb5459.jpg"><br><br><img src="https://habrastorage.org/files/389/56f/0ee/38956f0eeeb74fa8ace49b410f0e0c4d.jpg"><br></div></div><br>  Next, go to the Boot Manager and select the Internal EFI shell. <br><br><div class="spoiler">  <b class="spoiler_title">Internal EFI shell</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/14e/258/bbf/14e258bbf72e43e89c1ad22a67607a1d.jpg"><br></div></div><br>  You can get to the Internal EFI shell immediately if you call the Boot Manager (F6) during system boot. <br><br><div class="spoiler">  <b class="spoiler_title">Boot manager</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/c4b/321/512/c4b321512ecf4a4e967b51a387c6e12a.jpg"><br></div></div><br>  Before downloading EFI, you can cancel startup.nsh (ESC key) for manual update within 6 seconds or wait for startup.nsh to automatically update BMC, BIOS, FRUSDR and ME, in this case all components will be updated, including and FRUSDR. <br><br>  If for some reason startup.nsh did not start or you need to update individual components, then after loading EFI, type <b>fs0:</b> (if the USB drive was inserted during the boot process, first enter the <b>map ‚Äìr</b> command so that the system recognizes the media). <br><br><img src="https://habrastorage.org/files/59a/092/24a/59a09224ae54401eab32ed3368917321.jpg"><br><br>  Using DOS or Linux commands, navigate to the directory where the unpacked service pack file is located.  Using the <b>dir * .nsh command,</b> you can view the contents of a folder. <br><br><img src="https://habrastorage.org/files/47e/39c/246/47e39c246b264831b31d012c2e86fb11.jpg"><br><br><h4>  Update BMC </h4><br>  In this case, run BMC38 (depending on the version of the software being updated, the file name may differ) to update the BMC. <br><br><img src="https://habrastorage.org/files/7bc/d8e/7f1/7bcd8e7f1ce843eabdf5a121b145c5e7.jpg"><br><br>  We are waiting for the end of the BMC update. <br><br><img src="https://habrastorage.org/files/acd/2a7/faf/acd2a7fafdae4bac8ef2ddf3ce98f58f.jpg"><br><br><h4>  BIOS update </h4><br>  Enter bios37 (depending on the version of the software being updated, the file name may differ) to update the BIOS. <br><br><img src="https://habrastorage.org/files/f05/7d7/78a/f057d778af33483ea85ca9f2f9804b92.jpg"><br><br>  We are waiting for the end of the BIOS update. <br><br><h4>  Update ME </h4><br>  Enter ME110 (depending on the version of the software being updated, the file name may differ) to update ME. <br><br><img src="https://habrastorage.org/files/3a2/a36/86d/3a2a3686db8e46d084299483dff63c44.jpg"><br><br><h4>  FRUSDR update </h4><br>  <b>Enter fur16</b> (depending on the version of the software being updated, the file name may differ) to update FRUSDR.  The update process asks for configuration information from the user.  Incorrect data entered during the update process may lead to inefficient use of electricity and the cooling system.  Ensure that you have the necessary system configuration information before you begin the upgrade process. <br><br><img src="https://habrastorage.org/files/053/591/435/0535914350e444a98b9fab00aae3ad24.jpg"><br><br>  After running <b>fur16.nsh,</b> select the necessary items for the update. <br><br><img src="https://habrastorage.org/files/c50/fc4/5cc/c50fc45cc64649d9873d073922a21db0.jpg"><br><br>  We are interested in paragraph 3: Update both the SDR and the FRU. <br><br>  Further, depending on the selected item, additional information will be requested. <br><br><div class="spoiler">  <b class="spoiler_title">SDR update issues.</b> <div class="spoiler_text">  <b>Select the Chassis</b> * <br>  1: <b>Intel¬Æ Server Chassis SR1600UR</b> <br>  2: <b>Intel¬Æ Server Chassis SR1625UR</b> <br>  3: <b>Intel¬Æ Server Chassis SR2600URBRP</b> <br>  4: <b>Intel¬Æ Server Chassis SR2600URLX</b> <br>  5: <b>Other Chassis</b> <br><br>  This information is requested only if it was not possible to automatically correctly identify the chassis.  In this case, the user will have to select the desired answer. <br><br>  If you select point <b>5: Other Chassis</b> , then the user must provide complete chassis configuration information in response to the following questions: <br><br>  <b>Q3: Does the system detect chassis intrusion?</b>  <i>(Is there a case opening sensor?)</i> <br><br>  <b>Q4: Does the front panel support a NMI button?</b>  <i>(Is there an NMI button on the front panel?)</i> <br><br>  <b>Q5: Is CPU Fan 1 installed?</b>  <i>(Availability of CPU Fan 1?)</i> <br><br>  <b>Q6: Is Memory Fan 1 installed?</b>  <i>(Available Memory Fan?)</i> <br><br>  <b>Q7: Is System Fan 1 installed?</b>  <i>(Availability System Fan?)</i> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Questions related to the FRU update</b> <div class="spoiler_text">  <b>Do you want to update the chassis info area of ‚Äã‚Äãthe FRU</b> (Y / N)?  <i>(Do you want to update the chassis information in the FRU?)</i> <br>  <i><b>If Yes, additional questions will be asked.</b></i> <br>  <b>Do you want to enter the chassis serial number (Y / N)?</b>  <i>(Do you want to specify chassis serial number?)</i> <br>  <b>Do you want to enter the chassis part number (Y / N)?</b>  <i>(Want to enter the chassis batch number)</i> <br>  <b>Do you want to enter data into the additional chassis field 1 (Y / N)?</b>  <i>(Would you like to enter an additional chassis field 1)</i> <br>  <b>Do you want to enter data into the additional chassis field 2 (Y / N)?</b>  <i>(Want to enter additional chassis field 2)</i> <br><br>  <b>Do you want to update the product info area of ‚Äã‚Äãthe FRU (Y / N)?</b>  <i>(Do you want to update product information ( <s>motherboard</s> ) in FRU?)</i> <i><br></i> <br>  <i><b>If Yes, additional questions will be asked.</b></i> <br>  <b>Do you want to enter the product part number (Y / N)?</b>  <i>(You want to enter the product number ( <s>model</s> ))</i> <br>  <b>Do you want to enter the product serial number (Y / N)?</b>  <i>(You want to enter the serial number of the product</i> <br>  <b>Do you want to enter a product asset tag (Y / N)?</b>  <i>(You want to enter the asset tag of the product)</i> <br></div></div><br>  Then we wait for the update to complete, after which it will be offered to reboot the system using the power button on the front control panel. <br><br>  We start the server, check the versions in the BIOS, use and enjoy the optimal operation of the cooling system coolers. <br><br>  PS: I took part of the screenshots from the demonstration of INTEL, since the plans did not include writing an article. <br><br>  List of materials used: <br><br>  Detailed instructions for <a href="http://download.intel.com/support/motherboards/server/sb/updating_frusdr_on_epsd_server.pdf">updating FRUSDR</a> ; <br>  <a href="http://www.intel.com/support/motherboards/server/sb/Firmware_Update_EFI_demo_Rus.htm">Short demonstration of</a> software updates via EFI Shell. </div><p>Source: <a href="https://habr.com/ru/post/276975/">https://habr.com/ru/post/276975/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276961/index.html">Nginx 1.9.11 released with support for dynamic modules</a></li>
<li><a href="../276967/index.html">Hardware password manager or how to stop entering passwords and start living</a></li>
<li><a href="../276969/index.html">Dash opened source code for vending machine with InstantX</a></li>
<li><a href="../276971/index.html">RxSwift in action - we write reactive application</a></li>
<li><a href="../276973/index.html">Explaining the inexplicable. Part 2</a></li>
<li><a href="../276977/index.html">Domain telephony</a></li>
<li><a href="../276979/index.html">PRIMEFLEX vShape - turnkey solution for the implementation of virtualization</a></li>
<li><a href="../276981/index.html">Crash course on interfaces in go</a></li>
<li><a href="../276983/index.html">VK vulnerability: access to previews of photos from dialogues and hidden albums of any user</a></li>
<li><a href="../276987/index.html">Part-to-whole ratio in temporal / event ontology</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>