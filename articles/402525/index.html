<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why OneDrive slowed under Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For several months, users of OneDrive for Business complain of a strange problem: the web application opens very slowly and works slowly under Linux (...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why OneDrive slowed under Linux</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/30c/8f1/f2d/30c8f1f2d6c946ecae81aea439444011.png"><br><br>  For several months, users of OneDrive for Business <a href="https://answers.microsoft.com/en-us/msoffice/forum/msoffice_onedrivefb-mso_o365brs/onedrive-for-business-open-is-very-slow-on-linux/3d33dc1b-3cc3-4c24-9998-9ab96bad31fc">complain of</a> a strange problem: the web application opens very slowly and works slowly under Linux (Chrome / Firefox).  But the speed of the application increases dramatically if you change the user-agent on Windows. <br><a name="habracut"></a><br>  November 26, 2016, one of the users <a href="https://answers.microsoft.com/en-us/msoffice/forum/msoffice_onedrivefb-mso_o365brs/onedrive-for-business-open-is-very-slow-on-linux/3d33dc1b-3cc3-4c24-9998-9ab96bad31fc">gave</a> such an example.  On Ubuntu / Linux 16.04 + Chrome / Firefox (latest version) it opens: <br><br> <code>https://&lt;my_company&gt;-my.sharepoint.com/personal/&lt;my_user&gt;/_layouts/15/onedrive.aspx</code> <br> <br>  Within two minutes, the UI does not respond, the CPU load is 100%, the network panel shows a page load of about 100 MB. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you change the user-agent in the browser, specifying the Windows operating system, then everything works as expected. <br><br>  In the following discussion, the problem was confirmed by other users.  Some were frustrated with Microsoft‚Äôs behavior, one said about switching to Google Apps.  At this discussion and stopped.  As it turned out, it is difficult to get justice in the official support forum. <br><br>  The topic resurfaced on March 22, 2017, when one of the Reddit users <a href="https://www.reddit.com/r/linux/comments/60nj67/office_365_onedrive_looks_at_useragent_to/">complained</a> about a similar problem.  He said that he uses a laptop with Linux Mint 18.1 and Firefox 52, and uses only Word from Office 365 services.  This has to be done, because when working in a team, format compatibility is important.  Unlike the previous user, his OneDrive still runs, although it works very slowly, with creepy lags.  At the same time, there are no such problems on the Windows 10 desktop computer. <br><br>  Then he got the idea to try the <a href="https://addons.mozilla.org/nl/firefox/addon/modify-headers/developers">extension</a> to change the user-agent in Firefox.  He put such a user-agent, changing only the operating system: Mozilla / 5.0 (Windows NT 6.1; WOW64; rv: 40.0) Gecko / 20100101 Firefox / 52 - and the problem was miraculously solved.  The OneDrive interface did not slow down at all. <br><br>  The user said that the same method helped his friend.  If you return the usual Mozilla / 5.0 user-agent (Linux Mint / 18.1; WOW64; rv: 40.0) Gecko / 20100101 Firefox / 52, the brakes are also returned. <br><br>  The strange behavior of the web application has generated a number of questions.  It is not clear how application performance may depend on user-agent? <br><br>  March 23, 2017, Microsoft finally <a href="https://news.ycombinator.com/item%3Fid%3D13937189">clarified the situation</a> .  The employee explained that this bug was fixed.  It turns out that the problem was with the StaticLoad.aspx page, which in the background pumps up resources for office web applications (this is the standard optimization technology in browsers - prefetching or prefetching). <br><br>  As it turned out, due to ridiculous chance, this page used one link for prefetching in browsers on iOS, Chrome OS, Mac, Windows operating systems, but for browsers on Linux operating system, it slid into an alternative, less efficient prefetch mechanism - without optimization. <br><br>  The employee stressed that the problem was fixed on March 22 at 15:00 PST, it was a completely unintentional mistake - and apologized for any inconvenience. <br><br>  In a <a href="https://news.ycombinator.com/item%3Fid%3D13937639">more detailed explanation</a> , a Microsoft employee explained that by a ‚Äúless efficient‚Äù prefetching mechanism, he means prefetching using the &lt;object&gt;, &lt;script&gt;, &lt;img&gt; tags.  In this case, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Link_prefetching_FAQ">prefetch links</a> are not used.  This is the mechanism that browsers under Linux have been switching to. <br><br>  The employee said that browser recognition by the StaticLoad.aspx page was done to select the prefetch method, because not all browsers support the most optimal prefetching of links.  Therefore, some were rolled into the prefet through tags &lt;object&gt;, &lt;script&gt;, &lt;img&gt;. <br><br>  Perhaps there was some kind of white or black list - and this list did not work completely correctly.  Well, such simple programmer errors occur even in large companies like Microsoft.  The main thing is that the company, albeit with a delay of six months or a year, but recognized the problem - and corrected it. <br><br>  "Updated" Microsoft declares that it is very friendly with Open Source and GNU / Linux.  Everyone remembers how Satya Nadella <a href="https://youtu.be/54hHr8ye2kE">said</a> : ‚ÄúMicrosoft loves Linux‚Äù.  True, this does not prevent Microsoft from continuing to <a href="https://geektimes.ru/post/272592/">patent attacks on Linux</a> and <a href="https://geektimes.ru/post/132738/">issue money with Android</a> , but these are trifles. </div><p>Source: <a href="https://habr.com/ru/post/402525/">https://habr.com/ru/post/402525/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../402515/index.html">Braun Oral-B Genius 9000: when a brush gives advice through a smartphone</a></li>
<li><a href="../402517/index.html">Winstar Graphic and Text Display Mode</a></li>
<li><a href="../402519/index.html">The heirs-owners returned the work of the Strugatsky brothers to free access</a></li>
<li><a href="../402521/index.html">Infrared WiFi is 17 times faster than usual, but one-sided</a></li>
<li><a href="../402523/index.html">"Thin World". Chapter 9</a></li>
<li><a href="../402527/index.html">From four to thirty two</a></li>
<li><a href="../402529/index.html">Why a cardio shirt is better than without it: a few words about smart clothes</a></li>
<li><a href="../402531/index.html">Artificial Intelligence is watching you</a></li>
<li><a href="../402533/index.html">Google has lost confidence in Symantec certificates</a></li>
<li><a href="../402535/index.html">What you will not specifically look for: a collection of Geek-accessories within a thousand and a half</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>