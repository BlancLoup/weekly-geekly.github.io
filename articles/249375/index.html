<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We decipher the formula of the Habr-rating or the restoration of functional dependencies according to the empirical data</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you have ever read the help section on Habr√©, you probably saw a most interesting line there: 
 Suppose you wrote a publication with a rating of +1...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We decipher the formula of the Habr-rating or the restoration of functional dependencies according to the empirical data</h1><div class="post__text post__text-html js-mediator-article">  If you have ever read the <a href="http://habrahabr.ru/info/help/karma/">help</a> section on Habr√©, you probably saw a most interesting line there: <br><blockquote>  Suppose you wrote a publication with a rating of +100 - this added the X value to your personal rating. After a few dozen days, this same X will be deducted, thereby returning you to its original place. </blockquote>  then they probably wondered what kind of <i>X is</i> and <s>from which district</s> it is equal to what? <br><br>  Today we will answer this question. <br><br><img src="https://habrastorage.org/files/f45/552/55f/f4555255f4ec4c0da304bbe055b3340a.jpg"><br>  <i>(we measure Habra-rating in parrots)</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Article structure </h4><br><ol><li>  <a href="http://habrahabr.ru/post/249375/">Analytical conclusion</a> <ul><li>  <a href="http://habrahabr.ru/post/249375/">Basic assumptions</a> </li><li>  <a href="http://habrahabr.ru/post/249375/">Derivation of coefficients</a> </li><li>  <a href="http://habrahabr.ru/post/249375/">Final formula</a> </li></ul></li><li>  <a href="http://habrahabr.ru/post/249375/">Regression</a> </li><li>  <a href="http://habrahabr.ru/post/249375/">Exceptions</a> </li><li>  <a href="http://habrahabr.ru/post/249375/">Sustained regression</a> </li><li>  <a href="http://habrahabr.ru/post/249375/">Script and data</a> </li><li>  <a href="http://habrahabr.ru/post/249375/">Why hide the function is useless</a> </li><li>  <a href="http://habrahabr.ru/post/249375/">What can be done with this?</a> </li><li>  <a href="http://habrahabr.ru/post/249375/">Interpretation of the formula</a> </li></ol><a name="habracut"></a><br><br><a name="analysis"></a><h4>  Analytical conclusion </h4><br>  In this part, we consider the basic properties that any rating function should satisfy, and using our knowledge of the subject area, we will try to guess the specific type of function. <br><br><a name="assumptions"></a><h5>  Basic assumptions </h5><br>  What does the rating depend on in principle?  Rating of any user is formed by the actions of other users, or rather their vote for karma, topics and comments.  There are no other ways to influence the users' indicators of Habra residents.  This means that our function accepts the value of karma (rational), votes on topics (integer) and comments (integer) and returns a rational number. <br><br><img src="https://habrastorage.org/files/149/acc/6d1/149acc6d118c4866845153d856a071d2.png"><br><br>  Moreover, we know that karma and votes for comments and topics independently influence the rating, which means that our ternary function splits into some composition of three unary.  Suppose it is a sum of three functions. <br><br><img src="https://habrastorage.org/files/498/85f/5f1/49885f5f14954b9c9cf494744aa9ff7d.png"><br><br>  What boundary conditions must <b>any</b> rating function satisfy?  Boundary conditions - any new user has a rating equal to zero;  if the user has not written a single post, it means that the contribution of posts to the rating is also zero, etc. <br><br><img src="https://habrastorage.org/files/559/9e4/b9a/5599e4b9aaaa4a23b6dd2b6d53a4e330.png"><br><br>  What else do we know about these features?  They should be monotonically increasing and simple to calculate (that is, somehow simply expressed through elementary functions).  Consider the simplest option - a linear relationship for each of the parameters. <br><br><img src="https://habrastorage.org/files/198/2d3/40f/1982d340f7374b0eb94a56d6526d896e.png"><br><br><a name="inference"></a><h5>  Derivation of coefficients </h5><br>  Using boundary conditions, we can easily derive these coefficients.  Consider the case when only karma has a contribution to the rating (i.e., there are no posts and comments for the last 30 days). <br><br><img src="https://habrastorage.org/files/a54/5fa/f18/a545faf18aa8441cbce70fb0a717831b.png"><br><br>  Substitute alpha equal to one tenth in the formula: <br><br><img src="https://habrastorage.org/files/a05/39a/925/a0539a925a1942c0b39607b675ddc23c.png"><br><br>  Having received the first coefficient, we can take another user for whom one of the undefined coefficients is zero and calculate the second coefficient: <br><br><img src="https://habrastorage.org/files/cc2/478/731/cc2478731c5543fbadfb7a5af2c171e3.png"><br><br>  We substitute 4/5 for the place of the beta in the formula: <br><br><img src="https://habrastorage.org/files/ff8/90d/eb6/ff890deb6074482b9e1eb69619d38751.png"><br><br>  And the final touch. <br><br><a name="final_formula"></a><h5>  Final formula </h5><br>  Taking any other user, and substituting all the parameters, we get that the gamma is equal to 1/100. <br><br>  Then, the rating function from karma <i>k</i> , votes for topics <i>t</i> and comments <i>c</i> is equal to <br><br><img src="https://habrastorage.org/files/523/ff8/79f/523ff879f1124aa4a6be4b48957435b2.png"><br><br><a name="regression"></a><h4>  Regression </h4><br>  It is clear that the formula derived by three points may be incorrect - there is an infinite number of functions passing through three points.  Therefore, this hypothesis is worth testing.  How?  Let's try to get these coefficients directly from the data using classical regression and compare with those obtained. <br><br>  If our hypothesis is correct, then we will get a model with coefficients similar to analytical (and high parameters of confidence in the model's correctness). <br><br>  Data on the rating and the corresponding parameters of karma, votes for posts and comments (there are many other interesting and tasty data on Habra) are available here: <br>  <a href="">github.com/SergeyParamonov/HabraData/blob/master/users_rating.csv</a> <br><br>  Let's start <br><pre><code class="hljs sql">1478 users regular regression <span class="hljs-keyword"><span class="hljs-keyword">Call</span></span>: lm(formula = rating ~ karma + topic_score + comment_score - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>) Coefficients: Estimate Std. <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> Pr(&gt;|t|) karma <span class="hljs-number"><span class="hljs-number">0.1017172</span></span> <span class="hljs-number"><span class="hljs-number">0.0006097</span></span> <span class="hljs-number"><span class="hljs-number">166.842</span></span> &lt; <span class="hljs-number"><span class="hljs-number">2e-16</span></span> *** topic_score <span class="hljs-number"><span class="hljs-number">0.7862749</span></span> <span class="hljs-number"><span class="hljs-number">0.0020999</span></span> <span class="hljs-number"><span class="hljs-number">374.428</span></span> &lt; <span class="hljs-number"><span class="hljs-number">2e-16</span></span> *** comment_score <span class="hljs-number"><span class="hljs-number">0.0153159</span></span> <span class="hljs-number"><span class="hljs-number">0.0031884</span></span> <span class="hljs-number"><span class="hljs-number">4.804</span></span> <span class="hljs-number"><span class="hljs-number">1.72e-06</span></span> ***</code> </pre> <br>  As we can see, the value of the coefficients for karma and posts actually coincides, and, judging by the parameters, the model is fairly confident in estimating these two parameters.  But what about the third parameter (contribution of comments to the rating)?  And where does the difference in coefficients come from, if it is known that the function should be deterministic? <br><br><a name="exceptions"></a><h4>  Exceptions </h4><br>  It would seem that the classical regression seriously contradicts the formula we obtained - it differs in the estimation of the third parameter by 50% and does not coincide ideally in the other two.  However, it is known that the classical regression is incredibly unstable to statistical outliers.  Let's take a look at them, that is, the set of points whose rating value is significantly different from the analytical formula we obtained. <br><br><pre> <code class="hljs perl">&gt;data$dif &lt;- <span class="hljs-keyword"><span class="hljs-keyword">abs</span></span>(rating - karma/<span class="hljs-number"><span class="hljs-number">10</span></span> - topic_score*<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">8</span></span> - comment_score/<span class="hljs-number"><span class="hljs-number">100</span></span>) &gt;<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(data[data$dif &gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, ]) user rating karma topic_score comment_score dif akrot <span class="hljs-number"><span class="hljs-number">80.21</span></span> <span class="hljs-number"><span class="hljs-number">25.00</span></span> <span class="hljs-number"><span class="hljs-number">91</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">4.780</span></span> anegrey <span class="hljs-number"><span class="hljs-number">60.30</span></span> <span class="hljs-number"><span class="hljs-number">31.50</span></span> <span class="hljs-number"><span class="hljs-number">114</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">34.200</span></span> Guderian <span class="hljs-number"><span class="hljs-number">56.02</span></span> <span class="hljs-number"><span class="hljs-number">119.00</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">18.460</span></span> ilusha_sergeevich <span class="hljs-number"><span class="hljs-number">154.27</span></span> <span class="hljs-number"><span class="hljs-number">157.75</span></span> <span class="hljs-number"><span class="hljs-number">177</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">3.215</span></span> ParyshevD <span class="hljs-number"><span class="hljs-number">69.27</span></span> <span class="hljs-number"><span class="hljs-number">42.00</span></span> <span class="hljs-number"><span class="hljs-number">130</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">39.000</span></span> PatapSmile <span class="hljs-number"><span class="hljs-number">48.75</span></span> <span class="hljs-number"><span class="hljs-number">246.00</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">24.150</span></span> rw6hrm <span class="hljs-number"><span class="hljs-number">38.81</span></span> <span class="hljs-number"><span class="hljs-number">33.00</span></span> <span class="hljs-number"><span class="hljs-number">71</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">21.300</span></span> varagian <span class="hljs-number"><span class="hljs-number">81.34</span></span> <span class="hljs-number"><span class="hljs-number">170.00</span></span> <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">34</span></span> <span class="hljs-number"><span class="hljs-number">24.000</span></span></code> </pre><br>  Here you can see that the author of this article is in the list.  Why?  Because there is an article written 30 days ago, which means it did not get into the data sample, but voices disappear within three days.  From here there is a difference in a rating and indications of the received formula. <br><br>  But this is not true for all points, for example, take the <i>Guderian</i> record.  He has no boundary articles in the past 30 days.  Where does the difference come from?  Everything is very simple.  TM incorrectly counted him a rating on Habr√©, since his article moved to megamozg, and he has the missing votes on articles for it. <br><br><img src="//habrastorage.org/files/bda/3c0/5d6/bda3c05d618b4593b36d7162f9e071f1.png"><br><br>  Bingo!  We explained where the wrong points come from: <br><ul><li>  boundary articles written 30 to 33 days ago, with disappearing voices; </li><li>  moving and division Habr; </li><li>  articles cleaned up in drafts or offtopics (UFO or by the author). </li></ul><br>  But all this sounds like fitting the answer, not a beautiful verification of the hypothesis, is it?  And here we come to the rescue ... <br><br><a name="robust_regression"></a><h4>  Sustained regression </h4><br>  Suppose we have a set of emission points in the sample and it is small, well, for example, up to 5%, and a sufficient sample by users (1500 is experimentally short with the top), then we use emission-resistant regression methods ( <a href="http://www.ats.ucla.edu/stat/r/dae/rreg.htm">robust regression</a> , and here is an <a href="http://www.dbs.ifi.lmu.de/~zimek/publications/KDD2010/kdd10-outlier-tutorial.pdf">interesting KDD tutorial</a> on topic). <br><br>  Let's try to use the method right out of the box: <br><pre> <code class="hljs sql">library("MASS") ... <span class="hljs-keyword"><span class="hljs-keyword">Call</span></span>: rlm(formula = rating ~ karma + topic_score + comment_score - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>) Coefficients: <span class="hljs-keyword"><span class="hljs-keyword">Value</span></span> Std. <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> karma <span class="hljs-number"><span class="hljs-number">0.10</span></span> <span class="hljs-number"><span class="hljs-number">0.00</span></span> <span class="hljs-number"><span class="hljs-number">23463021.30</span></span> topic_score <span class="hljs-number"><span class="hljs-number">0.80</span></span> <span class="hljs-number"><span class="hljs-number">0.00</span></span> <span class="hljs-number"><span class="hljs-number">54494665.88</span></span> comment_score <span class="hljs-number"><span class="hljs-number">0.01</span></span> <span class="hljs-number"><span class="hljs-number">0.00</span></span> <span class="hljs-number"><span class="hljs-number">448681.05</span></span></code> </pre><br>  Voila, the coefficients are found and they coincide exactly with those obtained analytically. <br><br><a name="script_and_data"></a><h4>  Script and data </h4><br>  Download <a href="">here</a> and apply on <a href="">this</a> data. <br><br>  For those who do not want to go far behind the script: <br><div class="spoiler">  <b class="spoiler_title">R regression code</b> <div class="spoiler_text"><pre> <code class="hljs erlang"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">library</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"MASS"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">data</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">csv</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"users.csv"</span></span></span></span><span class="hljs-function"><span class="hljs-params">, header=T, stringsAsFactors=F)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">c</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"user"</span></span></span></span><span class="hljs-function"><span class="hljs-params">,</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"rating"</span></span></span></span><span class="hljs-function"><span class="hljs-params">,</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"karma"</span></span></span></span><span class="hljs-function"><span class="hljs-params">,</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"topic_score"</span></span></span></span><span class="hljs-function"><span class="hljs-params">,</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"comment_score"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fit</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data=data, rating ~ karma + topic_score + comment_score - </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"regular regression"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(summary(fit))</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fit</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rlm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data=data, rating ~ karma + topic_score + comment_score - </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"robust regression"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(summary(fit))</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">attach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">data</span></span></span><span class="hljs-function">$</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dif</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">abs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rating - karma/</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params"> - topic_score*</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.8</span></span></span></span><span class="hljs-function"><span class="hljs-params"> - comment_score/</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">100</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data[data$dif &gt; </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, ])</span></span></span></span></code> </pre></div></div><br><br><a name="why_hiding_is_fruitless"></a><h4>  Why hide the function is useless </h4><br>  Here, of course, an attentive reader can say: ‚ÄúWell, now TM will have to invent a new secret rating calculation function‚Äù, and this is why in this part we will discuss why it is useless to hide the rating function. <br><br>  We give the main properties of the rating: <br><ul><li>  the rating depends only on the actions of other users and channels for voting, of which there are only three: votes for posts, comments and karma; </li><li>  votes for posts, karma and comments are independent of each other  the function is always decomposed into a composition of three independent unary functions from posts, comments and karma; </li><li>  each of these functions should be simply and quickly computable, since rating indicators need to be recalculated all the time for a large number of users; </li><li>  for the same reason, it must be expressible in elementary and monotonically increasing functions; </li><li>  the function must be deterministic and without noise, ie, for two users with equal indicators of karma, votes for posts and comments, the rating must be the same (for the effective period = 30 days). </li></ul><br>  All this allows for the elementary collected data to restore this function <b>automatically</b> using the methods of stable regression and selection of unary functions separately from each other.  Introducing noise, non-deterministic elements, and probabilities will only complicate the task a little and may have a marginal effect on the accuracy of the parameters. <br><br>  Security through obscurity does not work here either. <br><br><a name="what_can_we_do"></a><h4>  What can be done with this? </h4><br>  When I wrote <a href="http://www.habr-analytics.com/monitor">Habr-Monitor</a> (this is part of <a href="http://www.habr-analytics.com/">Habr-analytics</a> , if you write to Habr, then perhaps the resource will be useful to you), which displays the change of article parameters in time, the first thing I wanted to tie is the change in votes over time.  For several reasons, this option is not available for viewing before voting for the post.  Having an analytic function for the user's rating, you can always display the rating of his current article (provided that it is one and it does not have articles on which the voices ‚Äúdisappear‚Äù at the moment). <br><br>  In fact, having this function it is possible to fasten the <i>article rating</i> parameter to the monitor (picture below). <br><img src="//habrastorage.org/files/77b/06e/961/77b06e961b4b441dae67ea12df7152fd.png"><br><br>  It will <a href="http://sohabr.net/">also</a> allow <a href="http://sohabr.net/">SoHabr</a> to <a href="http://sohabr.net/">fasten a</a> rating of articles. <br><br><a name="interpretation"></a><h4>  Interpretation of the formula </h4><br>  Voices for comments have practically no contribution to the rating, even the <a href="http://habrastats.comyr.com/za_vse_vremya_luchshie_vse.html">highest-</a> rated comments in the entire history of Habr (~ 400 +) add to the rating of 4-5 points, that is, the same amount as the article with 6-7 points. <br><br>  Karma lost its weight in relation to the rating, it had previously had a coefficient of 0.5, and now it is 0.1, which makes the top much more dynamic (it was almost impossible to enter the top-10 before). <br><br>  Every 5 votes for an article brings 4 points to the rating, that is, multiplying by 0.8 votes of the article, we get an increase to the rating.  At the moment, this is the most significant and in fact the only determining user rating factor. <br><br>  And yet, <i>X = 80</i> . <br><br>  PS statement ( <a href="http://habrahabr.ru/info/help/karma/">from here</a> ) <blockquote>  [...] over time, the rating will take on the value of half karma. </blockquote>  already wrong. </div><p>Source: <a href="https://habr.com/ru/post/249375/">https://habr.com/ru/post/249375/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249363/index.html">Car Tutorial Guide (Unity3d): Exploring an Alternative Physical Model (part 1 of 3)</a></li>
<li><a href="../249367/index.html">Templater - template manager and tweaker for MantisBT</a></li>
<li><a href="../249369/index.html">Why companies do not know how to handle money</a></li>
<li><a href="../249371/index.html">Making the game 2048 on AngularJS</a></li>
<li><a href="../249373/index.html">How to untangle noodles without falling into depression</a></li>
<li><a href="../249377/index.html">An open letter to Jon von Tachner</a></li>
<li><a href="../249379/index.html">Published official Node.JS driver for Oracle database</a></li>
<li><a href="../249381/index.html">STM32 and FreeRTOS. 3. We stand in line</a></li>
<li><a href="../249383/index.html">How to make QML friends with someone else's OpenGL context. Part III: Processing User Input</a></li>
<li><a href="../249389/index.html">Music as big data. Why, instead of sound quality, you need to think about convenience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>