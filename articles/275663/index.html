<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What could be a stack of technologies for high-frequency trading</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In our blog on Habr√©, we already talked about which data centers are used to host hardware with the trading engines of exchanges and software for high...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What could be a stack of technologies for high-frequency trading</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/itinvest/blog/275663/"><img src="https://habrastorage.org/files/28f/589/de2/28f589de2e2b414696e0264d7a32c3d3.jpg"></a> <br><br>  In our blog on Habr√©, we already talked about <a href="http://habrahabr.ru/company/itinvest/blog/274021/">which data centers are used</a> to host hardware with the trading engines of exchanges and software for high-frequency trading.  Today we will go ahead and talk about how the whole stack of technologies needed for HFT trading can be. <br><br>  Forbes cites a <a href="http://www.forbes.com/sites/quora/2014/01/07/what-is-the-technology-stack-like-behind-a-high-frequency-trading-platform/">story</a> about this co-founder of the Robinhood service (we wrote about this project <a href="http://habrahabr.ru/company/itinvest/blog/266947/">here</a> ), Bulgarian Vlad Tenev. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Prior to starting work on his own mobile application for online trading, Tenev worked for Chronos Research, which developed ultra-fast software for HFT companies, banks and hedge funds.  In many cases, the specific configuration of the infrastructure used for trade depended on the assets to be traded and the market strategies to be used.  For example, an infrastructure suitable for work in the foreign exchange market may not always be competitive in the stock or derivatives market. <br><br>  In 2011, Chronos developed two software platforms, united under the same name <a href="http://www.financemagnates.com/forex/technology/high-frequency-low-latency-traders-boosted-by-chronos-and-cfn-tie-up/">Zardoz</a> (like the <a href="http://www.imdb.com/title/tt0070948/">movie</a> with John Connery) - one of them worked on standard x86 hardware and could be used for trading with delays of 15 microseconds.  The other one was optimized for working with <a href="http://www.tilera.com/">Tilera</a> iron; using it, the delay could be reduced to values ‚Äã‚Äãless than 5 microseconds.  Each of the systems was designed to be placed on colocation conditions in the data centers of the exchanges. <br><br>  For private traders, the x86 architecture platform is of more interest, so Tenev describes it. <br><br><h4>  Data transfer </h4><br>  As a rule, a marketplace provides one physical connection (in the form of fiber) to the exchange engine, in which there is a "reduction" of applications from different sellers and buyers.  To work with the Chronos system, the availability of a channel with a capacity of 10 gigabits was recommended, since in this case the delay of serialization was reduced, but rarely did users manage to get a channel wider than 1 gigabit.  Through one physical connection, market data is transmitted (usually via TCP or UDP multicast) and orders are sent (via TCP or UDP unicast). <br><br>  It would seem that in order to reduce the delay, the physical cross-cable should be inserted directly into the server's network card.  However, in practice, this option is almost impossible to meet, since traders always use several physical servers to which dozens of cables from different exchanges are connected. <br><br><h4>  Equipment </h4><br>  To combine all this diversity, Chronos experts recommended using a high-speed switch, like a 24-port Arista.  The use of such equipment contributed to the interport delay of 350 nanoseconds.  Also, some traders used a switch from Blade Networks (purchased by IBM), which also worked on Fulcrum ASIC, and cost less. <br><br><img src="https://habrastorage.org/files/e7b/610/672/e7b6106720ac421380044b146dc5036a.jpg"><br><br>  In addition, for successful operation, the HFT trader needs a high-speed network card with a kernel bypass driver (kernel bypass driver).  Tenev mentions <a href="https://www.myricom.com/products/network-adapters/10g-pcie2-8c2-2s.html">Myricom‚Äôs 10G-PCIE2-8C2-2S</a> network adapter for UDP traffic and the <a href="http://www.colfaxdirect.com/store/pc/viewPrd.asp%3Fidproduct%3D1808%26idcategory%3D6">Flareon Ultra SFN7122F Solarflare Dual-Port 10GbE PCIe 3.0 Server I / O Adapter - Part ID: SFN7122F</a> for TCP. <br><br><img src="https://habrastorage.org/files/451/268/7d2/4512687d2a3b4cb3bd03a004956728a9.png"><br><br><h4>  Soft </h4><br>  Each of these cards has the necessary drivers to bypass the kernel, which allows you to send and receive data via TCP and UDP in user space.  Context switching is an expensive operation in terms of delays, so it should be avoided in HFT trading.  Therefore, the processing of important data is made in the kernel. <br><br>  To work with the Chronos system, the custom version of Gentoo Linux was also supplied, which was supported by the software developers. <br><br>  The software worked in such a way that the modules responsible for direct trading worked with specific processor cores, and other processes were forbidden to use them (this is also necessary to avoid context switching).  For these cores, the local timer and other interrupts were disabled. <br><br>  The platform logic code was written in C and was event-oriented (in a series of articles we talked about <a href="http://habrahabr.ru/company/itinvest/blog/270215/">creating a back-tester</a> working under this scheme).  The developers created their own ‚Äúnon-blocking‚Äù data structures - as a result, each thread worked in an infinite loop, polling its own FIFO for input. <br><br>  As a result, as already mentioned, delays in processing applications did not exceed 15 microseconds. <br><br><h5>  Other materials on the topic of trading infrastructure: </h5><br><ul><li>  <a href="http://habrahabr.ru/company/itinvest/blog/274021/">Trading and "iron": What are stock exchange data centers</a> </li><li>  <a href="http://habrahabr.ru/company/itinvest/blog/272425/">Development of trading systems for FPGA: Pros, cons and analysis of the architecture of the existing library</a> </li><li>  <a href="http://habrahabr.ru/company/itinvest/blog/271493/">Infrastructure and trading robots: What programming languages ‚Äã‚Äãare used in finance</a> </li><li>  <a href="http://habrahabr.ru/company/itinvest/blog/262757/">Squirrels, hackers and Facebook: Because of what the "exchange" falls</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/275663/">https://habr.com/ru/post/275663/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275649/index.html">Project Abacus from Google: biometrics instead of a password</a></li>
<li><a href="../275651/index.html">Common Lisp SDL2 Tutorial</a></li>
<li><a href="../275655/index.html">Setting up Google Mail in 3CX Phone System</a></li>
<li><a href="../275659/index.html">Reverse engineering protocol of the TFA Spring weather station sensor</a></li>
<li><a href="../275661/index.html">Fast and Furious Symfony + HHVM + MongoDB + CouchDB + Varnish</a></li>
<li><a href="../275665/index.html">How to monitor UPS ippon with NUT and Zabbix</a></li>
<li><a href="../275667/index.html">Analyzing Web Server Logs with GoAccess</a></li>
<li><a href="../275669/index.html">Kickstarter exit: how we failed</a></li>
<li><a href="../275671/index.html">High-performance long polling chat</a></li>
<li><a href="../275673/index.html">Compilation: Over 800 resources for front-end developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>