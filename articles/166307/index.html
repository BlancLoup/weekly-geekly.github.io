<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MintEye CAPTCHA solution in 23 lines of code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As an avid reader of HAD, I was interested in this post describing how to break the MintEye audio captcha . The graphic version also looked quite inte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MintEye CAPTCHA solution in 23 lines of code</h1><div class="post__text post__text-html js-mediator-article">  As an avid reader of <a href="http://www.hackaday.com/">HAD,</a> I was interested in <a href="http://hackaday.com/2013/01/16/script-defeats-minteye-captcha/">this post</a> describing how to break the MintEye <a href="http://www.minteye.com/">audio captcha</a> .  The graphic version also looked quite interesting, so I thought it would be fun to hack it. <br><br>  Here is one example of the MintEye graphic captcha: <br><br><img src="https://habrastorage.org/storage2/47b/646/8ae/47b6468ae6901204c4273d2fe2d40b4f.png"><br><a name="habracut"></a><br>  For the solution you just need to move the slider and choose the undistorted version of the image.  In the comments on HAD there were some rather naive in my opinion proposals for captcha solutions based on the search for straight lines.  However, such options do not work with examples similar to the one indicated above (i.e., containing a small number of straight lines). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After some thought, I found a good, reliable and, surprisingly, simple way to solve a captcha.  Here is the entire implementation of it in Python: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> dir <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>): dir = str(dir) total_images = len(os.listdir(dir))+<span class="hljs-number"><span class="hljs-number">1</span></span> points_sob = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,total_images): img = cv2.imread(dir+<span class="hljs-string"><span class="hljs-string">'/'</span></span>+str(i)+<span class="hljs-string"><span class="hljs-string">'.jpg'</span></span>) gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY) sob = cv2.Sobel(gray, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) points_sob.append(np.sum(sob)) x = range(<span class="hljs-number"><span class="hljs-number">1</span></span>,total_images) res = np.argmin(points_sob)+<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> res plt.plot(res,points_sob[res<span class="hljs-number"><span class="hljs-number">-1</span></span>], marker=<span class="hljs-string"><span class="hljs-string">'o'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'r'</span></span>, ls=<span class="hljs-string"><span class="hljs-string">''</span></span>) plt.plot(x, points_sob) plt.savefig(dir+<span class="hljs-string"><span class="hljs-string">'.png'</span></span>) plt.show()</code> </pre> <br><br>  (Please note that most of the code relates to the opening of the image and the construction of the schedule. Such functions as automatic analysis of images and returning the finished result will be left to spammers as homework). <br><br>  The essence of the method is as follows: the larger the image is ‚Äútwisted‚Äù, the longer the border.  This can be seen in the picture above, but there is a more obvious example: <br><br><img src="https://habrastorage.org/storage2/b63/856/df0/b63856df099f0c383e9cb9847f8a1fc4.png"><br><br>  Note the increase in the length of the black rectangle.  In order to use this, we need to calculate the sum of the lengths of the borders of the image.  The simplest way to do this is to take a derivative of the image (in the proposed implementation, the Sobel operator is used) and add the results (we recommend reading the <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580_%25D0%25A1%25D0%25BE%25D0%25B1%25D0%25B5%25D0%25BB%25D1%258F">article</a> on how the Sobel operator works).  Then we simply select the image with the smallest "length of borders" - it will be the right answer. <br><br>  The results are impressive, 13 of 13 I downloaded captcha were solved correctly in this way.  These graphs show the number of the image on the X axis and the ‚Äúborder length‚Äù on the Y axis. The red dot indicates the correct answer. <br> <nobr><a href=""><img src="https://habrastorage.org/storage2/53c/c28/a9a/53cc28a9a4cd06080ba1c2b49d1040c2.png"></a> <a href=""><img src="https://habrastorage.org/storage2/739/831/711/739831711cae783deb7703dfe802803e.png"></a> <br></nobr> <br>  Interestingly, often completely undistorted image on the graph is displayed as a peak.  This usually means that we have missed with the correct answer to one picture left or right (which, however, is accepted by MintEye as the correct answer).  This usually happens because in some places the undistorted image looks clearer and the borders stand out more precisely, which affects the final sum of lengths. <br><br>  In conclusion, I would like to say that this CAPTCHA in its architecture is not resistant to cracking.  A simple ‚Äútwisting‚Äù of an image can always be easily noticed by the method described above, regardless of the original image. </div><p>Source: <a href="https://habr.com/ru/post/166307/">https://habr.com/ru/post/166307/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../166291/index.html">Webfonts - we deal with antialiasing under Windows (UPD)</a></li>
<li><a href="../166293/index.html">Tin Mok about the past, present and future of Meizu</a></li>
<li><a href="../166297/index.html">5 predictions about the future, hidden in Intel reporting</a></li>
<li><a href="../166303/index.html">Simple-Science - Simple Experiments (Digest # 14)</a></li>
<li><a href="../166305/index.html">How do SSDs (video)</a></li>
<li><a href="../166311/index.html">Orange provider forced Google to pay for traffic</a></li>
<li><a href="../166313/index.html">Mega file hosting launched</a></li>
<li><a href="../166315/index.html">Logic - the most interesting gaming and IT-industry news number 10</a></li>
<li><a href="../166317/index.html">Optimizing HSV to RGB Conversion for Microcontrollers</a></li>
<li><a href="../166319/index.html">Link Aggregation between Cisco Catalyst and Avaya ERS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>