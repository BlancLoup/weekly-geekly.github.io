<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using React JSX with TypeScript 1.6</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, Microsoft announced the release of TypeScript 1.6 Beta , one of the most interesting, in my opinion, innovation is support for React ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using React JSX with TypeScript 1.6</h1><div class="post__text post__text-html js-mediator-article">  Not so long ago, Microsoft <a href="http://blogs.msdn.com/b/typescript/archive/2015/09/02/announcing-typescript-1-6-beta-react-jsx-better-error-checking-and-more.aspx">announced the release of TypeScript 1.6 Beta</a> , one of the most interesting, in my opinion, innovation is support for React / JSX, which, in conjunction with the features of TypeScript, opens up new possibilities. <br><br><img src="https://habrastorage.org/files/712/71b/f94/71271bf94cb442c29578df43ee6844c9.jpg"><br><br>  I will talk about my personal experience - how I started using the TypeScript + React bundle, what problems I encountered and how I solved them.  And also I will show examples of gulp-tasks in order for it to work and demonstrate the code of the minimum todo application in TypeScript + React ( <a href="https://github.com/forcewake/tsc-react-gulp-example">link to Github</a> ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If it is interesting to you - please, come under cat. <br><a name="habracut"></a><br><ul><li>  <a href="https://habr.com/ru/post/266665/">TypeScript 1.6</a> <br><ul><li>  <a href="https://habr.com/ru/post/266665/">Native support JSX</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/266665/">Training</a> <br><ul><li>  <a href="https://habr.com/ru/post/266665/">Installing TypeScript 1.6 Beta</a> </li><li>  <a href="https://habr.com/ru/post/266665/">Create package.json</a> </li><li>  <a href="https://habr.com/ru/post/266665/">Creating gulpfile.js</a> <br><ul><li>  <a href="https://habr.com/ru/post/266665/">Compiling TypeScript</a> </li><li>  <a href="https://habr.com/ru/post/266665/">browserify</a> </li><li>  <a href="https://habr.com/ru/post/266665/">Copying index.html</a> </li><li>  <a href="https://habr.com/ru/post/266665/">gulpfile.js file</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/266665/">TypeScript Definitions</a> </li><li>  <a href="https://habr.com/ru/post/266665/">Creating tsconfig.json</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/266665/">React code</a> <br><ul><li>  <a href="https://habr.com/ru/post/266665/">todoItem.tsx component</a> </li><li>  <a href="https://habr.com/ru/post/266665/">main.tsx component</a> </li><li>  <a href="https://habr.com/ru/post/266665/">bootstrap.ts</a> </li><li>  <a href="https://habr.com/ru/post/266665/">index.html</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/266665/">Launch and fireworks</a> <br><ul><li>  <a href="https://habr.com/ru/post/266665/">Installation and Compilation</a> </li><li>  <a href="&amp;xid=25657,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhg-L1-N84oz4w_u4ffW5IH9D67vew#">Launch</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/266665/">Instead of conclusion</a> </li></ul><br><a name="typescript-16"></a><br><h2>  <font color="#cc0000">TypeScript 1.6</font> </h2><br>  Here are the main changes and additions that brought this update: <br><br><ul><li>  ES6 iterators </li><li>  Local Types </li><li>  Native support JSX </li><li>  Abstract classes and methods </li></ul><br>  A complete list and references to issues can be found on <a href="https://github.com/Microsoft/TypeScript/wiki/Roadmap">Github</a> .  I hope that someone from the community will make a more complete overview of all changes.  I will pay attention only to one of them, namely: <br><br><a name="native-jsx"></a><br><h3>  <font color="#cc0000">Native support JSX</font> </h3><br>  ‚ÄúWow!‚Äù - this is the first thought when I read the <a href="http://blogs.msdn.com/b/typescript/archive/2015/09/02/announcing-typescript-1-6-beta-react-jsx-better-error-checking-and-more.aspx">announcement</a> .  But then the problems started, as it is impossible to simply take and use edge-technologies, so before you start writing cool typed code, we need to work a little in the console to avoid future problems with the assembly and deployment of our code. <br><br><a name="preparation"></a><br><h2>  <font color="#cc0000">Training</font> </h2><br>  By default, we will assume that we have installed and configured the current versions of <em>nodejs</em> and <em>npm</em> . <br><br><a name="install-typescript-16-beta"></a><br><h3>  <font color="#cc0000">Installing TypeScript 1.6 Beta</font> </h3><br>  To install TypeScript 1.6 Beta in the global scope, use the command: <br><br><pre><code class="bash hljs">npm install -g typescript@1.6.0-beta</code> </pre> <br>  After that, the tsc command will be available in your <strong>console</strong> - this is actually the compiler for TypeScript.  Make sure you have version 1.6-beta installed. <br><br>  Check that everything is established using the command: <br><br><pre> <code class="hljs pgsql">tsc <span class="hljs-comment"><span class="hljs-comment">--version</span></span></code> </pre><br>  For local installation we will use the command: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">npm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">typescript</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">1</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">6</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">0</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">beta</span></span> --save-dev</code> </pre><br><a name="packagejson"></a><br><h3>  <font color="#cc0000">Create package.json</font> </h3><br>  The <b>package.json</b> file contains information about your application: name, version, dependencies, and the like.  Any directory that has this file is interpreted as a Node.js package, even if you are not going to publish it. <br><br>  The method of using the <b>package.json</b> file depends on whether you are going to download the package or publish it.  In our case, it will contain a list of dependencies of our project: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"tsc-react-gulp-example"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.13.3"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"browserify"</span></span>: <span class="hljs-string"><span class="hljs-string">"^11.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"del"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.2.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"gulp"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.9.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"gulp-typescript"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.8.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"typescript"</span></span>: <span class="hljs-string"><span class="hljs-string">"next"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"vinyl-source-stream"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.0"</span></span> } }</code> </pre><br><a name="gulpfilejs-config"></a><br><h3>  <font color="#cc0000">Creating gulpfile.js</font> </h3><br>  I used gulp as a project builder, but as for me, there is not much difference, since the main thing is the idea.  To build the project, we will use ready-made npm packages: <a href="https://www.npmjs.com/package/gulp-typescript">gulp-typescript</a> to compile TypeScript and <a href="https://www.npmjs.com/package/browserify">browserify</a> to work with our project dependencies. <br><br><a name="typescript-compile"></a><br><h4>  <font color="#cc0000">Compiling TypeScript</font> </h4><br>  Task to compile TypeScript is as follows: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>), typescript = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'typescript'</span></span>), ts = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-typescript'</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> project = ts.createProject(<span class="hljs-string"><span class="hljs-string">'src/tsconfig.json'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">typescript</span></span>: typescript}); gulp.task(<span class="hljs-string"><span class="hljs-string">'compile'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = gulp .src(<span class="hljs-string"><span class="hljs-string">'src/**/*{ts,tsx}'</span></span>) .pipe(ts(project)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.js.pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'.tmp'</span></span>)); });</code> </pre><br>  Here we used the previously reviewed project file.  In more detail - on <a href="https://github.com/ivogabe/gulp-typescript">project github page</a> . <br><br><a name="browserify"></a><br><h4>  <font color="#cc0000">browserify</font> </h4><br>  Task to create a project bundle is as follows: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>), browserify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'browserify'</span></span>), source = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'vinyl-source-stream'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'bundle'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = browserify(<span class="hljs-string"><span class="hljs-string">'.tmp/bootstrap.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b.bundle() .pipe(source(<span class="hljs-string"><span class="hljs-string">'bundle.js'</span></span>)) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)); });</code> </pre><br><a name="index-html"></a><br><h4>  <font color="#cc0000">Copying index.html</font> </h4><br>  As an example of working with static files and copying them into gulp, I‚Äôll give an example gulp task for copying <b>index.html</b> to the <b>dist</b> folder: <br><br><pre> <code class="hljs actionscript">gulp.task(<span class="hljs-string"><span class="hljs-string">'through'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gulp .src([<span class="hljs-string"><span class="hljs-string">'src/index.html'</span></span>]) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)); });</code> </pre><br><a name="gulpfilejs-file"></a><br><h4>  <font color="#cc0000">gulpfile.js file</font> </h4><br>  Then the whole <b>gulpfile.js</b> will be like this: <br><br><div class="spoiler">  <b class="spoiler_title">Gulpfile.js source code</b> <div class="spoiler_text"><pre> <code class="hljs javascript"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>), typescript = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'typescript'</span></span>), ts = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-typescript'</span></span>), browserify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'browserify'</span></span>), source = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'vinyl-source-stream'</span></span>), del = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'del'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> project = ts.createProject(<span class="hljs-string"><span class="hljs-string">'src/tsconfig.json'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">typescript</span></span>: typescript}); gulp.task(<span class="hljs-string"><span class="hljs-string">'through'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gulp .src([<span class="hljs-string"><span class="hljs-string">'src/index.html'</span></span>]) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)); }); gulp.task(<span class="hljs-string"><span class="hljs-string">'compile'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = gulp.src(<span class="hljs-string"><span class="hljs-string">'src/**/*{ts,tsx}'</span></span>) .pipe(ts(project)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.js.pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'.tmp'</span></span>)); }); gulp.task(<span class="hljs-string"><span class="hljs-string">'bundle'</span></span>, [<span class="hljs-string"><span class="hljs-string">'through'</span></span>,<span class="hljs-string"><span class="hljs-string">'compile'</span></span>], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = browserify(<span class="hljs-string"><span class="hljs-string">'.tmp/bootstrap.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b.bundle() .pipe(source(<span class="hljs-string"><span class="hljs-string">'bundle.js'</span></span>)) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) ; }); gulp.task(<span class="hljs-string"><span class="hljs-string">'clean'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">done</span></span></span><span class="hljs-function">) </span></span>{ del([<span class="hljs-string"><span class="hljs-string">'.tmp'</span></span>], done.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)); });</code> </pre><br></div></div><br><a name="typescript-definitions"></a><br><h3>  <font color="#cc0000">TypeScript Definitions</font> </h3><br>  Now I will not dwell on the description of TypeScript Definitions, a lot of cool articles have been written about it.  Let me just say that in order to be able to use libraries written in JS for them you need to use these same TypeScript Definitions.  And there is even a whole open source project in which people write such definitions for popular projects.  They can be searched and downloaded on the <a href="http://definitelytyped.org/tsd/">site</a> , or you can install a console utility which will simplify this process: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> -g tsd</code> </pre><br>  Using this utility, we will download the definitions for React and save the TypeScript Definition entry in the <b>tsd.json</b> file: <br><br><pre> <code class="hljs pgsql">tsd query react <span class="hljs-comment"><span class="hljs-comment">--action install --save</span></span></code> </pre><br><blockquote>  <b>The note:</b> <br><br>  The project is in open source, developed and actively supported by the community - <a href="https://github.com/borisyankov/DefinitelyTyped">borisyankov / DefinitelyTyped</a> . <br></blockquote><br><a name="tsconfigjson"></a><br><h3>  <font color="#cc0000">Creating tsconfig.json</font> </h3><br>  The <b>tsconfig.json</b> file stores the compilation settings for your project.  This file is supported by the compiler since version 1.5.  The minimum <b>tsconfig.json</b> that allows you to compile files for React / JSX is as follows: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"compilerOptions"</span></span> : { <span class="hljs-string"><span class="hljs-string">"module"</span></span> : <span class="hljs-string"><span class="hljs-string">"umd"</span></span>, <span class="hljs-string"><span class="hljs-string">"jsx"</span></span> : <span class="hljs-string"><span class="hljs-string">"react"</span></span> } }</code> </pre><br><a name="react-code"></a><br><h2>  <font color="#cc0000">React code</font> </h2><br>  For an example of how the TypeScript + React bundle works, we will write the minimum todo application. <br><br><a name="todoitem-tsx"></a><br><h3>  <font color="#cc0000">todoItem.tsx component</font> </h3><br>  Let's start with the smallest brick, namely - TodoItem.  Add TypeScript Definition for React to the top of the file: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/// &lt;reference path="../../typings/react/react.d.ts" /&gt;</span></span></code> </pre><br>  Then we import React into our class: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>;</code> </pre><br>  Define the <strong>ITodo</strong> interface for the item: <br><br><pre> <code class="javascript hljs">interface ITodo { <span class="hljs-attr"><span class="hljs-attr">description</span></span>: string; }</code> </pre><br>  As well as interfaces for the state and properties of our component: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface ITodoItemState {} <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface ITodoItemProps { <span class="hljs-attr"><span class="hljs-attr">item</span></span>: ITodo; onRemove?: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">todo: ITodo</span></span></span><span class="hljs-function">) =&gt;</span></span> any; key?: number; }</code> </pre><br>  Then the component itself will look like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TodoItem</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ITodoItemProps</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ITodoItemState</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> () { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.removeItem = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.removeItem.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } removeItem () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.onRemove(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.item); } render () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.item.description} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.removeItem}</span></span></span></span><span class="xml"><span class="hljs-tag"> &gt;</span></span></span><span class="xml">delete</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br><a name="main-tsx"></a><br><h3>  <font color="#cc0000">main.tsx component</font> </h3><br>  This component will contain the main logic of the application.  The principle is the same as in the TodoItem component, so I‚Äôll give a full listing of the file: <br><br><div class="spoiler">  <b class="spoiler_title">main.tsx</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/// &lt;reference path="../../typings/react/react.d.ts" /&gt; import * as React from 'react'; import {TodoItem} from './todoItem'; interface ITodo { description: string; key: number; } export interface IMainState { newItem?: { description: string; }; todoList?: ITodo[]; } export interface IMainProps {} export class Main extends React.Component&lt;IMainProps, IMainState&gt; { state: IMainState = {newItem: {description: ''}, todoList: []} constructor () { super(); this.changeName = this.changeName.bind(this); this.addItem = this.addItem.bind(this); this.removeItem = this.removeItem.bind(this); } changeName (e: any) { this.setState({ newItem: { description: e.target.value } }); } addItem () { var list = this.state.todoList; list.push({ description: this.state.newItem.description, key: new Date().getTime() }); this.setState({ todoList: list, newItem: {description: ''} }); } removeItem (item: ITodo) { var list = this.state.todoList.filter(i =&gt; i.key !== item.key); this.setState({todoList: list}); } render () { var todoItems = this.state.todoList.map(item =&gt; { return &lt;TodoItem key={item.key} item={item} onRemove={this.removeItem} &gt;&lt;/TodoItem&gt;; }); return ( &lt;div&gt; &lt;div&gt; &lt;input type="text" placeholder="input new item" value={this.state.newItem.description} onChange={this.changeName} /&gt; &lt;button onClick={this.addItem} &gt;add&lt;/button&gt; &lt;/div&gt; &lt;ul&gt;{todoItems}&lt;/ul&gt; &lt;/div&gt; ); } }</span></span></code> </pre><br></div></div><br><a name="bootstrap-ts"></a><br><h3>  <font color="#cc0000">bootstrap.ts</font> </h3><br>  This file serves as a starting point for the application and contains the logic for calling the main component: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/// &lt;reference path="../typings/react/react.d.ts" /&gt; import * as React from 'react'; import {Main} from './Main/main'; React.render(React.createElement(Main), document.getElementById('main'));</span></span></code> </pre><br><a name="index-html-source"></a><br><h3>  <font color="#cc0000">index.html</font> </h3><br>  Since we didn‚Äôt add any styles, etc., the source code of the file would be: <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>tsc-react-example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bundle.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><a name="run-and-fun"></a><br><h2>  <font color="#cc0000">Launch and fireworks</font> </h2><br><a name="install"></a><br><h3>  <font color="#cc0000">Installation and Compilation</font> </h3><br>  After all the files, folders, and tasks have been created, run: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span></code> </pre><br>  to install all packages and: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">gulp</span></span> bundle</code> </pre><br>  to compile our application. <br><br><a name="http-server"></a><br><h3>  <font color="#cc0000">Launch</font> </h3><br>  It's all very prosaic - we set our favorite server to the <strong>dist</strong> folder and enjoy the results, like this: <br><br><pre> <code class="hljs sql">cd dist npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> -g <span class="hljs-keyword"><span class="hljs-keyword">http</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">http</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> -p <span class="hljs-number"><span class="hljs-number">3000</span></span></code> </pre><br>  Then we go to <strong>localhost: 3000 / index.html</strong> and test. <br><br><a name="end"></a><br><h2>  <font color="#cc0000">Instead of conclusion</font> </h2><br>  All code presented in this mini guide can be <a href="https://github.com/forcewake/tsc-react-gulp-example">found at the link</a> .  Any comments and suggestions are welcome. <br><br>  Thanks for attention. <br><br>  Happy coding! </div><p>Source: <a href="https://habr.com/ru/post/266665/">https://habr.com/ru/post/266665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266655/index.html">Work with the Vscale API</a></li>
<li><a href="../266657/index.html">Swift 2 in everyday life. Another JSON parser</a></li>
<li><a href="../266659/index.html">What do programmers program?</a></li>
<li><a href="../266661/index.html">Google has released a security update for Android</a></li>
<li><a href="../266663/index.html">Technical support of computer forensics - continued</a></li>
<li><a href="../266667/index.html">Connecting to Git over SSH in Windows without PuttyGen using BitBucket as an example</a></li>
<li><a href="../266669/index.html">Setting up Vim-like controls in GTK</a></li>
<li><a href="../266671/index.html">Downloading music from VK using VK api and Python3</a></li>
<li><a href="../266673/index.html">A small Java-RuleZ FAQ - or why Java is used in 1C: Programmers' Club to prepare for school computer science competitions</a></li>
<li><a href="../266675/index.html">Security Week 37: Bug-bugzilla, Karbanak from back, C & C on fishing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>