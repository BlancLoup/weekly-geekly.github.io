<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unified test runner and analysis of test data</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jan Drugal has been creating development tools in Unity for 2 years. Recently, his team has grown significantly, and with it the test suites, the numb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unified test runner and analysis of test data</h1><div class="post__text post__text-html js-mediator-article">  Jan Drugal has been creating development tools in Unity for 2 years.  Recently, his team has grown significantly, and with it the test suites, the number of unstable, slow tests and unrecoverable errors.  We publish a translation of an article on how Yang and his team solve these problems. <br><br><img src="https://habrastorage.org/files/35b/08e/de6/35b08ede6c084a289cffc9c7d18c6698.jpg"><br><a name="habracut"></a><br><br>  We in Unity have a set of the directions of testing (fig. 1) and sets of tests: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ‚Ä¢ Runtime <a href="http://blogs.unity3d.com/2013/06/02/runtime-tests-unitys-runtime-api-test-framework/">tests</a> allow you to test the Unity runtime public API <a href="https://unity3d.com/unity/multiplatform">on all supported platforms.</a> <br>  ‚Ä¢ Integration tests cover what is easy to miss when testing runtime, such as Unity editor functionality or integration with components such as Cache Server and Bug Reporter. <br>  ‚Ä¢ Native C ++ tests are designed to directly test C ++ code without using scripts. <br>  ‚Ä¢ Graphic tests are responsible for rendering functions and allow you to compare the resulting images with the reference. <br>  ‚Ä¢ And many others (performance tests, downloads, IMGUI, etc.). <br><br><img src="https://habrastorage.org/files/38b/d6e/cf1/38bd6ecf1fb042a6b487bd4daceb8bd7.png"><br>  <i>Figure 1. Test directions in Unity</i> <br><br>  At the top level, tests are grouped in several ways.  Further separation depends on the platform, frequency, execution time and other criteria.  This structure gives us a huge number of control points.  But we will talk about them later. <br>  To simplify this system, about a year ago we began the development of a universal test performer Unified Test Runner (UTR).  In fact, this is a single entry point (Fig. 2), which provides a universal interface for all performers and test areas.  Thus, any set of tests can be run directly from the command line. <br><br><img src="https://habrastorage.org/files/32e/f30/2f9/32ef302f9a8e4aad8d7d61f38d5e1647.png"><br>  <i>Figure 2. Unified Test Runner as an entry point for all tests</i> <br><br>  All test artifacts are stored in one place and grouped according to the same rules.  In addition, the UTR provides other options: <br><br>  ‚Ä¢ filters can be applied to all tests: testfilter = TestName; <br>  ‚Ä¢ identical test reports are generated for all sets. <br><br>  Initially, we used UTR for local tests, but then decided to apply to our build environment.  The idea was to run the same tests from local computers and when building releases.  In other words, so that in case of an error, it can be recreated locally. <br><br>  Gradually, the UTR has become a single entry point for all tests in Unity.  And then we decided to use it <a href="http://blogs.unity3d.com/2014/06/02/katana-leveraging-open-source-tools-for-continuous-integration/">for another task</a> - to collect test data from local computers and from the build environment.  At the end of each test, the UTR sends the results to a special web service.  This is how our solution for analyzing test data, called Hoarder, appeared.  Its task is to collect data on test execution, save them, provide access to them and display cumulative testing statistics with the possibility of in-depth analysis of the results of individual tests (Fig. 3). <br><br><img src="https://habrastorage.org/files/789/042/671/78904267192e4c02873465c0bea27c67.png"><br>  <i>Figure 3. Assembly agents and users upload data to the Hoarder web service, where they are processed by the analytic application.</i> <br><br>  In the process of data processing, we discovered a lot of interesting things and as a result made some important decisions.  Which ones - read the next article. </div><p>Source: <a href="https://habr.com/ru/post/276531/">https://habr.com/ru/post/276531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276517/index.html">C #, PVS-Studio, ReSharper</a></li>
<li><a href="../276519/index.html">SVG-files from the inside and the output of vector images on the canvas "manually" (Part 1)</a></li>
<li><a href="../276523/index.html">The most basic need: how did we implement DNS hosting at Mail.Ru for business?</a></li>
<li><a href="../276525/index.html">Recruitment to St. Petersburg Academic University</a></li>
<li><a href="../276527/index.html">Notes of a true architect: just about the most important thing (Part 1)</a></li>
<li><a href="../276533/index.html">Procedurally generated world maps on Unity C #, part 3</a></li>
<li><a href="../276535/index.html">How are the packages for checking the quality of random sequences?</a></li>
<li><a href="../276539/index.html">This is the future</a></li>
<li><a href="../276541/index.html">The report on the results of visits to ISC-2015</a></li>
<li><a href="../276545/index.html">FBI: Hedge Fund Traders Share Insider Information in the Call of Duty Game Chat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>