<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>COOLRF: Reboot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many habravchane already noticed an unusually long pause in our regular publications "from the life of COOLRF". Over the past six weeks, many importan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>COOLRF: Reboot</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/f03/b89/a22/f03b89a22e5e613ca92623edbf7824b4.jpg"><br><br>  Many habravchane <a href="http://habrahabr.ru/post/221247/">already noticed</a> an unusually long pause in our regular publications "from the life of COOLRF".  Over the past six weeks, many important events have happened.  We lost, but then we found and safely received a package with the ‚Äúrare-earth‚Äù components of our dimmer.  <a href="http://jetstyle.ru/">JetStyle</a> drew a great design for our site.  Habrahabr extended our free corporate account (yes, half a year passed by!).  We solved one dimmer hardware problem, but have not yet been able to solve the other.  They realized that the current hardware design of the dimmer is not compatible with the Atmel BitCloud software stack.  Separated from one party.  We decided to return to the development based on NRF24LE1.  Began to develop one interesting new solution with a new developer. <br><br>  Interesting?  Welcome under the cat (carefully, unexpectedly many letters)! <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">A brief introduction to the course for those who first saw our project</b> <div class="spoiler_text">  We are developing a complete system of smart home.  The ‚Äúfirst sign‚Äù of our system is a DIY-dimmer.  Here are its main characteristics: <br><ul><li>  Work on the radio channel 2.4 GHz </li><li>  Encrypted connection </li><li>  Installation without changing the standard wiring of an ordinary apartment </li><li>  Low power consumption </li><li>  The usual look of switches </li><li>  The possibility of independent expansion of both hardware and software functionality </li></ul><br>  If you want to join in the discussion of the features of the system, please read all <a href="http://habrahabr.ru/company/coolrf/">our previous articles</a> and comments to them.  Most likely the questions after such an introduction will be much less. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Want to keep abreast of all project events?</b>  <b class="spoiler_title">It is not difficult at all!</b> <div class="spoiler_text">  You just need to subscribe to the update of <a href="http://habrahabr.ru/company/coolrf/">our company in Habr√©</a> and <a href="http://vk.com/coolrf">in the VKontakte group</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      With VKontakte questions usually does not arise.  To subscribe to Habr's updates, you need to go <a href="http://habrahabr.ru/company/coolrf/">to the company‚Äôs page</a> and click the ‚ÄúSubscribe‚Äù button in the block on the right. <br></div></div><br><h4>  Chinese adventure </h4><br>  Savings do not always bring to good.  The first two times we acquired electronic components through an already well-known company HQEW.  It turned out that they are engaged not only in printed circuit boards.  They have a ‚Äúproven‚Äù supplier of electronics, through which, it seems like without problems and cheaply you can buy everything your heart desires.  In fact, compared with direct purchases on taobao, it was not so cheap.  Plus, component prices are great (sometimes at times) floated between different shipments.  We decided to purchase components on taobao, without HQEW. <br><br>  Everything could have ended without incident, we use the services of one intermediary.  But we wanted to crank up faster.  Therefore, we agreed with the taobao intermediary about an atypical operation for him - sending our consolidated (consisting of several incoming parcels from different sellers) cargo not immediately to Russia (not quickly, using our own channel), but to neighboring Shenzhen by Chinese courier service.  From where our parcel was supposed to fly by plane to us. <br><br>  As a result, we got a classic case.  The mediator gave the parcel to the courier and said ‚ÄúI wash my hands‚Äù, but the delivery service in Shenzhen did not seem to receive the parcel.  Each side for a long time in every possible way fenced off from responsibility.  Only a week later, we began to find out important details from the sender in the spirit of "our Chinese called our Chinese and said that one piece of paper was missing."  As a result, the staff of the Yekaterinburg delivery service office helped a lot (at first they tried to solve issues directly with the Chinese office).  The situation was resolved.  Taking into account the confusion, the parcel went through the ‚Äúfast‚Äù expensive channel for much longer than it would have passed through the cheap slow channel of the intermediary itself.  Moved to the mustache ... <br><br><h4>  Site design </h4><br>  The design turned out to be a very simple matter.  <a href="http://jetstyle.ru/">JetStyle</a> has allocated us a separate person for its development.  Spent a lot of time and there is a complete result, fragments of which are used in this post. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/24c/950/0fe/24c9500fe329d9eafd7e967aa100678c.png"><br><br>  In the design, emphasis was placed on compatibility with ZigBee.  After some time after the completion of the work, it became obvious that there were serious problems with ZigBee.  For this reason, the design has not yet turned into a working site. <br><br><h4>  Dimmer hardware problems </h4><br>  A decent amount of time was spent on the development of circuitry developed in Ukraine here in Yekaterinburg.  It did not work out to get a stable zero detection by a microcontroller.  The lamp flickered noticeably in the middle power control range.  The secret turned out to be simple - during assembly, the requirement to use a LOWESR version of one of the capacitors was missed. <br><br>  From unsolved issues - quiet, barely audible whistle dimmer when working.  Apparently, you need to choose an alternative manufacturer of inductors used.  But this problem has not yet been touched by the human hand - once, and for some time (so far) there is no one.  The problem is not very significant, but getting in the way of getting a good product. <br><br><h4>  Zigbee research </h4><br>  The dimmer control success with ATMEL ended at the implemented MAC level.  It has a workable firmware that implements the basic functionality.  But this was not the goal of our transition to new expensive chips.  The goal was the implementation of ZigBee, and with it we finally got nothing really sensible. <br><br>  BitCloud imposes on the user code serious limitations on the execution time of individual sections.  We concluded that it would not be possible to combine dimmer control (zero control + triac control) in one chip and work with the BitCloud stack.  The only possible solution would be to add an additional microcontroller to the dimmer schematic, which is responsible for the low level of dimmer performance.  Such an ‚Äúinnovation‚Äù would a) make us significantly delay the product release dates, b) would lead to a noticeable rise in the cost of the dimmer and c) would become completely impossible due to a change in the composition of the participants. <br><br><h4>  Parting with one of the participants </h4><br>  The project was left by Alexander Mikheev <a href="http://habrahabr.ru/users/alexmgf/" class="user_link">alexmgf</a> , the main ideologue of using ATMEL as a control chip.  Alexander has devoted a huge number of his evenings to ZigBee research.  As a result, I lost some faith in the possibility of the rapid development of the project.  After changing the main place of work, Alexander's free time became much smaller.  It was a joint decision on separation. <br><br>  All developments concerning the ATMEGA128RFA1 chip and the radio module based on it remain with Alexander.  Those who wish to purchase these modules (and there are quite a few such volunteers, the chip has its own fans) should contact it directly: AlexMGF (skype). <br><br><h4>  COOLRF project reload </h4><br>  The transition of the project to the use of new chips at one time occurred for several reasons: 1) it was difficult to find people who could program the NRF24LE1 chips, 2) there was a person who wanted to take on a significant part of the project work and who had many years of experience with ATMEGA128RFA1 microcontrollers, 3) on the basis of ATMEGA it seemed possible to develop a module that is compatible with industry standards, and therefore compatible with devices from other manufacturers (good competitive advantage). <br><br>  In today's realities, all these reasons were not relevant: 1) people who felt NRF24LE1 and found it quite interesting, began to appear (posts: <a href="http://habrahabr.ru/post/210974/">1</a> , <a href="http://habrahabr.ru/post/215187/">2</a> and <a href="http://habrahabr.ru/post/221247/">3</a> ), 2) we had to part with Alexander and 3) ZigBee was not implemented simply. <br><br>  The COOLRF project changes focus and returns to using the NRF24LE1.  The firmware for the dimmer kindly promised to help us write <a href="http://habrahabr.ru/users/maksms/" class="user_link">MaksMS</a> , the author of the aforementioned programs about programming this chip. <br><br><h4>  New beginnings </h4><br>  While the epic with the dimmer forcedly slowed down, one small fresh undertaking started.  Together with the new developer, which we will present to the public later, a control module for NOBO convectors is being developed: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a55/385/7ac/a553857ac06c2f4d51d6f977f70b6344.png"><br><br>  The control module is installed instead of the standard thermostat, which is replaceable in NOBO convectors.  Without any interference in the interior of the convector, we get a controlled heat source with feedback.  And this is a remote heating switch-on (arrived at the dacha, and it's already warm there), automatic climate change depending on the time of day (you can make it cooler at night) or the presence of a person in the house, remote temperature control at different points in a country house, and the like, sometimes vital - necessary features. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e6/0e8/5f2/6e60e85f22903d2f7c20c06cd3739f39.png"><br><br>  The NOBO convectors are one of the most expensive on the market, and are distinguished by maximum reliability and the absence of any clicks in the course of their work.  The heating element is controlled by a triac, rather than a clattering relay, like many less expensive competitors. <br><br>  It is planned to display the network connection indicator (green in the picture), the heating element on indicator (red), the indicators of the current set temperature level (blue) and two buttons for the local change in the temperature level on the front panel of the module.  The module will operate in the common radio network of COOLRF smart home devices and promises to be significantly cheaper than the original NOBO controlled thermostats. <br><br><h4>  What's next? </h4><br>  The project lives, develops and changes.  In the near future we are going to try out a new scheme of work.  We will try to find several interested experienced developers who will work in parallel on their own piece of our large system.  Thus, we hope in a not very long period of time to get a wide range of devices necessary for a smart home. <br><br>  We still exist on our own pocket money, so we are looking for people who want to participate not for the sake of earnings, but more out of interest.  Interest to do something that will really be used by a large number of people, interest to participate in a large interesting open project.  The conditions for such participation have not yet been born completely and can be discussed individually. <br><br>  If you turned out to be such a person, do not hesitate to contact the <a href="http://habrahabr.ru/users/webself/" class="user_link">webself</a> directly on any of the communication channels indicated on the profile page. </div><p>Source: <a href="https://habr.com/ru/post/222801/">https://habr.com/ru/post/222801/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../222789/index.html">Dual numbers in business or how to evaluate the sensitivity of a solution to changes in initial conditions</a></li>
<li><a href="../222791/index.html">Evernote surpasses 100 million users</a></li>
<li><a href="../222793/index.html">Current statistics of casual game income</a></li>
<li><a href="../222797/index.html">Solar Roadways - solar panels throughout the roadbed</a></li>
<li><a href="../222799/index.html">Secure encrypted data storage and features of working with it</a></li>
<li><a href="../222803/index.html">Fast-static - Node.js module makes life much easier</a></li>
<li><a href="../222805/index.html">Store passwords with vim</a></li>
<li><a href="../222813/index.html">Harvard CS50x to EdX Course, Subtitle Translation (Weeks 0-3)</a></li>
<li><a href="../222815/index.html">Results and discussion of the May habrasue competition: we make our own GLONASS</a></li>
<li><a href="../222819/index.html">How to create a 3D-model of a human virus. Part One: Collection and Analysis of Scientific Data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>