<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A brief introduction to trust, or why you can not run blindly without checking scripts from the Internet</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How the trust chain works 



 In a recent article, ‚ÄúVPN to every home,‚Äù it is proposed to do a tremendous folly, namely, go to your VPS and enter thi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A brief introduction to trust, or why you can not run blindly without checking scripts from the Internet</h1><div class="post__text post__text-html js-mediator-article"><h1>  How the trust chain works </h1><br><br><img src="https://habrastorage.org/files/6d7/2ba/6f6/6d72ba6f6375438da6dbba6c8c54ebdf.jpg"><br><br>  In a recent article, ‚ÄúVPN to every home,‚Äù it is proposed to do a tremendous folly, namely, go to your VPS and enter this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs">curl -sS https://sockeye.cc/instavpn.sh | sudo bash</code> </pre> <br><br>  As I wrote in the commentary to that article, this is a very big folly.  You blindly run the code from the Internet, which you have not even seen, and even then it does not matter from under <b>sudo</b> or not. <br><a name="habracut"></a><br>  The main reasons are as follows: <br><ul><li>  You teach yourself that you can do this.  This is the biggest problem here, and you can compare such an action with the user who opens the executable file from the incoming letter.  On the consequences of such actions, we all know well on the huge botnets on Windows, as well as all sorts of leaked private data. </li><li>  You do not check the checksums and thus cannot say whether you are launching what you think you are running.  The script can be replaced by a large number of methods, including substitution of a record in the DNS by the provider, as this week was with the github, hacking the site from which you are downloading, etc. </li><li>  You do not use long-term practice to use checksums to verify running code, which is one of the main reasons for the relatively high security of UNIX and the like. </li></ul><br><br>  To understand, consider the correct way to install programs, first in general: <br><br><ul><li>  You are looking for information about the author, and are trying to understand whether you can trust him.  Such information is usually found even about the authors of small programs. </li><li>  Download your program, it does not matter in what form, a package, an archive or an iso image. </li><li>  Consider with sha256sum (or at least md5sum) the checksum of what you downloaded. </li><li>  Go to the developer's website and see if what you counted is the same as what is written there. </li><li>  You drive a checksum into Google and find another source. </li><li>  You are convinced that most likely you downloaded exactly what the author of the program wanted to give you. </li><li>  Now you have <b>sufficient reason</b> to install a software package and <b>not</b> worry <b>too much</b> . </li></ul><br><br>  <b>Again.</b>  <b>Absolutely all security is built on your trust in certain people or companies, be it Linus Torvalds, the Ubuntu Security Team, or the author of a small useful utility.</b>  <b>You need to make sure that 1. the author is trustworthy, and 2. you run what the author has posted.</b> <br><br>  Now consider the application of the above method for example, installing Ubuntu Desktop 14.04.01.  Absolutely the same method is used when installing everything else, only you do not download a disk image, but, for example, an archive. <br><br><ul><li>  Canonical is a relatively well-known company, you can be cautiously trusted.  You can always trust only with caution. </li><li>  You download the disk image from any mirror: wget <a href="">whatever / ubuntu-14.04.1-desktop-amd64.iso</a> It doesn‚Äôt matter if the mirror is <a href="">cracked</a> or the connection is secure. </li><li>  Next, consider the checksum, they do not have sha256 on the site, so md5 will go: "md5sum ubuntu-14.04.1-desktop-amd64.iso" </li><li>  Go to their website and see this ‚Äú <a href="https://help.ubuntu.com/community/UbuntuHashes">help.ubuntu.com/community/UbuntuHashes</a> ‚Äù.  All right, the checksum matched. </li><li>  Looking for this checksum in google.  At a minimum, make sure that it is the same on other mirrors, ideally find the Canonical mailing list in which it is mentioned. </li><li>  Now you are convinced that the downloaded image is not fake, and you can install it. </li></ul><br><br>  Now let's look at how the batch manager works with the example of apt-get: <br><br><ul><li>  When you install the system you have already configured some repositories. </li><li>  In these repositories there are files with a list of all the packages and their checksums. </li><li>  These files are in turn signed by the developers' private key. </li><li>  After installation the public key is already sewn into the distribution kit. </li><li>  Thus, when you install a new package, you download the corresponding list of all packages (if there was an update in the repository), then the package itself, and you can be sure that the trust chain will be traced: <b>{package checksum} - {list of packages with checksums} - {signature by the private key of the package list} - {the public key entered into your distribution package}</b> . </li></ul><br><br>  As you can see, verification happens at all levels.  There is no unsigned executable code in your system.  In cases similar to those described in a recent article, all these checks are not performed.  You have no reason to trust such a code.  Therefore, the rule is: <br><br>  <b>Never run incomprehensible code from the Internet!</b>  <b>Either independently make sure that it is safe, or make sure that the author can be trusted, and this is his code.</b>  <b>If you do not have enough knowledge to check the code yourself, use only official repositories, there is a special team of specialists who try (and usually she is good at it) to do it for you.</b> <br><br><h1>  Addition.  The only correct way to open access to samopisnymi control panels from the Internet </h1><br>  In a web application, many elements may be vulnerable, the most vulnerable of which is, of course, the code of the application itself.  To minimize risks, use <b>http basic authentication</b> with <b>https</b> .  This way you shift vulnerability concerns onto the powerful shoulders of the web server. <br><br>  Understandably, this only works if it‚Äôs an internal site; end users need more convenient ways to log in.  But samopisnye control panels and other tools are usually designed for internal use and intended. <br><br><h1>  Offtop.  The problem. </h1><br>  <b>Attention!</b>  <b>Do not do it on your working machine or server, it will break!</b> <br>  The problem is simply formulated, I assume you have a 64-bit system: <br><pre> <code class="bash hljs">chmod -x /lib64/ld-linux-x86-64.so.2</code> </pre><br>  There are several solutions; in the most difficult case, you have no loopholes.  I will not specify not to help with the decision. <br><br>  <b>UPD: The</b> problem is solved in the comments by the person with the login <a href="http://habrahabr.ru/users/kay/" class="user_link">kay</a> , I do not give a solution in case you want to break the brain yourself. <br><br>  <u><b>UPD2:</b> As <b>amarao</b> correctly noted, if you don‚Äôt understand exactly what you are doing, use only official repositories.</u> </div><p>Source: <a href="https://habr.com/ru/post/244991/">https://habr.com/ru/post/244991/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../244975/index.html">Fighting Information Noise in a Big Company: Introducing the Twitter Approach to the Messenger</a></li>
<li><a href="../244977/index.html">What is blender a photographer for?</a></li>
<li><a href="../244985/index.html">Sergey Arkhipenkov: ‚ÄúIntellectual people cannot be managed‚Äù</a></li>
<li><a href="../244987/index.html">Creating a virtual SSD for vSphere 5.5</a></li>
<li><a href="../244989/index.html">DNA Salesforce users: analysis of companies that use Salesforce CRM</a></li>
<li><a href="../244993/index.html">Kerio Connect 8.4 has been released</a></li>
<li><a href="../244995/index.html">Android 5.0 for Xperia Z Ultra Google Play Edition</a></li>
<li><a href="../244997/index.html">Core PCI-express in Achronix FPGA - quick start</a></li>
<li><a href="../244999/index.html">Kotlin for Android, or an easy way to stop programming in Java</a></li>
<li><a href="../245003/index.html">Educational series about marketing and sales issues in a studio / agency</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>