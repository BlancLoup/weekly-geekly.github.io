<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Service control panel. Part 3. Reconnaissance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous part I finished the story about the API and the interface with the front end. In this article I will talk about the frontend itself an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Service control panel. Part 3. Reconnaissance</h1><div class="post__text post__text-html js-mediator-article">  In the previous part I finished the story about the API and the interface with the front end.  In this article I will talk about the frontend itself and start with a topic that usually opens closer to the end.  Testing. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-p/wd/ya/-pwdyagjauuto3u0ag_lnoib7sa.png"></div><br><a name="habracut"></a><br><h2>  File organization </h2><br>  To begin with, the structure of the project formed by angular-cli.  As unnecessary, some of the files were filtered. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ev/4u/cz/ev4uczoamblueisvk6oxw_obqfy.png"></div><br>  Unit testing in Angular is based on <a href="https://jasmine.github.io/">Jasmine</a> , the utilities of Angular and <a href="https://karma-runner.github.io/2.0/index.html">Karma itself</a> .  The description of these packages is given on the <a href="https://angular.io/guide/testing">official website</a> , so I will not duplicate it.  In short, Jasmine is a framework that provides the necessary functionality for basic tests, Angular utilities allow you to use a test environment, Karma is used to run tests. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/zi/s4/e8/zis4e8n6h8ucxxo4zwv9frycsem.png"><br><br>  The test files themselves are named with the addition of the spec before the extension.  According to this pattern: * .spec.ts Karma will find them.  There is no consensus about the location of the tests.  Allowed location "closer" to the object of testing and a separate directory for all tests of the application.  The Angular team gives the advantages of the location of the tests next to the object: <br><br><ul><li>  Such tests are easier to find. </li><li>  You immediately see that part of your application lacks a test. </li><li>  When you move the source code of an entity, you will not forget to move and test. </li><li>  When you rename the source code of an entity, you will not forget to rename and test. </li></ul><br>  I opted for the option proposed by angular-cli - tests are located next to the object. <br><br><h2>  Karma setting </h2><br>  The entry point for testing the Angular application is the src / test.ts file, which imports all the necessary packages, collects the test files using the * .spec.ts template and starts the test execution system, in our case Karma.  The file itself after creating the project looks like this: <br><br><pre><code class="hljs pgsql">// This file <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> required <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> karma.conf.js <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> loads recursively <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> the .spec <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> framework files <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'zone.js/dist/long-stack-trace-zone'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'zone.js/dist/proxy.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'zone.js/dist/sync-test'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'zone.js/dist/jasmine-patch'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'zone.js/dist/async-test'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'zone.js/dist/fake-async-test'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { getTestBed } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { BrowserDynamicTestingModule, platformBrowserDynamicTesting } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/platform-browser-dynamic/testing'</span></span>; // Unfortunately ther<span class="hljs-string"><span class="hljs-string">e's no typing for the `__karma__` variable. Just declare it as any. declare const __karma__: any; declare const require: any; // Prevent Karma from running prematurely. __karma__.loaded = function () {}; // First, initialize the Angular testing environment. getTestBed().initTestEnvironment( BrowserDynamicTestingModule, platformBrowserDynamicTesting() ); // Then we find all the tests. const context = require.context('</span></span>./<span class="hljs-string"><span class="hljs-string">', true, /\.spec\.ts$/); // And load the modules. context.keys().map(context); // Finally, start Karma to run the tests. __karma__.start();</span></span></code> </pre> <br>  Here I want to draw attention to the problem that I had to face.  The order of imports is important and you should not change it, otherwise you will be able to meet errors whose roots are extremely implicit.  Therefore, I recommend adding third-party packages to the end of the import list and adding the <i>/ * tslint: disable * /</i> flag to the beginning of the file to disable the linter, or exclude this file in its configuration, because tslint might consider the existing order incorrect and correct. <br><br>  Before writing tests, you need to configure Karma, which will run them.  The initial configuration is as follows: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Karma configuration file, see link for more information // https://karma-runner.github.io/1.0/config/configuration-file.html module.exports = function (config) { config.set({ basePath: '', frameworks: ['jasmine', '@angular/cli'], plugins: [ require('karma-jasmine'), require('karma-chrome-launcher'), require('karma-jasmine-html-reporter'), require('karma-coverage-istanbul-reporter'), require('@angular/cli/plugins/karma'), require('karma-mocha-reporter'), ], client:{ clearContext: false // leave Jasmine Spec Runner output visible in browser }, coverageIstanbulReporter: { reports: [ 'html', 'lcovonly' ], fixWebpackSourcePaths: true }, angularCli: { environment: 'dev' }, reporters: ['mocha'], port: 9876, colors: true, logLevel: config.LOG_INFO, autoWatch: true, browsers: ['Chrome'], singleRun: false }); };</span></span></code> </pre><br>  Since the description of all possible Karma settings is a separate topic for discussion, I‚Äôll dwell only on those that we use: <br><br><ul><li>  <b>browsers</b> : list of browsers to run.  As a full-featured Chrome is used, I prefer to use ChromeHeadless, which loads less memory.  But it is worth remembering that to use it requires Chrome&gt; = 59. </li><li>  <b>logLevel</b> : I use LOG_ERROR and LOG_DEBUG in case of errors of the ‚ÄúScript error‚Äù type to get a more direct log.  Total allowable values ‚Äã‚Äã5: <br><ol><li>  config.LOG_DISABLE </li><li>  config.LOG_ERROR </li><li>  config.LOG_WARN </li><li>  config.LOG_INFO </li><li>  config.LOG_DEBUG </li></ol><br></li><li>  <b>reporters</b> : an array responsible for reporting messages and results.  In the spaces of npmjs, you can find almost any output layout, for myself I have defined the following set: karma-mocha-reporter for the console, istanbul-threshold - for output in the browser.  The log provided by mocha is informative enough for the console, Istanbul arranged us for output to the browser (I use a full browser launch with logLevel: config.LOG_DEBUG. <br></li><li>  <b>Plugins</b> .  As the name implies - this is an array of plugins that are used by karma.  Reporters, browsers, plug-ins for display and calculation of code coverage are indicated here.  A list of available plugins can be seen here (https://www.npmjs.com/browse/keyword/karma-plugin). <br></li><li>  In the standard configuration there is no <b>files</b> parameter, the list of values ‚Äã‚Äãof which will be loaded by Karma during the testing process.  We use this list to add a standard theme material and remove warnings about its absence. <br><br>  The application is as follows: <br><br><pre> <code class="hljs cs">files: [{ pattern: <span class="hljs-string"><span class="hljs-string">'./node_modules/@angular/material/prebuilt-themes/indigo-pink.css'</span></span>, included: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, watched: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }],</code> </pre><br>  The included parameter includes the file in the assembly, watched - tracks changes in it. <br></li><li>  Also, we use the <b>preprocessors</b> parameter to disable API code coverage checking: <br><br><pre> <code class="hljs cs">preprocessors: { <span class="hljs-string"><span class="hljs-string">'!(./src/api)'</span></span>: [<span class="hljs-string"><span class="hljs-string">'coverage'</span></span>] },</code> </pre><br></li></ul><br>  So, the preparatory stage is over, you can run the tests.  For a project generated using angular-cli, use the ng test command.  It has several <a href="https://github.com/angular/angular-cli/wiki/test">parameters</a> , among which I would like to mention - sourcemap.  As the name suggests, this parameter includes sourcemaps in the tests.  But this is the error 'XMLHttpRequest: failed to load'.  Setting false for this parameter solves this problem. <br><br><h3>  Component testing </h3><br>  The first and most important testing utility for the Angular component is <a href="https://angular.io/guide/testing">TestBed</a> .  Her idea is to create a separate module that is identical to the component module, but is created in a test environment and is isolated from the application. <br><br>  To create a TestBed, the <b>configureTestingModule</b> method is called, to which the metadata object is passed.  This method should be called asynchronously before each test so that the component is in the initial state.  For this there is a method beforeEach (async () =&gt; {}); <br><br><pre> <code class="hljs lisp">beforeEach(<span class="hljs-name"><span class="hljs-name">async</span></span>(() =&gt; { TestBed.configureTestingModule({ declarations: [ AppComponent ], }).compileComponents()<span class="hljs-comment"><span class="hljs-comment">; }));</span></span></code> </pre><br>  As you can see from the example, we declare an array of components for testing (in this case, only one).  In the future, it is possible to add more components, import the necessary modules for work, directives, pipes.  The configureTestingModule method returns a TestBed class, which allows calling static methods such as compileComponents.  This method asynchronously compiles all the components of the module, translates the template and styles into ‚Äúinline‚Äù.  After that, we can synchronously get the component instances using the TestBed.createComponent () method.  This method returns an instance of ComponentFixture, which gives access directly to the component and its DOM through a DebugElement. <br><br><div class="spoiler">  <b class="spoiler_title">The summary file of the simplest test component</b> <div class="spoiler_text"><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { TestBed, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AppComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./app.component'</span></span>; describe(<span class="hljs-string"><span class="hljs-string">'AppComponent'</span></span>, () =&gt; { beforeEach(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { TestBed.configureTestingModule({ <span class="hljs-attr"><span class="hljs-attr">declarations</span></span>: [ AppComponent ], }).compileComponents(); })); it(<span class="hljs-string"><span class="hljs-string">'should create the app'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fixture = TestBed.createComponent(AppComponent); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = fixture.debugElement.componentInstance; expect(app).toBeTruthy(); })); it(<span class="hljs-string"><span class="hljs-string">`should have as title 'app'`</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fixture = TestBed.createComponent(AppComponent); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = fixture.debugElement.componentInstance; expect(app.title).toEqual(<span class="hljs-string"><span class="hljs-string">'app'</span></span>); })); it(<span class="hljs-string"><span class="hljs-string">'should render title in a h1 tag'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fixture = TestBed.createComponent(AppComponent); fixture.detectChanges(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> compiled = fixture.debugElement.nativeElement; expect(compiled.querySelector(<span class="hljs-string"><span class="hljs-string">'h1'</span></span>).textContent).toContain(<span class="hljs-string"><span class="hljs-string">'Welcome to app!'</span></span>); })); });</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Component code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Component } from <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Component({ selector: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'app-root'</span></span></span><span class="hljs-meta">, templateUrl: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'./app.component.html'</span></span></span><span class="hljs-meta">, styleUrls: [</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'./app.component.css'</span></span></span><span class="hljs-meta">] })</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span></span>{ title = <span class="hljs-string"><span class="hljs-string">'app'</span></span>; }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Component template</b> <div class="spoiler_text"><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-align:center"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> Welcome to {{title}}! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><h4>  Testing a component with addiction </h4><br>  Developers <a href="https://angular.io/guide/testing">emphasize</a> that you should not use real services and add stubs to the tests. <br><br><h4>  Component code </h4><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Component} from <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {SomeServiceService} from <span class="hljs-string"><span class="hljs-string">"./some-service.service"</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Component({ selector: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'app-root'</span></span></span><span class="hljs-meta">, templateUrl: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'./app.component.html'</span></span></span><span class="hljs-meta">, styleUrls: [</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'./app.component.css'</span></span></span><span class="hljs-meta">] })</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span></span>{ title = <span class="hljs-string"><span class="hljs-string">'app'</span></span>; name: string; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> someService: SomeServiceService) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.someService.getName(); } }</code> </pre><br><h4>  Test code: </h4><br><pre> <code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { TestBed, async } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AppComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./app.component'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { SomeServiceService } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./some-service.service"</span></span>; const SomeServiceStub = { getName: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">'some name'</span></span> }; describe(<span class="hljs-string"><span class="hljs-string">'AppComponent'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { beforeEach(async(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { TestBed.configureTestingModule({ declarations: [ AppComponent ], providers: [ <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   { provide: SomeServiceService, useValue: SomeServiceStub } ] }).compileComponents(); })); it(<span class="hljs-string"><span class="hljs-string">'token should test component with dependency'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   root-injector <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       ,        beforeEach const someService = TestBed.get(SomeServiceService); expect(someService.getName()).toEqual(<span class="hljs-string"><span class="hljs-string">'some name'</span></span>); }); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,    inject,   ,    root-injector. <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  ,      it(<span class="hljs-string"><span class="hljs-string">'token should test component with dependency'</span></span>, inject(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([SomeServiceService], (someService: SomeServiceService))</span></span></span><span class="hljs-function"> =&gt;</span></span> { const someService = TestBed.get(SomeServiceService); expect(someService.getName()).toEqual(<span class="hljs-string"><span class="hljs-string">'some name'</span></span>); })); });</code> </pre><br>  In this case, I use an object that repeats the behavior of SomeService, that is, contains the getName method.  To use it instead of a real service, you need to add an object with the provide property to the providers array, specifying the service as the value and useValue with the stub value. <br><br>  Since we use API based on swagger, there is no need to write services to communicate with the server.  We can only call the methods and process the result.  And here we can afford to refuse to implement the methods and get the service through the injector. <br>  This is done through the use of MockBackend.  In short, we are replacing not the service, but the backend itself. <br><br><div class="spoiler">  <b class="spoiler_title">Component code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Component({ selector: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'app-login'</span></span></span><span class="hljs-meta">, templateUrl: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'login.component.html'</span></span></span><span class="hljs-meta">, styleUrls: [</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'login.component.less'</span></span></span><span class="hljs-meta">] })</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ loading: boolean; loginForm: FormGroup; error: any; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> router: Router, <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> authService: UserService, <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> fb: FormBuilder, <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ref: ChangeDetectorRef) { } ngOnInit() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.loading = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.loginForm = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fb.group({ login: [<span class="hljs-string"><span class="hljs-string">''</span></span>], password: [<span class="hljs-string"><span class="hljs-string">''</span></span>] }); } <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> login() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.loginForm.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">'login'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> password() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.loginForm.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">'password'</span></span>); } submit() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.loading = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.submitted = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     const data = { 'login': this.loginForm.controls['login'].value, 'password': this.loginForm.controls['password'].value }; //    //    -    /home/main //      400  401 -    this.authService.signIn(data).subscribe( resp =&gt; this.router.navigateByUrl('/home/main'), error =&gt; { this.loading = false; error.status === 401 || error.status === 400 ? this.error = {errorText: error.title} : ''; this.ref.detectChanges(); } ); } }</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Test code</b> <div class="spoiler_text"><pre> <code class="hljs javascript"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MockError</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Response</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span><span class="hljs-class"> </span></span>{ name: any; message: any; } describe(<span class="hljs-string"><span class="hljs-string">'LoginComponent'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> component: LoginComponent; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> fixture: ComponentFixture&lt;LoginComponent&gt;; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mockBackend: MockBackend; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> authUrl = <span class="hljs-string"><span class="hljs-string">'login_url'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> testUser = { <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'test'</span></span>, <span class="hljs-attr"><span class="hljs-attr">password</span></span>: <span class="hljs-string"><span class="hljs-string">'test'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> successResponse = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Response( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseOptions({ <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }) ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> errorResponse = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MockError( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseOptions({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ResponseType.Error, <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-number"><span class="hljs-number">401</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify({ <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-number"><span class="hljs-number">401</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Unauthorized'</span></span>, } ) }) ); beforeEach(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { TestBed.configureTestingModule({ <span class="hljs-attr"><span class="hljs-attr">declarations</span></span>: [LoginComponent], <span class="hljs-attr"><span class="hljs-attr">imports</span></span>: [ FormsModule, HttpModule, RouterTestingModule.withRoutes([]), ], <span class="hljs-attr"><span class="hljs-attr">providers</span></span>: [ AuthService, {<span class="hljs-attr"><span class="hljs-attr">provide</span></span>: XHRBackend, <span class="hljs-attr"><span class="hljs-attr">useClass</span></span>: MockBackend} ], }).compileComponents(); mockBackend = TestBed.get(XHRBackend); mockBackend.connections.subscribe(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connection: MockConnection</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (connection.request.method === RequestMethod.Post) { expect(connection.request.url).toEqual(authUrl); <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connection.request.getBody(</span></span></span><span class="hljs-function">) === </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">JSON</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">stringify</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">testUser</span></span></span><span class="hljs-function">)) ? </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connection</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mockRespond</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">successResponse</span></span></span><span class="hljs-function">) : </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connection</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mockError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">errorResponse</span></span></span><span class="hljs-function">); } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">else</span></span></span><span class="hljs-function"> { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connection</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mockError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">errorResponse</span></span></span><span class="hljs-function">); } }); })); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">beforeEach</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="hljs-function">) =&gt;</span></span> { fixture = TestBed.createComponent(LoginComponent); component = fixture.componentInstance; fixture.detectChanges(); }); it(<span class="hljs-string"><span class="hljs-string">'should create'</span></span>, () =&gt; { expect(component).toBeTruthy(); }); it(<span class="hljs-string"><span class="hljs-string">'should login correctly'</span></span>, inject([Router], (router: Router) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> spy = spyOn(router, <span class="hljs-string"><span class="hljs-string">'navigateByUrl'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> login = component.loginForm.controls[<span class="hljs-string"><span class="hljs-string">'login'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> password = component.loginForm.controls[<span class="hljs-string"><span class="hljs-string">'password'</span></span>]; login.setValue(<span class="hljs-string"><span class="hljs-string">'test'</span></span>); password.setValue(<span class="hljs-string"><span class="hljs-string">'test'</span></span>); fixture.detectChanges(); component.submit(); fixture.detectChanges(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> navArgs = spy.calls.first().args[<span class="hljs-number"><span class="hljs-number">0</span></span>]; expect(navArgs).toEqual(<span class="hljs-string"><span class="hljs-string">'/home/main'</span></span>); })); it(<span class="hljs-string"><span class="hljs-string">'should fail login'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> login = component.loginForm.controls[<span class="hljs-string"><span class="hljs-string">'login'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> password = component.loginForm.controls[<span class="hljs-string"><span class="hljs-string">'password'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> errorResponse = { <span class="hljs-attr"><span class="hljs-attr">errorText</span></span>: <span class="hljs-string"><span class="hljs-string">'Unauthorized'</span></span> }; login.setValue(<span class="hljs-string"><span class="hljs-string">'testad'</span></span>); password.setValue(<span class="hljs-string"><span class="hljs-string">'testad'</span></span>); fixture.detectChanges(); component.submit(); fixture.detectChanges(); expect(component.error).toEqual(errorResponse); }); });</code> </pre><br></div></div><br>  We have a component that needs to take a login and password from the form, send it to a certain url and either follow the 'home / main' link or process and display an error. <br><br>  In order not to use the stub for the service and not to implement its methods, we use MockBackend, which will process requests and return predefined answers.  To do this, we first declare MockBackend, specify the url, which we expect and define the data that should be in the request: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mockBackend: MockBackend; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> authUrl = <span class="hljs-string"><span class="hljs-string">'login_url'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> testUser = { login: <span class="hljs-string"><span class="hljs-string">'test'</span></span>, password: <span class="hljs-string"><span class="hljs-string">'test'</span></span> };</code> </pre><br>  Next, we define what the answers will look like.  Suppose that a successful request returns an empty response, and an invalid one returns a status 401 with the name of the error. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> successResponse = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Response( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseOptions({ <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }) ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> errorResponse = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MockError( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseOptions({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ResponseType.Error, <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-number"><span class="hljs-number">401</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify({ <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-number"><span class="hljs-number">401</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Unauthorized'</span></span>, } ) }) );</code> </pre><br>  Next, after configuring the test module, we get a MockBackend and subscribe to the connections.  We expect the POST method and the matching url of the request to what we indicated above.  Also, we check that the request body matches what was expected. <br><br><pre> <code class="hljs pgsql">mockBackend = TestBed.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(XHRBackend); mockBackend.connections.subscribe((<span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>: MockConnection) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>.request.<span class="hljs-keyword"><span class="hljs-keyword">method</span></span> === RequestMethod.Post) { expect(<span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>.request.url).toEqual(authUrl); (<span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>.request.getBody() === <span class="hljs-type"><span class="hljs-type">JSON</span></span>.stringify(testUser)) ? <span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>.mockRespond(successResponse) : <span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>.mockError(errorResponse); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>.mockError(errorResponse); } });</code> </pre><br>  All that remains to be done in the test is to get a router (since we have a transition when the request is successful), fill in the login data and check that the transition was completed: <br><br><pre> <code class="hljs kotlin">it(<span class="hljs-string"><span class="hljs-string">'should login correctly'</span></span>, inject([Router], (router: Router) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> spy = spyOn(router, <span class="hljs-string"><span class="hljs-string">'navigateByUrl'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> login = component.loginForm.controls[<span class="hljs-string"><span class="hljs-string">'login'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> password = component.loginForm.controls[<span class="hljs-string"><span class="hljs-string">'password'</span></span>]; login.setValue(<span class="hljs-string"><span class="hljs-string">'test'</span></span>); password.setValue(<span class="hljs-string"><span class="hljs-string">'test'</span></span>); fixture.detectChanges(); component.submit(); fixture.detectChanges(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> navArgs = spy.calls.first().args[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">expect</span></span>(navArgs).toEqual(<span class="hljs-string"><span class="hljs-string">'/home/main'</span></span>); }));</code> </pre><br><h4>  Component testing with input and output </h4><br>  As you know, components can exchange data through properties with the decorators <a href="https://angular.io/api/core/Input">@Input</a> and <a href="https://angular.io/api/core/Output">@Output</a> .  For example, like this: <br><h4>  Parent Component: </h4><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; @Component({ selector: <span class="hljs-string"><span class="hljs-string">'my-app'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;child-comp [userName]="name" [userSurname]="surname"&gt;&lt;/child-comp&gt;'</span></span> }) export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ParentComponent { <span class="hljs-type"><span class="hljs-type">name</span></span> = <span class="hljs-string"><span class="hljs-string">'Some name'</span></span>; surname = <span class="hljs-string"><span class="hljs-string">'Some surname'</span></span>; }</code> </pre><br><h4>  ChildComponent: </h4><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Input, Component} from <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Component({ selector: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'child-comp'</span></span></span><span class="hljs-meta">, template: `&lt;p&gt; : {{userName}}&lt;/p&gt; &lt;p&gt; : {{userSurname}}&lt;/p&gt;` })</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChildComponent</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Input()</span></span> userName: string; <span class="hljs-meta"><span class="hljs-meta">@Input()</span></span> userSurname:string; }</code> </pre><br>  In order for the Parent component test to start correctly, you must declare a child-component in the declarations array. <br><br><h4>  parent.component.spec.ts </h4><br><pre> <code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {async, ComponentFixture, TestBed} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {ParentComponent} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./parent.component'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {ChildComponent} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../child/child.component'</span></span>; describe(<span class="hljs-string"><span class="hljs-string">'ParentComponent'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { let component: ParentComponent; let fixture: ComponentFixture&lt;ParentComponent&gt;; beforeEach(async(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { TestBed.configureTestingModule({ declarations: [ParentComponent, ChildComponent] }) .compileComponents(); })); beforeEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { fixture = TestBed.createComponent(ParentComponent); component = fixture.componentInstance; fixture.detectChanges(); }); it(<span class="hljs-string"><span class="hljs-string">'should create'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { expect(component).toBeTruthy(); }); });</code> </pre><br>  And for the Child component, you must pass the input parameters.  The easiest way is to manually specify their values ‚Äã‚Äãafter creating the component: <br><br><h4>  child.component.spec.ts </h4><br><pre> <code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { async, ComponentFixture, TestBed } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ChildComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./child.component'</span></span>; describe(<span class="hljs-string"><span class="hljs-string">'ChildComponent'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { let component: ChildComponent; let fixture: ComponentFixture&lt;ChildComponent&gt;; beforeEach(async(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { TestBed.configureTestingModule({ declarations: [ ChildComponent ] }) .compileComponents(); })); beforeEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { fixture = TestBed.createComponent(ChildComponent); component = fixture.componentInstance; fixture.detectChanges(); }); it(<span class="hljs-string"><span class="hljs-string">'should create'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { expect(component).toBeTruthy(); component.userName = <span class="hljs-string"><span class="hljs-string">'some name'</span></span>; expect(component.userName).toEqual(<span class="hljs-string"><span class="hljs-string">'some name'</span></span>); }); });</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/348832/">https://habr.com/ru/post/348832/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../348820/index.html">Game development under NES in C. Chapters 7-10. Work with the joystick. Sprite collisions</a></li>
<li><a href="../348822/index.html">Mining in blockchain networks: how it works</a></li>
<li><a href="../348824/index.html">Google Chrome will start tagging all http pages as ‚Äúnot protected‚Äù with the release of Chrome 68 in July 2018</a></li>
<li><a href="../348828/index.html">Prototyping is easy how to assemble a puzzle. Multicomponent System Design in Figma</a></li>
<li><a href="../348830/index.html">Evolution of War: Total War II Series AI (Part 2)</a></li>
<li><a href="../348836/index.html">The digest of interesting materials for the mobile developer # 240 (February 5 ‚Äî February 11)</a></li>
<li><a href="../348838/index.html">Predicting Random Numbers in Ethereum Smart Contracts</a></li>
<li><a href="../348840/index.html">CC1101 running a PIC controller or building a peer-to-peer network for a radio engineer (part 2, continued)</a></li>
<li><a href="../348842/index.html">Information architecture and technology DITA. Based on a lecture in Yandex</a></li>
<li><a href="../348844/index.html">Release 3CX v15.5 Update 3 with new features and important changes.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>