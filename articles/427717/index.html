<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integrated CROC development stand for 1C and not only</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Development experience, accumulated on large and complex projects, is embodied in useful tools and engineering practices with which it is necessary to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integrated CROC development stand for 1C and not only</h1><div class="post__text post__text-html js-mediator-article">  Development experience, accumulated on large and complex projects, is embodied in useful tools and engineering practices with which it is necessary to enrich the development processes, reinterpreting it entirely over and over again.  It is the awareness of the value of the acquired experience as an artifact, the desire to develop, led us to an understanding of the need to introduce tools and practices into current processes.  And we launched a cardinal revision of approaches to design solutions and the development process as a whole.  It makes no sense to describe the typical limitations and shortcomings of the "classic" approach to team development in the 1C world.  Much has already been said on this subject.  I will describe only the patterns that allowed us to make these flaws small and almost not scary. <br><br>  So get acquainted, <b>integrated development booth!</b> <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  General principles of architecture </h3><br><br>  When designing the stand architecture, we aimed to cover the entire life cycle of the solutions implemented on the projects, implement the gained experience, standardize the processes, automate the routine.  At the same time, it was necessary to lay the potential for development, to preserve the ability to scale and maximum simplicity, in terms of service, development and user experience.  Tools and techniques that have proven their effectiveness in practice should be added to the process.  And all useless, interfering with the work should be removed. <br><br><br><h3>  Process </h3><br><br>  The life cycle of any solution practically does not change depending on the scale and complexity of the project.  It includes: analysis, design, development, testing, implementation, maintenance, decommissioning.  To obtain maximum efficiency, each of these processes must be verified and coordinated with previous and subsequent processes, combined into a kind of automated conveyor that can be replicated for an unlimited number of projects.  The task was solved by the implementation of the system in the form of microservices connected via exported APIs in isolated containers, which can be deployed both in the cloud service and in the local network of the enterprise. <br><br>  Here is our stack, which implements the process: <br><img src="https://habrastorage.org/webt/5c/q5/dn/5cq5dnybcr_ktiu0v-6p6r4h_ua.png"><br><br>  We tried to minimize the use of paid services with closed source code, which had a positive impact on the cost of ownership.  Virtually all services are open source and run on Linux. <br><br>  The process is designed so that we get the most out of each member of the development team, and standardization and automation eliminates excessive complexity and routine. <br><br><br><h3>  Design (Application Design Engineering Service) </h3><br><br>  One of the most significant stages at the start of a project is to design a future solution based on requirements analysis.  The main task is to understand the most clearly, unambiguously and quickly the architecture of the future solution, in terms understood by both the developer / engineer and the consultant.  Describe the metadata, algorithms realizable business processes.  At the same time, I wanted to maximize the use of ready-made templates that can be quickly customized for specific conditions, which can be adapted to the input data and get project documentation at the output. <br><br>  We implemented the configuration of "1C: DSS" as a single interface for the design of application solutions, significantly reworked the concept of describing business processes and functions, as well as the design of TP (FDR).  We also automated the processes of generating documentation through integration with the functionality of ‚Äú1C: DO‚Äù and microservices for generating documents in the docx format. <br><br>  "1C: DSS."  Editing project information: <br><img src="https://habrastorage.org/webt/am/nq/sg/amnqsgyxtyrqo8lw01ri5wbq7q8.png"><br><br>  "1C: DSS."  Process Report: <br><img src="https://habrastorage.org/webt/fo/jc/8o/fojc8ozzjmnyedsexpvuipq0zde.png"><br><br>  "1C: DSS."  Editing object metadata: <br><img src="https://habrastorage.org/webt/gp/pc/d8/gppcd8k5r63hfcvs_q71m5smtxu.png"><br><br>  "1C: DSS."  Editing a business process diagram: <br><img src="https://habrastorage.org/webt/mw/rz/in/mwrzinwmope6wxb8h_rntbrwfz4.png"><br><br>  By the way, we can visualize the relationship between business processes and objects in the system, create a list of improvements based on the registered requirements and get the project documentation automatically, which simplifies the change management process.  So, plan the development process in detail, see the complexity, the connectedness of tasks, more accurately determine the timing and order of their implementation. <br><br>  Of course, one cannot say that the design process has changed dramatically, but the unification of organizational approaches and the automation of many functions already contribute to the quality of projects. <br><br><br><h3>  Development (Continuous Integration, Inspection and Testing Services) </h3><br><br>  We have tried to focus on the possibility of comprehensive, continuous, automated quality control of the developed code in order to ensure compliance with the standard set by CROC.  Moreover, even if we involve third-party development teams, the methods, tools, and development standards of which may differ significantly from ours. <br><br>  On the stand, each developer commit automatically starts the procedure for parsing the configuration in the directory and file structure through the Gitsync service.  The resulting changes are indexed and placed in the Git repository.  In our case, this is the Gitlab service.  A commit message is automatically generated from the text of the comment entered when changes are placed in the configuration repository, and the author of the commit in the version control system is associated with the user of the configuration repository.  During the parsing of the text commentary, we can get information about the development task and labor costs, transfer it to the task tracking system, for example, Jira.  This gives a comprehensive picture of the development history.  For example, we can find the author by line of code, and smart comments to commits allow you to automatically manage task statuses and evaluate code in relation to tasks directly in the tasks themselves. <br><br>  Gitlab.  Now it is possible to comment on any line placed by the commit code: <br><img src="https://habrastorage.org/webt/5k/hg/-m/5khg-mecutyj0womil5yan0yjhq.png"><br><br>  Gitlab.  Conduct a ‚ÄúCode Review‚Äù with syntax highlighting: <br><img src="https://habrastorage.org/webt/wx/eh/fb/wxehfbqsb41pmw16xj3-h-2_cqc.png"><br><br>  Gitlab.  Get a clear picture of the code changes in the new commit: <br><img src="https://habrastorage.org/webt/mf/6s/a8/mf6sa8wtohvnts_gh-ejejfuhh4.png"><br><br>  After each commit in the repository, the procedure of static code inspection by the SonarQube service is automatically launched.  The BSL commit code is checked for compliance with a set of rules (quality profile) describing the code development standard.  The procedure is performed both for the code of the configuration being developed, and for external mechanisms: extensions, external reports and processing, and, in principle, any other project code, even in other languages. <br><br>  SonarQube: <br><img src="https://habrastorage.org/webt/zw/_l/dr/zw_ldrkmlpj2oanlrm7ukhsul5e.png"><br><br>  Each check updates the information of the monitored code base quality metrics, such as: <br><br><ul><li>  technical debt - the total work required to correct the errors identified; </li><li>  quality threshold - maximum permissible indicators of errors, vulnerabilities and other code flaws, upon reaching which, the release release is considered not possible; </li><li>  code duplication - the number of lines of code repeated multiple times within the developed configuration; </li><li>  cyclomatic and cognitive complexity - algorithms with a large number of branches, complicating the support and refinement of the code. </li></ul><br><br>  The metrics collected as a result of the check provide a visual representation of the current status of the project code base, allow us to assess the quality, identify risks, and promptly correct errors. <br><br>  The quality profile can be extended by its own sets of rules through XPath, as well as by issuing new rules as part of its own implementation of the plug-in for 1C.  This allows you to flexibly manage quality requirements based on the realities of a particular solution. <br><br>  Automated start of configuration parsing, code inspection, automated testing, etc.  launches a continuous integration service (Jenkins service).  The number and nature of such assembly lines can be changed in accordance with the specifics of a project. <br><br>  Despite the relative complexity of the described process, all pipeline mechanisms that perform the routine are hidden in the cloud service.  And the developer deals with the configurator interface, which is familiar to him, and can also develop his skills using more advanced tools.  For example, git, a repository for external mechanisms in conjunction with third-party code editors and SonarLint, SourceTree, etc. <br><img src="https://habrastorage.org/webt/di/cu/f7/dicuf7nk4iae0ute54yz0m5ebjy.png"><br><br>  In the general case, the developer connects the information base to the 1C configuration storage service, writes the code and places it into this service, thereby launching the process hidden from it on the stand.  If, as a result of checking a commit, the code reveals flaws, the developer receives an email notification (or chat bot message) with a link to the error description and recommendations for correction and a temporary assessment of labor costs in the SonarQube service interface.  After correcting the error, a new commit occurs and the process is repeated, the edited tasks are automatically closed ... technical debt is reduced.  By the same logic, an automated testing process is built, where each commit initiates the launch of the deployment of the test environment and connects the necessary tests from the test library.  And after the run, error information is aggregated during testing, as well as code coverage by tests. <br><br>  It is difficult to overestimate the effect of continuous, comprehensive verification of the code, followed by automated testing of the developed functionality.  This allows you to get rid of far-reaching consequences, make the development stages transparent, and together with properly aligned processes, objectively assess the qualifications of developers, which eliminates the risk of dependence on contractors.  Evaluating the parameters of the current code base, we can quickly identify and mitigate emerging risks, correct design flaws, and respond to changing requirements in a timely manner. <br><br>  The modular organization of the architecture of the stand allows you to build in the process of new modules, replicate the solution for the required number of projects.  Schematically, it looks like this: <br><img src="https://habrastorage.org/webt/gn/aw/wk/gnawwkp1wu9gj6k3q9iikswvdyk.png"><br><br><br><h3>  Testing (continuous testing service) </h3><br><br>  Above, I have already spoken about the service of continuous testing, which is integrated into the pipeline of the development process.  At the moment, a test of smoke tests and unit tests has been implemented on the stand.  Autotest functionality is implemented using the xUnitFor1C framework. <br><br>  Running the testing process, as well as inspecting the code, is tied to a commit event in the project repository.  For unit tests, development of a test is implied in parallel with the development of a functional.  Immediately before their execution, an automated deployment of the latest version of the configuration to the prepared test information base is performed.  Then the client is launched, which executes the test scripts for the already implemented functionality.  Tight integration of automated testing services with BSL SonarQube plugin allows you to calculate such a parameter as code coverage tests.  The result of the test run is a report that is loaded into the ReportPortal test analysis and visualization system.  This service is a report portal that aggregates data on test runs (statistics and results), provides basic system training for categorizing crashes and further automatically determining the causes.  All test run parameters are available in a convenient web interface with various boards for graphs, diagrams (widgets).  To extend the functions of the portal it is possible to use your own extensions. <br><br>  The automated testing service is another step that reduces the risk of getting a release code that breaks the previously implemented functionality or works with errors. <br><br>  ReportPortal.  Dashboards: <br><img src="https://habrastorage.org/webt/vk/kj/j7/vkkjj7ro4ut0yebwmswaq_l3y6o.png"><br><br><img src="https://habrastorage.org/webt/lc/dr/ei/lcdreilz3y5rfi-wqu7dz7s4xnm.png"><br><br>  ReportPortal.  Failed test runs: <br><img src="https://habrastorage.org/webt/p3/ft/4w/p3ft4wrppnzo9epfxwmcq7efe48.png"><br><br>  ReportPortal.  Types of defects: <br><img src="https://habrastorage.org/webt/1z/zu/f8/1zzuf82lst-ai0j-t_k3ql0kyr0.png"><br><br>  ReportPortal.  Editing defect types: <br><img src="https://habrastorage.org/webt/mk/2b/pp/mk2bppdsk1xmt2jgvlhfj8-iguw.png"><br><br><br><h3>  Development </h3><br><br>  Evaluating the results of the work done, we see that from the conceived already implemented, which ideas are already working successfully, which still have to be implemented. <br><br>  Of the plans for the near future of the stand development is the creation of a portal for managing stand services.  The web interface of the portal will allow you to work with applications for connecting projects to the stand, with a calculator of the cost of services, with their automated deployment on request for a project.  As a result, the manager can immediately get a cost estimate of the selected services and estimate the costs, determine the developers for the project. <br><br>  We plan to integrate the portal with the cloud solution for the operation of 1C systems.  This will help to quickly deploy replicable standard solutions in conjunction with the development services implemented on the stand for more efficient migration of customer systems to the CROC cloud. <br><br>  We also plan to integrate the management portal with the automated configuration management service (deployment, configuration, removal).  This will reduce deployment time, simplify system configuration and maintenance.  And to increase the level of security, we will introduce a pass-through authentication service across all services of the stand, in order to use the same account in all of them. <br><br>  <i>If we consider the whole process from the point of view of the history of the complete solution development cycle, then the created pipeline will allow collecting and aggregating a large number of various metrics, both for the project artifacts and for the specialists who took part in it.</i>  <i>Such a detailed retrospective will contribute to the accumulation and reuse of experience in solving complex problems, to form teams of successful developers for more efficient and harmonious work.</i> <br><br>  <b>UPD.</b>  <b>At the request of comments we add a list of open-use products that we use, with links.</b> <br><br><table border="1" cellpadding="5"><tbody><tr><th>  Product </th><th>  Vendor / Author </th><th>  References ‚Ññ1 </th><th>  References ‚Ññ2 </th></tr><tr><td>  1C </td><td>  1C </td><td>  <a href="http://v8.1c.ru/">http://v8.1c.ru</a> </td><td></td></tr><tr><td>  1C: DSS </td><td>  1C </td><td>  <a href="http://v8.1c.ru/model/">http://v8.1c.ru/model/</a> </td><td></td></tr><tr><td>  1C: TO </td><td>  1C </td><td>  <a href="http://v8.1c.ru/doc8/">http://v8.1c.ru/doc8/</a> </td><td></td></tr><tr><td>  Git </td><td>  Sfc </td><td>  <a href="https://ru.wikipedia.org/wiki/Git">https://ru.wikipedia.org/wiki/Git</a> </td><td></td></tr><tr><td>  Gitlab </td><td>  Gitlab </td><td>  <a href="https://ru.wikipedia.org/wiki/GitLab">https://ru.wikipedia.org/wiki/GitLab</a> </td><td>  <a href="https://about.gitlab.com/">https://about.gitlab.com/</a> </td></tr><tr><td>  Jira </td><td>  Atlassian </td><td>  <a href="https://ru.wikipedia.org/wiki/Jira">https://ru.wikipedia.org/wiki/Jira</a> </td><td>  <a href="https://ru.atlassian.com/software/jira">https://ru.atlassian.com/software/jira</a> </td></tr><tr><td>  ReportPortal </td><td>  EPAM Systems, Inc. </td><td>  <a href="https://github.com/reportportal">https://github.com/reportportal</a> </td><td>  <a href="https://rp.epam.com/ui/">https://rp.epam.com/ui/</a> </td></tr><tr><td>  SonarQube </td><td>  SonarSource </td><td>  <a href="https://ru.wikipedia.org/wiki/SonarQube">https://ru.wikipedia.org/wiki/SonarQube</a> </td><td>  <a href="https://github.com/SonarSource/sonarqube">https://github.com/SonarSource/sonarqube</a> </td></tr><tr><td>  Jenkins </td><td>  Kosuke Kawaguchi </td><td>  <a href="https://ru.wikipedia.org/wiki/Jenkins_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BE%25D0%25B1%25D0%25B5%25D1%2581%25D0%25BF%25D0%25B5%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5)">https://ru.wikipedia.org/wiki/Jenkins</a> </td><td>  <a href="https://github.com/jenkinsci">https://github.com/jenkinsci</a> </td></tr><tr><td>  Sourcetree </td><td>  Atlassian </td><td>  <a href="https://www.sourcetreeapp.com/">https://www.sourcetreeapp.com/</a> </td><td></td></tr><tr><td>  xUnitFor1C </td><td>  artbear </td><td>  <a href="https://github.com/xDrivenDevelopment/xUnitFor1C">https://github.com/xDrivenDevelopment/xUnitFor1C</a> </td><td>  <a href="https://github.com/artbear">https://github.com/artbear</a> </td></tr><tr><td>  Gitsync </td><td>  EvilBeaver </td><td>  <a href="https://github.com/oscript-library/gitsync">https://github.com/oscript-library/gitsync</a> </td><td>  <a href="https://github.com/EvilBeaver">https://github.com/EvilBeaver</a> </td></tr><tr><td>  SonarQube 1C (BSL) Plugin </td><td>  Silver bulleters </td><td>  <a href="https://silverbulleters.org/sonarqube">https://silverbulleters.org/sonarqube</a> </td><td>  <a href="https://github.com/silverbulleters/sonar-1c-bsl-public">https://github.com/silverbulleters/sonar-1c-bsl-public</a> </td></tr></tbody></table></div><p>Source: <a href="https://habr.com/ru/post/427717/">https://habr.com/ru/post/427717/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427707/index.html">Company "Z"</a></li>
<li><a href="../427709/index.html">Overview: 3D printing technology for metal casting</a></li>
<li><a href="../427711/index.html">Executives, stop dumping user passwords once a month.</a></li>
<li><a href="../427713/index.html">Reports with QA mitap in Redmadrobot</a></li>
<li><a href="../427715/index.html">Investigation of Bloomberg: why the stock startup Robinhood sells data on user requests</a></li>
<li><a href="../427719/index.html">Baidu‚Äôs AI can translate from one language to another in real time</a></li>
<li><a href="../427721/index.html">Walmart will begin to train their cashiers in virtual reality. Why this could be the future</a></li>
<li><a href="../427723/index.html">DataIncrement 2 - resolving contradictions, TRIZ in actual development</a></li>
<li><a href="../427727/index.html">How NASA Contractor Employees Use Microsoft AR HoloLens Augmented Reality Glasses to Build Orion Nodes</a></li>
<li><a href="../427729/index.html">How to set up a firewall on the server with Zimbra?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>