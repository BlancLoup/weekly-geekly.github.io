<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rapid application development on Angular + Ag-Grid</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the days, as usual, drinking coffee, I receive a message on Skype that I need to make an application with uncomplicated functionality in the sh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rapid application development on Angular + Ag-Grid</h1><div class="post__text post__text-html js-mediator-article">  One of the days, as usual, drinking coffee, I receive a message on Skype that I need to make an application with uncomplicated functionality in the shortest possible time.  It was necessary to have a table with sorting and pagination, the ability to filter by word, date, etc.  Also have a page with information about the selected item from the table. <br><br>  Having such TZ on hand, it was decided to use the latest Angular in conjunction with Ag-Grid, so as not to waste precious time. <br><a name="habracut"></a><br>  It all starts pretty standard, installing and creating a standard Angular application: <br><br>  Install Angular yourself 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> install -g <span class="hljs-variable"><span class="hljs-variable">@angular</span></span>/cli</code> </pre> <br>  Create a new project <br><br><pre> <code class="hljs cs">ng <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> my-app</code> </pre> <br>  And we can run <br><br><pre> <code class="hljs perl">cd <span class="hljs-keyword"><span class="hljs-keyword">my</span></span>-appng serve --<span class="hljs-keyword"><span class="hljs-keyword">open</span></span></code> </pre> <br>  Everything, nothing new or complicated here.  The whole procedure takes about 20 minutes and we already have a working application.  We can start hanging on him what we need. <br><br>  We start with a simple one. <br><br>  <b>Bootstrap.</b>  Why he?  Simple, fast, effective.  As part of the task that we have, it will be enough for us.  In fact, there are several input fields, a couple of buttons of different colors and that's it.  We put the third version together with jQuey: <br><br><pre> <code class="hljs sql">$ npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> bootstrap@<span class="hljs-number"><span class="hljs-number">3</span></span> jquery <span class="hljs-comment"><span class="hljs-comment">--save</span></span></code> </pre> <br>  Then go to the file <b>angular-cli.json</b> and add to it: <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"styles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"styles.css"</span></span>, <span class="hljs-string"><span class="hljs-string">"../node_modules/bootstrap/dist/css/bootstrap.min.css"</span></span> ], <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"../node_modules/jquery/dist/jquery.min.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"../node_modules/bootstrap/dist/js/bootstrap.min.js"</span></span> ],</code> </pre> <br>  And ready, now Bootstrap will work as it should on your pages.  And we continue. <br><br>  <b>Ag-Grid</b> I chose it for myself, since I have experience with this component, it is quite flexible, and, after all, is better suited for our task.  For the full use of its set: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> ag-grid-angular npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> ag-grid</code> </pre> <br>  Then go to app.module.ts and import the components we need: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {AgGridModule} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "ag-grid-angular/main";</code> </pre> <br>  We need to <b>install the install ag-grid</b> later.  Also add to our file <br><br><pre> <code class="hljs css"> <span class="hljs-selector-tag"><span class="hljs-selector-tag">imports</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ AgGridModule.withComponents([ LinkComponent ]</span></span>) ],</code> </pre> <br>  I want to draw attention to <b>AgGridModule.withComponents</b> that will allow us to add and use the components we wrote in Ag-Grid.  <b>The LinkComponent</b> that is there is our component for drawing data as a link.  Later back to him. <br><br>  We also create the Components, Services, View-Models folders, we have our own components in them, services for them and we connect the whole thing, I think there should be no questions or problems here.  Let's go back better to our Ag-Grid. <br><br>  In the component where Ag-Grid is used we connect: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { GridOptions, IDatasource, IGetRowsParams, ColDef, ColGroupDef, NodeChildDetails, RowNode } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "ag-grid"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { LinkComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../example/example'</span></span>;</code> </pre> <br>  At the moment, we certainly will not use all the connected components of the grid, but for the future I need them.  You naturally can remove or add something at will.  We also connect our link component. <br><br>  It is time to start creating a grid.  In general, I did this: <br><br><pre> <code class="hljs kotlin"> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gridOptions = &lt;GridOptions&gt;{}; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gridOptions.columnDefs = [ { headerName: <span class="hljs-string"><span class="hljs-string">"Example1"</span></span>, field: <span class="hljs-string"><span class="hljs-string">"Example1"</span></span>, }, { headerName: <span class="hljs-string"><span class="hljs-string">"Example2"</span></span>, field: <span class="hljs-string"><span class="hljs-string">"Example2"</span></span>, cellRendererFramework: LinkComponent, }, { headerName: <span class="hljs-string"><span class="hljs-string">"Example3"</span></span>, field: <span class="hljs-string"><span class="hljs-string">"Example3"</span></span>, } ]; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ExampleService.getExamplesFields().then(response =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.examples = response; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gridOptions.api.setRowData(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.examples); }); }</code> </pre><br>  And in the html of our grid component we connect like this: <br><br><pre> <code class="hljs objectivec">&lt;ag-grid-angular <span class="hljs-meta"><span class="hljs-meta">#agGrid style=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"width: 100%; height: 500px;"</span></span></span><span class="hljs-meta"> class=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ag-fresh"</span></span></span><span class="hljs-meta"> [gridOptions]=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"gridOptions"</span></span></span><span class="hljs-meta">&gt; </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;/ag-grid-angular&gt;</span></span></span></span></code> </pre><br>  But let's order.  In order for the column to be filled with the data we need, a minimum is necessary, this is its name and fieldid.  If you pay attention to the <b>cellRendererFramework</b> in the second column, this is the very parameter that allows us to draw the data in the column as we want.  Let's see how this component is arranged inside. <br><br><pre> <code class="hljs cs">import { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@angular/core"</span></span>; @Component({ selector: <span class="hljs-string"><span class="hljs-string">'link-component'</span></span>, templateUrl: <span class="hljs-string"><span class="hljs-string">'./link-component.component.html'</span></span> }) export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LinkComponent</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">params</span></span>: any; agInit(<span class="hljs-keyword"><span class="hljs-keyword">params</span></span>: any): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">params</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">params</span></span>; } }</code> </pre> <br>  That's all, in <b>params</b> we keep the contents of the desired cell.  To be more specific, in params.value.  In params.data we can see all the data of the selected line in the grid, for example, we will need an exampleID in order to go to the next page with the desired record ID.  The template for this component looks like this: <br><br><pre> <code class="hljs django"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> [</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">routerLink</span></span></span></span><span class="xml"><span class="hljs-tag">]=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"['/exampleform', params.data.exampleID]"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ params.value }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Here we go a little further and talk about routing, but for now about our link.  As we can see, clicking on this line will send us to the page of the selected record, adding its ID to the link, thanks to which we can later turn to the server that will return the desired record to us. <br><br>  I made the routing easy enough. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { NgModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { RouterModule, Routes } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/router'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ExamplesView } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/Examples/Examples.component'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AllExamples } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/Examples/Examplest.component'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> appRoutes: Routes = [ { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'Examples/:id'</span></span>, <span class="hljs-attr"><span class="hljs-attr">component</span></span>: ExamplesView }, { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">component</span></span>: AllExamples }, ]; @NgModule({ <span class="hljs-attr"><span class="hljs-attr">imports</span></span>: [ RouterModule.forRoot(appRoutes, { <span class="hljs-attr"><span class="hljs-attr">enableTracing</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }) ], <span class="hljs-attr"><span class="hljs-attr">exports</span></span>: [ RouterModule ], <span class="hljs-attr"><span class="hljs-attr">providers</span></span>: [ ] }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppRoutingModule</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre><br>  That's all we need at the moment.  I think it‚Äôs not particularly necessary to focus here.  In the following articles in more detail will focus. <br><br>  Let's return to our component with.  How to draw columns, and change the data mapping in them, we figured out.  Now you need to fill the grid with this data.  Everything is also quite simple: <br><br><pre> <code class="hljs kotlin"> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ExampleService.getExamplesFields().then(response =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.examples = response; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gridOptions.api.setRowData(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.examples); });</code> </pre> <br>  We turn to our service, which will return us json with data.  <b>this.examples</b> we have <b>examples: examplesViewModel [];</b>  Our view model looks like this: <br><br><pre> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FeedbackFormData</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Example1: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Example2: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Example3: number; }</code> </pre> <br>  We also import it into our component.  And our fieldid in the grid must match what is in our model.  And voila, our data is where we need it.  Subsequently, for example, if in the presence of server filtering, we want to update the data in the grid, we can do it like this: <br><br><pre> <code class="hljs kotlin">filter() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.exampleFilter = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.datePipe.transform(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.maxDate, <span class="hljs-string"><span class="hljs-string">'yyyy-MM-dd'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.HomeService.getPeriodForm(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.exampleFilter, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.search).then(response =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.examples= response; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gridOptions.api.setRowData(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.examples); }) }</code> </pre><br>  And the data in our grid will be updated.  Well, on the second page to say nothing special.  We obtain data about the record with the desired id and work with them.  This is how literally in a couple of hours you can make a simple application with a grid and blackjack.  In the next article we will talk more about the functionality of the grid and what can be done with it, our component that draws a link is only the tip of the iceberg.  I will also talk about the implementation of pagination and sorting in the grid. <br><br>  Thank. </div><p>Source: <a href="https://habr.com/ru/post/339232/">https://habr.com/ru/post/339232/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339222/index.html">Savings on the exchange, ownership history and arbitration: 5 useful services for Bitcoin users</a></li>
<li><a href="../339224/index.html">Whatsapp what's inside</a></li>
<li><a href="../339226/index.html">The participants of the RAIF championship now have access to M.Video business data.</a></li>
<li><a href="../339228/index.html">From web developer to machine learning specialist</a></li>
<li><a href="../339230/index.html">.NET Performance: The Real Jedi Tricks</a></li>
<li><a href="../339234/index.html">Announcement RamblerElixir # 4</a></li>
<li><a href="../339236/index.html">Do you have a fast site? And if I check?</a></li>
<li><a href="../339238/index.html">Squeeze all the juice from Chromium to Linux</a></li>
<li><a href="../339240/index.html">Generate short texts with limiting conditions - for advertising and other purposes.</a></li>
<li><a href="../339242/index.html">About traffic interception: 4-10% of encrypted HTTPS traffic is intercepted today</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>