<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Artists map, awkward search for links in the data and how to reinvent the wheel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently watched a series of videos popularized mathematics. There, he tries to talk about mathematical analysis and linear algebra a bit from the per...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Artists map, awkward search for links in the data and how to reinvent the wheel</h1><div class="post__text post__text-html js-mediator-article">  Recently watched a <a href="https://www.youtube.com/playlist%3Flist%3DPLZHQObOWTQDMsr9K-rj53DwVRMYO3t5Yr">series of</a> videos popularized mathematics.  There, he tries to talk about mathematical analysis and linear algebra a bit from the perspective of a person who ‚Äúas if‚Äù would invent it from scratch.  That is, it tries to make simple and understandable visualizations of relatively complex concepts accessible, as if explaining them from the position of a person who seemed to have invented this for the first time.  Relatively recently I read <a href="https://habrahabr.ru/company/ods/blog/325654/">an article</a> on Habr√© about unsupervised learning and saw the section on <a href="https://habrahabr.ru/company/ods/blog/325654/">Affinity Propagation there</a> .  As it turned out, we used this particular cluster analysis method purely intuitively, without knowing it. <br><br>  <b>TLDR for this article</b> .  If you want an interactive visualization, go <a href="http://spark-in.me/post/data-intuition">here</a> . <br>  In this visualization, in the form of a graph, the connections between the music genres of ~ 25,000 of the most popular artists of the world are shown, with the size of the roundelet showing the popularity of this genre, and the size of the edge of the graph - the strength of the connection. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3cd/5bb/16b/3cd5bb16b4f6bb7af5382ebbb79d7c0f.png" alt="image"><br><a name="habracut"></a><br>  <b>Eureka times</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This visualization is a visualization made on the D3.js library (we found a template somewhere) on the data of similarity of groups.  Baseline data and your recursion can be started <a href="https://musicbrainz.org/doc/MusicBrainz_Database">here</a> .  The data processing algorithm was approximately the same (it was all a long time ago, I remember in general terms, jpn did not use it then): <br><br><ol><li>  Take the base Musicbrainz; </li><li>  Unpack it ( <b>if necessary - contact, there is an unpacked copy in PostgreSQL somewhere a year ago</b> ); </li><li>  Take the data of all artists, all albums with genres; </li><li>  Build the distribution of the number of albums, genres, tracks per artist.  Build a distribution of the popularity of genres; </li><li>  Take logarithms of this data and clean them from obvious garbage, rare or very frequent "garbage" values; </li><li>  Then followed a series of steps related to the base of the company where I worked, which are less important (in fact, we also linked genres, cleaned our internal base of debris, set values, etc., etc.); </li><li>  Taking as a measure of similarity the number of identical genres among artists, construct a distance metric between i) artists ii) between genres; </li><li>  In fact, as I recall, in practice we did this by multiplying matrices of ~ 25,000 rows; </li><li>  As a result, we received measures of the similarity of artists and musical genres; </li><li>  The similarity of the artists turned out to be so-so, since, on average, the artist had several tags, but the similarity of the genres was excellent; </li><li>  With handwriting and cluster analysis, we merged genres into groups of genres; </li></ol><br>  Then, when we did this, we did not know about python and data science (lolshto?) And everything was done by combining SQL queries, manipulating CSV files and multiplying the resulting matrices.  When we cleaned the base of the company and sent everyone a cherished email, in which everything was done, everything that was done and the specified diagram was shown ... in response, we received nothing.  No one asked a single question.  Everyone was just indifferent.  Our painstaking data went on prod, extending the life of the tag system for a couple of years (there was fierce rubbish, because there was no curation and control over data filling), and in response we received silent silence and reproaches of the format ‚Äúwhy did we spend so much time for some shit? "  The fact that such information is incredibly useful for building recommendations, similarity ratings, cross-sales and increasing linking on the site also went unnoticed. <br><br>  After that, I remember the episode when one of the company's managers tried to enter feedback on events in the form of a single asterisk.  This did not reach implementation either for the reason described above.  What kind of collaborative filtering there is =) <br><br>  It was both funny and sad that in fact we ‚Äúgroped‚Äù the working algorithm and made it work on the prod, but as everyone says, it doesn‚Äôt matter. <br><br>  <b>Eureka two</b> <br><br>  The second moment of a similar eureka is a primitive algorithm of collaborative filtering (best of all on the knee, it is <a href="https://goo.gl/7MuClq">explained here</a> in the form of an xlsx file).  In theory, the ‚Äúcorrect‚Äù algorithm works like this: <br><br><ul><li>  There is a selection of conditional reviews on movies; </li><li>  From a priori considerations, the number of latent (unobservable factors) is chosen - let's say people rate films on 5 criteria; </li><li>  Random weights are generated that mediate the user-latent factor and film-latent factor relationships; </li><li>  The model also includes constants (bias values); </li><li>  The method of gradient descent or its equivalent is the optimization of weights (see the xls file at the link above); </li></ul><br>  In practice, without knowing about it and about the python, I did so.  I calculated some indicator that had a Poisson distribution and tried to normalize it and bring it to normal.  It looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/459/802/728/4598027285f2276a0f477f9e98b982c7.jpg" alt="image"><br>  With a set of indicators looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ddd/d8b/9cf/dddd8b9cfafa47ebe7e0ccf9edb7e432.jpg" alt="image"><br><br>  Then I selected weights by linear and logistic regressions.  In fact, a very rough analogue of such a method is obtained, but where instead of latent factors are certain heuristics, invented by me and having fairly good statistical properties. <br><br>  <b>In general, if you have not yet understood, then my thought is this:</b> <br><br><ol><li>  Do what you like; </li><li>  Do not listen to "advisers" and all those who "know best", but do nothing; </li><li>  Do not despair if dark personalities, dark moments and dark situations will meet on your way; </li><li>  Try to improve your work, yourself and the world at least bit by bit every day; </li></ol></div><p>Source: <a href="https://habr.com/ru/post/329250/">https://habr.com/ru/post/329250/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329240/index.html">JSF 2 + Maven + Jetty. Training</a></li>
<li><a href="../329242/index.html">Avoiding Hell with Monads</a></li>
<li><a href="../329244/index.html">What addresses do we see in traceroute</a></li>
<li><a href="../329246/index.html">Loading real landscapes in unity 3d</a></li>
<li><a href="../329248/index.html">Clever blocking bypass in Ukraine</a></li>
<li><a href="../329252/index.html">Golos - study in practice. First conclusions</a></li>
<li><a href="../329254/index.html">Passing type map to function</a></li>
<li><a href="../329256/index.html">Selenium under Windows: everything from the beginning</a></li>
<li><a href="../329258/index.html">Backend I / O Performance: Node vs. PHP vs. Java vs. Go</a></li>
<li><a href="../329260/index.html">And let the tests themselves and support</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>