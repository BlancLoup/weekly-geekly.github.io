<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Implicit parameters and transformations in Scala</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Having run through the previous articles on Habr√©, the tyts and the tyts were not able to quickly understand what makes implicit in Scala. Let's try t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Implicit parameters and transformations in Scala</h1><div class="post__text post__text-html js-mediator-article">  Having run through the previous articles on Habr√©, the <a href="https://habr.com/ru/post/329600/">tyts</a> and the <a href="https://habr.com/ru/post/354028/">tyts</a> were not able to quickly understand what makes implicit in Scala.  Let's try to figure it out together. <br><br><div style="text-align:center;"><img width="300" height="300" src="https://habrastorage.org/webt/x-/xe/by/x-xebyxt7lk1q64qkt3mh8rt94c.png"></div><br>  So, implicit in Scala allows you to avoid calling methods or explicit references to variables, and instead allow the compiler to find the necessary implicit data itself. <br><br>  For example, we could write a function to convert from Float to Int (FloatToInt) and, instead of calling this function explicitly, the compiler would do it instead of us implicitly: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FloatToInt</span></span></span></span>(value: <span class="hljs-type"><span class="hljs-type">Float</span></span>):<span class="hljs-type"><span class="hljs-type">Int</span></span> = value.toInt println(double(<span class="hljs-number"><span class="hljs-number">2.5</span></span>F))</code> </pre> <br>  Confused?  Let's get everything in order. <br><a name="habracut"></a><br>  So today we will look at two implicit categories, namely: <br><br><ul><li>  <i>Implicit parameters</i> (values).  They are automatically passed by the compiler to values ‚Äã‚Äãdeclared via implicit. </li><li>  <i>Implicit</i> conversion.  If the type of the expected parameter does not coincide with the input parameter, the compiler searches for any method in scope that is marked implicit and with the expected parameter and input parameter needed in this situation and automatically passes it. </li></ul><br><h4>  Implicit parameter </h4><br>  <i>An implicit parameter</i> is a function parameter preceded by the implicit keyword.  It means that if no value is passed when the function is called, the compiler will look for the implicit parameter in its own hand and pass it for us. <br><br>  For example, such a function that takes an implicit value parameter as input and doubles it: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  Without an implicit parameter, it will fall with an error: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> println(double) <span class="hljs-comment"><span class="hljs-comment">// error: could not find implicit value for parameter value</span></span></code> </pre> <br>  The explicitly passed parameter will work: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> println(double(<span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// 6</span></span></code> </pre> <br>  With the implicit parameter, it will look like this: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> multiplier = <span class="hljs-number"><span class="hljs-number">2</span></span> println(double) <span class="hljs-comment"><span class="hljs-comment">// 4</span></span></code> </pre> <br>  But you need to be careful: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> multiplier = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> multiplier2 = <span class="hljs-number"><span class="hljs-number">1</span></span> println(double) <span class="hljs-comment"><span class="hljs-comment">// error: ambiguous implicit values</span></span></code> </pre> <br>  And finally, an example of passing as an implicit def parameter: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> cappucinoLarge: <span class="hljs-type"><span class="hljs-type">Boolean</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cappucinoPrice</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Int</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cappucinoLarge) <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> println(double) <span class="hljs-comment"><span class="hljs-comment">// 200</span></span></code> </pre> <br>  Those.  in the end we will succeed <pre> <code class="scala hljs">double(cappucinoPrice())</code> </pre> <br>  Syntax notes: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func1</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value1: <span class="hljs-type"><span class="hljs-type">Int</span></span>) <span class="hljs-comment"><span class="hljs-comment">// value1  def func2(implicit value1: Int, value2: Int) // value1  value2  def func3(value1: Int, implicit value2: Int) //   def func4(value1: Int)(implicit value2: Int) //  value2  def func5(implicit value1: Int)(value2: Int) //   def func6(implicit value1: Int)(implicit value2: Int) //  </span></span></code> </pre><br><h4>  Implicit conversion </h4><br>  Returning to the Float example in Int: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FloatToInt</span></span></span></span>(value: <span class="hljs-type"><span class="hljs-type">Float</span></span>):<span class="hljs-type"><span class="hljs-type">Int</span></span> = value.toInt println(double(<span class="hljs-number"><span class="hljs-number">2.5</span></span>F))</code> </pre><br>  When we call double, we have a mismatch of the type of the expected parameter (Int) with the incoming parameter (Float).  Therefore, the compiler is looking for any method in scope that is marked implicit and with the expected parameter (Int) and input parameter (Float) that are needed in this situation.  Finds FloatToInt, performs the conversion, and passes on the desired value to double. <br><br>  Now, I hope, it has become clearer.  All success in the development of Scala! </div><p>Source: <a href="https://habr.com/ru/post/451358/">https://habr.com/ru/post/451358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451338/index.html">Developer of a popular Linux distribution is planning an IPO and tackling cloud solutions.</a></li>
<li><a href="../451340/index.html">Presented by the GitHub Package Registry</a></li>
<li><a href="../451346/index.html">NeoBook: non-programmer programming environment</a></li>
<li><a href="../451354/index.html">What is important and what is urgent?</a></li>
<li><a href="../451356/index.html">How compression works in an object-oriented memory architecture</a></li>
<li><a href="../451360/index.html">Hidden threats SMS: cellular operator knows too much</a></li>
<li><a href="../451366/index.html">Write less code</a></li>
<li><a href="../45137/index.html">United States Department of Defense vs Flash Drives</a></li>
<li><a href="../451370/index.html">SaaS vs on-premise, myths and reality. Stop cholivarit</a></li>
<li><a href="../451378/index.html">Educational program from memory: what it is, and what it gives us</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>