<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Setting up public Internet access in five minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Today we will tell how the owners of restaurants and cafes avoid fines for violating the law governing the organization of public Internet a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Setting up public Internet access in five minutes</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Today we will tell how the owners of restaurants and cafes avoid fines for violating the law governing the organization of public Internet access.  Recall that last summer a <a href="http://publication.pravo.gov.ru/Document/View/0001201408050024">Russian government decree No. 758 appeared</a> , according to which the organizer of public Wi-Fi access should identify users.  The usual anonymous entry into the network is now illegal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/4c8/6a5/11a/4c86a511a45146249322e98fb28bfb43.jpg" width="800"></div><br><a name="habracut"></a>  Violators face large fines: from 5 to 50 thousand rubles for individual entrepreneurs and from 100 to 200 thousand rubles for legal entities.  In practice, a visitor to a cafe or restaurant can identify themselves online in two ways: send an SMS or data from a public services portal.  Non SNILS, for example, will be enough, according to lawmakers. <br><br>  Legislative initiative appeared, firstly, to block resources from the ‚Äúblack list‚Äù of Roskomnadzor (it is very easy to bypass these blockages, but today is not about that) and, secondly, to organize filtering of unwanted content for children. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Consider the real situation on the example of our product <a href="http://www.smart-soft.ru/ru/products/restaurant-edition/">Traffic Inspector Restaurant Edition</a> .  Suppose there are several desktop computers in a restaurant or cafe that employees work at;  In addition, there is public Wi-Fi, which is distributed to visitors. <br><br>  1. The first thing to do is to split user groups.  To do this, two groups are created in Traffic Inspector: ‚ÄúWorkstations‚Äù and ‚ÄúVisitors‚Äù.  In the section "Users and Groups" we find the item "Add a group", give it the name "Users". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ee/a2b/eb2/9eea2beb231f0c0d275e9d0072c8ee07.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/889/039/bfc/889039bfc251da10a089efc18c6431d7.png"></div><br>  2. In the settings of the new group, we redirect all traffic through the proxy server and do not forget to block all HTTP requests going past the proxy: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dcf/3df/2d1/dcf3df2d1d6e663e13d99758f4f96d69.png"></div><br>  3. Remember that in the "Visitors" group, auto-add users and SMS identification must be configured.  To do this, create a new rule for networks and specify a range of IP addresses.  If necessary, set a separate IP for each computer on the network. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fcf/14b/477/fcf14b477457ac70c4e2ed7645c87cfd.png"></div><br>  4. Specify the type of network as ‚ÄúPublic‚Äù using SMS verification: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f7f/cb0/a84/f7fcb0a8485c4ba6451a6860bcd6cb7e.png"></div><br>  5. We allow auto-add users and specify the group "Visitors" to which they will be added.  User authorization is possible by account, IP address and MAC address.  If it is necessary (for example, I don‚Äôt want the visitor in a cafe, ordering a coffee, to sit there for half a day), we ask the user to automatically turn off after a certain time. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/918/237/197/9182371971cc1934dbec2a08fe5ada84.png"></div><br>  6. Specify the used SMS gateway.  For sending free SMS messages, Traffic Inspector can use one of two SMS gateways - sms.ru or smstraffic.ru. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24f/e4c/acc/24fe4cacc8f78c42345851b0b0b266b1.png"></div><br>  7. Next, create a NetPolice rule, set the name of the ‚ÄúBan by category‚Äù rule and select the categories of prohibited content.  Then select the ‚ÄúDeny access‚Äù rule type. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4f0/f89/82d/4f0f8982dbf0cdf27c68d29046427b79.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ac/747/758/1ac747758d738f76e5907e9760187594.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e02/5a8/61c/e025a861c842a0b788430ccb97509a36.png"></div><br>  This completes the configuration of user groups, public WiFi network and content restriction. <br><br>  From the user‚Äôs side, access will be as follows. <br><br>  1. A cafe or restaurant visitor connects to the network from his device, goes to the identification page and enters his mobile phone number in order to get a unique code: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/74e/93f/624/74e93f624f5e2b221e181324d0117630.jpg" width="500"></div><br>  2. Receives an SMS message with an access code: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/292/d47/c2d/292d47c2daae81503407e87d26526486.png" width="500"></div><br>  3. The user inserts the code and confirms that he is already 18 years old: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f7/2b5/4ba/7f72b54bae2600a6b28ebc9d68402a13.jpg" width="500"></div><br>  4. After that gets to the page with clear instructions and goes to the network: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e3d/735/e02/e3d735e028fd1ae41a83f8525c7d659e.jpg" width="500"></div><br>  Setting up wireless access in a cafe takes no more than five minutes, of which three minutes will be spent on the purchase of a license and two more minutes on setting up the Traffic Inspector.  These five minutes in the future will relieve the owner of the institution from headaches and serious losses in the form of fines, the size of which we have already said. <br><br>  It remains to add that the system administrator can see the network statistics of any user, including the amount of traffic, the time spent in the network and the resources visited. <br><br>  In addition, not so long ago there was an opportunity to modify the Traffic Inspector portal page.  The administrator can add to the page <a href="http://192.168.0.1/">192.168.0.1</a> : 8081 / portal an advertisement, banner, information about discounts and special offers, or a feedback form for receiving feedback on the quality of service that a cafe or restaurant can be an additional opportunity to promote and increase brand awareness.  It is possible to place on this page links to groups and restaurant pages in social networks.  The visitor should like the page, be added to the group or check in, after which he gets into the network.  Or provide an opportunity for a regular visitor to create a personal page on the site of the institution. </div><p>Source: <a href="https://habr.com/ru/post/272039/">https://habr.com/ru/post/272039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../272025/index.html">Java Programmer Cheat Sheet 5. Two hundred and fifty Russian-language training video presentations and lectures on Java</a></li>
<li><a href="../272031/index.html">AllcountJS: Making a system for point of sale (POS)</a></li>
<li><a href="../272033/index.html">Welcome to Web Standards Day in Moscow, December 13</a></li>
<li><a href="../272035/index.html">Did you receive a-mail? .. Accounting mail</a></li>
<li><a href="../272037/index.html">Release typescript 1.7</a></li>
<li><a href="../272041/index.html">Architecture and technological approaches to processing BigData on the example of "1C-Bitrix BigData: Personalization"</a></li>
<li><a href="../272043/index.html">Record of the webinar "What's new in Kerio Co. Connect 9"</a></li>
<li><a href="../272045/index.html">A bit about Yandex Protect</a></li>
<li><a href="../272047/index.html">From ASP.Net to Node.JS: how we rewrote the server part of ONLYOFFICE editors</a></li>
<li><a href="../272049/index.html">Everything you wanted to know about models and collections in Titanium</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>