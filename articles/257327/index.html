<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Victory over non-obvious. Collapsing indentation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many beginning web designers and web developers are faced with a situation where elements on the page behave differently than expected, and this behav...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Victory over non-obvious. Collapsing indentation</h1><div class="post__text post__text-html js-mediator-article">  Many beginning web designers and web developers are faced with a situation where elements on the page behave differently than expected, and this behavior seems absurd.  But do not forget that the existing dominant technologies created by people who think, and if this technology is also time-tested, it means that there was and remains a need for such strange, at first glance, behavior. <br><br>  Probably, everyone faced the <i>border-collapse</i> property for tables.  It is known that this property with the value of <i>border-collapse: collapse</i> removes one of the borders for neighboring table cells, preventing duplication of their borders.  Similarly, the feature of the block model, called <em>collapsing</em> margins, also works (English - <a href="http://www.w3.org/TR/CSS21/box.html">Collapsing Margin</a> ).  The collapse of external indents is a feature of the CSS block model, which is to impose vertical external indents of two or more block elements (which may or may not be neighbors) to form a single external indent.  The indent formed as a result of this union is called a collapsed indent.  Note that this feature applies only to the vertical indents of the element, i.e.  to <i>margin-top</i> and <i>margin-bottom</i> . <br><a name="habracut"></a><br>  For simplicity, imagine collapsing as follows: when the outer vertical indents of block elements are in contact, there remains an indent, the value of which equals the value of the larger one, while the indent value of the element with the smaller border is zero.  In the image below, the size of one cell of the wallpaper is 20 pixels;  as you can see, the indent between elements is 40 pixels, although at first glance, looking at the code, to a person who is not familiar with the principles of collapse, it may seem that the blocks are placed incorrectly, since their indents are not plus: <br><br><img src="https://habrastorage.org/files/55f/d4c/75c/55fd4c75cfdb45ee9767026977730c06.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#block1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>:<span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*        40  */</span></span> } <span class="hljs-selector-id"><span class="hljs-selector-id">#block2</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>:<span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>:<span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> }</code> </pre> <br>  <a href="http://jsfiddle.net/399s50p8/">* Sample source code</a> <br><br>  If one of the values ‚Äã‚Äãhas a negative value, then the final value of the collapsed indent is formed by summing the initial values ‚Äã‚Äãof the block elements.  If both values ‚Äã‚Äãare negative, then a larger negative value is used (less from an arithmetic point of view).  For example, if block1 had a <i>margin-bottom</i> value of <i>-60px</i> and a block2 <i>margin-top</i> block <i>: 50px</i> , then the final indent value between elements would be minus 10 pixels. <br><br>  As in any other concept, there are exceptions here too, so collapsing does not work in the following cases: <br><ul><li>  with floating blocks that use the <i>float</i> property; </li><li>  with root elements ( <i>html</i> , <i>body</i> ); </li><li>  with absolutely positioned elements having property and value <i>position: absolute</i> ; </li><li>  in line elements. </li></ul><br>  There are also specific exceptions that are applied depending on the hierarchical interaction in which the blocks are located (see below): <br><ul><li>  If elements have an <i>overflow</i> property that is distinguishable from <i>visible</i> , then indents and indents of their heirs do not collapse in such elements. </li><li>  Elements with the <i>cleared</i> property <i>do</i> not collapse the upper indents with the lower indents of their parents. </li></ul><br>  The theory can be difficult to understand, so let's move on to examples.  Consider the classic cases that exist in inheritance: when blocks have a descendant-descendant connection ( <i>sibling-sibling</i> ), the elements are adjacent to each other and have a common parent;  and also when the blocks have a parent-child connection ( <i>parent-child</i> ) - one element is nested in another.  In both cases, the collapse is successfully applied, but has several nuances that are worth talking about. <br><br><h3>  Neighboring elements and collapse </h3><br>  Usually, excluding the use of additional properties, the external indents of any neighboring non-root block elements collapse, an example of the collapse of neighboring elements is given above. <br><br>  Sometimes you want to avoid this effect.  In addition to using collapsing properties, you can use some tricks, for example, not to set the indent values ‚Äã‚Äãfor the elements, except for a single indent ‚Äî from above or below, but if you specify values ‚Äã‚Äãfor a number of elements in this way, you may need to specify indents for the first or last element relative to the parent , or change its field: <br><br><img src="https://habrastorage.org/files/abe/fdd/cd6/abefddcd64f9426aa5fe42dd771a421c.png"><br><br><pre> <code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#parent</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">1px</span></span> dashed white; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(150, 0, 255, 0.2); <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">204px</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/*       padding-bottom:20px; */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">16px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">2px</span></span> solid white; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(150, 0, 255, 0.7); }</code> </pre><br>  * <a href="http://jsfiddle.net/wsh8c022/">Sample source code</a> <br><br>  As you can see, here we need to add the parent element to the lower internal field in order to align all the elements.  Should I break my legs, that would substitute crutches - a matter of taste, but I would not advise. <br><br><h3>  Collapsing the padding of parent related elements </h3><br>  In this case, the collapse works a little more complicated and more complicated than in the examples above.  First you need to know that the counting of blocks collapses the corresponding fields.  This means that the upper field of the parent collapses with the upper field of its descendant.  To consider this situation, let's imagine that there are three blocks: an external parent block, a parent block, and a child block.  In order for the collapse to work, it is necessary that the parent block has neither fields nor boundaries (their values ‚Äã‚Äãwere zero).  Thus, the external fields of these elements are in contact.  Note that the null values ‚Äã‚Äãof the internal fields and boundaries for parents are a prerequisite for triggering the collapse. <br><br><img src="https://habrastorage.org/files/ae0/183/44e/ae018344e4584068879329bdb75b9fa4.png"><br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.outside_parent</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>:<span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-left</span></span>: <span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">2px</span></span> dotted black; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(150, 0, 255, 0.7); } <span class="hljs-selector-class"><span class="hljs-selector-class">.parent</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">0px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*       0 */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">0px</span></span> solid grey; <span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(150, 0, 255, 0.7); } <span class="hljs-selector-class"><span class="hljs-selector-class">.daughter</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">196px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>:<span class="hljs-number"><span class="hljs-number">60px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">2px</span></span> solid white; }</code> </pre><br>  <a href="http://jsfiddle.net/b33eu0wd/">* Sample source code</a> <br><br>  I recall that the size of a single cell is 20 pixels, so without collapsing the indentation between the elements would be 60 + 40 pixels, but due to the application of this effect, it is equal to the maximum value of one of the elements, in this case - 60 pixels (3 cells).  We see that the indent of the child block replaces the upper indent for its parent.  If you specify something for the parent element: a field ( <i>padding</i> ) or a border ( <i>border</i> ), then the collapse will not apply and the distance between the first block and the second one will be obvious 100 pixels.  In this way, you can control the presence of this effect by adding a small field, or a colorless border, say, 1 pixel thick, thereby turning off the collapse effect. <br>  At first glance it may seem that the effect only works when the structure is formed as in the example above, but this is not the case: the collapse will work between neighboring elements when they have other nested blocks.  Consider the situation when there is an external block and two blocks, one of which is nested in the other. <br><br><img src="https://habrastorage.org/files/588/e8a/755/588e8a7550b84997800a4502716e9676.png"><br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.outside</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">16px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">2px</span></span> solid white; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(150, 0, 255, 0.7); <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>:<span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.parent</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>:<span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">margin-left</span></span>:<span class="hljs-number"><span class="hljs-number">40px</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/*             */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.daughter</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>:<span class="hljs-number"><span class="hljs-number">60px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">2px</span></span> solid white; }</code> </pre><br>  <a href="http://jsfiddle.net/Lj7dm58r/3/">* Sample source code</a> <br><br>  It is noteworthy that the collapse in the example above worked twice: first, the indents of the parent and child elements were closed, then the formed indent collapsed with the lower indent of the external element. <br><br><h3>  Conclusion </h3><br>  For a good specialist, it is important to control all the proper tools and attributes: a good mechanic is concerned not only with the number of valves in the engine, but also with the presence of a good fuel injection system and the quality of the fuel itself.  So a good web developer should control every pixel and not lose important details in the site structure. <br><br>  The devil in the details, the devil in pixels. </div><p>Source: <a href="https://habr.com/ru/post/257327/">https://habr.com/ru/post/257327/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257317/index.html">Apple Watch Human Interface Guideline</a></li>
<li><a href="../257319/index.html">Arbelos</a></li>
<li><a href="../257321/index.html">Another way to connect WS2812B to a microcontroller</a></li>
<li><a href="../257323/index.html">Asynchronous recursive iterator and fight with callback in Node.js</a></li>
<li><a href="../257325/index.html">LA Workshop and MIPSfpga Initiatives in Russia and Electronics Teaching</a></li>
<li><a href="../257331/index.html">Computer little man</a></li>
<li><a href="../257333/index.html">Internship in Redmadrobot: hot, summer, interesting</a></li>
<li><a href="../257335/index.html">Happy birthday payler</a></li>
<li><a href="../257337/index.html">3 disasters of responsive design and how to avoid them</a></li>
<li><a href="../257339/index.html">Introduction to discrete-oriented polyhedra for collision detection</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>