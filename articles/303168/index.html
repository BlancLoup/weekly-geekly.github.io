<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>API hh.ru. Fast start</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I guess some of you know that hh.ru has an open API (we told about it here and here ), which is used not only by us, but also by third-party developer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>API hh.ru. Fast start</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/bf6/4a9/587/bf64a9587d234a559f1752119878deeb.jpg"><br>  I guess some of you know that hh.ru has an open API (we told about it <a href="https://habrahabr.ru/company/hh/blog/201202/">here</a> and <a href="https://habrahabr.ru/company/hh/blog/186994/">here</a> ), which is used not only by us, but also by third-party developers.  With it, for example, you can analyze the market in great detail on large volumes of relevant data. <br><br>  I conceived a series of two articles: in this I will show how you can quickly and simply start using the API, and in the <a href="https://habrahabr.ru/company/hh/blog/303710/">next</a> I will do a small project recommending current vacancies on your resume. <br><a name="habracut"></a><br>  First, briefly about what our API generally is, where and how it is used. <br><br><h1>  API features </h1><br>  To quickly get an idea of ‚Äã‚Äãthe capabilities of the API, pay attention, for example, to our mobile applications for the applicant ( <a href="https://play.google.com/store/apps/details%3Fid%3Dru.hh.android">Android</a> , <a href="https://itunes.apple.com/ru/app/headhunter/id502838820%3Fmt%3D8">iOS</a> ) and the employer ( <a href="https://play.google.com/store/apps/details%3Fid%3Dru.hh.employer.android">Android</a> , <a href="https://itunes.apple.com/ru/app/hr-mobajl-poisk-rezume-i-sotrudnikov/id1017734199%3Fmt%3D8">iOS</a> ).  They work through the API. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For example, external developers can get all current and archived jobs with salaries and other details.  And this is almost 400 thousand live vacancies and even the devil knows how many archival ones.  Those who want to analyze the market, play around with a lot of real data - you are here. <br><br>  Through the API, job search works.  Various reference books are available: regions used on the site, specialization of employees, industry companies, metro stations and so on.  Authorized users can work with your vacancies or resumes: depending on whether you are an employer or a job seeker.  For employers there is a job search and the opportunity to work with them. <br><br>  For more information, refer to our <a href="https://github.com/hhru/api">documentation</a> . <br><br><h1>  How does the API work? </h1><br>  All interaction occurs about the HTTPS protocol in the best traditions of REST.  We get something - do a GET request, delete - DELETE, create - POST, edit - PUT.  Data exchange is performed in JSON format.  Some operations are available without authorization, others are not.  An authorized user can act as an employer or applicant.  It depends on what methods are available to him.  For authorization, OAuth2 protocol is used (I will explain on how to do this on the fingers below).  You can work with data from any of our <a href="">sites</a> .  Details in the ‚Äú <a href="">General Information</a> ‚Äù section of the documentation. <br><br><h1>  Beginning of work </h1><br>  In order to start working with data available without authorization, you will not need anything.  We look in the <a href="">documentation</a> , what methods can be used;  For example, if you want to see jobs <br><pre><code class="bash hljs">curl -k -H <span class="hljs-string"><span class="hljs-string">'User-Agent: api-test-agent'</span></span> <span class="hljs-string"><span class="hljs-string">'https://api.hh.ru/vacancies'</span></span></code> </pre> <br>  Please note that you need to pass the User-Agent header.  Without it will not work. <br><br>  For job search, you can set different <a href="">parameters</a> . <br>  For example, you can search for a job by the Java keyword in Moscow at the Alekseevskaya metro station <br><pre> <code class="bash hljs">curl -k -H <span class="hljs-string"><span class="hljs-string">'User-Agent: api-test-agent'</span></span> <span class="hljs-string"><span class="hljs-string">'https://api.hh.ru/vacancies?text=java&amp;area=1&amp;metro=6.8'</span></span></code> </pre><br>  The <a href="">area</a> and <a href="">metro</a> values ‚Äã‚Äãcan be obtained from reference books. <br><br><h1>  Authorization </h1><br>  As already mentioned, OAuth2 is used for authorization. <br>  To do something from under the user, it is required to get a token and transfer this token in the header when prompted.  To get a token for your user, it is enough to generate it in the API interface.  Go to your account on <a href="https://dev.hh.ru/">https://dev.hh.ru</a> and click on the button ‚ÄúGenerate token‚Äù. <br><br>  In order for other users to perform actions in your application, you must first create this application in your account.  Add the application by specifying the redirect URI.  The user will automatically return to this address after authorization. <br><br>  After adding the application, it will be assigned a Client ID and Client Secret. <br><br><h4>  How does authorization work? </h4><br>  In your application, you place a link to the authorization, indicating in it the Client ID of the application, for example, <br><pre> <code class="xml hljs">https://hh.ru/oauth/authorize?response_type=code&amp;client_id=LOTHHN3BSET0I7IQNF3N5I0362AE1D14I6M74CAIQ5H49F7MT4PLMTVV7JTOA6QA</code> </pre><br>  When a user follows this link, a special code is generated for him on our side.  And our website redirects the user back to your application (by the redirect URI that was specified when registering the application), adding a parameter containing the code to the address of your application.  For example: <br><pre> <code class="xml hljs">http://yourapphost/?code=J2CO4TM7PK58NNVFCJSLPMML15IKQERD5CT2L8VGK82Q333ILAKQ28BPURIO1LG8</code> </pre><br>  After that, you pull out the code from this address and use it to get the token by making a POST request to the API, passing the code, client_id and client_secret. <br><pre> <code class="bash hljs">curl -k -X POST -H <span class="hljs-string"><span class="hljs-string">'User-Agent: api-test-agent'</span></span> -d <span class="hljs-string"><span class="hljs-string">'grant_type=authorization_code&amp;client_id=LOTHHN3BSET0I7IQNF3N5I0362AE1D14I6M74CAIQ5H49F7MT4PLMTVV7JTOA6QA&amp;client_secret=JS33UVG3J6JANNEATPND57BME23BKDCPP2UH1NB0C21HUMNGS5T71AVP6P24E0EI&amp;code=J2CO4TM7PK58NNVFCJSLPMML15IKQERD5CT2L8VGK82Q333ILAKQ28BPURIO1LG8'</span></span> https://hh.ru/oauth/token</code> </pre><br>  In response, you will get a json containing a token (the access_token field): <br><pre> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">"access_token"</span></span>: <span class="hljs-string"><span class="hljs-string">"VTEJ4PDD8R4MHEO7LTQM6RLEGJ1O8B1F79TGF45LIDQD11K50HMMBETB47BBCMQ1"</span></span>, <span class="hljs-string"><span class="hljs-string">"token_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"bearer"</span></span>, <span class="hljs-string"><span class="hljs-string">"expires_in"</span></span>: <span class="hljs-number"><span class="hljs-number">1209599</span></span>, <span class="hljs-string"><span class="hljs-string">"refresh_token"</span></span>: <span class="hljs-string"><span class="hljs-string">"OARLQNLT6JSMDI88CO5QIP35OOSQUTOO9IQNT20MOMAHE4H8SGPM7LQUAP8EO1G6"</span></span> }</code> </pre><br>  It's all.  Further, by executing requests in the API with the Authorization: Bearer your_access_token header, you will perform actions from under the user.  To avoid authorization for each request, save access_token. <br><br>  For example, here‚Äôs a request for a list of current user‚Äôs resumes: <br><pre> <code class="bash hljs">curl -k -H <span class="hljs-string"><span class="hljs-string">'Authorization: Bearer VTEJ4PDD8R4MHEO7LTQM6RLEGJ1O8B1F79TGF45LIDQD11K50HMMBETB21BBCMQ1'</span></span> -H <span class="hljs-string"><span class="hljs-string">'User-Agent: api-test-agent'</span></span> https://api.hh.ru/resumes/mine</code> </pre><br>  It should be noted that the token has a lifetime specified in the expires_in field, after which it has to be <a href="">updated</a> . <br><br>  API is constantly growing, it is implemented more and more new features.  If you strongly lack some functionality, have any suggestions or have found an error, then write us to the <a href="https://github.com/hhru/api/issues">issues</a> on the githaba. </div><p>Source: <a href="https://habr.com/ru/post/303168/">https://habr.com/ru/post/303168/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../303158/index.html">The digest of interesting materials for the mobile # 157 developer (June 6-13)</a></li>
<li><a href="../303160/index.html">10 rules that allow NASA to write millions of lines of code with minimal errors</a></li>
<li><a href="../303162/index.html">On the implementation of persistent processes in real-time control systems (part 1)</a></li>
<li><a href="../303164/index.html">Renewal of the old code or how to do well to an application that is bad</a></li>
<li><a href="../303166/index.html">Debriefing or how to clean up the state</a></li>
<li><a href="../303172/index.html">Let's look at Source-Query.</a></li>
<li><a href="../303174/index.html">How to call css-classes</a></li>
<li><a href="../303178/index.html">JS Programming Contest: Word Classifier (Preliminary Results)</a></li>
<li><a href="../303182/index.html">School of Data "Beeline", without a break for the summer</a></li>
<li><a href="../303186/index.html">jQuery UI Datepicker - adding the ability to select multiple dates on one calendar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>