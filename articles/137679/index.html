<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Windows v Enikey</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In response to the topic "In a room with a white ceiling . " 

 Introduction 
 In the topic was proposed an effective solution to eliminate some probl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Windows v Enikey</h1><div class="post__text post__text-html js-mediator-article">  In response to the topic <a href="http://habrahabr.ru/blogs/sysadm/137514/">"In a room with a white ceiling</a> . <a href="http://habrahabr.ru/blogs/sysadm/137514/">"</a> <br><br><h6>  Introduction </h6><br>  In the <a href="http://habrahabr.ru/blogs/sysadm/137514/">topic</a> was proposed an effective solution to eliminate some problems enikey.  Let's add and signify with their list: <br><ul><li>  The consequences of the work of viruses, and, sometimes, the consequences of the fight against viruses lead to the state of the system in which it is ‚Äúunder-treated‚Äù or ‚Äúnot cleaned‚Äù; </li><li>  Weak iron or greed does not allow the use of serious anti-virus packages; </li><li>  Errors of users or specialized programs lead to no less damage than malicious programs (a case when the program is difficult to pick up the root, but it does not work very optimally); </li><li>  The system is subject to a natural (for her) "littering" over time; </li><li>  System administrator errors can lead to serious consequences (eg, an unsuccessful attempt to upgrade); </li><li>  Absence of an automated backup system (for example, Acronis, but not networked); </li><li>  and others ... </li></ul><br><a name="habracut"></a><br>  In the same place ( <a href="http://habrahabr.ru/blogs/sysadm/137514/">in the topic</a> ), the author proposed an interesting and, of course, useful solution using the ‚Äúfreezing‚Äù system of the system partition of the operating system with preliminary transfer of the Profile and ‚ÄúProgram Files‚Äù to another section.  In the comments I would like to note some shortcomings. <br><br>  The author writes that after installing the OS, it is difficult to redirect the Profile and Program Files.  To solve this problem, he suggests using specialized utilities, the registry editor, and the process is complicated by rebooting from the media and changing important system files.  In my opinion, it is worth thinking about using the popular nLite utility, which at the stage of creating a distribution disk image allows you to specify the future profile folder and ‚ÄúProgram Files‚Äù (the system will be installed immediately with the specified parameters). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Also, the author is forced to install all updates manually, since  The system disk is ‚Äúthawed‚Äù manually by the administrator.  This is completely inconvenient when the number of machines is more than, say, 20. <br>  The author notes that it is advisable to use RAMDrive to store temporary folders like ‚ÄúTemp‚Äù, since  when you restart, many malware are destroyed along with all the data as a result of a power outage.  This is a very effective way if the amount of RAM is excessive. <br>  This topic will offer an alternative way to solve problems. <br><br><h6>  Principle of operation </h6><br>  1. The computer boots from Windows OS, the default OS on Linux OS is changed in the bootloader config <br><ul><li>  if there are ‚Äútasks‚Äù from the administrator, then the task file (password-protected archive) is copied to the local disk from the ‚Äútasks‚Äù ftp-server (the place where the archives are laid out by the administrator); </li><li>  if the computer is started to perform the task, then at the earliest loading stage the network adapter is disabled, the archive is unpacked and start.exe is started (for example) to complete the task; </li></ul><br>  2. The computer boots from Linux OS, the default OS on Windows OS is changed in the bootloader config <br><ul><li>  if the computer performed the administrator's task during the previous run, then make a backup and mark it as the most relevant; </li><li>  if the computer did not perform tasks during the last boot, then recover from the most current backup, mount partitions with profiles, ‚ÄúProgram Files‚Äù and check for viruses.  Go to reboot. </li></ul><br><br><h6>  Implementation in three stages </h6><br>  1. Windows OS installation is performed from an image prepared by NLite, with the path to the folder with profiles and ‚ÄúProgram Files‚Äù. <br>  * Before installation, you need to create two sections: for the Windows system partition, for Profiles and ‚ÄúProgram Files‚Äù. <br>  2. Installing the Linux OS (I used Debian Lenny in a minimal build): <br><ul><li>  On the disk, it is proposed to create an additional (for convenience) partition where backups will be stored (the file system should not be supported by Windows, this will make it impossible to simply modify images / backups); </li><li>  It is recommended to install Grub on a dedicated partition for it (It is important that the config can be changed under both Windows and Linux). </li></ul><br>  3. Adding scripts: <br><ul><li>  A program is added to Windows autoload that changes the default configuration of the Grub's Linux operating system (it is convenient to prepare the exe's using BatchToExe from the bat, this will allow you to add functionality without programming knowledge); </li><li>  in the ‚Äúautoload‚Äù of Linux, add the Grub config change script to start the Windows OS by default; </li><li>  creation of other auxiliary scripts at the discretion of the administrator. </li></ul><br><br>  In my opinion, the most suspicious is the placement of Grub on the FAT partition (after all, the config can be changed unauthorized).  The fact is that I just don‚Äôt remember how I made Hrab, by condition, run the OS.  But haber-makers will have no difficulty in implementing it differently ... for example, it would be wiser to use Grub2, and implement a switcher of operating systems in the hornbeam itself. <br><br>  In this topic, an idea is formulated that has been successfully implemented in two companies.  For us it was salvation, because  machines weak and active anti-virus packages could not be used.  If anyone is interested in receiving more detailed information or clarifying specific implementations, then you are welcome in the comments. <br><br>  !  In no case, this decision does not relieve you of the correct configuration of the OS, the adequate assignment of user rights, etc.  etc. </div><p>Source: <a href="https://habr.com/ru/post/137679/">https://habr.com/ru/post/137679/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../137671/index.html">Cisco is engaged in servers?</a></li>
<li><a href="../137672/index.html">Handling all exceptions in controllers using an attribute</a></li>
<li><a href="../137673/index.html">Satellite speedometer on STM32F1 and FreeRTOS</a></li>
<li><a href="../137674/index.html">7app chart # 10</a></li>
<li><a href="../137677/index.html">Python sqlite3: Finding slow queries</a></li>
<li><a href="../137680/index.html">Comparing Objects in C # .NET</a></li>
<li><a href="../137681/index.html">Hello world on ESB Toolkit</a></li>
<li><a href="../137682/index.html">Javascript Prefix Trees</a></li>
<li><a href="../137684/index.html">D-Link PowerLine: DHP-306AV Review</a></li>
<li><a href="../137685/index.html">The potential of the subscription base for the Internet entrepreneur and common mistakes when working to increase the subscription base</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>