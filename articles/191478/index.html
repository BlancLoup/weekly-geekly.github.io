<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why study TDD is difficult and what to do about it. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continued. Start here . 

 How to use all this? 
 Good question. We stopped at the fact that TDD helps to clearly define the boundaries of the current...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why study TDD is difficult and what to do about it. Part 2</h1><div class="post__text post__text-html js-mediator-article">  <i>Continued.</i>  <i>Start <a href="http://habrahabr.ru/post/191010/">here</a> .</i> <br><br><h3>  How to use all this? </h3><br>  Good question.  We stopped at the fact that TDD helps to clearly define the boundaries of the current task, provides an easy way to simultaneously work with small details related to the problem, and provides quick feedback to the code, telling how well the resulting solution is.  These facts will help us overcome the difficulties in studying this technique. <br><a name="habracut"></a><br><h3>  What tests to write? </h3><br>  The simplest (albeit accurate) answer is to do any tests that allow you to evaluate classes and design further.  But this answer is bad for beginners, so you have to go into details. <br><br>  What I personally had to struggle most with when studying TDD was the transition from simple examples to using TDD in real projects.  Choosing a test for a class lower in the hierarchy, I got difficulty inserting the resulting code back into the project.  The problem here was that I did not think of tests as a way to find out what I really needed.  And only when using a test that describes a solution to the problem, really useful abstractions were obtained.  The trick is to create tests that encapsulate knowledge about the current problem. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's look at a more pronounced case.  Let's say we have a completely new project.  So we don‚Äôt even know which classes we will need.  How to use TDD to learn something about the future structure of classes, when there is no class at all?  Let's write a test describing the developed functionality (or script).  This will be an acceptance test rather than a unit test.  Nowhere is it written that TDD is based solely on unit tests, but most newbies think that the process is based on them, and further misunderstanding follows from this.  So, this approach allows you to create a basic skeleton of the application, which will continue to develop and grow into flesh.  Tests will assess how well we were able to divide the required functionality into controlled, tested abstractions.  In addition, we will get an excellent interface to the system, which will be useful in the future when creating integration tests.  <a href="http://www.growing-object-oriented-software.com/">This book</a> is an excellent source of examples <i>(referring to the Growing Object-Oriented Software Guided by Tests book on the so-called London School of TDD, which adheres to the ‚Äúout-in‚Äù approach with the use of mocks for still unimplemented classes).</i> <br><br>  Once we have defined the basic behavior of the functional through the acceptance test, we create the infrastructure required for the test (building, continuous integration), and proceed to more specific tests to highlight the internal classes of the application.  Perhaps this is not needed - the direction specified by the acceptance tests will be sufficient for the implementation of the functional. <br><br><h3>  But you just wrote the code without first creating the test! </h3><br>  Easily.  TDD provides feedback to the code.  When you already know what exactly is needed (for example, if the job is to complement small parts of the finished architecture), that part of the TDD that is responsible for the design does not provide much benefit.  The only advantage of pre-writing tests here is that you can make sure that they do not work initially;  This is a way to test the tests themselves.  In this case, the ‚Äúfirst tests‚Äù approach is a technique for creating code covered in tests, not design. <br><br>  The fewer unknowns, the fewer tests you need to find them and you can move in long strides. <br><br><h3>  Here again - using the MVVM pattern, you created a presentation without a preliminary test! </h3><br>  We have already learned that TDD limits the current task, as well as provides an opportunity to understand how good its solution is.  Of course, TDD is far from the only way to get both the first and the second.  View creation technologies (WPF, MVC frameworks, GTK, WebForms, etc.) themselves impose significant restrictions on the code in terms of interaction with the UI. <br><br>  When using view selection patterns, such as MVVM, we can define the necessary properties and commands for the ViewModel without any tests.  We are limited to the chosen technology of building the interface, as well as the external design, worked out during the discussion (which is also a tool that provides quick feedback) with the customer. <br><br>  So TDD is not the only way to limit the task and get an estimate of the solution.  Where real conditions exist, we should not ignore them and invent artificial ones. <br><br>  Note: I had difficulty trying to recreate the presentation patterns by following the principles of TDD: how is it possible, using only tests, to get MVP, MVVM, etc?  I think that this is difficult due to the fact that on the one hand, we have an absolutely real UI-toolkit, and on the other - only imagination and tests.  There are factors that do not arise from tests, but are equally important sources of information.  If someone managed to get a pure branch of the presentation only with TDD, please let me know. <br><br><h3>  I am stuck!  Stuck in the tests and I do not know what to do ... </h3><br>  This has happened to me so many times that I hesitate to talk about it.  Coming up with tests for each line of code, including those that appear in the process of refactoring, in the end I found myself in a maze of meaningless abstractions.  Remember, TDD is not a substitute for thinking, you still need to be able to just write clean code! <br><br>  If the process does not provide the necessary information, go back and try to do otherwise.  Discuss ideas with colleagues.  Try to work using test coverage of a higher level of abstraction.  Just try other approaches - it is often easier to try out three different solutions than to theoretically identify one best thing beforehand.  TDD is a good, but not the only way to limit the problem and reach a solution.  Do what is needed right now to solve the problem, but do not forget to come back and try to understand the reason for the stop later. <br><br>  To the note: If it was not possible to solve the problem with TDD, make a note about it before trying something else.  It is important for you to understand whether this problem was not solved in principle using TDD, or you simply did not have enough knowledge.  To catch the difference will not work if you surrender too quickly.  Personally, following this principle led me to the discovery of such items as mocking, IoC containers, agreements, BDD, etc.  (and I'm still far from complete lack of gaps in knowledge). <br><br><h3>  TDD?  BDD?  ATDD?  What exactly do I need? </h3><br>  You may notice that using TDD is specific to each task (and for each developer).  A variety of tasks create different design problems and require various types of feedback.  This means that we should use TDD in different ways in order to get different assessments of the code being developed and use them in the development of the architecture.  Such methods can be ‚Äútop down‚Äù or ‚Äúbottom up‚Äù.  Sometimes we can rely mostly on acceptance tests.  Sometimes it is better to use a large number of unit tests.  Some problems are well solved with the help of tests "from edge to edge", using real external databases or services (this approach has its own subtleties, but if it provides the necessary feedback and ensures the development of the architecture, use it). <br><br>  In general, there is no one right answer.  The main goal is to get feedback from the code that is being worked on at the moment. <br><br><h3>  Conclusion </h3><br>  Although the TDD process instructions are simple, the technique itself is not.  The instructions provide only the most minimal help at the start, while the hype around TDD forms completely unrealistic expectations. <br><br>  We can solve this problem by trying to understand how TDD works and see the idea behind the algorithm.  We see that TDD is actually a tool for limiting the task, encapsulating the design process with the abstract question ‚ÄúWhat will be the next test‚Äù, and providing an opportunity to quickly evaluate the results of our research.  Essentially, TDD provides a great way to think through and iteratively develop an application design. <br><br>  Having understood this, we can deliberately use TDD to get feedback from the developed code and use this information to solve design problems.  We are not limited to only unit tests and constantly switch between levels of test abstraction (which is not at all in the demonstration examples of using TDD).  And we easily do without TDD where there are other ways of getting feedback from the code, such as the UI branch or storage technology frameworks. <br><br>  We also will not fall into despair if TTD rules cannot be applied, because we know that this technique is only a design tool, and there will always be gaps in knowledge or lack of experience that will have to be filled before it becomes possible to solve new problems. .  The fact that TDD is an excellent indicator of lack of knowledge, gives a chance to replenish their stock right now.  This is much better than blissful oblivion, which leads, in the end, to the failure of the deadlines for the delivery of the project, or, even worse, to the endless repetition of the same mistakes. <br><br>  Designing is always difficult.  TDD allows you to concentrate on design and understand how to make it better. <br><br>  I hope these thoughts will open you a different view on TDD and make the process of learning this technique more simple.  TDD is worth the effort.  Good luck! </div><p>Source: <a href="https://habr.com/ru/post/191478/">https://habr.com/ru/post/191478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191466/index.html">Simple DWDM system. Run at the booth</a></li>
<li><a href="../191468/index.html">EmBlocks - IDE for STM32</a></li>
<li><a href="../191470/index.html">Yoobao YB-665 - Power Bank at 15600 mAh</a></li>
<li><a href="../191472/index.html">Core Data for iOS. Chapter number 1. Practical part</a></li>
<li><a href="../191476/index.html">Capturing downloadable resources in QtWebKit or how I saddled a unicorn under dubstep</a></li>
<li><a href="../191480/index.html">Javascript Strategy Pattern</a></li>
<li><a href="../191482/index.html">Servers in the USA, Data Center COPT DC-6-EvoSwitch / LeaseWeb (Manassas)</a></li>
<li><a href="../191486/index.html">10 fastest supercomputers in pictures</a></li>
<li><a href="../191488/index.html">Interactive testing - is it worth it?</a></li>
<li><a href="../191490/index.html">Opera 16 Final</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>