<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What's new in Windows Server 2016 RDS. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The author of the article is Roman Levchenko ( www.rlevchenko.com ), MVP - Cloud and Datacenter Management 
 Exit Windows Server 2016 closer and close...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What's new in Windows Server 2016 RDS. Part 1</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  <i>The author of the article is Roman Levchenko ( <a href="http://www.rlevchenko.com/">www.rlevchenko.com</a> ), MVP - Cloud and Datacenter Management</i> </blockquote><br>  Exit Windows Server 2016 closer and closer, and we continue to consider the most important innovations of the next release.  Today we will talk about one of the most requested roles - Remote Desktop Services or RDS (Remote Desktop Services). <br>  Before diving into the world of new, I recommend to get acquainted with the list of those features that provide <a href="https://technet.microsoft.com/en-us/library/dn283323.aspx">Windows Server 2012/2012 R2</a> .  If everything is in the subject, then we will return to the main point and consider in detail directly WS 2016 RDS. <a name="habracut"></a><br><br><br><h1>  Multipoint Services </h1><br>  MultiPoint Server (MPS) is a technology and solution based on Windows Server and RDS to provide the basic functionality of remote desktops.  Positioned for use in classrooms or institutions where there are no large requirements for load and scalability.  The peculiarity is that user stations can consist only of a monitor, keyboard and mouse (‚Äúzero‚Äù clients) and connect directly to the MPS server via USB hubs, video cables or LAN (RDP-over-LAN, if the client is for example, a laptop or thin client).  As a result, the end user receives a low-cost solution for providing desktop functionality with absolutely minimal costs for user endpoints. <br><br>  The first version of MPS, released in February 2010, was able to connect stations only through specialized USB hubs and video ports. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The usual RDP connectivity was added only in the next version of MPS 2011, which was released in March 2011. In addition to RDP-over-LAN, MPS 2011 was updated as follows: <br><ul><li>  RemoteFX support </li><li>  Virtualization support </li><li>  Projecting a desktop from one station to another (for example, the desktop of a trainer or teacher is duplicated on user stations) </li><li>  Ability to restrict Internet access based on filters </li><li>  Remote launch of applications, blocking peripherals (keyboards, mice) on connected stations </li></ul><br>  In the following and, for the moment, the latest version of MPS 2012 has been added: <br><ul><li>  New console for centralized table management </li><li>  Protecting the system partition from unwanted changes </li><li>  MPS Connector client for monitoring and controlling stations, including tablets </li></ul><br>  Licensing is reminiscent of full-featured RDS.  It is still required to license each end station and have MPS server licenses, which are different editions: <br><table><tbody><tr><th>  Revision Name </th><th>  Standard </th><th>  Premium </th></tr><tr><td>  Number of connected stations </td><td>  To 10 </td><td>  Up to 20 </td></tr><tr><td>  Virtualization </td><td>  Not </td><td>  Yes </td></tr><tr><td>  Number of CPU (Sockets) </td><td>  one </td><td>  2 </td></tr><tr><td>  Max.  memory </td><td>  32 GB </td><td>  Unlimited </td></tr><tr><td>  Domain Connection </td><td>  Not </td><td>  Yes </td></tr></tbody></table><br><br><h1>  The main types of stations MultiPoint Services </h1><br>  As mentioned above, MPS not only supports classic RDP, but also allows you to connect "zero" clients (an example is the <a href="http://i.dell.com/sites/doccontent/business/smb/merchandizing/en/Documents/Dell-Wyse-E02-IA.pdf">Wyse 1000</a> ) in the following ways: <br><br><ul><li>  <b>Direct connection to the head station video card</b> <br><br>  In the figure, 4 client stations are connected directly to the main station via USB and, for example, VGA ports.  It is obvious that this type of connection implies the corresponding requirements for the hardware configuration of the head station and in some scenarios is not applicable (scale, distance, mobility) <br><br><img src="https://habrastorage.org/files/eae/be0/9f9/eaebe09f92dd42c185748a8080ed1268.jpg"><br><br></li><li>  <b>USB connection</b> <br><br>  The figure below shows the interaction of the primary station (a station that is connected directly to the MPS and is used for the primary configuration regardless of the scenario) and two ‚Äúzero‚Äù clients connected via USB hubs (example: <a href="http://i.dell.com/sites/doccontent/business/smb/merchandizing/en/Documents/Dell-Wyse-E02-IA.pdf">Wise 1000</a> ).  Unlike the first method, we do not need to additionally calculate the video subsystem configuration of the MPS server to form the required number of video outputs.  But due to the limitation on the distance between stations and MPS (for Dell Wise 1000 ~ 5 meters) it is recommended to use in small rooms with a small number of end users. <br><br><img src="https://habrastorage.org/files/8f0/213/549/8f0213549417437f9fbdf69d941a31c5.jpg"><br><br></li><li>  <b>Using USB Over-Ethernet</b> <br><br>  More scalable connection type.  Instead of USB-to-USB, USB probros over the LAN are used, thereby providing the possibility of building an MPS system in larger premises (client example: <a href="http://i.dell.com/sites/doccontent/business/smb/merchandizing/en/Documents/Dell-Wyse-E02-IA.pdf">Wise 1003</a> ) <br></li></ul><br><br><h1>  What about Windows Server 2016? </h1><br>  The above functionality has been completely migrated to Windows Server 2016 (currently <a href="https://www.microsoft.com/ru-ru/evalcenter/evaluate-windows-server-technical-preview">Technical Preview 4</a> ).  MultiPoint Server is now a new type of RDS deployment. <br><br>  There are no data on licensing of such a deployment scheme for 2016.  I mean that the licensing scheme of MPS 2012 will be partially transferred to WS 2016, and the editors of MPS will be abolished. <br><br><img src="https://habrastorage.org/files/48f/369/df7/48f369df75b14e93a266192f7bcefc1e.jpg"><br><br><img src="https://habrastorage.org/files/7ec/068/2ed/7ec0682edf384ab4a18852d2ba1d05c0.jpg"><br><br><br><h1>  Deployment process </h1><br>  Experienced engineers or administrators who are already familiar with the RDS configuration procedure as part of a VDI or Session-Based solution will find it easier and faster to configure and use MPS.  This is also a plus, given the target audience of MPS. <br><br>  There are three ways to install MultiPoint Services: via Server Manager (role-based), Powershell and via RDS Installation. <br><br>  Run through the first two and then move on to the basic MPS setup process. <br><ol><li>  Using the Server Manager and role installation, select MultiPoint Services, agree to install additional components and proceed to the next step. <br><br><img src="https://habrastorage.org/files/e0b/6bf/5fc/e0b6bf5fcd2646c1b9543434feb9fd47.jpg"><br><br></li><li>  You can read again what MPS is.  It should be noted that RD Licensing will need to be activated after the MPS configuration. <br><br><img src="https://habrastorage.org/files/047/043/9e3/0470439e3e434a268468e413fcb08fcf.jpg"><br><br></li><li>  Together with the main MPS service, Print and Document Services are additionally deployed, the purpose of which is, I hope, known to everyone.  Nothing interesting, we go further. <br><br><img src="https://habrastorage.org/files/c8a/3d2/b51/c8a3d2b51f9d4d7c84fc591ab76c4590.jpg"><br><br></li><li>  We leave everything by default. <br><br><ul><li>  <b>Print Server</b> - needed to manage multiple printers </li><li>  <b>Distributed Scan Server</b> - manage and provide access to scanners that support Distributed Scan Management </li><li>  <b>Internet Printing</b> - web access to printer jobs with the ability to send print documents via Internet Printing Protocol </li><li>  <b>LPD Service</b> - the Line Printer Daemon service allows UNIX clients, using the Line Printer Remote service, to send print tasks to available printers. </li></ul><br><br><img src="https://habrastorage.org/files/2a8/c83/738/2a8c8373826145d6bd7ebb91b4530896.png"><br><br></li><li>  We do not need a full-fledged RDS, so we leave the suggested default values. <br><br><img src="https://habrastorage.org/files/2c5/0a9/735/2c50a973585e411289423181b615af76.png"><br><br></li><li>  After confirmation, the server will go to reboot and, using the primary station, you will need to produce the required configuration when you first start the MPS.  At the time of launch, you will be prompted to identify the primary station (by pressing the ‚ÄúB‚Äù key), after which the server will switch to the RDS / MPS services configuration mode. <br><br><img src="https://habrastorage.org/files/244/26b/d82/24426bd820de418c86950703ffdea63b.png"><br><br>  MPS will add a <b>WmsShell</b> account to support work in multi-station mode and will create a <b>WmsOperators</b> group to create access to the control console (Dashboard). <br></li></ol><br><br>  All 6 points can be ‚Äúcompressed‚Äù to 1 command in PowerShell: <br><br><img src="https://habrastorage.org/files/518/5fc/07c/5185fc07cb63490898caf009be5d70a0.png"><br><br>  Go to the MPS Manager (MPS Manager) <br><br><img src="https://habrastorage.org/files/f4b/602/047/f4b60204734842dbb9be450fdf18ba64.png"><br><br>  From my remote station, I want to configure access to the MPS via RDP-over-LAN.  To do this, add a new user account MPS <br><br><img src="https://habrastorage.org/files/e3d/4e7/a60/e3d4e7a60c3a48dea6c8d46dec060683.png"><br><br>  From the point of view of the MPS, there are 3 types of users: a standard user for accessing the MPS, a user for managing user sessions, and an administrator.  In fact, this is an imitation of a full-fledged RBAC (Role Based Access Control). <br><br><img src="https://habrastorage.org/files/92d/3a7/892/92d3a78920ae4145908c5f3c3bb32562.png"><br><br>  So, the user is added.  Check the connection.  Using MSTSC and RDP features, I connect to the MPS server using the above account.  When each user connects to the MPS for the first time, the following message will be displayed: <i>‚ÄúTo assist in using this computer, your actions will be monitored by the system administrator.‚Äù</i> <br><br><img src="https://habrastorage.org/files/d29/34e/58e/d2934e58edb1493784b6310184fb73a2.png"><br><br>  After confirmation, a new terminal session will be created for the user, while the administrator will be able to manage the user session interactively using the MPS Dashboard. <br><br>  Let's go to the MPS Dashboard (a separate console).  The main part of the console will be occupied by dynamically changing mini-screens of user sessions.  This reminds me of a security service screen for monitoring video signals from cameras, but MPS allows us not only to observe what is happening in user sessions, but also really manage and change them (take control, block stations or initiate log off, send IM to selected users, block USB devices or remotely start / close applications). <br><br><img src="https://habrastorage.org/files/c14/60f/e8c/c1460fe8cc6c44328cff104d3c86f90a.jpg"><br><br>  For example, with each user station and its session we can do the following: <br><br><ul><li>  unlock / lock a station and display a message on a specific station; <br><br><img src="https://habrastorage.org/files/48f/636/bf4/48f636bf43114d0a844927ba27cfce2f.png"><br><br></li><li> restrict web access by defining a list of allowed or denied URLs; <br><br><img src="https://habrastorage.org/files/33c/238/efb/33c238efb7d244e8a879b7e7e8ddaeaf.png"><br><br></li><li>  project your desktop to client stations; <br><br><img src="https://habrastorage.org/files/077/301/5c5/0773015c563e4005857c69e5c9ea00f8.png"><br><br></li></ul><br>  If you go back to the MPS Manager, you can see that the connected station is displayed in the Stations tab, where you can additionally manage the selected stations. <br><br><img src="https://habrastorage.org/files/529/0ee/709/5290ee709fd04e0b8c85be6894a89d5e.png"><br><br>  The settings of the MPS itself are located on the Home Home entry.  We can, for example, disable notifications that the session is not private, so that users do not have additional questions :) <br><br><img src="https://habrastorage.org/files/add/c37/608/addc3760801f4335bd1fd38dfeacad4b.jpg"><br><br>  Multi-Session mode carries some security risks, so it is possible to protect the system disk from unwanted changes.  One click and confirmation is enough to enable Disk Protection. <br><br><img src="https://habrastorage.org/files/927/a17/f98/927a17f987854a71a0b33b2a2e0928b0.png"><br><br>  If there is an application that requires a client environment, in some cases isolated, then this is achieved in MPS by including Virtual Desktops.  The principle of operation is similar to the pooled-collection in a full VDI.  Each ‚Äúvirtualized station‚Äù will be created from a template and roll back changes after each user logout.  As you can see, the full functionality of VDI is not achieved, but still the very existence of such a possibility expands the scope of MPS. <br><br><img src="https://habrastorage.org/files/877/ed1/2f4/877ed12f46af4207b93c98defb347d69.png"><br><br><br><h1>  FAQ </h1><br>  <i>How to remove MPS services correctly?</i> <br><br>  Remove the role through Server Manager, restart the server and run the <a href="https://t.co/ukHNhlxQrl">script</a> . <br><br><img src="https://habrastorage.org/files/6e8/e60/781/6e8e6078167c4374878bd7b8fff9ebd2.png"><br><br><br>  <i>What about the PowerShell module for MPS?</i> <br><br>  At the moment, there is no separate module.  In my opinion, the already existing module for RDS will be updated to support the management of the MPS. <br><br><br><h1>  findings </h1><br>  Moving the MultiPoint Server functionality to Windows Server 2016 is quite an interesting and useful solution that should revitalize the applicability of MPS in exactly the scenarios in which it is recommended to use.  In addition to standard training classes, MPS can also be used by partners to provide demo stands or showrooms, independent coaches and other professionals whose goal is to convey information to listeners or customers competently. <br><br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/275997/">https://habr.com/ru/post/275997/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275985/index.html">Who are the Microsoft partner students?</a></li>
<li><a href="../275987/index.html">Site CrashSafari.com sends iPhones to reboot</a></li>
<li><a href="../275989/index.html">Automate word processing using the Microsoft Word API</a></li>
<li><a href="../275993/index.html">Where do bad programmers come from and what is their problem</a></li>
<li><a href="../275995/index.html">Software licensing</a></li>
<li><a href="../275999/index.html">Processing a temporary or permanent replacement of a 1C: Enterprise 8.2-8.3 authentication password</a></li>
<li><a href="../276003/index.html">Cach√© Class Explorer - explore Cach√© in UML notation</a></li>
<li><a href="../276005/index.html">Unsafe to Swift</a></li>
<li><a href="../276007/index.html">Office lighting control over Wi-Fi. Part 3: Driving the Light</a></li>
<li><a href="../276009/index.html">In Lenovo software, the immutable password was sewn 12345678</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>