<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Nagare - a new approach to building web applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Traveling around the Internet in search of fresh ideas for the next project, I accidentally stumbled upon Nagare - a revolutionary, I think, python-fr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Nagare - a new approach to building web applications</h1><div class="post__text post__text-html js-mediator-article">  Traveling around the Internet in search of fresh ideas for the next project, I accidentally stumbled upon <a href="http://www.nagare.org/">Nagare</a> - a revolutionary, I think, python-framework, drastically changing the approach to developing web applications.  It seems, on Habr√© there was no review yet, it is time to fix it. <br><a name="habracut"></a><br><br>  So, what difficulties does a web application developer face in the first place: <br><ul><li>  The need to save data between page loads </li><li>  Processing and saving data transmitted by the user via URL, GET / POST requests </li><li>  Generate valid HTML / XML (for example, correct tag closing) </li><li>  Integration of client-side code (JS / Ajax) with server code </li><li>  ... and many more things </li></ul><br><br>  As you will see now, using Nagare will solve these problems in very simple and elegant ways.  At once I will make a reservation that with this post I am not going to give a short course on Nagare, but just to illustrate an interesting and fresh approach to web programming.  Pilots and tank crews should read the <a href="http://www.nagare.org/trac/wiki">documentation</a> , good, there it is clear and without verbiage everything is written. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In functional programming, there is such a thing as continuations - continuations.  In short, functional languages ‚Äã‚Äãallow the programmer to get an instant snapshot of the program at any time and place it in a variable.  Then this snapshot can be ‚Äúcalled‚Äù and the program will continue from the same place where it was taken (with the only exception - the return value of the function that made the snapshot will be different).  This trick allows you to build very puzzling algorithms, striking in their beauty, after a couple of hours / days / years have been spent on their detailed analysis.  But we are not talking about that now.  The same trick allowed the developers of Nagare to deviate from the "sessionality", which is property of web applications.  An application built on the basis of Nagare is practically no different from the usual one ‚Äî interruptions related to the loading of pages by the user are, as it were, transparently ‚Äúdisguised‚Äù by the framework working through the ‚Äúcontinue‚Äù.  You do not have to worry about saving the data, just assign the values ‚Äã‚Äãto a variable (or an object field) and it will remain as long as the user session exists.  Itself.  For example, after the user has passed authorization, you simply write: <br><br><pre>   AuthOk = True
</pre><br><br>  and then check: <br><br><pre>   if AuthOK:
     .......
</pre><br><br>  Profit?  Profit!  But that is not all.  Why does a developer need to know and remember any URLs?  It is necessary to give the user a link with the text, and when he clicks on it - display the desired text.  In Nagare, it is done like this: <br><br><pre> h &lt;&lt; ha ("This is a link"). action (my_link_action)
</pre><br><br>  This line will generate a link with some (well, what difference does it make to us, with which one?) URL, on clicking on which the my_link_action () procedure will be called, defined somewhere earlier.  In the procedure, you can change any variables based on which the page will be generated.  If you need to create an input form, then Nagare also allows you to do it without any special steps: <br><br><pre> with h.form (). action (f_act1):
   h &lt;&lt; h.input (type = "text", value = ""). action (set_val1)
   h &lt;&lt; h.input (type = "text", value = ""). action (set_val2)
   h &lt;&lt; h.input (type = "submit", value = "Send!"). action (s_act1)
</pre><br><br>  The user will receive a form with two fields (well, what's the difference, what are their name attributes there?) And the submit-button.  After filling (typing in the fields ‚Äúblablabla‚Äù and ‚Äúhehehe‚Äù) and pressing the button, set_val1 (‚Äúblablabla‚Äù), set_val2 (‚Äúhehehe‚Äù), f_act1 () and s_act1 () will be called.  Everything.  The data you have entered, do with them what you want.  You can even simplify the task - there is no need to do a separate function for each input.  The programmer is lazy and he has that right - his working time is expensive.  Let Nagare put the field values ‚Äã‚Äãstraight into the variables!  This is done like this: <br><br><pre> v1 = var.Var ("")
 v2 = var.Var ("")

 with h.form (). action (f_act1):
   h &lt;&lt; h.input (type = "text", value = ""). action (lambda v: v1 (v))
   h &lt;&lt; h.input (type = "text", value = ""). action (lambda v: v2 (v))
   h &lt;&lt; h.input (type = "submit", value = "Send!"). action (s_act1)
</pre><br><br>  Voila - v1 () will return ‚Äúblablabla‚Äù to us, and v2 () - ‚Äúhehehe‚Äù! <br><br>  By the way, did you notice that we somehow did not write any HTML?  And why should we?  Let the HTML designer write, he gets paid for it.  Yes, and tags to close more.  Nagare saves the programmer from this tedious duty.  For example, create a table: <br><br><pre> with h.table:
   with h.tr:
     with h.td:
       h &lt;&lt; "111"
     with h.td:
       h &lt;&lt; "222"
   with h.tr:
     with h.td:
       h &lt;&lt; "333"
     with h.td:
       h &lt;&lt; "444"
</pre><br><br>  Handsomely?  Will you still run into a python with its indentation of blocks?  That's it! <br><br>  So what else do we have left?  Ajax?  Can and Ajax.  By the way, why does a programmer know about some Ajax there?  The logic of the program does not change, Ajax is there or not Ajax.  The same fields, links, pages, blocks, content, etc. They are simply updated not in whole but in parts.  What is the business of a programmer before it is updated there?  Translation of the project on Ajax in Nagare is done like this: <br>  in one place of the program <br><br><pre> xhtml.Renderer (h)
</pre><br>  replace with <br><pre> xhtml.AsyncRendrer (h)
</pre><br><br>  ... and we immediately have Ajax everywhere!  Who does not like, can turn off. <br>  There are still many sorts of chips, such as python-&gt; javascript dynamic translation, templates, component models, databases (via sqlalchrmy / elixir), etc.  All this can be found on the <a href="http://www.nagare.org/">site</a> .  There are also examples.  In general - you are welcome! <br><br>  PS There are, of course, pitfalls.  For example, you need to install stackless python.  But believe me - this framework is worth it!  In the comments, if anything, you can ask questions.  I am not a special guru in Nagare, but I played quite a lot with her. </div><p>Source: <a href="https://habr.com/ru/post/86595/">https://habr.com/ru/post/86595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../86584/index.html">NSS Labs browser security report for Q1 2010</a></li>
<li><a href="../86589/index.html">Corvette PK-8010, or Back to Childhood</a></li>
<li><a href="../86590/index.html">A passion for programming. Part 1. Tip 3. Coding is not all</a></li>
<li><a href="../86591/index.html">Nettop Zotac ZBOX HD-ID11 on NVIDIA Ion 2</a></li>
<li><a href="../86594/index.html">Small problems of a big company</a></li>
<li><a href="../86598/index.html">How to stop the competition in fooling OpSoSov clients?</a></li>
<li><a href="../86599/index.html">New music service with legal content - Vega Music</a></li>
<li><a href="../86604/index.html">Using Delegate and Undelegate in jQuery 1.4.2</a></li>
<li><a href="../86606/index.html">"High-tech gift" by March 8</a></li>
<li><a href="../86611/index.html">Heroes of Might and Magic on Symbian 9</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>