<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Setting up VoIP FXO gateway Yeastar Neogate TAXXX to work with 3CX</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setting up VoIP FXO gateway Yeastar Neogate TAXXX to work with 3CX 

 This guide describes how to connect VoIP FXO gateways Yeastar NeoGate TA410 / TA...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Setting up VoIP FXO gateway Yeastar Neogate TAXXX to work with 3CX</h1><div class="post__text post__text-html js-mediator-article"><h1>  Setting up VoIP FXO gateway Yeastar Neogate TAXXX to work with 3CX </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/175/80e/2b7/17580e2b7515521230d74f9e45320bac.png"><br>  This guide describes how to connect VoIP FXO gateways Yeastar NeoGate TA410 / TA810 / TA1610 to <a href="https://www.3cx.ru/ip-pbx/download-atc/">IP-PBX 3CX</a> . <a name="habracut"></a><br><br>  Yeastar Neogate gateways can connect to the SIP server as a client, i.e.  register on the server, but also have a built-in SIP registration server.  Thus, the 3CX system can register with the gateway as with a SIP operator.  For this, a regular SIP trunk is created in 3CX.  This is the method used in this manual. <br><br><h3>  FXO Gateway Setup </h3><br>  This manual is based on the Yeastar NeoGate TA410 gateway interface with firmware version <b>41.19.0.23</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. Log in to the gateway interface at 192.168.5.150 (pre-installed by default) with admin login and password password. <br><br>  2. It is recommended to update the firmware of the gateway if an update is available.  You can see the current firmware version in the Status - System Info section.  Download the latest firmware from <a href="https://www.yeastar.com/firmware-download/">the Yeastar website</a> and update it in the System - Firmware Update section.  The firmware update is performed using a TFTP server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/235/704/75e/23570475ebb15eabc7f53ee650039b82.png"><br><br>  3. Set the IP address of the gateway corresponding to your network in the System - Lan Settings section and reset the gateway. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d84/061/830/d84061830fc51de2f5f81a3b8e32dee2.png"><br><br>  4. In the gateway interface in the Gateway - FXO Port List section, sign the FXO ports.  For example, you can sign a port by the number of the telephone line to which this port is connected.  So it will be easier to work with them in the future. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/690/8c1/22e/6908c122e18799174488538cc55e8979.png"><br><br>  On the Call Duration Settings tab, you can specify various call time limits. <br><br>  5. In the VoIP Trunk section, create accounts for connecting 3CX server trunks.  In this manual, for each FXO port a separate SIP account is created on the gateway and a corresponding SIP trunk 3CX.  However, you may want to group the FXO ports into a pool (Port Group) and ‚Äúaddress‚Äù from one SIP trunk. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/199/30d/1b0/19930d1b0999e726df7e78113c4e7985.png"><br><br>  For convenience, the phone number connected to this FXO port is also listed as the user name. <br><br>  6. In the IP-&gt; Port section, create a call routing rule from the SIP trunk to the FXO port. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/904/bdf/ce8/904bdfce8f9cb627ccdd81d59e4dd4cb.png"><br><br>  7. In the Port -&gt; IP section, create a ‚Äúreverse‚Äù routing rule from the FXO port to the SIP trunk. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/594/ff3/b10/594ff3b102dc7d780835a1b7c0a1565f.png"><br><br>  The rest of the FXO ports are configured in the same way. <br><br><h3>  3CX Setup </h3><br>  1. In the 3CX interface, in the SIP trunks section, add a new SIP trunk.  Select the country Generic and specify Generic VoIP Provider, which provides for authorization with a login and password. <br><img src="https://habrastorage.org/getpro/habr/post_images/04c/0d9/d0c/04c0d9d0c87a17dd9b2c1cc4c745bda1.png"><br>  2. In the configuration interface that appears, specify: <br><br><ul><li>  Trunk name (this can be the name of the operator's PSTN or direction) <br></li><li>  IP address of FXO gateway <br></li><li>  The number of simultaneous calls (switching) in the trunk (as we agreed above, each SIP trunk 3CX will correspond to one FXO port of the gateway) - 1 <br></li><li>  Trunk connection credentials from section 5 of the FXO Gateway Setup section <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/05a/e9c/5da/05ae9c5dab0989b15a8f2773f946b077.png"><br><br>  3. In the Parameters section, disable the Proxy audio stream through PBX option (if the PBX and the gateway are on the same network) and set the options to Supports the Re-Invite method and Supports the Replaces header.  Click OK to save the settings. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e91/d4c/0c7/e91d4c0c76509352f4b4a002de94ffd6.png"><br><br>  4. The SIP trunk 3CX must successfully register on the FXO gateway. <br><img src="https://habrastorage.org/getpro/habr/post_images/3fc/904/6cd/3fc9046cd2b3915ab2d881fdc2b7f82c.png"><br><br>  5. Create an outbound rule for the new trunk.  Specify the rule triggering rules depending on the necessary conditions for routing calls through the PBX. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/21d/9e3/977/21d9e39771e08a94d6276fc7b39679c3.png"><br><br>  This completes the configuration of VoIP FXO gateway Yeastar Neogate TAXXX to work with 3CX. <br><br><h3>  Advanced FXO port settings for your line </h3><br>  If, after connecting the gateway, you hear the caller being too quiet, you can increase the signal gain (volume) with the Rxgain parameter, and if you hear too quietly, increase Txgain.  However, keep in mind that the amplification of the useful signal also increases the noise, so it is recommended not to change the default settings. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f27/f3b/da3/f27f3bda3c12e37ee94bf9fcdabbbb39.png"><br><br>  Set the PSTN line resistance.  For this it is better to use a <a href="https://www.3amsystems.com/World_Tone_Database/Compliance_data">reference book</a> .  AC Termination Impedance in Countries b.  USSR - 600 ohms, so we leave the value 0. <br><br>  The Other Settings tab shows important parameters that affect the recognition of the FXO signal port Busy.  The settings for your PBX may differ from those recommended, so it is best to read the <a href="https://support.yeastar.com/hc/en-us/articles/217454567-How-to-Set-up-Busy-Detection-Settings">guidelines for determining the signal parameters Busy from Yeastar</a> . <br><br>  For countries b.  The USSR usually takes the following signal parameters: Busy: <br><br><ul><li>  Busy Frequency - 425 Hz <br></li><li>  Busy Pattern - 350,350 (milliseconds) <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/727/d81/eac/727d81eac6c1ea483d365886a6590e90.png"><br><br>  The second important parameter is the Caller ID of the subscriber.  It is recommended to start with the settings shown in the figure.  You may have to experiment with these parameters, because they also depend on the type of PBX. </div><p>Source: <a href="https://habr.com/ru/post/349906/">https://habr.com/ru/post/349906/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349890/index.html">We receive the list of passengers of flights of the largest air carrier of Ukraine</a></li>
<li><a href="../349894/index.html">Script for obtaining information from a Windows image</a></li>
<li><a href="../349900/index.html">Creating a Telegram bot to get information on the Dogecoin wallet</a></li>
<li><a href="../349902/index.html">"Digital States": how it all began</a></li>
<li><a href="../349904/index.html">GLPI in a small organization, part 2. Basic functionality and features of its use</a></li>
<li><a href="../349908/index.html">How to learn to learn. Part 3 - we train memory "on a science"</a></li>
<li><a href="../349910/index.html">Three aspects of optimization (DB and software)</a></li>
<li><a href="../349912/index.html">Ruby on Rails ActionCable + Vue.js v2 for example chat</a></li>
<li><a href="../349914/index.html">Measuring the speed of Java code correctly (using JMH)</a></li>
<li><a href="../349916/index.html">The Dream Machine: The history of the computer revolution. Prologue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>