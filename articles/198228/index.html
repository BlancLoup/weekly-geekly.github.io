<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Programming language J. Amateur look. Part 3. Arrays</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Previous article in the Cycle Programming Language J. Amateur Look. Part 2. Tacit Programming 

 ‚ÄúI don't think it suits us. I told him what we were d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Programming language J. Amateur look. Part 3. Arrays</h1><div class="post__text post__text-html js-mediator-article">  <i>Previous article in the Cycle <a href="http://habrahabr.ru/post/198066/">Programming Language J. Amateur Look.</a></i>  <i><a href="http://habrahabr.ru/post/198066/">Part 2. Tacit Programming</a></i> <br><br><blockquote>  <em>‚ÄúI don't think it suits us.</em>  <em>I told him what we were doing, and he did not argue.</em>  <em>He just listened. ‚Äù</em> <em><br></em>  <em>Ken Iverson after one of the interviews</em> <br></blockquote><br><br><h2>  1. Arrays </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      J - language for processing arrays.  There are many ways to create arrays in J.  For example: <br><ul><li>  ‚Äú$‚Äù - this verb returns an array, the dimension of which is specified in the left operand, and the contents in the right operand.  Create an array of a given dimension, all elements of which are the same: <br><br><pre><code class="matlab hljs"><span class="hljs-number"><span class="hljs-number">3</span></span> $ <span class="hljs-number"><span class="hljs-number">1</span></span> NB.     ,    = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> $ <span class="hljs-number"><span class="hljs-number">2</span></span> NB.    <span class="hljs-number"><span class="hljs-number">2</span></span>   <span class="hljs-number"><span class="hljs-number">3</span></span> ,    = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><a name="habracut"></a><br>  You can also specify an arbitrary vector with the right operand, the elements of which will be sequentially copied into the resulting array: <br><br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> $ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> $ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> $ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br></li><li>  "#" - in the dyadic version of the verb copy.  Copies the i-th element of the right operand as many times as specified in the i-th element of the left operand.  Thus, the length of the resulting array is equal to the sum of the elements x.  Example: <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> # <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br></li><li>  "I." Creates listings and tables.  In a monadic call, returns an array made up of integers (starting with zero), each of which is greater than the previous one by one.  The length of such an array is specified by the right operand.  If the value of the operand is negative, then the numbers in the resulting array go in reverse order: <br><br><pre> <code class="matlab hljs"> <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> NB.       <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>._4 <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre><br></li></ul><br>  Pay attention to the last example - the verb ‚Äúi.‚Äù Returned a two-dimensional array to us, since  the operand passed to him was a vector.  The first element of the operand indicates the number of rows, the second - the columns.  However, with the help of this verb one can get an n-dimensional array.  For example, three-dimensional: <br><br><br><pre> <code class="matlab hljs"> <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> _2 <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre><br><br>  The rows in the resulting array go in reverse order, because  the second dimension is given by a negative number.  We will talk more about multidimensional arrays in the next section. <br><br>  Due to the fact that many standard J verbs are capable of processing data arrays, you can extend the previously described verbs to the case of arrays. <br><br><pre> <code class="matlab hljs"> - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> _1 _2 _3</code> </pre><br><br>  Dyadic case: <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> - <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> _2 <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br><br>  In addition, operations with different rank values ‚Äã‚Äãare allowed: <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br><br>  The same result can be obtained using the verb &lt;: <br><br><pre> <code class="matlab hljs"> &lt;: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br><br>  Valid and reverse operation: <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> _1 _2</code> </pre><br><br>  Recall that the last expression can be written as "1 2 3 - ~ 1". <br><br>  In addition to the standard arithmetic verbs in our work is useful verb-generator of pseudo-random numbers "?".  Being called with one operand ‚Äú?‚Äù Returns: <br><ul><li>  floating point random number if operand is zero; </li><li>  a random integer in the range from zero to y, if the operand is y. </li></ul><br><pre> <code class="matlab hljs"> ? <span class="hljs-number"><span class="hljs-number">0</span></span> NB. ,      <span class="hljs-number"><span class="hljs-number">0.622471</span></span> ? <span class="hljs-number"><span class="hljs-number">3</span></span> NB.      [<span class="hljs-number"><span class="hljs-number">0</span></span>;<span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span> ? <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br><br>  You can set the pseudo-random number sensor by calling <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">9</span></span>!:<span class="hljs-number"><span class="hljs-number">1</span></span> y</code> </pre><br><br>  The initial value of the seed = 7 ^ 5. <br><br>  As in all the examples earlier in this section, the verb ‚Äú?‚Äù Can be called with an array operand - the result will be an array of the same dimension, each i-th element of which will be a random number on the interval specified by the i-th element of the operand: <br><br><pre> <code class="matlab hljs"> ? <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">0.429769</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">95</span></span></code> </pre><br><br>  The verb "?", Of course, works not only with vectors, but also, for example, with matrices: <br><br><pre> <code class="matlab hljs"> ? (<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> $ <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-number"><span class="hljs-number">0.084712</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0.840877</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br><br><h2>  2. Parts of speech for working with arrays </h2><br><br>  As we already know, J is a language for handling arrays.  This is expressed, not least in the fact that when working with arrays you practically do not have to use explicit iterative procedures. <br><br>  Suppose you need to find the sum of all the elements of a sequence in a subset of the Python language.  Let us generalize this problem to the standard convolution function: <br><br><pre> <code class="matlab hljs">def reduce(xs, f, acc = <span class="hljs-number"><span class="hljs-number">0</span></span>): <span class="hljs-string"><span class="hljs-string">""" : &gt;&gt;&gt; reduce([1,2,3], lambda acc,x: acc + x) 6"""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x in xs: acc = f(acc,x) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> acc</code> </pre><br><br>  To solve such problems in J there is a special adverb "/", called "between".  Indeed, our function on python is equivalent to the following expression "x0 f x1 f ... f xN".  In terms of J, this is written as ‚Äúf / xs‚Äù, where xs is a noun (vector), f is a verb that is inserted ‚Äúbetween‚Äù elements of the noun xs, ‚Äú/‚Äù is an adverb, which actually performs such a transformation.  Let's give an example: <br><br><pre> <code class="matlab hljs"> +/ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> NB.  ¬´<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span>¬ª <span class="hljs-number"><span class="hljs-number">6</span></span> -/ <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> NB.  <span class="hljs-number"><span class="hljs-number">0</span></span> - (<span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br><br>  But what if we need to return, as a result of convolution, not only the final result of the calculations, but also all intermediate results (in the context of the Python source code, all intermediate values ‚Äã‚Äãof the variable ‚Äúacc‚Äù)?  Ie, for example, for the vector ‚Äú1 2 3 4‚Äù after applying the verb ‚Äú+‚Äù ‚Äúbetween‚Äù it is expected to get ‚Äú1 3 6 10‚Äù. <br><br>  In J for this purpose there is a special adverb "\": <br><br><pre> <code class="matlab hljs"> +/\ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> NB.  : (<span class="hljs-number"><span class="hljs-number">1</span></span>) , (<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>), (<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>+<span class="hljs-number"><span class="hljs-number">3</span></span>), (<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>+<span class="hljs-number"><span class="hljs-number">3</span></span>+<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> -/\ <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> NB.  : (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>-(<span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span>)) <span class="hljs-number"><span class="hljs-number">0</span></span> _1 <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br><br>  Other necessary verbs are ‚Äú/:‚Äù and ‚Äú\:‚Äù, which sort the transmitted vector in ascending and descending order, respectively.  And the result of sorting is a vector of indices of sorted elements: <br><br><pre> <code class="matlab hljs"> /: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> \: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br><br>  In order to get the elements of the array at the specified indices, we use the verb ‚Äú{‚Äù, which extracts the elements from the array (the right operand) at the specified indices (the left operand).  For example: <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> { <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">33</span></span> <span class="hljs-number"><span class="hljs-number">44</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">33</span></span></code> </pre><br><br>  Other verbs for ‚Äúmanual‚Äù indexing of array elements are <br><ul><li>  "}." Returns the "tail" of the array, i.e.  all elements except the first. </li><li>  "{." Returns the "head" of the array, i.e.  the first element of the array. </li><li>  "{:" Returns the last element of the array. </li><li>  "}:" Returns all elements of the array except the last. </li></ul><br><br>  Let us recall the adverb ‚Äú~‚Äù, which changes the right and left operand in places in a call, and give a somewhat more complicated example: <br><br><pre> <code class="matlab hljs"> ({~ /:) (? (<span class="hljs-number"><span class="hljs-number">5</span></span> $ <span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-number"><span class="hljs-number">0.221507</span></span> <span class="hljs-number"><span class="hljs-number">0.293786</span></span> <span class="hljs-number"><span class="hljs-number">0.691701</span></span> <span class="hljs-number"><span class="hljs-number">0.72826</span></span> <span class="hljs-number"><span class="hljs-number">0.839186</span></span></code> </pre><br><br>  In this example, a sequence of 5 random real numbers is generated, then a hook from the verbs "{~" and "/:" is applied to the result. <br><br><h2>  3. Multidimensional arrays and ranks </h2><br>  About multidimensional arrays, we have already mentioned.  It would be logical to assume that since standard verbs work with both numbers and vectors of numbers, they can also process multidimensional data arrays in the same way. <br><br><pre> <code class="matlab hljs"> ]x =: <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> NB.  ]    , ..     x <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> x + <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> |<span class="hljs-built_in"><span class="hljs-built_in">length</span></span> error x + <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span></code> </pre><br><br>  As we can see, if you execute a standard verb on a matrix and a vector, then the default action will be ‚Äúcolumn by column‚Äù.  In the example, ‚Äú10‚Äù is added to the element on the first row of each column, and ‚Äú20‚Äù is added to the second row.  The dimension of the array in Example 2 is 3. We will say then that the first rank of this array is 2, and the second rank is 3. Since the verb is applied by default to the columns of the matrix, we can say that it is applied by the second rank. <br><br>  This is a general rule for J - default verbs apply to the extreme rank of an array.  In order to explicitly indicate the rank of the verb, the special conjunction "" "(double quotes) is used, which the verb accepts with the left operand, the right (the integer) takes the right operand. For example: <br><br><pre> <code class="matlab hljs"> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) + <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) +<span class="hljs-string"><span class="hljs-string">"2 (10 20) 10 11 12 23 24 25</span></span></code> </pre><br><br>  As you can see, these two expressions are equivalent.  Notice the brackets around the vector (10 20).  If they are not set, then translator J will assume that the verb's rank is equal to ‚Äú2 10 20‚Äù, and the right operand of the verb is not specified.  In order not to clearly indicate the rank of a verb, it is recommended to use the infinity sign "_": <br><br><pre> <code class="matlab hljs"> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) +<span class="hljs-string"><span class="hljs-string">"_ (10 20) 10 11 12 23 24 25</span></span></code> </pre><br><br>  The result will not change.  If you change the rank of the verb by 1: <br><br><pre> <code class="matlab hljs"> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) +<span class="hljs-string"><span class="hljs-string">"1 (10 20) |length error</span></span></code> </pre><br><br>  The error of this expression is that we are trying to apply a summing verb to a vector of length 2 (right operand) and to a row vector of the left operand of length 3. Let's change our example a little: <br><br><pre> <code class="matlab hljs"> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) +<span class="hljs-string"><span class="hljs-string">"1 (10 20 30) 10 21 32 13 24 35</span></span></code> </pre><br><br>  The result corresponds to the sequential summation of the i-th element of the right-hand operand and each i-th element of each row of the left-hand operand. <br><br>  <i>The final article of the cycle <a href="http://habrahabr.ru/post/198230/">Programming language J. Amateur look.</a></i>  <i><a href="http://habrahabr.ru/post/198230/">Part 4. Boxes and cycles.</a></i>  <i><a href="http://habrahabr.ru/post/198230/">Conclusion</a></i> </div><p>Source: <a href="https://habr.com/ru/post/198228/">https://habr.com/ru/post/198228/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198212/index.html">(Archive) Matreshka.js - MK.Array</a></li>
<li><a href="../198216/index.html">The digest of interesting materials from the world of web development and IT for the last week No. 79 (October 13 - 19, 2013)</a></li>
<li><a href="../198218/index.html">Following the D-Link Vulnerability: Backdoor Detected in Tenda and Medialink Wireless Routers</a></li>
<li><a href="../198220/index.html">Why do copyright holders have to live on donations?</a></li>
<li><a href="../198224/index.html">ETL process using web services in Integration Services 2012</a></li>
<li><a href="../198230/index.html">Programming language J. Amateur look. Part 4. Boxes and cycles. Conclusion</a></li>
<li><a href="../198232/index.html">Apogee: Man Orchestra and Online Game Publisher 1987</a></li>
<li><a href="../198234/index.html">The digest of news from the world of mobile development for the last week ‚Ññ29 (October 14‚Äì20, 2013)</a></li>
<li><a href="../198236/index.html">Facebook CSRF closed vulnerability</a></li>
<li><a href="../198238/index.html">Overview of the new features of C ++ 14: Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>