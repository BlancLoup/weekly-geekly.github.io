<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GUI frameworks - on stream</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, colleagues! 

 A couple of months ago, I started looking at Golang in order to use it for desktop applications. I liked the language, the v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GUI frameworks - on stream</h1><div class="post__text post__text-html js-mediator-article">  Greetings, colleagues! <br><br>  A couple of months ago, I started looking at Golang in order to use it for desktop applications.  I liked the language, the volume and the subject of the packages written for it made an impression, but the situation with the GUI is not so rosy.  I will not dwell on the details now, it will suffice to say that after reading a few reviews and a quick look at the existing GUI packages I decided to write my own one - especially since I have experience in this. <br><br>  My first thought was to go along the already beaten path: write a set of relevant functions in C, more precisely, adapt the ready one ‚Äî what I once wrote for Harbor and C ++, make a link to it using cgo (C API for Golang) and friendly wrapper.  I even started to do it, I received the first window, but as I imagined, there was still a lot of work ahead, separately for Windows, separately for Linux, a purely technical work, since I was already passing through, my enthusiasm had cooled down a bit. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And then another idea came. <a name="habracut"></a><br><br>  I already have a GUI-library, HwGUI for Harbor, quite functional, cross-platform, which I regularly use for my applications.  It has already implemented everything that I need.  Why not write on its basis a program that works as a kind of GUI-server.  After starting this server, it will silently listen to a certain port, and, having received a connection from my Golang program, in response to its requests, will create windows, widgets, manipulate them and provide feedback when any events from the widgets occur - in short, implement a GUI for it.  All the low-level GUI implementation details are already in the library, for Windows - via direct WinAPI calls, for Linux / Unix and, probably, macOs - via GTK.  In addition, I do not intend to make the server in the full sense of the word, it will not accept connections from different programs - this would introduce additional unnecessary difficulties.  Each instance of the Golang program will launch its own separate instance of the GUI server, which further simplifies the task.  In general, the program will consist of two processes, one of which performs the main task, the other is responsible for the interface. <br><br>  The appropriate package for Go should include an Init procedure that launches and attaches a GUI server, and a set of structures, methods, functions for creating windows and widgets and manipulating them.  The main content of all these functions is sending messages of a certain format (based on JSON) to the server and receiving messages from it.  Communication is maintained using two tcp / ip ports, one responsible for sending requests to the server, the other for receiving signals from the server to handle events (pressing a button, closing a window, etc.).  The task is relatively simple, the package itself is small.  You do not need to use cgo, you do not need to bind to third-party libraries, all the code is on pure Go.  The executable file of the program itself and the executable file of the GUI server are everything. <br><br>  The choice of Harbor + HwGUI for implementing the GUI server for me is primarily due to the fact that these are my ‚Äúnative‚Äù tools, the simplest and quickest solution.  But it is a good choice from other points of view.  Here, in my opinion, the main advantages: <br><br><ul><li>  cross-platform "in the box"; </li><li>  what is called the native look and feel, since under Windows these are exclusively WinAPI calls, under Linux / Unix - GTK;  I don‚Äôt really know how ‚Äúnative‚Äù GTK for macOs is; </li><li>  the ability to use Harbor as a built-in scripting language; fragments of code can be sent to the server for execution ‚Äî event handlers, for example, which can unload the main program from some implementation details.  In addition, Harbor is good for many things, for working with dbf and some databases, for example; </li><li>  implementation of printing; </li><li>  possibility to use screen forms created by the Designer (HwGUI utility).  These forms are stored in XML format and can be used without changes in any OS in which the server is running; </li><li>  the ability to use the report forms created by the same Designer for printing (also in XML). </li></ul><br>  In short, I started doing this and much of the work has already been done.  Both projects, GuiServer and Golang External GUI-framework are on Github, all links are at the end of the article.  Below is a couple of screenshots.  Nothing special, just tests. <br><br>  This is a simple dialog box: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hg/h9/mf/hgh9mfnyucglzqk2ewbsfpjfpxo.png"></div><br>  And this is done on the basis of an example from the book by Kernigan and Donovan: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sa/o-/la/sao-lanfo07b3lpgqvsxxpsvr_m.png"></div><br>  Now the main goal of the projects is to ensure that this sweet couple, External and GuiServer, can do everything that HwGUI can.  Well, in the course of creating some real-world applications using External, it will be clear what else is needed. <br><br>  At this point it would be possible to finish; I postponed the description of the Golang package for another time.  But the main thing in this article is just beginning.  After all, the described method of implementing a GUI framework with the same GUI server can also be used for other languages.  C, Python, Java, ..., even Perl and PHP (and why not?) - see the article title.  Low cost - and quite functional GUI solution is ready.  The most difficult thing for each specific language is not the implementation of the exchange with the server, but the fact that this solution organically fits into its paradigm, its internal logic.  If anyone wants to create such a framework for their language, I will try to provide all possible assistance in obtaining the necessary information and, perhaps, in adding some features to the GUI server. <br><br>  In parallel with the Golang package, I made an analogue for Harbor, mainly for verification / debugging purposes.  The Perl framework is unlikely to be done, but for C or C ++, it is quite likely.  And this is why: there is one more interesting possibility connected with the use of a GUI server, it can be run on another computer.  The main program runs on one computer, and its interface runs on another.  Immediately see these options for using this case: <br><br><ul><li>  the main program runs on a Linux / Unix server on which the graphical shell is not installed at all; </li><li>  the main program works on another computer (from a conditional accountant in your company), and you, without interfering with it, manage it on your own; </li><li>  the main program runs on a smartphone, and you dig from a normal computer in its guts; </li><li>  the main program runs on the controller, on Arduino some, Raspberri or their analogs, where there is no normal monitor, maybe.  Connect with your laptop - and go. </li></ul><br>  This C-framework for a GUI server would probably be useful for this last option; this possibility seems very promising to me. <br><br>  And finally, the links: <br><br>  <a href="https://github.com/alkresin/guiserver">github.com/alkresin/guiserver</a> - GuiServer on github <br>  <a href="https://github.com/alkresin/external">github.com/alkresin/external</a> - External (Go package) on Github <br>  <a href="http://www.kresin.ru/guisrv.html">www.kresin.ru/guisrv.html</a> - <a href="http://www.kresin.ru/guisrv.html">GuiServer</a> page on my site, here you can download ready binaries <br>  <a href="https://habr.com/post/198618/">habr.com/post/198618</a> - my article on Harbor here in Habr√© <br>  <a href="https://ru.wikipedia.org/wiki/Harbour">ru.wikipedia.org/wiki/Harbour</a> - Harbor on Wikipedia <br>  <a href="http://www.kresin.ru/harbour.html">www.kresin.ru/harbour.html</a> - Harbor page on my site <br>  <a href="http://www.kresin.ru/hwgui.html">www.kresin.ru/hwgui.html</a> - HwGUI page on my site <br><br>  PS: It is clear that there are very few people who will install Harbor and HwGUI to build GuiServer from source, so I‚Äôll post the compiled binaries on the GuiServer page on my website for Windows, Debian 8 32-bit, Ubuntu 18.04 64-bit.  I can collect for Fedor, but under macOs - alas, I don‚Äôt have it within walking distance. </div><p>Source: <a href="https://habr.com/ru/post/427429/">https://habr.com/ru/post/427429/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427417/index.html">With humor about 8-inch diskettes (in the 70s there were only such)</a></li>
<li><a href="../427419/index.html">What to do the processor when there is nothing to do?</a></li>
<li><a href="../427421/index.html">How genealogical sites make it easier to catch killers</a></li>
<li><a href="../427423/index.html">City2Share: e-and autonomous vehicles in Munich logistics hubs</a></li>
<li><a href="../427427/index.html">How come to IT: about the interns and the June (the result of a survey of "My Circle")</a></li>
<li><a href="../427431/index.html">How Android works, part 4</a></li>
<li><a href="../427433/index.html">Balancing traffic in the operator‚Äôs IP networks</a></li>
<li><a href="../427435/index.html">STM32H7 - setting clocking without HAL</a></li>
<li><a href="../427437/index.html">Configuring linked servers: ms sql server and teradata</a></li>
<li><a href="../427439/index.html">The whole truth about the RTOS. Article # 16. Signals</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>