<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Content filtering: why and how to do it</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Today we will talk about filtering Internet content. Three years ago, the federal law 139- came into force, supplementing the already adopte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Content filtering: why and how to do it</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Today we will talk about filtering Internet content.  Three years ago, the federal law 139- came into force, supplementing the already adopted 436- “On protecting children from information harmful to their health and development”.  In accordance with Russian <a href="http://www.consultant.ru/document/cons_doc_LAW_108808/b663a547cc140a293671b9fc316f76f70c99e59f/">legislation</a> , access to the Internet in schools is possible only “subject to the application of administrative and organizational measures, technical, software and hardware tools to protect children from information that is harmful to their health and (or) development”.  In other words, the law requires mandatory filtering of Internet content.  Welcome under cat. <br><br> <a href="http://habrahabr.ru/company/smart_soft/blog/273095/"><img src="https://habrastorage.org/files/7f1/281/bb8/7f1281bb81e44f3ba724541567d557dd.jpg"></a> <br><a name="habracut"></a><br>  Perhaps someone thinks that this is an exclusively Russian innovation.  Not at all.  The practice of content filtering has been around for a long time in many countries; this is done in different ways.  For example, in France, the Ministry of Public Education launched automated and centralized content filtering in schools on the basis of two “black lists”: in the first list - pornographic resources, in the second - racist and anti-Semitic sites.  It was compiled in accordance with the pan-European project to develop a safe Internet (Safer Internet Action Plan). <br><br>  In the United States, the “Act on the Protection of Children from the Internet” was adopted in 2001.  Filtering uses commercial filtering software packages, and in some states, blocking IP addresses at the provider level. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In Canada, as part of the “Clean Communication” project, since 2006, providers who voluntarily participate in the program block the transition from the “black list” links, which is formed by analysts of the Canadian Center for Child Protection (Canadian Center for Child Protection).  Providers themselves decide how to block content — by IP address or domain name, while Sasktel BellCanada and Telus only block links in principle to avoid accidentally blocking resources that do not contain prohibited content. <br><br>  Most of the search engines in Germany - Google, Lycos Europe, MSN Deutschland, AOL Deutschland, Yahoo !, T-Online and T-info - have joined the “Voluntary Self-Control for Multimedia Service Providers” agreement.  They filter Internet sites on the basis of a list that is determined by the Federal Department of Media Resources Harmful to Young People. <br><br>  The most stringent measures in Europe are established in the UK.  Prohibited Internet content is blocked at the carrier level based on the Home Office Taskforce on Child Protection on the Internet standard.  In addition, British law obliges providers to report on whether they are taking measures to curb access to prohibited Internet sites.  Internet providers even transmit information to the Internet Watch Foundation (IWF) and the police about suspicious users and network conferences.  However, this only applies to the spread of child pornography, which in England is filtered at the level of providers for all.  Or at least try. <br><br>  Content and url filtering is necessary not only in libraries, schools and universities, where it is necessary to do so. <br><br>  For a long time, most companies are trying to close access to entertainment resources and social networks for their employees.  No need to explain why.  On the other hand, this must be done wisely.  After all, access to Facebook and LinkedIn for HR, PR and sales staff is needed for everyday work.  Yes, it is impossible to completely block access to resources that are considered undesirable to visit in the company.  You can bypass these prohibitions by going online from your smartphone or tablet.  But at least not through the corporate network. <br><br>  For simplicity, consider the content filtering settings on the example of a regular school.  Configuring the NetPolice module and user rules by type, group, and category for any other organization is similar. <br><br>  What do we need to do?  Forbid for all access to sites from the list of Rosreestr, configure schoolchildren access only in the permitted categories, and for teachers - access in all categories, except those forbidden. <br><br>  <b>1.</b> Start by creating user groups.  In our case, these are the Teacher and Schoolchildren groups.  Of course, the company will need to create more groups: "Managers", "Employees", "PR", "HR" and so on.  The principle of creating user groups is the same as in our example. <br><br>  To create a user group, go to the “Users and Groups” management console section.  In the “Users and groups” block in the “Actions” tab click on the “Add group” link: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/080/ae2/425/080ae24258d51a610cdfdce6b0acaad8.png"></div><br>  <b>2.</b> First, create the group "Teachers": <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb5/56a/e44/bb556ae449bb59bc3ce72fdc6f4807bb.png"></div><br>  <b>3.</b> Now we create rules for users using the NetPolice module.  In the management console, go to the section "Expansion Modules - NetPolice - Rules" and add it: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/080/ae2/425/080ae24258d51a610cdfdce6b0acaad8.png"></div><br>  <b>4. We</b> call the rule “Prohibition by categories (teachers)” and choose the categories of prohibition: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/129/be4/fee/129be4fee933bcde0dc33672140878c3.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ac/747/758/1ac747758d738f76e5907e9760187594.png"></div><br>  <b>5.</b> create a user rule and select the “Deny access” rule type: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfc/166/5f6/dfc1665f6de25e6380e80cbb4248a885.png"></div><br><br>  <b>6.</b> In the rule setting, select the “Teachers” group.  This completes the setting for this group: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb3/e47/1aa/eb3e471aa6ed958f601edab97ed0c9b9.png"></div><br><br>  <b>7.</b> Now we are going to create rules for the “Schoolchildren” group.  First (let it not seem strange) we need to deny access to all resources: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2da/97d/69c/2da97d69c3bc87f969faa63ef187ab4f.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/346/a27/532/346a275321db5bb38f7655684d00ea8f.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/248/708/2c5/2487082c59991d315fa576fd6535c883.png"></div><br>  <b>7.</b> Add a rule allowing users to work with DNS (port 53) so that Internet access is possible.  To do this, create a “DNS client” rule, select TCP / UDP protocols and change the range of destination ports to port 53: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/59b/e63/6f6/59be636f69e93b1c373f6671bc1d9941.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e4/7e1/df4/3e47e1df4310e2dcf7c536bd7d0048e6.png"></div><br>  <b>8.</b> Now add a custom rule allowing students to browse sites: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/46b/749/69b/46b74969b6813b19287f385f4645275c.png"></div><br>  <b>9.</b> Unlike the “Teachers” group, which is allowed to visit any resources other than those prohibited, users from the “Schoolchildren” group can only access certain Internet resources: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/233/9f7/1c2/2339f71c22bd4c377c6d268ece1f212e.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/004/9f7/45e/0049f745eeb9eacf07a925bf8ebebbae.png"></div><br>  <b>10.</b> Create a new category and confirm the automatic creation of a new rule for permission: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/058/77e/f90/05877ef90f988000fd3e37c94b8c3c60.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/19a/5a6/8c4/19a5a68c4b0b461c0242b3ddc7a1133a.png"></div><br>  <b>11.</b> And finally, we set up a rule for working with the Shkolniki group. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a1/109/064/2a11090640b1544f0075181fbc48ccaa.png"></div><br>  <b>12. We</b> return to the settings of user groups, because we still need to ensure that all traffic passes through a proxy server and is blocked when requests are by proxy. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/114/768/996/11476899644c24c77513e4af3c6faa60.png"></div><br>  <b>13.</b> First on the list are the rules for permissions.  For the “Teachers” group, the “Ban on categories (teachers)” rule is added automatically: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e90/349/f2d/e90349f2db1d4a3449cdd2d4280c9cb1.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5fa/d44/476/5fad44476bf5c5132b4ffaef725938ca.png"></div><br>  It remains for us to only add users to certain groups and check the correctness of the settings by going to <a href="http://www.smart-soft.ru/ru/solutions/check-federal-law/">www.smart-soft.ru/ru/solutions/check-federal-law/</a> . <br><br>  These features Traffic Inspector are not limited.  In addition to content filtering, we can, by creating a so-called “black list”, deny access to certain sites that may not be included in categories that are already prohibited.  For example, in this way, a company may prohibit access to social networks and entertainment services for certain categories of employees. <br><br>  Read more about black list settings <a href="http://www.smart-soft.ru/ru/support/video3_0/BlackAndWhite/">here</a> . <br><br>  If our readers know other interesting solutions to this problem, as always, we invite you to discuss. </div><p>Source: <a href="https://habr.com/ru/post/273095/">https://habr.com/ru/post/273095/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273081/index.html">Changes in RAD Studio 10 Seattle Update 1</a></li>
<li><a href="../273083/index.html">Manage Drones with Intel RealSense SDK Speech Recognition Applications</a></li>
<li><a href="../273087/index.html">The button bar in the elevator: the door, do not rush to close</a></li>
<li><a href="../273089/index.html">Selenium for Python. Chapter 5. Expectations</a></li>
<li><a href="../273093/index.html">How to replace a domain controller and not break the current infrastructure</a></li>
<li><a href="../273101/index.html">Moscow Python Meetup №31</a></li>
<li><a href="../273103/index.html">How to auto-sync data while editing Kendo Grid cells</a></li>
<li><a href="../273107/index.html">OpenSource.Mail.Ru: open projects of our employees</a></li>
<li><a href="../273109/index.html">Mix colors correctly or optimize AlphaBlend</a></li>
<li><a href="../273111/index.html">Checking Microsoft Code Contracts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>