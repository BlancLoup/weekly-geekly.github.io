<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ETag to the rescue</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is not a secret for anyone that in the HTTP protocol, and more precisely in its part that is a response from the server, there are such remarkable ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ETag to the rescue</h1><div class="post__text post__text-html js-mediator-article">  It is not a secret for anyone that in the HTTP protocol, and more precisely in its part that is a response from the server, there are such remarkable headers as Last-Modified and ETag (for more details, see <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html">the protocol specification</a> ).  They are designed to speed up the process of obtaining content from the server, or rather to save the client from loading data that has not been changed since the previous request. <br><br>  So here.  For me, the fact of the existence of two, essentially identical, mechanisms to inform the client whether the content of the page has changed or not has been a little alarming.  Little.  More precisely, I did not understand what ETag is for, if I always had one Last-Modified and user case for another I couldn‚Äôt even imagine (although I wondered honestly, I didn‚Äôt really care). <br><a name="habracut"></a><br>  But that was all until yesterday, when I got into a situation where Last-Modified failed.  And this situation is quite common - multilingual content.  In my case, the identifier of the current language is stored in the session on the server and the URL for different languages ‚Äã‚Äãis the same, which led, in fact, to the problem.  Having started the work on site optimization, I turned on conditional caching and found that the language switch stopped working. <br><br>  This is where ETag came in handy, instead of the usual Last-Modified.  And I began to build it very plainly - namely, the concatenation of the current language and the date of the content modification.  In this case, when changing the language, the client received different ETag for the same URL and accordingly reloaded the page again. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And as a conclusion, I would like to draw attention (and first of all) to the fact that you should not immediately make fun and / or criticize colleagues in the shop, if some things at first glance seem ridiculous or stupid to us.  Perhaps we ourselves do not notice anything yet. </div><p>Source: <a href="https://habr.com/ru/post/77004/">https://habr.com/ru/post/77004/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../76995/index.html">Nokia released Qt 4.6</a></li>
<li><a href="../76996/index.html">Google Gears + Apps Server</a></li>
<li><a href="../76998/index.html">SmartQ V7 Review</a></li>
<li><a href="../76999/index.html">ASUS "GUI Bios"</a></li>
<li><a href="../77003/index.html">Google named the most popular queries of 2009</a></li>
<li><a href="../77005/index.html">Optimize apt-get. We increase the speed of downloading packages</a></li>
<li><a href="../77009/index.html">Opera Mini 5 Beta 2, Opera Mobile 10 Beta 2 for S60 / WM with Opera Link support!</a></li>
<li><a href="../77010/index.html">Flash CS5 for iPhone FAQ</a></li>
<li><a href="../77011/index.html">phpclasses.org changes style!</a></li>
<li><a href="../77012/index.html">Easy way to make ‚Äúcheap‚Äù Private in JS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>