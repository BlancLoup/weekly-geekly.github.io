<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP7 Guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="php7-tutorial.com 
 The purpose of this site is to help you discover innovations in PHP 7. This guide is a set of simple exercises in which you will b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP7 Guide</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/03a/fbd/d22/03afbdd222c64049a7de58f587ebfc92.png"><br><h4>  <b>php7-tutorial.com</b> </h4><br>  The purpose of this <a href="http://php7-tutorial.com/">site is to</a> help you discover innovations in PHP 7. This guide is a set of simple exercises in which you will be asked to solve something, or to correct a mistake.  Each exercise conforms to the <a href="https://ru.wikipedia.org/wiki/RFC">RFC</a> standard (a set of technical specifications and standards) and is accompanied by a brief explanation. <br><br><h4>  <b>From translator</b> </h4><br><img src="https://habrastorage.org/files/711/8e9/c6c/7118e9c6ceee49bd9b364be7f75bf00a.png" align="left">  Hello everyone, Maxim Ivanov with you, and today we will talk about the innovations of PHP 7, which Guillaume Dievart will tell us in more detail in his guide, made in the form of exercises.  But before starting, I want to point out one moment.  I will not provide a complete guide to this programming language in this review, just leave here a <a href="http://www.phptherightway.com/">link</a> to the latest and most accurate information.  <a href="https://twitter.com/codeguy">Josh Lockhart</a> (author of the PHP Guide: The Right Way, developer of the Slim Framework) wrote this book to help newbies, he said: reliable information on the PHP language, so my guide is designed to solve this problem. "  What exactly?  You know that a huge amount of PHP content is scattered around the Internet, but much has become outdated or does not lead to writing high-quality code.  This book contains basic current information with links to trusted resources.  If anyone is interested, this is in <a href="http://jstherightway.org/">JavaScript</a> .  Now back to the exercises and get started. <br><a name="habracut"></a><br><br><h4>  <b>Content</b> </h4><br><ol><li>  <a href="https://habr.com/ru/post/302942/">Exercise 1. Change the value of the variable $ phpVersion</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 2. Replace the invalid tag</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 3. Replace the deprecated feature.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 4. Use only __construct ()</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 5. Remove unnecessary default constructs in switch</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 6. Use the spaceship operator to sort an array</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 7. Use the join operator</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 8. It is necessary to modify the condition after the join operator</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 9. Change the value of $ b for the join operator to work correctly.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 10. Group namespaces with the same prefix.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 11. Rename method using new set of allowed keywords.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 12. Use safer functions to generate random numbers.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 13. Use the new preg_replace_callback_array function.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 14. Use an anonymous class.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 15. Specify the type in the function arguments</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 16. Modify the right operand of the condition to catch the value of the expected type</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 17. Use strict mode to catch errors when the function receives the wrong type.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 18. Use strict mode for built-in functions.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 19. The strict_types directive should be the first line</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 20. Specify the return type of the function.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 21. Correct the return type of the function to catch the value of the expected type.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 22. The definition of an inherited class should return the same type of its parent.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 23. Use new unicode sequence to describe characters.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 24. It is allowed to pass objects to the unserialize () function.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 25. Turn on the generator another generator</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 26. Use the function closure</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 27. Call the variable $ c from $ a</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 28. Use the Error class to handle errors.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 29. Use the TypeError class to handle errors.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 30. Use the Throwable class to handle errors.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 31. Use the DivisionByZeroError class to handle errors</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 32. Do not use hexadecimal numbers in strings.</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 33. Get the final value of the generator number 1</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 34. Get the final value of the generator number 2</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 35. Fix the prototype (interface) function</a> </li><li>  <a href="https://habr.com/ru/post/302942/">Exercise 36. Create a group of constants</a> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>Sandbox</b> </h4><br>  If you want to test some examples, use the <a href="http://phptester.net/">online interpreter</a> . <br><br><h4><a name="s1"></a>  <b>Exercise 1</b> .  Change the value of the $ phpVersion variable to proceed to the next exercise. </h4><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $phpVersion = <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> PHP_MAJOR_VERSION === $phpVersion ? <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span> : <span class="hljs-string"><span class="hljs-string">"No !"</span></span>;</code> </pre> <br><pre> <code class="bash hljs">//  No !</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $phpVersion = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> PHP_MAJOR_VERSION === $phpVersion ? <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span> : <span class="hljs-string"><span class="hljs-string">"No !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/php6">The main reasons why you missed the sixth version and moved to the seventh</a> <br>  2. <a href="http://php.net/manual/ru/function.echo.php">Operator output line on the screen</a> <br>  3. <a href="http://php720.com/lesson/19">Ternary (conditional) operator</a> <br>  4. <a href="http://red-book-cms.ru/poleznosti/chto-takoe-mazhornaya-i-minornaya-versii-programmnogo-obespecheniya.html">What is a major and minor version?</a> <br><br><h4><a name="s2"></a>  <b>Exercise 2</b> .  Replace invalid tag </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>% <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>;</code> </pre><br><pre> <code class="bash hljs">//  syntax error, unexpected <span class="hljs-string"><span class="hljs-string">'%'</span></span>, expecting end of file on line 1</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/remove_alternative_php_tags">Which alternative PHP tags were removed and which were left?</a> <br><br><h4><a name="s3"></a>  <b>Exercise 3</b> .  The ereg_replace function is obsolete; replace it with preg_replace </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ereg_replace(<span class="hljs-string"><span class="hljs-string">"PHP([3-6])"</span></span>, <span class="hljs-string"><span class="hljs-string">"PHP7"</span></span>, <span class="hljs-string"><span class="hljs-string">"PHP6"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; }</code> </pre><br><pre> <code class="bash hljs">//  Uncaught Error: Call to undefined <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ereg_replace() <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_6b3Hmf:3 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_f8PIGz(52): require() #1 {main} thrown on line 3</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (preg_replace(<span class="hljs-string"><span class="hljs-string">"/PHP([3-6])/"</span></span>, <span class="hljs-string"><span class="hljs-string">"PHP7"</span></span>, <span class="hljs-string"><span class="hljs-string">"PHP6"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/removal_of_dead_sapis_and_exts">Outdated Extensions</a> <br>  2. <a href="http://phpfaq.ru/tech/regexp">Regular expressions in PHP</a> <br>  3. <a href="http://php.net/manual/ru/function.preg-replace.php">Search and replace by regular expression</a> <br>  4. <a href="http://www.php.su/articles/%3Fcat%3Dregexp%26page%3D008">Templates</a> <br>  5. <a href="http://php.net/manual/ru/regexp.reference.performance.php">Performance</a> <br><br><h4><a name="s4"></a>  <b>Exercise 4</b> .  PHP4 constructors are deprecated, use __construct </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>;</code> </pre><br><pre> <code class="bash hljs">//  Methods with the same name as their class will not be constructors <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a future version of PHP; Foo has a deprecated constructor on line 3</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/remove_php4_constructors">Outdated Designer</a> <br>  2. <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BD%25D1%2581%25D1%2582%25D1%2580%25D1%2583%25D0%25BA%25D1%2582%25D0%25BE%25D1%2580_(%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">Constructor (object-oriented programming)</a> <br>  3. <a href="http://ru.stackoverflow.com/questions/170336/%25D0%2594%25D0%25BB%25D1%258F-%25D1%2587%25D0%25B5%25D0%25B3%25D0%25BE-%25D0%25BD%25D1%2583%25D0%25B6%25D0%25BD%25D1%258B-%25D0%25BA%25D0%25BB%25D0%25B0%25D1%2581%25D1%2581%25D1%258B">What are classes for?</a> <br>  4. <a href="https://toster.ru/q/185949">Why do I need OOP?</a> <br>  5. <a href="https://ru.wikibooks.org/wiki/%25D0%259E%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">Object Oriented Programming</a> <br>  6. <a href="http://php.net/manual/ru/language.oop5.basic.php">Basics of OOP in PHP</a> <br>  7. <a href="https://habrahabr.ru/post/140581/">Stop writing classes.</a> <br>  8. <a href="http://www.uni-vologda.ac.ru/oberon/infoart/plus%26min.htm">Pros and cons of object-oriented programming</a> <br><br><h4><a name="s5"></a>  <b>Exercise 5</b> .  Multiple default constructs in the switch statement are now disabled; delete the first </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-string"><span class="hljs-string">''</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Doesn't pass here ..."</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; }</code> </pre><br><pre> <code class="bash hljs">//  Switch statements may only contain one default clause on line 7</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-string"><span class="hljs-string">''</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/switch.default.multiple">Why does a syntax error occur in defining several cases by default in a switch statement?</a> <br>  2. <a href="http://php.net/manual/ru/control-structures.switch.php">Switch statement</a> <br><br><h4><a name="s6"></a>  <b>Exercise 6</b> .  Use spaceship operator (&lt;=&gt;) to sort an array </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $users = [<span class="hljs-string"><span class="hljs-string">'Pierre'</span></span>, <span class="hljs-string"><span class="hljs-string">'Paul'</span></span>, <span class="hljs-string"><span class="hljs-string">'Next step !'</span></span>]; usort($users, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a, $b)</span></span></span><span class="hljs-function"> </span></span>{ }); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> current($users);</code> </pre><br><pre> <code class="bash hljs">//  Pierre</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $users = [<span class="hljs-string"><span class="hljs-string">'Pierre'</span></span>, <span class="hljs-string"><span class="hljs-string">'Paul'</span></span>, <span class="hljs-string"><span class="hljs-string">'Next step !'</span></span>]; usort($users, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a, $b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a &lt;=&gt; $b; }); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> current($users); <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/combined-comparison-operator">New operator</a> <br>  2. <a href="http://stackoverflow.com/questions/30365346/what-is-the-spaceship-operator-in-php-7">What is this shaceship &lt;=&gt;?</a> <br>  3. <a href="http://php.net/manual/ru/function.usort.php">usort - sorts an array by value, using a custom function to compare elements</a> <br>  4. <a href="http://php.net/manual/ru/function.current.php">Internal pointer</a> <br><br><h4><a name="s7"></a>  <b>Exercise 7</b> .  Use the union operator with a NULL value (??) </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $_GET[<span class="hljs-string"><span class="hljs-string">'query'</span></span>] ? $_GET[<span class="hljs-string"><span class="hljs-string">'query'</span></span>] : <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>;</code> </pre><br><pre> <code class="bash hljs">//  Undefined index: query on line 3</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $_GET[<span class="hljs-string"><span class="hljs-string">'query'</span></span>] ?? <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/isset_ternary">New operator</a> <br>  2. <a href="https://en.wikipedia.org/wiki/Null_coalescing_operator">Null coalescing operator</a> <br>  3. <a href="http://stackoverflow.com/questions/1248864/simple-php-isset-test">Simple PHP isset test</a> <br>  4. <a href="https://www.virendrachandak.com/techtalk/php-isset-vs-empty-vs-is_null/">isset () vs empty () vs is_null ()</a> <br><br><h4><a name="s8"></a>  <b>Exercise 8</b> .  A union statement with a value of NULL (??) does not check the value in certain cases, change the right operand in the condition </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $_GET[<span class="hljs-string"><span class="hljs-string">'title'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    ,    $query = $_GET['title'] ?? '*'; // true //     if($query === '*') { echo "Next step !"; }</span></span></code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $_GET[<span class="hljs-string"><span class="hljs-string">'title'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; $query = $_GET[<span class="hljs-string"><span class="hljs-string">'title'</span></span>] ?? <span class="hljs-string"><span class="hljs-string">'*'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($query === <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://josephscott.org/archives/2015/06/php-null-coalescing-operator/">A special case</a> <br><br><h4><a name="s9"></a>  <b>Exercise 9</b> .  A union statement with a NULL value (??) does not check the value in certain cases; change the value of $ b </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $b = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $a ?? $b ?? <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>;</code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $b = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $a ?? $b ?? <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://3v4l.org/kqgib">An example of the operator</a> <br><br><h4><a name="s10"></a>  <b>Exercise 10</b> .  You can group namespaces with the same prefix.  Group them in an example. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Foo</span></span>\<span class="hljs-title"><span class="hljs-title">Bar</span></span>\<span class="hljs-title"><span class="hljs-title">Email</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Foo</span></span>\<span class="hljs-title"><span class="hljs-title">Bar</span></span>\<span class="hljs-title"><span class="hljs-title">Phone</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Foo</span></span>\<span class="hljs-title"><span class="hljs-title">Bar</span></span>\<span class="hljs-title"><span class="hljs-title">Address</span></span>\<span class="hljs-title"><span class="hljs-title">Code</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Foo</span></span>\<span class="hljs-title"><span class="hljs-title">Bar</span></span>\<span class="hljs-title"><span class="hljs-title">Address</span></span>\<span class="hljs-title"><span class="hljs-title">Number</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>;</code> </pre><br><pre> <code class="bash hljs">//  Next step !</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Foo</span></span>\<span class="hljs-title"><span class="hljs-title">Bar</span></span>\{ <span class="hljs-title"><span class="hljs-title">Email</span></span>, <span class="hljs-title"><span class="hljs-title">Phone</span></span>, <span class="hljs-title"><span class="hljs-title">Address</span></span>\<span class="hljs-title"><span class="hljs-title">Code</span></span>, <span class="hljs-title"><span class="hljs-title">Address</span></span>\<span class="hljs-title"><span class="hljs-title">Number</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE_%25D0%25B8%25D0%25BC%25D1%2591%25D0%25BD_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">Namespace (programming)</a> <br>  2. <a href="http://php.net/manual/ru/language.namespaces.rationale.php">Overview of Namespaces</a> <br>  3. <a href="https://habrahabr.ru/post/212773/">Namespaces in PHP, explanation</a> <br>  4. <a href="https://habrahabr.ru/post/245893/">Namespaces in PHP</a> <br>  5. <a href="https://mattstauffer.co/blog/a-brief-introduction-to-php-namespacing">A brief introduction to PHP Namespaces</a> <br><br><h4><a name="s11"></a>  <b>Exercise 11</b> .  Some keywords can now be used in method names (list, foreach, new, ..) </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   public function getList() { return "Next step !"; } } echo (new Foo)-&gt;list();</span></span></code> </pre><br><pre> <code class="bash hljs">//  Uncaught Error: Call to undefined method Foo::list() <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_FmqgZ0:12 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_LbZpe8(52): require() #1 {main} thrown on line 12</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">list</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Foo)-&gt;list(); <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/context_sensitive_lexer">Keywords</a> <br><br><h4><a name="s12"></a>  <b>Exercise 12</b> .  Use safer functions to generate random numbers. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $randomInt = mt_rand(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $randomInt;</code> </pre><br><pre> <code class="bash hljs">//  5</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $randomInt = random_int(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $randomInt; <span class="hljs-comment"><span class="hljs-comment">//  1</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. A <a href="http://php.net/manual/ru/function.random-int.php">cryptographically safe function for obtaining pseudo-random integers.</a> <br>  2. <a href="http://stackoverflow.com/questions/7808021/whats-the-disadvantage-of-mt-rand">What is the disadvantage of mt_rand?</a> <br>  3. <a href="http://stackoverflow.com/questions/28760650/difference-between-mt-rand-and-rand">Difference between mt_rand () and rand ()</a> <br><br><h4><a name="s13"></a>  <b>Exercise 13</b> .  Use the new preg_replace_callback_array function </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// Use preg_replace_callback_array instead of preg_replace_callback echo preg_replace_callback( array( "/PHP6/", "/PHP7/" ), function($matches) { if(strpos($matches[0], 'PHP6') === 0) { return 'Ko !'; } else { return "Next step !"; } }, 'PHP7' );</span></span></code> </pre><br><pre> <code class="bash hljs">//  Next step !</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// preg_replace_callback_array  preg_replace_callback echo preg_replace_callback_array( array( "/PHP6/" =&gt; function() { return "Ko !"; }, "/PHP7/" =&gt; function() { return "Next step !"; }, ), 'PHP7' ); //  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/ru/function.preg-replace-callback-array.php">Regular Expression Search and Replace Using Callback Function</a> <br>  2. <a href="https://www.youtube.com/watch%3Fv%3DtTMn1dOs2-E">Work with preg_replace_callback_array</a> <br><br><h4><a name="s14"></a>  <b>Exercise 14</b> .  Now you can create anonymous classes.  Use an anonymous class instead of MyMessage </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Logger</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Message $message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $message-&gt;getText(); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Message</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyMessage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Message</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } } Logger::write(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyMessage());</code> </pre><br><pre> <code class="bash hljs">//  Next step !</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Logger</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Message $message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $message-&gt;getText(); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Message</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } $message = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">() </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Message</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } }); Logger::write($message); <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/ru/language.oop5.interfaces.php">Interfaces of objects</a> <br>  2. <a href="http://www.cyberforum.ru/php-oop/thread603078.html">What is the essence of interfaces in PHP?</a> <br>  3. <a href="https://habrahabr.ru/post/170019/">Programming template "Flowing Interface" in PHP.</a>  <a href="https://habrahabr.ru/post/170019/">A fresh look</a> <br>  4. <a href="http://php.net/Abstract">Abstract classes</a> <br>  5. <a href="http://www.techflirt.com/tutorials/oop-in-php/abstract-classes-interface.html">Abstract classes and interfaces in PHP</a> <br>  6. <a href="http://www.quizful.net/interview/php/abstract-class-interface-difference">Differences of the abstract class from the interface</a> <br><br><h4><a name="s15"></a>  <b>Exercise 15</b> .  Add int type to add function arguments </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a, $b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a + $b; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(add(<span class="hljs-number"><span class="hljs-number">5.5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) === <span class="hljs-number"><span class="hljs-number">10</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; }</code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $a, int $b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a + $b; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(add(<span class="hljs-number"><span class="hljs-number">5.5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) === <span class="hljs-number"><span class="hljs-number">10</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B8%25D0%25BF_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585">Type of data</a> <br>  2. <a href="http://php.net/manual/ru/language.types.intro.php">Introduction to PHP Data Types</a> <br>  3. <a href="http://stackoverflow.com/questions/32940170/are-scalar-and-strict-types-in-php7-a-performance-enhancing-feature">Today, the use of scalar and mixed data types in PHP 7 does not improve performance.</a> <br><br><h4><a name="s16"></a>  <b>Exercise 16</b> .  By default, PHP casts the value of the expected type.  Modify the right operand of the condition </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $a, int $b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a + $b; } <span class="hljs-comment"><span class="hljs-comment">//    if(add(5.5, 5.5) === 11) { echo "Next step !"; }</span></span></code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $a, int $b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a + $b; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(add(<span class="hljs-number"><span class="hljs-number">5.5</span></span>, <span class="hljs-number"><span class="hljs-number">5.5</span></span>) === <span class="hljs-number"><span class="hljs-number">10</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://www.techflirt.com/scalar-type-declarations-in-php-7">Initialization of scalar types in PHP 7</a> <br><br><h4><a name="s17"></a>  <b>Exercise 17</b> .  Use strict mode if you want to intercept errors, in the case where the function gets the wrong type that it expects.  Fix on float. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span>(strict_types = <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $a, int $b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (int)($a + $b); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(add(<span class="hljs-number"><span class="hljs-number">5.5</span></span>, <span class="hljs-number"><span class="hljs-number">5.5</span></span>) === <span class="hljs-number"><span class="hljs-number">11</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; }</code> </pre><br><pre> <code class="bash hljs">//  Uncaught TypeError: Argument 1 passed to add() must be of the <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">float</span></span> given, called <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_FKwVHc on line 10 and defined <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_FKwVHc:5 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_FKwVHc(10): add(5.5, 5.5) #1 /tmp/__hoa_rejBtd(52): require('/tmp/__hoa_FKwV...') #2 {main} thrown on line 5</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span>(strict_types = <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $a, float $b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (int)($a + $b); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(add(<span class="hljs-number"><span class="hljs-number">5.5</span></span>, <span class="hljs-number"><span class="hljs-number">5.5</span></span>) === <span class="hljs-number"><span class="hljs-number">11</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/ru/language.types.type-juggling.php">Manipulations with data types</a> <br>  2. <a href="http://php.net/manual/ru/control-structures.declare.php">Setting directives</a> <br>  3. <a href="http://php.net/manual/ru/language.oop5.typehinting.php">Type control</a> <br>  4. <a href="http://php.net/manual/ru/ini.core.php">Built-in directives</a> <br><br><h4><a name="s18"></a>  <b>Exercise 18</b> .  Use strict mode for built-in functions. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span>(strict_types = <span class="hljs-number"><span class="hljs-number">1</span></span>); strlen(<span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>;</code> </pre><br><pre> <code class="bash hljs">//  Uncaught TypeError: strlen() expects parameter 1 to be string, <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> given <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_0HYwi9:3 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_CjotyX(52): require() #1 {main} thrown on line 3</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span>(strict_types = <span class="hljs-number"><span class="hljs-number">1</span></span>); strlen(<span class="hljs-string"><span class="hljs-string">'42'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/ru/funcref.php">Reference Standard Functions</a> <br>  2. <a href="https://www.youtube.com/watch%3Fv%3DiM5Ku3ZCMD4">Built-in functions in PHP</a> <br>  3. <a href="http://php.net/manual/ru/extensions.alphabetical.php">Built-in PHP extensions</a> <br>  4. <a href="http://php.net/manual/ru/book.spl.php">Standard PHP Library (SPL)</a> <br><br><h4><a name="s19"></a>  <b>Exercise 19</b> .  The strict_types directive should be the first line </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span>(strict_types = <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><br><pre> <code class="bash hljs">//  strict_types declaration must be the very first statement <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the script on line 5</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span>(strict_types = <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/en/control-structures.declare.php">declare is used to set execution directives for a code block.</a> <br><br><h4><a name="s20"></a>  <b>Exercise 20</b> .  Now you can specify the type of return value for the function or method.  Specify the return type of the function. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reverse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $string)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">type</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strrev($string); } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> reverse(<span class="hljs-string"><span class="hljs-string">"! pets txeN"</span></span>);</code> </pre><br><pre> <code class="bash hljs">//  Uncaught TypeError: Return value of reverse() must be an instance of <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>, string returned <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_ZcQkYd:5 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_ZcQkYd(8): reverse('! pets txeN') #1 /tmp/__hoa_7JLJ4t(52): require('/tmp/__hoa_ZcQk...') #2 {main} thrown on line 5</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reverse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $string)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strrev($string); } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> reverse(<span class="hljs-string"><span class="hljs-string">"! pets txeN"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/ru/functions.returning-values.php">Return Values</a> <br>  2. <a href="http://stackoverflow.com/questions/6018463/whats-the-difference-between-return-and-no-return">What is the difference between return and non return value in PHP?</a> <br>  3. <a href="http://stackoverflow.com/questions/23371432/what-is-the-performance-overhead-of-type-hinting-in-php">Do we win in performance if we suggest functions to the expected type in PHP?</a> <br>  4. <a href="http://stackoverflow.com/questions/12834666/convention-of-setting-return-type-in-php-boolean-functions">Are there any rules for the return value of a custom Boolean function?</a> <br><br><h4><a name="s21"></a>  <b>Exercise 21</b> .  By default, PHP will throw the expected type.  Correct the return type of the function. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// : function foo(): int { return 5.5; } echo foo(); // 5 function add(float $a, float $b): int { return $a + $b; } //    if(add(5.3, 5.3) === 10.6) { echo 'Next step !'; }</span></span></code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $a, float $b)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a + $b; } <span class="hljs-comment"><span class="hljs-comment">// Modify the right operand. if(add(5.3, 5.3) === 10) { echo 'Next step !'; } //  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/return_types">Return by reference</a> <br>  2. <a href="http://php.net/manual/ru/language.references.php">Reference Guide</a> <br><br><h4><a name="s22"></a>  <b>Exercise 22</b> .  The definition of an inherited class must return the same type of its parent. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Child</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChildB</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Child</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Child</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChildB</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChildB; } } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>;</code> </pre><br><pre> <code class="bash hljs">//  Declaration of B::foo(): ChildB must be compatible with A::foo(): Child on line 17</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Child</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChildB</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Child</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Child</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Child</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChildB; } } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://habrahabr.ru/post/37576/">A bit about inheritance and redefinition of methods than about polymorphism</a> <br>  2. <a href="https://habrahabr.ru/post/37610/">What polymorphism really is.</a>  <a href="https://habrahabr.ru/post/37610/">In PHP, it also exists</a> <br>  2. <a href="https://wiki.php.net/rfc/return_types">When the subtype overlaps the parent method, the type of the returned child method must exactly match the parent</a> <br>  4. <a href="http://phpenthusiast.com/object-oriented-php-tutorials">Excellent educational course on learning OOP in PHP</a> <br><br><h4><a name="s23"></a>  <b>Exercise 23</b> .  Now you can use a unicode sequence to describe characters. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//    if("\?{26C4}" === '') { echo "Next step !"; }</span></span></code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// Modify the left operand. if("\u{26C4}" === '') { echo "Next step !"; } //  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://habrahabr.ru/post/135913/">Unicode</a> <br>  2. <a href="http://stackoverflow.com/questions/6058394/unicode-character-in-php-string">Unicode characters in a PHP string</a> <br>  3. <a href="https://wiki.php.net/rfc/unicode_escape">Unicode control (escape-) sequence support</a> <br><br><h4><a name="s24"></a>  <b>Exercise 24</b> .  A new option has been added to the standard unserialize () function, now it is allowed to specify classes.  Specify the class in the unserialize () function </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> </span></span>{ } $myClassSerialized = serialize(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyClass()); $myClass = unserialize( $myClassSerialized, [<span class="hljs-string"><span class="hljs-string">"allowed_classes"</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">''</span></span>]] ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($myClass <span class="hljs-keyword"><span class="hljs-keyword">instanceOf</span></span> MyCLass) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; }</code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> </span></span>{ } $myClassSerialized = serialize(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyClass()); $myClass = unserialize( $myClassSerialized, [<span class="hljs-string"><span class="hljs-string">"allowed_classes"</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'MyClass'</span></span>]] ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($myClass <span class="hljs-keyword"><span class="hljs-keyword">instanceOf</span></span> MyCLass) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/secure_unserialize">unserialize</a> <br>  2. <a href="http://stackoverflow.com/questions/8641889/how-to-use-php-serialize-and-unserialize">How to use serialize () and unserialize () in PHP?</a> <br>  3. <a href="http://php.net/manual/ru/language.operators.type.php">Operator type check</a> <br><br><h4><a name="s25"></a>  <b>Exercise 25</b> .  Delegation of generators allows returning another iterable structure - be it an object, an array, an iterator, or another generator.  Turn on the generator another generator </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 'yield'  ¬´           yield 2; //      } function subGenerator() { yield 3; yield 4; yield "Next step !"; } $generator = generator(); foreach($generator as $value) { echo $value.PHP_EOL; }</span></span></code> </pre><br><pre> <code class="bash hljs">//  1 2</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> from subGenerator(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subGenerator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } $generator = generator(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($generator <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $value) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $value.PHP_EOL; } <span class="hljs-comment"><span class="hljs-comment">//  1 2 3 4 Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://stackoverflow.com/questions/8641889/how-to-use-php-serialize-and-unserialize">Support for generators and coroutines: the essence of the generator is that it is a function that returns not just one value, but a sequence of values</a> <br>  2. <a href="https://habrahabr.ru/post/189796/">Generators in action</a> <br>  3. <a href="http://ruseller.com/lessons.php%3Frub%3D37%26id%3D2690">Save memory using generators</a> <br>  4. <a href="https://wiki.php.net/rfc/generator-delegation">Delegation of generators</a> <br>  5. <a href="http://ru-php.livejournal.com/1566325.html">About resource leaks in PHP generators</a> <br><br><h4><a name="s26"></a>  <b>Exercise 26</b> .  You can use short circuits in functions.  New interpreter running from left to right </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; }; } <span class="hljs-comment"><span class="hljs-comment">//    foo   </span></span></code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; }; } <span class="hljs-comment"><span class="hljs-comment">// : $foo = foo(); $foo(); foo()(); //  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BD%25D0%25BE%25D0%25BD%25D0%25B8%25D0%25BC%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F">Anonymous function (lambda function)</a> <br>  2. <a href="http://webnotes.by/docs/php/240">Anonymous functions (closures) in PHP: not to be confused with closures in JavaScript</a> <br>  3. <a href="https://habrahabr.ru/post/147620/">Applying closures in PHP</a> <br><br><h4><a name="s27"></a>  <b>Exercise 27</b> .  Correct the syntax to call the $ c variable from $ a </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $a = [<span class="hljs-string"><span class="hljs-string">'b'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'c'</span></span>]; $c = <span class="hljs-string"><span class="hljs-string">'Next step !'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    Next step !  PHP5 echo $$a['b'];</span></span></code> </pre><br><pre> <code class="bash hljs">//  Undefined variable: Array on line 7</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $a = [<span class="hljs-string"><span class="hljs-string">'b'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'c'</span></span>]; $c = <span class="hljs-string"><span class="hljs-string">'Next step !'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> ${$a[<span class="hljs-string"><span class="hljs-string">'b'</span></span>]}; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/uniform_variable_syntax">Universal syntax</a> <br><br><h4><a name="s28"></a>  <b>Exercise 28</b> .  Now, to catch an exception, you must use the Error class. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//    undefinedFunction(); } catch(Exception $e) { echo "Next step !"; }</span></span></code> </pre><br><pre> <code class="bash hljs">//  Uncaught Error: Call to undefined <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> undefinedFunction() <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_PaBzqc:4 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_SQZOZG(52): require() #1 {main} thrown on line 4</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { undefinedFunction(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(Error $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0_%25D0%25B8%25D1%2581%25D0%25BA%25D0%25BB%25D1%258E%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9">Exception handling</a> <br>  2. <a href="http://ru.stackoverflow.com/questions/140546/%25D0%2597%25D0%25B0%25D1%2587%25D0%25B5%25D0%25BC-%25D0%25BD%25D1%2583%25D0%25B6%25D0%25BD%25D0%25B0-%25D0%25BE%25D0%25B1%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0-%25D0%25B8%25D1%2581%25D0%25BA%25D0%25BB%25D1%258E%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9">Why do we need exception handling?</a> <br>  3. <a href="http://php.net/manual/ru/language.exceptions.php">Exceptions in PHP</a> <br>  4. <a href="https://habrahabr.ru/post/261451/">Throwable exception and errors in PHP 7</a> <br><br><h4><a name="s29"></a>  <b>Exercise 29</b> .  You can also use the TypeError class to handle exceptions. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span>(strict_types = <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $a, int $b)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a + $b; } <span class="hljs-comment"><span class="hljs-comment">// Catch the TypeError try { echo add('1', '1'); } catch(Exception $e) { echo "Next step !"; }</span></span></code> </pre><br><pre> <code class="bash hljs">//  Uncaught TypeError: Argument 1 passed to add() must be of the <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, string given, called <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_FvS6wW on line 12 and defined <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_FvS6wW:5 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_FvS6wW(12): add('1', '1') #1 /tmp/__hoa_kfhSdT(52): require('/tmp/__hoa_FvS6...') #2 {main} thrown on line 5</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span>(strict_types = <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $a, int $b)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a + $b; } <span class="hljs-comment"><span class="hljs-comment">// Catch the TypeError try { echo add('1', '1'); } catch(TypeError $e) { echo "Next step !"; } //  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://trowski.com/2015/06/24/throwable-exceptions-and-errors-in-php7/">Types of exceptions in PHP</a> <br><br><h4><a name="s30"></a>  <b>Exercise 30</b> .  Use Throwable to catch exceptions and errors (common Errors, Exceptions interface) </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//    CallErrorAndException try { if(random_int(0, 1) === 1) { throw new Exception(''); } undefined(); } catch(CallErrorAndException $e) { echo "Next step !"; }</span></span></code> </pre><br><pre> <code class="bash hljs">//  Undefined offset: -1 on line 55</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(random_int(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) === <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">''</span></span>); } undefined(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(Throwable $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://habrahabr.ru/post/130597/">Exception! = Error</a> <br>  2. <a href="https://mofsy.ru/349-isklyucheniya-v-php-7.html">Using Throwable</a> <br>  3. <a href="https://3v4l.org/ORXUi">Example of division by zero</a> <br><br><h4><a name="s31"></a>  <b>Exercise 31</b> .  Use DivisionByZeroError when dividing by zero </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">10</span></span> % <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(CatchError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; }</code> </pre><br><pre> <code class="bash hljs">//  Uncaught DivisionByZeroError: Modulo by zero <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_46SBwZ:5 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_UQ8f3n(52): require() #1 {main} thrown on line 5</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">10</span></span> % <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(DivisionByZeroError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/en/class.divisionbyzeroerror.php">DivisionByZeroError</a> <br><br><h4><a name="s32"></a>  <b>Exercise 32</b> .  Do not use hexadecimal numbers in strings. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// var_dump(12 == "0xC"); // true  PHP 5 // var_dump(12 == "0xC"); // false  PHP 7 //    if('0x2A' == 42) { echo "Next step !"; }</span></span></code> </pre><br><pre> <code class="bash hljs">// </code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-number"><span class="hljs-number">0x2A</span></span> == <span class="hljs-number"><span class="hljs-number">42</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://habrahabr.ru/post/259497/">Type casting in PHP == stool with two legs?</a> <br>  2. <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2582%25D0%25B8%25D0%25BF%25D0%25B0">Type cast</a> <br>  3. <a href="https://wiki.php.net/rfc/remove_hex_support_in_numeric_strings">Removed support for hexadecimal numbers in strings</a> <br><br><h4><a name="s33"></a>  <b>Exercise 33</b> .  Explicitly returning the final value of the generator allows you to process the value directly in the code calling the generator </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//  Generator::getReturn()     function generator() { yield 21; yield 21; return true; } $generator = generator(); foreach($generator as $number) { } if($generator-&gt;callReturn() === true) { echo "Next step !"; }</span></span></code> </pre><br><pre> <code class="bash hljs">//  Uncaught Error: Call to undefined method Generator::callReturn() <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /tmp/__hoa_eOhq2B:14 Stack trace: <span class="hljs-comment"><span class="hljs-comment">#0 /tmp/__hoa_sa29ov(52): require() #1 {main} thrown on line 14</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } $generator = generator(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($generator <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $number) { } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($generator-&gt;getReturn() === <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://wiki.php.net/rfc/generator-return-expressions">Return the final value</a> <br><br><h4><a name="s34"></a>  <b>Exercise 34</b> .  Unable to get final value if inner pointer does not point to it. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } $generator = generator(); $generator-&gt;next(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $generator-&gt;getReturn();</code> </pre><br><pre> <code class="bash hljs">//  // caught: Cannot get <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> value of a generator that hasn<span class="hljs-string"><span class="hljs-string">'t returned</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Next step !"</span></span>; } $generator = generator(); $generator-&gt;next(); $generator-&gt;next(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $generator-&gt;getReturn(); <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="https://toster.ru/q/247672">How to say in Russian the word yield ???</a> <br><br><h4><a name="s35"></a>  <b>Exercise 35</b> .  You cannot use the same argument names in the function prototype. </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a, $a)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a; } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> foo(<span class="hljs-string"><span class="hljs-string">"Next "</span></span>, <span class="hljs-string"><span class="hljs-string">"step !"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  PHP5: step !</span></span></code> </pre><br><pre> <code class="bash hljs">//  Redefinition of parameter <span class="hljs-variable"><span class="hljs-variable">$a</span></span> on line 4</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a, $b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $a . $b; } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> foo(<span class="hljs-string"><span class="hljs-string">"Next "</span></span>, <span class="hljs-string"><span class="hljs-string">"step !"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/ru/functions.arguments.php">Function Arguments</a> <br><br><h4><a name="s36"></a>  <b>Exercise 36</b> .  Now you can create an array (group) of constants </h4><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $conf = [ <span class="hljs-string"><span class="hljs-string">'user'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'root'</span></span>, <span class="hljs-string"><span class="hljs-string">'password'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'my_password'</span></span>, <span class="hljs-string"><span class="hljs-string">'step'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Next step !'</span></span> ]; <span class="hljs-comment"><span class="hljs-comment">//  CONFIGURATION   echo CONFIGURATION['step'];</span></span></code> </pre><br><pre> <code class="bash hljs">//  /* * &lt;br /&gt; * &lt;b&gt;Warning&lt;/b&gt;: Illegal string offset <span class="hljs-string"><span class="hljs-string">'step'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;b&gt;/tmp/__hoa_dBF385&lt;/b&gt; on line &lt;b&gt;11&lt;/b&gt;&lt;br /&gt; */</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $conf = [ <span class="hljs-string"><span class="hljs-string">'user'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'root'</span></span>, <span class="hljs-string"><span class="hljs-string">'password'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'my_password'</span></span>, <span class="hljs-string"><span class="hljs-string">'step'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Next step !'</span></span> ]; define(<span class="hljs-string"><span class="hljs-string">'CONFIGURATION'</span></span>, $conf); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> CONFIGURATION[<span class="hljs-string"><span class="hljs-string">'step'</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//  Next step !</span></span></code> </pre><br></div></div><br><br><h5>  <b>To read:</b> </h5><br>  1. <a href="http://php.net/manual/ru/language.constants.php">Constants</a> <br>  2. <a href="http://php.net/manual/ru/language.constants.predefined.php">"Magic" constants</a> <br>  3. <a href="http://stackoverflow.com/questions/2447791/define-vs-const">define () vs const</a> </div><p>Source: <a href="https://habr.com/ru/post/302942/">https://habr.com/ru/post/302942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../302924/index.html">Preparing an arbitrary LTE modem for working with a SIM card for a Yota modem using the example of Huawei E3272</a></li>
<li><a href="../302926/index.html">Ways to generate a numeric sequence (data) in MySQL</a></li>
<li><a href="../302930/index.html">We analyze how successful employment and salary depend on the university, specialty and region</a></li>
<li><a href="../302932/index.html">Automating code checking or some more about pre-commit hooks</a></li>
<li><a href="../302936/index.html">The theory of graphs in the Game of Thrones</a></li>
<li><a href="../302944/index.html">CleverStyle Framework 4 Release</a></li>
<li><a href="../302946/index.html">Not a single iron: IBM Software Defined Storage</a></li>
<li><a href="../302950/index.html">C # client generation for Wargaming API</a></li>
<li><a href="../302952/index.html">20 most notable events in the history of backup and recovery</a></li>
<li><a href="../302954/index.html">Reduce the pain in the navigation of the application on Yii2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>