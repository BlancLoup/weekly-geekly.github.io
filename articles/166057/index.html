<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The first game I just wrote for myself</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Post nostalgia for toys that we wrote for ourselves in childhood. 
 Climbing across the expanses of the App Store, looking for another toy for my iPad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The first game I just wrote for myself</h1><div class="post__text post__text-html js-mediator-article">  <i>Post nostalgia for toys that we wrote for ourselves in childhood.</i> <br>  Climbing across the expanses of the App Store, looking for another toy for my iPad, I came across an old toy ‚ÄúPilot Brothers‚Äù.  Immediately bought, set and passed in one breath (probably already 3 times).  But most of all lingered on the episode with the refrigerator.  This puzzle hurts me. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8d1/037/b8e/8d1037b8e6f990649b53772693541268.png"><br><br>  And suddenly I remembered that even during my school years, after going through the refrigerator, the puzzle covered me so much that I wrote my own toy on pascal - a puzzle emulator.  But she did not just repeat the original game, but allowed to choose the size of the field, had a help, the ability to save and continue the game from the last place after the release. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Raising old backups, I found the original game.  I started it in the dosbox and disappeared for the outside world for a couple of hours. <br><a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/habr/post_images/572/e2b/2e6/572e2b2e6e390e22c2f0e9ee8cf82820.png"><br>  <b>The original puzzle, notice the open left column and the position of the valves</b> <br><br><h4>  What is the point? </h4><br><br>  The essence of the puzzle is quite simple.  There is a 4-by-4-valve field; all valves on the refrigerator should be placed in a horizontal position.  ‚ÄúBut there is a nuance‚Äù (c): when you turn the valve, all the valves in the column and row in which the valve is located turn with it.  And then the fun begins! <br>  When I first sat down for this puzzle in the original quest, playing while still in school, I passed it, probably 40 minutes, no less.  But I liked her so much that I played it, played and played, and played ... <br>  But I wanted more: the ability to save the gameplay, generate different levels and change the size of the field to understand the algorithm of the game. <br>  Then I realized that if I like the puzzle, and I want to try different scales of the playing field, then you should not wait for the weather by the sea.  There is only one way out - to realize this game yourself. <br><br><h4>  Well, let's get started! </h4><br><br>  I can not accurately determine the date of the creation of the game, but this is exactly the end of the school, the beginning of the institute.  In those years, I perfectly owned pascal.  At the institute he solved problems for money, helped write cursors and in general it was a great logical language.  Therefore, it was decided to write a toy on it. <br>  Despite the fact that I knew how to implement graphics in DOS, I decided not to make a graphical application.  This is due to the fact <s>that it would be terribly buggy and slowed down</s> that, firstly, I wanted to implement this application as quickly as possible, and the implementation of graphics would take a lot of time;  and secondly, I like the text view more.  While looking back, it seems to me that I would be better if I did the graphics and added support for the mouse. <br>  The task was simple: to make a simple elegant game, which would not be ashamed to show.  Of the possibilities: help, the ability to save and after launching the continuation of the game from the moment it was stopped, the ability to change the size of the playing field.  Plus a little color and grace. <br><br><h4>  Implementation </h4><br><br>  I will not fully understand the source code and the logic of the entire program, because they are obvious, and what is not clear from the code.  But I‚Äôll focus on a couple of moments in more detail. <br>  The basis of the game is a text array of NxN elements, where N can be equal to 2, 4, 8 and 16. The array is filled with only two characters X and Y. The position of the cursor is the position of the current element of the array i and j.  When the array element is inverted, X is replaced by Y and Y by X with the column and row of the array.  Well, plus there are hot keys (F1-F4, F10) that allow you to call Help, Save / load, create and exit.  Everything is clear here, and how to implement simply and we will not dwell on this in detail. <br><br>  From the cognitive point of view, the <i>WRIFT</i> procedure is of the greatest interest. * <br><br><div class="spoiler">  <b class="spoiler_title">* - note why wrift</b> <div class="spoiler_text">  In those days, as an economy, sms were written in transliteration.  As we remember the letter ‚Äú <i></i> ‚Äù is replaced by the combination ‚Äú <i>sh</i> ‚Äù, but to save space, I replaced it with an unused letter with a similar writing ‚Äú <i>W</i> ‚Äù.  Hence the name <i>Wrift</i> (Font).  Similarly, the letter ‚Äú <i>X</i> ‚Äù ( <i>X</i> ) replaced the letter ‚Äú <i>X</i> ‚Äù (Russian ‚Äú <i>ha</i> ‚Äù). <br></div></div><br><br>  Since I decided to use the text mode for the game, I needed a letter that would replace the valve.  What does this letter, which would have shown the valve in a vertical and horizontal position.  The only candidates that are suitable for this purpose are the Latin letters ‚ÄúN‚Äù and ‚ÄúZ‚Äù.  The letter "Z" resembles the laid on the side of the letter N, only stretched. <br>  I tried this option and was not satisfied with it.  And I realized that it was necessary to make something of my own, some kind of alternative solution.  I already thought about writing a graphic version, when I came across the Pascal program <a href="http://narod.ru/disk/65499898001.a6c953f20e2ee023bd00e3518e22fea8/Matrix.pas.html">‚ÄúThe Matrix‚Äù from the author Abrarov A.M.</a>  .  The program starts the same way as the first ‚ÄúMatrix‚Äù - displaying lines, searching for code.  And then hieroglyphic characters begin to pour.  What does it do only in text mode. <br><br><div class="spoiler">  <b class="spoiler_title">A small educational program about the program Matrix.pas</b> <div class="spoiler_text">  The program was very beautiful and elegant for its time.  And then I was very delivered.  The most interesting thing is that the full font is implemented there, for 208 characters!  But I assume that the author took the implementation of a program like our ‚Äúlocalizer‚Äù, only for hieroglyphs and remade it for yourself. <br><br>  True, now in order to make the program work normally, even at dosbox, it is necessary to reduce all delays every 10 (delay), otherwise your grandchildren will wait for the end of work.  Since I am too lazy to alter the program, it is of purely academic interest.  Or maybe someone will remake it and show it to the world, the softphone is beautiful (the more I give a link to the sorts).  And if suddenly its author reads this post, then I give him my words of gratitude. <br></div></div><br><br>  Most importantly, in that program, for ‚Äúcracking‚Äù your font is implemented!  And it is loaded.  I borrowed this loading procedure, of course, by slightly changing it. <br>  A few words about working with fonts. <br><br><blockquote>  In MS-DOS, BIOS tools support working with raster fonts.  The BIOS functions allow you to get and install custom fonts, as well as get fonts from the video display character generator.  All installed fonts have the same width of 8 points, and the height can have three fixed values ‚Äã‚Äã- 8, 14 or 16 points.  The specific font height is determined by the video mode for which the font is loaded.  The font height of 8 points corresponds to the video mode with 50/43 lines, the height of 14 points to the video mode with 25 lines for EGA, and the height of 16 points to the VGA video mode with 25 lines. </blockquote><br><br>  Taken <a href="http://shackmaster.narod.ru/fonts.htm">from here</a> <br><br>  We will use the video mode 16 colors 40x25 characters.  In this video mode, each character is an array of 8x16 points.  Simply put, each character is 16 bytes, where in a byte a bit set to one means that it is painted black.  If you now have a mess in your head, do not worry - it will become clearer. <br>  To indicate a closed (vertical) valve, the letter ‚ÄúX‚Äù was chosen (Latin capital letter ‚ÄúX‚Äù) and for the open horizontal letter ‚ÄúY‚Äù (Latin capital letter ‚ÄúIgrek‚Äù).  The choice was made on these letters for several reasons.  Firstly, they are familiar from the school curriculum and at the hearing.  Secondly, and more importantly, they are in a row in the ASCII character table in a row (88d and 89d position, respectively), which simplifies their replacement.  And the Latin ones are chosen so that you can make the menu in Russian, without reloading the font. <br>  So, we decided on the symbols, now let's move on to their clothes, aka font.  We take a sheet of paper in a cage, and make it a field of 8x16 and proceed to drawing the symbol of the horizontal and then the vertical valve.  Since the valve must be the same in both vertical and horizontal state, we will use only the first 8 lines to get a square.  And then we draw in this field two valves, vertically and horizontally.  It should be something like this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd0/569/06c/bd056906c07ee84021bd9093a3db278a.png"><br>  <b>Font two gates</b> <br><br>  Further, the black box is denoted by one, white is zero.  And form 8 bytes.  Then we translate them into decimal format and form an array.  First, 8 bytes of a character, then 8 bytes of zeros (we left the basement empty), we repeat this procedure for the second character. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c84/3c7/be3/c843c7be3409f9fb3299a237d7531741.png"><br>  <b>Binary Codes Table and Decimal Translated</b> <br><br>  As a result, we get the following procedure header: <br><br><pre><code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WRIFT</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-comment"><span class="hljs-comment">{Zagruzka shrifta ("pesochnye chasy")}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Const</span></span> Font:<span class="hljs-keyword"><span class="hljs-keyword">array</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>..<span class="hljs-number"><span class="hljs-number">32</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Byte=(<span class="hljs-number"><span class="hljs-number">129</span></span>,<span class="hljs-number"><span class="hljs-number">195</span></span>,<span class="hljs-number"><span class="hljs-number">231</span></span>,<span class="hljs-number"><span class="hljs-number">153</span></span>,<span class="hljs-number"><span class="hljs-number">153</span></span>,<span class="hljs-number"><span class="hljs-number">231</span></span>,<span class="hljs-number"><span class="hljs-number">195</span></span>,<span class="hljs-number"><span class="hljs-number">129</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">102</span></span>,<span class="hljs-number"><span class="hljs-number">36</span></span>,<span class="hljs-number"><span class="hljs-number">24</span></span>,<span class="hljs-number"><span class="hljs-number">24</span></span>,<span class="hljs-number"><span class="hljs-number">36</span></span>,<span class="hljs-number"><span class="hljs-number">102</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Var</span></span> SegScr:Word; OfsScr:Word; screen1:<span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> [<span class="hljs-number"><span class="hljs-number">0</span></span>..<span class="hljs-number"><span class="hljs-number">512</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Byte <span class="hljs-keyword"><span class="hljs-keyword">absolute</span></span> Font;</code> </pre> <br><br>  Font is an array of two valve symbols (each character on its own line).  The most interesting variable is the array screen1 - the array, which is located at the absolute address of the variable Font ( <u>absolute</u> directive).  Next comes the most interesting. <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> ofsscr:=ofs(screen1); segscr:=seg(screen1); <span class="hljs-keyword"><span class="hljs-keyword">Asm</span></span> push bp mov ax,segscr mov es,ax mov bp,ofsscr mov bx,<span class="hljs-number"><span class="hljs-number">1000</span></span>h mov dx,<span class="hljs-number"><span class="hljs-number">88</span></span> <span class="hljs-comment"><span class="hljs-comment">{s kakogo simvola na4at' zapis' 88d-X,89d-Y}</span></span> mov cx,<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-comment"><span class="hljs-comment">{koli4estvo simvolov}</span></span> mov ax,<span class="hljs-number"><span class="hljs-number">1100</span></span>h int <span class="hljs-number"><span class="hljs-number">10</span></span>h pop bp mov ah,<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">{ustanovit videorezhim txt, tsvetnoj (16 cvetov) 40x25 }</span></span> mov cx,<span class="hljs-number"><span class="hljs-number">1000</span></span>h int <span class="hljs-number"><span class="hljs-number">10</span></span>h <span class="hljs-keyword"><span class="hljs-keyword">End</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;<span class="hljs-comment"><span class="hljs-comment">{WRIFT}</span></span></code> </pre><br><br>  As is clear from the lines above, we load the ES segment into the register, and into the BP register the address offset is the location of our font.  With the mov bx, 1000h command we say that we have 16 lines in the font (the number 10h = 16d is loaded into BH, and BL = 0). Next, in the DX register we load the character number from which we start changing the font.  And in CX - the number of characters replaced.  We load into the register AX - the number of the BIOS function for changing the font, and cause a BIOS interrupt.  Then we restore the BP register and in the same way set the video adapter mode.  Details described here: <a href="http://shackmaster.narod.ru/fonts.htm">shackmaster.narod.ru/fonts.htm</a> .  For a better understanding of the structure of fonts, it will be better to read this site. <br><br>  So here is a simple way, you can change the entire font in dos on your own.  To unload the font, use the Restore procedure: <br><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">Procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Restore</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-comment"><span class="hljs-comment">{Sbros shrifta}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">asm</span></span> mov ax,<span class="hljs-number"><span class="hljs-number">3</span></span> int <span class="hljs-number"><span class="hljs-number">10</span></span>h <span class="hljs-keyword"><span class="hljs-keyword">End</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">End</span></span>;<span class="hljs-comment"><span class="hljs-comment">{Restore}</span></span></code> </pre><br><br>  Which is performed when displaying the menu and exiting the program. <br><br>  By the way, for reference, the so-called ‚Äúlocators‚Äù worked in the same way in DOS.  They simply replaced the current font with a font with Russian letters. <br><br><div class="spoiler">  <b class="spoiler_title">One of the jokes</b> <div class="spoiler_text">  One of my <a href="http://habrahabr.ru/users/termi/" class="user_link">friends</a> , specifically, <a href="http://habrahabr.ru/users/termi/" class="user_link">termi</a> , when he studied programming in Borland C ++, made the font in the form of a MHP, also using the example from ‚ÄúThe Matrix‚Äù.  Those.  just replaced all the characters with a single character MPH.  Norton Commander looked scary!  Sorry for pictures from that time left. <br>  Such a program would run on computer science, then the teacher would be happy. <br></div></div><br><br><h4>  Modifications today </h4><br><br>  In fact, the game I give is not in the form in which it was written many years ago.  It found very unpleasant shoals: <br>  1. The program just crashed if the GAME.SAV file was not detected; <br>  2. The random number generator was not initialized, so it always generated the same level. <br>  Plus, due to problems with encodings, I created a second version of the game, completely in English.  And if you read the source code in a non-DOS-compatible editor, I recommend using its source code - there will be no problems with encoding. <br><br>  So it is gratifying that DOSbox is everywhere, I personally edited most of the program on iPAD in the subway.  Can you imagine how funny pepper looks with an ipad, and Borland Pascal open on it? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/457/9b6/e53/4579b6e53823b6855478e28024925ee9.jpg"><br>  <b>Good old Borland Pascal on iPAD</b> <br><br>  So shoals promptly corrected. <br><br><h4>  Several screenshots of the program, with a brief description </h4><br><br>  For those who do not have the ability or desire to play the game, here are some key screenshots of the game. <br>  After launch, we have a playing field with the last saved game <br><br><img src="https://habrastorage.org/getpro/habr/post_images/678/a63/ff9/678a63ff95076cbbee9a63388fc28a8d.png"><br>  <b>Start</b> <br><br>  The cursor is highlighted and flashing. <br><br>  If you press F1, you can get such a simple help <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a0c/8e4/0b5/a0c8e40b5ea18bf7208bfbfb0d11a819.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/edc/e5a/218/edce5a218988d49bbcd55b2f04964e4f.png"><br>  <b>HELP</b> <br><br>  To generate a level, press F4 and get into this menu. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a3/8b6/d3e/9a38b6d3eff888f1acd8b3f809ae6c16.png"><br>  <b>Level generation menu</b> <br><br>  Well, after winning the game will congratulate you <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee5/846/89b/ee584689bf6e41f64141884e6f74142e.png"><br>  <b>Congratulations on winning</b> <br><br>  And will wait for pressing any key.  In this case, the progress of the game is not saved. <br><br><h4>  How to install and play </h4><br><br>  Due to the features and the use of font download, igruha works only in a clean tube dos.  According to this, for its work it is necessary to use dosbox or a similar program. <br>  Installation is trivial.  Download the <a href="http://narod.ru/disk/65499856001.6f143511c7c3c2ad7866f07008d8db29/INVERTOR.zip.html">archive with the program</a> .  Install <b>dosbox</b> .  And, if you want, Russify it, the linux method is: <a href="http://old-game.org/%3Fp%3D1717">old-game.org/?p=1717</a> . <br>  In principle, all these files can also be used for Windows: For this, the file russian.txt is placed in the folder with the program and the config, and the label for the dosbox is edited.  There should be something like this in the path of the shortcut: ‚Äú <i>‚Äú C: \ Program Files \ DOSBox-0.74 \ DOSBox.exe ‚Äù-userconf‚Äù</i> Remove <i>‚Äú-userconf‚Äù</i> and your config will work. <br><br>  In Ubuntu, I just right-click on the program and choose to run it in dosbox, as in Windows, I do not know, because it is not on any of the machines.  Well, in the extreme case, the path to the game is mounted, with the mount command, the path. <br>  You have a choice of Russian and English version.  You can not fool with Russification and hemorrhoids with configs, but simply bullet into English.  There is practically no difference between them.  Although, personally, as an author, I prefer the Russian version. <br>  The control is performed using the keyboard arrows, selecting and inverting with the insert key or by double pressing the spacebar (yes, there is a cant).  If you suddenly pick a position, press the space button once. <br><br>  Remember that each time the last saved game is loaded.  To generate a new one, press F4.  I recommend starting with a 4x4 field.  I'm playing 8x8 now, and for now I'm afraid to switch to 16x16.  For 4x4 I pass in less than a minute, 8x8 minutes in 7-10, and I'm afraid to even imagine 16x16. <br>  Remember that the boot field labeled HABR and my nickname (picture in the entry point of the article) will disappear after saving or legal exit.  It is stored in the file <i>GAME.SAV</i> .  If you want to restore, then replace this file with a file from the archive. <br><br><div class="spoiler">  <b class="spoiler_title">Field specifically for Habr</b> <div class="spoiler_text">  I did not want to just let the game start, even if it was completed and finished for the habr.  I wanted some kind of chip.  And I decided to make an inscription in the largest field 16x16. <br>  The format of the save file is simple: the beginning is the size of the field, for example, the number 16, the carriage return, then 256 (for the 16x16 field) X and Y characters that make up the field drawing, and at the end the number of Y in the field (such a checksum). <br>  To do this, I formed such a field in OF Calc, made a color in the cells in color.  And then put down the letters X and Y, respectively. <br><img src="https://habrastorage.org/getpro/habr/post_images/816/720/a9f/816720a9f901ec2bd102800b4f39a323.png"><br>  <b>Preparation for the field.</b> <br><br>  Then saved it to CSV.  Removed all delimiters.  I counted the number of Y (very simple, you make a search in OF Writer, replace it with and replace Y with a thread, it says the number of replacements is the desired number).  Put the number 16 first, the carriage transfer and at the end the number of players.  You can evaluate the result yourself :). <br></div></div><br><br><h4>  Disadvantages of the current version of the program. </h4><br><br>  I wrote the current version ... It is unlikely that I will rewrite the program and improve it, because it is terribly outdated.  But on the other hand, now dosbox can almost be put on a flashlight, so it can gain a new life, and it may be worth rewriting and correcting the main flaws. <br><br><h5>  So: </h5><br>  1. The first, and most unpleasant, flaw is poor management.  Firstly, the invert goes with the Insert key, or double space.  With that, if you press the space an odd number of times, the program ‚Äústicks‚Äù until you make an even number of clicks.  It is annoying. <br>  2. The second major drawback is drawing the entire game using the write / writeln functions.  At each event, the screen is redrawn anew.  When playing on a 16x16 field, brakes and flash flashes are already noticeable.  Plus, this approach has complicated the logic of the program, and now it is a huge problem to fix. <br>  It was necessary to implement the drawing using the function goto (x; y);  Then it would be possible to change a single character without redrawing the entire screen. <br>  3. The game just asks for mouse support.  Again, mouse support needs to be implemented a couple of paragraph 2, so that you can accurately ‚Äúcatch‚Äù the coordinates. <br>  4. A minor bug that follows from step 2 - when you go down to the lower right corner, one character runs out of the frame.  I tried to fix it, and I realized that it‚Äôs easier to rewrite this place of drawing at all, than to figure out how it works. <br><br><h4>  What I would like to do </h4><br><br>  Of course, I would like such an application under the bucket or iPad.  To be able to play it with your finger.  Or, if not an application, then a browser-based toy (but one that works on Android and iOS).  That there was a beautiful menu and easy navigation.  There was a table of records.  There was a time counter that you could brave with friends.  There was also statistics so that you can estimate the average time and speed of the skill. <br>  In general, a huge flight for creativity, in the absence of free time to learn programming for these devices.  On the other hand, dosbox is everywhere, and probably more universal portability will be difficult to achieve, and can it make sense to finish this program?  What do you think? <br><br><h4>  Results ... </h4><br><br>  The purpose of the article is not to show how good I am, but just to remember how it was.  Surely almost every one of us wrote something like this in childhood.  This is not ah what a difficult program, and it can be written by each student, with sufficient perseverance.  Here, rather, post memory. <br>  I used to use assembler a lot in programs.  I liked to ‚Äútalk‚Äù with the iron directly, without intermediaries.  I felt the car better.  And even then, for AVR, I wrote exclusively in assembly language.  And now I do not understand how a computer functions.  Of course, I present the basic blocks, etc., but I don‚Äôt know the detailed picture, and the funny thing is that no one knows it! <br>  And now ... Languages ‚Äã‚Äãof high and super high levels of abstraction generally force us not to think about how and where the code is executed.  This is undoubtedly good, because they allow you to focus directly on the task, but on the other hand that warm lamp charm of working with iron goes away ... <br><br><h5>  References and references: </h5><br>  1. Description of how to load a font under DOS <a href="http://shackmaster.narod.ru/fonts.htm">shackmaster.narod.ru/fonts.htm</a> <br>  2. An excellent guide to assembler, which gave me an understanding of how to work with the functions of the BIOS, and indeed with the hardware: ‚ÄúProgramming at the hardware level: a special reference.‚Äù Fists <br>  3. DOS emulator dosbox <a href="http://www.dosbox.com/download.php%3Fmain%3D1">www.dosbox.com/download.php?main=1</a> <br>  4. Program and source <a href="http://narod.ru/disk/65499856001.6f143511c7c3c2ad7866f07008d8db29/INVERTOR.zip.html">narod.ru/disk/65499856001.6f143511c7c3c2ad7866f07008d8db29/INVERTOR.zip.html</a> <br>  5. The sources of the ‚ÄúMatrix‚Äù program <a href="http://narod.ru/disk/65499898001.a6c953f20e2ee023bd00e3518e22fea8/Matrix.pas.html">narod.ru/disk/65499898001.a6c953f20e2ee023bd00e3518e22fea8/Matrix.pas.html</a> <br><br>  PS Fuh, I probably remembered a couple of days and googled, how did I make this font.  The code is there, it works, but as I do not remember and do not understand. <br>  PPS If people are interested, I will add a video of how I walk the 4x4 field in less than a minute (using the example of the Pilot Brothers refrigerator). <br>  PPPS I would be grateful for all the comments on spelling and punctuation sent by private message! </div><p>Source: <a href="https://habr.com/ru/post/166057/">https://habr.com/ru/post/166057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../166047/index.html">Developing iOS Ruby Applications</a></li>
<li><a href="../166049/index.html">Navigation in the new version of the Moscow metro scheme for people with impaired color perception</a></li>
<li><a href="../166051/index.html">AnnotatedSQL: schema + content provider</a></li>
<li><a href="../166053/index.html">Localization and globalization</a></li>
<li><a href="../166055/index.html">PicUntu: Ubuntu for a mini PC based on Rockchip RK3066</a></li>
<li><a href="../166059/index.html">PR-manager, as the "steering" ship-company</a></li>
<li><a href="../166061/index.html">Inertia in JavaScript on the example of OL3</a></li>
<li><a href="../166063/index.html">At CES 2013, a laptop powered by a 100-watt USB 3.0 data cable was shown</a></li>
<li><a href="../166065/index.html">Several performance tests Sparkov R500 and R1000 from the MCST</a></li>
<li><a href="../166069/index.html">OPPO on Habr√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>