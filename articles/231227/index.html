<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Attribute deprecated in C ++ 14</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The normal development of any code is the obsolescence of its individual parts (functions, classes, etc.) and their systematic removal from the projec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Attribute deprecated in C ++ 14</h1><div class="post__text post__text-html js-mediator-article">  The normal development of any code is the obsolescence of its individual parts (functions, classes, etc.) and their systematic removal from the project to reduce the complexity and increase the security of the code.  Simply removing something is usually a bad idea ‚Äî it can dramatically break some component that uses the entity being deleted.  A good practice is to mark the outdated code in some way that will allow programmers using it to know that it is scheduled for deletion.  ( <i><b>Approx. Translator</b> - Microsoft invented its <a href="http://msdn.microsoft.com/ru-ru/library/044swk7y.aspx">bicycle</a> for this, and even people sometimes used the #pragma message</i> ). <br><br>  The new standard C ++ 14 introduces the <b>deprecated</b> attribute to mark obsolete entities that are planned to be removed in the future.  The compiler can display warnings whenever you try to use them.  The syntax is fundamentally new for C ++: attributes are supposed to be written as a list, separated by commas, inside double square brackets.  Here is the function marked as deprecated: <br><br><pre><code class="cpp hljs">[[deprecated]] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ foo(); <span class="hljs-comment"><span class="hljs-comment">//       }</span></span></code> </pre> <br><a name="habracut"></a><br>  Other possible attributes: <a href="http://blog.aaronballman.com/2011/09/understanding-attributes/">noreturn, carries_dependency, alignas</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The code above, being compiled by the latest build of clang, gives the following message at the compilation stage: <br><br><pre> <code class="bash hljs">warning: <span class="hljs-string"><span class="hljs-string">'foo'</span></span> is deprecated [-Wdeprecated-declarations] foo(); ^ note: <span class="hljs-string"><span class="hljs-string">'foo'</span></span> has been explicitly marked deprecated here void <span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span></span>() {} ^</code> </pre><br><br>  It is also possible to display your own message: <br><br><pre> <code class="cpp hljs">[[deprecated(<span class="hljs-string"><span class="hljs-string">"use bar instead"</span></span>)]] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} This gives the following warning instead: warning: <span class="hljs-string"><span class="hljs-string">'foo'</span></span> is deprecated: use bar instead [-Wdeprecated-declarations] foo(); ^ note: <span class="hljs-string"><span class="hljs-string">'foo'</span></span> <span class="hljs-function"><span class="hljs-function">has been explicitly marked deprecated here </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} ^</code> </pre><br><br>  The <b>deprecated</b> attribute also applies to classes, typedefs, variables, non-static data members, enumerations, and templates.  Here are a couple of examples: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   [[deprecated]] void foo(); //   [[deprecated]] int x; //        int y [[deprecated]], z; //    int triple([[deprecated]] int x); //     class [[deprecated]] my_class { public: //    [[deprecated]] int member; }; //   enum [[deprecated]] animals { CAT, DOG, MOUSE }; //  typedef [[deprecated]] typedef int type; //    template &lt;typename T&gt; class templ; template &lt;&gt; class [[deprecated]] templ&lt;int&gt; {};</span></span></code> </pre><br>  For those who notice the striking lack of consistency in the placement of attributes (for example, their use after the class and enum keywords), I would say that this is so that you can distinguish the mark of the type itself from the mark of a variable of this type.  For example, the following declaration marks a variable, but not the class itself: <br><br><pre> <code class="cpp hljs">[[deprecated]] <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-class"> {</span></span> } c;</code> </pre><br><br>  The <b>deprecated</b> attribute can be specified only in one entity definition; all the following declarations without this attribute do not remove the <b>deprecated</b> attribute.  It is best to place the attribute in the header file - this will tell all users that the entity is outdated and will be deleted. <br><br>  The attribute is supported starting with Clang 3.4 and GCC 4.9. <br><br>  <i><b>Translator's notes</b> : the attributes that appeared in the C ++ 11 standard gave great promise - a new opportunity to add metadata to functions, classes and other things potentially opened up great opportunities for meta-programming, reflection, testing - in the end C # and Python already proved I really wanted to believe in the real use of such tools of the language, and I personally wanted to believe that C ++ would receive something similar in the future.</i>  <i>Unfortunately, the first attributes entered ( <b>noreturn</b> , <b>carries_dependency</b> , <b>alignas</b> ) were somehow of little use, which spoiled the positive impression of the feature.</i>  <i><b>deprecated</b> - the first, in my opinion, really simple, understandable and necessary for everyone attribute.</i>  <i>I want to believe that this is a step towards further features of the language based on attributes.</i> </div><p>Source: <a href="https://habr.com/ru/post/231227/">https://habr.com/ru/post/231227/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../231211/index.html">This is Science: Putting triboelectricity at the service of humanity</a></li>
<li><a href="../231213/index.html">Why you should never use MongoDB</a></li>
<li><a href="../231215/index.html">Dronie and Cyber-Hand from Navigator Campus on Seliger</a></li>
<li><a href="../231219/index.html">Installing OpenFOAM on Ubuntu 14.04</a></li>
<li><a href="../231225/index.html">How to become an independent game developer</a></li>
<li><a href="../231229/index.html">Using the principles of psychology to increase the conversion of sites. Part 5: Face Effect</a></li>
<li><a href="../231235/index.html">How we created our own terminal network</a></li>
<li><a href="../231239/index.html">Filter for Habrahabr comments in the form of userscript: version 2</a></li>
<li><a href="../231241/index.html">The digest of interesting materials from the world of web development and IT over the past few weeks, ‚Ññ117 (July 10 - 27, 2014)</a></li>
<li><a href="../231243/index.html">Linus Torvalds: GCC 4.9.0 "terminally broken"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>