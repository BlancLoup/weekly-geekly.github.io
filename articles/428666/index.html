<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I created a mood-changing animation using CSS masks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remember the cartoons that we watched in childhood? At the time, they were the personification of animation. Now the animation is not only cartoons, w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I created a mood-changing animation using CSS masks</h1><div class="post__text post__text-html js-mediator-article">  Remember the cartoons that we watched in childhood?  At the time, they were the personification of animation.  Now the animation is not only cartoons, we meet it almost every day, checking the phone or using any device that has a screen. <br><br>  Today, animation is used not only to attract attention, but also to improve user interaction and ease of navigation.  In any good design, the animation is added in such a way that it is combined with the general concept, thereby creating a convenient user interface. <br><br> <a href="https://habr.com/company/poiskvps/blog/428666"><img src="https://habrastorage.org/webt/io/qe/6b/ioqe6bjn5l35asbxmqwjidk8yus.jpeg"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article, we will create a simple face animation with different expressions, and in the process we will learn a little about CSS. <br><a name="habracut"></a><br><h3>  Let's get started </h3><br>  We will use the CSS technique, which is rarely used by web developers, but which designers often use.  It is called masking. <br><br>  What comes to mind when you hear the words "mask"?  Probably, you presented something that hides the essence.  That's all we need to know. <br><br>  Wait - but the article is about writing and using CSS animation ... No panic!  All right! <br><br><h3>  Creating a base mask </h3><br>  Suppose we have a <code>div</code> tag with <code>background: green;</code>  and it looks like this: <br><br><img src="https://habrastorage.org/webt/se/9x/w1/se9xw108f2lpvxnn4tumkgau7ro.png"><br><br>  There is also a <code>face.svg</code> file: <br><br><img src="https://habrastorage.org/webt/n2/j-/fc/n2j-fcwq7-y-zazl8m8fs7mqpd8.png"><br><br>  If we apply the CSS <code>mask-image: url (face.svg);</code> property <code>mask-image: url (face.svg);</code>  to the <code>div</code> tag, you will be amazed to see the result: <br><br><img src="https://habrastorage.org/webt/cq/4f/fb/cq4ffbfhvpq-nneuldmlrhqxr38.png"><br><br>  You might think that this is strange.  The face.svg image was placed on top of the <code>div</code> , but assumed the background color.  This is contrary to our expectations.  This happens because of the <code>mask-type</code> property, which makes the opaque part of svg transparent.  This makes the background color visible. <br><br>  Let's not go deep.  Just keep in mind that you can use <code>background-color</code> to change the color of the mask.  If you are familiar with the different ways of using <code>background-color</code> , you can also apply gradients and write a simple gradient that fills the center with red and radially spreads black around the edges.  The code will look like this: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-webkit-radial-gradient</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">hsla</span></span>(0, 100%, 50%, <span class="hljs-selector-class"><span class="hljs-selector-class">.7</span></span>), <span class="hljs-selector-tag"><span class="hljs-selector-tag">hsla</span></span>(0, 100%, 20%, <span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span>), <span class="hljs-selector-tag"><span class="hljs-selector-tag">hsla</span></span>(0, 100%, 10%, 1));</code> </pre> <br>  The result will be: <br><br><img src="https://habrastorage.org/webt/n5/f0/tk/n5f0tkyshrtsyo8l-5juvy0muus.png"><br><br><h3>  Add animation </h3><br>  Now add an animation to this empty face.  To do this, use <code>expression.svg</code> , which you see in the image below.  For simplicity, I created all the svg files of the same width and height, so I don‚Äôt have to align the faces and expressions manually. <br><br><img src="https://habrastorage.org/webt/9m/zn/2z/9mzn2zfsqhljrnpjvdujksmq0-e.png"><br><br>  Now <code>mask-image</code> has a cool option that allows you to use multiple images as masks.  Therefore, we can do this: <code>mask-image: url (face.svg), url (expression.svg);</code>  .  Here's what happened: <br><br><img src="https://habrastorage.org/webt/ps/qy/cr/psqycrteradocjdumhk7ik1xzvc.png"><br><br>  One of the most important properties of CSS masks is <code>mask-position</code> , thanks to which the mask is located in the upper left corner relative to the parent element.  And I can arrange several masks using the <code>mask-position</code> property in the same way as <code>mask-image</code> .  To make a face sad, use something like this: <code>mask-position: 0 0, 0 12px;</code>  .  That's what happened. <br><br><img src="https://habrastorage.org/webt/ou/wn/k2/ouwnk2ptnvkldhtvts7kc6tke20.png"><br><br>  The first position <code>0 0</code> for <code>face.svg</code> , and the second <code>0 12px</code> - for <code>expression.svg</code> .  This led to a transfer of 12px and gave the face the necessary expression. <br><br><h3>  Application of functionality </h3><br>  Now let's animate these expressions when you hover over.  The full code that we get after applying the hover pseudo-class will be: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">-webkit-radial-gradient</span></span>(hsla(0, 100%, 50%, .7), <span class="hljs-built_in"><span class="hljs-built_in">hsla</span></span>(0, 100%, 20%, .8) <span class="hljs-number"><span class="hljs-number">60%</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">hsla</span></span>(0, 100%, 10%, 1)); <span class="hljs-attribute"><span class="hljs-attribute">mask-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'face.svg'</span></span>), <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'expression.svg'</span></span>); <span class="hljs-attribute"><span class="hljs-attribute">mask-position</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">12px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* To make the sad expression */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: mask-position .<span class="hljs-number"><span class="hljs-number">5s</span></span> ease-out; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">-webkit-radial-gradient</span></span>(hsla(120, 100%, 50%, .7), <span class="hljs-built_in"><span class="hljs-built_in">hsla</span></span>(120, 100%, 20%, .8) <span class="hljs-number"><span class="hljs-number">60%</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">hsla</span></span>(120, 100%, 10%, 1)); <span class="hljs-attribute"><span class="hljs-attribute">mask-position</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* To make the happy expression */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: mask-position .<span class="hljs-number"><span class="hljs-number">1s</span></span> linear; }</code> </pre> <br>  After playing a little more with the properties of CSS, we can do this: <br><br><img src="https://habrastorage.org/webt/r6/ts/-e/r6ts-el340ihyeanhcklz--esvu.gif"><br><br>  This is one of the methods that can be used to create the most exciting animations that we encounter almost daily. <br><br><h3>  One important note </h3><br>  Masking may not work in all browsers.  To make it work in all browsers, simply add special browser labels, such as <code>-webkit-</code> , <code>-moz-</code> and <code>-0-</code> . <br><br>  You can see the full code on <a href="https://github.com/nktkarnany/mask-css">github</a> and <a href="https://codepen.io/nktkarnany/pen/bjmZOQ">codepen</a> .  Thank!  Hope it was helpful. <br><br><blockquote><div style="text-align:center;"><img src="https://habrastorage.org/webt/op/1d/zd/op1dzdczzwfxzcisazp6zysnoxg.png"></div><br>  <a href="https://vps.today/">Go</a> to <a href="https://vps.today/">VPS.today</a> - a site for searching virtual servers.  1500 tariffs from 130 hosters, convenient interface and a large number of criteria for finding the best virtual server. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dd/ky/d6/ddkyd6kuoqn62p8il6p3oc4zilq.png"></div></blockquote></div><p>Source: <a href="https://habr.com/ru/post/428666/">https://habr.com/ru/post/428666/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428656/index.html">MIT course "Computer Systems Security". Lecture 15: "Medical Software", part 3</a></li>
<li><a href="../428658/index.html">Free educational workshops at the Mail.Ru Group office</a></li>
<li><a href="../428660/index.html">Apply Extensible Pull Request Policies to VSTS to Support the Development Process</a></li>
<li><a href="../428662/index.html">Retail Programming Challenge</a></li>
<li><a href="../428664/index.html">Linux kernel boot. Part 1</a></li>
<li><a href="../428668/index.html">Blizzard announced the release of a reissue of WarCraft III in 2019. Pre-order open</a></li>
<li><a href="../428672/index.html">QuietOn Active Squelch Review</a></li>
<li><a href="../428674/index.html">Building client routing / semantic search at Profi.ru</a></li>
<li><a href="../428676/index.html">Breaking down the fundamentals of C #: allocating memory for a reference type on the stack</a></li>
<li><a href="../428680/index.html">Creating and integrating a VK bot into a group via VkBotLongPoll [Python]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>