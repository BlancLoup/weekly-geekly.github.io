<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Replacing the WiFi module on the Lenovo B450. Fix error 104-Unsupported wireless network device detected</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some laptop manufacturers artificially limit hardware compatibility by stitching the manufacturer ID of the WiFi module in the BIOS. Under the cut a l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Replacing the WiFi module on the Lenovo B450. Fix error 104-Unsupported wireless network device detected</h1><div class="post__text post__text-html js-mediator-article">  Some laptop manufacturers artificially limit hardware compatibility by stitching the manufacturer ID of the WiFi module in the BIOS.  Under the cut a little description of how I struggled with this problem.  This operation was applied to the Lenovo B450, but probably can be applied to other devices with a similar problem (for example, HP Pavilion laptops, of course, with the appropriate BIOS file). <br><img src="https://habrastorage.org/getpro/geektimes/post_images/b93/6db/0fd/b936db0fdd54ffce79c1b095ef229a8f.jpg" alt="MiniPCI WiFi Adapter"><br><a name="habracut"></a>  And so, after replacing the WiFi module, with a faster one, I found the error: 104-Unsupported wireless network device detected. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e0f/039/d24/e0f039d243df62888d61416b18c1540e.jpg" alt="104 Unsupported Device Error Message"><br><br>  The fact is that the manufacturer sewed in the laptop BIOS a specific model of the WiFi adapter.  The BIOS detects someone else's module and stops the download.  To restore the normal boot, you need to edit the BIOS and flash it.  Let's get started 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <em>Attention, further steps are unsafe and may damage your equipment.</em>  <em>Remember that doing them you do it at your own peril and risk.</em> <br><br><h4>  We load the necessary programs </h4><ul><li>  The official firmware [InsydeFlash] (you can take it along with the bios from the lenovo site). </li><li>  BIOS Editor - [EXH2O_v2.1.0.4] </li><li>  Hex editor - [HxD] </li></ul><br><br>  Or all in one <a href="http://narod.ru/disk/2433102001/Replace%2520WiFi%2520adapter%2520on%2520Lenovo%2520B450%2520(104-Unsupported%2520wireless%2520network%2520device%2520detected).zip.html">archive</a> (for free). <br><br><h4>  Save the old WiFi adapter ID </h4><ul><li>  We find it in the device manager. </li><li>  Go to the properties and there: </li></ul><img src="https://habrastorage.org/getpro/geektimes/post_images/e8d/2ea/18d/e8d2ea18d67961319efc0102d9e79b4d.png" alt="Old device ID"><br><br><h4>  Save the current BIOS </h4><ul><li>  Unpack 1DCN26WW.exe, go to the directory with the program. </li><li>  Open platform.ini </li><li>  Change the following values </li></ul><pre><code class="java hljs">[FDFile] <span class="hljs-string"><span class="hljs-string">"BackupName="</span></span>   <span class="hljs-string"><span class="hljs-string">"BackupName=OLDBIOS.FD"</span></span> [FlashComplete] <span class="hljs-string"><span class="hljs-string">"Action=2"</span></span>   <span class="hljs-string"><span class="hljs-string">"Action=0"</span></span> [UI] <span class="hljs-string"><span class="hljs-string">"ConfirmInfo=0"</span></span>   <span class="hljs-string"><span class="hljs-string">"ConfirmInfo=1"</span></span> [Option] <span class="hljs-string"><span class="hljs-string">"Flag=0"</span></span>   <span class="hljs-string"><span class="hljs-string">"Flag=1"</span></span></code> </pre> <ul><li>  Save the file, close, run InsydeFlash.exe. </li><li>  If you are using Windows Vista / Windows 7, then to launch, you must right-click on InsydeFlash.exe and select "run as administrator". </li><li>  In the window that opens, click Option, in the settings dialog, in the file name field, select the 1DCN26WW.fd file, click OK. </li><li>  After that, click Start, wait a few seconds, at this time the old BIOS is saved to disk. </li><li>  In the window that opens, we refuse to flash (click cancel). </li></ul>  All current bios saved to your disk. <br><br><h4>  Get the Device ID of the new device </h4><br>  This can be done by connecting the new WiFi to another laptop.  If you have no such opportunity, then you can do so. <br><br><ul><li>  When you turn on the laptop when the BIOS has worked, and transfers control to the operating system, you must click the Pause button.  This must be done at the moment when the screen turns black, before the Windows boot animation starts to appear.  This will stop the download. </li><li>  Without turning off the laptop, carefully, without closing anything, we remove the old WiFi module and insert a new one. <br>  Press Enter to continue the download. </li><li>  When Windows boots, we get the Device ID of the new device in the same way as the old one. </li></ul><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/6a7/b73/e7d/6a7b73e7de4d4b7c2647d76c76fe5fa7.png" alt="New device ID"><br><br><h4>  Editing the BIOS </h4><ul><li>  Run EzH2O, open the old BIOS. </li><li>  Without closing the program run HxD. </li><li>  Click "Advanced" -&gt; "Open RAM" -&gt; Select "EzH2O.exe" in the list. </li><li>  We need to find the old device ID in memory. </li></ul><br><br>  Our old ID was PCI \ VEN_ <strong>168C</strong> &amp; DEV_ <strong>002A</strong> &amp; SUBSYS_ <strong>0034168</strong> &amp; ... <br>  In BIOS, bytes go in reverse order (the first becomes the last, and so on), we get three groups of digits from our identifier <br>  8 16 (from 16 8), 2A 00 (from 00 2A), 8 16 34 00 (from 00 34 16 8). <br><br>  We are looking for the latest sequence in our editor. <br><br> <a href="http://img-fotki.yandex.ru/get/6000/al-boro.35/0_418fe_51461a5a_orig"><img src="https://habrastorage.org/getpro/geektimes/post_images/0ed/1a1/0a9/0ed1a10a9ec3dd1b6fbe77ef6bc997cc.png" alt="Hex ed"></a> <br><br><ul><li>  And replace with a new one. <br>  PCI \ VEN_ <strong>168C</strong> &amp; DEV_ <strong>002A</strong> &amp; SUBSYS_ <strong>10671A3B</strong> &amp; ... <br>  8C 16 (out of 16 8C), 2A 00 (out of 00 2A), 3B 1A 67 10 (out of 10 67 1A 3B). </li><li>  Click save to HxD.  Close the program. </li><li>  Switch to EzH2O. </li><li>  Save the BIOS. </li></ul><br><br>  Editing in the memory of EzH2O was necessary so that the correct checksum was entered in the modified file. <br><br><h4>  Flash the modified BIOS </h4><ul><li>  Extract the 1DCN26WW.exe archiver to a new empty directory. </li><li>  We delete 1DCN26WW.fd from this directory and place our edited file there. </li><li>  Run InsydeFlash.exe, flash it, wait for the laptop to reboot. </li></ul>  Done! <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/b37/011/236/b37011236d951388a462b386c56f1a6b.png" alt="300Mbit"><br><br>  PS Wi-Fi off levers work with the new module. </div><p>Source: <a href="https://habr.com/ru/post/145163/">https://habr.com/ru/post/145163/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145155/index.html">Carmageddon for iOS and Android</a></li>
<li><a href="../145156/index.html">How to create effective mobile solutions for enterprises</a></li>
<li><a href="../145158/index.html">Groovy integration into JEE application</a></li>
<li><a href="../145159/index.html">Eco-friendly and energy-efficient printing technologies KYOCERA</a></li>
<li><a href="../145160/index.html">Creating GTK + / gtkmm applications using the Glade environment</a></li>
<li><a href="../145164/index.html">Asymmetric multiplayer, or whether democracy is needed in games</a></li>
<li><a href="../145165/index.html">Making a non-actinic LED light source</a></li>
<li><a href="../145167/index.html">Will we ever ... pass the Turing test for computers?</a></li>
<li><a href="../145168/index.html">1935 Brunsviga Nova Adding Instrument - Overview and Demonstration of a Mechanical Calculator</a></li>
<li><a href="../145170/index.html">Building effective business systems. Chapter 2.2 Business Processes: Local Optimization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>