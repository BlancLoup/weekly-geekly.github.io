<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúWe try to ensure that User Experience does not differ in different operating systems‚Äù - Interview with Rider developers from JetBrains</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In early January, JetBrains announced the development of Rider, a cross-platform IDE based on ReSharper and IntelliJ platform, available under Windows...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúWe try to ensure that User Experience does not differ in different operating systems‚Äù - Interview with Rider developers from JetBrains</h1><div class="post__text post__text-html js-mediator-article">  In early January, JetBrains announced the development of Rider, a cross-platform IDE based on ReSharper and IntelliJ platform, available under Windows, Linux and Mac OS X, and including all ReSharper chips, and supporting the .NET Framework, Mono and CoreCLR.  It is assumed that the development will be completed by the autumn of this year, and everyone will be able to try the environment "per tooth" in the framework of the Early Access Program. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ea/f09/978/4eaf09978f03eb1148b434d20dd579f6.png"><br><br>  Rider has been repeatedly mentioned on the Habr√©, but in order to give our readers a look at the development process ‚Äúfrom the inside,‚Äù while understanding the specifics of the process at different stages of production, we turned to JetBrains and answered our questions: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>Kirill Skrygan</b> , project leader Rider and senior developer; <br></li><li>  <b>Dmitry Ivanov</b> , the main developer of the reactive multiprocess communication protocol at Rider; <br></li><li>  <b>Andrey Akinshin</b> , ACM ICPC silver medalist, is responsible for the NuGet-manager in Rider. <br></li></ul><a name="habracut"></a><br><blockquote><img src="https://habrastorage.org/files/c10/684/f78/c10684f7823f4d2faa4cded4ad981071.png">  <b>What part of the Rider project are you responsible for?</b>  <b>What tasks are you assigned?</b> </blockquote><br><img src="https://habrastorage.org/files/3fc/51a/3a5/3fc51a3a54484877bf0534be5b9751c2.png" align="left" height="150" width="150">  <b>Kirill Skrygan:</b> <br><br>  I am the team leader of the Rider project.  My tasks include planning tasks, coordinating the whole team, and in part, product design.  In addition, I program a lot, I am responsible for the synchronization of texts, editors, code completion, and a bunch of minor, smaller tasks. <br><br><img src="https://habrastorage.org/files/94d/1ab/5dc/94d1ab5dcbfb4a8ba834871b33378d5c.png" align="right" height="150" width="150">  <b>Dmitry Ivanov:</b> <b><br></b> <br>  I do a reactive data transfer protocol between Java and .NET. <br><br><img src="https://habrastorage.org/files/9a0/922/6e9/9a09226e950a4534bd9da7958f09b537.jpg" align="left" height="150" width="150">  <b>Andrey Akinshin:</b> <br><br>  There are a lot of parts in Ryder and they are all closely related to each other.  As a rule, we have a responsible person for each subsystem.  But in practice, in addition to their area of ‚Äã‚Äãresponsibility, they have to actively interact with the team and help to refine other subsystems.  I am now actively engaged in NuGet-manager and support of unit tests. <br><br><blockquote><img src="https://habrastorage.org/files/c10/684/f78/c10684f7823f4d2faa4cded4ad981071.png">  <b>What was the most difficult to implement from a technical point of view?</b> </blockquote><br>  <b>Kirill Skrygan:</b> <br><br>  The interaction between the frontend and backend should be consistent, but at the same time fast.  You can, of course, drive all data through the main process flows - but will it be fast?  Therefore, we have moved to a model where the two processes reactively interact with each other in a multithreaded mode.  It seems to me that the solution of all the problems encountered in the implementation of this process was the most difficult task. <br><br>  When designing a Rider, we lay down on an important invariant: a frontend can join an already working backend, at any time - and vice versa.  This provides potential functional benefits: for example, the ability to restart the backend while the frontend is running, if something fatal happened in it.  However, the main thing that this approach provides is the convenience of writing consistently working code.  Indeed, without this invariant, that is, without saving the state of the backend and the frontend, the interaction would be reduced to a banal request - responce architecture.  In the case of a complex multi-threaded IDE, this would lead to heaps of unnecessary checks in the code, in the spirit of "can I now accept this request - or wait until I have everything loaded and tell the backend to send me a message that I can already accept?" <br><br>  Given that we have both frontend and backend - these are complex multi-threaded processes, such an approach would be a direct way to hell of flights and deadlocks.  As a result, we come to a model where we have a reactive and changeable state of the model, distributed to both sides of the protocol, to both processes.  It turned out something like MVVM architecture.  "Like" is purely because we still can not do without the transient transfers of big data.  Perhaps, if we didn‚Äôt have such a powerful front-end as Intellij Platform, our MVVM would be cleaner. <br><br>  <b>Dmitry Ivanov:</b> <br><br>  Get a healthy threading model in a multi-process application.  Imagine, we have two code bases - Intellij Idea and ReSharper, each of which has its own understanding of how to live in a multi-threaded environment, its own locks, its own main thread with managed reentrancy, etc.  Plus, there are several additional processes: msbuild tasks, debuggers.  And now we need to ‚Äúfly up‚Äù with all this, plus get a free environment from lags and not falling apart at the seams. <br><br>  In the very first prototype - when it was not even called Rider yet - we used Google Protobuf, and built the work based on the usual RPC.  Pretty quickly it came to the realization that we want to use the ‚ÄúIdea‚Äù as a View, and build the interaction according to the MMVM principle.  In the .NET world, we are used to reactive XAML, and we didn‚Äôt want to build UI according to other principles that we consider obsolete.  There was a question - how to make java Swing get on reactive, interprocess, and even cross-platform rails?  As it often happens in JetBrains, none of the existing solutions did not suit us, and we began to develop our own. <br><br>  The ViewModel is now described in a very short form using the DSL features provided by Kotlin.  Real Java and C # classes that are synchronized between processes are generated from the model.  Any change in the model that one that on the other hand generates a reaction. <br><br>  It soon became clear that within the framework of an honest ViewModel, due to the limitations of UI controls and programming complexity, we cannot hold back, and we had to transfer data entirely for some features - for example, Code Completion can transfer all its 50 thousand elements.  It really helped that we immediately made the protocol binary and optimized (hello to all opponents of premature optimization =).  In general, we don‚Äôt stick into protocol performance.  My opinion is that, in terms of "convenience / speed", we were in the top ten, having decided to choose such a technical solution. <br><br>  <b>Andrey Akinshin:</b> <br><br>  It is difficult to select any one most difficult part.  Tasks are very different, each is complex in its own way, every day we have to face new challenges.  Say, today you deal with the device of some subsystems in R # and IDEA, tomorrow you are trying to design a reactive-asynchronous model that will allow these subsystems to be friends (and do it quickly and responsively), and the day after tomorrow you are trying to understand Linux version does not work. <br><br><blockquote><img src="https://habrastorage.org/files/c10/684/f78/c10684f7823f4d2faa4cded4ad981071.png">  <b>What problems arose when developing versions for Linux?</b>  <b>MacOS?</b> </blockquote><br>  <b>Kirill Skrygan:</b> <br><br>  Under Linux and MacOS, currently the backend code is executed on Mono.  The main task was to rewrite the project code in such a way that it would run under Mono in principle, as well as fix all the relevant project infrastructure for it.  In addition, we regularly come across various kinds of specific Mono bugs, the search and debugging of which cannot be called a pleasant process. <br><br>  Banal absence of checks on null in certain cases led to complete crash of backend.  To disgrace, I / O code was written simply and slowly in Mono, which, for example, kept the open FileSystemTracker handle for every request without any merge (and here we immediately say hello to OutOfMemory and unobvious performance problems).  Starting with some versions, in Mono they stopped laying under the target for web projects.  A separate word deserves xbuild, whose API is very creative, which especially concerns the modification of the design model.  Something from this we fix in Samo code Mono, supplying our patches, we go around something with our own means.  And yet, in general, I can say that I was pleasantly surprised by the quality of work of Mono.  Yes, there are bugs, but in general, everything works somehow, and even more or less stable on different platforms - I personally expected the worst. <br><br>  <b>Dmitry Ivanov:</b> <br><br>  There were and are having problems with Mono.  For example, in version 4.4 we began to hang sockets - it turned out that the bug.  Still, the .NET Framework is much more stable.  But we do not complain - we send patches =) <br><br>  <b>Andrey Akinshin:</b> <br><br>  First, problems were solved by launching R # on Mono (I had to cut dependencies on WPF and COM, redo unsafe magic, edit bugs in Mono itself, etc.).  Then we solved platform-specific problems (for example, \ r \ n in R # vs \ n in Idea; interaction with the file system and all that).  Now we are actively trying to refine the cross-platform development stacks (for example, learn to be good friends with XBuild). <br><br><blockquote><img src="https://habrastorage.org/files/c10/684/f78/c10684f7823f4d2faa4cded4ad981071.png">  <b>Is the IDE functionality different under different operating systems?</b>  <b>If so, then what?</b> </blockquote><br>  <b>Kirill Skrygan:</b> <br><br>  No, almost nothing is different.  At least it should not :) <br><br>  <b>Dmitry Ivanov:</b> <br><br>  We try to ensure that User Experience does not differ in different operating systems.  Well, except that the build systems used are different. <br><br>  <b>Andrey Akinshin:</b> <br><br>  Our task is to make the functionality not differ in anything.  Sometimes everything is not going as smoothly as we would like, but I think we will cope with version 1.0. <br><br><blockquote><img src="https://habrastorage.org/files/c10/684/f78/c10684f7823f4d2faa4cded4ad981071.png">  <b>What of the functionality of Rider, in your opinion, is the killer feature when comparing Rider with MSVS?</b> </blockquote><br>  <b>Kirill Skrygan:</b> <b><br></b> <br>  First, just an order of magnitude more powerful functionality in all directions.  Ten times more navigation, code analysis and refactoring (quick fixes, intentions, context actions), Solution Wide Analysis, unit-test runner, excellent support for almost all VCS, and many more resarch features that have been successfully created over the last 10 years.  Yes, we have not yet managed to ‚Äúsynchronize‚Äù everything, but I see no reason why we cannot do this in the near future.  Among other things, Rider has excellent support not only for C #, but also for many other languages: JavaScript, TypeScript, HTML, CSS, Razor, VB.NET, Regex, and many others. <br><br>  Secondly - it is certainly difficult to call it a functional, but already now many of our users point out a very high speed of Rider operation.  And this is before we began the active phase of project optimization.  It is possible that the fact is that we do not have a 20-year-old COM'a inside :). <br><br>  Try in Visual Studio with a more or less large project open, make git pull, which will update .csproj files - after that you can safely go and drink tea for half an hour.  All the fault of the code itself Visual Studio, which somehow incorrectly restarts MSBuild for changed projects.  Generally, for 5 years of working in Resharper, I‚Äôve seen a lot in VS code, for example GC.Collect (), called in a loop :) In this sense, we feel an order of magnitude freer when writing completely our IDE. <br><br>  <b>Dmitry Ivanov:</b> <br><br>  The most important thing in my opinion is that we have all the main features of Resharper, and at the same time - the absence of lags.  In my opinion, this is more than enough. <br><br>  <b>Andrey Akinshin:</b> <br><br>  If you get away from the comparison with Visual Studio, then my favorite feature in Rider is the console built into the IDE.  It's just great, I run some console applications every day and enjoy it. <br><br><blockquote><img src="https://habrastorage.org/files/c10/684/f78/c10684f7823f4d2faa4cded4ad981071.png">  <b>How do you see the scope of Rider today?</b> </blockquote><br>  <b>Kirill Skrygan:</b> <br><br>  Working with all those projects with which you worked in Visual Studio, as well as developing cross-platform mobile applications for MacOS, Linux - that is, Rider could well replace Xamarin Studio and Mono Develop.  Most of the development team programs Rider in him the same :) <br><br>  <b>Dmitry Ivanov:</b> <br><br>  In JetBrains, dogfudding is one of the main development practices.  We <i>use Rider to develop Rider</i> .  Even without instability, now writing in the Rider IDE with its smooth tapping is a pleasure. <br><br>  <b>Andrey Akinshin:</b> <br><br>  This is mainly cross-platform .NET development.  If you love Linux or MacOS, but want to write on C # in a very cool full-featured IDE, then Rider is your choice. <br><br><hr><br>  Have you already gathered in St. Petersburg?  After all, we are still waiting for you on June 3 at the <a href="http://dotnext.ru/spb/">DotNext 2016 Piter</a> conference, where there will be cool reports on Rider: <br><br><ul><li>  <b>Kirill Skrygan</b> - <a href="http://dotnext.ru/spb/talks/skrygan/">Rider is a new cross-platform .NET IDE from JetBrains.</a>  <a href="http://dotnext.ru/spb/talks/skrygan/">What it is and how it works.</a> </li><li>  <b>Dmitry Ivanov</b> - <a href="http://dotnext.ru/spb/talks/ivanov/">Reactive Multiprocess Interaction: JetBrains Rider Framework.</a> </li></ul><br><br>  And the third participant of our interview will give a hardcore report ... about arithmetic (in fact, not everything is so simple): <br><br><ul><li>  <b>Andrey Akinshin</b> - <a href="http://dotnext.ru/spb/talks/akinshin/">Let's talk about arithmetic</a> </li></ul><br><br>  There will be other <a href="http://dotnext.ru/spb/talks/">reports</a> .  So take a T-shirt, jacket, jacket, sweater - and Peter.  Who knows how the weather will change in a day. </div><p>Source: <a href="https://habr.com/ru/post/301754/">https://habr.com/ru/post/301754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../301742/index.html">Science of self-control: is it possible to develop willpower?</a></li>
<li><a href="../301744/index.html">Welcome to Symfony Moscow Meetup June 2</a></li>
<li><a href="../301746/index.html">VKS equipment for meeting rooms</a></li>
<li><a href="../301750/index.html">Developer .NET developer workstation or the difficulty of choosing the perfect configuration</a></li>
<li><a href="../301752/index.html">Work with SignalR from Android</a></li>
<li><a href="../301756/index.html">FreePBX and CallBack: see caller numbers</a></li>
<li><a href="../301760/index.html">Creating a blog on symfony 2.8 lts</a></li>
<li><a href="../301764/index.html">Learning from mistakes in the organization of quality control</a></li>
<li><a href="../301766/index.html">JPoint Student Day: why conference "student day"?</a></li>
<li><a href="../301768/index.html">Add dependencies to CDI. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>