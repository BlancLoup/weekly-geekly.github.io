<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Intel¬Æ Parallel Studio XE 2017: ‚ÄúPython Comes to Us‚Äù and Others</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first week of September this year, a new version of the product Intel Parallel Studio XE 2017 was released. Let's understand what is interestin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Intel¬Æ Parallel Studio XE 2017: ‚ÄúPython Comes to Us‚Äù and Others</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/217/3e3/9c0/2173e39c0ae3409db5922d1297dc6a01.png"></div><br>  In the first week of September this year, a new version of the product Intel Parallel Studio XE 2017 was released. Let's understand what is interesting in it. <br><a name="habracut"></a><br>  As usual, the studio package is available in three versions: Composer, Professional and Cluster Edition. <br>  The first version includes compilers (C / C ++ and Fortran) and various libraries.  Ever since the previous version of XE 2016 there were as many as 4 of these: <br><br><ul><li>  Intel Math Kernel Library (MKL) fast math library </li><li>  Intel Integrated Performance Primitives (IPP) data processing and multimedia library </li><li>  C ++ Intel Threading Building Blocks (TBB) Template Library </li><li>  library for machine learning and data analytics Intel Data Analytics Acceleration Library (DAAL). </li></ul><br>  In the Professional Edition, tools for dynamic analysis of applications are added, such as the Intel VTune Amplifier profiler, a tool for prototyping concurrency and working with vectorization of the Intel Advisor code, as well as finding errors with memory and Intel Inspector threads.  In the flagship version of Intel Parallel Studio XE Cluster Edition we have in our hands the entire set of tools that will help create and optimize our application already on a cluster, using Intel MPI and tools for working with it. <br><br>  In addition to all this, there is a third-party Rogue Wave IMSL library, often used in calculations.  It is available both in the Fortran compiler package and as a separate add-on.  The following table shows the distribution of development tools by package: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/781/d35/b98/781d35b980f349f29d799caecd9192d6.png"><br><br>  An important addition in all studio versions (and not only) is the Intel Distribution for Python * package, which allows you to use Python (2.7 and 3.5), which is ‚Äúoptimized‚Äù by Intel's caring engineers on Windows, Linux and OS X. Nothing in the language The new did not appear, just the NumPy, SciPy, pandas, scikit-learn, Jupyter, matplotlib, and mpi4py packages are now optimized for hardware using the Intel MKL, TBB, DAAL and MPI libraries, due to which the application runs more efficiently and quickly.  By the way, you can download this package absolutely free of charge from the Intel site.  There you can see what is so good "zapyucheny" Python: <br><br><img src="https://habrastorage.org/files/30f/7e0/e7c/30f7e0e7c74443fe898f5161c1a1f927.png"><br><br>  Obviously, the performance of Intel Python brings it closer in speed to the C / Intel MKL, while significantly outperforming competitors.  By the way, the well-known VTune Amplifier profiler now also supports Python. <br><br>  Of the globally new products in the Intel Parallel Studio XE package, this is perhaps the most important thing. <br>  Now that appeared in each of the components of the package. <br><br><h3>  Compilers </h3><br>  According to them, I will definitely write a separate, more detailed blog.  And here, ‚Äúbriefly‚Äù I will list what appeared there: <br><br><ul><li>  C ++ SIMD Data Layout Templates (SDLT) template library for solving the problem of transition from Array of Structures (AoS) to Structure of Arrays (SoA) structure of arrays, which leads to a decrease in non-consecutive memory accesses and gather / scatter instructions with vectorization. <br><br></li><li>  Support for second-generation Intel Xeon Phi processors and a new name mic_avx512. <br><br></li><li>  More complete support for OpenMP (both standard 4.0 and later 4.5). <br><br></li><li>  New offloading functionality on Intel Xeon Phi using OpenMP <br><br></li><li>  The ability to generate files (html or text) with source code and an integrated optimization report, which will be very useful for developers working from the command line without a development environment.  In addition, the information content of the optimization and vectorization reports themselves has been improved in many areas. <br><br></li><li>  New attribute, directive and compiler option for code alignment (not data, but instructions for functions or cycles themselves). <br><br></li><li>  Wider support for the C ++ standard 14, in particular, we can now use variable templates, free memory of a certain size by the global delete operator, use constexpr functions with noticeably fewer restrictions than were in the C ++ 11 standard.  A full list of supported features of the standard can be found on <a href="https://software.intel.com/en-us/articles/c14-features-supported-by-intel-c-compiler">this</a> page. <br><br></li><li>  Standard C11 is now fully supported (not to be confused with C ++ 11, which has long been supported), with the exception of the _Atomic keyword and the corresponding attribute __ attribute ((atomic)). <br><br></li><li>  A number of new compiler options have appeared, designed to simplify its use.  For example, the key / fp: consistent (Windows) and -fp-model consistent (Linux), which includes a number of others (/ fp: precise / Qimf-arch-consistency: true / Qfma-). <br><br></li><li>  New features in offload computing on integrated graphics using OpenMP.  For example, an asynchronous offload is now possible using the DEPEND clause in the TARGET directive.  In addition, the compiler can produce vectorization with the type short. <br><br></li><li>  The Fortran compiler also has a lot of changes.  Especially interesting is the substantial increase in the performance of the Coarray Fortran code.  In some cases, the acceleration reaches three times compared with the previous implementation.  It is also possible to tell the compiler about the alignment of dynamically allocated arrays, and the standards Fortran 2008 and 2015 are supported even more widely.  In particular, now an experienced developer has an array of constants with an implied form, the ability to use BIND ¬© for internal procedures, and pointers can be initialized when they are declared (yes, until 2008 the standard in Fortran was not supported). </li></ul><br>  And this is just the tip of the iceberg.  In fact, a huge amount of change.  In general, the compiler, as expected, began to generate even more efficient code, supporting all the latest innovations in hardware.  A comparison of the Intel compiler on benchmarks with competitors proves it once again. <br><br><img src="https://habrastorage.org/files/784/eee/1fb/784eee1fbc4a41c180bd58260006bd88.png"><br><br>  As you can see, on the SPECfp and SPECint tests, the advantage of version 17.0 of the compiler is quite impressive. <br><br><h3>  Intel VTune Amplifier XE 2017 </h3><br>  Since the second generation Intel Xeon Phi processor (codename Knights Landing (KNL)) has entered the market, the profiler has support for various types of analysis for it so that your applications simply ‚Äúfly‚Äù after optimization.  Here and the analysis of memory bandwidth, to understand what data you need to put in a fast MCDRAM, and microarchitectural analysis, and analysis of the scalability of MPI and OpenMP, and much more tasty. <br><br>  By the way, VTune has an HPC Performance Characterization analysis, which is a kind of entry point for evaluating the performance of computationally intensive applications, and allowing you to look in detail (unlike Application Performance Snapshot, which will be discussed later) on three important aspects of recycling hardware. - PU, memory and FPU: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5f6/0ec/7f5/5f60ec7f563a4136a5b3faa8915ad5da.png"></div><br>  As I said, now VTune can profile applications in Python by performing hotpot analysis through software sampling (Basic Hotspots analysis).  Another innovation is the ability to profile Go applications using the PMU hardware events. <br><br>  A new type of analysis appeared in version 2017 - disk input / output analysis (Disk Input and Output analysis).  With it, you can track the use of the disk subsystem, CPU and PCIe tires: <br><br><img src="https://habrastorage.org/files/c5c/01b/3cb/c5c01b3cb5594e43b2ac8718eff09a68.png"><br><br>  In addition, the analysis helps to find I / O operations with high latency, as well as an imbalance between them and real calculations. <br><br>  The size of the maximum DRAM bandwidth is now automatically determined when analyzing memory access (Memory Access analysis), thus allowing you to understand how well it is used.  This type of analysis also adds support for custom memory allocators, which allows you to correctly identify objects in memory.  It is possible to correlate cache misses to a specific data structure, and not just the code leading to it.  By the way, now there is no need to install special drivers on Linux to perform this analysis. <br><br>  Additions have appeared when profiling OpenCL and GPU.  VTune will show a general problem summary with a detailed description: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/3c5/098/dbd/3c5098dbd088472499d6bc39c6412512.png"></div><br>  In addition, you can see the source code or ASM for OpenCL cores, as well as catch cases of using shared virtual memory (Shared Virtual Memory). <br>  Using the profiler remotely and through the command line has become even easier. <br>  The new group Arbitrary Targets allows you to generate a command line to analyze performance on a system that is not accessible from the current host.  This can be very useful for microarchitectural analysis, as it gives access to hardware events available on the platform we have chosen: <br><br><img src="https://habrastorage.org/files/5f9/c42/a68/5f9c42a684d34046ba732748f9f5627f.png"><br><br>  In the package with Parallel Studio there are special ‚Äúlightweight‚Äù tools that allow you to get a general idea of ‚Äã‚Äãour application.  They got the signboard Performance Snapshots, and they currently have three options: <br><br><ul><li>  Application - for non-MPI applications </li><li>  MPI is correct for MPI applications </li><li>  Storage - for analyzing storage usage </li></ul><br>  What are they like?  Consider, for example, the Application Performance Snapshot tool: <br><br><img src="https://habrastorage.org/files/cc4/50a/8da/cc450a8da46d44e289f499e5a3e1a421.png"><br><br>  By running it, at the output we have a high-level summary of where our application can practically win.  On the other hand, we can call it weak points that need to be corrected.  We get the application execution time, performance in flops, as well as the answer to 3 questions: how CPU CPU utilization was used effectively (CPU Utilization), how much we spent on working with Memory (Memory Bound), and how FPU Utilization was used .  As a result, we see the general picture of the application.  If CPU utilization shows too small values, then there are problems with the "parallelism" of the application and the efficiency of using the cores.  For example, the imbalance of the load, too much overhead during planning, synchronization problems, or just a large number of regions that are performed sequentially.  The following metric will tell us whether the application rests on memory constraints.  If the numbers are large, then there may be problems with the use of caches, false sharing of data ( <a href="https://habrahabr.ru/company/intel/blog/143446/">false sharing</a> ) or we rest on bandwidth. <br><br>  Well, the characteristic of FPU Utilization can show that there are problems with vectorization (its absence or inefficiency), provided there are calculations with floating point numbers. <br><br><h3>  Intel Advisor </h3><br>  Since the previous version of 2016, Advisor has received a huge functionality for working with vectorization, which has been expanded and improved in the new version. <br><br>  Of course, there is support for the new generation Xeon Phi, as well as in other media, and the AVX-512.  For example, Advisor may show the use of the new KNL-specific AVX-512 ERI instruction set.  But even if we don‚Äôt have a new piece of hardware, we can get some data for the AVX-512.  To do this, you must instruct the compiler to generate two code branches (AVX and AVX-512) for loops using the ‚ÄìaxMIC-AVX512 ‚ÄìxAVX options, and the Advisor will display information in its results even for the branch that was not actually executed: <br><br><img src="https://habrastorage.org/files/b25/51e/498/b2551e4982f24a98bfec87bb01ebaea6.png"><br><br>  In addition, the possibility of measuring FLOPS'ov for all processors, with the exception of previous generation Xeon Phi, based on the use of instrumentation and sampling.  The Memory Access Analysis was also improved, which will now give us even more useful information (comparison with cache size, identifying unnecessary gather / scatter).  In terms of usability, there are also a number of improvements.  "Smart Mode" (Smart Mode) will allow you to show only those cycles that are most interesting to us, by pressing one button: <br><br><img src="https://habrastorage.org/files/6ee/4f0/d5d/6ee4f0d5d0044221be649fb55bd6c272.png"><br><br>  And to select several types of analysis at once and to start them at once it became possible using the batch mode Batch Mode. <br><br>  The bottom line with the new version of 2017, we have a large set of new features that are sure to be useful when optimizing applications for developers in all areas.  You can try the new version for 30 days, as always, absolutely free of charge on this <a href="https://software.intel.com/en-us/intel-parallel-studio-xe/try-buy">page</a> , as one of my colleagues says: ‚ÄúWith registration, but without SMS‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/311160/">https://habr.com/ru/post/311160/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../311146/index.html">Welcome to Spark ... on Java: Interview with Evgeny Borisov</a></li>
<li><a href="../311150/index.html">Analysis of the use of data redundancy as the required additional memory when sorting by the merge algorithm</a></li>
<li><a href="../311152/index.html">Truth born in the dispute about the ratings of popular programming languages</a></li>
<li><a href="../311154/index.html">Smart Bunker FX - solution for Microcentre Data</a></li>
<li><a href="../311156/index.html">Alternative version of Java application packaging in Docker</a></li>
<li><a href="../311162/index.html">SBM Composer visual development environment overview</a></li>
<li><a href="../311164/index.html">Who owns online courses? Copyright and pitfalls</a></li>
<li><a href="../311166/index.html">A person. The creator of Perl, Larry Wall - "the generous lifelong dictator"</a></li>
<li><a href="../311168/index.html">ClusterR clustering, part 2</a></li>
<li><a href="../311172/index.html">$ mol: reactive micromodular ui-framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>