<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Comparing objects by value - 2, or Features of the implementation of the Equals method</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In a previous publication, we looked at the general principles for implementing the minimum necessary class modifications to enable the comparison of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Comparing objects by value - 2, or Features of the implementation of the Equals method</h1><div class="post__text post__text-html js-mediator-article">  In a <a href="https://habrahabr.ru/post/314328/">previous publication,</a> we looked at the general principles for implementing the minimum necessary class modifications to enable the comparison of class objects by value using the standard .NET framework infrastructure. <br><br>  These improvements include the overlapping methods <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">Object.Equals (Object)</a> and <a href="https://msdn.microsoft.com/library/system.object.gethashcode.aspx">Object.GetHashCode ()</a> . <br><br>  Let us dwell in more detail on the implementation features of the <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">Object.Equals (Object)</a> method to meet the following requirement in the documentation: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs pgsql">x.Equals(y) <span class="hljs-keyword"><span class="hljs-keyword">returns</span></span> the same <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> y.Equals(x).</code> </pre> <br>  The Person class, created in a <a href="https://habrahabr.ru/post/314328/">previous publication</a> , contains the following implementation of the <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">Equals (Object)</a> method: <br><br><div class="spoiler">  <b class="spoiler_title">Person.Equals (Object)</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> bool Equals(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> obj) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> == obj) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> other = obj <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Person; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)other == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> EqualsHelper(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, other); }</code> </pre> </div></div><br>  After checking the referential equality of the current and incoming objects, in case of a negative result of the check, the incoming object is coerced to type Person in order to be able to compare objects by value. <br><br>  In accordance with the example given in the <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">documentation</a> , the cast is performed using the <a href="https://msdn.microsoft.com/library/cscsdfbt.aspx">as</a> operator.  Check whether it gives the correct result. <br><a name="habracut"></a><br>  We implement the PersonEx class, inheriting the Person class, adding the Middle Name property to personal data, and overlapping the methods of Person.Equals (Object) and Person.GetHashCode () accordingly. <br><br>  PersonEx class: <br><br><div class="spoiler">  <b class="spoiler_title">class PersonEx</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HelloEquatable</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PersonEx</span></span> : <span class="hljs-title"><span class="hljs-title">Person</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> MiddleName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PersonEx</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> middleName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lastName, DateTime? birthDate </span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">firstName, lastName, birthDate</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MiddleName = NormalizeName(middleName); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHashCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.GetHashCode() ^ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MiddleName.GetHashCode(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EqualsHelper</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PersonEx first, PersonEx second</span></span></span><span class="hljs-function">)</span></span> =&gt; EqualsHelper((Person)first, (Person)second) &amp;&amp; first.MiddleName == second.MiddleName; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> == obj) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> other = obj <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PersonEx; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)other == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> EqualsHelper(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, other); } } }</code> </pre> </div></div><br>  It is easy to notice that if the Equals (Object) method is called on the Person object and the PersonEx class object is passed to it, if these objects (persons) have the first name, last name and date of birth, the Equals method will return <a href="https://msdn.microsoft.com/library/6x6y6z4d.aspx">true</a> , otherwise the method will return <a href="https://msdn.microsoft.com/library/67bxt5ee.aspx">false</a> . <br><br>  (When executing the Equals method, an incoming object that has PersonEx type at runtime will be successfully cast to Person using the <a href="https://msdn.microsoft.com/library/cscsdfbt.aspx">as</a> operator, and then objects will be compared by field values ‚Äã‚Äãthat are only in the Person class, and the corresponding result.) <br><br>  Obviously, from the substantive point of view, this is the wrong behavior: <br><br>  The coincidence of the name, surname and date of birth does not mean that it is the same person, because  one person has no middle name attribute (it‚Äôs not about the undefined attribute value, but about the absence of the attribute itself), and the other has the middle name attribute. <br>  (These are different types of entities.) <br><br>  If, on the contrary, the object of the class PersonEx calls the Equals (Object) method and passes the object of the class Person to it, the Equals method will return <a href="https://msdn.microsoft.com/library/67bxt5ee.aspx">false</a> in any case, regardless of the values ‚Äã‚Äãof the object properties. <br><br>  (When executing the Equals method, an incoming object having a type of Person at runtime (runtime) will not be successfully cast to the PersonEx type using the <a href="https://msdn.microsoft.com/library/cscsdfbt.aspx">as</a> operator ‚Äî the cast will be <a href="https://msdn.microsoft.com/library/edakx9da.aspx">null</a> and the method will return <a href="https://msdn.microsoft.com/library/67bxt5ee.aspx">false</a> .) <br><br>  Here we observe the correct behavior from the substantive point of view, in contrast to the previous case. <br><br>  These behaviors can easily be verified by running the following code: <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> person = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"Smith"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DateTime(<span class="hljs-number"><span class="hljs-number">1990</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> personEx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PersonEx(<span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"Teddy"</span></span>, <span class="hljs-string"><span class="hljs-string">"Smith"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DateTime(<span class="hljs-number"><span class="hljs-number">1990</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSamePerson = person.Equals(personEx); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSamePerson2 = personEx.Equals(person);</code> </pre> </div></div><br>  However, in the context of this publication, we are more interested in the compliance of the implemented Equals (Object) behavior with the requirements in the <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">documentation</a> , rather than the correctness of logic from the substantive point of view. <br><br>  Namely, compliance with the requirement: <br><br><pre> <code class="hljs pgsql">x.Equals(y) <span class="hljs-keyword"><span class="hljs-keyword">returns</span></span> the same <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> y.Equals(x).</code> </pre> <br>  This requirement is not met. <br><br>  (And from the point of view of common sense, what problems can there be with the current implementation of Equals (Object)? <br>  The data type developer has no information on how exactly the objects will be compared - x.Equals (y) or y.Equals (x) - both in the client code (when explicitly calling Equals), and when placing objects in <a href="https://msdn.microsoft.com/library/bb359438.aspx">hash sets (hash cards)</a> and <a href="https://msdn.microsoft.com/library/xfhwa508.aspx">dictionaries</a> (inside the sets / dictionaries themselves). <br><br>  In this case, the behavior of the program will be non-deterministic, and depend on the implementation details.) <br><br><h4>  Consider exactly how you can implement the Equals (Object) method, providing the expected behavior. </h4><br>  Currently the correct method proposed by Jeffrey Richter in the book CLR via C # (Part II "Designing Types", Chapter 5 "Primitive, Reference, and Value Types", Subchapter "Object Equality and Identity"), when comparing objects directly by value, the <a href="https://msdn.microsoft.com/library/system.type.aspx">types of</a> objects at runtime (runtime) obtained using the <a href="https://msdn.microsoft.com/library/system.object.gettype.aspx">Object.GetType ()</a> method are checked for equality (instead of one-way compatibility checks and coercion of object types using the <a href="https://msdn.microsoft.com/library/cscsdfbt.aspx">as</a> operator): <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetType() != obj.GetType()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre><br>  It should be noted that the use of this method is not unambiguous, since  There are three different ways to check for equality of instances of the <a href="https://msdn.microsoft.com/library/system.type.aspx">Type</a> class, with theoretically different results for the same operands: <br><br>  1. According to the <a href="https://msdn.microsoft.com/library/system.object.gettype.aspx">documentation</a> for the <a href="https://msdn.microsoft.com/library/system.object.gettype.aspx">Object.GetType ()</a> method: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">For</span></span> two objects x <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> y that have identical runtime <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.ReferenceEquals(x.GetType(),y.GetType()) <span class="hljs-keyword"><span class="hljs-keyword">returns</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>.</code> </pre> <br>  Thus, objects of the <a href="https://msdn.microsoft.com/library/system.type.aspx">Type</a> class can be checked for equality by comparing by reference: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSameType = (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)obj1.GetType() == (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)obj2.GetType();</code> </pre>  or <br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">bool</span></span> isSameType = <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.ReferenceEquals(obj1.GetType(), obj2.GetType());</code> </pre> <br>  2. The <a href="https://msdn.microsoft.com/library/system.type.aspx">Type</a> class has <a href="https://msdn.microsoft.com/library/hh32dc75.aspx">Equals (Object)</a> and <a href="https://msdn.microsoft.com/library/3ahwab82.aspx">Equals (Type)</a> methods, whose behavior is defined as follows: <blockquote>  Determines the type of the specified object. <br><br>  Return value <br>  Type: System.Boolean <br>  it is the current system;  otherwise, false.  This method also returns false if: <br>  o is null. <br>  o cannot be cast or converted to a Type object. <br><br>  Remarks <br>  This method overrides Object.Equals.  It casts the type.Equals (Type) method. </blockquote>  and <blockquote>  Determines the system. <br><br>  Return value <br>  Type: System.Boolean <br>  it is the current system;  otherwise, false. </blockquote><br>  Inside these methods are implemented as follows: <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Object o</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (o == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Equals(o <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Type); }</code> </pre><br>  and <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Type o</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)o == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (Object.ReferenceEquals(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.UnderlyingSystemType, o.UnderlyingSystemType)); }</code> </pre><br>  As you can see, the result of executing both Equals methods for objects of the <a href="https://msdn.microsoft.com/library/system.type.aspx">Type</a> class in the general case may differ from comparing objects by reference, since  in the case of using the Equals methods, not the objects of the <a href="https://msdn.microsoft.com/library/system.type.aspx">Type</a> class are compared by reference, but their <a href="https://msdn.microsoft.com/library/system.type.underlyingsystemtype.aspx">UnderlyingSystemType</a> properties belonging to the same class. <br><br>  However, from the description of the Equals methods of the <a href="https://msdn.microsoft.com/library/hh32dc75.aspx">Type.Equals (Object)</a> class it <a href="https://msdn.microsoft.com/library/hh32dc75.aspx">appears</a> that they are not intended to compare directly the objects of the Type class. <br><br>  Note: <br>  For the <a href="https://msdn.microsoft.com/library/hh32dc75.aspx">Type.Equals (Object)</a> method, the problem of non-compliance with the requirement (as a result of using the <a href="https://msdn.microsoft.com/library/cscsdfbt.aspx">as</a> operator) <br><pre> <code class="hljs pgsql">x.Equals(y) <span class="hljs-keyword"><span class="hljs-keyword">returns</span></span> the same <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> y.Equals(x).</code> </pre>  will not occur, unless in descendants of the <a href="https://msdn.microsoft.com/library/system.type.aspx">Type</a> class the method is incorrectly overridden. <br>  To prevent this potential problem, it might be advisable for developers to declare the method as <a href="https://msdn.microsoft.com/library/88c54tsw.aspx">sealed</a> . <br><br>  3. The <a href="https://msdn.microsoft.com/library/system.type.aspx">Type</a> class, starting with the .NET Framework 4.0, has overloaded operators <a href="https://msdn.microsoft.com/library/system.type.op_equality.aspx">==</a> or <a href="https://msdn.microsoft.com/library/system.type.op_inequality.aspx">! =</a> , Whose behavior is described in a simple way, without describing implementation details: <br><blockquote>  Indicates whether two Type objects are equal. <br><br>  Return value <br>  Type: System.Boolean <br>  true if left is equal to right;  otherwise, false. </blockquote>  and <blockquote>  Indicates whether two Type objects are not equal. <br><br>  Return value <br>  Type: System.Boolean <br>  true if left is not equal to right;  otherwise, false. </blockquote>  The study of source codes also does not provide information on the implementation details for finding out the internal logic of the operators: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> extern bool <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> ==(<span class="hljs-type"><span class="hljs-type">Type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">left</span></span>, <span class="hljs-type"><span class="hljs-type">Type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">right</span></span>);</code> </pre> <pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> extern bool <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> !=(<span class="hljs-type"><span class="hljs-type">Type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">left</span></span>, <span class="hljs-type"><span class="hljs-type">Type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">right</span></span>);</code> </pre> <br>  Based on the analysis of three documented ways of comparing objects of the <a href="https://msdn.microsoft.com/library/system.type.aspx">Type</a> class, it seems that the most correct way to compare objects is to use the operators "==" and "! =". <br>  Depending on the target platform (Target Platform) of the project, the source code will be assembled either using comparison by reference (identical to the first option) or using overloaded operators <a href="https://msdn.microsoft.com/library/system.type.op_equality.aspx">==</a> and <a href="https://msdn.microsoft.com/library/system.type.op_inequality.aspx">! =</a> . <br><br>  We implement the classes Person and PersonEx accordingly: <br><br><div class="spoiler">  <b class="spoiler_title">class Person (with new Equals method)</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HelloEquatable</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Person</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NormalizeName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name</span></span></span><span class="hljs-function">)</span></span> =&gt; name?.Trim() ?? <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Empty; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> DateTime? NormalizeDate(DateTime? date) =&gt; date?.Date; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> FirstName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> LastName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime? BirthDate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lastName, DateTime? birthDate</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.FirstName = NormalizeName(firstName); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.LastName = NormalizeName(lastName); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.BirthDate = NormalizeDate(birthDate); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHashCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.FirstName.GetHashCode() ^ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.LastName.GetHashCode() ^ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.BirthDate.GetHashCode(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EqualsHelper</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Person first, Person second</span></span></span><span class="hljs-function">)</span></span> =&gt; first.BirthDate == second.BirthDate &amp;&amp; first.FirstName == second.FirstName &amp;&amp; first.LastName == second.LastName; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> == obj) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetType() != obj.GetType()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> EqualsHelper(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, (Person)obj); } } }</code> </pre></div></div><br><div class="spoiler">  <b class="spoiler_title">class PersonEx (with new Equals method)</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HelloEquatable</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PersonEx</span></span> : <span class="hljs-title"><span class="hljs-title">Person</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> MiddleName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PersonEx</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> middleName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lastName, DateTime? birthDate </span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">firstName, lastName, birthDate</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MiddleName = NormalizeName(middleName); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHashCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.GetHashCode() ^ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MiddleName.GetHashCode(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EqualsHelper</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PersonEx first, PersonEx second</span></span></span><span class="hljs-function">)</span></span> =&gt; EqualsHelper((Person)first, (Person)second) &amp;&amp; first.MiddleName == second.MiddleName; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> == obj) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetType() != obj.GetType()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> EqualsHelper(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, (PersonEx)obj); } } }</code> </pre></div></div><br>  Now the following requirement for the implementation of the <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">Equals (Object)</a> method will be met: <br><br><pre> <code class="hljs pgsql">x.Equals(y) <span class="hljs-keyword"><span class="hljs-keyword">returns</span></span> the same <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> y.Equals(x).</code> </pre> <br>  which is easily verified by code execution: <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> person = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"Smith"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DateTime(<span class="hljs-number"><span class="hljs-number">1990</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> personEx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PersonEx(<span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"Teddy"</span></span>, <span class="hljs-string"><span class="hljs-string">"Smith"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DateTime(<span class="hljs-number"><span class="hljs-number">1990</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSamePerson = person.Equals(personEx); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSamePerson2 = personEx.Equals(person);</code> </pre> </div></div><br>  Notes on the implementation of the Equals (Object) method: <br><br><ol><li>  first, links that indicate the current and incoming objects are checked for equality, and, if the links match, <a href="https://msdn.microsoft.com/library/6x6y6z4d.aspx">true is</a> returned; </li><li>  then the reference to the incoming object is checked for <a href="https://msdn.microsoft.com/library/edakx9da.aspx">null</a> , and, in the case of a positive check result, <a href="https://msdn.microsoft.com/library/67bxt5ee.aspx">false is</a> returned; </li><li>  then the identity of the types of the current and incoming objects is checked, and, in the case of a negative check result, <a href="https://msdn.microsoft.com/library/67bxt5ee.aspx">false is</a> returned; </li><li>  at the last stage, the input object is cast to the type of this class and the objects are directly compared by value. </li></ol><br><h4>  Thus, we have found the optimal way to implement the expected behavior of the <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">Equals (Object)</a> method. </h4><br>  For dessert, check the correct implementation of <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">Equals (Object)</a> in the standard library. <br><br>  Method <a href="https://msdn.microsoft.com/library/f83xtf15.aspx">Uri.Equals (Object)</a> : <br><br><blockquote>  Compares two Uri instances for equality. <br><br>  Syntax <br>  public override bool Equals (object comparand) <br><br>  Parameters <br>  comparand <br>  Type: System.Object <br>  The Uri Instance or a URI identifier to compare with the current instance. <br><br>  Return value <br>  Type: System.Boolean <br>  A boolean value that is true if the two instances are the same URI;  otherwise, false. </blockquote><br><div class="spoiler">  <b class="spoiler_title">Uri.Equals (Object)</b> <div class="spoiler_text"><pre> <code class="hljs coffeescript">public override bool Equals(object comparand) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((object)comparand == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((object)<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> == (object)comparand) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } Uri obj = comparand <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Uri; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> we allow comparisons <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Uri <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> String objects only. If a string <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> passed, convert to Uri. This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> inefficient, but allows us to <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> canonicalize the comparand, making comparison possible <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((object)obj == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { string s = comparand <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> string; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((object)s == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!TryCreate(s, UriKind.RelativeOrAbsolute, out obj)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> method code ... }</code> </pre></div></div><br>  It is logical to assume that the following requirement for the implementation of the <a href="https://msdn.microsoft.com/library/bsc2ak47.aspx">Equals (Object)</a> method is not met: <br><br><pre> <code class="hljs pgsql">x.Equals(y) <span class="hljs-keyword"><span class="hljs-keyword">returns</span></span> the same <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> y.Equals(x).</code> </pre> <br>  Since  the <a href="https://msdn.microsoft.com/library/system.string.aspx">String</a> class and the <a href="https://msdn.microsoft.com/library/fkfd9eh8.aspx">String.Equals (Object)</a> method, in turn, do not ‚Äúknow‚Äù about the existence of the <a href="https://msdn.microsoft.com/library/system.uri.aspx">Uri</a> class. <br><br>  It is easy to check in practice by running the code: <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> uriString = <span class="hljs-string"><span class="hljs-string">"https://www.habrahabr.ru"</span></span>; Uri uri = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(uriString); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSameUri = uri.Equals(uriString); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSameUri2 = uriString.Equals(uri);</code> </pre> </div></div><br><h4>  In the <a href="https://habrahabr.ru/post/315168/">sequel,</a> we will look at the implementation of the <a href="https://msdn.microsoft.com/library/ms131187.aspx">IEquatable (Of T)</a> interface and the <a href="https://msdn.microsoft.com/library/ms131187.aspx">IEquatable (Of T). Equals (T)</a> type-specific method, overloading equality and inequality operators to compare objects by value, and find the most compact, consistent and productive way to implement in one class all kinds of checks by value. </h4></div><p>Source: <a href="https://habr.com/ru/post/314500/">https://habr.com/ru/post/314500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314486/index.html">How enum is available for everyone to do, but write to the meta-type</a></li>
<li><a href="../314490/index.html">Recommendations based on product images</a></li>
<li><a href="../314492/index.html">Problems with the image: image tag in site maps. Bypass misunderstanding Yandex validator</a></li>
<li><a href="../314494/index.html">Implementation of the performance indicator of queries, stored procedures and triggers in MS SQL Server. Autotrace</a></li>
<li><a href="../314496/index.html">How important is mathematical training in promising areas of software development</a></li>
<li><a href="../314502/index.html">A brief history of the development of game engines</a></li>
<li><a href="../314506/index.html">ZFS on Linux: News from the Field 2017</a></li>
<li><a href="../314508/index.html">Synthesis of images using deep neural networks. Lecture in Yandex</a></li>
<li><a href="../314510/index.html">6 functional programming concepts. Use and examples of use</a></li>
<li><a href="../314512/index.html">Names of large numbers in idle games</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>