<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Plugin for Sublime Text to publish articles on Habr</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For writing articles on Habr, I use the text editor Sublime Text. Why is this a good editor on Habr√© already written many times (for example, here ). ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Plugin for Sublime Text to publish articles on Habr</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/9e6/442/827/9e6442827a652d9345bdbcb2987d8923.png"><br><br>  For writing articles on Habr, I use the text editor Sublime Text.  Why is this a good editor on Habr√© already written many times (for example, <a href="http://habrahabr.ru/post/147856/">here</a> ).  However, when writing an article, there is a moment when it needs to be transferred for publishing to Habr, well, you know: Habr-&gt; Add post-&gt; Name, hubs, text (Ctrl + C / Ctrl + V), tags, preview.  At this point, it turns out that somehow the text with the pictures appeared ugly on Habr√©, the edits begin.  Edit in the browser?  Inconvenient and unsafe.  Edit in Sublime and constantly copy-paste?  Uncomfortable and annoying. <br><br>  Therefore, I made for myself a small Sublime plugin that can interact with Chrome and Habr by transferring the text to the editor in the Sublime hotkey on the page for creating a new topic with automatic pressing of the Preview button.  This allows you to write an article in Sublime and in one click to see the result of its display on Habr√©. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Under the cat, we learn how to write plugins for Sublime and figure out how to interact with Chrome from the Python code using its remote debugging protocol.  The full <a href="https://github.com/ezhikus/SublimeHabrPlugin">code for the plugin on GitHub is</a> attached. <br><a name="habracut"></a><br><h4>  Preamble </h4><br>  Plugin under Sublime Text 3 and Google Chrome.  With minimal edits, it can be adapted for Sublime Text 2 and with slightly larger ones - for Firefox.  It's just not very interesting to me, but whoever wants it - well, you know how the <a href="https://github.com/ezhikus/SublimeHabrPlugin/fork"><b>Fork</b></a> button on GitHub works. <br><br><h4>  Creating a new plugin for Sublime Text </h4><br>  There is nothing easier.  Launch Sublime Text, go to the menu - " <b>Tools -&gt; New Plugin ...</b> " and get a new text file with the following content: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sublime, sublime_plugin <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExampleCommand</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(sublime_plugin.TextCommand)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, edit)</span></span></span><span class="hljs-function">:</span></span> self.view.insert(edit, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>)</code> </pre> <br><br>  Press Ctrl + S and see that the save file dialog prompts us to save it to the User folder in the user profile.  We do not agree, go up one level (in the Packages folder), create the SublimeHabrPlugin folder here and save our file in this folder with the name SublimeHabrPlugin.py.  The beauty of Sublime Text is that you don't need to build, connect, or restart anything.  When the file is saved, it will automatically be loaded into the editor.  You can check this by opening the Sublime Text console (press Ctrl + ~), something like this should be written in it <br><br> <code>reloading plugin HabrPlugin.HabrPlugin</code> <br> <br>  now you can run the command in the same console <br> <code>view.run_command('example')</code> <br> <br>  and make sure that the phrase ‚ÄúHello, World!‚Äù was added to the text of the current file.  The name of the command ‚Äúexample‚Äù was derived from the name of the class ExampleCommand by dropping the ‚ÄúCommand‚Äù suffix and converting the remainder from CamelCase to underscore_case.  Those.  to add the ‚Äúhabr‚Äù command, our class must be called HabrCommand. <br><br><h4>  Preparing Chrome </h4><br>  How can we transfer our text from Sublime Text to Google Chrome, and even not just ‚Äúsomewhere‚Äù, namely in the text editor field on the page of the new Habr topic, followed by pressing the ‚ÄúPreview‚Äù button?  This is where such a thing as the <a href="https://developers.google.com/chrome-developer-tools/docs/debugger-protocol">Chrome Remote debugging protocol</a> comes to the rescue.  This is a protocol that allows you to connect to Chrome, get a list of open tabs and full control over each of them (content modification, event subscription, JavaScript execution, installation of breakpoints) ‚Äîthat is  in fact, all that ‚Äúdeveloper tools‚Äù allow to do, which are opened on F12, allow to do.  I will reveal an even more terrible secret - these tools themselves work according to this protocol, which makes it possible to connect from one Chrome to debugging pages in another Chrome, on a remote machine or in a mobile version. <br><br>  To allow external connections, we need to run Chrome with a command line parameter. <br><br>  <b>chrome.exe --remote-debugging-port = 9222</b> <br><br>  Personally, I made myself a shortcut ‚ÄúArticle on Habr‚Äù on the desktop, launching chrome like this: <br><br>  <b>"C: \ Program Files (x86) \ Google \ Chrome \ Application \ chrome.exe" --remote-debugging-port = 9222 <a href="http://habrahabr.ru/topic/add/">habrahabr.ru/topic/add</a></b> <br><br>  As a result, in one click we get an open page of the new article and Chrome launched with the ability to connect for remote debugging. <br><br><h4>  We write the plugin itself </h4><br>  The idea of ‚Äã‚Äãthe plugin is already clear.  We will take all the text of the current file, connect to Chrome, get a list of tabs, connect to the tab with the Habr page open using the WebSockets protocol and execute Javascript, which will insert the text in the required field and click the Preview button.  So, go in steps. <br><br><h6>  How to take all the text of the current file </h6><br><pre> <code class="python hljs">text = self.view.substr(sublime.Region(<span class="hljs-number"><span class="hljs-number">0</span></span>, self.view.size()))</code> </pre><br><br><h6>  How to connect to Chrome and get a list of tabs </h6><br>  We need to connect via HTTP to the local machine on port 9222, get JSON with metadata, parse it and get a link from it to the connection string to the tab with Habr via the WebSockets protocol. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">download_url_to_string</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url)</span></span></span><span class="hljs-function">:</span></span> request = urllib.request.Request(url) response = urllib.request.urlopen(request) html = response.read() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> html info_about_tabs = download_url_to_string(<span class="hljs-string"><span class="hljs-string">'http://localhost:9222/json'</span></span>) info_about_tabs = info_about_tabs.decode(<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>) decoded_data = json.loads(info_about_tabs) first_tab_websocket_url = decoded_data[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'webSocketDebuggerUrl'</span></span>] print(first_tab_websocket_url)</code> </pre><br><br>  If you run this code, something like this will be displayed in the console. <br> <code>ws://localhost:9222/devtools/page/FD3D0027-0D2D-4DD0-AD1C-156FCA561F7E</code> <br> <br>  This is the URL for connecting to the debugging tab. <br><br><h4>  Connect to debug tabs by websocket </h4><br>  The WebSocket protocol here is selected by Chrome because of its convenience in two-way communications - the server can send notifications to the client about the events taking place immediately, without waiting for its next request.  WebSocket support, unlike HTTP, is not included in the standard Python library, so we have to take a third-party library.  I found <a href="">this one</a> , it copes well with the tasks. <br><br>  So, we connect to the right tab and run, for the beginning, in its context, simple Javascript: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SublimeHabrPlugin.websocket <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_to_socket</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(socket, data)</span></span></span><span class="hljs-function">:</span></span> socket.send(data) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_script_to_socket</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(socket, script)</span></span></span><span class="hljs-function">:</span></span> send_to_socket(socket, <span class="hljs-string"><span class="hljs-string">'{"id": 1, "method": "Runtime.evaluate", "params": { "expression": "'</span></span> + script + <span class="hljs-string"><span class="hljs-string">'", "returnByValue": false}}'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_open</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ws)</span></span></span><span class="hljs-function">:</span></span> print(<span class="hljs-string"><span class="hljs-string">'Websocket open'</span></span>) send_script_to_socket(ws, <span class="hljs-string"><span class="hljs-string">'alert(\'!\')'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ws, message)</span></span></span><span class="hljs-function">:</span></span> decoded_message = json.loads(message) print(decoded_message) ws.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connect_to_websocket</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url)</span></span></span><span class="hljs-function">:</span></span> res = SublimeHabrPlugin.websocket.WebSocketApp(url, on_message = on_message) res.on_open = on_open <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res first_tab_websocket = connect_to_websocket(first_tab_websocket_url) first_tab_websocket.run_forever()</code> </pre><br><br>  JavaScript, which inserts text into the editor on Habr√© and clicks the Preview button <br>  Well, it's completely simple: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'text_textarea'</span></span>).innerHTML = <span class="hljs-string"><span class="hljs-string">'text'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByName(<span class="hljs-string"><span class="hljs-string">'preview'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].click();</code> </pre><br><br>  Well, now it's all together. <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sublime, sublime_plugin <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SublimeHabrPlugin.websocket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">download_url_to_string</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url)</span></span></span><span class="hljs-function">:</span></span> request = urllib.request.Request(url) response = urllib.request.urlopen(request) html = response.read() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> html <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_to_socket</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(socket, data)</span></span></span><span class="hljs-function">:</span></span> socket.send(data) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_script_to_socket</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(socket, script)</span></span></span><span class="hljs-function">:</span></span> send_to_socket(socket, <span class="hljs-string"><span class="hljs-string">'{"id": 1, "method": "Runtime.evaluate", "params": { "expression": "'</span></span> + script + <span class="hljs-string"><span class="hljs-string">'", "returnByValue": false}}'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_open</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ws)</span></span></span><span class="hljs-function">:</span></span> text_to_send = str(base64.b64encode(bytes(ws.text, <span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>)), encoding=<span class="hljs-string"><span class="hljs-string">'UTF-8'</span></span>) send_script_to_socket(ws, <span class="hljs-string"><span class="hljs-string">'document.getElementById(\'text_textarea\').innerHTML = atob(\''</span></span> + text_to_send + <span class="hljs-string"><span class="hljs-string">'\');document.getElementsByName(\'preview\')[0].click();'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ws, message)</span></span></span><span class="hljs-function">:</span></span> decoded_message = json.loads(message) ws.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connect_to_websocket</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url)</span></span></span><span class="hljs-function">:</span></span> res = SublimeHabrPlugin.websocket.WebSocketApp(url, on_message = on_message) res.on_open = on_open <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HabrCommand</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(sublime_plugin.TextCommand)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, edit)</span></span></span><span class="hljs-function">:</span></span> text = self.view.substr(sublime.Region(<span class="hljs-number"><span class="hljs-number">0</span></span>, self.view.size())) info_about_tabs = download_url_to_string(<span class="hljs-string"><span class="hljs-string">'http://localhost:9222/json'</span></span>) info_about_tabs = info_about_tabs.decode(<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>) decoded_data = json.loads(info_about_tabs) first_tab_websocket_url = decoded_data[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'webSocketDebuggerUrl'</span></span>] print(first_tab_websocket_url) first_tab_websocket = connect_to_websocket(first_tab_websocket_url) first_tab_websocket.text = text first_tab_websocket.run_forever()</code> </pre><br><br>  In order not to wrestle with shielding any quotes, slashes and other special characters in the text when transferring from python to Javascript, I simply wrap everything in Base64 in Python code and expand it back to Javascript (good, Base64 support is included in the standard libraries of both languages) . <br><br><h4>  We hang execution of the habr command on hot key in Sublime Text </h4><br>  Open ‚ÄúPreferences -&gt; Key Bindings - User‚Äù.  We add there: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"keys"</span></span>: [<span class="hljs-string"><span class="hljs-string">"alt+shift+h"</span></span>], <span class="hljs-string"><span class="hljs-string">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"habr"</span></span> }</code> </pre><br><br><h4>  Result </h4><br><br>  Run Chrome, open Sublime Text, write "Test", press alt + shift + h: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fe/70c/8e0/1fe70c8e08c45229885308107fcf8edb.png"><br><br>  <a href="https://github.com/ezhikus/SublimeHabrPlugin">GitHub project</a> </div><p>Source: <a href="https://habr.com/ru/post/217121/">https://habr.com/ru/post/217121/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../217107/index.html">Going to Silicon Valley - an independent tour of the iconic places of the Valley</a></li>
<li><a href="../217109/index.html">St. Petersburg Conference for .NET Developers</a></li>
<li><a href="../217111/index.html">Icelandic people began to distribute Auroracoin cryptocurrency</a></li>
<li><a href="../217115/index.html">Drive development</a></li>
<li><a href="../217117/index.html">Business Secrets of Silicon Valley. How to build a successful business without attracting investment. Ilya Semin, founder of the startup Datanyze</a></li>
<li><a href="../217123/index.html">How and how to protect your data on PCs and drives today?</a></li>
<li><a href="../217127/index.html">Up5 Alpha on Google Play</a></li>
<li><a href="../217133/index.html">Challenges retail network: Apple vs. Ikea</a></li>
<li><a href="../217135/index.html">NASA asks to choose a spacesuit design</a></li>
<li><a href="../217137/index.html">Published a single rating web studios 2014</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>