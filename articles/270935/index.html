<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Assembling a 4-dimensional Rubik's Cube</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are familiar with the Rubik's cube puzzle, but, living in three-dimensional space, it is difficult to imagine such in four-dimensional. Of course, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Assembling a 4-dimensional Rubik's Cube</h1><div class="post__text post__text-html js-mediator-article">  We are familiar with the Rubik's cube puzzle, but, living in three-dimensional space, it is difficult to imagine such in four-dimensional.  Of course, Rubik did not patent four-dimensional cubes, and we are talking only about the similarity of the Rubik's cube. <br><br>  Therefore, first I will talk about how I imagine a four-dimensional puzzle. <br><br><img src="https://habrastorage.org/files/38a/499/731/38a499731a9e4334859eca635a2ac0b3.jpg"><br><a name="habracut"></a><br><h2>  Tesseract </h2><br>  To begin with, imagine how a three-dimensional cube is obtained.  Let's take one-dimensional space: everything that we can depict in it is limited to one-dimensional objects, such as a point, a segment, a ray, a straight line.  Draw a segment of unit length AB [0,1].  Now we will add the second dimension: the ordinate axis will be directed upwards, and our unit segment AB lies on the x-axis, in the Cartesian coordinate system. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Perhaps the two-dimensional space is most familiar to human understanding, because neither the sphere, nor the cube, will not work, we are accustomed to depict them as a projection on a plane.  Well, with two-dimensional space, we have no problems, so let's think about how to get a square.  So, we take the segment AB (vertices A (0,0) and B (1,0)) on the abscissa axis, retreat exactly one on the ordinate axis and duplicate the segment, let's call it CD, with points C (0,1) and D (1,1). <br><br>  To get a square, we now need to connect the corresponding vertices, that is, connect the vertex A (0,0) with its duplicate C (0,1), and connect the vertex B (1,0) with D (1,1).  Now we have an ACDB square.  Having understood how it works in two-dimensional space, it will be quite easy to understand how a cube is made in three-dimensional.  So the points: <br><br>  1. Add the third dimension, the axis of applicat will be directed into depth. <br>  2. Duplicate ACDB by retreating by one along the axis of applicate, the vertices are transformed as follows: <br>  A (0,0,0) -&gt; H (0,0,1) <br>  C (0,1,0) -&gt; F (0,1,1) <br>  D (1,1,0) -&gt; G (1,1,1) <br>  B (1,0,0) -&gt; E (1,0,1) <br>  3. Connect the corresponding vertices of the squares. <br><br>  Now the reader is mentally prepared to see the tesseract: <br><br><img src="https://habrastorage.org/files/379/f44/0cc/379f440ccdcd48f6a1a9c6ccd09385cc.PNG"><br><br>  In fact, we duplicate the cube, shifting along the axis of the fourth dimension, and connect the corresponding vertices - you can‚Äôt think of something easier.  For clarity, we will increase the duplicate cube by placing the original cube inside it.  This image is most often used when trying to project a tesseract onto a plane: <br><br><img src="https://habrastorage.org/files/89b/ebf/e1f/89bebfe1f3f348549502ff37735e223b.png"><br><br>  To emphasize that all the segments at tesseract are single and to show equal projection, the 4-D cube can be animated: <br><br><img src="https://habrastorage.org/files/87c/6a5/007/87c6a50076b14666bf54e09f0fadb535.gif"><br><br>  But this is all a saying, and the tale is ahead! <br><br><h2>  From tesseract to puzzle </h2><br>  Now let's see what there is a four-dimensional puzzle, and most importantly how to portray it. <br><br>  As is known, a cube has six faces, therefore, a three-dimensional puzzle of 6 colors.  To simplify our life, we will work with a 2x2x2 cube, in particular, it will be very useful for us that the permutations of such a cube are only 3 ^ 6 * 7!  = 3674160. <br><br><img src="https://habrastorage.org/files/c48/0d6/20e/c480d620ee614983b70e1f729adfb44a.png"><br><br>  We list the faces: <br>  - On the abscissa axis Left-Right, color green-blue. <br>  - On the y-axis Down-Up, color yellow-white. <br>  - On the axis of the front-back applique, color red-orange. <br><br>  <b>Turn on the warp drive and open the wormhole in the fourth dimension!</b> <br><br>  This is how foreign mathematicians depict a four-dimensional puzzle: <br><br><img src="https://habrastorage.org/files/1c7/3be/b6a/1c73beb6a08444f6a63d099be14217f4.jpg"><br><br>  That is, in fact, we just took a three-dimensional cube 2x2x2, added an axis to the fourth dimension and got the fourth line: <br>  - Along the axis of the fourth dimension Ana-Kata, color purple-gray. <br><br>  It should be noted that now all groups of 8 colors are three-dimensional facets, and not two-dimensional faces (which had 4 colors each).  Now, how to imagine exactly the same (mathematically equivalent) four-dimensional cube I: <br><br><img src="https://habrastorage.org/files/6ea/a4e/6e8/6eaa4e6e856d4f62b14631077cffc922.gif"><br><br>  If we take the inner part of the puzzle (that is, the cube consisting of 8 three-color corners), we simply cut out the octahedron from the three-dimensional cube and paint the inner cut surface in purple, as a result the corners of the cube became tetrahedrons painted in 4 colors.  Then we duplicated all the corners of the cube, turned the inner edge of the tetrahedra outward and painted it gray, resulting in my charm. <br>  Of course, the main difficulty of my work was not to use Delphi to write a program depicting a four-dimensional puzzle, but to develop an algorithm for solving such a puzzle.  That is, I had an idea, a mathematical representation, and OpenGL was the only means I was familiar with for depicting three-dimensional graphics. <br><br><h2>  Hyperface </h2><br>  Now we will consider what the hyperface rotation is.  In the puzzle described there are only 8 hyperfaces, each of them is a cube.  The rotation of the hyper face is essentially the rotation of one cube relative to another.  For example, the left cube is relative to the right, or internal to external.  The options to rotate the cube 24, because each of the 6 faces can be rotated by one of 4 sides.  We have 8 such cubes, so in one move we have 192 invariant arrangement of the puzzle elements.  I will cite a few of them below, under the spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">Faces Turns</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/788/646/d37/788646d37b104b2dafda9ded371da5f1.gif"><br>  <i>Rotate the inner hyperline.</i> <br><br><img src="https://habrastorage.org/files/800/27f/c8b/80027fc8b2f149f8bf0634d64682b947.gif"><br>  <i>Rotate front facet.</i> <br><br><img src="https://habrastorage.org/files/708/310/627/70831062729c42e68c218717ade3519f.gif"><br>  <i>Notice that this is only one turn: first, the cube is directed down with the desired face, then rotates around the vertical axis with the desired side.</i>  <i>This is how 24 turns on each facet are formed.</i> <br></div></div><br><h2>  Assembly </h2><br><div class="spoiler">  <b class="spoiler_title">Mixed cube</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/152/adb/96a/152adb96a7fe433da822f575fa529ec4.gif"><br></div></div><br>  The main assembly sequence was as follows: <br><br>  1. The heuristic method, which places the elements with gray colors at the position of the outer hyper face, called Kata, respectively, all elements with purple colors after this stage will be in the inner hyper face Ana. <br>  2. Orientation of gray colors of the outer facet outward. <br>  3. Orientation of the purple colors of the inner hyperface inward. <br>  4. Placement of elements of the outer hyper face according to the solution table of a three-dimensional cube 2x2x2 (of which there are only 3674160). <br>  5. Placing the elements of the inner hyper face according to the same decision table. <br><br>  On the first point, there were no special difficulties to place the gray outside, the purple inside was just a simple brute force, well, maybe slightly optimized, the whole essence of the algorithm looks like we <i>twist this sideways, we twist the other, rearrange a couple of times, oh, that's it!</i> <br><br>  The second stage had the algorithmic complexity O (192 ^ 3), but only 256 invariants, so it was decided to create a permanent table with pre-computed combinations of solutions (essentially an analogue of OLL in the Friedrich method for the Rubik's cube).  Makes a maximum of 6 moves. <br><br>  The third stage, although it was decided exactly as the second, but the exponential complexity of the order O (192 ^ 4) led to two-day searches, and the number of invariants was already 65536. Makes a maximum of 8 moves. <br><br><div class="spoiler">  <b class="spoiler_title">Oriented external and internal colors</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/da4/1ff/bc9/da41ffbc91b948799afa1ee36a71bddc.gif"><br></div></div><br>  But after orientation of colors on the Ana-Kata facets, we reduce the problem to a three-dimensional cube.  The fourth stage uses a table of 3674160 invariants, the solution of a three-dimensional cube is a maximum of 11 moves.  So the outside hypercube is assembled. <br><br><div class="spoiler">  <b class="spoiler_title">External facet assembled</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/b65/54c/b4f/b6554cb4f54844719e9bf7bd95efc457.gif"><br></div></div><br>  For the fifth stage, we use the same solutions of the three-dimensional cube, with the only exception that for each rotation of any face, the inner cube rotates with the necessary side relative to the exterior for each rotation, as a result, the outer, already assembled, facet rotates only its right-hand side and remains always almost collected. <br><br><div class="spoiler">  <b class="spoiler_title">Fifth stage</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/9dd/1a7/e59/9dd1a7e598d649d2801fb81adba76d32.gif"><br>  <i>At the outer edge, the same right side rotates, and at the inner edge, we always turn the side to be turned.</i> <br></div></div><br>  That is, using the tables, the computer now managed the microseconds to search, but now only caching the table from the HDD to the RAM takes a few minutes when initializing the program.  Well, if there are three pre-calculation tables at once, the assembly algorithm no longer seems complicated. <br><br><div class="spoiler">  <b class="spoiler_title">Whole dice assembly</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/be8/a77/eec/be8a77eec03746b48600dd9444b5ff08.gif"><br></div></div><br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/z7xo-1CmmDU%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTDM0C3HQtx1W6CtXYJGYLoJczFA" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/270935/">https://habr.com/ru/post/270935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270919/index.html">Let's encrypt: start of the public beta on December 3</a></li>
<li><a href="../270927/index.html">Quiz of 15 questions: do you know CSS well</a></li>
<li><a href="../270929/index.html">The most simple and reliable implementation of the Dispose design pattern</a></li>
<li><a href="../270931/index.html">Forgetting old ideas and trying to invent the ‚Äúold wheel‚Äù</a></li>
<li><a href="../270933/index.html">Installing the plug-in onlyoffice-alfresco (control sheet - cheat sheet)</a></li>
<li><a href="../270937/index.html">Live broadcast of the MBLT} DEV conference on November 17 at 10:00 (Moscow time)</a></li>
<li><a href="../270939/index.html">Little OS from scratch in C ++ and assembler</a></li>
<li><a href="../270943/index.html">Concurrent programming in Java8. Creating multi-threaded programs using the Fork / Join Framework</a></li>
<li><a href="../270949/index.html">Factorization of numbers (option 2)</a></li>
<li><a href="../270951/index.html">Underground carders market. Translation of the book "KingPIN". Chapter 17. Pizza and Plastic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>