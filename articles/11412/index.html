<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WSGI, Paste, Pylons - advanced web technologies</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not a single Rails! 
 Quote from sm.org . 
 The WSGI theme on Habr√© is not disclosed, I will try to eliminate the possible illiteracy and just interes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WSGI, Paste, Pylons - advanced web technologies</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/olpictures/8f4/969/e98/8f4969e98b10fb59618a70acca670e98.gif" width="211" height="71" alt="Python Logo" hspace="10" vspace="10" align="right"><br><blockquote>  Not a single Rails! </blockquote><br>  Quote from <a href="http://softwaremaniacs.org/">sm.org</a> . <br>  The WSGI theme on Habr√© is not disclosed, I will try to eliminate the possible illiteracy and just interesting to tell about the current, in my opinion, technology.  And at the same time I will touch Paste and gallop - Pylons.  But about everything in order. <a name="habracut"></a><br><h2>  WSGI </h2><br>  <strong><a href="http://www.wsgi.org/wsgi">WSGI</a> (Web Server Gateway Interface) is an interface for interaction between a web server and web applications written on it written in Python.</strong>  WSGI is a Python standard and is described in <a href="http://www.python.org/dev/peps/pep-0333/">PEP 333</a> .  This is a very young technology.  The brainchild of Phillip J. Eby, originally called the Python Web Container <br>  The interface was sent as a contender for <a href="http://en.wikipedia.org/wiki/Python_Enhancement_Proposal">PEP</a> in the Python Web-SIG on December 7, 2003.  And in August 2004, it received its modern name and set sail on a large voyage.  A few words about this technology. <br>  The modern variety of programming languages ‚Äã‚Äãand <a href="http://ru.wikipedia.org/wiki/%25D0%25A4%25D1%2580%25D0%25B5%25D0%25B9%25D0%25BC%25D0%25B2%25D0%25BE%25D1%2580%25D0%25BA">frameworks</a> for the web certainly horrifies novice programmers.  And the more experienced are amazed that even applications written in the same language are highly incompatible and incapable of reusing code.  Moving a project from under one server to another often becomes a severe headache.  Therefore, the emergence of unifying standards is a logical step in the development of technology. <br>  WSGI is an interface (in other words, a layer) between a <a href="http://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B5%25D0%25B1-%25D1%2581%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B5%25D1%2580">web server</a> and a <a href="http://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B5%25D0%25B1-%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BB%25D0%25BE%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">web application</a> .  Therefore, from the application side it looks like a web server, and from the server side it looks like an application.  This is an important concept.  It says that for your project written under WSGI, it doesn‚Äôt matter whether it is running on, say, mod_python under Apache or how FastCGI is somewhere else.  And you can be engaged in a writing of the application, but not studying of API or an environment in the chosen sheaf. <br><br><h2>  Hello world! </h2><br>  It looks very good in practice (an example of a WSGI-compatible application): <br><pre>  &lt;b&gt; def &lt;/ b&gt; app (environ, start_response):
   start_response (&lt;span style = "color: # 693"&gt; '200 OK' &lt;/ span&gt;, [(&lt;span style = "color: # 693"&gt; 'Content-Type' &lt;/ span&gt;, &lt;span style = " color: # 693 "&gt; 'text / plain' &lt;/ span&gt;)])
   return [&lt;span style = "color: # 693"&gt; 'Hello World! \ n' &lt;/ span&gt;] </pre><br>  The example is concise and indicative. <br><ul><li>  A WSGI application is a callable object (for example, a function) that can be called with two arguments: a dictionary that imitates environment variables, and a callable object to initiate a response, that is, to send an <a href="http://ru.wikipedia.org/wiki/HTTP">HTTP</a> status (200 OK) and HTTP headers. </li><li>  environ is very similar to the CGI environment and contains familiar values ‚Äã‚Äã(REQUEST_METHOD, PATH_INFO) along with WSGI-specific (environ ['wsgi.input'] contains a stream for reading data transmitted by the POST method). </li><li>  The application returns an iterator with the body of the answer, in other words, an array of strings that will be glued together and sent to the browser. </li></ul><br><br><h2>  Paste comes into play </h2><br>  Want to check how your application works right now by adding 3 lines of code? <br><img align="right" src="https://habrastorage.org/getpro/habr/olpictures/a20/707/21e/a2070721e57bde756b8dda7598029e1c.png" width="159" height="66"><br><pre>  &lt;b&gt; if &lt;/ b&gt; __name__ == &lt;span style = "color: # 693"&gt; '__ main __' &lt;/ span&gt;:
   &lt;b&gt; from &lt;/ b&gt; paste &lt;b&gt; import &lt;/ b&gt; httpserver
   httpserver.serve (app, host = &lt;span style = "color: # 693"&gt; '127.0.0.1' &lt;/ span&gt;, port = &lt;span style = "color: # 693"&gt; '8080' &lt;/ span&gt;) </pre><br>  <strong><a href="http://pythonpaste.org/">Paste</a> is a metaframe, a set of components and utilities for both the web programmer and the administrator.</strong> <br>  Administrator: <br><ul><li>  helps you quickly and easily install, launch and configure web applications written for Paste;  integrate them with a web server using WSGI (as well as SCGI, FCGI, AJP); </li><li>  allows you to easily maintain, manage and install applications in the system (system-wide). </li></ul><br>  Programmer, in turn, Paste <br><ul><li>  provides command-line utilities and initial templates to greatly simplify working with your framework; </li><li>  facilitates the entire development cycle: project initiation, updating, testing and deployment, </li><li>  makes the development of WSGI applications a pleasant and interesting thing, </li><li>  <a href="http://pythonpaste.org/developer-features.html">so much more</a> . </li></ul><br>  In this case, we used the HTTP server built into Paste to instantly show how it all works.  This server is also used in the development of real-world applications using frameworks.  However, this is a completely standard and necessary thing, also used in <a href="http://en.wikipedia.org/wiki/Ruby_on_Rails">Ruby on Rails</a> . <br>  Paste also contains a <a href="http://pythonpaste.org/module-index.html">lot of useful things</a> .  Their presence and abundance makes it possible to speak about Paste both as a framework and as a metaframe.  The prefix <em>meta-</em> says that it is a framework for creating frameworks, and comes from the Greek ŒºŒµœÑŒ¨ (after, behind, in between). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Concept: application stack </h2><br>  Let's go back to the WSGI.  Imagine what would happen if within a WSGI application you make preliminary processing of a request (say, by session identifier in cookies, restore a user from the database), call another WSGI application and return the result of the latter?  It turns out almost that the scheme to support <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B5%25D1%2580%25D0%25BA%25D0%25B0_%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25BB%25D0%25B8%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">authentication</a> .  And if the first application calls the second, does <a href="http://ru.wikipedia.org/wiki/XSLT">XSL transformations</a> apply to the results of its activity? <br>  Here is another important concept.  The first application in these examples acts as a layer, or middleware.  And the totality of all middleware forms the application stack.  In this way, a very modular system is obtained in which the components can not even be connected, but simply put in the right order on the WSGI base (without forgetting your application from above). <br><br>  Using such a system, you can connect <a href="http://www.sqlalchemy.org/">SQLAlchemy</a> - ‚Äúthe Python SQL toolkit and Object Relational Mapper‚Äù, <a href="http://authkit.org/">AuthKit</a> is a versatile and flexible framework for authorizing users, <a href="http://www.wsgi.org/wsgi/Middleware_and_Utilities">and not only check</a> .  And of course - middleware for catching exceptions and transforming them into ‚Äúoops‚Äù and ‚Äúoh-oh-oh‚Äù pages.  It should be noted that Paste encourages wrapping in middleware even such non-Nebov parts as configuration.  It turns out a simple, obvious and certainly flexible application structure. <br><br><h2>  All together and something else - Pylons </h2><br>  So, WSGI provides a web server connection with a multi-layered middleware structure.  Paste will help solve typical tasks such as testing, catching exceptions, internal redirects of requests and even the indicator of the file upload (Upload Progress Monitor).  Authorization, authentication and work with the database without a single line of SQL were given as an example of middleware just above. <br>  Now we‚Äôll add request routing using <a href="http://routes.groovie.org/">Routes</a> , the AJAX <a href="http://www.pylonshq.com/WebHelpers/module-index.html">backend</a> is <a href="http://www.pylonshq.com/WebHelpers/module-index.html">WebHelpers</a> (both components are fully ported from RoR), the <a href="http://www.makotemplates.org/">Mako</a> templates are elegant, with unique capabilities and incredible speed, Unicode and I18N support, let's put it all together into a full-fledged Model-View- Controller structure and get <strong><a href="http://pylonshq.com/">Pylons</a> - an advanced WSGI-compatible web framework for Python, which absorbed all the best from Python, RoR and other frameworks and projects</strong> . <br>  In fairness and criticism, it is worth noting that these technologies are very young, for example, Pylons is still in version 0.9.5, and AuthKit is not yet in development and is not recommended for use in production.  Nevertheless, I hope that I managed to convince you that WSGI is promising, and filled with Paste libraries and others is an almost perfect (or canonical?) Web framework.  Although WSGI technology can be used in <a href="http://turbogears.org/">TurboGears</a> , <a href="http://www.cherrypy.org/">CherryPy</a> , <a href="http://www.djangoproject.com/">Django</a> and other frameworks. <br>  Of course, for at least some objective comparison of them, I don‚Äôt have enough experience, but writing the same application under Pylons and Django allows me to conclude that Pylons really steers, although it is more difficult to learn and install. <br><br><h2>  Something Used </h2><br><ul><li>  <a href="http://www.wsgi.org/wsgi">WSGI</a> , <a href="http://en.wikipedia.org/wiki/WSGI">WSGI</a> . </li><li>  <a href="http://linuxgazette.net/115/orr.html">WSGI Explorations in Python</a> - Linux Gazette # 115 </li><li>  <a href="http://www.python.org/dev/peps/pep-0333/">PEP 333</a> </li><li>  <a href="http://pythonpaste.org/">Paste</a> </li><li>  <a href="http://pylonshq.com/">Pylons</a> </li><li>  <a href="http://docs.pythonweb.org/dashboard.action">Python Web Documentation Project</a> - wiki documentation and cookbooks for Pylons, AuthKit, and more. </li><li>  <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25B3%25D0%25BB%25D0%25B0%25D0%25B2%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2586%25D0%25B0">Wikipedia</a> , <a href="http://en.wikipedia.org/wiki/Main_Page">Wikipedia</a> , <a href="http://www.google.com/">Google</a> </li><li>  <a href="">Mark Rees: WSGI - Gateway or Glue?</a>  (Pdf) </li></ul></div><p>Source: <a href="https://habr.com/ru/post/11412/">https://habr.com/ru/post/11412/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../114113/index.html">We are looking fast, even faster</a></li>
<li><a href="../114114/index.html">Native Client: Ready for takeoff!</a></li>
<li><a href="../114117/index.html">About C ++ aliasing, deft optimizations and vile bugs</a></li>
<li><a href="../114118/index.html">Fun ImageMagick features to help web designer</a></li>
<li><a href="../114119/index.html">Layout mailing: view from the inside</a></li>
<li><a href="../114120/index.html">Collaboration approach to machine creativity</a></li>
<li><a href="../114122/index.html">ICQ spam in Pidgin - disable authorization requests</a></li>
<li><a href="../114125/index.html">Cultural differences. Communication with American colleagues</a></li>
<li><a href="../114127/index.html">Perl and Bash load monitoring script</a></li>
<li><a href="../114129/index.html">jCanvaScript: JavaScript library for working with html5 canvas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>