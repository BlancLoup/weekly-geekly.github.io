<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>10 Tips for Initially Setting Up a Hyper-V Environment</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Typically, installing the Hyper-V environment is not fundamentally difficult and does not take much time. However, its adjustment can cause a lot of q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>10 Tips for Initially Setting Up a Hyper-V Environment</h1><div class="post__text post__text-html js-mediator-article"><p>  Typically, installing the Hyper-V environment is not fundamentally difficult and does not take much time.  However, its adjustment can cause a lot of questions and will definitely require close attention.  Therefore, today we would like to give some useful tips on how to properly configure Hyper-V.  The order of their application can be arbitrary. </p><br><br><a name="habracut"></a><br><br><h4>  1. Install updates, and then decide how you will update Hyper-V in the future </h4><br><p>  Regardless of the installation method, the components on the Hyper-V server will need to be updated, and you need to decide how to do it.  Updates that require a host restart suspend the virtual machines running on it and resume their operation as soon as the host is restarted.  If this option is not acceptable, then you should consider the possibility of transferring a virtual machine, using SCVMM, allocating time for updates, etc. </p>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  2. Decide on a domain </h4><br><p>  There are different points of view on whether to add Hyper-V hosts in the same Active Directory domain, where everything else is, or not.  Some users assign a separate domain for Hyper-V hosts, others do not even enter Hyper-V hosts into the domain.  Assess the risks, consider the features of domain management and possible failure scenarios to make a decision, best of all based on your assessment of the virtual environment, that is, there is no universal answer, and you will have to decide it yourself. <br>  In addition, at this stage you need to come up with a suitable name for the Hyper-V host.  It is better to choose a name that will stand out in the list of your servers, because you cannot make mistakes when working with a Hyper-V host: they can be really disastrous.  To confuse the names and restart the host with the virtual machines of the mail and file servers at the height of the working day is not the situation for which virtualization is being implemented. </p><br><br><h4>  3. Configure the storage system </h4><br><p>  If you need MPIO and HBA drivers or SAN software, install it all before adding the Hyper-V role (this is the installation scenario for Windows Server 2012).  By the time you get into virtual machines, all of these components should already be operational. </p><br><br><h4>  4. Configure Administrator Accounts </h4><br><p>  Want to use the same pool of administrators as on all other Windows Servers?  Then reread paragraph 2. </p><br><br><h4>  5. Choose friendly names for network interfaces </h4><br><p>  If you have configured the virtual environment correctly, there will be several network interfaces on your hosts.  When they are all called ‚ÄúLocal Area Connection‚Äù or ‚ÄúLocal Area Connection 2‚Äù, this is not very convenient.  Well, if you have different types of interfaces (for example, based on Broadcom and Intel devices): you can just remember what it is and where it is.  But you should not count only on your memory.  Give each interface a friendly name: ‚ÄúHost LAN‚Äù, ‚ÄúControl LAN‚Äù, etc. You can even specify the type of communication channel: ‚ÄúK‚Äù for cable, ‚ÄúC‚Äù for complex, etc. </p><br><br><h4>  6. Disable unnecessary protocols. </h4><br><p>  If Hyper-V hosts work in a data center, you most likely will not use most of the peer-to-peer networking technologies of Windows, and even more so, IPv6.  Everything should be extremely simple: you should simplify the infrastructure and disable such components as the IPv6 protocol, the service of the data link layer topology and in general everything that you will not use. </p><br><br><img src="https://habrastorage.org/getpro/habr/post_images/649/6f7/b64/6496f7b645d37802ffe4c924cf026201.jpg" alt="10 Tips for Initially Setting Up a Hyper-V Environment Tip 6: Disable unnecessary protocols"><br><br><h4>  7. Be sure to activate Windows </h4><br><p>  Regardless of which activation method you use: a key management server (KMS), a multiple activation key (MAK), an OEM version of Windows, or something else - make sure that the Windows startup is not interrupted due to the offer to activate the system using the console.  This point is not so important when using Hyper-V Server 2012, Microsoft's free hypervisor. </p><br><br><h4>  8. Configure remote and local control. </h4><br><p>  This is one of Microsoft's recommendations, which is necessary, but often ignored.  The new Server Manager, PowerShell and Hyper-V Manager allow you to perform many operations remotely without logging in directly to the server.  However, it is necessary to choose a convenient tool for yourself.  For example, some still prefer to log in to servers in remote desktop mode, even if you have to use a banal console with a single command line, like Windows Server Core with Hyper-V or Hyper-V Server 2012. </p><br><br><h4>  9. Set default paths to virtual machines and disks. </h4><br><p>  What can annoy more than accidentally stumble upon a virtual machine on a local disk?  Oddly enough, sometimes this happens because of administrative errors.  Be sure to specify the correct location in the settings of virtual hard disks and virtual machines.  You can‚Äôt expect anything good if you fill up the C: \ drive and the host stops working normally, so even if the above option (drive E: \ in Figure 2) is not optimal, in a situation where the drive is full, it is still better. </p><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f60/b63/95a/f60b6395a3b8c74ffe34023976191121.jpg" alt="10 Tips for Initially Setting Up a Hyper-V Environment Tip 9: Set the default paths to virtual machines and disks"><br><br><h4>  10. Check for access via freelance channel </h4><br><p>  This tip is relevant for both Hyper-V and vSphere.  Make sure you can connect to the system if something goes wrong.  Tools like KVM, Dell DRAC or HP iLO will help. </p><br><br><p>  These are tips of a very general nature, based on the experience of working with a virtual environment, but there are certainly plenty of other useful tricks.  In fact, the best way to gain experience is to deploy the system and then fix what exactly had to be changed after installation. </p><br><br><p>  In order for the tuned virtualization system to continue to function optimally in the future, you can use backup, monitoring and performance analysis tools specifically designed for the virtual environment.  Additionally on this topic you can see the following links: </p><br><br><ul><li>  Hyper-V free environment management solution: <a href="http://www.veeam.com/ru/virtual-server-management-one-free.html%3Fad%3Dhabr">Veeam ONE Free Edition</a> </li><li>  Free Hyper-V Virtual Machine Backup Tool: <a href="http://www.veeam.com/ru/free-microsoft-hyper-v-server-backup.html%3Fad%3Dhabr">Veeam Backup Free Edition for Hyper-V</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/175995/">https://habr.com/ru/post/175995/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../175985/index.html">Quick Start: Visual Database Design in MySQL Workbench</a></li>
<li><a href="../175987/index.html">Continuation of the video lectures of the course "Operating Systems" with Alexei Bragin in MSTU. Bauman</a></li>
<li><a href="../175989/index.html">Launch .NET MicroFramework on STM32F4Discovery (translation)</a></li>
<li><a href="../175991/index.html">LibreOffice in the corporate sector - from theory to practice</a></li>
<li><a href="../175993/index.html">Open government and all other state structures as platforms</a></li>
<li><a href="../175999/index.html">ASP.NET MVC. Lesson 0. Introduction</a></li>
<li><a href="../176001/index.html">ASP.NET MVC Lesson 1. Start</a></li>
<li><a href="../176005/index.html">Ultrabook Acer Aspire S7-191 video review</a></li>
<li><a href="../176007/index.html">ASP.NET MVC Lesson 2. Dependency Injection</a></li>
<li><a href="../176013/index.html">#FailOverConf - how it was, presentations and videos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>