<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>2GIS - separately, spammers - separately</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The 2GIS tacit slogan can be made ‚ÄúFrom the fence to lunchtime‚Äù. It very accurately reflects what we have - all the useful information about the city....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>2GIS - separately, spammers - separately</h1><div class="post__text post__text-html js-mediator-article">  The <a href="http://2gis.ru/utm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_antispam">2GIS</a> tacit slogan can be made ‚ÄúFrom the fence to lunchtime‚Äù.  It very accurately reflects what we have - all the useful information about the city.  For some users it may be fences, for others - the exact time of work, for the third - something else. <br><br>  Because we are relevant, accurate and know almost everything about companies, we are loved.  Unfortunately, not all of this love is sincere.  There are users who have decided that 2GIS can be used for their own selfish purposes and to the detriment of others.  This does not suit us, so we decided, if not to end it, then to make the lives of such users as complex as possible. <br><br>  This, of course, about spammers.  Under the cut there is a small story about the disappearance of e-mail addresses in the <a href="http://maps.2gis.ru/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_antispam">online version</a> , <a href="http://api.2gis.ru/utm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_antispam">API</a> and what will happen next. <br><img src="https://habrastorage.org/storage3/afd/719/f11/afd719f114c277b60b7678c03c501499.png"><br><a name="habracut"></a><br>  According to Kaspersky, the <a href="http://www.kaspersky.ru/news%3Fid%3D207734061">proportion of spam in mail traffic is 70%</a> .  Until recently, 2GIS was a source for spammers to replenish their mailing lists. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      E-mail addresses appeared in the directory around 2002.  Now, no one can reliably tell how many there were then, but certainly not very much.  Over time, from release to release, their number increased.  This, of course, is the merit of not only our call-center, but also the development of technology in general.  Today there are almost 2,000,000 companies in 2GIS.  These are about 700,000 e-mail addresses that are so interesting to ‚Äúe-mail carriers‚Äù.  With the help of parsers, they pulled out the data and used them for distribution or further sale.  Their actions gave a load on the API and brought harm to companies that are placed in the directory. <br><br>  We decided to actively fight it. <br><br>  One option was to hide email addresses.  However, before deciding on it, it was necessary to check how this would affect users and companies.  As a platform for the experiment, we chose the most dynamic version - <a href="http://maps.2gis.ru/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_antispam">online</a> . <br><br><h3>  Hypothesis testing </h3><br>  Indeed, do we need e-mails?  Do they use them?  Are they an effective communication channel with the company?  Before deleting, it was necessary to give answers to all these questions. <br><br>  <b>We started with data analysis.</b>  Statistics, <i>which never lies</i> , showed that for 500 calls there is one click to the postal address.  Not critical. <br><br>  <b>We looked at the expanses of the Internet.</b>  We found there sites of companies with catalogs, prices and other things that help you quickly find out about services and prices. <br><br>  More on the Internet were found specialized resources ( <a href="http://flamp.ru/">Flamp</a> , <a href="http://flamp.ru/">Banks.ru</a> ) and social networks in which you can chat with representatives of companies, in every way to praise or scold them.  It's smooth here too. <br><br>  <b>Decided to err.</b>  They interviewed themselves, friends themselves and friends of friends.  No one remembered when he last clicked on an e-mail.  And many (the absolute majority) said that they don‚Äôt write to info @ at all, since the letter would most likely fall into the abyss.  And, as a rule, it is much easier and more efficient to call or find mail of a particular specialist.  Again, everything is clear.  Nearly. <br><br>  One doubt remained: <br><img src="https://habrastorage.org/storage3/bcd/fc0/aab/bcdfc0aab37d1255b8c215c48b8a15b5.jpg"><br><br>  We confess immediately.  We did not look at the billions of hours of a web-visitor - there are more efficient ways to spend this time.  We decided to turn off and look at the reaction. <br><img src="https://habrastorage.org/storage3/1e5/30a/d1f/1e530ad1f7af54b26c28ecc3e184e357.png"><br><h3>  Reaction </h3><br>  And how do you think, how many angry letters have we received?  Tens, hundreds, thousands?  No, less than 10 (ten letters).  And it was impossible to call them angry.  Two or three letters were from companies that just wanted to know where the addresses went.  And a few more - from those who have a material interest in their presence. <br><br>  For example: <br><img src="https://habrastorage.org/storage3/b38/a99/2da/b38a992dac3470aeaa758b814733df66.png"><br><br>  A bit of magic, deduction and Google explain to us why a person is interested in this question.  Namely, there was a video (it has already been cut at our request), where it demonstrates the work of the parser. <br><br>  Sorry for the sad news, but we do not plan to return email addresses and exit the game. <br><br>  However, some manufacturers of parsers are optimistic about the future and offer customers their product at a discount ‚Äúdue to technical problems of 2GIS‚Äù: <br><img src="https://habrastorage.org/storage3/3c4/0f7/7c3/3c40f77c3ac182adec7df4b1de1e9880.png"><br><br>  If your projects need data from 2GIS, then it is much easier to get them in legal ways: <br><br>  1. Order production <br>  to choose from: <a href="http://content.2gis.ru/shape/">electronic</a> , <a href="http://content.2gis.ru/wall/">wall</a> , <a href="http://content.2gis.ru/booklet/">folding</a> .  Order a <a href="http://content.2gis.ru/sample/">sample of any complexity</a> from the database. <br><br>  2. Use <a href="http://api.2gis.ru/utm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_antispam">the 2GIS API</a> <br>  You can all together, but you can separately map and reference book separately. <br><br><h3>  findings </h3><br>  There were no negative consequences in hiding e-mails in the directory.  Well, for honest users.  And the load on API 2GIS decreased by about 30%.  And something suggests that these 30% of the load just created by the work of parsers. <br><br>  At the same time, we understand that 2GIS-online has its own audience, with its own user scenarios, different from the scenarios of using <a href="http://2gis.ru/about/pc/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_antispam">PC</a> and <a href="http://2gis.ru/about/mobile/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_antispam">mobile versions</a> .  That is why the simple concealment of mail in them will not be. <br><br>  Instead of mail, a form for company feedback will appear.  In fact, the message will go to the same e-mail address that was specified earlier, but only through the 2GIS server.  We hope that this will make hacking the PC version a useless exercise, since the tidbit - e-mail addresses - will not be stored in the program itself. </div><p>Source: <a href="https://habr.com/ru/post/193580/">https://habr.com/ru/post/193580/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../193568/index.html">The case of Pixar or again about the importance of testing backups</a></li>
<li><a href="../193570/index.html">We invite you to take part in a series of trainings and hackathon on Tizen!</a></li>
<li><a href="../193572/index.html">Manage any AV-technology from the phone. IR transceiver for Raspberry</a></li>
<li><a href="../193576/index.html">I want to congratulate all colleagues on the Day of the Programmer</a></li>
<li><a href="../193578/index.html">Private space is now in Russia</a></li>
<li><a href="../193582/index.html">The contest ‚ÄúFriday, the 13th, the Day of the Programmer‚Äù</a></li>
<li><a href="../193584/index.html">Ethics (or unethical) massive government surveillance</a></li>
<li><a href="../193586/index.html">Implementation of the voice menu on perl via usb modem Huawei e1550</a></li>
<li><a href="../193588/index.html">Protect the Internet, or Hands off, cursed NSA, from the brainchild of the military-industrial complex!</a></li>
<li><a href="../193592/index.html">What is silent Gantt chart or why projects are always late</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>