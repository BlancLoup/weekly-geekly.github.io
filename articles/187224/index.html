<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of IntelliJ IDEA plugin. Part 4</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Finally we got to the very pulp, in this part - lexical and syntactic analysis, PSI (Program Structure Interface), stubs (Stubs). Previous parts: 1 , ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of IntelliJ IDEA plugin. Part 4</h1><div class="post__text post__text-html js-mediator-article"><h6>  Finally we got to the very pulp, in this part - lexical and syntactic analysis, PSI (Program Structure Interface), stubs (Stubs).  Previous parts: <a href="http://habrahabr.ru/post/187106/">1</a> , <a href="http://habrahabr.ru/post/187142/">2</a> , <a href="http://habrahabr.ru/post/187208/">3</a> </h6><br>  IntelliJ IDEA is not only a Java IDE, but also a powerful platform for building development tools for any language.  Most IDEA functions consist of two parts: language independent and language-specific.  Therefore, the support of features of any language does not require much effort - it is necessary to implement only a specific part, and language independent is provided by the platform.  In addition, IDEA provides a powerful framework that allows you to implement your own functions that are required when developing a toolkit. <br><br><h4>  File Type Registration </h4><br>  The first step in developing a specific language plug-in is to register the associated file type.  Typically, IDEA defines a file type according to its name (extension). <br>  The file type of a specific language is a class inherited from LanguageFileType, which passes an instance of the Language class to the parent constructor.  To register a file type, you must provide an implementation of the FileTypeFactory interface, registered at the extension point com.intellij.fileTypeFactory: <br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defaultExtensionNs</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.intellij"</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fileTypeFactory</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">implementation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.intellij.lang.properties.PropertiesFileTypeFactory"</span></span></span><span class="hljs-tag">/&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <a name="habracut"></a><br>  An example <a href="">implementation of the LanguageFileType class</a> in the Properties plugin. <br><br>  To verify the registration is correct, you should make sure that the icon displayed next to the files with the extension associated with the user-defined file type matches the icon defined in the getIcon () method. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Implementing a lexical analyzer </h4><br>  A lexer (lexical analyzer) determines how the contents of a file will be divided into a sequence of tokens.  Lexer serves as the foundation for almost all functions of language plug-ins, starting with syntax highlighting and ending with code analysis functions.  The lexer API is defined in the Lexer interface. <br>  IDEA calls the lexer in three main contexts and the plugin must provide an implementation for each of them: <br><ul><li>  syntax highlighting - the lexer must be returned by the implementation of the SyntaxHighlighterFactory interface registered at the expansion point com.intellij.lang.syntaxHighlighterFactory; </li><li>  building an abstract syntax tree ‚Äî the lexer must be returned from the ParserDefinition.createLexer () method, the implementation of the ParserDefinition interface must be defined at the com.intellij.lang.parserDefinition extension point; </li><li>  building an index of the words contained in the file ‚Äî if the scanner implementation is used based on the user lexer, it is passed as an argument to the constructor of the DefaultWordsScanner class. </li></ul><br>  The lexer used for syntax highlighting may be called incrementally, to process only the changed part of the file.  In other cases, lexers are invoked to process a file as a whole, or a complete language construct embedded in a file of another type. <br><br>  The incrementally called lexer must return its current state, i.e.  context corresponding to each position in the file.  An important requirement for syntax highlighting is the representation of the state by a regular number (returned from the Lexer.getState () method).  This state will be passed to the Lexer.start () method along with the starting fragment offset for processing when it is necessary to continue the lexical parsing in the middle of the file.  Lexers in other contexts can simply return 0. <br><br>  To simplify the creation of a lexical analyzer of a specific programming language, you can use a lexer generator, such as JFlex.  IDEA includes adapter classes (FlexLexer and FlexAdapter) that adapt JFlex lexers to the IDEA lexical API.  The Intellij IDEA Community Edition source codes contain a modified version of JFlex 1.4.1 and a lexer procurement file that can be used in the development of FlexAdapter compatible lexers.  A modified version of JFlex provides a new command line option <code>--charat</code> , which modifies the generated code so that it works with IDEA (which requires CharSequence instead of an array of characters). <br>  To facilitate the development of lexers using JFlex, there is a <a href="http://plugins.jetbrains.com/plugin/%3Fid%3D263">plugin</a> that provides syntax highlighting and other useful features. <br><br>  Example: <a href="">lexer</a> from the Properties plugin. <br><br>  It must be remembered that lexers, including those based on JFlex, must parse the entire file, without any gaps between tokens, i.e.  in case of detection of invalid characters, they should be assigned the type of token reserved for such cases - <code>TokenType.BAD_CHARACTER</code> .  And, moreover, the lexer should not interrupt its work until the end of the parsing. <br><br>  The types of tokens in IDEA are defined as instances of the IElementType class.  Some types of tokens common to most languages ‚Äã‚Äãare defined in the TokenType interface.  Custom plugins should reuse them in their lexer implementations.  The remaining types of tokens should be associated with self-created objects of the IElementType class.  The same IElementType instances must be returned each time the lexer parses the corresponding token. <br><br>  Example: <a href="">types of tokens</a> used in the Properties language. <br><br>  An important feature that can be implemented at the lexer level is the mixing of languages ‚Äã‚Äãwithin a file (for example, embedded Java code fragments in a file with a template).  If the language supports embedding of fragments, they should be defined as ‚Äúchameleon‚Äù tokens, different for different types of fragments, and the type of token should implement the ILazyParseableElementType interface.  To parse a fragment, IDEA will call the parser of the corresponding language by calling the ILazyParseableElementType.parseContents () method. <br><br><h4>  Parsing and PSI </h4><br>  Parsing in IntelliJ IDEA takes place in two steps.  The first one builds an abstract syntax tree, which defines the structure of the program.  The AST nodes, represented by instances of the ASTNode class, are created by IDEA itself.  Each node has an associated element type (as an object of type IElementType), which is determined by the plugin.  The top-level AST node representing the file must have a special element type that implements the IFileElementType interface. <br><br>  AST nodes have a direct mapping to the text ranges of the underlying document (the leaf tokens are mapped to specific tokens returned by the lexer, higher-level nodes contain fragments of several tokens). <br>  Operations performed on AST nodes (insert, delete, reorder, etc.) are immediately reflected as changes to the text of the underlying document. <br><br>  In the second step, PSI (Program Structure Interface) is created on the basis of an abstract syntax tree, adding semantics and methods for manipulating specific language constructs.  PSI nodes are represented by classes that implement the PsiElement interface; they are created using the ParserDefinition.createElement () method.  The root node of the PSI tree must implement the PsiFile interface and be created in the ParserDefinition.createFile () method. <br><br>  Example: <a href="">ParserDefinition</a> for the Properties plugin. <br><br>  The base classes for implementing PSI elements (PsiFileBase, based on PsiFile, ASTWrapperPsiElement, based on PsiElement) are provided by IntelliJ IDEA itself, i.e.  contained in the internal implementation.  Therefore, when developing plugins for version 10.5 and earlier, you need to make sure that idea.jar is in the classpath.  In newer versions (starting from 11.0) it is added to the classpath automatically. <br><br><h5>  Parser implementation </h5><br>  IntelliJ IDEA does not provide the ability to use ready-made grammars of programming languages ‚Äã‚Äã(such as ANTLR) to create syntax analyzers in custom plugins.  But the parser and PSI classes can be generated using the <a href="http://plugins.intellij.net/plugin/%3Fid%3D6606">Grammar-Kit</a> plugin.  In addition to generating code, it provides other options for editing grammars: syntax highlighting, navigation, refactoring, and more. <br><br>  The createParser () method of the ParserDefinition class in the language plugin should provide a parser that implements the PsiParser interface.  The parser gets an instance of the PsiBuilder class, which is used to get a stream of tokens from the lexer and create an intermediate representation of AST.  The parser is required to process each token to the end of the sequence (until PsiBuilder.getTokenType () returns null), even if the tokens do not match the syntax of the language. <br><br>  During the work, the parser installs pairs of markers (objects of the PsiBuilder.Marker class) and tokens received from the lexer.  Each pair of markers defines a range of tokens related to each node of an abstract syntax tree.  If a pair of markers is nested in another pair, it becomes a child of the outer pair. <br><br>  The element type for the marker pair (and for the AST node created on the basis of it) is determined when the end marker is set (the PsiBuilder.Marker.done () method was called).  It is also possible to reset the initial marker, before setting the final one.  The drop () method only resets one initial marker and does not affect the rest set later.  The rollbackTo () method resets the initial marker and all set after it, returning the position of the lexer to the beginning of the starting marker.  These methods can be used to implement a lookahead on parsing. <br><br>  The PsiBuilder.marker.precede () method is useful for parsing from the right to the left, when it is unknown how many markers you need to a certain position before reading the next token.  For example, the binary expression a + b + c should be parsed as ((a + b) + c).  Thus, two starting markers are needed at the position of the token ‚Äúa‚Äù, but this is unknown until the ‚Äúc‚Äù token is read.  When the parser reaches the ‚Äú+‚Äù token following ‚Äúb‚Äù, it can call precede () to duplicate the start marker in position ‚Äúa‚Äù and then place the final marker in position behind ‚Äúc‚Äù. <br><br>  Another important feature of PsiBuilder is the preservation of whitespace and comments.  The types of tokens that are treated as spaces and comments are defined in the getWhitespaceTokens () and getCommentTokens () methods in the ParserDefinition class.  PsiBuilder automatically skips tokens of spaces and comments in the sequence, which is transmitted to PsiParser and adjusts the token ranges in the AST nodes so that the starting and ending spaces do not fall into the node. <br><br>  The set of tokens returned by the ParserDefinition.getCommentTokens () method is also used to find TO DO items. <br>  In order to better understand the process of building the PSI tree, for a simple expression, you can refer to the following diagram in the figure below. <br><img src="https://habrastorage.org/storage2/0c9/02f/d73/0c902fd73be9e144f8cd9f14b9c9f229.gif"><br><br>  There is no single correct way to implement PSI in a user plugin, i.e.  You can choose the PSI structure and a set of methods that are most convenient for the implementation of language features (error analysis, refactoring, etc.).  However, there is one basic interface that must be used in the language plugin in order to implement support for functions such as renaming and searching for uses.  Each element that can be renamed or have links (for example, the definition of a class, method, etc.) must implement the PsiNamedElement interface, with the methods setName (), getName (). <br><br>  A number of functions that can be used to implement and use PSI can be found in the com.intellij.psi.util package, in particular the classes PsiUtil, PsiTreeUtil. <br><br>  One of the extremely useful tools for debugging a PSI implementation is the <a href="http://plugins.intellij.net/plugin/%3Fid%3D227">PsiViewer</a> plugin.  He is able to show the PSI structure built by the user plugin, the properties of each element and the highlighting of text ranges associated with PSI elements. <br><br><h4>  Indexing and stubs </h4><br>  The IntelliJ IDEA Indexing Framework provides a way to quickly search for specific elements (for example, files containing certain words or methods with a given name) in extensive code bases.  Developers can use existing indexes built into IDEA itself, as well as their own. <br><br>  IDEA supports two main types of indices: file-based and stub indexes.  File indices are built on top of the contents of the files, and stub indexes are built on the basis of serialized stub trees.  The stub tree for a source file is a subset of its PSI tree, which contains only externally visible definitions, serialized in a compact binary format.  By requesting file indices, the plugin receives a set consisting of files that fall under a given condition, in turn, stub indexes work directly with PSI elements.  Therefore, language plugin developers should prefer stub indexes. <br><br><h5>  File Indexes </h5><br>  File indices in IntelliJ IDEA are based on the map / reduce architecture.  Each index has certain types of keys and values.  Keys are used in extracting data from an index, for example, in a word index, the key is a string containing a word.  The key value in the index can be any information, for example, in the index of words it can be a mask that defines the context in which the word is located (code, literal, comment).  In the simplest case (when you only need to determine which file contains the data), the value is of type void and is not stored in the index. <br><br>  After indexing the file, the index returns a table of keys and their associated values.  When accessing an index using a specific key, it returns a list of files and data associated with that key. <br><br><h5>  File Index Implementation </h5><br>  For better understanding, let us give an example of a fairly simple implementation of a file index, namely the <a href="">index of the form boundaries</a> used in the UI Designer. <br><br>  Each specific index implementation inherits the FileBasedIndexExtension class and must be registered at the extension point. <code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <code><a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   ().</code> <br></code> <ul><li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> </ul> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> <h5> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </h5> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> <ul><li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> </ul> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> <h5> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </h5> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> <h4> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </h4> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> <ul><li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> </ul> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> <ul><li> <code><code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   (). <br></code></code> </li> <li> <code><a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <a href=""></a> <code><a href=""></a> .     : <br> getIndexer() -   ,        /,    ; getKeyDescriptor() -  ,          .     -  EnumeratorStringDescriptor (     ); getValueExternalizer() -   ,          ; getInputFilter() -      ; getVersion() -   .   ,             . <br>       ,      ScalarIndexExtension. <br> <br> ,  ,  DataIndexer.map()     ,   ,    -  .   ,          ,      . <br> <br>     <br>       FileBasedIndex,     : <br> getAllKeys()  processAllKeys() -     ,  ,    . ,       ,     ,       . getValues() -    ,     (  ,    ); getContainingFiles() -    ,   ; processValues() -     ,               . <br>   <br>    ,   IDEA     . ,   .     ,      PsiSearchHelper.    -  FilenameIndex,       .   FileTypeIndex -     . <br> <br>   <br>    ,     PSI-,     . <br> PSI-        AST (..      ),    stub- (  ),     . <br> Stub-     (   ,        ,    ).          ,     ,   ,    PSI-   AST. <br> <br>       Bean-  ,      PSI- (,  ,    ..).          . <br> <br>      ,     PSI-  .  ,        ,    ,          . <br> <br>    ,      ,    : <br>  ,   StubElement ();    (); ,   PSI-  StubBasedPsiElement     (); ,    PSI-  StubBasedPsiElementBase     ().   :   ASTNode,  -  ;  ,  IStubElementType        PSI- ().   createPsi()  createStub(),  serialize()  deserialize()     ;  ,  IStubElementType       (); ,     PSI-     ,   PSI- (:  Property.getKey()). <br>          ,  : <br>      (   ParserDefinition.getFileNodeType())  ,  IStubFileElementType;  plugin.xml,    ,   IElementType,   ().</code> <br></code> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/187224/">https://habr.com/ru/post/187224/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../187210/index.html">Chronic fatigue, apathy, seasonal ‚Äúdepression‚Äù and much more: a trivial reason</a></li>
<li><a href="../187212/index.html">Load Test with Go</a></li>
<li><a href="../187214/index.html">KPHP from VK</a></li>
<li><a href="../187218/index.html">Interview with Thierry Carres, Chairman of the OpenStack Technical Committee and Release Manager</a></li>
<li><a href="../187222/index.html">REPL for Perl</a></li>
<li><a href="../187226/index.html">Work with PEB and TEB</a></li>
<li><a href="../187230/index.html">Samsung introduced terabyte SSD "for all"</a></li>
<li><a href="../187232/index.html">Kinect taught to recognize and translate sign language</a></li>
<li><a href="../187234/index.html">Trove Library. Java primitive type collections</a></li>
<li><a href="../187236/index.html">Replacing Dropbox with BitTorrent Sync + Raspberry Pi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>