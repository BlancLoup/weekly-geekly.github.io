<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Resuscitation D-Link NAS DNS-325</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 I want to share a story about how I repaired my primus home D-Link DNS-325 NAS. 

 The NAS itself is usually in the minimum power consump...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Resuscitation D-Link NAS DNS-325</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br><br>  I want to share a story about how I repaired my <s>primus</s> home D-Link DNS-325 NAS. <br><br>  The NAS itself is usually in the minimum power consumption mode with the WD Green hard drives turned off (fun_plug is installed on an external USB flash drive, there is <a href="http://habrahabr.ru/post/155557">an article</a> on Habr√© about this ‚Äúboosting‚Äù).  One day, after the holidays, I turned on the power to the NAS to view / upload photos.  He did not turn on.  The power LED blinked cheerfully, the HDD soot lights turned on, but the blinking continued and continued without signs of life.  Under normal conditions, blinking means the boot process, which should be completed with full initialization and the establishment of a stable power LED.  After many attempts to start the device, disconnecting the hard drives, pressing the reset button (which, by the way, is useless until the download completes successfully), I realized with bitterness that this is not a trivial problem that I will have to cope with myself because of the expired warranty (12 months). <br><a name="habracut"></a><br>  Inspection of the contents of the hard drives via USB-to-SATA showed that the data is in order, RAID1 is configured. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Jedi googling gave hope for connecting to the serial port DNS-325 and possible diagnostics.  You need to get to the port, the board easily gets after disconnecting the hard drives and unscrewing the 4 screws at the back of the NAS (slots are under rubber plugs). <br><br>  Details about pinout UART on the board and how to connect can be found <a href="http://jamie.lentin.co.uk/devices/dlink-dns325">here</a> .  There was one problem.  A UART on the DNS-325 board requires TTL 3.3V and can burn at higher voltages.  I did not have an RS-232-TTL 3.3V converter, and the ordered cable on eBay did not arrive on time.  Having contacted the seller, I received the answer, they say, apparently lost, it happens.  He returned the money, but it was necessary to look for another cable or ... The idea came to help using the stray Raspberry PI (or just Raspberry), which has 3.3V UART on board. <br><br>  Perhaps, I repeat, talking about how to adjust Raspberry from scratch, but I myself would be happy to read about it in one place and consistently. <br><br><h3>  Configure Raspberry PI </h3><br>  Since my ‚ÄúRaspberry‚Äù was already at work, the minimum iron needed was: <br><ul><li>  Actually, Raspberry PI itself; </li><li>  Acrylic case; </li><li>  SD card; </li><li>  Connector for GPIO / UART pins, power supply etc. </li></ul><br><br>  So, download the finished image for the RASPBIAN SD card from the main site <a href="http://www.raspberrypi.org/downloads/">www.raspberrypi.org</a> .  Next, write the downloaded image to the SD card.  In my case, I used the built-in card-reader in the laptop and the <code>Win32DiskImager</code> program.  By default, the network interface in the distribution package requests the address via DHCP, so by connecting Malin to the home router, I could log in and configure the serial port using: <br><br> <code>root@raspberrypi:~# raspi-config</code> <br> <br>  Next, navigate through the menu: "8 Advanced Options" -&gt; "A7 Serial": <br><br> <code>Would you like a login shell to be accessible over serial? Current setting: yes</code> <br> <br>  Choose ‚ÄúNo‚Äù and reboot. <br><br><h3>  Install and configure the terminal </h3><br> <code>apt-get install minicom</code> <br> <br>  We start the terminal emulator to work with the serial port: <br><br> <code>minicom -D /dev/ttyAMA0 -b 115200 -8</code> <br> <br>  After the corresponding pins of the DNS-325 serial port are connected to the Raspberry PI, the most awaited moment of turning on the device comes.  Now, in fact, at least something will become clear why the NAS, after switching on, enters a ‚Äústeep dive‚Äù and does not show signs of life.  The port speed and other settings are set correctly, the device itself turned out to be ‚Äúalive‚Äù and in the Raspberry console ran the download log. <br>  Opening the spoiler, you can see the entire boot log: <br><br><div class="spoiler">  <b class="spoiler_title">Output loading messages to the terminal</b> <div class="spoiler_text">  ** MARVELL BOARD: DB-88F6281A-BP LE <br><br>  U-Boot 1.1.4 (May 16 2011 - 10:40:38) Marvell version: 3.4.14.DNS-325.03 <br><br>  U-Boot code: 00600000 -&gt; 0067FFF0 BSS: -&gt; 006CEE80 <br><br>  Soc: MV88F6281 Rev 3 (DDR2) <br>  CPU running @ 1200Mhz L2 running @ 400Mhz <br>  SysClock = 400Mhz, TClock = 200Mhz <br><br>  DRAM CAS Latency = 5 tRP = 5 tRAS = 18 tRCD = 6 <br>  DRAM CS [0] base 0x00000000 size 256MB <br>  DRAM Total size 256MB 16bit width <br>  Flash: 0 kB <br>  Addresses 8M - 0M are saved for the U-Boot usage. <br>  Mem malloc Initialization (8M - 7M): Done <br>  NAND: 128 MB <br><br>  CPU: Marvell Feroceon (Rev 1) <br><br>  Streaming disabled <br>  Write allocate disabled <br><br>  USB 0: host mode <br>  PEX 0: interface detected no Link. <br>  Net: egiga0 [PRIME] <br>  Hit any key to stop autoboot: 0 <br><br>  NAND read: device 0 offset 0x100000, size 0x300000 <br>  load addr ... = a00000 <br><br>  3145728 bytes read: OK <br><br>  NAND read: device 0 offset 0x600000, size 0x300000 <br>  load addr ... = f00000 <br><br>  Bad block at 0x780000 in erase block from 0x780000 will be skipped <br>  3145728 bytes read: OK <br>  ## Booting image at 00a00000 ... <br>  Image Name: Linux-2.6.31.8 <br>  Created: 2012-06-26 3:38:43 UTC <br>  Image Type: ARM Linux Kernel Image (uncompressed) <br>  Data Size: 2565784 Bytes = 2.4 MB <br>  Load Address: 00008000 <br>  Entry Point: 00008000 <br>  Verifying Checksum ... Bad Data CRC <br><br>  NAND read: device 0 offset 0x7100800, size 0x500000 <br>  load addr ... = a00000 <br><br>  5242880 bytes read: OK <br>  ## Booting image at 00a00000 ... <br>  Image Name: Linux-2.6.22.18 <br>  Created: 2011-05-25 7:23:15 UTC <br>  Image Type: ARM Linux Kernel Image (uncompressed) <br>  Data Size: 2214860 Bytes = 2.1 MB <br>  Load Address: 00008000 <br>  Entry Point: 00008000 <br>  Verifying Checksum ... OK <br>  Ok <br>  ## Loading Ramdisk Image at 00d00000 ... <br>  Image Name: Ramdisk <br>  Created: 2011-07-11 5:47:12 UTC <br>  Image Type: ARM Linux RAMDisk Image (gzip compressed) <br>  Data Size: 1566183 Bytes = 1.5 MB <br>  Load Address: 00e00000 <br>  Entry Point: 00e00000 <br>  Verifying Checksum ... OK <br><br>  Starting kernel ... <br><br>  Uncompressing Linux ... done ,. <br>  Linux version 2.6.22.18 (jack @ swtest4) (gcc version 4.2.1) # 15 Wed May 25 15:23:11 CST 2011 <br>  CPU: ARM926EJ-S [56251311] revision 1 (ARMv5TE), cr = 00053977 <br>  Machine: Feroceon-KW <br>  Using UBoot passing parameters structure <br>  Memory policy: ECC disabled, Data cache writeback <br>  CPU0: D VIVT write-back cache <br>  CPU0: I cache: 16384 bytes, associativity 4, 32 byte lines, 128 sets <br>  CPU0: D cache: 16384 bytes, associativity 4, 32 byte lines, 128 sets <br>  Built 1 zonelists.  Total pages: 65024 <br>  Kernel command line: root = / dev / ram console = ttyS0,115200 ::: DB88FXX81: egiga0: none <br>  PID hash table entries: 1024 (order: 10, 4096 bytes) <br>  Console: color dummy device 80x30 <br>  Dentry cache hash table entries: 32768 (order: 5, 131072 bytes) <br>  Inode-cache hash table entries: 16384 (order: 4, 65536 bytes) <br>  Memory: 256MB 0MB 0MB 0MB = 256MB total <br>  Memory: 253696KB available (4156K code, 252K data, 124K init) <br>  Mount-cache hash table entries: 512 <br>  CPU: Testing write buffer coherency: ok <br>  NET: Registered protocol family 16 <br><br>  CPU Interface <br>  - SDRAM_CS0 .... base 00000000, size 256MB <br>  SDRAM_CS1 .... base 10000000, size 256MB <br>  SDRAM_CS2 .... disable <br>  SDRAM_CS3 .... disable <br>  PEX0_MEM .... base e8000000, size 128MB <br>  PEX0_IO .... base f2000000, size 1MB <br>  INTER_REGS .... base f1000000, size 1MB <br>  NFLASH_CS .... base fa000000, size 2MB <br>  SPI_CS .... base f4000000, size 16MB <br>  BOOT_ROM_CS .... no such <br>  DEV_BOOTCS .... no such <br>  CRYPT_ENG .... base f0000000, size 2MB <br><br>  Marvell Development Board (LSP Version KW_LSP_4.3.4_patch30) - DB-88F6281A-BP Soc: 88F6281 A1 LE <br><br>  Detected Tclk 200000000 and SysClk 400000000 <br>  MV Buttons Device Load <br>  Marvell USB EHCI Host Controller # 0: c06de600 <br>  PEX0 interface detected no Link. <br>  PCI: bus0: Fast back to back transfers enabled <br>  SCSI subsystem initialized <br>  usbcore: registered new interface driver usbfs <br>  usbcore: registered new interface driver hub <br>  usbcore: registered new device driver usb <br>  NET: Registered protocol family 2 <br>  Time: kw_clocksource clocksource has been installed. <br>  IP route cache hash table entries: 2048 (order: 1, 8192 bytes) <br>  TCP Established hash table entries: 8192 (order: 4, 65536 bytes) <br>  TCP bind hash table entries: 8192 (order: 3, 32768 bytes) <br>  TCP: Hash tables configured (established 8192 bind 8192) <br>  TCP reno registered <br>  checking if image is initramfs ... it isn't (no cpio magic);  looks like an initrd <br>  Freeing initrd memory: 1529K <br>  cpufreq: Init kirkwood cpufreq driver <br>  XOR registered 1 NET_DMA over 4 channels <br>  XOR 2nd invalidate WA enabled <br>  cesadev_init (c00119d8) <br>  mvCesaInit: sessions = 640, queue = 64, pSram = f0000000 <br>  Warning: TS unit is powered off. <br>  MV Buttons Driver Load <br>  VFS: Disk quotas dquot_6.5.1 <br>  Dquot-cache hash table entries: 1024 (order 0, 4096 bytes) <br>  squashfs: version 3.3 (2007/10/31) Phillip Lougher <br>  squashfs: LZMA suppport for slax.org by jro <br>  Installing knfsd (copyright ¬© 1996 okir@monad.swb.de). <br>  JFFS2 version 2.2.  (NAND) 2001-2006 Red Hat, Inc. <br>  fuse init (API version 7.8) <br>  SGI XFS with large block numbers, no debug enabled <br>  io scheduler noop registered <br>  io scheduler anticipatory registered (default) <br>  Serial: 8250/16550 driver $ Revision: 1.1.1.1 $ 4 ports, IRQ sharing disabled <br>  serial8250.0: ttyS0 at MMIO 0xf1012000 (irq = 33) is a 16550A <br>  serial8250.0: ttyS1 at MMIO 0xf1012100 (irq = 34) is a 16550A <br>  RAMDISK driver initialized: 16 RAM disks of 10240K size 1024 blocksize <br>  loop: module loaded <br>  Loading Marvell Ethernet Driver: <br>  o Cached descriptors in DRAM <br>  o DRAM SW cache-coherency <br>  o Single RX Queue support - ETH_DEF_RXQ = 0 <br>  o Single TX Queue support - ETH_DEF_TXQ = 0 <br>  o TCP segmentation offload enabled <br>  o LRO support supported <br>  o Receive checksum offload enabled <br>  o Transmit checksum offload enabled <br>  o Network Fast Processing (Routing) supported <br>  o Driver ERROR statistics enabled <br>  o Driver INFO statistics enabled <br>  o Proc tool API enabled <br>  o SKB Reuse supported <br>  o SKB Recycle supported <br>  o Rx descripors: q0 = 128 <br>  o Tx descripors: q0 = 532 <br>  o Loading network interface (s): <br>  o register under egiga0 platform <br>  o egiga0, ifindex = 1, GbE port = 0 <br><br>  Warning: Giga 1 is Powered Off <br><br>  mvFpRuleDb (c0f2a000): 2048 entries, 8192 bytes <br>  Integrated sata device found <br>  scsi0: Marvell SCSI to SATA adapter <br>  scsi1: Marvell SCSI to SATA adapter <br>  NFTL driver: nftlcore.c $ Revision: 1.1.1.1 $, nftlmount.c $ Revision: 1.1.1.1 $ <br>  NAND device: Manufacturer ID: 0xec, Chip ID: 0xf1 (Samsung NAND 128MiB 3,3V 8-bit) <br>  Scanning device for bad blocks <br>  Bad eraseblock 60 at 0x00780000 <br>  Bad eraseblock 109 at 0x00da0000 <br>  Bad eraseblock 455 at 0x038e0000 <br>  Bad eraseblock 499 at 0x03e60000 <br>  Using static partition definition <br>  Creating 6 MTD partitions on "nand_mtd": <br>  0x00000000-0x00100000: "u-boot" <br>  0x00100000-0x00600000: "uImage" <br>  0x00600000-0x00b00000: "ramdisk" <br>  0x00b00000-0x07100000: "image" <br>  0x07100000-0x07b00000: "mini firmware" <br>  0x07b00000-0x08000000: "config" <br>  ehci_marvell ehci_marvell.70059: Marvell Orion EHCI <br>  ehci_marvell ehci_marvell.70059: new USB bus registered, assigned bus number 1 <br>  ehci_marvell ehci_marvell.70059: irq 19, io base 0xf1050100 <br>  ehci_marvell ehci_marvell.70059: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004 <br>  usb usb1: configuration # 1 chosen from 1 choice <br>  hub 1-0: 1.0: USB hub found <br>  hub 1-0: 1.0: 1 port detected <br>  USB Universal Host Controller Interface driver v3.0 <br>  mice: PS / 2 mouse device for all mice <br>  i2c / dev entries driver <br>  md: linear personality registered for level -1 <br>  md: raid0 personality registered for level 0 <br>  md: raid1 personality registered for level 1 <br>  device-mapper: ioctl: 4.11.0-ioctl (2006-10-12) initialised: dm-devel@redhat.com <br>  dm_crypt using the OCF package. <br>  usbcore: registered new interface driver usbhid <br>  drivers / hid / usbhid / hid-core.c: v2.6: USB HID core driver <br>  TCP cubic registered <br>  NET: Registered protocol family 1 <br>  NET: Registered protocol family 17 <br>  md: Autodetecting RAID arrays. <br>  md: autorun ... <br>  md: ... autorun DONE. <br>  RAMDISK: Compressed image found at block 0 <br>  EXT2-fs warning: maximal mount count, running e2fsck is recommended <br>  VFS: Mounted root (ext2 filesystem). <br>  Freeing init memory: 124K <br>  init started: BusyBox v1.11.2 (2010-11-17 11:44:30 CST) <br>  starting pid 276, tty '': '/etc/rc.sh' <br>  ** Mounting / etc / fstab <br>  umount: proc: not mounted <br>  umount: proc: not mounted <br>  umount: / usr / local / modules: not mounted <br>  umount: /usr/local/tmp/image.cfs: not found <br>  umount: / usr / local / tmp: not mounted <br>  first good block is 0 <br>  ECC failed: 0 <br>  ECC corrected: 0 <br>  Number of bad blocks: 3 <br>  Number of bbt blocks: 0 <br>  Block size 131072, page size 2048, OOB size 64 <br>  Dumping data starting at 0x00000000 and ending at 0x00000800 ... <br>  image len = 36900864, ‚Äã‚Äãimage checksum = 9a5bf12 <br>  ECC failed: 0 <br>  ECC corrected: 0 <br>  Number of bad blocks: 3 <br>  Number of bbt blocks: 0 <br>  Block size 131072, page size 2048, OOB size 64 <br>  Dumping data starting at 0x00000800 and ending at 0x02d00000 ... <br>  dump image checksum = 9a5bf12 <br>  SQUASHFS error: Major / Minor mismatch, trying to mount newer 4.0 filesystem <br>  SQUASHFS error: Please update your kernel <br>  mount: wrong fs type, bad option, bad superblock on / dev / loop0, <br>  missing codepage or other error <br>  In some cases, useful in syslog - try <br>  dmesg |  tail or so <br><br>  /etc/rc.sh: line 17: system_init: not found <br>  starting pid 302, tty '': '- / bin / sh' <br><br>  BusyBox v1.11.2 (2010-11-17 11:44:30 CST) built-in shell (ash) <br>  Enter 'help' for a list of built-in commands. <br></div></div><br><br>  To access the shell, you must enter the code <code>5784468</code> . <br>  After a cursory inspection in the console, it became clear that the NAS was booted into single-user mode.  Nothing is mounted other than the root system. <br>  Obviously, the boot process does not continue precisely because of problems with mounting the main file tree from the squash image: <br> <code>SQUASHFS error: Major/Minor mismatch, trying to mount newer 4.0 filesystem</code> <br> <code>SQUASHFS error: Please update your kernel</code> <br> <code>mount: wrong fs type, bad option, bad superblock on /dev/loop0,</code> <br> <br>  The file itself, in which the squash image is, is unloaded from the internal flash into the file <code>/usr/local/tmp/image.cfs</code> with the help of <code>nanddump</code> . <br>  <code>mount -o loop /usr/local/tmp/image.cfs /mnt</code> resulted in the same error as when loading. <br><br>  The first thing that came to mind was the idea of ‚Äã‚Äãpossible damage to the <code>image.cfs</code> itself in flash memory.  But another review of the download log, I noticed an error message, which was initially lost in the long text of the log: <br> <code>Image Name: Linux-2.6.31.8</code> <br> <code>.....</code> <br> <code>Verifying Checksum ... Bad Data CRC</code> <br> <br>  Then U-Boot loaded the image of another, older kernel: <b>Image Name: Linux-2.6.22.18</b> <br><br><pre> <code class="hljs sql">NAND read: device 0 offset 0x7100800, size 0x500000 <span class="hljs-keyword"><span class="hljs-keyword">load</span></span> addr .... =a00000 <span class="hljs-number"><span class="hljs-number">5242880</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span>: OK <span class="hljs-comment"><span class="hljs-comment">## Booting image at 00a00000 ... Image Name: Linux-2.6.22.18 Created: 2011-05-25 7:23:15 UTC Image Type: ARM Linux Kernel Image (uncompressed) Data Size: 2214860 Bytes = 2.1 MB Load Address: 00008000 Entry Point: 00008000 Verifying Checksum ... OK</span></span></code> </pre><br><br>  Looking ahead, I would like to note that the <code>"mini firmware"</code> internal flash, from where the image with the kernel was booted in emergency mode, seems to be designed for such situations.  If I had an earlier firmware, the download would be successful and I would not have learned about the damage.  But in firmware 1.04, the new kernel 2.6.31.8 and therefore the mounting of the image by the compressed file system (again, the new format) on the old kernel ended in error. <br><br>  Googling did not give a ready-made solution, but inspired <b><a href="http://en.wikipedia.org/wiki/Jugaad">jugaad</a></b> , namely: using the capabilities of U-Boot to overwrite the uImage image in the internal flash memory using the cut out image from the stock firmware. <br><br><h3>  We get the image of uImage with the kernel from the firmware </h3><br>  Download the stock firmware from the site D-Link: <code>DLINK_DNS325.1.04b05</code> (at that time I was named this version). <br>  Somehow, it was necessary to get an image with the kernel and try to overwrite it in the damaged area. <br>  A very useful tool turned out to be <code>binwalk</code> : <br><br><img src="https://habrastorage.org/files/c0b/39c/9dc/c0b39c9dcfe74156adb61f64b1ee4407.PNG"><br><br>  We will try to write the cut uImage image into the internal flash memory starting at address <code>0x100000</code> . <br><br><h3>  Install and configure Kermit </h3><br>  In order to transfer binary files to U-Boot, we need a rather old <a href="http://en.wikipedia.org/wiki/Kermit_(protocol)">Kermit</a> protocol. <br><br> <code>apt-get install ckermit</code> <br> <br>  Create a <code>.kermrc</code> with the following contents: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> line /dev/ttyAMA0 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> speed 115200 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> carrier-watch off <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> handshake none <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> flow-control none robust <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> file <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> bin <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> rec pack 1000 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> send pack 1000 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> window 5</code> </pre><br><br><h3>  Extended U-Boot Download </h3><br>  To get to the U-Boot command line, you need to have time to interrupt the boot process by pressing Space and "1" at the moment when 2 seconds are set <code>minicom</code> for this operation in the <code>minicom</code> console: <br> <code>PEX 0: interface detected no Link.</code> <br> <code>Net: egiga0 [PRIME]</code> <br> <b><code>Hit any key to stop autoboot: 1</code></b> <br> <br>  Unfortunately, I did not find the <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code></code> command in the stock U-Boot <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code></code> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> <h3> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> </h3> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> <pre> <code class="hljs 1c"><code>loadb ,     <span class="hljs-type"><span class="hljs-type"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    . <br>       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   U-Boot   . <br> <br>   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean <span class="hljs-meta"><span class="hljs-meta">&amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> (</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">      USB-Uart-TTL     x86 ,   ARM-: </span></span><code><span class="hljs-meta"><span class="hljs-meta">export CROSS_COMPILE=arm-linux-gnueabi-</span></span></code><span class="hljs-meta"><span class="hljs-meta"> ) </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">   </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  U-Boot: </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code><span class="hljs-meta"><span class="hljs-meta">root@raspberrypi:~/u-boot# cd u-boot</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code><span class="hljs-meta"><span class="hljs-meta">root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code><span class="hljs-meta"><span class="hljs-meta">Sending boot message. Please reboot the target.../</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">    ,  NAS,  10 ,       </span></span><code><span class="hljs-meta"><span class="hljs-meta">u-boot.kwb</span></span></code><span class="hljs-meta"><span class="hljs-meta"> . </span></span><br><span class="hljs-meta"><span class="hljs-meta">    .           . </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    </span></span><b><code><span class="hljs-meta"><span class="hljs-meta">Hit any key to stop autoboot: 4</span></span></code></b><span class="hljs-meta"><span class="hljs-meta"> (. ). </span></span><br><span class="hljs-meta"><span class="hljs-meta">  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    Ctrl+/  "c" </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">      flash </span></span><br><span class="hljs-meta"><span class="hljs-meta">  </span></span><code><span class="hljs-meta"><span class="hljs-meta">kermit</span></span></code><span class="hljs-meta"><span class="hljs-meta">       uKernel,     </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> : </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code><span class="hljs-meta"><span class="hljs-meta">root@raspberrypi:~# kermit</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">       : </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code class="bash"><span class="hljs-meta"><span class="hljs-meta">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> ,    U-Boot,      </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  0x000000 (   </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> ,    </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> ): </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code><span class="hljs-meta"><span class="hljs-meta">=&gt; loadb 0x00000000</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> U-Boot     ,       </span></span><code><span class="hljs-meta"><span class="hljs-meta">Kermit</span></span></code><span class="hljs-meta"><span class="hljs-meta">  Ctrl+\  "c"   : </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code><span class="hljs-meta"><span class="hljs-meta">(/root/) C-Kermit&gt;send uKernel</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">           flash: </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code><span class="hljs-meta"><span class="hljs-meta">=&gt; nand erase 0x100000 0x300000</span></span></code><span class="hljs-meta"><span class="hljs-meta"> -  flash  0x100000-0x300000 </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code><span class="hljs-meta"><span class="hljs-meta">=&gt; nand write 0x000000 0x100000 0x300000</span></span></code><span class="hljs-meta"><span class="hljs-meta"> -  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    0x000000 </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> ...  . </span></span><br><span class="hljs-meta"><span class="hljs-meta"> NAS       USB      </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> . </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">           . </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> PS    U-Boot    flash   ,        .  ,  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> : </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">        ?   uImage     U-Boot'  0x300000;  </span></span><code><span class="hljs-meta"><span class="hljs-meta">tftp</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   uImage;  USB flash </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   uImage (  U-Boot    USB);    flash    USB .</span></span></code> </pre> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> <ol><li> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> </li> <li> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> </li> <li> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> </li> <li> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> </li> <li> <code><code>loadb ,          . <br>          U-Boot   . <br> <br>      : <br> apt-get install gcc</code> <br> <br>  U-Boot: <br> <code><a href=""></a> git clone -b dns320_support github.com/lentinj/u-boot.git</code> <br> : <br> <code>make distclean &amp;&amp; make dns325_config &amp;&amp; make u-boot.kwb</code> <br> <br> (      USB-Uart-TTL     x86 ,   ARM-: <code>export CROSS_COMPILE=arm-linux-gnueabi-</code> ) <br> <br>     U-Boot: <br> <code>root@raspberrypi:~/u-boot# cd u-boot</code> <br> <code>root@raspberrypi:~/u-boot# ./tools/kwboot -p -b u-boot.kwb -B115200 -t /dev/ttyAMA0</code> <br> <code>Sending boot message. Please reboot the target.../</code> <br> <br>    ,  NAS,  10 ,       <code>u-boot.kwb</code> . <br>    .           . <br>         <b><code>Hit any key to stop autoboot: 4</code></b> (. ). <br>      Ctrl+/  "c" <br> <br>      flash <br>  <code>kermit</code>       uKernel,      : <br> <code>root@raspberrypi:~# kermit</code> <br>       : <br> <code class="bash">(/root/) C-Kermit&gt;connect Connecting to /dev/ttyAMA0, speed 115200 Escape character: Ctrl-\ (ASCII 28, FS): enabled Type the escape character followed by C to get back, or followed by ? to see other options. ----------------------------------------------------</code> <br> <br> ,    U-Boot,        0x000000 (    ,     ): <br> <br> <code>=&gt; loadb 0x00000000</code> <br> <br> U-Boot     ,       <code>Kermit</code>  Ctrl+\  "c"   : <br> <br> <code>(/root/) C-Kermit&gt;send uKernel</code> <br> <br> <img src="https://habrastorage.org/files/c97/22c/f83/c9722cf837704f8faf7b3e89def25b6a.PNG"> <br> <br>           flash: <br> <br> <code>=&gt; nand erase 0x100000 0x300000</code> -  flash  0x100000-0x300000 <br> <code>=&gt; nand write 0x000000 0x100000 0x300000</code> -      0x000000 <br> <br> ...  . <br> NAS       USB       . <br>            . <br> <br> PS    U-Boot    flash   ,        .  ,       : <br> <br>        ?   uImage     U-Boot'  0x300000;  <code>tftp</code>    uImage;  USB flash    uImage (  U-Boot    USB);    flash    USB .</code> </li> </ol></div><p>Source: <a href="https://habr.com/ru/post/239805/">https://habr.com/ru/post/239805/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239795/index.html">Kim Kardashian is boarding Facebook, Disney removes games from stores, smartphone owners in the Russian Federation more and more, but they rarely download - the main mobile news for the week</a></li>
<li><a href="../239797/index.html">Evaluation of search results</a></li>
<li><a href="../239799/index.html">The myth of the ideal number of lines in the method</a></li>
<li><a href="../239801/index.html">We invite you to the Internet of Things: Intel IoT Roadshow goes to Moscow!</a></li>
<li><a href="../239803/index.html">Optical Character Recognition by .NET</a></li>
<li><a href="../239807/index.html">For those who choose the red pill. Neo toolkit</a></li>
<li><a href="../239809/index.html">Work without an office: how to build and maintain cohesion in a distributed team</a></li>
<li><a href="../239815/index.html">New spacecraft NASA "Orion" will go on the first flight on December 4</a></li>
<li><a href="../239817/index.html">Smart charging cable Bleep backs up data at the same time as charging a smartphone</a></li>
<li><a href="../239821/index.html">One more step towards driving safety from Volvo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>