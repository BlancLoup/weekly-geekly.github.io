<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a FreeBSD-based file server with AD authorization</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will describe the creation of a file server with FreeBSD 9.2 installed (Samba-3.6) with authorization in the Windows 2003 domain. 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a FreeBSD-based file server with AD authorization</h1><div class="post__text post__text-html js-mediator-article">  In this article I will describe the creation of a file server with FreeBSD 9.2 installed (Samba-3.6) with authorization in the Windows 2003 domain. <br><br>  When I first brought up a file server on FreeBSD, I came across a lot of problems that had to be solved for a long time on thematic sites and forums.  Therefore, here at each stage typical problems and their solutions will be described.  I think this article will help many to resolve some issues. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e1e/759/410/e1e759410c12d6edb1ed6913c58d807a.jpg" alt="image"><br><a name="habracut"></a><br>  So let's start with the initial data: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Domain Name: domain.ru; </li><li>  Hostname: msrv-file.domain.ru; </li><li>  Host IP: 10.1.1.6; </li><li>  PDC name (also known as DNS / AD / DHCP / NTP): msrv-dc1.domain.ru; </li><li>  IP PDC: 10.1.1.10; </li><li>  A pig with FreeBSD 9.2-i386-bootonly; </li><li>  Internet access is a must; </li><li>  Printing is not needed. </li></ul><br>  I will not delve into the subtleties of installing the system.  On this occasion, there are tons of information on the Internet and how to set up the system let everyone decide for himself.  In this case, I did not rebuild the kernel and did not raise the RAID-arrays.  Everything works so well. <br><br>  I will note only some nuances: <br><br><ul><li>  1. During the installation of the OS when configuring the network interface, I deliberately chose DHCP, for which IP reservation over MAC was made on the DHCP server itself.  You can find the MAC address of the interface using the dmesg utility. </li><li>  2. For the correct rezolv, I made a match in the DNS server to the file server, as well as on the file server itself, added the following lines to the / etc / hosts file: <br><br><pre><code class="bash hljs">10.1.1.10 msrv-dc1.domain.ru 10.1.1.6 msrv-file.domain.ru</code> </pre> </li><li>  3. After installation, we MUST verify the time with the PDC (of course, provided that it is NTP).  If the time difference is more than 5 minutes, the file server will lose the domain. <br>  Verify the command: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#ntpdate 10.1.1.10</span></span></code> </pre> </li></ul><br><br>  Moving on to installing Samba (here my first mistake was installing the Heimdal port, which, as it turned out, does not need to be installed at all): <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#cd /usr/ports/net/samba36 #make install clean &amp;&amp; rehash</span></span></code> </pre><br><br>  Set with parameters: <br><br><pre> <code class="bash hljs">[X] LDAP With LDAP support [X] ADS With Active Directory support [X] WINBIND With WinBIND support [X] ACL_SUPPORT With ACL support [X] SYSLOG With Syslog support [X] QUOTAS With Disk quota support [X] POPT With system-wide POPT library</code> </pre><br><br>  The installer will tighten all the necessary packages automatically according to the dependencies.  During the installation of each additional package, the system will often ask for installation options.  I left everything by default, just turned off IPv6 protocol support, since  we don't need him. <br><br>  Next, we score configs located at the end of the article.  I note that the register of letters is mandatory.  If you use Putty, you can copy-paste directly from the configs I have attached. <br>  smb.conf should be in / usr / local / etc /.  The rest of the configs are in / etc. <br>  If there is no file due to some misunderstanding, then we create it with a simple command and immediately hammer it in: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#ee /usr/local/etc/smb.conf</span></span></code> </pre><br>  Or, for example: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#ee /etc/krb5.conf</span></span></code> </pre><br>  You can check the samba config using the testparm utility, which will indicate incorrect entries.  Again, invalid entries are not always so.  Here you need to know the details. <br><br>  After the configs are clogged, we start the samba service: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /usr/local/etc/rc.d/samba.sh start</span></span></code> </pre><br>  Or easier: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#service samba start</span></span></code> </pre><br>  A good answer would be: <br><br><pre> <code class="bash hljs">Starting SAMBA: removing stale tdbs : Starting nmbd. Starting smbd. Starting winbindd.</code> </pre><br>  After any change in the samba config, you must restart it. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#service samba restart</span></span></code> </pre><br>  So, the system costs, software is compiled, configs are clogged.  It's time to enter the machine in the domain. <br>  We get a ticket: <br><br><pre> <code class="hljs ruby"><span class="hljs-comment"><span class="hljs-comment"># kinit -p dl_admin //  dl_admin -   dl_admin</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@DOMAIN</span></span></span><span class="hljs-comment">.RU's Password: //      # klist //    Credentials cache: FILE:/tmp/krb5cc_0 //      Principal: dl_admin</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@DOMAIN</span></span></span><span class="hljs-comment">.RU Issued Expires Principal Oct 05 10:37:52 Oct 05 17:17:52 krbtgt/DOMAIN.RU</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@DOMAIN</span></span></span><span class="hljs-comment">.RU</span></span></code> </pre><br>  We enter samba, and accordingly the server itself in Active Directory: <br><br><pre> <code class="hljs pgsql"># net ads <span class="hljs-keyword"><span class="hljs-keyword">join</span></span> -U dl_admin dl_admin<span class="hljs-string"><span class="hljs-string">'s password: Joined '</span></span>MSRV-FIL<span class="hljs-string"><span class="hljs-string">E' to realm '</span></span><span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.RU<span class="hljs-string"><span class="hljs-string">'</span></span></code> </pre><br>  Checking: <br><br><pre> <code class="hljs pgsql"># wbinfo -p Ping <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> winbindd succeeded <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> fd <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><br><pre> <code class="hljs sql"><span class="hljs-comment"><span class="hljs-comment"># wbinfo -t checking the trust secret via RPC calls succeeded</span></span></code> </pre> <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># wbinfo -g    </span></span></code> </pre> <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># wbinfo -u   </span></span></code> </pre> <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># id dl_admin   </span></span></code> </pre> <br><br>  On this, in fact, it is possible to finish, but in order to avoid problems with writing to the shared directory, I recommend that you assign the domain administrator as the owner for the share with the indication of the user group: <br><br><pre> <code class="hljs pgsql"># chown -R dl_admin:"Domain Users" /home/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span> # chmod -R <span class="hljs-number"><span class="hljs-number">770</span></span> /home/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span></code> </pre> <br><br>  Attachments: <br><div class="spoiler">  <b class="spoiler_title">krb5.conf</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">[logging] default = FILE:/var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/kerberos/krb5libs.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> kdc = FILE:/var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/kerberos/krb5kdc.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> admin_server = FILE:/var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/kerberos/kadmin.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> [libdefaults] ticket_lifetime = <span class="hljs-number"><span class="hljs-number">24000</span></span> default_realm = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.RU dns_lookup_realm = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> dns_lookup_kdc = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> kdc_req_checksum_type = <span class="hljs-number"><span class="hljs-number">2</span></span> checksum_type = <span class="hljs-number"><span class="hljs-number">2</span></span> ccache_type = <span class="hljs-number"><span class="hljs-number">1</span></span> forwardable = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> proxiable = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> clockskew = <span class="hljs-number"><span class="hljs-number">300</span></span> v4_instance_resolve = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> v4_name_convert = { host = { rcmd = host ftp = ftp } plain = { something = something-<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> } } [realms] <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.RU = { kdc = tcp/<span class="hljs-number"><span class="hljs-number">10.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span>:<span class="hljs-number"><span class="hljs-number">88</span></span> admin_server = tcp/<span class="hljs-number"><span class="hljs-number">10.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span>:<span class="hljs-number"><span class="hljs-number">749</span></span> default_domain = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.RU } [domain_realm] .<span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>.ru = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.RU <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>.ru = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.RU [pam] <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> ticket_lifetime = <span class="hljs-number"><span class="hljs-number">36000</span></span> renew_lifetime = <span class="hljs-number"><span class="hljs-number">36000</span></span> forwardable = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> krb4_convert = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">login</span></span>] krb4_convert = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> krb4_get_tickets = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">nsswitch.conf</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">group</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">files</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">winbind</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">group_compat</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">nis</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">hosts</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">files</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">dns</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">networks</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">files</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">passwd</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">files</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">winbind</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">passwd_compat</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">nis</span></span> <span class="hljs-selector-id"><span class="hljs-selector-id">#shells</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">files</span></span> <span class="hljs-selector-id"><span class="hljs-selector-id">#services</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">compat</span></span> <span class="hljs-selector-id"><span class="hljs-selector-id">#services_compat</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">nis</span></span> <span class="hljs-selector-id"><span class="hljs-selector-id">#protocols</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">files</span></span> <span class="hljs-selector-id"><span class="hljs-selector-id">#rpc</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">files</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">rc.conf</b> <div class="spoiler_text"><pre> <code class="hljs vbscript">hostname=<span class="hljs-string"><span class="hljs-string">"msrv-file.domain.ru"</span></span> keymap=<span class="hljs-string"><span class="hljs-string">"ru.koi8-r.win.kbd"</span></span> ifconfig_bge0=<span class="hljs-string"><span class="hljs-string">"DHCP"</span></span> sshd_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> moused_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> ntpd_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> powerd_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span> dumpdev <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-string"><span class="hljs-string">"AUTO"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> enable crash dumps, <span class="hljs-string"><span class="hljs-string">"NO"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> disable dumpdev=<span class="hljs-string"><span class="hljs-string">"NO"</span></span> # -- sysinstall generated deltas -- # Sun <span class="hljs-built_in"><span class="hljs-built_in">Oct</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">2014</span></span> mousechar_start=<span class="hljs-string"><span class="hljs-string">"3"</span></span> font8x8=<span class="hljs-string"><span class="hljs-string">"cp866-8x8"</span></span> font8x14=<span class="hljs-string"><span class="hljs-string">"cp866-8x14"</span></span> font8x16=<span class="hljs-string"><span class="hljs-string">"cp866b-8x16"</span></span> scrnmap=<span class="hljs-string"><span class="hljs-string">"koi8-r2cp866"</span></span> keymap=<span class="hljs-string"><span class="hljs-string">"ru.koi8-r"</span></span> # smbd_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> samba_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> nmbd_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> winbindd_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> # -- sysinstall generated deltas -- # Sun <span class="hljs-built_in"><span class="hljs-built_in">Oct</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span> <span class="hljs-number"><span class="hljs-number">2014</span></span> tcp_extensions=<span class="hljs-string"><span class="hljs-string">"YES"</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">resolv.conf</b> <div class="spoiler_text"><pre> <code class="hljs css"># <span class="hljs-selector-tag"><span class="hljs-selector-tag">Generated</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">by</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">resolvconf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">nameserver</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">smb.conf</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">[<span class="hljs-keyword"><span class="hljs-keyword">global</span></span>] dos charset = cp866 unix charset = koi8-r display charset = koi8-r workgroup = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span> realm = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.RU netbios <span class="hljs-type"><span class="hljs-type">name</span></span> = MSRV-FILE <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> string = File <span class="hljs-keyword"><span class="hljs-keyword">Server</span></span> %v <span class="hljs-keyword"><span class="hljs-keyword">security</span></span> = ADS auth methods = winbind map <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> guest = Bad <span class="hljs-keyword"><span class="hljs-keyword">User</span></span> <span class="hljs-keyword"><span class="hljs-keyword">log</span></span> file = /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/samba/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>.%m max <span class="hljs-keyword"><span class="hljs-keyword">log</span></span> size = <span class="hljs-number"><span class="hljs-number">50</span></span> client signing = Yes preferred master = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> master = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span> master = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> dns proxy = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> winbind use <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span> = Yes <span class="hljs-keyword"><span class="hljs-keyword">inherit</span></span> acls = Yes hosts allow = <span class="hljs-number"><span class="hljs-number">10.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>., <span class="hljs-number"><span class="hljs-number">127.</span></span> map acl <span class="hljs-keyword"><span class="hljs-keyword">inherit</span></span> = Yes <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> sensitive = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> nt acl support = Yes os <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">options</span></span> = SO_RCVBUF=<span class="hljs-number"><span class="hljs-number">8192</span></span> SO_SNDBUF=<span class="hljs-number"><span class="hljs-number">8192</span></span> TCP_NODELAY <span class="hljs-keyword"><span class="hljs-keyword">load</span></span> printers = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> printing = bsd guest account = nobody guest ok = yes winbind enum users = Yes winbind enum <span class="hljs-keyword"><span class="hljs-keyword">groups</span></span> = Yes winbind nested <span class="hljs-keyword"><span class="hljs-keyword">groups</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> winbind <span class="hljs-keyword"><span class="hljs-keyword">refresh</span></span> tickets = Yes idmap config * : range = <span class="hljs-number"><span class="hljs-number">600</span></span><span class="hljs-number"><span class="hljs-number">-20000</span></span> idmap config * : backend = tdb interfaces = bge0 [tmp] <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">Temporary</span></span> file space <span class="hljs-type"><span class="hljs-type">path</span></span> = /tmp <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> mask = <span class="hljs-number"><span class="hljs-number">0666</span></span> <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> mode = <span class="hljs-number"><span class="hljs-number">666</span></span> directory mode = <span class="hljs-number"><span class="hljs-number">666</span></span> directory mask = <span class="hljs-number"><span class="hljs-number">0777</span></span> guest ok = Yes [<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">Share</span></span> Directory <span class="hljs-type"><span class="hljs-type">path</span></span> = /home/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span> <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> list = "@DOMAIN.RU\Domain Admins", "@DOMAIN.RU\Domain Users" <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> mode = <span class="hljs-number"><span class="hljs-number">660</span></span> directory mode = <span class="hljs-number"><span class="hljs-number">660</span></span> <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> mask = <span class="hljs-number"><span class="hljs-number">0660</span></span> directory mask = <span class="hljs-number"><span class="hljs-number">0770</span></span></code> </pre><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/239813/">https://habr.com/ru/post/239813/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239801/index.html">We invite you to the Internet of Things: Intel IoT Roadshow goes to Moscow!</a></li>
<li><a href="../239803/index.html">Optical Character Recognition by .NET</a></li>
<li><a href="../239805/index.html">Resuscitation D-Link NAS DNS-325</a></li>
<li><a href="../239807/index.html">For those who choose the red pill. Neo toolkit</a></li>
<li><a href="../239809/index.html">Work without an office: how to build and maintain cohesion in a distributed team</a></li>
<li><a href="../239815/index.html">New spacecraft NASA "Orion" will go on the first flight on December 4</a></li>
<li><a href="../239817/index.html">Smart charging cable Bleep backs up data at the same time as charging a smartphone</a></li>
<li><a href="../23982/index.html">Serve Russia!</a></li>
<li><a href="../239821/index.html">One more step towards driving safety from Volvo</a></li>
<li><a href="../239823/index.html">Logbroker: collecting and supplying large amounts of data in Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>