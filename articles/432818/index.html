<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Homemade plotter: tips for beginners, working with grbl-firmware</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="While studying at the university such an interesting subject as circuit engineering, it occurred to me to do as part of the course project "Two-Axis P...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Homemade plotter: tips for beginners, working with grbl-firmware</h1><div class="post__text post__text-html js-mediator-article"><p>  While studying at the university such an interesting subject as circuit engineering, it occurred to me to do as part of the course project "Two-Axis Plotter on Paper with a Head from an Arduino Pen".  By the time I started work, I had a very vague idea of ‚Äã‚Äãthe development of the electrical part of the project, as well as the mechanical part.  This experience in my life has not happened.  That is why I found in the network, sorting through many resources, which seemed to me the most simple and understandable tutorial, and decided to follow it exactly.  However, it soon became clear that everything simple at first glance is not detailed enough for such a "craftsman" as me.  Therefore, in the remaining "off-screen" issues had to improvise, not always successfully, as it turned out later.  It was a little backstory.  Now I would like to share my valuable experience on a number of key issues.  I will not give a completely new instruction with my version of this device, since  on the Internet so much more successful solutions. </p><br><h3 id="soderzhanie">  Content </h3><br><ol><li>  <a href="https://habr.com/ru/post/432818/">Design</a> </li><li>  <a href="https://habr.com/ru/post/432818/">Electric scheme</a> </li><li>  <a href="https://habr.com/ru/post/432818/">BY</a> <a name="habracut"></a></li></ol><br><h3 id="1-konstrukciya-a-name1a">  1. Construction </h3><br><p><img src="https://habrastorage.org/webt/2q/j-/rx/2qj-rxkxvbgoa4oqvzwh9a0v4lk.png"></p><br><p>  The design I chose was made of plywood.  The axles used were studs that were spinning with stepper motors, and due to this, the platform on the nuts moved along the axis.  One axis was attached to the platform with another one edge.  From the manufacture of all this I can say: </p><br><ul><li>  If the upper axis does not have support on both sides, and is attached, like mine, with only one edge, then it is necessary to think in advance about the balance of the axes.  The upper one will inevitably tilt, if at all not to overwhelm the whole structure with the weight of its ‚Äúhanging‚Äù edge. </li><li>  The lines of the pattern can go in waves according to the size of the thread of the stud, and also because of the shaking of the structure itself during operation. </li><li>  The above two problems lead to one more thing: the pen (in my case, the pen) can write unevenly in different parts of the page. </li><li>  The weight and dimensions of the device should also be calculated in advance, so that later it does not become clear that your engines do not pull such a load. </li><li>  And one more important detail: it is best to use screws, nails, etc., wherever possible, for fastening.  Constructions on glue, even the most reliable, tend to fall apart at the most unexpected moment.  And in some cases, after assembling the main part, it will be very difficult to return to the "glueing" of small, but very important, internal parts, without disassembling the finished parts. </li><li>  If you use glue somewhere, then be very, very careful that it does not get into the moving parts of the structure.  Even a small droplet can stop the mechanism and make it worthless. <cut></cut></li></ul><br><h2 id="2-shema-elektricheskaya-a-name2a">  2. Electric circuit </h2><br><p><img src="https://habrastorage.org/webt/4q/9x/qf/4q9xqfsgp-mutarfcxtixrq7kwa.png"><br><img src="https://habrastorage.org/webt/ne/sc/q0/nescq0lychg2doa4rlzzvavfrmo.png"><br>  The scheme itself was extremely simple and did not even require soldering.  I even took a ready-made CNC Shield specifically for working with CNC.  Nevertheless, there are some nuances here: </p><br><ul><li>  My Chinese analogue of the Arduino, codenamed WAVGAT, refused to sew as a regular Arduino Uno R3.  On the Internet, they claimed that such boards are fully compatible with all arduino software, but to work with it through IDE, they had to download a separate WAVGAT Update library.  So I managed to upload a sketch to the board, but the software itself still did not want to work correctly.  I tried all the found fixes for this kind of problem (overloaded the bootloader, changed the boards files and the software library constants), but the result remained the same.  Apparently, for this task it is necessary to acquire the classic Arduino. </li><li>  Another problem was the launch of stepper motors.  They buzzed, basked, despite the cold drivers, but did not move.  Methodically checking the chain element by element I realized that the problem is in their connection.  The fact is that this time the Chinese were originating.  It turned out that the engine leads contain crossed AB pairs.  If a pair of ordinary shop motors went in order 2B-2A-1A-1B, then for some reason, the Chinese had 2B-1A-2A-1B.  You can figure this out by ‚Äúpicking up‚Äù the circuit with a multimeter in the appropriate mode: pair AB-s outputs are squeaking. </li><li>  And yet, as it turned out, an innocuous low-power servo drive is quite capable of irrevocably ‚Äúburning up‚Äù the entire arduino board during prolonged excessive load on it.  In this case, the board will continue to work, but will sometimes be interrupted in the middle, stopping at the servo commands. </li><li>  Therefore, monitor the temperature of devices during operation in order to avoid irreparable consequences. <cut></cut></li></ul><br><h2 id="3-po-a-name3a">  3. software </h2><br><p>  There are options: </p><br><ul><li>  The easiest way to take a great unpretentious program BenVox.  It is specialized specifically for work with CNC and is easy to install and handle.  Minus this option in its limitations.  Firstly, the firmware for the board in the software bundle is already contained in the hex file, therefore there are problems with editing it.  And the functionality in general is not very extensive, similar to the simplest graphics editor.  If you do not want to go into the details of the work of this whole mechanism, then you can work with this option. </li><li>  A little harder, but also more promising work through the GRBL firmware.  This library can be easily taken on the Internet and it provides much more features than BenBox.  But to work through this mechanism, you need to figure out the initial configuration of all this. <br><ol><li>  So, download and unpack the grbl-servo library.  Now it can be poured onto the board through the IDE, simply by finding it among the examples. </li><li>  To send commands directly to the device, you need a Universal Gcode Sender (or other similar software).  After it is installed on the computer in it, we open the communication channel with the board on the com port to which the board is connected. </li><li>  For the initial and subsequent settings of the board, in the application command line type "$$".  With this command, we get a complete set of basic settings for the board, which can be changed by setting the necessary parameters.  For example, the commands "$ 110 = 380" and "$ 111 = 380" set the speed of the engines on the X and U axes at 380 mm / min.  Important setting points are the speed and acceleration of the engines, the direction of the axes (direct or inverse).  More instructions for such a setting can be found on the Internet. </li><li>  There is also the possibility of engine control over the engines (machine control tab) and servo (M5 commands (turn to the starting position) and M3 s90 (turn 90 or any other number of degrees)). </li><li>  Next you need to prepare an image for work.  For this, too, need extra.  Software, for example, Inkscape.  It looks like any other graphic editor and you can study it in detail in the Internet.  But there are a couple of important points: </li></ol></li><li>  First you need to set the correct page size in the properties so that the size of your image does not turn out to be more than a plotter.  It is also necessary to replace pixels by millimeters in units of measurement. </li><li>  After creating the image, press ctrl + shift + C and go to the menu - extensions - MI GRBL ... - set the speed of the engines and the angle of rotation of the servo - save the image in gcode format. <br><ol><li> Finally, we return to the Universal Gcode Sender and in the File Mode tab open our gcode image.  Using the Visualize button, you can graphically monitor the operation of the program, and in the command table you can follow the command execution.  It remains only to run all this and observe the result. </li></ol></li></ul><br><p>  As a result, the work on such a device turned out to be difficult and laborious, and the end result is not ideal.  But this experience is interesting and not useless.  Therefore, I hope someone will come in handy and help to avoid unnecessary "rakes" my advice. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/432818/">https://habr.com/ru/post/432818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../432808/index.html">Salaries in AI: where more money and who are looking for in Russia</a></li>
<li><a href="../432810/index.html">First GDPR penalties: who has already been punished</a></li>
<li><a href="../432812/index.html">We write trading robots using the StockSharp graphic framework. Part 1</a></li>
<li><a href="../432814/index.html">Cake and TeamCity integration</a></li>
<li><a href="../432816/index.html">AXIS M3046-V vs IDIS DC-D3212X: Compare CCTV Cameras</a></li>
<li><a href="../432820/index.html">Dynamic testing of Android applications</a></li>
<li><a href="../432822/index.html">I spoil the development of my life with my code review and I don‚Äôt want to</a></li>
<li><a href="../432824/index.html">Accelerating the creation of ConcurrentReferenceHashMap</a></li>
<li><a href="../432826/index.html">Modern Android development on Kotlin. Part 2</a></li>
<li><a href="../432828/index.html">Testing and debugging MapReduce</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>