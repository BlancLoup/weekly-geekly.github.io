<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NerdDinner. Step 2: Creating a Database</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is the second step of the free NerdDinner tutorial , which shows how to build a small but full-fledged web application using ASP. NET MVC. 

 We ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>NerdDinner. Step 2: Creating a Database</h1><div class="post__text post__text-html js-mediator-article">  <i>This is the second step of the <a href="http://nerddinnerbook.s3.amazonaws.com/Intro.htm">free NerdDinner tutorial</a></i> <i>, which shows how to build a small but full-fledged web application using</i> <i>ASP.</i>  <i>NET</i> <i>MVC.</i> <br><br>  We will use a database to store information about Dinner and RSVP for our NerdDinner application. <br><br>  Below are the steps to create a database using the free version of SQL Server Express, which can be easily installed via the Microsoft Web Platform Installer.  All the code we write works under both SQL Server Express and the full version of SQL Server. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Creating a new SQL Server Express database </h3><br>  We will start by right clicking on our project in the “Solution Explorer” panel and select Add&gt; New Item: <br><br> <a href=""><img title="clip_image001" alt="clip_image001" src="https://habrastorage.org/getpro/habr/post_images/500/ada/b6d/500adab6d63fbce40a5d16c5f7ad2fff.png" width="350" height="346"></a> <a name="habracut"></a><br><br>  In the “Add New Item” window, filter by the “Data” category and select “SQL Server Database”: <br><br> <a href=""><img title="clip_image002" alt="clip_image002" src="https://habrastorage.org/getpro/habr/post_images/144/131/679/1441316795afa412642791f0709aa4de.png" width="500" height="336"></a> <br><br>  We will call the database “NerdDinner.mdf”.  Visual Studio will ask us whether we want to add this file to the \ App_Data directory, which has already been created with read and write access to the ACL. <br><br> <a href=""><img title="clip_image003" alt="clip_image003" src="https://habrastorage.org/getpro/habr/post_images/129/66d/cde/12966dcdec409e7f8e5bd71912802d42.png" width="496" height="199"></a> <br><br>  We will certainly agree, and our new database will be created and added to Solution Explorer: <br><br> <a href=""><img title="clip_image004" alt="clip_image004" src="https://habrastorage.org/getpro/habr/post_images/f6d/881/fb3/f6d881fb37a6c656e890ac9dfb1d70ec.png" width="219" height="368"></a> <br><br><h3>  Create tables in the database </h3><br>  Now we have an empty database.  Let's create some tables. <br><br>  To do this, navigate to the tab “Solution Explorer”, which allows us to manage databases and servers.  The SQL Server Express database stored in the \ App_Data folder automatically appears in the Server Explorer list.  We can use “Connect to Database” to connect to local or remote databases: <br><br> <a href=""><img title="clip_image005" alt="clip_image005" src="https://habrastorage.org/getpro/habr/post_images/46f/7bc/1a9/46f7bc1a937607303d3292b61daf4fe1.png" width="214" height="282"></a> <br><br>  We will add two tables to our NerdDinner database: one for storing dinners, the second for tracking RSVP approvals.  We can create a new table by right clicking on the “Tables” folder in our database and selecting the “Add New Table” option: <br><br> <a href=""><img title="clip_image006" alt="clip_image006" src="https://habrastorage.org/getpro/habr/post_images/d20/bb8/f6b/d20bb8f6b6eb908a937212d7abfb169c.png" width="287" height="267"></a> <br><br>  This action will lead to the opening of the constructor for setting the schema of our table.  For the table "Dinners" we will add 10 columns: <br><br> <a href=""><img title="clip_image007" alt="clip_image007" src="https://habrastorage.org/getpro/habr/post_images/38a/783/163/38a783163bc6111aa74b6c8fd9a33754.png" width="497" height="395"></a> <br><br>  We want the “DinnerID” column to be a unique primary key for the table.  This can be configured by right-clicking on the “DinnerID” column and selecting the “Set Primary Key” item: <br><br> <a href=""><img title="clip_image008" alt="clip_image008" src="https://habrastorage.org/getpro/habr/post_images/05f/744/a94/05f744a94559d3a16d53138c9fca09a8.png" width="500" height="456"></a> <br><br>  In addition, by making DinnerID the primary key, we also want to configure it as an “identity” column, whose value automatically increases with the addition of a new row in the table. <br><br>  Selecting “DinnerID” and further, using the editor “Column Properties”, set the property “(Is Identity)” - “Yes”.  We will use the standard identity settings (start with 1, increase by 1 with each new line in Dinner): <br><br> <a href=""><img title="clip_image009" alt="clip_image009" src="https://habrastorage.org/getpro/habr/post_images/046/b9e/e22/046b9ee22f500f77d169e52a172c3812.png" width="545" height="184"></a> <br><br>  Next, save our table by pressing Ctrl + S or <b>File&gt;</b> <b>Save</b> .  All we need to do is enter the name of the new table - “Dinners”: <br><br> <a href=""><img title="clip_image010" alt="clip_image010" src="https://habrastorage.org/getpro/habr/post_images/85d/720/e68/85d720e685ee2e62932d3bb3ff36ac5c.png" width="399" height="147"></a> <br><br>  The new Dinners table is ready and is now displayed in the Tables list in the Server Explorer of our database. <br><br>  Let's do the same steps to create the “RSVP” table.  This table will consist of 3 columns.  Set the RsvpID column as the primary key, and also make an indetity column of it: <br><br> <a href=""><img title="clip_image011" alt="clip_image011" src="https://habrastorage.org/getpro/habr/post_images/22f/7ab/eec/22f7abeece880c4424ce84a0ac041e4b.png" width="413" height="287"></a> <br><br>  Save the table with the name "RSVP". <br><br><h3>  Configuring foreign keys between tables </h3><br>  We already have two tables in our database.  Our final design step is to create a one-to-many relationship between two tables so that we can link each row of the Dinner table with 0 or more rows of the RSVP table.  We will do this by setting the “DinnerID” column of the RSVP table through a foreign key with the “DinnerID” column of the “Dinners” table. <br><br>  To do this, open the RSVP table in the table designer by double-clicking in Server Explorer.  Next, select the “DinnerID” column and the “Relationships ...” item with the right button: <br><br> <a href=""><img title="clip_image012" alt="clip_image012" src="https://habrastorage.org/getpro/habr/post_images/aac/8c8/82a/aac8c882a5ed2360cc181905ec2340b3.png" width="461" height="333"></a> <br><br>  A window appears that is used to set up links between the tables: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a39/70c/0a6/a3970c0a6736ef2732f306995ee351f7.png"><br><br>  Click on “Add” and add a new link.  After adding the link, we will open the "Tables and Column Specification" tree branch in the right part of the window and click on the "..." button: <br><br> <a href=""><img title="clip_image013" alt="clip_image013" src="https://habrastorage.org/getpro/habr/post_images/c1e/00f/928/c1e00f9285cce2f1b0a5eac32e1694e4.png" width="500" height="316"></a> <br><br>  In the window that appears, we will be able to specify a table and a column that participates in the link, also allowing you to set a name for it: <br><br> <a href=""><img title="clip_image014" alt="clip_image014" src="https://habrastorage.org/getpro/habr/post_images/a67/28f/9d9/a6728f9d9e01acb1f2a41a5332bbf845.png" width="500" height="374"></a> <br><br>  As a result, each row of the RSVP table will be associated with a row of the Dinner table.  SQL Server will maintain referential integrity for us and prevent us from adding a new RSVP row if it does not point to the existing row of the Dinner table.  It will also prevent the deletion of a row from the Dinner table if there are rows referring to it from the RSVP table. <br><br><h3>  Filling our tables with data </h3><br>  Let's finish this step by adding data to the Dinners table.  To do this, right-click on the table in Server Explorer and select “Show Table Data”: <br><br> <a href=""><img title="clip_image015" alt="clip_image015" src="https://habrastorage.org/getpro/habr/post_images/ebd/734/58b/ebd73458bcd8fdeb5eb98dec5c3ee1ee.png" width="349" height="355"></a> <br><br>  We will add a few lines for future use as soon as we start implementing the application: <br><br> <a href=""><img title="clip_image016" alt="clip_image016" src="https://habrastorage.org/getpro/habr/post_images/508/d0a/02f/508d0a02f7a8063f037bddf8615d03ce.png" width="650" height="287"></a> <br><br><h3>  Next step </h3><br>  We have finished creating our database.  Now let's create model classes that can be used for queries and updates. </div><p>Source: <a href="https://habr.com/ru/post/98976/">https://habr.com/ru/post/98976/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../98970/index.html">84% of Facebook can give an unknown American</a></li>
<li><a href="../98971/index.html">Habrachelovek where do you live?</a></li>
<li><a href="../98973/index.html">Potential Maemo5 update with Qt 4.7?</a></li>
<li><a href="../98974/index.html">Google Technology User Group St. Petersburg, Open Air</a></li>
<li><a href="../98975/index.html">Results of the second Habr contest in Visual Studio 2010 Rus</a></li>
<li><a href="../98978/index.html">Advertising FaceTime went on TV</a></li>
<li><a href="../98980/index.html">How does Google determine coordinates?</a></li>
<li><a href="../98981/index.html">Microsoft presents Outlook integrated with Facebook</a></li>
<li><a href="../98983/index.html">Droider Chart. Release 9</a></li>
<li><a href="../98989/index.html">Parted Magic 5.0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>