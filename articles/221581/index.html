<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Retro gaming center on the Raspberry Pi</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Well, here come the May holidays, in which you can relax and escape from business. 
 Someone went to nature, fry kebabs, someone - to dig potatoes, an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Retro gaming center on the Raspberry Pi</h1><div class="post__text post__text-html js-mediator-article">  Well, here come the May holidays, in which you can relax and escape from business. <br>  Someone went to nature, fry kebabs, someone - to dig potatoes, and someone, like me, decided to stay at home and relax.  But how to do it with benefit?  Without resorting to loading the brain with regular manuals?  And here I came across my restless Raspberry Pi.  And along with a nostalgic and warm lamp mood, I had an idea: is it possible to make a gaming system from RPI?  Having driven into Google, there was a simple and very affordable solution, with which I want to share with you.  Who cares - I ask under the cat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef7/cee/4c2/ef7cee4c272197cd88b77886926e6819.jpg"><br><br><a name="habracut"></a>  As it turned out, this topic is not new, and already <a href="http://habrahabr.ru/post/149914/">flashed on Habr√©</a> .  Nevertheless, during its publication, progress has stepped forward, and it should be a little more detailed to tell about it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The entire system is based on the <a href="http://themaister.net/retroarch.html">RetroArch</a> port, based on the libretro library, which allows using emulators of various prefixes (NES, SNES, Sega Genesis, PlayStation, as well as SCUMMVM, zxspectrum) through a common API.  GUI - <a href="https://github.com/Aloshi/EmulationStation">EmulationStation</a> is responsible for the interface and usability.  Today, to get a fully working system, it‚Äôs enough to use a ready-made <a href="http://blog.petrockblock.com/retropie/retropie-downloads/">RetroPie</a> image. <br><br><ol><li>  Download RetroPie Project SD card Image </li><li>  Write to SD card using dd for Linux, <a href="http://sourceforge.net/projects/win32diskimager">Wind32DiskImager</a> for Windows or <a href="http://alltheware.wordpress.com/2012/12/11/easiest-way-sd-card-setup/">RPi SD card builder</a> for MacOS. </li><li>  We connect the video, audio cables, network cable, keyboard and controllers (gamepads), insert the SD card and turn it on (insert the mini-usb power plug). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ce/a5b/9ec/8cea5b9ecce456f253f373907ec8c705.jpg"><br><br>  Pay attention to the compatibility of the joysticks - some of them require additional power, and then you will need to use a USB hub with power.  Also, it is likely that something will have to finish handles.  In my case, I used <i>Microsoft Xbox 360</i> branded joysticks, which started without problems. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/33a/f31/21c/33af3121c703a2e0f919e76ebbb6154b.jpg"><br></li><li>  We are waiting for the system to load, and after it boots up, we exit to the console ( <b>F4</b> ) </li><li>  Go to the configuration utility: <blockquote>  sudo raspi-config </blockquote></li><li>  Select ‚Äú <b>Expand Filesystem</b> ‚Äù, click OK <br><br><img src="https://habrastorage.org/getpro/habr/post_images/512/a46/3d7/512a463d72c9e2f406ca3ae8332b02b9.png"><br><br></li><li>  Go to Advanced -&gt; memory split, set for model ‚ÄúB‚Äù <b>256</b> </li><li>  We return, go to the Internationalization Options, there we select the locale, the keyboard layout and the time zone (in my case it is a pair of <b>US</b> and <b>RU</b> in <b>UTF8</b> ). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0c9/2bd/afa/0c92bdafae753df0401197f25f83ad8a.png"><br><br></li><li>  After setting click " <b>Finish</b> ", reboot. </li><li>  After loading the system again go to the console ( <b>F4</b> ) to configure the joysticks. </li><li>  Install drivers: <blockquote>  sudo apt-get install xboxdrv </blockquote></li><li>  Rule settings: <blockquote>  sudo nano /etc/rc.local </blockquote></li><li>  Add at the end (before <b>fi</b> ) the line: <blockquote>  xboxdrv --trigger-as-button --id 0 --led 2 --deadzone 4000 --silent &amp; sleep 1 </blockquote>  If we have more than one joystick, then we increase <b>id</b> and <b>led by one</b> (for the second, 1 and 3, respectively).  If the joystick is wireless, then instead of <b>id</b> will be <b>wid</b> . <br>  Do not forget to save (we will be asked about saving on exit: <i>ctrl + x</i> , answer <i>Y</i> ). </li><li>  Overload the system: <blockquote>  sudo reboot </blockquote><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c29/868/38c/c2986838ca6e1322e833e66c0fecd65f.png"><br><br></li><li>  After downloading, we agree to configure the joysticks by clicking on what the system asks for.  After the setup is complete, again go to the console ( <b>F4</b> ). </li><li>  Moving on: <br><blockquote>  cd RetroPie / emulators / RetroArch / installdir / bin </blockquote></li><li>  Adjust the joysticks: <blockquote>  ./retroarch-joyconfig -o p1.cfg -p 1 -j 0 </blockquote>  We are convinced that under <b>j 0</b> we really have an xbox joystick, otherwise we interrupt ( <b>ctrl + c</b> ) and increment the digit by one.  If this is our joystick, then press those buttons that the configurator asks.  For the second and subsequent joysticks, we increase the numbers in the call by 1 until everything is entered. </li><li>  We copy our settings to the system: <blockquote><pre>  sudo cat p * .cfg &gt;&gt; ~ / RetroPie / configs / all / retroarch.cfg </pre></blockquote>  In the event that somewhere when you configure joysticks, delete configs: <br><blockquote>  rm /home/pi/.emulationstation/es_input.cfg <br>  rm ~ / RetroPie / configs / all / retroarch.cfg <br></blockquote><br><br><img src="https://habrastorage.org/getpro/habr/post_images/566/9fb/2a1/5669fb2a12bc4f472b39060ecd86ddff.jpg"><br><br></li><li>  In order not to break the SD card when rebooting due to the emulator hanging, and to do it from the joystick, do the following: <br><blockquote>  sudo nano ~ / RetroPie / configs / all / retroarch.cfg </blockquote>  Add lines: <blockquote>  input_enable_hotkey_btn = "X" <br>  input_exit_emulator_btn = "Y" </blockquote>  Where <b>X</b> and <b>Y</b> are the corresponding buttons (these are usually the buttons in the center of the gamepad). </li><li>  Now, to copy the ROMs on the Raspberry is better to use the transfer through the grid. <br>  Look for <i>ifconfig</i> 's IP address of our RPI.  Connect via the net from the computer (for example, via <a href="http://winscp.net/eng/index.php">winscp</a> for Windows) using the username <b>pi</b> and the password <b>raspberry.</b> We copy the files on the Raspberry into the appropriate folders <b>/ home / pi / RetroPie / roms</b> . </li><li>  To make everything work and look beautiful, we deliver and launch: <br><blockquote>  cd RetroPie / supplementary <br><pre>  git clone https://github.com/elpendor/ES-scraper </pre><br>  cd <br>  cd RetroPie-Setup <br>  sudo ./retropie_setup.sh </blockquote>  Select: SETUP -&gt; Run 'ES-scraper -&gt; (Re-) scape of the ROMs directory <br>  As a result, this action will scan our ROMs and download pictures and a description of the games. <br>  However, this will add new ROMs every time. </li><li>  Reboot the Raspberry Pi (you can also turn off the keyboard and, if necessary, the grid) (sudo reboot / sudo shutdown ‚Äìh now) and after loading our RPI will be fully operational. </li></ol><br><br><img src="https://habrastorage.org/getpro/habr/post_images/16f/ce0/443/16fce0443bc6ea9f8caad03dec8e6030.jpg"><br><br><h5>  What else can be done? </h5><br><ul><li>  Get the original joysticks and connect them via <a href="http://blog.petrockblock.com/2012/10/21/the-retropie-gpio-adapter/">GPIO</a> </li><li>  Add hardware buttons, and make a <a href="https://learn.adafruit.com/retro-gaming-with-raspberry-pi/overview">gaming machine</a> on raspberry </li><li>  Make the console <a href="http://www.instructables.com/id/Portable-Raspberry-Pi-Emulation-Machine/">portable</a> . </li></ul><br><br>  But I am not a fan of such a hardcore as the same <a href="http://www.youtube.com/user/PxlDevil">Pixel_Devil</a> (which, by the way, inspired me to this experiment), so I settled on the result achieved.  Now I will indulge myself in nostalgia and play with my friends :) </div><p>Source: <a href="https://habr.com/ru/post/221581/">https://habr.com/ru/post/221581/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../221559/index.html">PMBoK for 2.5 hours: an interview with Ivan Selikhovkin</a></li>
<li><a href="../221561/index.html">Report on the conference "AI & BigData Lab"</a></li>
<li><a href="../221563/index.html">"Essentially new" 3D-printer Voronezh development</a></li>
<li><a href="../221567/index.html">PiPhone - a mobile phone based on the Raspberry Pi</a></li>
<li><a href="../221579/index.html">A team of eight police officers came to arrest a home site in Sweden</a></li>
<li><a href="../221583/index.html">How to calculate 2 + 2 using electromagnetic relays</a></li>
<li><a href="../221585/index.html">Model View Dispatcher (cqrs over mvc)</a></li>
<li><a href="../221587/index.html">IBM System / 360 - continue the conversation</a></li>
<li><a href="../221589/index.html">Microsoft fixes 0day vulnerability in Internet Explorer for Windows XP</a></li>
<li><a href="../221591/index.html">We draw on the screen of an oscillograph</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>