<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Virtual Reality with Google</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Author: Nikolai Khabarov, Embedded Expert DataArt, Evangelist for Smart Home Technologies, inventor. 

 This article is a brief insight into the basic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Virtual Reality with Google</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ff0/ed0/896/ff0ed089690b4028b42478b96cb1ca2a.jpg"><br><br>  <i>Author: Nikolai Khabarov, Embedded Expert DataArt, Evangelist for Smart Home Technologies, inventor.</i> <br><br>  This article is a brief insight into the basics of working with virtual and augmented reality.  I did not set the task to fully reveal all the features of the Google VR SDK and planned to give a minimal base to those who are interested in these technologies and would like to start working with them. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  From the history of 3D </h2><br>  To see a three-dimensional image, the first thing we need to do is to organize the transfer of two different images for the left and right eyes.  It is clear that when we look at any object in everyday life, our eyes see it from different angles, because they are at some distance from each other.  Actually, due to this we perceive the three-dimensional space around. <br><br>  The idea of ‚Äã‚Äãa 3D image is quite old, there are many technologies that allow to reproduce a three-dimensional image.  For example, everyone saw in cinemas anaglyph glasses with lenses of different colors.  The image is fed to the screen from two angles and a color spectrum divided into two parts.  In this case, each angle is passed through one of the filters, due to which the illusion of volume appears.  The main disadvantage of this method is a noticeable loss of color rendition. <br><br>  At the next stage of development of technology, the so-called shutter glasses, which are also called light valves, appeared - they are also used in cinemas.  The device of such glasses is different: on each lens there is a small screen with a resolution of one pixel, it can either completely close the image, or completely skip it.  The glasses alternately switch between the screens, allowing us to see the image with one eye and then with the other.  At the same time, in order to see the three-dimensional image, we need to synchronize the switching of points with the TV or movie screen.  This can be done over the radio channel, or, as often happens, with the help of an infrared receiver mounted on the glasses and a transmitter located near the screen.  Another disadvantage of this method is the loss of brightness - after all, half of the time we see nothing with one eye.  In addition, a high frame rate is required for the playback equipment itself. <br><br>  An interesting development of the idea was the polarization technology - using a filter, we can cut off only the necessary part of the waves polarized in different directions.  Surely everyone is familiar with polarizing filters for cameras that allow you to get rid of glare.  In the case of a 3D image, a screen is specially prepared, some lines of which begin to emit a vertically polarized light, others - light that is horizontally polarized.  Circular polarization is also used in cinemas when light is twisted to the right or left. <br><br><h2>  Simplicity is the key to success </h2><br>  The inventors of Google Cardboard did everything simply and brilliantly, deciding to use an ordinary smartphone to transfer three-dimensional images.  Prior to this, there were many options for glasses equipped with various screens, but the resolution of the matrix of such screens was very modest.  Moreover, these glasses were very expensive.  And the proposed Google Cardboard is a piece of ordinary cardboard with two lenses in which it remains to put in your phone.  This is enough to see a three-dimensional picture with your own eyes. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/rLLAA4ENIP4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  The further development of Cardboard was the appearance <oembed>  Daydream </oembed>  - the device does not differ from its predecessor by the principle of operation, but, in comparison with it, it has significant advantages.  In particular, the material from which Daydream itself is made is no longer just a piece of cardboard, it is of much higher quality.  Another indisputable advantage is the Daydream software support itself. <br><br>  The screen of any phone has a set of characteristics, like a Cardboard lens.  The classic Cardboard is marked as a QR-code, and before placing your phone into it, you had to read this code in order to enter the lens parameters into the phone.  Combining the parameters, the device could calculate how to display the image so that it reached you with minimal distortion. <br><br>  When using Daydream, it is enough to simply put the device so that it considers the parameters of the glasses themselves with the help of NFC.  The label itself is hidden in the back cover. <br><br>  Also, the Cardboard has a small control panel;  Many manufacturers have produced analogs of Cardboard and their own remotes, the most diverse: inertial, gravitational, just joysticks.  Daydream has two buttons and a small touchpad that allows you to move objects in space or move yourself by moving your finger.  Cardboard had only one button, on the case of the glasses themselves, which simply fixed the pressure and transmitted this information to the phone screen. <br><br>  Cardboard could be used with any phone that physically fit into the box itself and was very cheap.  To work with Daydream at the time of this writing, only three phones are certified: ZTE Axon 7, Google Pixel and Motorola Moto Z, they plan to add new models to them, but to use Daydream, an operating system of at least Android 7.0 is required. <br><br><h2>  Interaction with virtual reality </h2><br>  The most interesting thing begins when we do not just look at the three-dimensional image (3D can be seen on TV), but begin to rotate our heads. <br><br>  Any modern phone is equipped with microelectromechanical sensors.  These are microscopic devices in which electronics and small moving mechanical parts are assembled on a chip, allowing to track various external factors.  Probably everyone knows what a gyroscope is - a device with which you can find out the angle of rotation.  In the case of MEMS sensors, the gyroscope does not give the angle of rotation, but the angular velocity.  Inside it there is a small element that moves under the influence of Coriolis force (I hope you remember what it is, from a physics course).  This allows us to find out the angular velocity, and already by integrating it, we can determine the angle of rotation.  True, this method is bad because, turning the phone in different directions, we most likely will not be able to return to the same point where we were originally. <br><br>  The second interesting sensor is the accelerometer.  It determines the forces acting on the phone, in particular, the acceleration of gravity.  At rest, it will show the usual acceleration of free fall on our planet, which corresponds to approximately 9.8 m / s¬≤.  But, if we start to move or rotate the phone, we will give it acceleration.  As a result, the sensor will not give the necessary readings at these moments.  Only when we stop moving will the system calm down and we will be able to recognize the force directed towards the ground.  As you can see, in order to simply determine the position of the phone in space, neither of the two sensors we mentioned is suitable. <br><br>  However, given that the gyroscope ‚Äúruns away‚Äù with time, and the accelerometer ‚Äúruns away‚Äù only at the moment of rotation, you can calculate the position of the device using various mathematical methods, for example, the Kalman filter.  If you programmed for Android, you probably noticed that in the Android SDK, among the list of sensors, there is not only an accelerometer and a gyroscope, but also the so-called TYPE_ORIENTATION.  This is just one of these mathematical methods that calculate the position of the phone using information from both sensors.  They themselves, as a rule, are assembled on a single chip, very often they also additionally put a magnetic field sensor, that is, a compass. <br><br>  Those who are interested in quadcopters probably noticed that the inscription ‚Äúbarometer‚Äù appeared on the new models.  Obviously, this device is not intended for weather analysis.  This sensor is used to measure atmospheric pressure to determine altitude.  It also works in the phone, and we can calculate its movement along the vertical axis with an accuracy of centimeters.  Naturally, the readings need to be smoothed with a filter. <br><br><br><h2>  Practice </h2><br>  Google has released the Google VR SDK for its Cardboard and Daydream.  The latter is a set of components that help us develop applications specifically for displaying 3D reality, it is available on both iOS and Android.  This SDK allows you to easily build applications for both virtual and augmented reality. <br><br>  Google VR SDK takes care of all the work with the sensors, thanks to him, we don‚Äôt need to calculate quaternions to figure out how to rotate the scene in OpenGL when you turn your head.  Simply put View to activate, and the SDK will do everything on its own. <br><br>  Let's take a quick look at how we can quickly get started with the Google VR SDK and how to create a simple Android application.  First, you need the pre-installed Android Studio. <br>  The SDK itself is downloaded from the official <a href="https://github.com/googlevr/gvr-android-sdk">git repository</a> .  SDK documentation is available <a href="https://developers.google.com/vr/android/">here</a> . <br><br>  Now just open the root directory of the repository using Android Studio.  There you can find examples that can be compiled from source and run on your Android device.  The project immediately has the configuration to run the examples. <br><br><img src="https://habrastorage.org/files/3f8/a21/3b9/3f8a213b91034f04823889399216c9b4.png"><br><br>  Daydream also has its own small controller, which the SDK also supports.  It has a set of callback functions, and you can safely use this controller in your designs.  The SDK has a special example of 'sdk-controllerclient'. <br><br>  For the most realistic perception, I would like to feel the sound, and so that it was clear where it comes from, where it is directed and in what environment it is distributed.  The library for this is GvrAudioEngine, which resembles simplified Open Audio Library or Direct3D Sound.  It is enough to communicate the coordinates of the sound source in space, and the library itself mixes the sound as you need.  You can set different media materials, for example, build a stage on which different music is played from the speakers on the right and left, and you can specify more sound sources. <br><br>  The 'sdk-treasurehunt' example is a fairly simple game implemented on pure OpenGL.  It also uses GvrAudioEngine to give the game surround sound effects. <br><br>  There is a Google VR SDK and a wonderful, albeit small, set of views that can be embedded in your applications.  In particular, VrPanoramaView is a component for displaying panoramic photos at 360 degrees, with a stereographic display.  You can simply put a photo into the application resources and call VrPanoramaView.loadImageFromBitmap () in just one line to take this particular image and display it.  As a result, you get a ready-made component that the user can see in his application - this is a regular View, the same as everyone else in Android. <br><br>  You can display several of these components at once on one screen, you can display one full screen, and at the same time to switch between glasses and a simple display, you just need to click on the button that will be drawn by the library.  It is also possible to add video using the VrVideoView component.  And if you get tired of watching at some point, you can rewind the video. <br><br>  Two samples from the SDK 'sdk-simplepanowidget' and 'sdk-simplevideowidget' show how easy it is to create applications with such built-in objects. <br><br>  The question arises, where to get these videos and pictures?  But some companies have already begun to produce cameras in the form of small trinkets that have lenses on both sides.  With their help, you can make panoramic photos at 360 degrees - they can even connect them on their own - but the video will not work.  To do this, you need a rather expensive design, and special software that can glue the resulting images and turn them into content suitable for display in virtual reality. <br><br><img src="https://habrastorage.org/files/e40/3dc/124/e403dc124c71472b87b8229a150279c3.png"><br><br>  <a href="https://gopro.com/odyssey">Odyssey</a> solution includes 16 synchronized cameras. <br><br><br><h2>  Application </h2><br>  Where can the described technologies be applied?  The first option is obviously a game.  As a rule, OpenGL is a shooter and other games where we need depth perception.  Netflix recently launched a service for displaying 3D content, this library can also help you write some custom solution for displaying movies. <br><br>  It is possible to enable customers in the store, using telephones, to see an additional description of them next to the price tags of the goods. <br><br>  You can apply them in real estate sales.  The buyer and seller to meet, as a rule, uncomfortable.  And with the help of such a video, it will be much easier for the buyer to assess in advance whether he should go to watch this or that object at all. <br><br>  Another ideal place to use technology is museums.  In modern museums, inside the hall there are often computers through which you can access additional information, listen to something.  But these computers are regularly occupied, and the phone is always at hand with everyone, and he is able to add elements of augmented reality to the exposition.  The library will work with almost any model of the device, and if desired, we will be able to convey to the museum visitors more information. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SCrkZOx5Q1M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Here is a small Google ad that shows what Google Earth looks like with virtual reality glasses.  You can watch such videos on a regular monitor, but the same pictures with glasses will look voluminous.  Movement in space is carried out with the help of Daydream remote control, and for some phones it is possible to use a barometer and move, simply by turning your head. <br><br>  Another very interesting idea of ‚Äã‚Äãusing such technologies is 3D printing. <br><br>  One startup suggested that users resort to augmented reality to build models together with any other modeling tools.  Using a conventional controller, you can not get a model of high accuracy - the error will be very large.  But we can make a small souvenir with the help of such controllers and directly print it from the application to print it on a 3D printer.  This idea is good and is monetized very soon, especially since printers for such products are gradually getting cheaper. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/5PyWIJV78iY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/401809/">https://habr.com/ru/post/401809/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../401799/index.html">Internet around the world - the countries with the fastest Internet in Europe</a></li>
<li><a href="../401801/index.html">Valve launches SteamVR for Linux for developers and provides access to tracking stations</a></li>
<li><a href="../401803/index.html">New record: paralyzed gaining eight words per minute using a brain implant</a></li>
<li><a href="../401805/index.html">Lenovo liquidates Motorola brand</a></li>
<li><a href="../401807/index.html">Assembling a linear LED lamp</a></li>
<li><a href="../401811/index.html">RAS Commission to combat pseudoscience will fight with pseudoscientific theories about the dangers of GMOs (fake)</a></li>
<li><a href="../401813/index.html">A little about cheating in shooters: what are the "cheats"</a></li>
<li><a href="../401815/index.html">AMD introduced the processors Ryzen 7</a></li>
<li><a href="../401817/index.html">The history of implantable technology. MEMS</a></li>
<li><a href="../401819/index.html">Moto Z Play review: flagship younger brother</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>