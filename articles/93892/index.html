<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Quick start with openID</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon friends. 

 Today I want to share my experience in implementing authorization on openID on my My Books book site. The article is design...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Quick start with openID</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon friends. <br><br>  Today I want to share my experience in implementing authorization on openID on my My Books book site.  The article is designed for beginners, so it is unlikely to interest those who already know all the nuances of this technology.  Its main goal is to answer the question: ‚Äúyes, this is convenient, but <b>how can</b> I do this in my project? !!‚Äù <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Fast start</b> <br><br>  I didn‚Äôt want to poke around in large libraries, so the simple <a href="http://www.phpclasses.org/package/3290-PHP-Authenticate-users-with-OpenID-single-sign-on.html">Simple OpenID PHP Class</a> was taken as a basis. <br><br>  To begin with, we need only two scripts from here: class.openid.php and openid-example.php.  The first is the class itself for working with openID, the second is a sample of its use, which can be further developed to suit your goals.  It's nice that much has been commented.  In theory, if the server settings are correct, the test script should work in 5 minutes.  From which 4 minutes left, oddly enough, to find out what the openID-identifier is. <br><br>  <b>OpenID list</b> <br><br>  OpenID is a great technology.  But tell me - who thought up that in the role of his openID the user should indicate something like <pre>  http://id.rambler.ru/users/{}/ </pre>  ?  They want me to type <b>it</b> , and even <b>every time</b> instead of a pair of login-password?  Sorry, it's easier for me to register as usual.  This is the first.  Secondly, I did not notice any uniformity in the identifier record: each provider comes up with the kind of URL that he likes.  See for yourself: <br><br><pre>  http://openid.yandex.ru/{login} </pre><br><pre>  http://openid.mail.ru/mail/{} </pre><br><pre>  http: // {login} .myopenid.com / </pre><br><pre>  http: // {login} .wordpress.com / </pre><br><pre>  http: // {login} .blogspot.com / </pre><br><pre>  http: // {login} .livejournal.com / </pre><br><pre>  http://www.liveinternet.ru/users/{login} </pre><br><pre>  http://id.rambler.ru/users/{}/ </pre><br><br>  Thirdly, for some reason, these addresses do not appear on the pages of openID-providers.  Yes, everybody declares their support, but try, say, to find this URL on the page <pre>  http://openid.mail.ru </pre>  .  That's it.  I also had to be Sherlock Holmes for half a day before I made my list. <br><br>  <b>Convenience or arbitrary openID authorization</b> <br><br>  From the above, this implies: give the user the opportunity to enter an arbitrary openID URL, or restrict it to a small list of main providers?  Plus the first option: you can log in from any server.  Minus: we force the user to memorize and enter this long and incomprehensible address.  Plus of the second option: convenience of input (we select the server from the list, we enter only login).  Minus: forcibly restrict the user only to a specific list of authorization servers. <br><br>  What to do here - everyone decides for himself.  I chose the second path.  In the end, it‚Äôs hard to find a regular user who doesn‚Äôt have a user account on Yandex, Rambler, LJ or Mail.ru (Google was very different in this regard - I honestly tried to understand how they did openID, but didn‚Äôt master it. If anyone can explain - write in the comments).  So I made a list of the main servers from which the user chooses his ( <a href="http://moiknigi.com/openid/">see in action</a> ). <br><br>  <b>So what is next?</b> <br><br>  Well, the authorization works, we are redirected to the right server and back, the script happily gives out "VALID".  What to do next?  Next, you need another page on which the user will be asked to fill out your profile.  Suppose I need a region and city of residence from a user.  E-mail is also not transmitted by all providers.  In general, you need to look at the situation.  After the profile is completed and created - we authorize, and then the user works as usual. <br><br>  <b>Underwater rocks</b> <br><br>  While I was screwing openID on my website, I had to spend a lot of nerve cells.  First, what works on the local server will not necessarily work for the hoster (even with curl).  I had to try other versions of the class (for the very first link in the article, two more options are available - class.openid.v2.php and class.openid.v3.php). <br><br>  Another useful method in the class is GetAttribute (), which allows you to take profile parameters from an openID server (e-mail, full name, gender, etc. - for example, like this: $ openid-&gt; GetAttribute ('email') ).  True, in the second and third versions of the class it disappeared somewhere, so you need to add: <br><br>  function GetAttribute ($ val) <br>  { <br>  return $ _GET ["openid_sreg _". $ val]; <br>  } <br><br>  In general, it is possible to consider this a gentlemanly minimum, in order to run authorization on the openID in your project.  I would appreciate additions and comments. </div><p>Source: <a href="https://habr.com/ru/post/93892/">https://habr.com/ru/post/93892/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../93879/index.html">Emotional Leadership</a></li>
<li><a href="../93880/index.html">Svyaz-Expocomm 2010: what did the big three show?</a></li>
<li><a href="../93882/index.html">Sorting unstructured data flow</a></li>
<li><a href="../93887/index.html">Participate in a charity flash mob</a></li>
<li><a href="../93888/index.html">Online Poker is becoming a forge for Wall Street</a></li>
<li><a href="../93894/index.html">Linear search algorithm in sorted table</a></li>
<li><a href="../93895/index.html">GamerTrushish girls on "KRI 2010"</a></li>
<li><a href="../93896/index.html">Medvedev began to use the iPad to read books</a></li>
<li><a href="../93898/index.html">Amazon Web Services Offers Failover DBMS</a></li>
<li><a href="../93901/index.html">McHost moved to Holland</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>