<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Moving from online to offline IDE when programming Nucleo-F401RE</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I liked the Nucleo platform and I purchased the Nucleo-F401RE board. 

 There was no desire to go deep into the internal structure of the microcontrol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Moving from online to offline IDE when programming Nucleo-F401RE</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/files/a5b/8d5/040/a5b8d5040a5748f98ea92ccde406c43e.png">  I liked the Nucleo platform and I purchased the Nucleo-F401RE board. <br><br>  There was no desire to go deep into the internal structure of the microcontroller, and mbed attracted my attention.  This library claims support for this card. <br><br>  On Habr√© there are already publications on the quick start Nucleo + mbed ( <a href="http://habrahabr.ru/post/230931/">"Quick Start ST Nucleo-F401 + Quick Start Guide"</a> , <a href="http://habrahabr.ru/post/241409/">"STM32 Nucleo. Connect the TFT LCD based on the ILI9341 chip"</a> ).  But all examples are given for online IDE.  But I didn‚Äôt like that option and started looking for a desktop IDE. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I tried Eclipse on an <a href="http://developer.mbed.org/cookbook/eclipse-for-building-and-debugging">article</a> from mbed.org.  But since the example was written for another controller, and I did not succeed in adapting the instruction for the STM, this option was dropped. <br><br>  Then he began to look towards <a href="http://www.coocox.org/CooCox_CoIDE.htm">CooCox CoIDE</a> .  Unfortunately, CoIDE does not officially support the STM32F401RE controller.  But try, so try. <br><a name="habracut"></a><br>  So, <a href="http://www.coocox.org/CooCox_CoIDE.htm">download CoIDE</a> .  At the bottom of the page there are two links: the first is loaded CoCenter.  This is such a launcher that allows you to manage the installation and update of all programs offered by the CooCox website.  I only needed CoIDE, so I used the second link.  This program works only in the Windows environment, but it suited me. <br><br>  CoBuilder and CoDebugger are integrated into CoIDE.  But the compiler is missing and must be installed separately. <br>  On the same page there is a <a href="http://www.coocox.org/CoIDE/Compiler_Settings.html">link</a> to the instructions for setting up an external compiler, where the installation of <a href="https://launchpad.net/gcc-arm-embedded/%2Bdownload">GCC ARM Embedded is</a> recommended.  From here we download the installation package for Windows. <br><br>  Next, go to the installation.  Install CoIDE.  I chose the path to install "c: \ CooCox \ CoIDE \" in order to avoid problems with the Cyrillic alphabet in the paths.  Then install the compiler.  I do not plan to use this compiler for other purposes, so the installation path chose "c: \ CooCox \ GNU Tools ARM Embedded \ 4.8 2014q3 \". <br>  Launch CoIDE, select the menu item ‚ÄúProject - Select Toolchain Path‚Äù: <br><br><img src="https://habrastorage.org/files/746/f37/979/746f37979db64a318c1de4b236b38f2d.png"><br>  and specify the path to the compiler "C: \ CooCox \ GNU Tools ARM Embedded \ 4.8 2014q3 \ bin". <br><img src="https://habrastorage.org/files/aa2/b1e/6a2/aa2b1e6a2cf74201bb2c0f91339c206d.png"><br><br>  Everything, you can write programs. <br><br>  But I wanted to use the mbed library.  This is where the quick start articles will come in handy.  We go to the <a href="https://developer.mbed.org/compiler">site</a> and select any of your existing projects.  I will work with the most beloved project ‚ÄúNucleo_blink_led‚Äù. <br><br><img src="https://habrastorage.org/files/b47/4b9/c10/b474b9c105ff4d96b316b68bb6e0fb38.png"><br><br>  We select this project in the tree and, by pressing the right mouse button, in the opened menu, select the item ‚ÄúExport Program ...‚Äù.  Next, we indicate the target platform (‚ÄúST Nucleo F401RE‚Äù) and our IDE (‚ÄúCooCox CoIDE‚Äù). <br><br><img src="https://habrastorage.org/files/ac5/071/e89/ac5071e89ae84c8ca875c6448bfd296d.png"><br><br>  Press the ‚ÄúExport‚Äù button and get the archive ‚ÄúNucleo_blink_led_coide_nucleo_f401re.zip‚Äù.  The archive will have a folder with the name of our project ‚ÄúNucleo_blink_led‚Äù, which must be unpacked into the folder with the CoIDE projects.  In my case, this is ‚Äúc: \ CooCox \ CoIDE \ workspace \‚Äù. <br>  In the CoIDE we started, select the menu item ‚ÄúFile - Open File ...‚Äù and in the folder ‚ÄúC: \ CooCox \ CoIDE \ workspace \ Nucleo_blink_led‚Äù select the file ‚ÄúNucleo_blink_led.coproj‚Äù. <br><br><img src="https://habrastorage.org/files/b18/66b/620/b1866b620b324bdbb3f8b3e31c48abab.png"><br><br>  Our project is open and ready for compilation. <br><br><img src="https://habrastorage.org/files/015/421/168/015421168dce473db1fe198d108ef95d.png"><br><br>  Select the menu item "Project - Build" (button Build on the toolbar or the F7 key).  In the console that appears, we should get the message "BUILD SUCCESSFUL". <br><br><img src="https://habrastorage.org/files/5fa/30b/60d/5fa30b60d22f45febb04ce56b88c3d7b.png"><br><br>  Then there are several ways - we can, as in the case of the online IDE, copy the resulting file ‚ÄúNucleo_blink_led.bin‚Äù from the ‚Äúc: \ CooCox \ CoIDE \ workspace \ Nucleo_blink_led \ Nucleo_blink_led \ Debug \ bin \‚Äù folder to our board, or we can start the debugging mode by selecting the ‚ÄúDebug - Debug‚Äù menu item (the ‚ÄúStart Debug‚Äù button on the toolbar or Ctrl + F5), or simply flash the controller with the finished program by selecting the ‚ÄúFlash - Program Download‚Äù menu item (the ‚ÄúDownload Code to Flash "on the toolbar). <br><br><img src="https://habrastorage.org/files/31f/7bf/90e/31f7bf90ec5642b0a460c9f578877d60.png"><br><br>  As a result of any of the above actions, the green LD2 LED should blink cheerfully on our board. <br><br>  You could stop at this, but blinking with one LED is boring. <br><br>  Therefore, we will assemble a not complicated scheme with the seven-segment indicator CA56-12SRWA.  The legs of the indicator with numbers 12, 9, 8, 6 control the inclusion of the digits of the indicator 1, 2, 3, 4 when high voltage is applied to them.  The rest of the legs are responsible for the individual segments of each familiarity and points and must be connected through the current-limiting resistor to the outputs with a low voltage level.  Segments are managed simultaneously in all digits, so we will make a dynamic indication. <br><div class="spoiler">  <b class="spoiler_title">Main.c code for dynamic display.</b> <div class="spoiler_text"><pre><code class="hljs lua">#include <span class="hljs-string"><span class="hljs-string">"mbed.h"</span></span> #define pause <span class="hljs-number"><span class="hljs-number">0.005</span></span> void disp(<span class="hljs-built_in"><span class="hljs-built_in">char</span></span> n); DigitalOut seg1(D8); DigitalOut seg2(D3); DigitalOut seg3(D5); DigitalOut seg4(D7); DigitalOut seg5(D9); DigitalOut seg6(D2); DigitalOut seg7(D4); DigitalOut seg8(D6); //dp DigitalOut dig1(D10); DigitalOut dig2(D11); DigitalOut dig3(D12); DigitalOut dig4(D13); int main() { dig1=<span class="hljs-number"><span class="hljs-number">0</span></span>; //   <span class="hljs-number"><span class="hljs-number">1</span></span>  dig2=<span class="hljs-number"><span class="hljs-number">0</span></span>; //   <span class="hljs-number"><span class="hljs-number">2</span></span>  dig3=<span class="hljs-number"><span class="hljs-number">0</span></span>; //   <span class="hljs-number"><span class="hljs-number">3</span></span>  dig4=<span class="hljs-number"><span class="hljs-number">0</span></span>; //   <span class="hljs-number"><span class="hljs-number">4</span></span>  seg8=<span class="hljs-number"><span class="hljs-number">1</span></span>; //      //   <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) { disp(<span class="hljs-string"><span class="hljs-string">'0'</span></span>); //   <span class="hljs-string"><span class="hljs-string">'0'</span></span> dig1=<span class="hljs-number"><span class="hljs-number">1</span></span>; //       wait(pause); //  dig1=<span class="hljs-number"><span class="hljs-number">0</span></span>; //    disp(<span class="hljs-string"><span class="hljs-string">'1'</span></span>); //   <span class="hljs-string"><span class="hljs-string">'1'</span></span> dig2=<span class="hljs-number"><span class="hljs-number">1</span></span>; //       wait(pause); //  dig2=<span class="hljs-number"><span class="hljs-number">0</span></span>; //    disp(<span class="hljs-string"><span class="hljs-string">'2'</span></span>); //   <span class="hljs-string"><span class="hljs-string">'2'</span></span> dig3=<span class="hljs-number"><span class="hljs-number">1</span></span>; //       wait(pause); //  dig3=<span class="hljs-number"><span class="hljs-number">0</span></span>; //    disp(<span class="hljs-string"><span class="hljs-string">'3'</span></span>); //   <span class="hljs-string"><span class="hljs-string">'3'</span></span> dig4=<span class="hljs-number"><span class="hljs-number">1</span></span>; //       wait(pause); //  dig4=<span class="hljs-number"><span class="hljs-number">0</span></span>; //    } } //       void disp(<span class="hljs-built_in"><span class="hljs-built_in">char</span></span> n) { switch (n) { case <span class="hljs-string"><span class="hljs-string">'0'</span></span>: //    <span class="hljs-string"><span class="hljs-string">'0'</span></span> seg1=<span class="hljs-number"><span class="hljs-number">0</span></span>; //  a     ( ) seg2=<span class="hljs-number"><span class="hljs-number">0</span></span>; //  b     ( ) seg3=<span class="hljs-number"><span class="hljs-number">0</span></span>; //  c     ( ) seg4=<span class="hljs-number"><span class="hljs-number">0</span></span>; //  d     ( ) seg5=<span class="hljs-number"><span class="hljs-number">0</span></span>; //  e     ( ) seg6=<span class="hljs-number"><span class="hljs-number">0</span></span>; //  f     ( ) seg7=<span class="hljs-number"><span class="hljs-number">1</span></span>; //  g     ( ) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-string"><span class="hljs-string">'1'</span></span>: seg1=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg2=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg3=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg4=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg5=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg6=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg7=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-string"><span class="hljs-string">'2'</span></span>: seg1=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg2=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg3=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg4=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg5=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg6=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg7=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-string"><span class="hljs-string">'3'</span></span>: seg1=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg2=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg3=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg4=<span class="hljs-number"><span class="hljs-number">0</span></span>; seg5=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg6=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg7=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; default: seg1=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg2=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg3=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg4=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg5=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg6=<span class="hljs-number"><span class="hljs-number">1</span></span>; seg7=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br>  All comments are in the text of the program. <br><br>  We are flashing the controller and our indicator displays the text "0123". <br><br>  The program does not claim perfection and, if necessary, on the website mbed.org you can find ready-made libraries for managing such indicators. <br><br>  As a result, I received an IDE for working with Nucleo and the mbed library without using the Internet. <br>  My project used library mbed revision 91. When updating the library, we can update our project ‚ÄúNucleo_blink_led‚Äù on the site <a href="https://developer.mbed.org/compiler">developer.mbed.org/compiler</a> and re-export it to our computer.  Then we just need to update the ‚Äúmbed‚Äù folder in our project to a new one and recompile the project. </div><p>Source: <a href="https://habr.com/ru/post/243395/">https://habr.com/ru/post/243395/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243383/index.html">How to send push notifications to the Windows Universal app</a></li>
<li><a href="../243385/index.html">Processors, cores and threads. System topology</a></li>
<li><a href="../243389/index.html">What will be new on .NEXT and why it will be good</a></li>
<li><a href="../243391/index.html">Facebook's Osquery Introduction</a></li>
<li><a href="../243393/index.html">Should everyone learn programming?</a></li>
<li><a href="../243397/index.html">Well.js is another approach to modular JavaScript development.</a></li>
<li><a href="../243401/index.html">Customize viewing of individual Issue in Atlassian Jira</a></li>
<li><a href="../243403/index.html">A brief synopsis of javascript</a></li>
<li><a href="../243405/index.html">Game hackathon, December 6-7, Moscow</a></li>
<li><a href="../243407/index.html">Odroid-W + W Docking Board LCD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>