<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Font Lato: Sketch vs Android Studio</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Life in Avito made go to Sketch and start drawing in mdpi (1x). To immediately support phones and tablets. Since I work on the principle of Atomic Des...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Font Lato: Sketch vs Android Studio</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/b56/a13/e43/b56a13e432fc46b1bc2b261cc4d422de.jpg"><br><br>  Life in Avito made go to Sketch and start drawing in mdpi (1x).  To immediately support phones and tablets.  Since I work on the principle of <a href="http://patternlab.io/about.html">Atomic Design</a> adapted to myself. <br><br>  I started the transition to Sketch by transferring font guides.  I took the phone with mdpi (1x), installed my test application with the Avito font grid.  Began to circle.  I already did this for Photoshop.  <i>(I need to know the exact boundaries of the text in order to make precise design specifications for developers)</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><img src="https://habrastorage.org/files/d03/cda/b3a/d03cdab3ac314a65baac3ae8ffbe8dae.jpg"><br><br>  As it turned out, the shoals (features of the work :)) with the font rendering from Android is enough.  I will give a specific example.  Took 2 identical TextView (font in one line, 14 Bold).  In addition, the second TextView has assigned the attributes <i>android: maxLines = "1"</i> and <i>android: ellipsize = "end"</i> in addition <i>.</i> This means that if the text is long, it will appear on one line with "..." at the end.  As a result, the height of the container and the baseline of the second TextView were rendered with a shift of 1dp relative to the first.  There were other oddities, but not the essence. <br><br>  He continued the experiment.  Then I remembered the recent <a href="https://youtu.be/7GFRpP9a-eQ">video from Lisa Wray</a> about working with the font.  I dug up screenshots on the desktop about the font structure from the point of view of Android. <br><br><img src="https://habrastorage.org/files/7ba/154/ae9/7ba154ae995e46edb9c509c64bc322d2.jpg"><br><img src="https://habrastorage.org/files/827/7bf/6b1/8277bf6b12aa47dfbabdec9ae111a638.jpg"><br><br>  Thought googled.  I came across <a href="http://developer.android.com/reference/android/widget/TextView.html">the</a> <i>android</i> <a href="http://developer.android.com/reference/android/widget/TextView.html">attribute</a> <i>: includeFontPadding = "false"</i> .  As I understand it, it removes the padding from the top of the font between top and ascent and the bottom between descent and bottom (see the first screenshot). <br><br>  Added this attribute to all TextView in a test application.  Began to look again.  Played with different attributes in TextView, equalized - everything is cool.  The TextView from the example above is rendered equally, without shifts.  Began to circle the text for the font grid.  To get the output for Sketch here is this: <br><br><img src="https://habrastorage.org/files/d03/cda/b3a/d03cdab3ac314a65baac3ae8ffbe8dae.jpg"><br><br>  During the stroke, I noticed that the borders of the text layer in Sketch are one-on-one with the border of TextView in Android (Studio).  I tried other sizes - they also match.  Cool! <br><br><img src="https://habrastorage.org/files/e7e/27d/808/e7e27d80886e40b69b11766f70f780bb.jpg"><br><br>  And what about the line spacing?  It turned out, too, everything is good.  For Lato Bold font size 16, the Line parameter of the new text layer in Sketch defaults to 19. Attribute <i>android: lineSpacingExtra = "1sp"</i> increases the line spacing by 1. I decided to add 1 to the Line parameter in Sketch.  That is, it became 20. Earned, the containers are the same! <br><br><img src="https://habrastorage.org/files/685/2fa/be2/6852fabe2ffd4621969531d78035aede.jpg"><br><br>  Moreover, the height was 1 more.  Added this space below.  That is, you can play the exact alignment of the text of the buttons. <br><br><h3>  Conclusion </h3><br>  For the Lato font, if you draw layouts in mdpi (1x), the font rendering in Sketch is the same as Android (Studio), if you add the TextView <i>android</i> attribute <i>: includeFontPadding = ‚Äúfalse‚Äù</i> <br><br><h3>  Hypothesis </h3><br>  It seems that this behavior is true for any font.  And not just Lato.  Need to check. <br><br><hr><br>  Who likes to read on Facebook, add to my group about <a href="https://www.facebook.com/groups/upscaleandroid/">Quality Android</a> . </div><p>Source: <a href="https://habr.com/ru/post/270389/">https://habr.com/ru/post/270389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270377/index.html">Magento 2.0 Release Candidate Released</a></li>
<li><a href="../270379/index.html">Half a Century to "Universal Machine Languages" (1966‚Äì2016): Past, Present, Future</a></li>
<li><a href="../270381/index.html">TvOS application development</a></li>
<li><a href="../270383/index.html">Java Programmer Cheat Sheet 4. Java Stream API</a></li>
<li><a href="../270387/index.html">NSA recognized the possibility of using zero-day exploits for cyber attacks</a></li>
<li><a href="../270391/index.html">Increase system fault tolerance by nodejs</a></li>
<li><a href="../270393/index.html">ZeroNights HackQuest 2015</a></li>
<li><a href="../270395/index.html">Tibero part 2. Relocation of the project from Oracle</a></li>
<li><a href="../270401/index.html">Service plan "for every day" - Part 3: Automatic creation of backups</a></li>
<li><a href="../270407/index.html">Small thoughts about alternatives and about the "killers" 1C</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>