<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Import Substitution Operating Systems. How do I see domestic OS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When we talk about the distribution of the operating system, then it is, first of all, not about the kernel of the operating system, but about the app...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Import Substitution Operating Systems. How do I see domestic OS</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/ru/m2/4b/rum24bmqraqhy8m9zoxnkfgswya.png" align="left">  When we talk about the distribution of the operating system, then it is, first of all, not about the kernel of the operating system, but about the applications that are part of the distribution.  And when we talk about import substitution of operating systems, then we are talking about a particular version of Linux.  Nothing else is proposed for import substitution in the Russian market.  As for the linux kernel, Linus Benedict <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25BE%25D1%2580%25D0%25B2%25D0%25B0%25D0%25BB%25D1%258C%25D0%25B4%25D1%2581,_%25D0%259B%25D0%25B8%25D0%25BD%25D1%2583%25D1%2581">Torvalds</a> is responsible for its development.  And to be honest, I don‚Äôt know anything about the Russian linux kernel.  But the environment of any linux distribution is developed by various organizations, and not to list them all: KDE, Mozilla, Google, IBM, etc.  etc.  And one would expect that with the advent of domestic OS ala linux, this list will be expanded with domestic developments or modifications.  But this is not.  No, this is not necessarily a domestic browser or email client in these distributions.  But I would like to see something refined to reflect the Russian realities in the digital economy.  Let's stop on this. <br><a name="habracut"></a><br>  They will say to me: ‚ÄúWhy, what does not suit from what is?‚Äù.  First, if we don‚Äôt contribute anything, then why do we call ‚Äúdomestic software‚Äù?  Only due to the fact that, at best, is stored in Russia?  As an example, let's consider the use of X509 electronic certificates, electronic signatures, encryption of documents and traffic (tls / https).  And this helped me a very interesting <a href="https://www.altlinux.org/%25D0%25AD%25D0%259F">analysis</a> (in some ways I may not agree with him, but this is particular) problems with the use of digital signature tools that arise for users of Linux.  Here is one of the conclusions: <br><blockquote>  In some cases, developers of public service portals recommend using non-Registry operating systems, as well as software and configurations that deliberately reduce the security of user data. </blockquote>  By the words ‚Äúnon-registered operating systems‚Äù, naturally, one should understand MS Windows.  The state service portal should be considered a benchmark among state and other services portals.  It allows you to work with it with <a href="https://habr.com/post/334162/">any</a> native Linux family of OS.  All in all, the plugin that it distributes provides support for the PKCS # 11 standard for tokens / smartcards and this makes it independent of the OS, and for MS Windows it provides support for the MS CSP standard with Russian cryptoalgorithms.  And that's all.  It (the state service plugin) does not impose a cryptographic provider (whether it is CSP or PKCS # 11) from one manufacturer or another, it checks the cryptographic provider‚Äôs compliance with the standard.  And why this positive experience does not extend to other departments mystery.  Moreover, the practice of plug-ins is still flawed, it binds the user one way or another to certain operating systems, and even browsers.  This browser supports these plugins (of which one CAPICOM costs), but this one does not, etc.  Why not to request in the authentication process, for example, that the user provides his business card or something of that kind signed by him, his means to the portal. <br><br>  And so, the first thing that needs to be done is to untie, make the service portals independent of the OS and crypto-providers, including modernizing the portal of state services. <br>  But today it comes to the ridiculous, the whole company works on a domestic OS (including accounting), but for access to the FTS (GOST-tovy tls / https is required) they keep a special computer with MS Windows. <br><br>  Above, we talked about the improvements in domestic OS.  Let's go back to them.  Why and why they are needed.  Today, having bought and installed a domestic OS on a workplace, the Russian consumer turns out to receive nothing from the point of view of Russian cryptography: he cannot create a request for a certificate (what is so well written <a href="https://www.altlinux.org/%25D0%25AD%25D0%259F">here</a> ), do not view the GOST certificate normally, do not sign the document or check Signature, do not protect your email.  Immediately the question arises: - ‚ÄúAnd what have I acquired?  Whether it was easier to download the Linux distribution on the Internet, especially since they are constantly evolving. ‚Äù  In the West or the East, people acquiring (not necessarily for money) the OS immediately receive a bunch of useful services.  And where are our Linux distributions with browsers or email clients using Russian cryptography, where are the utilities that allow us to verify the electronic <a href="https://service.nalog.ru/vyp/%2520)">signature</a> delivered by the FTS under an extract from the Unified State Register?  Etc.  I do not know such distributions.  Therefore, I take the Mageia distribution kit and fasten to it everything that I am writing here: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/fh/ko/ww/fhkowwhwigfwitfrzfkb7gggh78.png"><br><br>  How certificates are stored and keys are used in most Linux applications.  The absolute majority of applications in Linux (Mozilla, Google, LibreOffice, GnuPG, etc., etc.) use the NSS (Network Security Service) package as a certificate store: <br><br><img src="https://habrastorage.org/webt/nt/zv/ie/ntzvieolefpoaztuioouwd1uh-m.png"><br><br>  It is assumed that <a href="https://habr.com/post/357668/">personal certificates</a> (certificate plus private key) are stored on PKCS # 11 tokens / smartcards.  At the same time, it is absolutely not important whether the hardware is a token or software or even cloud.  This is an implementation, the main thing is to comply with the PKCS # 11 standard.  NSS root certificates are stored in their own database.  It should be noted that developers of Mozilla, Google browsers provide their list of trusted root certificates.  Unfortunately, there is not a single Russian root certificate in this list.  NSS also maintains a database of modules (libraries) responsible for working with one type of token or another.  The NSS package is not inferior to OpenSSL in any way, but it has one indisputable advantage - the availability of a certificate database. <br><br>  And what do we have in the end?  The NSS package, which is included in the domestic Linux distributions, does not support the work with the national GOST-based tokens PKCS # 11.  And this leads to the fact that Firefox and other programs do not want to work with domestic tokens.  Do we have domestic tokens with built-in support for GOSTs?  It turns out there are in sufficient quantities.  This and hardware tokens from different manufacturers: <br><br><img src="https://habrastorage.org/webt/pk/if/o9/pkifo9ov5_0rmcq8wym-o19hq9k.png"><br><br>  Unfortunately, the vast majority of hardware tokens today is used as an ordinary flash drive for storing keys and certificates. <br>  There are free software tokens both <a href="https://sourceforge.net/projects/atoken/">non-certified</a> and certified: <br><br><img src="https://habrastorage.org/webt/qj/ta/p8/qjtap8zw5eky0olx8r16e_-lg6w.png"><br><br>  And even PKCS # 11 <a href="https://habr.com/post/403563/">cloud tokens</a> are available: <br><br><img src="https://habrastorage.org/webt/uo/oq/xd/uooqxd5thskkg1-ncgeiosdee34.png"><br><br>  It is also a shame that the NSS package, which includes a number of utilities, comes with bugs that sometimes appear only on GOST certificates ( <a href="https://habr.com/post/398783/">calgoid</a> , <a href="https://habr.com/post/406037/">pp</a> ). <br><br>  And it would be great if the composition of domestic distributions included the NSS package, which supports the work with PKCS # 11 tokens with GOST-based cryptography.  It can be objected, it is difficult, expensive, etc.  But if the developers were interested, then they knew that back in 2010 a <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D608725">bug</a> was registered <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D608725">with GOST</a> for NSS.  I myself monitor NSS and add support for it to GOST, starting with version NSS-3.11 and up to the present NSS-3.41.  And with whom I have just not met over the years (anyone can count), the result is zero.  I like the answer: ‚ÄúDid they add them there in the west?‚Äù  But they do not need.  And it turns out to us too. <br><br>  And now, if NSS with the support of GOSTs would be in domestic distributions, it would have been possible to add <a href="https://www.linux.org.ru/news/mozilla/12799094">support for</a> GOSTs in Firefox, Thunderbird, <a href="https://habr.com/post/417735/">KMail</a> , <a href="https://habr.com/post/428429/">LibreOffice</a> , etc. with a little blood.  And about all this one way or another on the pages of Habr was written.  Yes, I almost missed <a href="https://habr.com/post/415423/">OpenSSL</a> with GOST.  There are also versions certified by the FSB of Russia.  And openssl with GOST s almost automatically leads to the appearance in domestic distributions and versions of <a href="https://habr.com/post/338390/">openvpn</a> at GOST s: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8cb/35a/d7a/8cb35ad7a299cda724379a4da55d604d.png" alt="image"><br><br>  Let's add Apache here, with tls / https support on GOST, but PHP and GOST won't hurt. <br>  And in the hands of the user of the domestic OS, there would already be both openssl and p7sign / p7verify utilities for signing files with electronic signature.  But there would be a <a href="https://habr.com/post/316736/">Cleopatra</a> graphic utility for the same purpose and a <a href="https://habr.com/post/335712/">GUI for NSS</a> . <br><br>  To create a certificate request, you could use the <a href="https://habr.com/post/412993/">guicreate_csp</a> utility: <br><br><img src="https://habrastorage.org/webt/ao/0i/hg/ao0ihgn7e0tdcxpuxaxheh9q7gs.png"><br><br>  And if someone wanted to deploy a <a href="https://habr.com/post/413493/">certification center</a> in their enterprise, then please: <br><br><img src="https://habrastorage.org/webt/x4/ds/1d/x4ds1dabec3zgopzsyjgssumipu.png"><br><br>  Someone might have said, but what about certification?  And in the west they sell and use certified Linux?  Of course not.  But after all, all domestic manufacturers of all the above products are part of certified distributions.  What prevents the certification include in the modified packages.  And what would be cool distributions would be for use in the educational process in the specialty "Information Security" or in schools.  In my opinion, the Ministry of Digital Development, Communications and Mass Communications of the Russian Federation should be interested in certification. <br>  And so, what is the conclusion?  I remind you, we talked about the electronic signature, about the use of domestic cryptography. <br><br>  First, access to portals should not depend on the type of operating system and cryptographic provider used. <br><br>  Second, domestic operating systems should have browsers with the support of GOST https. <br><br>  Third, domestic OSs should include mail clients with GOST support (signing / encryption). <br><br>  Fourth, domestic operating systems must have electronic signature and encryption <br><br>  Fifth, domestic OSs should have support for PKCS # 11 tokens / smartcards with support for Russian cryptography. <br><br>  Now, if this minimum is implemented, then we can speak from domestic operating systems such as Linux. <br>  And not so long ago I was in the same ministry, and there I saw a unique import substitution: they were offered some kind of domestic Linux, they started a virtual machine with Windows and with all the gadgets that were used in the Ministry on Windows, and they could report on import substitution.  I hope my last paragraph will not be a guide to action. <br><br>  This is really cool !!!  What we just do not have! </div><p>Source: <a href="https://habr.com/ru/post/434358/">https://habr.com/ru/post/434358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../434344/index.html">MIT course "Computer Systems Security". Lecture 22: MIT Information Security, Part 2</a></li>
<li><a href="../434346/index.html">MIT course "Computer Systems Security". Lecture 22: MIT Information Security, Part 3</a></li>
<li><a href="../434348/index.html">Do you remember your password on Habr√©?</a></li>
<li><a href="../434354/index.html">Creating a face recognition model using deep learning in Python</a></li>
<li><a href="../434356/index.html">Python Stiller Mailing</a></li>
<li><a href="../434360/index.html">Explanatory conversation about asynchronous programming in Javascript</a></li>
<li><a href="../434362/index.html">Non-forecast for 2019</a></li>
<li><a href="../434364/index.html">Hangfire queue support</a></li>
<li><a href="../434366/index.html">The Big Four are preparing to share 5G frequencies</a></li>
<li><a href="../434368/index.html">Machine learning for finding errors in code: how I trained at JetBrains Research</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>