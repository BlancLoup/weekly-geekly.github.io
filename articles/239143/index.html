<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a 2D platformer using the Unreal Engine 4. Part 1.5 - Jumping</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A full ‚Äúpart 2‚Äù will be devoted to the combat system, but I haven‚Äôt yet brought it to the desired state, but I didn‚Äôt want to write anything at all fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a 2D platformer using the Unreal Engine 4. Part 1.5 - Jumping</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/28f/ec3/132/28fec313285f4b3585482b9021a6125e.png" align="left"><br>  A full ‚Äúpart 2‚Äù will be devoted to the combat system, but I haven‚Äôt yet brought it to the desired state, but I didn‚Äôt want to write anything at all for 2 weeks, so for now let's deal with a small expansion of our character‚Äôs abilities. <br><br>  In the <a href="http://habrahabr.ru/post/237409/">last article,</a> we prepared a character and a simple scene, learned to move horizontally, it's time to learn, if not fly, then at least jump! <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br><br><br><div class="spoiler">  <b class="spoiler_title">Minor project changes:</b> <div class="spoiler_text"><ul><li>  Found a new storyboard, redid all sprites Alucard, now, as it should be, he is in red </li><li>  Added small platforms made from the texture of the floor for training jumps </li><li>  Added background pictures for atmosphere :) </li></ul><br></div></div><br><br><img src="https://habrastorage.org/files/685/24f/785/68524f78529a4e268e9e43a03c2f8fa0.png" align="right"><br><br><br>  First we need to prepare the animation.  How to do this is described in <a href="http://habrahabr.ru/post/237409/">Part 1</a> , for convenience, I prefer to divide the jump into 2 conditional parts - jump and fall.  To the top point in the air, we lose the first animation, after, respectively, the second.  Animation of the fall can also be used when, in fact, falling from the edge of a cliff or other obstacles.  We prepare Flipboocks, it should be noted that the playback speed and the duration of the display of individual frames is selected individually. <br><br><br><br><br><br>  Next, turn, in fact, to work out jumps.  Go to our character's Blueprint, add a jump event handler - InputActionJump.  This is a simple keystroke handler, it has two states - it is pressed and released.  In principle, you can directly add the jump function to the keystroke, it will work, but we are trying to do well, right?  Last time we started to make a system for changing animations, it expands easily and can be very flexible, so we will use it. <br>  To switch the animation, we need to know that the key was pressed, so we add a Boolean variable to the input and translate it into a state of truth.  Thus, we will track the keystroke, after which there is a jump and resetting (false) our variable, with a delay - the animation takes some time. <br>  To release the key, add another Boolean variable - we will need it later.  As a result, we obtain a simple algorithm: <br><div class="spoiler">  <b class="spoiler_title">Jumping</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/0ae/e15/55e/0aee1555ea3146dea1705b47d056b55b.png"><br></div></div><br><br><br>  Expand our animation system.  We have a new opportunity, so let's add a branch to the choice of animations: check if the character can jump (built-in function, thanks to the guys from Epic Games), if it can jump, we‚Äôre after the earth, go to the existing branch, if not, we‚Äôre air and animation need others. <br><div class="spoiler">  <b class="spoiler_title">Jump animation change branch</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/e31/ce2/900/e31ce290037146838c5e2b0193e54279.png"><br></div></div><br>  The logic here is simple: if we can not jump, then we must determine for what reason - we either jump or fall.  In the first case, we consistently lose the jump / fall, in the second only the fall. <br><br>  Testing: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/AOb_jgCR0fc%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700191,15700253&amp;usg=ALkJrhiRARNW7HMoEUoB0XgwLNeMbv_vmw" frameborder="0" allowfullscreen=""></iframe><br><br><br><br>  <a href="http://habrahabr.ru/post/237409/">Part 1 - Game character, movement</a> </div><p>Source: <a href="https://habr.com/ru/post/239143/">https://habr.com/ru/post/239143/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239133/index.html">Marketing tips: how to use quiz to attract users</a></li>
<li><a href="../239135/index.html">InkCase Plus, smartphone case with E-ink display, goes on sale this month</a></li>
<li><a href="../239137/index.html">Check your hoster for Shellshock vulnerability</a></li>
<li><a href="../239139/index.html">The presentation of the new Tesla electric car will be held on October 9</a></li>
<li><a href="../239141/index.html">Mikrotik, DHCP Classless Route</a></li>
<li><a href="../239147/index.html">Yii 2.0: Dynamic addition of validated form fields through a ‚Äújacket‚Äù (pjax) for a multi-model form</a></li>
<li><a href="../239149/index.html">Sqimitive.js - Frontend Primitive or ‚ÄúBackbone without wrappers‚Äù</a></li>
<li><a href="../239151/index.html">Numeric Classes of Types in Rust</a></li>
<li><a href="../239153/index.html">How to set the order of visiting new pages by a search robot based on the prediction of the popularity of a web page (Part I)</a></li>
<li><a href="../239155/index.html">How I stopped being afraid and loved Windows 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>