<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript Currying</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Functional programming is a style of software development in which some specific features for working with functions are widely used. It is, in partic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript Currying</h1><div class="post__text post__text-html js-mediator-article">  Functional programming is a style of software development in which some specific features for working with functions are widely used.  It is, in particular, the transfer of functions to other functions as arguments and the return of functions from other functions.  The concept of ‚Äúpure functions‚Äù also belongs to the functional programming style.  The output of pure functions depends only on the input, they, when executed, do not affect the state of the program. <br><br>  Principles of functional programming supports many languages.  Among them are JavaScript, Haskell, Clojure, Erlang.  The use of functional programming mechanisms implies knowledge of, among others, such concepts as pure functions, currying functions, higher order functions. <br><br> <a href="https://habr.com/company/ruvds/blog/427295/"><img src="https://habrastorage.org/webt/ge/zo/ma/gezomag7bkhhzxqs3afxpu76g0k.png"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The material, the translation of which we are publishing today, is dedicated to currying.  We will talk about how currying works, and how knowledge of this mechanism can be useful to a JS developer. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">What is currying?</font> </h2><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25B0%25D1%2580%25D1%2580%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">Currying</a> or currying (currying) in functional programming is the conversion of a function with multiple arguments into a set of nested functions with one argument.  When you call a curried function with one argument passed to it, it returns a new function that is waiting for the next argument to arrive.  New functions that are waiting for the next argument are returned each time the curried function is called ‚Äî until the function receives all the arguments it needs.  The arguments obtained earlier, due to the closure mechanism, are waiting for the moment when the function gets everything it needs to perform the calculations.  After receiving the last argument, the function performs the calculations and returns the result. <br><br>  Speaking of <a href="https://medium.com/%40kbrainwave/currying-in-javascript-ce6da2d324fe">currying</a> , we can say that this is the process of turning a function with several arguments into a function with less arity. <br><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D1%2580%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C">Arity</a> is the number of function arguments.  For example - here is the declaration of a pair of functions: <br><br><pre><code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b)</span></span></span></span> {    //... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_fn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b, c)</span></span></span></span> {    //... }</code> </pre> <br>  The <code>fn</code> function takes two arguments (this is a binary or 2-ary function), the <code>_fn</code> function takes three arguments (a ternary, 3-ary function). <br><br>  Let's talk about the situation when, during currying, a function with several arguments is converted into a set of functions, each of which takes one argument. <br><br>  Consider an example.  We have the following function: <br><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">multiply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b, c)</span></span></span><span class="hljs-function"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * c; }</code> </pre> <br>  It takes three arguments and returns their product: <br><br><pre> <code class="hljs objectivec">multiply(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 6</span></span></code> </pre> <br>  Now we will think about how to convert it to a set of functions, each of which takes one argument.  Create a curried version of this function and look at how to get the same result during a call to several functions: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">multiply</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">b</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function">) =&gt;</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * c       }   } } log(multiply(<span class="hljs-number"><span class="hljs-number">1</span></span>)(<span class="hljs-number"><span class="hljs-number">2</span></span>)(<span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// 6</span></span></code> </pre> <br>  As you can see, here we have converted a call to a single function with three arguments - <code>multiply(1,2,3)</code> to a call to three functions - <code>multiply(1)(2)(3)</code> . <br><br>  It turns out that one function has turned into several functions.  When using a new construction, each function, except the last one, which returns the result of calculations, takes an argument and returns another function, which is also capable of taking an argument and returning another function.  If the construction of the form <code>multiply(1)(2)(3)</code> does not seem to you to be too clear, let's look at it in the best way, write it out like this: <br><br><pre> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mul1 = multiply(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mul2 = mul1(<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = mul2(<span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(result); <span class="hljs-comment"><span class="hljs-comment">// 6</span></span></code> </pre> <br>  Now line by line we analyze what is happening here. <br><br>  First, we pass argument <code>1</code> function <code>multiply</code> : <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mul1 = multiply(<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  When this function works, the following construction works: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">b</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function">) =&gt;</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * c       }   }</code> </pre> <br>  Now <code>mul1</code> has a link to the function that takes the argument <code>b</code> .  Call the function <code>mul1</code> , passing it <code>2</code> : <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mul2 = mul1(<span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  As a result of this call, the following code will be executed: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">c</span></span>) =&gt; {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>       }</code> </pre> <br>  The constant <code>mul2</code> will contain a reference to a function that might appear in it, for example, as a result of the following operation: <br><br><pre> <code class="hljs coffeescript"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mul2</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(c)</span></span></span><span class="hljs-function"> =&gt;</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * c       }</code> </pre> <br>  If you now call the function <code>mul2</code> , passing it <code>3</code> , then the function will perform the necessary calculations using the arguments <code>a</code> and <code>b</code> : <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = mul2(<span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre> <br>  The result of these calculations will be <code>6</code> : <br><br><pre> <code class="hljs lisp">log(<span class="hljs-name"><span class="hljs-name">result</span></span>)<span class="hljs-comment"><span class="hljs-comment">; // 6</span></span></code> </pre> <br>  The <code>mul2</code> function, which has the largest nesting level, has access to areas of visibility, closures formed by the <code>multiply</code> and <code>mul1</code> .  That is why in the function <code>mul2</code> you can perform calculations with variables declared in functions that have already been completed, which have already returned some values ‚Äã‚Äãand are processed by the garbage collector. <br><br>  Above we have considered an abstract example, but, in essence, the same function that is intended for calculating the volume of a rectangular parallelepiped. <br><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(l,w,h)</span></span></span><span class="hljs-function"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> l * w * h; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vol = volume(<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">90</span></span>) <span class="hljs-comment"><span class="hljs-comment">// 180000</span></span></code> </pre> <br>  Here is what its curried version looks like: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">l</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h</span></span></span><span class="hljs-function">) =&gt;</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> l * w * h       }   } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vol = volume(<span class="hljs-number"><span class="hljs-number">100</span></span>)(<span class="hljs-number"><span class="hljs-number">20</span></span>)(<span class="hljs-number"><span class="hljs-number">90</span></span>) <span class="hljs-comment"><span class="hljs-comment">// 180000</span></span></code> </pre> <br>  So, currying is based on the following idea: on the basis of a certain function, they create another function that returns a specialized function. <br><br><h2>  <font color="#3AC1EF">Currying and partial application of functions</font> </h2><br>  Now, perhaps, there is a feeling that the number of nested functions, when presenting a function as a set of nested functions, depends on the number of function arguments.  And, if we are talking about currying, then it is. <br><br>  A special variant of the function for calculating the volume, which we have already seen, can be done like this: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">l</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w, h</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> l * w * h   } }</code> </pre> <br>  Here ideas are applied, very similar to those discussed above.  You can use this function as follows: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hV = volume(<span class="hljs-number"><span class="hljs-number">70</span></span>); hV(<span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">142</span></span>); hV(<span class="hljs-number"><span class="hljs-number">220</span></span>,<span class="hljs-number"><span class="hljs-number">122</span></span>); hV(<span class="hljs-number"><span class="hljs-number">120</span></span>,<span class="hljs-number"><span class="hljs-number">123</span></span>);</code> </pre> <br>  And it is possible and so: <br><br><pre> <code class="hljs lisp">volume(<span class="hljs-number"><span class="hljs-number">70</span></span>)(<span class="hljs-number"><span class="hljs-number">90</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>)<span class="hljs-comment"><span class="hljs-comment">; volume(70)(390,320); volume(70)(940,340);</span></span></code> </pre> <br>  In fact, here you can see how we, with the <code>volume(70)</code> command, created a specialized function for calculating the volume of bodies, one of whose dimensions (namely, length, <code>l</code> ), is fixed.  The <code>volume</code> function expects 3 arguments and contains 2 nested functions, in contrast to the previous version of this function, the curried version of which contained 3 nested functions. <br><br>  The function that came out after calling <code>volume(70)</code> implements the concept of partial function application.  Currying and partial application of functions are very similar to each other, but the concepts are different. <br><br>  When partially applied, the function is converted to another function with a smaller number of arguments (less arity).  Some arguments of such a function are fixed (default values ‚Äã‚Äãare set for them). <br><br>  For example, there is such a function: <br><br><pre> <code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">acidityRatio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x, y, z)</span></span></span><span class="hljs-function"> {   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">performOp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x,y,z)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br>  It can be converted to this: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">acidityRatio</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">y,z</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> performOp(x,y,z)   } }</code> </pre> <br>  The implementation of the <code>performOp()</code> function is not given here, since it does not affect the concepts under consideration. <br><br>  The function that can be obtained by calling the new function <code>acidityRatio()</code> with an argument whose value is to be fixed is the original function, one of whose arguments is fixed, and this function itself takes one less argument than the original one. <br><br>  The curried version of the function will look like this: <br><br><pre> <code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">acidityRatio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function"> {   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(y)</span></span></span><span class="hljs-function"> = &gt; {       </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(z)</span></span></span><span class="hljs-function"> = &gt; {           </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">performOp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x,y,z)</span></span></span><span class="hljs-function">       }   } }</span></span></code> </pre> <br>  As you can see, during currying, the number of nested functions is equal to the number of arguments of the original function.  Each of these functions expects its own argument.  It is clear that if the function does not take arguments, or takes only one argument, then it cannot be curried. <br><br>  In a situation where the function has two arguments, the results of its currying and partial application can be said to be the same.  For example, we have this function: <br><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">div</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x,y)</span></span></span><span class="hljs-function"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x/y; }</code> </pre> <br>  Suppose we need to rewrite it so that, by fixing the first argument, we obtain a function that performs calculations when passing only the second argument to it, that is, we need to partially apply this function.  It will look like this: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">div</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">y</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x/y;   } }</code> </pre> <br>  The result of currying it will look the same. <br><br><h2>  <font color="#3AC1EF">On the practical application of the concepts of currying and partial application of functions</font> </h2><br>  Currying and partial application of functions may be useful in various situations.  For example - when developing small modules suitable for reuse. <br><br>  Partial application of functions facilitates the use of universal modules.  For example, we have an online store, in the code of which there is a function, which is used to calculate the amount payable taking into account the discount. <br><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">discount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(price, discount)</span></span></span><span class="hljs-function"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> price * discount }</code> </pre> <br>  There is a certain category of customers, let's call them "favorite customers", which we give a discount of 10%.  For example, if such a customer buys something for $ 500, we give him a $ 50 discount: <br><br><pre> <code class="hljs pgsql">const price = discount(<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$50</span></span> // <span class="hljs-meta"><span class="hljs-meta">$500</span></span> - <span class="hljs-meta"><span class="hljs-meta">$50</span></span> = <span class="hljs-meta"><span class="hljs-meta">$450</span></span></code> </pre> <br>  It is easy to notice that with this approach, we constantly have to call this function with two arguments: <br><br><pre> <code class="hljs pgsql">const price = discount(<span class="hljs-number"><span class="hljs-number">1500</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$150</span></span> // <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">500</span></span> - <span class="hljs-meta"><span class="hljs-meta">$150</span></span> = <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">350</span></span> const price = discount(<span class="hljs-number"><span class="hljs-number">2000</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$200</span></span> // <span class="hljs-meta"><span class="hljs-meta">$2</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> - <span class="hljs-meta"><span class="hljs-meta">$200</span></span> = <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">800</span></span> const price = discount(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$5</span></span> // <span class="hljs-meta"><span class="hljs-meta">$50</span></span> - <span class="hljs-meta"><span class="hljs-meta">$5</span></span> = <span class="hljs-meta"><span class="hljs-meta">$45</span></span> const price = discount(<span class="hljs-number"><span class="hljs-number">5000</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$500</span></span> // <span class="hljs-meta"><span class="hljs-meta">$5</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> - <span class="hljs-meta"><span class="hljs-meta">$500</span></span> = <span class="hljs-meta"><span class="hljs-meta">$4</span></span>,<span class="hljs-number"><span class="hljs-number">500</span></span> const price = discount(<span class="hljs-number"><span class="hljs-number">300</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$30</span></span> // <span class="hljs-meta"><span class="hljs-meta">$300</span></span> - <span class="hljs-meta"><span class="hljs-meta">$30</span></span> = <span class="hljs-meta"><span class="hljs-meta">$270</span></span></code> </pre> <br>  The original function can be brought to such a form, which would allow to receive new functions with a predetermined level of discounts, when called, it is enough for them to transfer the purchase amount.  The <code>discount()</code> function in our example has two arguments.  Here is what we will transform into: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">discount</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">discount</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">price</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> price * discount;   } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tenPercentDiscount = discount(<span class="hljs-number"><span class="hljs-number">0.1</span></span>);</code> </pre> <br>  The <code>tenPercentDiscount()</code> function is the result of a partial use of the <code>discount()</code> function.  When you call <code>tenPercentDiscount()</code> this function, it is enough to pass the price, and a discount of 10%, that is, the <code>discount</code> argument, will already be set: <br><br><pre> <code class="hljs pgsql">tenPercentDiscount(<span class="hljs-number"><span class="hljs-number">500</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$50</span></span> // <span class="hljs-meta"><span class="hljs-meta">$500</span></span> - <span class="hljs-meta"><span class="hljs-meta">$50</span></span> = <span class="hljs-meta"><span class="hljs-meta">$450</span></span></code> </pre> <br>  If there are customers in our store who have decided to give a discount of 20%, then you can get the appropriate function to work with them like this: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> twentyPercentDiscount = discount(<span class="hljs-number"><span class="hljs-number">0.2</span></span>);</code> </pre> <br>  Now the <code>twentyPercentDiscount()</code> function can be called to calculate the cost of goods with a discount of 20%: <br><br><pre> <code class="hljs pgsql">twentyPercentDiscount(<span class="hljs-number"><span class="hljs-number">500</span></span>); // <span class="hljs-number"><span class="hljs-number">100</span></span> // <span class="hljs-meta"><span class="hljs-meta">$500</span></span> - <span class="hljs-meta"><span class="hljs-meta">$100</span></span> = <span class="hljs-meta"><span class="hljs-meta">$400</span></span> twentyPercentDiscount(<span class="hljs-number"><span class="hljs-number">5000</span></span>); // <span class="hljs-number"><span class="hljs-number">1000</span></span> // <span class="hljs-meta"><span class="hljs-meta">$5</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> - <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> = <span class="hljs-meta"><span class="hljs-meta">$4</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> twentyPercentDiscount(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); // <span class="hljs-number"><span class="hljs-number">200000</span></span> // <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> - <span class="hljs-meta"><span class="hljs-meta">$200</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> = <span class="hljs-meta"><span class="hljs-meta">$600</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Universal function for partial use of other functions.</font> </h2><br>  We develop a function that accepts any function and returns its version, which is a function, some of the arguments of which are already set.  Here is the code that allows you to do this (you, if you set yourself a goal to develop a similar function, it is quite possible that you will get something else as a result): <br><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">partial</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fn, </span></span><span class="hljs-rest_arg"><span class="hljs-function"><span class="hljs-params"><span class="hljs-rest_arg">...args</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (..._arg) =&gt; {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fn(...args, ..._arg);   } }</code> </pre> <br>  The function <code>partial()</code> takes the function <code>fn</code> , which we want to convert to a partially applied function, and a variable number of parameters <code>(...args</code> ).  The <code>rest</code> statement is used to put all parameters after <code>fn</code> into <code>args</code> . <br><br>  This function returns another function that also takes a variable number of parameters ( <code>_arg</code> ).  This function, in turn, calls the original function <code>fn</code> , pass it the parameters <code>...args</code> and <code>..._arg</code> (using the <code>spread</code> operator).  The function performs the calculations and returns the result. <br><br>  Let's use this function to create a variant of the <code>volume</code> function already familiar to you, designed to calculate the volume of rectangular parallelepipeds, one of the sides of which is fixed: <br><br><pre> <code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(l,h,w)</span></span></span><span class="hljs-function"> {   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">h</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">w</span></span></span><span class="hljs-function"> } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hV</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">partial</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(volume,100)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hV</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(200,900)</span></span></span><span class="hljs-function">; // 18000000 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hV</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(70,60)</span></span></span><span class="hljs-function">; // 420000</span></span></code> </pre> <br>  <a href="https://javascript.info/currying-partials">Here</a> you can find an example of a universal function for currying other functions. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  In this article we talked about currying and partial application of functions.  These function conversion methods are implemented in JavaScript due to the closures and because the functions in JS are first class objects (they can be passed as arguments to other functions, returned from them, assigned to variables). <br><br>  <b>Dear readers!</b>  Do you use techniques of currying and partial application of functions in your projects? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/427295/">https://habr.com/ru/post/427295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427283/index.html">How to ensure high availability in Kubernetes</a></li>
<li><a href="../427285/index.html">School on the basics of digital circuitry: Novosibirsk - Ok, Krasnoyarsk - get ready</a></li>
<li><a href="../427289/index.html">Geological 3D-modeling, logging and technaton from Aramco Innovations</a></li>
<li><a href="../427291/index.html">Traffic minimization in ASP.NET Web Forms, clickable div and periodic server polling</a></li>
<li><a href="../427293/index.html">JavaScript Design Patterns</a></li>
<li><a href="../427297/index.html">Apache Ignite + Apache Spark Data Frames: More Fun Together</a></li>
<li><a href="../427299/index.html">And let's collect something else? The designer 3 in 1 "Lunar fleet"</a></li>
<li><a href="../427301/index.html">DB crash on GitHub</a></li>
<li><a href="../427303/index.html">Slow Windows, Part 2: Creating Processes</a></li>
<li><a href="../427305/index.html">Arkady Volozh refused to sell his stake in Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>