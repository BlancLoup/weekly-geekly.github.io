<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Modal windows and notifications in Angular</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In Angular (version 2+), I faced the task of creating modal windows, but the ready-made solutions did not suit me either because of the hard-coded fun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Modal windows and notifications in Angular</h1><div class="post__text post__text-html js-mediator-article">  In Angular (version 2+), I faced the task of creating modal windows, but the ready-made solutions did not suit me either because of the hard-coded functionality (non-flexible), or they were not updated to the latest version and for this reason do not work.  But, going through the jungle of official documentation, I decided to talk about two ways of working with modal windows (or notifications), which I thought were the best. <br><br>  In this article I want to talk about two ways to work with modal windows: <br><br><ol><li>  ‚ÄúNormal‚Äù add components </li><li>  Dynamic Add Components </li></ol><a name="habracut"></a><br>  In one of the <a href="https://habrahabr.ru/post/305892/">articles</a> on Habr√©, a good, in my opinion, way to solve this problem is given, but it stopped working after the introduction of the NgModule (and maybe earlier).  With this article, the material will overlap, so I advise you to get acquainted with it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I‚Äôll say at once that there are several more ways to add modal windows, such as adding in <a href="http://www.w3schools.com/bootstrap/bootstrap_modal.asp">bootstrap</a> style (it looks like 1 method, only 1 method rendered a modal window into a separate component), just as no one bothers to use typescript to directly add any modal window, although this method does not like me, but it exists. <br><br>  In all examples I will omit css and html in those places where it will not affect the logic.  The link to the source code repository will be provided at the end of the article. <br><br><h3>  ‚ÄúNormal‚Äù add components </h3><br>  Create, for starters, a component that will be a simple dialog box for confirmation: <br><br><pre><code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Component({ selector : </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'modal-dialog'</span></span></span><span class="hljs-meta">, ... })</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModalDialogComponent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Input()</span></span> header: string; <span class="hljs-meta"><span class="hljs-meta">@Input()</span></span> description: string; <span class="hljs-meta"><span class="hljs-meta">@Output()</span></span> isConfirmed: EventEmitter&lt;boolean&gt; = new EventEmitter&lt;boolean&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> confirm() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isConfirmed.emit(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> close() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isConfirmed.emit(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } }</code> </pre> <br>  We have created a component with input values ‚Äã‚Äãheader and description and in response we get one boolean variable with the result of the window.  If you need to return any values ‚Äã‚Äãfrom the modal window to the component that called it, you can create a class to represent the result of the execution: <br><br><pre> <code class="hljs pgsql">export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ModalDialogResult { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> isConfirmed: <span class="hljs-type"><span class="hljs-type">boolean</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> data:<span class="hljs-keyword"><span class="hljs-keyword">any</span></span>; }</code> </pre> <br>  And return data through it. <br><br>  Now to use the dialog box, we need to add it to a module.  There are several ways: <br><br><ol><li>  Combine modal windows into one module </li><li>  Add to the module where it will be used </li></ol><br>  For this method of creating a modal window, I chose to add it to the module where it will be used: <br><br><pre> <code class="hljs css">@<span class="hljs-keyword"><span class="hljs-keyword">NgModule</span></span>({ <span class="hljs-selector-tag"><span class="hljs-selector-tag">imports</span></span> : <span class="hljs-selector-attr"><span class="hljs-selector-attr">[BrowserModule]</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">declarations</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[SimpleModalPageComponent, ModalDialogComponent]</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">bootstrap</span></span> : <span class="hljs-selector-attr"><span class="hljs-selector-attr">[SimpleModalPageComponent]</span></span> }) <span class="hljs-selector-tag"><span class="hljs-selector-tag">export</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SimpleModalPageModule</span></span> { }</code> </pre> <br>  ModalDialogComponent is the actual component of the dialog box. <br>  SimpleModalPageComponent is a component (hereinafter the components that have the name Page in the title will call pages), where we will display the dialog box. <br><br>  Now add a modal window to the template page: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"configuration"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span>:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag"> #</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">header</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple-input"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"description"</span></span></span><span class="hljs-tag">&gt;</span></span>:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"description"</span></span></span><span class="hljs-tag"> #</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">description</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"description"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple-input"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple-button"</span></span></span><span class="hljs-tag"> (</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">)=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"showDialog()"</span></span></span><span class="hljs-tag">&gt;</span></span>Show Dialog<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modal-dialog</span></span></span><span class="hljs-tag"> *</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ngIf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isModalDialogVisible"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">header</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header.value"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">description</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"description.value"</span></span></span><span class="hljs-tag"> (</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isConfirmed</span></span></span><span class="hljs-tag">)=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"closeModal($event)"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modal-dialog</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  We will control the visibility of the modal window through ngIf.  If desired, this logic can be moved inside the dialog box, or you can combine the button to display the window with the window itself into one component. <br><br>  Page code to display the dialog box: <br><br><pre> <code class="hljs java">.... export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleModalPageComponent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> isModalDialogVisible: <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showDialog</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isModalDialogVisible = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeModal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(isConfirmed: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isModalDialogVisible = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; ... } }</code> </pre> <br>  The dialog box is ready for use.  To work with pop-up notification (Toast, popup, etc.) work will be a little different.  To work with the notification, you need a stack (if you need more than one pop-up message on the screen), which should be common to the entire application.  Next, consider how this can be done. <br><br>  To begin, let's create a service that will be responsible for access to the notification and notification model: <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Injectable()</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TinyNotificationService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> notifications: Subject&lt;TinyNotificationModel&gt; = new Subject&lt;TinyNotificationModel&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> getNotifications(): Subject&lt;TinyNotificationModel&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notifications; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> showToast(info: TinyNotificationModel) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notifications.next(info); } } export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TinyNotificationModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> header: string; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> description: string; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(header: string, description: string) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.header = header; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.description = description; } }</code> </pre> <br>  In the model, we define the title and description.  In the service, we defined a method for displaying a notification and a method for obtaining models of notification. <br><br>  Now we define the notification component: <br><br><pre> <code class="hljs cs">@Component({ selector : <span class="hljs-string"><span class="hljs-string">"notifications"</span></span>, template : ` &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"tiny-notification-panel"</span></span>&gt; &lt;div *ngFor=<span class="hljs-string"><span class="hljs-string">"let notification of notifications"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"tiny-notification"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"header-block"</span></span>&gt; &lt;h3 <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"header-title"</span></span>&gt;{{notification.header}}&lt;/h3&gt; &lt;a <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"close-button"</span></span> (click)=<span class="hljs-string"><span class="hljs-string">"closeNotification(notification)"</span></span>&gt;x&lt;/a&gt; &lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"content"</span></span>&gt; &lt;span&gt;{{notification.description}}&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;` }) export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TinyNotificationComponent</span></span> { notifications: Set&lt;TinyNotificationModel&gt; = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Set&lt;TinyNotificationModel&gt;(); constructor(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> _notificationService: TinyNotificationService) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._notificationService.getNotification() .subscribe((notification: TinyNotificationModel)=&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notifications.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(notification); setTimeout(()=&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.closeNotification(notification); }, <span class="hljs-number"><span class="hljs-number">5000</span></span>); }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeNotification</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">notification: TinyNotificationModel</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notifications.delete(notification); } }</code> </pre> <br>  In the constructor, we subscribe to the addition of the notification and set the auto-close notification after 5 seconds. <br><br>  To use such notification, it is necessary to add a notification component, preferably, as high as possible in the component hierarchy (to the main component). <br><br>  To use, add to the template page (SimpleModalPageComponent) <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">notifications</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">notifications</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  After that, it will be possible to call the notification through the service, for example, in the following way. <br><br><pre> <code class="hljs delphi">... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">private</span></span></span></span><span class="hljs-function"><span class="hljs-params"> notificationService: TinyNotificationService)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{}</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showToast</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(header: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, description: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{ this.notificationService.showToast(new TinyNotificationModel(header, description)); }</span></span></span><span class="hljs-function"> ...</span></span></code> </pre><br>  Do not forget to add components and services to the modules. <br><br><h3>  Dynamic Add Components </h3><br>  I think it is necessary to immediately say why I decided not to create another <s>fashionable and youthful</s> package in npm and simply describe the approach for creating modal windows.  The reason is that it is difficult to create a universal package and still it will be suitable for a small number of users (I recall the story that the average and universal solution risks not for anyone). <br><br>  And now let's move on to why I started writing this article.  Add a component dynamically "out of the air" in Angular will not work (most likely it is possible, but it is difficult and often breaks with updates).  Therefore, everything must be somewhere clearly defined (in my opinion this is good). <br><br>  To dynamically add components, we need to know where we plan to add them.  To do this, we need to get a <a href="https://angular.io/docs/ts/latest/api/core/index/ViewContainerRef-class.html">ViewContainerRef</a> object. <br><br>  You can get it as follows: <br><br><pre> <code class="hljs delphi">@Component(<span class="hljs-comment"><span class="hljs-comment">{ ... template: ` ... &lt;section #notificationBlock&gt;&lt;/section&gt; `, ... }</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> DynamicModalPageComponent <span class="hljs-keyword"><span class="hljs-keyword">implements</span></span> OnInit <span class="hljs-comment"><span class="hljs-comment">{ @ViewChild('notificationBlock', { read: ViewContainerRef }</span></span>) notificationBlock: ViewContainerRef; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">private</span></span></span></span><span class="hljs-function"><span class="hljs-params"> notificationManager: NotificationManager)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{ }</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ngOnInit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> void <span class="hljs-comment"><span class="hljs-comment">{ this.notificationManager.init(this.notificationBlock); }</span></span> .. }</code> </pre> <br>  So we get a ViewContainerRef object.  As you can see, in addition to this object, we use NotificationManager and initialize it with the value of ViewContainerRef. <br><br>  NotificationManager is designed to work with modal windows and notifications.  Next, we define this class: <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Injectable()</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotificationManager</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> notificationBlock: ViewContainerRef; ... <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> componentFactoryResolver: ComponentFactoryResolver) { } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(notificationBlock: ViewContainerRef) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationBlock = notificationBlock; ... } ... <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> createComponent&lt;T&gt;(componentType: {new (...args: any[]): T;}): ComponentRef&lt;T&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> injector = ReflectiveInjector.fromResolvedProviders([], <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationBlock.parentInjector); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> factory = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.componentFactoryResolver.resolveComponentFactory(componentType); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> factory.create(injector); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> createNotificationWithData&lt;T&gt;(componentType: {new (...args: any[]): T;}, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>: any): ComponentRef&lt;T&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> component = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.createComponent(componentType); Object.assign(component.instance, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> component; } }</code> </pre><br>  In the previous listing, I intentionally missed some parts of the code to enter them after some explanations.  Before adding a component somewhere we need to create it first.  The createComponent and createNotificationWithData methods are internal class methods and are designed to create a component and initialize it with some data, respectively. <br><br>  Consider the createComponent method: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> createComponent&lt;T&gt;(componentType: {new (...args: any[]): T;}): ComponentRef&lt;T&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> injector = ReflectiveInjector.fromResolvedProviders([], <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationBlock.parentInjector); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> factory = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.componentFactoryResolver.resolveComponentFactory(componentType); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> factory.create(injector); }</code> </pre><br>  We input the component class as input, then use the fromResolvedProviders method from <a href="https://angular.io/docs/ts/latest/api/core/index/ReflectiveInjector-class.html">ReflectiveInjector</a> to get the ReflectiveInjector object.  Next, through <a href="https://angular.io/docs/ts/latest/api/core/index/ComponentFactoryResolver-class.html">ComponentFactoryResolver,</a> we create a factory for the component and create the component itself. <br><br>  The createNotificationWithData method creates a component and adds data to it: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> createNotificationWithData&lt;T&gt;(componentType: {new (...args: any[]): T;}, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>: any): ComponentRef&lt;T&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> component = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.createComponent(componentType); Object.assign(component.instance, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> component; }</code> </pre><br>  After we have analyzed the methods for creating components, it is necessary to consider how to use these objects.  Add a method to display a modal window in NotificationManager: <br><br><pre> <code class="hljs perl">@Injectable() export class NotificationManager { ... public showDialog&lt;T extends ModalDialogBase&gt;(componentType: {new (...args: any[]): T;}, header: string, description: string): Subject&lt;ModalDialogResult&gt; { const dialog = this.createNotificationWithData(componentType, { header : header, description: description }); this.notificationBlock.insert(dialog.hostView); const subject = dialog.instance.getDialogState(); const <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subject</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscribe</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">x</span></span>=&gt; { dialog.destroy(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unsubscribe</span></span></span></span>(); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> subject; } ... }</code> </pre><br>  ModalDialogBase is the base class for the model.  I'll hide it under the spoiler with ModalDialogResult <br><br><div class="spoiler">  <b class="spoiler_title">ModalDialogBase and ModalDialogResult</b> <div class="spoiler_text"><pre> <code class="hljs cs">export <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ModalDialogBase</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDialogState</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): Subject&lt;ModalDialogResult&gt;</span></span>; } export <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> ModalDialogResult{ Opened, Confirmed, Closed }</code> </pre><br></div></div><br>  The showDialog method takes a component class, data for its initialization, and returns a Subject to get the result of executing a modal window. <br><br>  To add a component, use the insert method of the notificationBlock <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">this</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.notificationBlock</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.insert</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">dialog</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.hostView</span></span>);</code> </pre> <br>  This method adds a component and after that it will be displayed to the user.  Through dialog.instance we get the component object and can access its methods and fields.  For example, we can subscribe to a result and delete this dialog box from dom after closing: <br><br><pre> <code class="hljs perl">const subject = dialog.instance.getDialogState(); const <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subject</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscribe</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">x</span></span>=&gt; { dialog.destroy(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unsubscribe</span></span></span></span>(); });</code> </pre> <br>  If you call the <a href="https://angular.io/docs/ts/latest/api/core/index/ComponentRef-class.html">ComponentRef</a> object's destroy method, the component is removed not only from the dom, but also from the notificationBlock, which is very convenient. <br><br>  Under the spoiler code modal window: <br><br><div class="spoiler">  <b class="spoiler_title">Modaldialog</b> <div class="spoiler_text"><pre> <code class="hljs scala"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span>({ selector : <span class="hljs-symbol"><span class="hljs-symbol">'modal</span></span>-dialog', template : ` &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"modal-background"</span></span>&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"container"</span></span>&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"header-block"</span></span>&gt; &lt;h3 <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"header-title"</span></span>&gt;{{header}}&lt;/h3&gt; &lt;a <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"close-button"</span></span> (click)=<span class="hljs-string"><span class="hljs-string">"close()"</span></span>&gt;x&lt;/a&gt; &lt;/div&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"content"</span></span>&gt; &lt;span&gt;{{description}}&lt;/span&gt; &lt;/div&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"action-block"</span></span>&gt; &lt;button <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"simple-button"</span></span> (click)=<span class="hljs-string"><span class="hljs-string">"confirm()"</span></span>&gt;&lt;/button&gt; &lt;button <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"simple-button"</span></span> (click)=<span class="hljs-string"><span class="hljs-string">"close()"</span></span>&gt;&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; ` }) export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModalDialogComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModalDialogBase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> header: string; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> description: string; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> modalState: <span class="hljs-type"><span class="hljs-type">Subject</span></span>&lt;<span class="hljs-type"><span class="hljs-type">ModalDialogResult</span></span>&gt;; constructor() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.modalState = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Subject</span></span>(); } public getDialogState(): <span class="hljs-type"><span class="hljs-type">Subject</span></span>&lt;<span class="hljs-type"><span class="hljs-type">ModalDialogResult</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.modalState; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> confirm() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.modalState.next(<span class="hljs-type"><span class="hljs-type">ModalDialogResult</span></span>.<span class="hljs-type"><span class="hljs-type">Confirmed</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> close() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.modalState.next(<span class="hljs-type"><span class="hljs-type">ModalDialogResult</span></span>.<span class="hljs-type"><span class="hljs-type">Closed</span></span>); } }</code> </pre> <br></div></div><br>  Next, let's consider the creation of a notification.  We can add it in the same way as modal windows, but in my opinion it‚Äôs better to select them in a separate place, so let's create the NotificationPanelComponent component: <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Component({ selector : </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'notification-panel'</span></span></span><span class="hljs-meta">, template : ` &lt;div class=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"notification-panel"</span></span></span><span class="hljs-meta">&gt; &lt;div #notifications&gt;&lt;/div&gt; &lt;/div&gt; })</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotificationPanelComponent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@ViewChild(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'notifications'</span></span></span><span class="hljs-meta">, { read: ViewContainerRef })</span></span> notificationBlock: ViewContainerRef; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> showNotification&lt;T extends NotificationBase&gt;(componentRef: ComponentRef&lt;T&gt;, timeOut: number) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> toast = componentRef; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationBlock.insert(toast.hostView); let subscription = toast.instance.getClosedEvent() .subscribe(()=&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.destroyComponent(toast, subscription); }); setTimeout(()=&gt; { toast.instance.close(); }, timeOut); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> destroyComponent&lt;T extends NotificationBase&gt;(componentRef: ComponentRef&lt;T&gt;, subscription: Subscription) { componentRef.destroy(); subscription.unsubscribe(); } }</code> </pre><br>  In the showNotification method, we add the component to be displayed, subscribe to the window closing event and set the timeout for closing the window.  For simplicity, the closure is implemented through the close method of the notification component. <br><br>  All notifications must be inherited from the NotificationBase class. <br><br><div class="spoiler">  <b class="spoiler_title">NotificationBase</b> <div class="spoiler_text"><pre> <code class="hljs cs">export <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">NotificationBase</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> closedEvent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Subject(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getClosedEvent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.closedEvent; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span></span>; }</code> </pre><br></div></div><br>  And we give the code of the notification component itself: <br><br><pre> <code class="hljs scala"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span>({ selector : <span class="hljs-symbol"><span class="hljs-symbol">'tiny</span></span>-notification', template : ` &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"container"</span></span>&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"header-block"</span></span>&gt; &lt;h3 <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"header-title"</span></span>&gt;{{header}}&lt;/h3&gt; &lt;a <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"close-button"</span></span> (click)=<span class="hljs-string"><span class="hljs-string">"close()"</span></span>&gt;x&lt;/a&gt; &lt;/div&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"content"</span></span>&gt; &lt;span&gt;{{description}}&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;` }) export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TinyNotificationComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotificationBase</span></span></span><span class="hljs-class"> </span></span>{ public header: string; public description: string; close() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.closedEvent.next(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.closedEvent.complete(); } }</code> </pre><br>  To use notification, you need to add the showToast method and NotificationPanelComponent to the NotificationManager: <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Injectable()</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotificationManager</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> notificationBlock: ViewContainerRef; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> notificationPanel: NotificationPanelComponent; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> componentFactoryResolver: ComponentFactoryResolver) { } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(notificationBlock: ViewContainerRef) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationBlock = notificationBlock; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> component = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.createComponent(NotificationPanelComponent); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationPanel = component.instance; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationBlock.insert(component.hostView); } ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> showToast(header: string, description: string, timeOut: number = <span class="hljs-number"><span class="hljs-number">3000</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> component = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.createNotificationWithData&lt;TinyNotificationComponent&gt;(TinyNotificationComponent, { header : header, description: description }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationPanel.showNotification(component, timeOut); } ...</code> </pre><br>  If you try to do everything that was given before, then nothing will work, because there is a nuance, namely, how to combine all this into modules.  For example, if you try to find information anywhere except in the office.  documentation on <a href="https://angular.io/docs/ts/latest/api/core/index/NgModule-interface.html">NgModule</a> , you <a href="https://angular.io/docs/ts/latest/api/core/index/NgModule-interface.html">run</a> the risk of not seeing information about such a thing as <a href="https://angular.io/docs/ts/latest/api/core/index/NgModule-interface.html">entryComponents</a> . <br><br>  In the office.  documentation is written: <br><br><pre> <code class="hljs pgsql">entryComponents : <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">Type</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">any</span></span>&gt;|<span class="hljs-keyword"><span class="hljs-keyword">any</span></span>[]&gt; Specifies a list <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> components that should be compiled <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> this module <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> defined. <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> component listed here, Angular will <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> a ComponentFactory <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> store it <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the ComponentFactoryResolver.</code> </pre> <br>  That is, if we want to create components through the ComponentFactory and ComponentFactoryResolver, we need to specify our components in addition to declarations also in the entryComponents. <br><br>  Module example: <br><br><pre> <code class="hljs css">@<span class="hljs-keyword"><span class="hljs-keyword">NgModule</span></span>({ <span class="hljs-selector-tag"><span class="hljs-selector-tag">declarations</span></span> : <span class="hljs-selector-attr"><span class="hljs-selector-attr">[TinyNotificationComponent, NotificationPanelComponent, ModalDialogComponent]</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">entryComponents</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[TinyNotificationComponent, NotificationPanelComponent, ModalDialogComponent]</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">providers</span></span> : <span class="hljs-selector-attr"><span class="hljs-selector-attr">[NotificationManager]</span></span> }) <span class="hljs-selector-tag"><span class="hljs-selector-tag">export</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NotificationModule</span></span> { }</code> </pre> <br>  Regarding the combination of modules.  I consider it a good option to combine similar functional modal windows into modules and import them into a NotificationModule. <br><br>  Now to use modal windows, you only need to specify the NotificationModule in imports and can be used. <br><br>  Usage example: <br><br><pre> <code class="hljs cs">... export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DynamicModalPageComponent</span></span> <span class="hljs-title"><span class="hljs-title">implements</span></span> <span class="hljs-title"><span class="hljs-title">OnInit</span></span> { .... constructor(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> notificationManager: NotificationManager) { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ngOnInit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationManager.init(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationBlock); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showToast</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">header: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, description: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationManager.showToast(header, description, <span class="hljs-number"><span class="hljs-number">3000</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showDialog</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">header: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, description: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notificationManager.showDialog(ModalDialogComponent, header, description) .subscribe((x: ModalDialogResult)=&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x == ModalDialogResult.Confirmed) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.showToast(header, <span class="hljs-string"><span class="hljs-string">"modal dialog is confirmed"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.showToast(header, <span class="hljs-string"><span class="hljs-string">"modal dialog is closed"</span></span>); } }); } }</code> </pre> <br>  In this article, we looked at ways to create modal windows, including dynamically. <br><br>  ‚Üí The source code for the article is in this <a href="https://github.com/boykovdmitriy/angular2modal/">repository</a> . </div><p>Source: <a href="https://habr.com/ru/post/319386/">https://habr.com/ru/post/319386/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319374/index.html">VPS-digest: 30 useful materials on Habr√© and not only</a></li>
<li><a href="../319378/index.html">Powershell Practice: Monitoring Windows Backup Backup</a></li>
<li><a href="../319380/index.html">Exploit Exercises or another site for VulnHub lovers</a></li>
<li><a href="../319382/index.html">How PVS-Studio looks for errors: methods and technologies</a></li>
<li><a href="../319384/index.html">Direct disk access from python (simhdd)</a></li>
<li><a href="../319388/index.html">BLE under the microscope 2</a></li>
<li><a href="../319392/index.html">Realistic UI: a realistic look at the Optimistic UI</a></li>
<li><a href="../319394/index.html">Own image slider on jQuery</a></li>
<li><a href="../319396/index.html">Evernote overview and integration (based on GTD using the Wunderlist example)</a></li>
<li><a href="../319398/index.html">‚ÄúMy cloud is my fortress‚Äù: Trends of cloud security</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>