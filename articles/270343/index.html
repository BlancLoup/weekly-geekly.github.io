<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building native applications in ExtJS 6</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Good evening, this article covers the process of building ExtJS projects into native applications, under popular mobile platforms (Andr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building native applications in ExtJS 6</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  Good evening, this article covers the process of building <a href="https://www.sencha.com/products/extjs/">ExtJS</a> projects into native applications, under popular mobile platforms (Android, iOS, Windows Phone) using <a href="https://cordova.apache.org/">Cordova</a> / <a href="http://phonegap.com/">PhoneGap</a> . <br><br>  <b>ExtJS</b> is a multifunctional framework for creating <a href="https://ru.wikipedia.org/wiki/Single_Page_Application">SPA</a> applications.  In the latest current version (6.0) there is an opportunity to use two different toolkits, namely <b>classic</b> and <b>modern</b> .  <b>Classic</b> - designed to create standard web applications.  <b>Modern</b> - designed to create mobile web-applications, its differences in support of touch events and adaptive layout.  It should be mentioned that some components in modern differ from classic, namely: the name of events and controls.  This article describes the process of building a native application only for Android (cloud and local build) using the <b>Modern toolkit</b> . <br><a name="habracut"></a><br><h3>  Creating an ExtJS project </h3><br>  To create the first application, we need to download and install the following software: <br><br><ul><li>  <a href="https://www.sencha.com/products/extjs/cmd-download/">Sencha cmd</a> </li><li>  <a href="https://www.sencha.com/legal/gpl/">ExtJS 6 (GPL v3)</a> </li></ul><br>  Unpack the archive with ExtJS 6. Create a directory in which our project will be located.  Create our application with the following command: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs tex">sencha -sdk "<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">path</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">to</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">framework</span></span></span></span>" generate app -modern TestApp "<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">path</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">to</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span></span>"</code> </pre> <br>  The health of the application can be checked by the team being in the root directory of the project: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sencha</span></span> app watch</code> </pre><br>  If successful, the webserver should rise on port 1841, you can view our created application in the mobile view in the browser.  It must be something like this: <br><br><img src="https://habrastorage.org/files/d0e/331/e81/d0e331e8151a4acfbaf9fd95035eef8d.png" alt="image"><br><br><h3>  Creating native applications </h3><br>  To create native applications, you can use two different tools: PhoneGap or Cordova.  Both tools serve as a layer between the native OC environment and ExtJS.  By installing various plugins for them, you can gain access to native OS functions, such as access to a camera or to geo-location services.  It should be mentioned that PhoneGap is based on the Cordova source code, also PhoneGap allows you to build an application in the cloud, which allows you to not install different SDKs from all target platforms.  And this is an indisputable advantage, because, for example, when building an application on Windows under iOS, you will have to use remote build (a machine with installed Mac OS X and XCode must be available).  PhoneGap is free for free applications located on <a href="https://github.com/">github.com</a> , it is free to have 1 private application.  To install <b>PhoneGap</b> and <b>Cordova,</b> you need to install nodejs.  For Windows, nodejs need to be <a href="https://nodejs.org/en/">downloaded</a> , in linux, most likely it is, if there is no Google to help.  Next, install PhoneGap and Cordova: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> cordova</code> </pre><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> phonegap</code> </pre><br>  Be sure to check the installation with the commands: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">cordova</span></span> -v</code> </pre><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">phonegap</span></span> -v</code> </pre><br>  Next, to build for Android, you need to <a href="https://developer.android.com/intl/ru/sdk/installing/index.html%3Fpkg%3Dtools">download the SDK</a> and install the following API Level (15, 16, 21, 22, 23).  Optionally, you can set up test devices to emulate Android'a (it is recommended to emulate Android x86, because ARM processor emulation is slower).  Sencha Cmd has native support for cordova &amp; phonegap.  To add it to the project, make changes to the configuration file of our app app.json (add the builds section): <br><br><pre> <code class="hljs ruby"> <span class="hljs-string"><span class="hljs-string">"builds"</span></span>: { <span class="hljs-string"><span class="hljs-string">"cordova-native"</span></span>: { <span class="hljs-string"><span class="hljs-string">"packager"</span></span>: <span class="hljs-string"><span class="hljs-string">"cordova"</span></span>, <span class="hljs-string"><span class="hljs-string">"cordova"</span></span>: { <span class="hljs-string"><span class="hljs-string">"config"</span></span>: { <span class="hljs-string"><span class="hljs-string">"platforms"</span></span>: <span class="hljs-string"><span class="hljs-string">"android"</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  cordova      <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.test.test"</span></span> } } }, <span class="hljs-string"><span class="hljs-string">"phonegap-native"</span></span>: { <span class="hljs-string"><span class="hljs-string">"packager"</span></span>: <span class="hljs-string"><span class="hljs-string">"phonegap"</span></span>, <span class="hljs-string"><span class="hljs-string">"phonegap"</span></span> : { <span class="hljs-string"><span class="hljs-string">"config"</span></span>: { <span class="hljs-string"><span class="hljs-string">"platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"android"</span></span>, <span class="hljs-string"><span class="hljs-string">"remote"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.test.test"</span></span> } } }, <span class="hljs-string"><span class="hljs-string">"modern"</span></span>: { <span class="hljs-string"><span class="hljs-string">"toolkit"</span></span>: <span class="hljs-string"><span class="hljs-string">"modern"</span></span>, <span class="hljs-string"><span class="hljs-string">"theme"</span></span>: <span class="hljs-string"><span class="hljs-string">"theme-triton"</span></span> } },</code> </pre><br>  After that, you can run the command to build apk: <br><br><pre> <code class="hljs actionscript">sencha app build cordova-<span class="hljs-keyword"><span class="hljs-keyword">native</span></span></code> </pre><br>  The compiled debug apk should be available in the following path \ cordova \ platforms \ android \ build \ outputs \ apk \ android-debug.apk. <br>  To build with PhoneGap, you need to create a local.properties file in the project root, it should contain your login and password to log into the <a href="https://build.phonegap.com/">PhoneGap build service</a> : <br><br><pre> <code class="hljs pgsql">phonegap.username=yourusername phonegap.<span class="hljs-keyword"><span class="hljs-keyword">password</span></span>=superpassword</code> </pre><br>  Next, you can run the build project in the cloud <br><br><pre> <code class="hljs actionscript">sencha app build phonegap-<span class="hljs-keyword"><span class="hljs-keyword">native</span></span></code> </pre><br><h3>  Signing Cordova Native Applications </h3><br>  First you need to generate the keystore file containing your private key for publishing: <br><br><pre> <code class="hljs cs">keytool -genkey -v -keystore my-key.keystore -<span class="hljs-keyword"><span class="hljs-keyword">alias</span></span> alias_name -keyalg RSA -keysize <span class="hljs-number"><span class="hljs-number">2048</span></span> -validity <span class="hljs-number"><span class="hljs-number">10000</span></span></code> </pre><br>  <b>Be careful, do not forget the passwords you specified when generating and alias_name.</b> <br><br>  In order to release (signed) and debug apk automatically, you need to change the file /.sencha/app/cordova-impl.xml, find the line: <br><br><pre> <code class="hljs bash">&lt;x-shell reloadprofile=<span class="hljs-string"><span class="hljs-string">"true"</span></span> dir=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${app.cordova.config.path}</span></span></span><span class="hljs-string">"</span></span>&gt; cordova <span class="hljs-variable"><span class="hljs-variable">${cordova.cli.options}</span></span> build <span class="hljs-variable"><span class="hljs-variable">${cordova.platforms.clean}</span></span> &lt;/x-shell&gt;</code> </pre><br>  And after this tag, add another x-shell: <br><br><pre> <code class="hljs bash">&lt;x-shell reloadprofile=<span class="hljs-string"><span class="hljs-string">"true"</span></span> dir=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${app.cordova.config.path}</span></span></span><span class="hljs-string">"</span></span>&gt; cordova <span class="hljs-variable"><span class="hljs-variable">${cordova.cli.options}</span></span> build <span class="hljs-variable"><span class="hljs-variable">${cordova.platforms.clean}</span></span> --release &lt;/x-shell&gt;</code> </pre><br>  Next, you need to create a file /cordova/platforms/android/release-signing.properties as follows: <br><br><pre> <code class="hljs pgsql">storeFile=/relative/<span class="hljs-type"><span class="hljs-type">path</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>/keystore/file keyAlias=alias_name storeType=jks keyPassword=mypwd storePassword=mypwd2</code> </pre> <br>  Also for the need to perform the operation zipalign for the signed apk, for this you need to make changes in /cordova/platforms/android/build.gradle: <br><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">buildTypes</span></span> { <span class="hljs-section"><span class="hljs-section">release</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">signingConfig</span></span> signingConfigs.release zipAlignEnabled <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre><br>  Now you can build release and debug builds locally using the command: <br><br><pre> <code class="hljs actionscript">sencha app build cordova-<span class="hljs-keyword"><span class="hljs-keyword">native</span></span></code> </pre><br>  The resulting apk files will be available in \ cordova \ platforms \ android \ build \ outputs \ apk \. <br><br><h3>  Signing up native PhoneGap applications </h3><br>  Everything is simple, you need to upload your keystore file on the site, also specifying all the passwords to it.  After this, PhoneGap will build your application for all its existing platforms automatically (iOS, Android, Windows Phone) if you have keys for them. </div><p>Source: <a href="https://habr.com/ru/post/270343/">https://habr.com/ru/post/270343/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270331/index.html">How to do almost no exceptions, replacing them with notifications</a></li>
<li><a href="../270333/index.html">Unofficial Firebird 3.0 Release Candidate 1 Installer</a></li>
<li><a href="../270335/index.html">SAP ERP / ABAP useful resources</a></li>
<li><a href="../270337/index.html">MagOS in industrial application</a></li>
<li><a href="../270339/index.html">Observer vs Pub-Sub</a></li>
<li><a href="../270347/index.html">How is the profession "Data Scientist"</a></li>
<li><a href="../270351/index.html">Pure architecture in a go app. Part 2</a></li>
<li><a href="../270353/index.html">Overview of ES6 at 350 points. Part one</a></li>
<li><a href="../270359/index.html">We force the php-fpm 5.6 service running through systemd to read global environment variables</a></li>
<li><a href="../270361/index.html">Animation of transitions between two fragments</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>