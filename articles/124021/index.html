<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>vSphere 5 - admin notes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is very difficult to compete in the description of vSphere 5 with more experienced bloggers, especially those who already had preliminary access to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>vSphere 5 - admin notes</h1><div class="post__text post__text-html js-mediator-article">  It is very difficult to compete in the description of vSphere 5 with more experienced bloggers, especially those who already had preliminary access to the beta version and to the presentation resources of VMware.  But I have become so addicted so lately on VMware products that I cannot resist not putting out my short notes, which I sketched last night during the online presentation of vSphere 5. <br><br><ul><li>  Today, 40% of the server load falls on virtual servers.  On average, there is a 10% increase in virtualization per year </li><li>  The main theme of the first part of the presentation was the movement to the cloud model.  It does not matter whether you will only build a private cloud for the needs of your company, or you will provide a cloud to external customers - you can easily do all this with the new VMware products.  Customers should easily and conveniently choose virtual machines to suit their needs in exactly the same way as people buy a computer in an online store, having the ability to customize the purchase to fit their requirements.  In general, the classic model of IT as a Service. </li></ul><a name="habracut"></a><ul><li>  The new cloud infrastructure toolkit now consists of the following products: <br>  vSphere 5 <br>  vCenter SRM 5 <br>  vCenter operations 1.0 <br>  vShield Security 5 <br>  vCloud Director 1.5 </li></ul><br>  Unfortunately, I, as a vSphere beginner admin, have little experience with the associated VMware products, so I mostly wrote notes on new features and improvements to vSphere 5. <br><br>  Well, let's go over the most interesting things that I managed to record: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>Profile Driven Storage</b> - this new functionality allows you to create several storage levels, each with its own performance characteristics.  For example, you create three classic storage levels using SSD disks for the first level, FC disks for the second, and FATA disks for the third.  For each level, you can create your own SLA, including performance, recovery time of the virtual machine in case of data loss.  When you, or a client, create a virtual machine, you no longer have to worry about which VMFS datastore to create on it ‚Äî you simply select the storage profile you need.  I get the feeling that VMware has created something similar to the mechanism of multi-level storage systems presented in the HP 3Par lineup, just not so advanced yet </li><li>  <b>Storage DRS</b> is the same good old DRS, but only applied to your VMFS datastore.  SDRS in the same way cares about where to place the newly created virtual machine, after evaluating the free space available.  In the same way, you can create affinity and anti-affinity rules, which will either place your machines on the same datastore or, on the contrary, spread your virtual machines to different corners.  You can create rules that will determine the IO delay and free space thresholds, above which the SDRS will begin to redistribute the load on the VMFS datastore.  And finally, just like you used to enable maintenance mode for your ESXi host, now you can do the same for VMFS datastore. </li><li>  <b>VMFS 5:</b> <br>  All VMFS Datastore now uses the same block size of 1 MB. <br>  The maximum size of VMFS5 is 64 TB, the same applies to RDM disk passthrough. <br>  Maximum VMDK file size - 2 TB <br>  vSphere 5 works without problems with old VMFS, the procedure for upgrading to VMFS5 is simple and painless </li><li>  <b>vSphere Storage Appliance</b> - I‚Äôm not sure if I understood everything correctly, but this new functionality will allow small companies to do without purchasing shared storage, but at the same time emulating it with local ESXi host disks, it turns out something like virtual shared storage.  I haven‚Äôt gotten to technical details yet, I‚Äôm very interested in what the main disadvantages of this solution are, besides the fact that performance will of course suffer </li><li>  <b>Hardware Version 8</b> - now 3D graphics and MacOS X server 10.6 are supported in virtual machines </li><li>  <b>New limits of Virtual Machines</b> - now you can create a virtual monster: <br>  32 vCPUs <br>  1TB of RAM <br>  36 Gbps <br>  1,000,000 IOPS </li><li>  <b>High availability</b> <br>  The whole concept of the HA cluster has been redone.  Now we do not have 5 active HA nodes, one of which is Primary.  Now it is called Master / Slave, that is, only one host is Master, who is responsible for coordinating all HA activity, and all the others are Slave.  In the new model, the new master is always automatically selected in the event that the main one drops.  In the old, alas, the transition from Passive node to Active did not always occur.  Now you no longer need to manually split your active HA nodes in different Blade baskets.  The technical details of how this is achieved were not disclosed, but I already bought the book <a href="http://www.yellow-bricks.com/2011/07/12/hot-of-the-press-vsphere-5-0-clustering-technical-deepdive/">vSphere 5.0 Clustering Technical Deepdive</a> and in the near future I will try to make a brief overview of how the HA cluster works on vSphere 5. <br>  HA cluster no longer uses DNS - as I understand it was one of the most common errors by vSphere admins. <br>  Well and the most delicious about HA - now HA nodes use not only network interfaces to check the status of their neighbors, but also their storage subsystems.  That is, shared storage is now another way to check the status and health of neighbors in the cluster. <br>  <b>Fault Tolerance</b> remained almost unchanged - the same limit in 1 vCPU for FT virtual machine.  Unless the list of processors and OS for which FT will be supported has been expanded </li><li>  <b>Auto Deploy</b> - A tool to quickly deploy a large number of new ESXi servers.  It uses image profiles that can be created for servers of different vendors, as well as host profiles for unification and automatic configuration of hosts.  All this can be customized using </li><li>  <b>Enhanced Network IO Control</b> - Now it can be configured for each virtual machine individually, while in vSphere 4.1 it was possible to limit the bandwidth per port in vDS </li><li>  <b>Storage IO Control</b> - except that they added support for NFS Storage </li><li>  vMotion - Well, finally, VMware did automatic vMotion load balancing across multiple interfaces.  And vMotion is now supported on links with backups up to 10 ms. </li><li>  <b>vCenter linux based Virtual Appliance</b> - To be honest, I haven‚Äôt yet understood the advantages of running vCenter on Linux </li></ul><br><br>  Well, we got to the main question - what about licensing in vSphere 5? <br><br>  Let's start with the good news.  Licenses are all bought on the processor.  Do you have a host with 2 processors?  You need to buy 2 licenses.  VMware canceled the limit on the number of cores per processor and the maximum amount of RAM on the host. <br><br>  This ends the good news and we will move on to the bad news.  VMware introduces a new concept - vRam Entitlement, which means the total amount of RAM you can assign to your virtual machines with one license in hand.  This volume varies between license options, for example, for one Enterprise Edition it is 32 GB, and for Enterprise Plus - 48 GB.  That is, by purchasing 2 Enterprise edition licenses for your dual processor server, you can assign up to 64 GB to your virtual machines, even if you have 128 GB on your server. <br>  All your vRAM Entitlement you can combine in the Pool.  By purchasing 10 Enterprise Edition licenses, you can assign up to 320GB to your virtual machines on all hosts, provided that the number of processors does not exceed 10. You can also flexibly distribute the vRAM pool not only between hosts registered on one vCenter, but also between linked vCenter servers .  When accounting for vRAM entitlement, virtual machines that are turned off are not taken into account.  Those who have a support license upgrade to vSphere 5 will not cost anything.  Owners of Advanced bonus gets the transition to Enterprise for Adanced altogether removed from the line. <br><br>  In my opinion, 32GB per license is still not enough.  In addition, all this new licensing model negates all the advantages of memory overcommitment, that is, technology, which was one of the main motivators of the transition to a virtual platform. <br><br>  In addition, I imagine that with the transition to vSphere 5, many admins will begin to more tightly control the allocated memory to virtual machines, which, with an illiterate approach, can lead to a significant drop in performance.  Consequently, the overall credibility of virtual technologies will suffer. <br><br>  Well, in general, one gets the feeling that new licenses are targeted at large customers, where the flexibility of license distribution will play a positive role, and small companies will now start to look even more towards Microsoft and Citrix. <br><br>  It's a pity ... the product came out to be seen very well. <br><br>  <b>Update</b> - I really like comments with valid criticism and suggestions how it was possible to make the material better, as well as tricky questions and any lively interest in the topic presented. <br><br>  <b>Update 1</b> - As prompted by more sophisticated colleagues, the contract for Production support will allow you to upgrade to vSphere 5 and at the same time you will be able to continue to enjoy support.  That is the time to conduct an audit of their support contracts in order to begin planning the dates and budget for the upgrade. <br><br>  <b>Update 2</b> - As suggested by more attentive colleagues, if Enterprise and Enterprise Plus have licenses, there is no hard limit on the size of vRAM.  You will simply be regularly warned of a license violation. <br><br>  <b>Update 3</b> - I will not update information on products here, but I will try to present in separate articles.  The next topic will be a very brief overview of the vSphere Storage Appliance. </div><p>Source: <a href="https://habr.com/ru/post/124021/">https://habr.com/ru/post/124021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../124009/index.html">Winning Kinect on Linux</a></li>
<li><a href="../124010/index.html">Mailing lists: choose - software or service</a></li>
<li><a href="../124011/index.html">Writers ask Yandex to remove pirated content from search results.</a></li>
<li><a href="../124012/index.html">Winners of the Second Programming Contest CUBRID it!</a></li>
<li><a href="../124018/index.html">Are you building a project? Get the prize!</a></li>
<li><a href="../124024/index.html">Evernote Update for Android: a completely new interface for tablets, creating text notes with formatting and much more</a></li>
<li><a href="../124027/index.html">Russian hashtags on Twitter</a></li>
<li><a href="../124028/index.html">QIWI in Malaysia</a></li>
<li><a href="../124030/index.html">Features of Scrum in Custom Development</a></li>
<li><a href="../124031/index.html">Internet as a corpus - a new seminar in the ABBYY Open series</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>