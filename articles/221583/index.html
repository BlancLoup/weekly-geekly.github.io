<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to calculate 2 + 2 using electromagnetic relays</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last time I briefly described how the first module of my (future) computer was created on electromagnetic relays - an arithmetic logic unit. Now I wan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to calculate 2 + 2 using electromagnetic relays</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/post/220865/">Last time</a> I briefly described how the first module of my (future) computer was created on electromagnetic relays - an arithmetic logic unit.  Now I want to talk a little about the principles of operation of this ALU, or rather, how the execution of logical and arithmetic operations is arranged. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b0d/b39/588/b0db395883c193dbb40d7fc115cd679f.jpg"><br><a name="habracut"></a><br><h1>  How does the electromagnetic relay </h1><br>  Electromagnetic relays consist of a winding, an anchor and switches.  When a current in the winding occurs, it attracts an anchor to itself, and the switch transfers switches from one state to another.  The picture above shows how the relays used in the ALU look, and the picture below shows the purpose of their contacts. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b6b/d3f/e7e/b6bd3fe7e030353a2d067aa0cba867b4.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These relays have 4 switches each.  When the current in the winding does not flow, the switches interconnect the contacts 1-9, 2-10, 3-11 and 4-12.  If we apply voltage to the winding (in my case it is 24V), then the position of the switches will change to 5-9, 6-10, 7-11, 8-12. <br>  In order to draw the diagrams of computer components, I used the same relay notation as in the <abbr title="Harry Porter‚Äôs Relay Computer">HPRC</abbr> documentation: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/286/10d/dff/28610ddff4910bc7075c03535543595b.png"><br><br>  Here, only one of the conductors connected to the coil is drawn, because the second is always grounded, and therefore there is no sense in labeling it on the circuit.  Since I used the relay with the LED on indicators, it clearly determined which coil contact is used as ‚Äú+‚Äù and which one as ‚Äú-‚Äù. <br><br><h1>  Binary logic in circuits on electromagnetic relays </h1><br>  In semiconductor logic circuits, a low voltage level means a logical ‚Äú0‚Äù, and a high voltage means a logical ‚Äú1‚Äù.  For example, in CMOS circuits, a given input is connected to the ‚Äúground‚Äù if it is necessary to supply a logical ‚Äú0‚Äù to it. <br><br>  In circuits on electromagnetic relays, everything is somewhat simpler.  If we take the ‚Äú1‚Äù voltage level, including the relay, then ‚Äú0‚Äù can take any voltage, at which the relay is turned off, or no connection at all.  In the second case, the relay will also turn off, as planned.  Thus, the supply voltage (in my case, this is 24 V) is taken as ‚Äú1‚Äù, and the absence of connection to the supply circuit is taken as ‚Äú0‚Äù.  This method allows you to easily manage signals by connecting / disconnecting to the power supply conductors. <br><br>  Another difference between electromagnetic relays and semiconductor logic is the load capacity of the outputs.  It is limited only by the capacity of the power supply, i.e.  An unlimited (within reasonable limits, of course) number of inputs can be connected to any relay output, which simplifies the design of the device. <br><br><h1>  Computational Blocks ALU </h1><br>  The principles on which I built the ALU, for the most part, were borrowed from the <abbr title="Harry Porter‚Äôs Relay Computer">HPRC</abbr> <a href="http://web.cecs.pdx.edu/~harry/Relay/RelayPaper.htm">detailed description</a> .  And this computer, in turn, is partially based on the ideas of Konrad Zuse of the 1941 model.  In particular, from there and originates. <br><br><h2>  Adder </h2><br>  The adder used in my ALU was coined by Konrad Zuse for his <a href="http://ru.wikipedia.org/wiki/Z3">Z3</a> car, built in military Germany.  Such an adder consists of 8 series-connected 1-bit adders.  At the input of each of them are two bits of operands, as well as bits of the carry and inverted carry.  At the output, each 1-bit adder gives the result of the calculation, that is, the sum of the input bits, taking into account the carry.  In addition, the transfer and the inverted transfer are applied to the next adder. <br><br>  In order for this circuit to be able to complete the calculations, it is necessary that the time elapses for switching 8 series-connected relays.  The full adder circuit is shown in the picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d70/dc6/e74/d70dc6e74af1e05406a95b90e56786ef.png"><br><br>  This is what happens to the circuit, if the admittance of the adder is 2 and 2 (red are the conductors to which the supply voltage is applied).  Two relays corresponding to the first bits of the operands switched, and the rest remained in the initial state: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fce/1ba/965/fce1ba965c7573361252f8c8fb952eef.png"><br><br><h2>  Logic module </h2><br>  I also completely copied the logic module from HPRC.  Bitwise logical operations are performed in parallel for all 8 bits of the result immediately.  Since all bits are independent, the circuit runs faster than the adder (although it is almost impossible to notice).  The logic module performs NOT, AND, OR, and EXCLUSIVE OR operations (they are also NOT, AND, OR, and XOR). <br><br>  Logical does NOT work like this: the input of the logic element is connected to the relay coil;  a power supply is connected to one of the inputs;  the output of the element is a normally closed contact for this input.  Thus, when ‚Äú1‚Äù is applied to the input, the relay switches and the power supply is disconnected from the output contact: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fae/795/92a/fae79592a00b50940caa0ddf415eba08.png"><br><br>  Logical AND is implemented using a serial connection of two normally open contacts, each of which is controlled by one of the input element: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/45d/d4b/4b0/45dd4b4b0309e3078982c6b44be8a01e.png"><br><br>  The method used to represent logical values ‚Äã‚Äãusing electrical signals allows the OR operation to be performed using ‚Äúmounting OR‚Äù simply by connecting the corresponding wires: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/be3/273/bf1/be3273bf15223013c68f0cf39e38a429.png"><br><br>  But this scheme has one drawback - the value of one of the input signals may affect the other (and each of these wires can be connected somewhere else).  For example, in the figure below, b = 1 will result in ‚Äú1‚Äù not only at both outputs, but also at inputs c and d, even if c and d themselves are equal to ‚Äú0‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2c3/44b/4f7/2c344b4f774382c5b8d50072b360d90f.png"><br><br>  The problem is solved by duplicating signals with normally open relay contacts, to the coils of which these signals are connected: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aae/a5b/331/aaea5b3311c3cd953e297e1cc9f102c1.png"><br><br>  The complete logic module diagram looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b7/be1/aae/2b7be1aaeabdcfedf9fcc5e3cad5c89c.png"><br>  In addition to the listed logical operations, this circuit also generates input signals for the shear modulus.  This is necessary for the same reason that in most cases it is impossible to use a simple ‚Äúmounting OR‚Äù - the work of the shear module may affect its input signals. <br><br><h2>  Subtractor </h2><br>  I did not have anyone to copy the subtractor module (since HPRC simply does not know how to subtract), so I took truth tables for single-bit adders and subtractors, compared them, and redid the adder circuit into a subtractor circuit.  It turned out very similar to the adder design: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fdf/b7f/fe0/fdfb7ffe037a2cfeedc083b7820efbba.png"><br><br><h2>  Shear modulus </h2><br>  The module performing the shifts is unique in that it consists only of wires.  I only needed right shift operations (left shift is easily done using the addition operation): right shift with and without translation, and also rotation to the right.  Thus, to perform these operations, it is enough to connect the input signals from the data bus to the output of the internal bus of the ALU in the desired order: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a27/74b/9d1/a2774b9d17ac472d468073b94018faef.png"><br><br>  In conclusion, I will give a picture that shows what the result of calculating all operations is for operands 3 and 2 (the selected values ‚Äã‚Äãcan be seen from the toggle switches in the lower left corner, as well as from the indicators of the relay in each of the modules).  This is possible, since the operation of the modules does not depend on which operation is selected (it only depends on which of the results is clicked). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b77/7a2/cc4/b777a2cc420bde0a3cce4f42e5395ccb.jpg"><br><br><h1>  What's next? </h1><br>  Here are described all the blocks that perform logical and arithmetic operations in the ALU, which will be included in the <a href="http://sourceforge.net/p/relay">computer for electromagnetic relays</a> . <br><br>  I started this work with ALU, because it includes a lot of things that will be used in other modules: elementary logic operations, adder (PC increment operation will be performed by a special increment block), as well as bus commutation blocks and registers. <br><br>  In the next article I plan to describe the logical structure of the ALU, as well as address the planned architecture and command system of the computer as a whole. </div><p>Source: <a href="https://habr.com/ru/post/221583/">https://habr.com/ru/post/221583/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../221561/index.html">Report on the conference "AI & BigData Lab"</a></li>
<li><a href="../221563/index.html">"Essentially new" 3D-printer Voronezh development</a></li>
<li><a href="../221567/index.html">PiPhone - a mobile phone based on the Raspberry Pi</a></li>
<li><a href="../221579/index.html">A team of eight police officers came to arrest a home site in Sweden</a></li>
<li><a href="../221581/index.html">Retro gaming center on the Raspberry Pi</a></li>
<li><a href="../221585/index.html">Model View Dispatcher (cqrs over mvc)</a></li>
<li><a href="../221587/index.html">IBM System / 360 - continue the conversation</a></li>
<li><a href="../221589/index.html">Microsoft fixes 0day vulnerability in Internet Explorer for Windows XP</a></li>
<li><a href="../221591/index.html">We draw on the screen of an oscillograph</a></li>
<li><a href="../221595/index.html">Foursquare is divided into two parts: recommendations and check-ins</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>