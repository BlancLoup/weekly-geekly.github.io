<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Teradata - DBMS parallel from birth</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Welcome, dear Habravchane. Recently, on Habr√©, the name of the company Teradata began to flicker in certain issues. And, having seen the possible inte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Teradata - DBMS parallel from birth</h1><div class="post__text post__text-html js-mediator-article">  Welcome, dear Habravchane.  Recently, on Habr√©, the name of the company Teradata began to flicker in certain issues.  And, having seen the possible interest, we decided to tell a little about what the Teradata DBMS is, in the first person.  We plan to prepare a small series of articles on the most interesting, in our opinion, technical features of the DBMS and work with it.  If you have experience with Teradata or your company uses our platform and you have questions, drop them and we will either answer them in the comments or prepare an appropriate full-fledged article.  Let's start with a small review.  For dating, so to speak. <br><a name="habracut"></a><br><h4>  Parallelism </h4><br>  DBMS Teradata was created in 1976 and many of the concepts laid down in its foundation are still relevant today.  Teradata implemented a design that was different from the mainframe architecture that was dominant at the time.  It was the idea of ‚Äã‚Äãnetworking computer modules working in parallel.  A pleasant addition to this architecture was a significant reduction in the cost of systems. <br>  The idea of ‚Äã‚Äãparallel processing gave Teradata the ability to linearly scale performance, the volume of data being processed and the number of users.  What is "parallel processing"? <br>  Two friends at 10 o'clock on the evening of Saturday dined and drank beer, when one of them said that he had a business and he had to leave.  When a friend asked what the cause was, he replied: ‚ÄúWash‚Äù.  A friend was indignant about this: ‚ÄúHow can it be ... to leave in the evening ... to do laundry? ..‚Äù I received an explanation: ‚ÄúIf I go to do laundry tomorrow, then I‚Äôll be lucky if one of 10 machines in the launderette is free.  I need to wash my laundry for 10 loads, and it will take all day.  If I go now, when everyone is resting, I can use all the washing machines and finish washing in an hour and a half. ‚Äù <br>  This story describes what is called parallel processing.  Teradata downloads, archives and processes data in parallel.  Depending on the configuration, Teradata allows you to perform hundreds, thousands of operations simultaneously. <br><br><h4>  Logical representation of the Teradata architecture </h4><br>  The choir leader was preparing for the concert.  Suddenly he stopped and addressed the choir with the words ‚ÄúDid I tell you that a few years ago I was in charge of another choir, we were working on the same work and they made the same mistake that you are making now?  Do you know what this mistake is? ‚ÄùThe voice from the choir answered:‚Äú One and the same leader! ‚Äù <br>  Many storage building projects are implemented on architectures that are not designed for this.  Many companies are often surprised at the failures of such projects, although they initially had no chance of success.  The management of companies needs an understanding that will allow them to choose those decision-support technologies that will fit the scale of the business. <br>  The diagram below is a logical Teradata architecture. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/e5a/4d8/6ae/e5a4d86aeb7fe5a5778ff121e0e6a425.png"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main purpose of the components presented in the diagram: <br>  PE - Parsing Engine, is responsible for controlling the session and handling user requests; <br>  AMP - Access Module Processor, is responsible for extracting data from its associated disk; <br>  BYNET - The messaging environment between system components. <br>  Teradata belongs to a class of systems called MPP (Massively parallel processing), and has a <a href="http://en.wikipedia.org/wiki/Shared_nothing_architecture">Shared nothing</a> architecture, within which individual nodes of the system have no common resources.  And the DBMS itself is relational. <br>  At the top level, the process for executing a query in Teradata is as follows: <br><ul><li>  A user connecting to the Teradata system establishes a connection to the Parsing Engine (PE).  After the connection is established, it can execute SQL queries. </li><li>  PE checks the syntax of the received SQL query, the user's access rights to information, and creates a query execution plan for execution by the Access Module Processor (AMP). </li><li>  PE via BYNET sends the plan's steps to the AMPs for execution. </li><li>  AMPs extract the necessary information from their associated disks and return it to PE via BYNET.  AMPs do their work in parallel. </li><li>  PE returns the result to the user. </li></ul><br>  PE and AMP are combined by the term VPROC, or virtual processor. <br><br>  In order for requests to be processed as efficiently as possible, the data must be distributed as evenly as possible between AMPs.  There are exceptions, but we will tell about them in one of the following articles.  The data is distributed on the basis of its own hash-algorithm for processing the fields included in the Primary Index table.  Moreover, the hashing algorithm is implemented in such a way that, based on the hash value, you can understand the number of the AMP on which the string is located.  In addition to the main goal, it also speeds up searches by value. <br><br><div class="spoiler">  <b class="spoiler_title">Technical details on the composition of hash</b> <div class="spoiler_text">  In modern versions of the Teradata platforms, the hash result is a 32-bit sequence.  It contains AMP identifiers (a unit of parallelism of the system) and the string itself.  Suppose we need to process an entry with a value of 7202. The scheme for determining its hash and which AMP to put a line on is as follows. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/497/bef/122/497bef12288c4a87dc7365759495dd71.jpg"></div></div></div><br>  Thus, AMPs are workhorses that are responsible for their piece of data.  But there are often tasks when a data redistribution is required to fulfill a request.  An example is join two tables that are distributed over different keys.  Then BYNET comes into play.  BYNET is responsible for communication between system components, including data transfer between AMPs.  It can transfer arrays of data between nodes with unbelievable speed.  It is not difficult to guess what load falls on BYNET.  Therefore, the founding fathers of technology laid a good potential in it and made their know-how.  On <a href="http://www.teradata.com/data-appliance/">Warehouse Appliance</a> platforms, this component can be implemented software over Ethernet.  On more serious platforms, the <a href="http://www.teradata.com/Active-Enterprise-Data-Warehouse/">Active Enterprise Data Warehouse</a> is a separate hardware module, since Ethernet is no longer effective with such volumes. <br>  Facing customers is a PE - parsing engine.  This is a component (or rather, a set of components), whose functions include the initial processing of incoming requests, execution control and sending responses.  It includes 3 modules: parser, optimizer, dispatcher. <br>  As you might guess, the parser is responsible for parsing the request, checking the access rights and other semantic control.  The optimizer evaluates possible options for executing a query and selects the most efficient one.  Rumor has it that the optimizer code takes up more than 1 million lines, and somewhere in the <a href="https://maps.google.com/maps%3Fq%3Drancho%2Bbernardo%26oe%3Dutf-8%26aq%3Dt%26client%3Dfirefox-a%26ie%3DUTF-8%26hl%3Den">Rancho Bernardo area there is</a> a group of people who are not engaged in anything except improving the logic of the optimizer from version to version.  And yes, it is impossible not to say that there are no hints in Teradata.  Therefore, if a developer believes that his plan is better than the one that the optimizer has determined, then this will have to be proved, and not just put a ‚Äúgun‚Äù to the port and say: ‚Äú <i>+ use_hash</i> ‚Äù.  And, as practice shows, the optimizer is right. <br>  And the dispatcher is responsible for breaking the chosen plan into steps and controlling the sequence / parallelism of their execution, giving instructions to AMPs through BYNET. <br><br>  So if in brief, the logical operation of the system looks like this.  In the following posts, we thought to talk about the features of working with statistics in a DBMS, maybe to touch on the issues of physical modeling and talk about tools for automatic load balancing.  What do you think about possible interesting topics? </div><p>Source: <a href="https://habr.com/ru/post/160821/">https://habr.com/ru/post/160821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../160807/index.html">Using Twitter Bootstrap in RefineryCMS</a></li>
<li><a href="../160811/index.html">Microsoft has sold 40 million licenses for Windows 8 ‚Äî just to whom?</a></li>
<li><a href="../160813/index.html">Repost Board: run nanoCAD free 3.5 / 3.7 under Linux using Wine</a></li>
<li><a href="../160817/index.html">Training course CS50x</a></li>
<li><a href="../160819/index.html">Where does the market of electronic payment systems in Russia go? Part 1. Market statistics</a></li>
<li><a href="../160825/index.html">Part 1: ‚ÄúEverything you wanted to know and were afraid to ask about I2P‚Äù</a></li>
<li><a href="../160827/index.html">Lumia 920 in Minecraft</a></li>
<li><a href="../160829/index.html">The development of Israeli scientists will allow the blind to "see" like bats</a></li>
<li><a href="../160831/index.html">MiniTV MK808 review with Android 4.1</a></li>
<li><a href="../160833/index.html">Google Drive now supports website publishing.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>