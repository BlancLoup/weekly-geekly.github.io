<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Once a plank, two plank - there will be a ladder ...</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is about the ladders would like to talk a little. There is such a relatively common task with programmer interviews: 

 You go up the stairs. At ea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Once a plank, two plank - there will be a ladder ...</h1><div class="post__text post__text-html js-mediator-article">  It is about the ladders would like to talk a little.  There is such a relatively common task with programmer interviews: <br><br>  <b>You go up the stairs.</b>  <b>At each step, you can climb either 1 step or 2. In total, the staircase has n steps.</b>  <b>How many different ways can you reach the end of the stairs?</b> <br><br>  The task is not very difficult, but it has a couple of interesting points about the minimum possible complexity of the solution and demonstrates "things that are interesting to know." 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  Obviously, one way or another, the decision begins with the observation that at each step we have a choice of two actions: take one step or take two steps.  In the first case, the ladder is reduced by one step, in the second - by two.  The total number of possible ways to get around the ladder is equal to the sum of the number of ways to do this if we start with one step, and the number of ways if we start with two.  As a result, the solution is reduced to a recurrent formula: <br><br>  F (n) = F (n-1) + F (n-2) <br><br>  A recursive or iterative implementation of this algorithm "in the forehead" looks a little longer than the relation itself (we leave the problem of overflow behind the brackets): <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span> || n == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> f(n<span class="hljs-number"><span class="hljs-number">-1</span></span>) + f(n<span class="hljs-number"><span class="hljs-number">-2</span></span>); }</code> </pre> <br><br>  In itself, this solution is correct, but its efficiency is low: the algorithm is <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25B4%25D0%25B0%25D1%2587%25D0%25B0_%25D0%25BE_%25D0%25B7%25D1%2591%25D1%2580%25D0%25BD%25D0%25B0%25D1%2585_%25D0%25BD%25D0%25B0_%25D1%2588%25D0%25B0%25D1%2585%25D0%25BC%25D0%25B0%25D1%2582%25D0%25BD%25D0%25BE%25D0%25B9_%25D0%25B4%25D0%25BE%25D1%2581%25D0%25BA%25D0%25B5">exponential</a> .  The complexity can be reduced by using the standard technique of dynamic programming - <a href="http://en.wikipedia.org/wiki/Memoization">memoization</a> .  Intuitive explanation: with each concrete step on the stairs the number of ways to reach the end does not depend on how we got to this step, so it makes sense to remember the answer and use it in the next steps of the calculation.  I will not give the code - the main thing is that together with the iteration a linear solution is obtained.  However, this is not all. <br><br>  An attentive reader will notice that the ratio above is simply a formula <a href="http://ru.wikipedia.org/wiki/%25D0%25A7%25D0%25B8%25D1%2581%25D0%25BB%25D0%25B0_%25D0%25A4%25D0%25B8%25D0%25B1%25D0%25BE%25D0%25BD%25D0%25B0%25D1%2587%25D1%2587%25D0%25B8">of Fibonacci numbers</a> with an amendment n per unit (the correction arises because the initial conditions are different - Fib (0) = 0, Fib (1) = 1, Fib (2) = 1 , and in our case, the ladders F (0) = 1, F (1) = 1, F (2) = 2).  It is known that for Fibonacci numbers the following relationship holds: <br><br><img src="https://habrastorage.org/storage2/2df/b90/8ce/2dfb908ce8846b75ea716e0d8e0d8d2d.png" alt="image"><br><br>  Thus, after this exponentiation, the resulting matrix will contain the ‚Äún + 1‚Äù -th Fibonacci number in the first column of the first row of interest to us (matrix elements are traditionally indexed from one). <br><br>  By itself, this fact is already interesting, but it is especially interesting in combination with the <a href="http://en.wikipedia.org/wiki/Exponentiation_by_squaring">algorithm of fast exponentiation</a> .  Applied to our problem, this means that we can get an answer in O (ln N) multiplications.  The code of this Python solution (again, to forget about the overflow problem - Python automatically switches to using big integer when it is needed) looks like this: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python # You are climbing a stair case. Each time you can either make 1 step or 2 # steps. The staircase has n steps. In how many distinct ways can you climb the # staircase? def mul(a, b): return ((a[0][0] * b[0][0] + a[0][1] * b[1][0], a[0][0] * b[0][1] + a[0][1] * b[1][1]), (a[1][0] * b[0][0] + a[1][1] * b[1][0], a[1][0] * b[0][1] + a[1][1] * b[1][1])) def pow(a, N): """Fast matrix exponentiation""" assert N &gt;= 1 if N == 1: return a x = pow(a, N / 2) ret = mul(x, x) if N % 2: ret = mul(ret, a) return ret def num_stair_ways(N): x = pow(((1, 1), (1, 0)), N) return x[0][0] for i in range(1, 1001): print i, num_stair_ways(i)</span></span></code> </pre><br><br>  Actually, everything.  I hope, like me, the reader is satisfied with the realization that the 200-step staircase can be walked in accordance with the conditions of the problem 453973694165307953197296969697410619233826 in various ways.  <s>And that this can be calculated with logarithmic complexity.</s> <br><br>  <b>UPDATE:</b> following the results of reading comments, I hasten to make a couple of comments: <br><ul><li>  Recently there was already an <a href="http://habrahabr.ru/post/148336/">article</a> on a very similar topic.  The article has many practical comments.  It would be nice for Habr√© to have an automatic search for similar articles when publishing. </li><li>  All arguments about the algorithms for calculating the Nth term of an exponentially growing sequence for O (ln N) operations should take into account the linearly increasing digit capacity of numbers.  That is, the number of multiplications can grow as O (ln N), but the complexity of each individual multiplication will still grow linearly from N. Therefore, the overall complexity can remain logarithmic only if it is enough to find the final value for some module. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/149519/">https://habr.com/ru/post/149519/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../149514/index.html">Library datef - date formatting</a></li>
<li><a href="../149515/index.html">Differences between WP 7.8 and WP 8</a></li>
<li><a href="../149516/index.html">The javascript this keyword is learning to define the context in practice.</a></li>
<li><a href="../149517/index.html">Voluntary contribution instead of prepayment</a></li>
<li><a href="../149518/index.html">HTML5 Audio is a state of affairs. Part 2</a></li>
<li><a href="../149520/index.html">We use Google Cloud Print without Google Chrome</a></li>
<li><a href="../149521/index.html">Wikileaks encrypted file insurance (64 GB)</a></li>
<li><a href="../149525/index.html">Kim Dotcom returns, hints at the resurgence of MegaUpload</a></li>
<li><a href="../149526/index.html">Lexical scope of functions in JavaScript</a></li>
<li><a href="../149531/index.html">RuTracker hacked</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>