<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Training acid battery somehow and do it yourself</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sadness The battery died, undeservedly forgotten in the winter in the garage. I took it out of the motorcycle, or the alarm wentbbled up everything, o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Training acid battery somehow and do it yourself</h1><div class="post__text post__text-html js-mediator-article">  Sadness  The battery died, undeservedly forgotten in the winter in the garage.  I took it out of the motorcycle, or the alarm wentbbled up everything, or it wasn‚Äôt charged in the past pokatushki.  Voltage meter showed 9V, that there is a crime. <br><br>  I brought the battery home, warmed it, connected it to the charger.  Charger after half an hour showed OK.  Lied  Nothing there is ok.  The low beam bulb burned for about 10 minutes and then quickly turned into a ‚Äúslightly warm air‚Äù state.  Battery 6ah, lamp 55W. <br><br>  Do not buy the same new battery?  Winter time is.  There is even an arduin box of all kinds of chips from China.  In vain gather dust there or what? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/985/ce4/625/985ce46256c9ae2736ba5bd72d98a03d.jpg" alt="image"><br><br>  In the distant Soviet army 30 years ago, I took a battery care course.  Its main difference from the 21st century instructions was this: the battery must go through a series of charge and discharge cycles.  Without this, how much of her in the charger do not hold, no matter how smart he is, she will die. <br><a name="habracut"></a><br>  The theory of the process is easy to get used to.  In practice, it is necessary to discharge a small current of several amperes to 10.8V, and then charge it to the stop.  And so several times.  Look at the light bulb quickly bored and I drew a diagram of the device. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb3/40a/c47/eb340ac477969c6dea9e065497c4684b.jpg" alt="image"><br><br>  Since I am not a professional battery rescuer, I collected everything somehow.  Well, as befits an arduina lover. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e83/44b/cba/e8344bcba0db3337e3af7b4def5e4421.jpg" alt="image"><br><br>  Since I found myself not in this situation alone, I designed the <a href="https://github.com/nw-wind/BatteryTrainer">project on a githaba</a> so that others could also use it, and even put a beautiful scheme there by drawing it in <a href="http://easyeda.com/">easyeda.com</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f0b/28c/56a/f0b28c56a11485de85e54cfcbe4c8090.png" alt="image"><br><br>  Analog feet read voltage and current, the potentiometer divided the battery voltage by about three.  When the voltage drops below 10.8V, the charge is turned on, when the discharge exceeds 14.5V.  And so three times.  Then the battery was charged and the discharge was no longer turned on. <br><br><pre><code class="hljs css"><span class="hljs-selector-id"><span class="hljs-selector-id">#define</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">POWERPIN</span></span> 0 <span class="hljs-selector-id"><span class="hljs-selector-id">#define</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">AMPERPIN</span></span> 1 <span class="hljs-selector-id"><span class="hljs-selector-id">#define</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">LIMIT</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.8f</span></span> <span class="hljs-selector-id"><span class="hljs-selector-id">#define</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">UPLIMIT</span></span> 14<span class="hljs-selector-class"><span class="hljs-selector-class">.5f</span></span></code> </pre> <br>  The process was launched with the button or automatically after a full charge.  The dead of the batteries did not want to charge all the way and only warmed in vain.  I kicked him with the button several times, then the process went. <br><br>  There was an ammeter in the box, I used it to calculate the capacity of the battery when discharging.  During the cycle in the terminal was visible: <br><br><ul><li>  Current charge in Ah. </li><li>  Current discharge in Ah. </li><li>  Current in A. </li><li>  Voltage in V. </li></ul><br>  When switching the mode, respectively, the final Ah value was visible for the previous process.  The time spent on the cycle was also displayed. <br><br><div class="spoiler">  <b class="spoiler_title">Actually program copy-paste from githab</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-comment"><span class="hljs-comment">/* **    2 **    3 **      0 **     1 **      10.8 **       5 ** **    . **    /. **     10.8B   . */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* Todo:     .    --  . */</span></span> #define RELAYPIN <span class="hljs-number"><span class="hljs-number">2</span></span> #define BUTTONPIN <span class="hljs-number"><span class="hljs-number">3</span></span> #define POWERPIN <span class="hljs-number"><span class="hljs-number">0</span></span> #define AMPERPIN <span class="hljs-number"><span class="hljs-number">1</span></span> #define <span class="hljs-keyword"><span class="hljs-keyword">LIMIT</span></span> <span class="hljs-number"><span class="hljs-number">10.8</span></span>f #define UPLIMIT <span class="hljs-number"><span class="hljs-number">14.5</span></span>f #define BADPOWER <span class="hljs-number"><span class="hljs-number">5.0</span></span>f #define CIRCLES <span class="hljs-number"><span class="hljs-number">3</span></span> #define SWITCH_LAMP <span class="hljs-number"><span class="hljs-number">0</span></span> #define SWITCH_CHARGER <span class="hljs-number"><span class="hljs-number">1</span></span> //     #define TICKS (<span class="hljs-number"><span class="hljs-number">60</span></span>*<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-type"><span class="hljs-type">void</span></span> setup() { pinMode(RELAYPIN, OUTPUT); pinMode(BUTTONPIN, INPUT_PULLUP); digitalWrite(RELAYPIN, HIGH); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>(<span class="hljs-number"><span class="hljs-number">9600</span></span>); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("Start..."); } <span class="hljs-type"><span class="hljs-type">int</span></span> mode = SWITCH_CHARGER; <span class="hljs-type"><span class="hljs-type">int</span></span> pressed = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-type"><span class="hljs-type">int</span></span> tick = <span class="hljs-number"><span class="hljs-number">0</span></span>; unsigned long start = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-type"><span class="hljs-type">int</span></span> <span class="hljs-type"><span class="hljs-type">circle</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-type"><span class="hljs-type">float</span></span> chargeAh = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; unsigned long chargeMs = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-type"><span class="hljs-type">float</span></span> dischargeAh = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; unsigned long dischargeMs = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>() { //  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-type"><span class="hljs-type">circle</span></span> &gt; CIRCLES) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; //  . <span class="hljs-type"><span class="hljs-type">float</span></span> v = analogRead(POWERPIN) / <span class="hljs-number"><span class="hljs-number">1023.0</span></span>f * <span class="hljs-number"><span class="hljs-number">3.0</span></span>f * <span class="hljs-number"><span class="hljs-number">5.0</span></span>f; //   <span class="hljs-type"><span class="hljs-type">float</span></span> a = ((analogRead(AMPERPIN) * (<span class="hljs-number"><span class="hljs-number">5.0</span></span> / <span class="hljs-number"><span class="hljs-number">1024.0</span></span>)) - <span class="hljs-number"><span class="hljs-number">2.5</span></span>) / <span class="hljs-number"><span class="hljs-number">0.1</span></span>; // ,  -    . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v &gt; BADPOWER) { //  ,  . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mode == SWITCH_CHARGER) { chargeAh += a * (millis() - chargeMs) / <span class="hljs-number"><span class="hljs-number">3600000.0</span></span>; chargeMs = millis(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digitalRead(BUTTONPIN) == LOW || v &gt; UPLIMIT &amp;&amp; <span class="hljs-type"><span class="hljs-type">circle</span></span> &lt;= CIRCLES) { mode = SWITCH_LAMP; digitalWrite(RELAYPIN, LOW); //   . dischargeMs = millis(); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("Try "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println(<span class="hljs-type"><span class="hljs-type">circle</span></span>); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("Charge was "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(chargeAh); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("Ah"); dischargeAh = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("LETS LIGHT!"); delay(<span class="hljs-number"><span class="hljs-number">100</span></span>); pressed = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-type"><span class="hljs-type">circle</span></span>++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-type"><span class="hljs-type">circle</span></span> &gt; CIRCLES) <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("Thats enough!"); } } //  ,   . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mode == SWITCH_LAMP) { dischargeAh += a * (millis() - dischargeMs) / <span class="hljs-number"><span class="hljs-number">3600000.0</span></span>; dischargeMs = millis(); //    . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v &lt; <span class="hljs-keyword"><span class="hljs-keyword">LIMIT</span></span>) { mode = SWITCH_CHARGER; digitalWrite(RELAYPIN, HIGH); //   . start = millis(); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("TIME TO SUCK ELECTRICITY!"); unsigned long msec = millis() - <span class="hljs-keyword"><span class="hljs-keyword">start</span></span>; <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("Discharge time "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(msec / <span class="hljs-number"><span class="hljs-number">3600000</span></span>); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("h "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print((msec % <span class="hljs-number"><span class="hljs-number">3600000</span></span>) / <span class="hljs-number"><span class="hljs-number">60000</span></span>); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("m "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print((msec % <span class="hljs-number"><span class="hljs-number">60000</span></span>) / <span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("s "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println(); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("Appoximate capacity "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(<span class="hljs-number"><span class="hljs-number">55</span></span> / <span class="hljs-number"><span class="hljs-number">12</span></span>); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("Ah"); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("Disharge was "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(dischargeAh); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("Ah"); chargeAh = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; } //    . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pressed == <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; digitalRead(BUTTONPIN) == LOW) { mode = SWITCH_CHARGER; digitalWrite(RELAYPIN, HIGH); //   . chargeMs = millis(); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("SUCK THE ELECTRICITY!"); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print("Disharge was "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(-dischargeAh); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("Ah"); chargeAh = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-type"><span class="hljs-type">circle</span></span> &gt; CIRCLES) <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("LAST CHARGING!"); delay(<span class="hljs-number"><span class="hljs-number">100</span></span>); } } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("BAD POWER!"); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tick == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(" Disharge = "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(-dischargeAh); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(" Charge = "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(chargeAh); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(" Current = "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(a); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.print(" Voltage = "); <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println(v); } pressed = <span class="hljs-number"><span class="hljs-number">0</span></span>; tick = ++tick % TICKS; delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>); //   }</code> </pre><br></div></div><br>  I did not screw any displays, I watched the process from the terminal via usb / serial. <br><br>  As a result, both batteries came to life and showed decent amperes approximately corresponding to their nominal values, which was even surprising for their age. </div><p>Source: <a href="https://habr.com/ru/post/319414/">https://habr.com/ru/post/319414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319402/index.html">Windows: Sleep (0.5)</a></li>
<li><a href="../319404/index.html">Monitoring mac addresses on Cisco network device ports using snmp protocol</a></li>
<li><a href="../319406/index.html">Through thorns to the clouds: creating a cloud service for 3D design and design of premises based on the C3D and WebGL core</a></li>
<li><a href="../319408/index.html">How to become a product manager. Part 4 about Data Science and ASO</a></li>
<li><a href="../319410/index.html">Dynamic network traffic redirection</a></li>
<li><a href="../319416/index.html">Juniper firewall update unauthorized root access to devices</a></li>
<li><a href="../319418/index.html">How to create your file system based on blob fields in the database. Why is it convenient? Efficiency issues</a></li>
<li><a href="../319422/index.html">Cooking ORM, without departing from the plate. We generate SQL - query based on binary expression trees</a></li>
<li><a href="../319424/index.html">Graal and Truffle (Graal & Truffle)</a></li>
<li><a href="../319426/index.html">Who posted the 10 millionth comment? Secrets of numerology</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>